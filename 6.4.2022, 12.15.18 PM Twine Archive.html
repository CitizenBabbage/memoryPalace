<tw-storydata name="memory palace 1.0" startnode="1" creator="Twine" creator-version="2.3.12" ifid="8755C810-4887-4A5E-88B1-AB8B56EABA56" zoom="0.6" format="Harlowe" format-version="3.2.1" options="" hidden><style role="stylesheet" id="twine-user-stylesheet" type="text/twine-css"></style><script role="script" id="twine-user-script" type="text/twine-javascript">window.Harlowe = { 'State' : State };
window.processInputElements = function () {
    $('input[data-varname]').on('change', function () {
        var varName = $(this).attr('data-varname');
        Harlowe.State.variables[varName] = this.value;
        $("tw-story").css("height","100%");
				$("tw-story").css("background-repeat","no-repeat");	
    });
};


if (typeof window.CustomScripts == "undefined") {
	window.CustomScripts = {
		updateBackground(myBackground){
			// if it's always going to be cover, you can put it outside the if statement
			$("tw-story").css("background-size","contain");
			$("tw-story").css("background-repeat","no-repeat");					
			$("tw-story").css("background-position","center");	
			// check the functions parameter for which background image to use
			if(myBackground == 0) //century backgrounds take nos 0, 100, 200 etc.
			{
				$("tw-story").css("background-image","url(https://www.dropbox.com/s/v4xx3o3w11a0vql/cof2vTfnHtunnels.jpg?raw=1)");
			}
			else if(myBackground == -13) 
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/zmg7jk2/arches-Of-Notre-Dame.jpg)");
			}
			else if(myBackground == -12) // 
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/fkvzyZX/thugs.jpg)");
			}
			else if(myBackground == -11) // 
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/wKZ7YhN/thomas-Becket-Blinded.jpg)");
			}
			else if(myBackground == -10) // 
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/yVNS2QL/charlemagnes-Death.jpg)");
			}
			else if(myBackground == -9) // 
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/hyzKg9M/thomas-Becket-Window-Invert.jpg)");
			}
			else if(myBackground == -8) // 
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/Kw4PqNq/baby-Dragon.jpg)");
			}
			else if(myBackground == -7) // 
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/10Ss8Vp/eustace-Red.jpg)");
			}
			else if(myBackground == -6) // 
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/BK35wdS/treaty-Of-Winchester-Bloody.png)");
			}
			else if(myBackground == -5) // 
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/zPXS9fj/king2-Purple.jpg)");
			}
			else if(myBackground == -4) // 
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/yfz3mc2/Stephen-Blue.jpg)");
			}
			else if(myBackground == -3) // 
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/Lp6SFJ9/prince-Corpse.jpg)");
			}
			else if(myBackground == -2) // 
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/FwnDHCw/butcher2.jpg)");
			}
			else if(myBackground == -1) // 
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/08/b2/5a/08b25ac76c7c0c5571e0b98af8bd53f5.jpg)");
			}
			else if(myBackground == 1) // decade nos end in 1
			{
				$("tw-story").css("background-image","url(https://www.dropbox.com/s/qho1wdd3j3xalrx/mushrooms.jpeg?raw=1)");
			}
			else if(myBackground == 11)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/3b/a6/7c/3ba67c68c69aa5ff049e70af3e1398be.jpg)");
			}
			else if(myBackground == 21)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/hCsSZw0/CREATOR-gd-jpeg-v1-0-using-IJG-JPEG-v80-quality-80.jpg)");
			}
			else if(myBackground == 31)
			{
				$("tw-story").css("background-image","url(https://farm4.staticflickr.com/3881/14548118871_9a25db8f3b_k.jpg)");
			}
			else if(myBackground == 41)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/2c/6a/6d/2c6a6da05c9ba99228068306657fbf82.jpg)");
			}
			else if(myBackground == 51)
			{
				$("tw-story").css("background-image","url(https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/224cf4fa-33d8-4223-974d-67aecc72bd2c/d32esvm-fab667ec-f070-4610-baf7-d1f993c43768.jpg/v1/fill/w_800,h_600,q_75,strp/the_armory_by_rytango-d32esvm.jpg?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwic3ViIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsImF1ZCI6WyJ1cm46c2VydmljZTppbWFnZS5vcGVyYXRpb25zIl0sIm9iaiI6W1t7InBhdGgiOiIvZi8yMjRjZjRmYS0zM2Q4LTQyMjMtOTc0ZC02N2FlY2M3MmJkMmMvZDMyZXN2bS1mYWI2NjdlYy1mMDcwLTQ2MTAtYmFmNy1kMWY5OTNjNDM3NjguanBnIiwid2lkdGgiOiI8PTgwMCIsImhlaWdodCI6Ijw9NjAwIn1dXX0.eOpCwc84GDmV-LB1ltAyddWpeuwIVVH9qw4oPJeQbKM)");
			}
			else if(myBackground == 61)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/60/f9/69/60f969f538253f68ec5be1b5846a2568.jpg)");
			}
			else if(myBackground == 71)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/g9hVkhF/catacombs-Chapel4.jpg)");
			}
			else if(myBackground == 81)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/yf9SCJJ/leper-Colony2.jpg)");
			}
			else if(myBackground == 91)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/88/92/e1/8892e11f0ae9128001380264179ffd88.jpg)");
			}
			else if(myBackground == 100)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/4f/0b/88/4f0b88df6b723ffda1fb80629884521a.jpg)");
			}
			else if(myBackground == 101)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/5b/c7/19/5bc719f84cfc170ff0558702b2c97876.jpg)");
			}
			else if(myBackground == 111)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/84/77/ea/8477eac606801135e48e2208305f3914.jpg)");
			}
			else if(myBackground == 121)
			{
				$("tw-story").css("background-image","url(https://th.bing.com/th/id/Rde8b516f69680e4a2a7243c2ec81a701?rik=FLjo2Zvd6dVPyw&riu=http%3a%2f%2fimages4.wikia.nocookie.net%2f__cb20130419200553%2fspartacus%2fimages%2f5%2f59%2fSpartacus_Legends_Ludus_fight.png&ehk=YzsHyiOKeH38%2fusktTVJv%2beUid2DYSentQ23hcClX98%3d&risl=&pid=ImgRaw)");
			}
			else if(myBackground == 131)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/YW02YJF/temple-Of-Vesta.jpg)");
			}
			else if(myBackground == 141)
			{
				$("tw-story").css("background-image","url(https://www.thesimsresource.com/scaled/2599/w-800h-600-2599642.jpg)");
			}
			else if(myBackground == 151)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/6a/7f/c1/6a7fc16f23671dc5bd0bed4c462eccc4.jpg)");
			}
			else if(myBackground == 161)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/0F4cX5y/roman-Slave-Marke5.jpg)");
			}
			else if(myBackground == 171)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/736x/d2/e4/c1/d2e4c197c68fe2cb4d2e7de5f4143e2b.jpg)");
			}
			else if(myBackground == 181)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/b4/39/a8/b439a87560b02424c656b1120e29740d.jpg)");
			}
			else if(myBackground == 191)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/4c/ae/c0/4caec06d6814e915a3c32affa4123800.jpg)");
			}
			else if(myBackground == 200)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/QP3FV3P/forbidden-City.jpg)");
			}
			else if(myBackground == 201)
			{
				$("tw-story").css("background-image","url(https://th.bing.com/th/id/R2cae1fcbbabcb57451c68fc47571a351?rik=leu7YgYWctPMsg&riu=http%3a%2f%2faidanmoher.com%2fblog%2fwp-content%2fuploads%2f2014%2f07%2ftwilight_garden_by_alextooth-d5t47sa.jpg&ehk=3knU%2fwpIey%2b%2bQT8LlaYoJrnuJ36TOKBVgzJHM3SAHtA%3d&risl=&pid=ImgRaw)");
			}
			else if(myBackground == 211)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/5f/00/3f/5f003fc16b10572cfe4c34c313beec70.jpg)");
			}
			else if(myBackground == 221)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/9c/99/54/9c9954bc49514aafb47624cbb3c2a993.jpg)");
			}
			else if(myBackground == 231)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/9c/85/32/9c853217e910c978b24ed75ac63e923f.jpg)");
			}
			else if(myBackground == 241)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/67/f0/8b/67f08bbc42a27c9da1011532332c1fe5.jpg)");
			}
			else if(myBackground == 251)
			{
				$("tw-story").css("background-image","url(https://gcdn.daz3d.com/p/56851/i/chinese-temple-gate-05-daz3d.jpg)");
			}
			else if(myBackground == 261)
			{
				$("tw-story").css("background-image","url(https://gcdn.daz3d.com/p/63811/i/china-houses-04-daz3d.jpg)");
			}
			else if(myBackground == 271)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/14/10/2a/14102a474694c64c8f3779901390effc.jpg)");
			}
			else if(myBackground == 281)
			{
				$("tw-story").css("background-image","url(https://c4.wallpaperflare.com/wallpaper/49/579/585/jungle-fantasy-art-asian-architecture-artwork-wallpaper-preview.jpg)");
			}
			else if(myBackground == 291)
			{
				$("tw-story").css("background-image","url(https://c4.wallpaperflare.com/wallpaper/672/517/150/nature-digital-art-water-artwork-wallpaper-preview.jpg)");
			}
			else if(myBackground == 300)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/1a/b3/ef/1ab3ef0450478c4305701a2361add0a1.jpg)");
			}
			else if(myBackground == 301)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/BGgLGn6/farm.png)");
			}
			else if(myBackground == 311)
			{
				$("tw-story").css("background-image","url(https://farm4.staticflickr.com/3385/3496684667_b8f76dc6c1_z.jpg)");
			}
			else if(myBackground == 321)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/32/13/9d/32139df326afc0e39257f8494d345830.jpg)");
			}	
			else if(myBackground == 331)
			{
				$("tw-story").css("background-image","url(			https://i.pinimg.com/originals/a9/ed/9e/a9ed9efa3644d7d499d97e07395a55c6.jpg)");
			}
			else if(myBackground == 341)
			{
				$("tw-story").css("background-image","url(			https://i.pinimg.com/originals/42/ef/59/42ef592a42eb7cb19dfbadb818d73b3e.jpg)");
			}	
			else if(myBackground == 351)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/af/ea/b4/afeab4b55f09b86fd10b5cb7eeb1da14.jpg)");
			}
			else if(myBackground == 361)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/crJ8skB/under-Ground-Mine.jpg)");
			}
			else if(myBackground == 371)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/q09vQgb/The-Hedge-Maze.jpg)");
			}
			else if(myBackground == 381)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/YD4Gczm/st-John-The-Forerunner.jpg)");
			}
			else if(myBackground == 391)
			{
				$("tw-story").css("background-image","url(https://cdn.staticneo.com/n/1/hellraidtease.jpg)");
			}	
			else if(myBackground == 400)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/mqnHtMw/romeRuin.jpg)");
			}		
			else if(myBackground == 401)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/69/b6/28/69b6284a11d4bb26dabb4b5b181eeac6.jpg)");
			}
			else if(myBackground == 411)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/6HTWp0p/circus.jpg)");
			}
			else if(myBackground == 421)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/cc/a4/3f/cca43f0d9a53e1df81cda400000101dd.jpg)");
			}
			else if(myBackground == 431)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/33/33/b9/3333b98d98b9445d71b78a6b284cfe99.jpg)");
			}
			else if(myBackground == 441)
			{
				$("tw-story").css("background-image","url(https://cdna.artstation.com/p/assets/images/images/002/303/018/large/dongmin-shin-templar-ruinedtown-wip9.jpg?1459996240)");
			}	
			else if(myBackground == 451)
			{
				$("tw-story").css("background-image","url(https://www.wallpaperup.com/uploads/wallpapers/2013/07/20/120965/89b86219a5d4290deb3ff8c0da5b1a36.jpg)");
			}
			else if(myBackground == 461)
			{
				$("tw-story").css("background-image","url(https://i2-prod.mirror.co.uk/incoming/article5552145.ece/ALTERNATES/s1227b/PAY-Holmesburg-Prison.jpg)");
			}
			else if(myBackground == 471)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/ngYfvzq/garden.jpg)");
			}
			else if(myBackground == 481)
			{
				$("tw-story").css("background-image","url(https://cdna.artstation.com/p/assets/images/images/000/119/916/large/klaus-wittmann-asylum22.jpg?1443927398)");
			}
			else if(myBackground == 491)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/MZhYCtM/deathPit.jpg)");
			}
			else if(myBackground == 500)
			{
				$("tw-story").css("background-image","url(https://3.bp.blogspot.com/-79MN6Y6He4s/VHdEsATzIGI/AAAAAAADkaM/kQwDbXhJiLg/s1600/David%2BJermann-www.kaifineart.com-3.jpg)");
			}
			else if(myBackground == 501)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/f9pKJcb/enchanted-Wood2.jpg)");
			}	
			else if(myBackground == 511)
			{
				$("tw-story").css("background-image","url(http://coolvibe.com/wp-content/uploads/2012/08/2D-Art-Marcel-Mercado-Joust.jpg)");
			}	
			else if(myBackground == 521)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/68/7c/00/687c000923c080f9dc0c5e1c3cd0d0fa.jpg)");
			}				
			else if(myBackground == 531)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/1bZykJc/lake-by-glooh2.jpg)");
			}	
			else if(myBackground == 541)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/3d/c5/5d/3dc55d3812b254ac0c046f2eac668d91.jpg)");
			}	
			else if(myBackground == 551)
			{
				$("tw-story").css("background-image","url(https://images8.alphacoders.com/911/911883.jpg)");
			}	
			else if(myBackground == 561)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/f5/3e/3e/f53e3eb5bdd368ca60a01f157dc101d7.jpg)");
			}			
			else if(myBackground == 571)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/b2/67/39/b26739e37de690d1f43a6879cc5310f9.jpg)");
			}		
			else if(myBackground == 581)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/e2/53/5b/e2535b15f700f58515d548d7dd2aed27.jpg)");
			}				
			else if(myBackground == 591)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/KDCTZB2/plague-Barrow.jpg)");
			}	
			else if(myBackground == 600)
			{
				$("tw-story").css("background-image","url(http://vignette3.wikia.nocookie.net/assassinscreed/images/b/b8/Damascus-depth.jpg/revision/latest?cb=20100918105609)");
			}	
			else if(myBackground == 601)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/f1/20/1b/f1201baf2cec354672609d02d7ad4302.jpg)");
			}	
			else if(myBackground == 611)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/1dvz7wZ/hashish-Den4.jpg)");
			}
			else if(myBackground == 621)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/e9/2c/4c/e92c4caa1d93e7e015875de38ba6a16f.jpg)");
			}
			else if(myBackground == 631)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/69/9b/77/699b77b9295494ee80e77b84b98c0f7d.jpg)");
			}	
			else if(myBackground == 641)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/X29k7Xs/bazaar.jpg)");
			}	
			else if(myBackground == 651)
			{
				$("tw-story").css("background-image","url(https://static.thousandwonders.net/Citadel.of.Aleppo.original.36222.jpg)");
			}
			else if(myBackground == 661)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/2a/a6/a9/2aa6a900e767e36825a32d0a90d8b461.jpg)");
			}
			else if(myBackground == 671)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/a1/04/08/a10408cce174ca470a2341ad74755010.jpg)");
			}
			else if(myBackground == 681)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/3e/9c/40/3e9c40a4b3bd04ed44f843d22363ab48.jpg)");
			}
			else if(myBackground == 691)
			{
				$("tw-story").css("background-image","url(https://aidanmoher.com/blog/wp-content/uploads/2014/07/desert_village_by_crs1009-d5zij53.jpg)");
			}
			else if(myBackground == 700)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/9Hyc6dz/gothic-Street.png)");
			}
			else if(myBackground == 701)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/hVYjhGq/CREATOR-gd-jpeg-v1-0-using-IJG-JPEG-v80-quality-90.jpg)");
			}
			else if(myBackground == 711)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/cxY4RWS/thermae.jpg)");
			}
			else if(myBackground == 721)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/dmRYrMT/holy-Library3.jpg)");
			}
			else if(myBackground == 731)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/WtZTyLJ/gynaceum2.jpg)");
			}
			else if(myBackground == 741)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/24/e7/26/24e726a009e9c0905cbaf1ed8772caf1.jpg)");
			}
			else if(myBackground == 751)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/1rbyYTq/barracks4.png)");
			}
			else if(myBackground == 761)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/c7/60/28/c76028bc15bd6698b329980f7470cf49.jpg)");
			}
			else if(myBackground == 771)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/6c/25/76/6c2576e3bc81bc621c99980232d5c689.jpg)");
			}
			else if(myBackground == 781)
			{
				$("tw-story").css("background-image","url(https://uploads6.wikiart.org/images/francisco-goya/plague-hospital-1800.jpg!Large.jpg)");
			}
			else if(myBackground == 791)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/25/ee/e0/25eee032d448a0eec4b745e5a7a56aa8.jpg)");
			}
			else if(myBackground == 800)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/6c/fe/8c/6cfe8c56f9c18de0e14e98c531cde07a.jpg)");
			}
			else if(myBackground == 801)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/yWhgVjT/swamp4.jpg)");
			}		
			else if(myBackground == 811)
			{
				$("tw-story").css("background-image","url(https://jkroots.com/wp-content/uploads/2017/08/MysticPondPrint-scaled.jpg)");
			}	
			else if(myBackground == 821)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/6b9LMjn/flooded-Library.png)");
			}			
			else if(myBackground == 831)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/fa/6c/fd/fa6cfd32e3239cdf71f5331a95a9746b.jpg)");
			}	
			else if(myBackground == 841)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/ea/e1/65/eae16566315c05e3c623e4c3c7c06862.jpg)");
			}	
			else if(myBackground == 851)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/bm5QH4c/sunken-Castle2.jpg)");
			}	
			else if(myBackground == 861)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/Tg6YH9v/pit-trap.jpg)");
			}				
			else if(myBackground == 871)
			{
				$("tw-story").css("background-image","url(https://www.wallpaperflare.com/static/208/667/589/church-fantasy-art-birds-artwork-wallpaper.jpg)");
			}			
			else if(myBackground == 881)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/37/00/be/3700be067e2732b411d950946ea44a4a.jpg)");
			}	
			else if(myBackground == 891)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/95/16/cf/9516cf9c7a517d5980c3453c1544617e.jpg)");
			}	
			else if(myBackground == 900)
			{
				$("tw-story").css("background-image","url(https://www.tfw2005.com/boards/attachments/james-paick-e-nazihq-20160503-wip-v6-jpaick-jpg.27755109/)");
			}		
			else if(myBackground == 901)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/da/5a/2c/da5a2ca8a224e52b14e10db82a280bff.jpg");
			}
			else if(myBackground == 911)
			{
				$("tw-story").css("background-image","url(https://th.bing.com/th/id/R.d2eeafba8c707986349e8deab24dc0ce?rik=GEWQecIHPeqzrg&riu=http%3a%2f%2fimg12.deviantart.net%2fcffe%2fi%2f2015%2f061%2f1%2fb%2fnazi_future_racing_1_by_heavytransit-d8k6966.jpg&ehk=0DxZbmpxcUQabWysj1CxFL%2f4U3EFAsYG4kMOSb3uXzs%3d&risl=&pid=ImgRaw&r=0)");
			}		
			else if(myBackground == 921)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/db0RsT8/snow-Troopers.jpg");
			}	
			else if(myBackground == 931)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/3NLznZc/convent.png)");
			}
			else if(myBackground == 941)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/vYhnyQZ/nazi-skyscraper.jpg");
			}
			else if(myBackground == 951)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/378VjDC/nazi-Court2.jpg)");
			}
			else if(myBackground == 961)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/wSHvdT9/camp.jpg)");
			}
			else if(myBackground == 971)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/6XVbmG4/cathedral.jpg)");
			}
			else if(myBackground == 981)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/736x/d4/ef/aa/d4efaa62a2ca4706ce8245148c137903--space-lab-sci-fi-environment.jpg)");
			}
			else if(myBackground == 991)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/mhYWKTX/belsen.jpg)");
			}
			else if(myBackground == 1000)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/DQkNrW7/pilgrims-Trail.jpg)");
			}
			else if(myBackground == 1001)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/BqZyxTX/st-Nicolas.jpg)");
			}
			else if(myBackground == 1011)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/R4kJzyb/st-Teresa-Of-Avila.jpg)");
			}
			else if(myBackground == 1021)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/QPFc64g/st-Albertus-Maximus.jpg)");
			}
			else if(myBackground == 1031)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/4PfQXty/magdalene5.jpg)");
			}
			else if(myBackground == 1041)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/dWXxXbr/homobonus.jpg)");
			}
			else if(myBackground == 1051)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/fdkMXJQ/adrian.jpg)");
			}
			else if(myBackground == 1061)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/thDKRxq/st-Leonard2.jpg)");
			}
			else if(myBackground == 1071)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/M8Nbr1Z/alternate0.jpg)");
			}
			else if(myBackground == 1081)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/4J59P6M/stPhocas.jpg)");
			}
			else if(myBackground == 1091)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/q7T8Rt4/stJoseph.jpg)");
			}
						else if(myBackground == 1100)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/smKnV4H/forest.jpg)");
			}
						else if(myBackground == 1101)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/Ydny0bF/rufus.jpg)");
			}
						else if(myBackground == 1111)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/e1/d8/29/e1d829d8e27c1abb7f96c0963ace5448.jpg)");
			}
						else if(myBackground == 1121)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/tDHmywn/Templars-gathering.jpg)");
			}
						else if(myBackground == 1131)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/cb/06/5c/cb065c9a70c70d8025fbb6521cf9f4b5.jpg)");
			}
						else if(myBackground == 1132)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/x8g9Fsh/kings-Lynn.jpg)");
			}
			else if(myBackground == 1133)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/dL267Bm/la-Rochelle.jpg)");
			}
						else if(myBackground == 1134)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/kXJt9d4/sailing.jpg)");
			}
						else if(myBackground == 1135)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/NW3MZTw/high-Cliffs.jpg)");
			}
						else if(myBackground == 1141)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/85/c4/63/85c463290b20c10ecf25e86a8778921e.jpg)");
			}
						else if(myBackground == 1151)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/d1/f9/f6/d1f9f6da0f13f78af4e53fb9b4bd0639.jpg)");
			}
						else if(myBackground == 1161)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/58/86/96/588696aa555c578e99d44a75d0bf4172.jpg)");
			}
						else if(myBackground == 1171)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/XxzSJxp/canterbury2.jpg)");
			}
						else if(myBackground == 1181)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/33/24/bc/3324bc30dc9c7902ce768d49febb1bc2.jpg)");
			}
						else if(myBackground == 1191)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/FDwV42T/ship-Wreck.jpg)");
			}			
						else if(myBackground == 1200)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/d71Wcy1/steppe.jpg)");
			}
									else if(myBackground == 1201)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/L1XyfqN/after-Flood3.jpg)");
			}
									else if(myBackground == 1211)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/BwPjCVP/festival.jpg)");
			}
									else if(myBackground == 1221)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/DtZp1Dn/polos-Quarters.jpg)");
			}
									else if(myBackground == 1231)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/B4W3c8C/women-City-Final.png)");
			}
									else if(myBackground == 1241)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/3dVJPLL/mongols-Moving.jpg)");
			}
									else if(myBackground == 1251)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/K02xW4b/civil-War2.jpg)");
			}
									else if(myBackground == 1261)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/FmfB7zf/kiev5.jpg)");
			}
									else if(myBackground == 1271)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/JnpvjDB/khan-Tengri.jpg)");
			}
									else if(myBackground == 1281)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/bNxhZ3X/wrecked-Fleet2.jpg)");
			}
									else if(myBackground == 1282)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/yXF5qV6/beach.jpg)");
			}
									else if(myBackground == 1283)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/JWZRNM3/CREATOR-gd-jpeg-v1-0-using-IJG-JPEG-v80-quality-90.jpg)");
			}			
									else if(myBackground == 1291)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/XsFW0kg/burning-City.jpg)");
			}
									else if(myBackground == 1292)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/bRff5V1/beautiful-Middle-Eastern-City.jpg)");
			}
									else if(myBackground == 1293)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/M5V6q84/CREATOR-gd-jpeg-v1-0-using-IJG-JPEG-v62-quality-90.jpg)");
			}
									else if(myBackground == 1294)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/fQNRpqB/burning-Gates.jpg)");
			}
									else if(myBackground == 1300)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/ZffKypZ/plague-Swamps.jpg)");
			}
									else if(myBackground == 1301)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/wCMRF0W/manor3.jpg)");
			}
									else if(myBackground == 1311)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/zR8jK9h/fairy-Castle3.jpg)");
			}
									else if(myBackground == 1321)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/bHwYN2B/wiitch.jpg)");
			}
									else if(myBackground == 1331)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/DwP9sTy/tentCamp.jpg)");
			}
									else if(myBackground == 1341)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/sCjPVzW/village-Life.jpg)");
			}
									else if(myBackground == 1351)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/MhCbQ61/Schiltron.png)");
			}
									else if(myBackground == 1361)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/W287qzg/prison-Cellar.png)");
			}
									else if(myBackground == 1371)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/QcS7C6s/wycliffe3.jpg)");
			}
									else if(myBackground == 1381)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/4W4r6Y1/wallup-net.jpg)");
			}
									else if(myBackground == 1391)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/5sC5W6C/hanging-Bodies.jpg)");
			}
			else if(myBackground == 1400)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/bvCrvx9/shipPOV6.png)");
			}	
			else if(myBackground == 1400.1)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/Zm1FTqj/narrowstraits.jpg)");
			}	
			else if(myBackground == 1401)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/sQ4rVkX/island2.jpg)");
			}	
			else if(myBackground == 1411)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/8M37Vcr/bearPits.jpg)");
			}	
			else if(myBackground == 1412)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/2PJrvHf/medieval-Port3.jpg)");
			}	
			else if(myBackground == 1421)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/VS73Qj4/renaissance-Street3.jpg)");
			}		
			else if(myBackground == 1422)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/LPG2fw0/renaissance-Port3.jpg)");
			}	
			else if(myBackground == 1431)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/6ZDwZZz/siege-Camp.jpg)");
			}	
			else if(myBackground == 1432)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/Snwxrfm/sailing-To-Orleans.jpg)");
			}	
			else if(myBackground == 1441)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/ssWNSGg/alexander-skold-alexander-skold-aztec-empire-1.jpg)");
			}	
			else if(myBackground == 1442)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/y6PmmV1/sailing-Upriver3.jpg)");
			}	
			else if(myBackground == 1451)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/H7zSzwK/sieged-City3.jpg)");
			}	
						else if(myBackground == 1452)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/tqBPV0N/sailing-Up-River6.jpg)");
			}	
			else if(myBackground == 1461)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/c7/21/d9/c721d9fc92848c2419b43c670a25f15f.jpg)");
			}		
			else if(myBackground == 1462)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/R0yLRQR/london-Port3.jpg)");
			}	
			else if(myBackground == 1471)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/9gdQzqF/cathedral.jpg)");
			}			
			else if(myBackground == 1481)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/QKnCzFy/torture-Hall.jpg)");
			}	
			else if(myBackground == 1482)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/Zz0GkGZ/spanish-Port.jpg)");
			}				
			else if(myBackground == 1491)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/60792FM/impaled-Fields.jpg)");
			}	
			else if(myBackground == 1492)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/cw1xwgL/sailing-Up-River5.jpg)");
			}	
			else if(myBackground == 1500)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/ZWC2p0n/square.jpg)");
			}	
			else if(myBackground == 1501)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/445wrpF/potato-Farm.jpg)");
			}	
			else if(myBackground == 1502)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/5946mkG/top-Middle.jpg)");
			}		
			else if(myBackground == 1503)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/Tbn13XH/lane2.jpg)");
			}		
			else if(myBackground == 1504)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/DLBHF6d/street-Four-Fifths-Up.jpg)");
			}	
			else if(myBackground == 1505)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/sWL9KF8/street-Three-Fifths-Up.jpg)");
			}		
			else if(myBackground == 1506)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/vh7qVXg/street11.jpg)");
			}	
			else if(myBackground == 1507)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/tXqrtwZ/docks-Dark.jpg)");
			}	
			else if(myBackground == 1508)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/4FZ54gW/street-Two-Fifths-Up.png)");
			}			
			else if(myBackground == 1509)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/Zmhqvbk/street-bottom.jpg)");
			}	
			else if(myBackground == 1510)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/bXxzFfK/street14-michal-salata-enviro-concept02.jpg)");
			}	
			else if(myBackground == 1511)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/1JG1gwr/peasants-bowling-in-a-village-street.jpg)");
			}		
			else if(myBackground == 1521)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/6tWhKcQ/staple-Inn.jpg)");
			}	
			else if(myBackground == 1531)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/f1jWdLy/dockside.jpg)");
			}		
			else if(myBackground == 1532)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/7VxDPNC/coldboat.jpg)");
			}	
			else if(myBackground == 1533)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/syN4wSw/cold-Antwerp.jpg)");
			}		
			else if(myBackground == 1534)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/x6ZQL2n/convent.jpg)");
			}				
			else if(myBackground == 1541)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/P57SMct/mores-House.jpg)");
			}		
			else if(myBackground == 1551)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/pPy3MRH/armadainvencible.jpg)");
			}			
			else if(myBackground == 1561)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/2Zq3VMZ/maryQoS.jpg)");
			}		
			else if(myBackground == 1571)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/v1dmNS2/chingle-Hall2.jpg)");
			}		
			else if(myBackground == 1581)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/S5f7L3j/broken-Statues.jpg)");
			}			
			else if(myBackground == 1591)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/RD8GQZh/Burning-at-the-Stake.jpg)");
			}	
			else if(myBackground == 1691)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/fDdcgbj/cliffside-Church.jpg)");
			}
			else if(myBackground == 17001)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/zJwJC51/street1.jpg)");
			}				
			else if(myBackground == 17002)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/XF89Y3V/street2.jpg)");
			}	
			else if(myBackground == 17003)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/2vHdqpH/street6.jpg)");
			}
			else if(myBackground == 17004)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/XZm40wN/sienne.jpg)");
			}	
			else if(myBackground == 17005)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/x8f44KX/street5.jpg)");
			}	
			else if(myBackground == 17006)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/QYrjRJt/street8.jpg)");
			}	
			else if(myBackground == 17007)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/4RRZD1d/street3.jpg)");
			}			
			else if(myBackground == 17009)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/Ypw7zH2/bastille4.jpg)");
			}	
			else if(myBackground == 1701)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/SXQvgbX/farm2.jpg)");
			}
			else if(myBackground == 1711)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/C8h6Pxz/tuileries2.jpg)");
			}
			else if(myBackground == 1721)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/p4FT5xr/jacobin2.jpg)");
			}
			else if(myBackground == 1731)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/3m8nStP/La-Conciergerie-5.jpg)");
			}
			else if(myBackground == 1741)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/qCpwF6L/cafe2.jpg)");
			}
			else if(myBackground == 17500)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/tzsCd40/0ruined-market.jpg)");
			}
			else if(myBackground == 17501)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/PmXs1vP/barricade-Boulevard.jpg)");
			}
			else if(myBackground == 17502)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/swZWQt1/barricaded-Alley.jpg)");
			}
			else if(myBackground == 17503)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/d0yDRB2/barricaded-Junction.jpg)");
			}
			else if(myBackground == 17504)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/6yYjsmv/barricaded-Square.jpg)");
			}
			else if(myBackground == 17505)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/jgs3L0h/fighting-On-Barricade.jpg)");
			}
			else if(myBackground == 17506)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/7z2VGcf/lunching-Barricade.jpg)");
			}
			else if(myBackground == 17507)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/61sRvrh/barricaded-Government.jpg)");
			}	
			else if(myBackground == 17508)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/MkJH8tW/street-March.jpg)");
			}	
			else if(myBackground == 17509)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/nzcCNhV/relative-Peace.jpg)");
			}	
			else if(myBackground == 17510)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/JRZhwNh/river.jpg)");
			}	
			else if(myBackground == 17511)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/T4KdZ8g/bastille5.jpg)");
			}	
			else if(myBackground == 17512)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/DCmqwMx/bastille-Ruined.jpg)");
			}				
			else if(myBackground == 1751)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/TbhfNkL/festival2.jpg)");
			}
			else if(myBackground == 1752)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/LCPqBqm/1street-Party.jpg)");
			}
			else if(myBackground == 1752)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/9NyNQHH/2burning-Paper.jpg)");
			}
			else if(myBackground == 1753)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/sJSHYpS/3womens-March.png)");
			}
			else if(myBackground == 1754)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/WBYwsJc/4invaded-House.jpg)");
			}
			else if(myBackground == 1755)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/h2zdbDj/5street-War.jpg)");
			}
			else if(myBackground == 1756)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/t8v0F6t/6-Bastille.jpg)");
			}	
			else if(myBackground == 1757)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/VmPLGq4/7burnng-Church.png)");
			}	
			else if(myBackground == 1758)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/LkhbW1r/8street12.jpg)");
			}		
			else if(myBackground == 1759)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/n1yYmRm/9horse-Corpse.jpg)");
			}	
			else if(myBackground == 1761)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/p4yJ7kY/tour-Du-Temple.jpg)");
			}				
			else if(myBackground == 1771)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/dWvwPht/notre-dame-nave.jpg)");
			}
			else if(myBackground == 1781)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/mFfYwYX/bastille-Ruins.jpg)");
			}	
			else if(myBackground == 17801)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/RQyDHDS/bastille-Whole.jpg)");
			}	
			else if(myBackground == 17901)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/KwXyXty/guillotine-Right-Up.jpg)");
			}
			else if(myBackground == 17902)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/85dFdGv/opposite-Notre-Dame.jpg)");
			}
			else if(myBackground == 17903)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/cY4Zrjr/View-From-Above.jpg)");
			}
			else if(myBackground == 1791)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/ZMHDc00/1market-Guillotiine.jpg)");
			}
			else if(myBackground == 1792)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/QYBPGD5/2guillotine-Top-Of-College.jpg)");
			}
			else if(myBackground == 17920)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/GQYVzpL/2college-Arches.jpg)");
			}
			else if(myBackground == 1793)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/PCFQq29/3-Carmelites.jpg)");
			}		
			else if(myBackground == 1794)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/JCbhrFc/4guillotine-View-From-House.jpg)");
			}		
			else if(myBackground == 1795)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/qpGkfQN/5guards-Defend-Guillotine.jpg)");
			}	
			else if(myBackground == 1796)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/wsGpFzg/6guillotine-About-To-Die.jpg)");
			}		
			else if(myBackground == 1797)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/vJBxCpt/7-Notre-Dame-Roof.jpg)");
			}				
			else if(myBackground == 1798)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/pQqKr14/8guillotined-heads.jpg)");
			}
			else if(myBackground == 1799)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/kQbdLfZ/9guillotine-By-Body.jpg)");
			}			
			else if(myBackground == 1800)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/gmfsyTx/skyline.jpg)");
			}	
			else if(myBackground == 1801)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/rvKzq2m/hospital.jpg)");
			}	
			else if(myBackground == 1802)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/3vZ9dQf/dockside.jpg)");
			}	
			else if(myBackground == 1803)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/QkPK2TV/along-The-Thames.jpg)");
			}	
			else if(myBackground == 1804)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/YRF1D9F/street.jpg)");
			}
			else if(myBackground == 1805)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/n81Qxfr/alley2.jpg)");
			}
			else if(myBackground == 1806)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/0tZG1HW/alley.jpg)");
			}	
			else if(myBackground == 1807)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/3CbXzzc/downtown.jpg)");
			}	
			else if(myBackground == 1808)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/3FxNMbN/whitechapel3.jpg)");
			}		
			else if(myBackground == 1809)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/M9j9HG8/street2.jpg)");
			}	
			else if(myBackground == 1810)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/gM75JFk/st-pauls.png)");
			}	
			else if(myBackground == 1811)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/nBKwvxk/workhouse2.jpg)");
			}
			else if(myBackground == 1812)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/wZmt8RQ/culDeSac.jpg)");
			}
			else if(myBackground == 1821)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/hV9p9JY/bakerSt4.png)");
			}
		else if(myBackground == 1831)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/J7wqqLt/white-Chapel4.jpg)");
			}
			else if(myBackground == 1841)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/7kBnXYT/staircase.jpg)");
			}			
			else if(myBackground == 1842)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/dtL95r6/Kenway-Mansion-NIGHT.jpg)");
			}	
			else if(myBackground == 1851)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/Gt566nk/fighting.jpg)");
			}	
			else if(myBackground == 1861)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/X4HdtrX/newgate.png)");
			}	
			else if(myBackground == 1871)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/F8pg94y/crowleys-Temple.jpg)");
			}	
			else if(myBackground == 1872)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/4VJKDFc/fleetSt.jpg)");
			}	
			else if(myBackground == 1873)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/Yb3ycLH/house.jpg)");
			}
			else if(myBackground == 1881)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/Z8cHB4f/rutledge-asylum-sane-by-spicyhorseofficial-d4ikmud.jpg)");
			}	
			else if(myBackground == 1891)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/F3St1NG/vaults.jpg)");
			}	
			else if(myBackground == 1901)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/DLvPtqL/soviet-Farm2.jpg)");
			}	
			else if(myBackground == 19001)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/PxyG612/railway.jpg)");
			}
			else if(myBackground == 19002)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/qsHHq1r/under-Bridge-Toon.png)");
			}		
			else if(myBackground == 19003)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/sFZKq8K/tracks-Toon.jpg)");
			}			
			else if(myBackground == 19004)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/kgrfn46/diesel-Punk2.jpg)");
			}
			else if(myBackground == 19005)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/ypSWL1N/trash-Toon.png)");
			}			
			else if(myBackground == 19006)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/DYHqXNX/green.jpg)");
			}	
			else if(myBackground == 19007)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/jGTqhGL/metro.jpg)");
			}			
			else if(myBackground == 19008)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/F8qSqVL/oldStyle.png)");
			}	
			else if(myBackground == 19009)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/bmCqc2G/rails.jpg)");
			}	
			else if(myBackground == 19010)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/GtmCtV5/train3.jpg)");
			}				
			else if(myBackground == 1911)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/kJGY7Rv/olympics2.jpg)");
			}		
			else if(myBackground == 19101)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/VJt3Jt3/railFarm.jpg)");
			}				
			else if(myBackground == 1921)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/RHhs9Dz/kgb-Archive.jpg)");
			}	
			else if(myBackground == 19201)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/Tq8d2FJ/kgb-building-Toon.jpg)");
			}	
				else if(myBackground == 1931)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/DG9L9P3/rabotnitsa.jpg)");
			}		
				else if(myBackground == 1941)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/RyJjdjM/kremlin2.jpg)");
			}	
				else if(myBackground == 1951)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/d2rq3hQ/afghn2.jpg)");
			}	
				else if(myBackground == 19501)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/M8mhng5/big-City-Station.jpg)");
			}	
				else if(myBackground == 19502)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/bvV178T/exiting-City.jpg)");
			}			
				else if(myBackground == 19503)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/XztD88Q/siberia2.jpg)");
			}	
				else if(myBackground == 19504)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/B4VNyxK/siberian-Stopped.jpg)");
			}	
				else if(myBackground == 19505)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/DbTzQPY/siberia3.jpg)");
			}	
				else if(myBackground == 19506)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/xm8ZJY1/siberia4.jpg)");
			}	
				else if(myBackground == 19507)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/h9sbfTf/on-The-Train.jpg)");
			}	
				else if(myBackground == 195081)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/RGFVzzk/desert2c.jpg)");
			}	
				else if(myBackground == 19508)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/crBZjj6/train-Afghan.jpg)");
			}	
				else if(myBackground == 19509)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/TgY43yT/afghan-Train3.jpg)");
			}				
				else if(myBackground == 1961)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/Ycd0cL8/siberian-Station.jpg)");
			}	
			else if(myBackground == 19601)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/kJBYmDq/gulag2.jpg)");
			}	
			else if(myBackground == 1971)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/t2cPVjB/st-Basils2.jpg)");
			}	
				else if(myBackground == 1981)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/BGpbYgV/railway-Berliin-Art2.jpg)");
			}	
				else if(myBackground == 19800)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/7RDZdbV/0-babies.jpg)");
			}				
				else if(myBackground == 19801)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/MZpRtvF/1-bar.jpg)");
			}				
				else if(myBackground == 19802)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/xjW80vZ/2-listening-post.jpg)");
			}	
				else if(myBackground == 19803)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/f11sXs6/3-checkpoint4.jpg)");
			}		
				else if(myBackground == 198041)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/fV37dr7/4-bunker3.jpg)");
			}	
					else if(myBackground == 19804)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/DDNdGV0/4a-abovebunker.jpg)");
			}		
				else if(myBackground == 19805)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/VpF8xKH/5-guardtower.jpg)");
			}	
				else if(myBackground == 198051)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/ymTFvW0/5-view-From-Tower-With-Snow.jpg)");
			}	
				else if(myBackground == 19806)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/S0YF1G2/6-detention5.jpg)");
			}			
				else if(myBackground == 19807)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/TRMQDSR/7-church.jpg)");
			}		
				else if(myBackground == 19808)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/yymNj0Q/8-breach.jpg)");
			}	
				else if(myBackground == 19809)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/dL2T65g/9-sophien-cemetery3.jpg)");
			}				
				else if(myBackground == 1991)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/xFbmSsk/chernobyl1.jpg)");
			}		
			else if(myBackground == 19900)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/5YHSHnC/maternity6.jpg)");
			}	
			else if(myBackground == 19901)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/Wn0SjfX/ferris-Wheel2.jpg)");
			}	
			else if(myBackground == 19902)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/nzjBmxp/school4.jpg)");
			}		
			else if(myBackground == 19903)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/0XHYvH0/office2.jpg)");
			}
			else if(myBackground == 19904)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/XCMFTck/mall2.jpg)");
			}	
			else if(myBackground == 19905)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/Kj7KGTc/magazine.jpg)");
			}	
			else if(myBackground == 19906)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/s12zw02/quarantine-zone-last-of-us-naughty-dog-1600x774-marked.jpg)");
			}		
						else if(myBackground == 19907)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/tmtrQ7w/church.jpg)");
			}	
						else if(myBackground == 19908)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/R0FpTM8/junkyard2.jpg)");
			}	
			else if(myBackground == 19909)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/5cQC4xG/grave.jpg)");
			}	
			else if(myBackground == 19910)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/47YszMv/rail2.jpg)");
			}	
			else if(myBackground == 19911)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/YDPKdp3/road2.jpg)");
			}			
			else if(myBackground == 19912)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/DVRdCtj/road3.jpg)");
			}			
			else if(myBackground == 19913)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/gDBpv10/road9.jpg)");
			}		
			else if(myBackground == 19914)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/C0xRHMs/by-rail-Station.jpg)");
			}		
			else if(myBackground == 19915)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/vcH0nGg/church-Center.jpg)");
			}	
			else if(myBackground == 19916)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/ZJ2bN3r/road10.jpg)");
			}	
			else if(myBackground == 19917)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/fDSdLcz/road11.jpg)");
			}			
			else if(myBackground == 19918)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/8dSQsbQ/road15.jpg)");
			}					
			else if(myBackground == 2071)
			{
				$("tw-story").css("background-image","url(http://www.scififantasyhorror.co.uk/wp-content/gallery/Su-Jian/su-jian-scifi-art-11.jpg)");
			}
			else if(myBackground == 9179)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/0rB8h1Y/foot-Of-Notre-Dame.png)");
			}
			else
			{
				$("tw-story").css("background-image","none");
			}
		}
	}
}

</script><tw-passagedata pid="1" name="elevator" tags="" position="1064,870" size="100,100">{(set: $bastille to &quot;unstormed&quot;)
}(border: &quot;solid&quot;)[You are in an elevator. The dial permits you to choose any floor from 0 through 20. Please input the floor you desire.]  
&lt;input type=&quot;text&quot; data-varname=&quot;floorString&quot;&gt;
&lt;script&gt;processInputElements();&lt;/script&gt;

(link-goto: &quot;Done&quot;)

&lt;script&gt;CustomScripts.updateBackground(-1);&lt;/script&gt;
</tw-passagedata><tw-passagedata pid="2" name="Done" tags="" position="1062,1032" size="100,100">At last the elevator comes to a halt.
{
($setUpNewCentury:)
	}
	
The elevator doors open to the $rightOnNexusMap and you [[step out-&gt;top left]].</tw-passagedata><tw-passagedata pid="3" name="top left" tags="" position="1203,1034" size="100,100">{(set: $place to &quot;&quot;)
(set: $decadeNum to 0)
(set: $imageType to 0) 
&lt;!--By running the following macro here in the passage, we get to reset the vocab each time we change passage using the &quot;either&quot; command in the vocab entries (if there is one). --&gt;
($resetNexusVocab:) 
}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[$mainSentence. You can either $head [[$rightOnNexusMap-&gt;top middle]] or [[$downOnNexusMap-&gt;four fifths up]].
(if: $floorInt is 6)[A ladder inside a cupola leads [[down-&gt;complex zero]] from here.]
(else-if: $floorInt is 14)[The coast to the $upOnNexusMap opens into an estuary, via which you can [[sail inland-&gt;complex zero]].] 
(else-if: $floorInt is 19)[Alternatively, you can take a different line heading (link:&quot;towards the Ukraine&quot;)[(set: $previousStop to &quot;Moscow&quot;)(set:$nextStop to &quot;farm&quot;)(goto:&quot;train through countryside&quot;)].]
(else:) [You may also $head $upOnNexusMap (print: (1) of $doorTypes) (print: (either: &quot;&quot;, (2) of $doorTypes)) (print: (3) of $doorTypes) $exitPhrase [[$complexWord-&gt;complex zero]].] Another option is to step into the [[elevator]].]


($setImage:)
(if: $floorInt is 17)[($overrideImage: &quot;17001&quot;)]
(if: $floorInt is 19)[($overrideImage: &quot;19001&quot;)]</tw-passagedata><tw-passagedata pid="4" name="top middle" tags="" position="1361,1037" size="100,100">{(set: $place to &quot;&quot;)
(set: $decadeNum to 0)
(set: $imageType to 0) 
&lt;!--By running the following macro here in the passage, we get to reset the vocab each time we change passage using the &quot;either&quot; command in the vocab entries (if there is one). --&gt;
($resetNexusVocab:) 
}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[$mainSentence. You may $head [[$rightOnNexusMap-&gt;top right]] or [[$leftOnNexusMap-&gt;top left]] from here. There is also (if: $floorInt is 6)[a rooftop entrance, from which a [[ladder descends-&gt;complex two]] into the building below.] (else:) [(if: $floorInt is 14)[the mouth of a river to the $downOnNexusMap, via which you can [[sail inland-&gt;complex two]].](else:) [a (print: (3) of $doorTypes) to the $downOnNexusMap (unless: $floorInt is 19)[which goes] $exitPhrase [[$complexWord-&gt;complex two]].] ]
]

($setImage:)
(if: $hundredNumber is 1500)[($overrideImage:&quot;1502&quot;)]
(if: $hundredNumber is 1800)[($overrideImage:&quot;1810&quot;)]
(if: $floorInt is 17)[($overrideImage: &quot;17002&quot;)]
(if: $floorInt is 19)[($overrideImage: &quot;19002&quot;)]</tw-passagedata><tw-passagedata pid="5" name="four fifths up" tags="" position="1203,1324" size="100,100">{(set: $place to &quot;&quot;)
(set: $decadeNum to 0)
(set: $imageType to 0) 
&lt;!--By running the following macro here in the passage, we get to reset the vocab each time we change passage using the &quot;either&quot; command in the vocab entries (if there is one). --&gt;
($resetNexusVocab:) 
(set: $homeCity to &quot;Bishop&#39;s Lynn&quot;)
(set: $foreignCity to &quot;La Rochelle&quot;)}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[$mainSentence. You may $head [[$upOnNexusMap-&gt;top left]] or [[$downOnNexusMap-&gt;three fifths up]] from here. (if: $floorInt is 6)[A ladder inside a cupola leads [[down-&gt;complex three]] from here.] (else:)[(if: $floorInt is 14)[To the $rightOnNexusMap you can see the coast opens up into an estuary, via which you can [[sail inland -&gt;complex three]].] (else:) [To the $rightOnNexusMap is [[a (print: (3) of $doorTypes) via which you can $head $exitPhrase $complexWord-&gt;complex three]].] ]
]

($setImage:)
(if: $hundredNumber is 1500)[($overrideImage:&quot;1504&quot;)]
(if: $hundredNumber is 1800)[($overrideImage:&quot;1808&quot;)]
(if: $floorInt is 17)[($overrideImage: &quot;17004&quot;)]
(if: $floorInt is 19)[($overrideImage: &quot;19004&quot;)]

</tw-passagedata><tw-passagedata pid="6" name="complex zero" tags="" position="1200,871" size="100,100">{
&lt;!--SPECIFICS--&gt;
(set: $decadeNum to 0) 
($setDecadeVariables:)


&lt;!--The following should be set differently for each complex entry point, so as to match the direction on screen from which we are exiting the nexus.--&gt;
(set: $directionIn to $upOnNexusMap)

&lt;!--The following function fixes the architecture by consulting the architecture database.--&gt;

($chooseArchitecture:) 

&lt;!--The following function requires directionIn and architecture to be set, and uses it to fix the startroom before flipping and rotating the map &amp; changing the startRoom each time as appropriate.--&gt;
($getComplexMap:)

($fixOptionalPaths:)
($setNexusWord:)
($refreshSentences:) 

&lt;!--IMAGES--&gt;
(unless: $floorInt is 19)[($setImage:)](else:)[($overrideImage: &quot;19101&quot;)]

&lt;!--END IMAGES--&gt;

&lt;!--This fixes the text that permits one to leave the complex.--&gt;
(set: $returnText to &quot;A different possibility is to head back to the $downOnNexusMap towards [[$nexusWord-&gt;complex zero]].&quot;) 

}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{
(if: $floorInt is 6)[You are in one of the gatehouses to the city of Aleppo. A road leads [[$upOnNexusMap-&gt;$startRoom]] from here to the hanging farms. Alternatively you can go [[up a ladder-&gt;top left]] to $nexusWord.] 
(elseif: $floorInt is 14)[You are anchored in a wide, tropical river on an unexplored island in the new world. To explore the island, you must head [[$upOnNexusMap-&gt;$startRoom]] on foot. Alternatively you can $head [[$downOnNexusMap-&gt;top left]] to $nexusWord.] 
(elseif: $floorInt is 19)[You are at a small train station in the Ukrainian countryside. If you wish you can leave the station and [[explore the countryside nearby-&gt;$startRoom]]. Alternatively, you can catch a train to (link:&quot;Moscow&quot;)[(set: $previousStop to &quot;farm&quot;)(set: $nextStop to &quot;Moscow&quot;)(goto: &quot;train through countryside&quot;)] or catch (link:&quot;in the other direction&quot;)[(set: $previousStop to &quot;farm&quot;)(set: $nextStop to &quot;Pripyat&quot;)(goto: &quot;train through countryside&quot;).]].
	(else:)[$complexSentence3. From here you can go $downOnNexusMap to [[$nexusWord-&gt;top left]]. Alternatively, you may go (link: $upOnNexusMap)[($overrideImage: &quot;1901&quot;)(goto: $startRoom)].]}] 





</tw-passagedata><tw-passagedata pid="7" name="set up new century" tags="startup" position="55,2959" size="100,100">{
&lt;!--Called upon entry into a new century. Sets the variables accordingly.--&gt;
(set: $setUpNewCentury to
(macro: [
	($setCenturyVariables:)
	($setNexusMovementTerm:)
	($fixDirection:$floorInt)
	($setDoorTypes:)
	($setExitPhrase:)
	(set: $upOnNexusMap to 1st of $directions)
	(set: $rightOnNexusMap to 2nd of $directions)
	(set: $downOnNexusMap to 3rd of $directions)
	(set: $leftOnNexusMap to 4th of $directions)
	(output-data:&quot;&quot;)
]))

&lt;!--Dummy code to create arrows, in interface, to called functions --&gt;
[[ -&gt;head (Nexus Movement Term)]]
[[ -&gt;set century variables]]
[[ -&gt;fix direction]]
[[ -&gt;set up door types]]
[[ -&gt;set exit phrase (for Nexus)]]
}

</tw-passagedata><tw-passagedata pid="8" name="head (Nexus Movement Term)" tags="startup" position="190,2861" size="100,100">{&lt;!--This defines a movement term that is suitable to the century. E.g. if the character is moving around in a swamp, the movement term is set to &quot;wade&quot;. It has to be set via a macro because it needs to be re-called, with new variable settings, whenever a new century is entered.--&gt;

(set: $setNexusMovementTerm to
(macro: [
	(set: $head to (cond:
		$floorInt is 8, &quot;wade&quot;,
		$floorInt is 14, &quot;sail a course&quot;,
		(either: &quot;head&quot;, &quot;go&quot;)))
	(output-data:&quot;&quot;)
	]))
}</tw-passagedata><tw-passagedata pid="9" name="set century variables" tags="startup" position="187,2970" size="100,100">{
(set: $setCenturyVariables to 
(macro: 
	[
	(set: $floorInt to (num: $floorString))
	(set: $hundredNumber to $floorInt*100)
	(set: $floorString2 to (str: $hundredNumber))
	(output-data: &quot;&quot;)
	]
	))
	
}</tw-passagedata><tw-passagedata pid="10" name="fix direction" tags="startup" position="187,3088" size="100,100">{
(set: $fixDirection to 
	(macro: num-type _directionNum, 
	[
	(set: $directions to 
		(cond: 
		_directionNum is 0,(a:&#39;north&#39;,&#39;east&#39;,&#39;south&#39;,&#39;west&#39;),
		_directionNum is 1,(a: &#39;east&#39;,&#39;south&#39;,&#39;west&#39;,&#39;north&#39;),
		_directionNum is 2,(a: &#39;south&#39;,&#39;west&#39;,&#39;north&#39;,&#39;east&#39;),
		_directionNum is 3,(a: &#39;west&#39;,&#39;north&#39;,&#39;east&#39;,&#39;south&#39;),
		(a:&#39;fail&#39;)))
	(if: 1st of $directions is &#39;fail&#39;)
		[($fixDirection:_directionNum - 4)]
	(output-data: &quot;&quot;)
	]
	)
)
}</tw-passagedata><tw-passagedata pid="11" name="set up door types" tags="startup" position="190,3211" size="100,100">{
(set: $setDoorTypes to 
(macro: [
	(set: $doorTypes to (cond: 
		$floorInt is 0, (a: &quot;through a&quot;, &quot;&quot;, &quot;doorway&quot;, &quot;into a&quot;),
		$floorInt is 1, (a: &#39;through an&#39;, &#39;&#39;, &#39;archway&#39;, &quot;into a&quot;),
		$floorInt is 2, (a: &#39;through a&#39;, &#39;red and gold&#39;, &#39;arch&#39;, &quot;into a&quot;),
		$floorInt is 3, (a: &#39;through a&#39;, &#39;golden&#39;, &#39;exit&#39;, &quot;into&quot;),
		$floorInt is 4, (a: &#39;through a&#39;, &#39;collapsing&#39;, &#39;arch&#39;, &quot;into a&quot;),
		$floorInt is 5, (a: &#39;down a&#39;, &#39;long&#39;, &#39;road&#39;, &quot;to a&quot;),
		$floorInt is 6, (a: &#39;into a&#39;, &#39;rooftop&#39;,&#39;cupola&#39;, &quot;that provides access to a&quot;),
		$floorInt is 7, (a: &#39;down a&#39;, &#39;mud&#39;, &#39;lane&#39;, &quot;to a&quot;),
		$floorInt is 8, (a: &#39;up a&#39;, &#39;dry-earth&#39;, &#39;upgang&#39;, &quot;onto a&quot;),
		$floorInt is 9, (a: &#39;along a&#39;, &#39;narrow&#39;, &#39;Gasse&#39;, &quot;to a&quot;),
		$floorInt is 10, (a: &#39;down a&#39;, &#39;rarely trodden&#39;, &#39;path&#39;, &quot;to a&quot;),
		$floorInt is 11, (a: &#39;through a&#39;, &quot;farmer&#39;s&quot;,&#39;gate&#39;, &quot;into a&quot;),
		$floorInt is 12, (a: &#39;through a&#39;, &#39;&#39;, &#39;mountain pass&#39;, &quot;to a&quot;),
		$floorInt is 13, (a: &#39;through a&#39;, &#39;rotted&#39;, &#39;gate&#39;, &quot;into a&quot;),
		$floorInt is 14, (a: &#39;&#39;, &#39;&#39;, &#39;&#39;, &quot;to a&quot;),
		$floorInt is 15, (a: &#39;down a&#39;, &#39;&#39;, &#39;lane&#39;, &quot;to a&quot;),
		$floorInt is 16, (a: &#39;up a&#39;, &#39;&#39;, &#39;step&#39;, &quot;onto a&quot;),
		$floorInt is 17, (a: &#39;over a&#39;, &#39;narrow&#39;, &#39;bridge&#39;, &quot;to a different&quot;),
		$floorInt is 18, (a: &#39;down a&#39;, &#39;foggy&#39;, &#39;alley&#39;, &quot;to a different&quot;),
		$floorInt is 19, (a: &#39;through the&#39;, &#39;&#39;, &#39;turnstiles&#39;, &quot;if this is your&quot;),
		$floorInt is 20, (a: &#39;through an&#39;, &#39;&#39;, &#39;electronic turnstile&#39;, &quot;to a different&quot;),
	&quot;through a&quot;, &quot;&quot;, &quot;doorway&quot;, &quot;to a&quot;))
	(output-data:&quot;&quot;)
	]
	))
	}</tw-passagedata><tw-passagedata pid="12" name="set exit phrase (for Nexus)" tags="startup" position="190,3325" size="100,100">{
&lt;!--The century-specific text for exiting the nexus to a complex--&gt;

(set: $setExitPhrase to 
(macro: [
	(set: $exitPhrase to (cond: 
		$floorInt is 9, &quot;to somewhere&quot;,
		$floorInt is 6, &quot;into the&quot;, 
		$floorInt is 8, &quot;onto an&quot;,
		$floorInt is 14, &quot;towards a&quot;,
		(4) of $doorTypes + &quot; &quot;
	))
	(output-data:&quot;&quot;)
	]))
	
}</tw-passagedata><tw-passagedata pid="13" name="write Main Sentence (for Nexus)" tags="startup" position="212,2145" size="100,100">{
(set: $writeMainSentence to
(macro: [
	($setNexusPassage:)
	($setNexusPhrase:)
	(set: $mainSentence to &quot;You are &quot; 
		+ 1st of $nexusPassage 
		+ &quot; &quot; 
		+ 2nd of $nexusPassage
		+ &quot; &quot; 
		+ 3rd of $nexusPassage
		+ ($somewhere:) 
		+ 1st of $nexusPhrase
		+ &quot; &quot; 
		+ 2nd of $nexusPhrase
		+ &quot; &quot;
		+ 3rd of $nexusPhrase
		+ &quot; &quot;
		+ 4th of $nexusPhrase
	)
	(output-data:&quot;&quot;)
	]
	))
	
&lt;!--Dummy code to create arrows, in interface, to called functions --&gt;
[[ -&gt;set nexus passage]]
[[ -&gt;set nexus phrase]]
[[ -&gt;somewhere]]
}</tw-passagedata><tw-passagedata pid="14" name="set nexus phrase" tags="startup" position="357,2140" size="100,100">{
(set: $setNexusPhrase to 
(macro: [
	(set: $nexusPhrase to (cond: 
	$floorInt is 0, 
		(a: &#39;in the&#39;, &#39;dusty&#39;, &#39;catacombs&#39;, &#39;of Callixus&#39;),
	$floorInt is 1, 
		(a: &#39;in the&#39;, &#39;bustling&#39;, &#39;forum&#39;, &#39;of ancient Rome&#39;),
	$floorInt is 2, 
		(a: &#39;on the&#39;, &#39;opulent&#39;, &#39;avenues&#39;, &#39;of the Forbidden City&#39;),
	$floorInt is 3, 
		(a: &#39;in a&#39;, &#39;glistening&#39;, &#39;palace&#39;, &#39;in ancient Byzantium&#39;),
	$floorInt is 4, 
		(a: &#39;in the&#39;, &#39;ruins&#39;, &#39;&#39;, &#39;of ancient Rome&#39;),
	$floorInt is 5, 
		(a: &#39;on the&#39;, &#39;olde&#39;, &#39;pyke&#39;, &#39;in Arthurian Britain&#39;),
	$floorInt is 6, 
		(a: &#39;above the&#39;, &#39;bustling&#39;, &#39;city&#39;, &#39;of Aleppo&#39;),
	$floorInt is 7, 
		(a: &quot;in Charlemagne&#39;s&quot;, &#39;&#39;, &#39;Palace Complex&#39;, &#39;at Aachen&#39;),
	$floorInt is 8, 
		(a: &#39;wading through the&#39;, &#39;stinking&#39;, &#39;Somerset levels&#39;, &#39;, within the bells of the Athelney Abbey&#39;),
	$floorInt is 9, 
		(a: &#39;in the&#39;, &#39;&#39;, &#39;First Reich&#39;, &#39;&#39;),
	$floorInt is 10, 
		(a: &#39;near the&#39;, &#39;&#39;, &#39;twelve holy communities&#39;, &#39;of St Benedict&#39;),
	$floorInt is 11, 
		(a: &#39;in&#39;, &#39;&#39;,&#39;Sherwood Forest&#39;, &#39;&#39;),
	$floorInt is 12, 
		(a: &#39;on the&#39;, &#39;boundless&#39;, &#39;steppes&#39;, &#39;of Asia&#39;),
	$floorInt is 13, 
		(a: &#39;in the&#39;, &#39;diseased&#39;, &#39;ditches&#39;, &#39;of medieval Scotland&#39;),
	$floorInt is 14, 
		(a: &#39;in sight of&#39;, &#39;&#39;, &#39;unexplored shores&#39;, &#39;&#39;),
	$floorInt is 15, 
		(a: &#39;on the&#39;, &#39;sectarian&#39;, &#39;lanes&#39;, &#39;of Elizabethan England&#39;),
	$floorInt is 16, 
		(a: &#39;on the&#39;, &#39;tranquil&#39;, &#39;waterways&#39;, &#39;of the Grachtengordel&#39;),
	$floorInt is 17, 
		(a: &#39;on the&#39;, &#39;bloody&#39;, &#39;streets&#39;, &#39;of revolutionary Paris&#39;),
	$floorInt is 18, 
		(a: &#39;on the&#39;, &#39;foggy&#39;, &#39;thoroughfares&#39;, &#39;of Victorian London&#39;),
	$floorInt is 19, 
		(a: &#39;somewhere on the&#39;, &#39;concrete&#39;, &#39;landscape&#39;, &#39;of Soviet Russia&#39;),
	$floorInt is 20, 
		(a: &#39;within the&#39;, &#39;dense&#39;, &#39;cityscape&#39;, &#39;of neon lit Shanghai&#39;),
	(a: &quot;&quot;,&quot;&quot;,&quot;world&quot;,&quot;&quot;)))
	(output-data:&quot;&quot;)
	]
	))

}</tw-passagedata><tw-passagedata pid="15" name="somewhere" tags="startup" position="362,2248" size="100,100">{
(set: $somewhere to 
(macro:[
	(set: _somewhere to (cond: 
		$floorInt is 8, &quot; &quot;,
		&quot; &quot;)
	)
	(output-data:_somewhere)
	]
	))
}</tw-passagedata><tw-passagedata pid="16" name="set images" tags="startup" position="11,2620" size="100,100">{
(set: $setImage to 
(macro: [	
	&lt;!--decadeNum is always 0 in nexus.--&gt;
	(set: $imageRef to (str: $hundredNumber + $decadeNum + $imageType))
	(set: $imgScript to &quot;&lt;script&gt;CustomScripts.updateBackground(&quot; + $imageRef +&quot;);&lt;/script&gt;&quot;)
		(output-data: $imgScript)
		]
		))
		
(set: $overrideImage to 
(macro: str-type _imageString, [	
	(set: $imgScript to &quot;&lt;script&gt;CustomScripts.updateBackground(&quot; + _imageString +&quot;);&lt;/script&gt;&quot;)
		(output-data: $imgScript)
		]
		))

}</tw-passagedata><tw-passagedata pid="17" name="set nexus passage" tags="startup" position="362,2026" size="100,100">{
(set: $setNexusPassage to
(macro: [
	(set: $nexusPassage to (cond: 
	$floorInt is 0, (a: &#39;in a&#39;, &#39;narrow&#39;, &#39;tunnel&#39;),
	$floorInt is 1, (a: &#39;on a&#39;, &#39;busy&#39;, &#39;street&#39;),
	$floorInt is 2, (a: &#39;on a&#39;, &#39;clay-brick&#39;, &#39;avenue&#39;),
	$floorInt is 3, (a: &#39;in a&#39;, &#39;high&#39;, &#39;hallway&#39;),
	$floorInt is 4, (a: &#39;on a&#39;, &#39;desolate&#39;, &#39;street&#39;),
	$floorInt is 5, (a: &#39;on a&#39;, &#39;grassy&#39;, &#39;path&#39;),
	$floorInt is 6, (a: &#39;on a&#39;, &#39;clay tiled&#39;,&#39;rooftop&#39;),
	$floorInt is 7, (a: &#39;on a&#39;, &#39;muddy&#39;, &#39;street&#39;),
	$floorInt is 8, (a: &#39;&#39;, &#39;&#39;, &#39;&#39;),
	$floorInt is 9, (a: &#39;on a&#39;, &#39;dark brick&#39;, &#39;Strae&#39;),
	$floorInt is 10, (a: &#39;on a&#39;, &quot;pilgrim&#39;s&quot;, &#39;trail&#39;),
	$floorInt is 11, (a: &#39;on a&#39;, &#39;drizzled&#39;,&#39;path&#39;),
	$floorInt is 12, (a: &#39;on a&#39;, &#39;wide open&#39;, &#39;trail&#39;),
	$floorInt is 13, (a: &#39;on a&#39;, &#39;slutchy&#39;, &#39;path&#39;),
	$floorInt is 14, (a: &#39;on a&#39;, &#39;wooden&#39;, &#39;frigate&#39;),
	$floorInt is 15, (a: &#39;on a&#39;, &#39;misty&#39;, &#39;pike&#39;),
	$floorInt is 16, (a: &#39;on a&#39;, &#39;calm&#39;, &#39;canal&#39;),
	$floorInt is 17, (a: &#39;on a&#39;, &#39;cobbled&#39;, &#39;rue&#39;),
	$floorInt is 18, (a: &#39;on a&#39;, &#39;cobbled&#39;, &#39;street&#39;),
	$floorInt is 19, (a: &#39;at a&#39;, &#39;train&#39;, &#39;station&#39;),
	$floorInt is 20, (a: &#39;on a&#39;, &#39;vibrant&#39;, &#39;street&#39;),
	&quot;way&quot;))
	(output-data:&quot;&quot;)
	]
	))

}</tw-passagedata><tw-passagedata pid="18" name="set complexWord (for nexus)" tags="startup" position="215,2007" size="100,100">{
(set: $setComplexWord to 
(macro: [
	(set: $complexWord to (cond: 
		$floorInt is 0, &#39;part of the labyrinth&#39;,
		$floorInt is 1, &#39;quarter&#39;,
		$floorInt is 2, &#39;ward&#39;,
		$floorInt is 3, &#39;wing&#39;,
		$floorInt is 4, &#39;quarter&#39;,
		$floorInt is 5, &#39;realm&#39;,
		$floorInt is 6, &#39;building below&#39;,
		$floorInt is 7, &#39;quarter&#39;,
		$floorInt is 8, &#39;island&#39;,
		$floorInt is 9, &#39;unknown&#39;,
		$floorInt is 10, &#39;commune&#39;,
		$floorInt is 11, &#39;parish&#39;,
		$floorInt is 12, &#39;region&#39;,
		$floorInt is 13, &#39;parish&#39;,
		$floorInt is 14, &#39;nearby port&#39;,
		$floorInt is 15, &#39;quarter&#39;,
		$floorInt is 16, &#39;district&#39;,
		$floorInt is 17, &#39;quarter&#39;,
		$floorInt is 18, &#39;neighborhood&#39;,
		$floorInt is 19, &#39;stop&#39;,
		$floorInt is 20, &#39;sector&#39;,
		&quot;region&quot;))
	(output-data: &quot;&quot;)
		]
		))

}</tw-passagedata><tw-passagedata pid="19" name="Reset Nexus Vocab" tags="startup" position="39,2143" size="100,100">{
(set:$resetNexusVocab to
(macro: [
	($writeMainSentence:)
	($setComplexWord:)
	($setSecondaryPassage:)
	(output-data:&quot;&quot;)
	]
	))
	
&lt;!--Dummy code to create arrows, in interface, to called functions --&gt;
[[ -&gt;set complexWord (for nexus)]]
[[ -&gt;write Main Sentence (for Nexus)]]
[[ -&gt;set secondary passage (for nexus)]]
}</tw-passagedata><tw-passagedata pid="20" name="top right" tags="" position="1511,1038" size="100,100">{(set: $place to &quot;&quot;)
(set: $decadeNum to 0)
(set: $imageType to 0) 
&lt;!--By running the following macro here in the passage, we get to reset the vocab each time we change passage using the &quot;either&quot; command in the vocab entries (if there is one). --&gt;
($resetNexusVocab:) 
}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[$mainSentence, (if: $floorInt is 6)[at the $rightOnNexusMap most end, which ends with a cupola, inside which is a ladder that leads [[down-&gt;complex one]]. Alternatively, you may $head to the [[$leftOnNexusMap-&gt;top middle]].] (else:)[(if: $floorInt is 14)[at the $rightOnNexusMap end of a closed sea. From here, you may $head into a estuary to the $rightOnNexusMap, via which you can access a river and [[sail inland-&gt;complex one]], or you can $head [[$leftOnNexusMap-&gt;top middle]].] (else:) [at the $rightOnNexusMap most end, which ends in a (print: (3) of $doorTypes). You may [[take the (print: (3) of $doorTypes)-&gt;complex one]], or head to the [[$leftOnNexusMap-&gt;top middle]].]]
]

($setImage:)
(if: $hundredNumber is 1500)[($overrideImage:&quot;1503&quot;)]
(if: $hundredNumber is 1800)[($overrideImage:&quot;1812&quot;)]
(if: $floorInt is 17)[($overrideImage: &quot;17003&quot;)]
(if: $floorInt is 19)[($overrideImage: &quot;19003&quot;)]</tw-passagedata><tw-passagedata pid="21" name="complex two" tags="" position="1363,1190" size="100,100">{
&lt;!--SETTINGS--&gt;
&lt;!--These must be reset for each complex.--&gt;
&lt;!--This is the number that (in combination with the century number) fixes the parameters for the specific decade.--&gt;
(set: $decadeNum to 20) 

&lt;!--The following should be set differently for each complex entry point, so as to match the direction on screen from which we are exiting the nexus.--&gt;
(set: $directionIn to $downOnNexusMap)

(set: $exitPoint to &quot;top middle&quot;)
(set: $thisRoom to &quot;complex two&quot;)


&lt;!--END OF SETTINGS--&gt;

(set: $intoHere to $directionIn)
(set: $outOfHere to ($oppositeCompass: $intoHere))

&lt;!--The following fixes the text that permits one to leave the complex.--&gt;
(set: $returnText to &quot;A different possibility is to head back to the $outOfHere towards [[$nexusWord-&gt;$thisRoom]].&quot;) 

($setDecadeVariables:)

&lt;!--The following function fixes the architecture by consulting the architecture database.--&gt;

($chooseArchitecture:) 

&lt;!--The following function requires directionIn and architecture to be set, and uses it to fix the startroom before flipping and rotating the map &amp; changing the startRoom each time as appropriate.--&gt;
($getComplexMap:)

($fixOptionalPaths:)
($setNexusWord:)
($refreshSentences:) 

&lt;!--IMAGES--&gt;
($setImage:)
(if: $floorInt is 17)[($overrideImage: &quot;17504&quot;)]
(if: $floorInt is 19)[($overrideImage: &quot;19201&quot;)]
&lt;!--END IMAGES--&gt;


}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[{
(if: $floorInt is 6)[You are in the library of the hashashins in the city of Aleppo. To explore the library, you must head [[$intoHere-&gt;$startRoom]]. You can leave the library by heading [[up-&gt;$exitPoint]] to $nexusWord.] 
(elseif: $floorInt is 14)[(set: $place to &quot;Strasbourg&quot;)You are at a port in the city of Strasbourg, where Johannes Gutenberg has invented his printing press. To explore the city, you must head [[$intoHere-&gt;$startRoom]] on foot. Alternatively you can $head [[$outOfHere-&gt;$exitPoint]] to $nexusWord.]
(elseif: $floorInt is 19)[You are at an imposing double door to the KGB building in Moscow. From here you may go through the door to the (link:&quot;KGB archive&quot;)[($overrideImage: &quot;1921&quot;)(goto: $startRoom)] or you can $head [[$outOfHere-&gt;$exitPoint]] to $nexusWord.]
(else:)[$complexSentence3. From here you can go $outOfHere to [[$nexusWord-&gt;$exitPoint]]. Alternatively, you may go [[$intoHere-&gt;$startRoom]].]
	}]







</tw-passagedata><tw-passagedata pid="22" name="complex one" tags="" position="1686,1032" size="100,100">{
&lt;!--SETTINGS--&gt;
&lt;!--These must be reset for each complex.--&gt;
&lt;!--This is the number that (in combination with the century number) fixes the parameters for the specific decade.--&gt;
(set: $decadeNum to 10) 

(set: $outOfHere to $leftOnNexusMap)
(set: $intoHere to $rightOnNexusMap)
(set: $exitPoint to &quot;top right&quot;)
(set: $thisRoom to &quot;complex one&quot;)


&lt;!--END OF SETTINGS--&gt;

&lt;!--The following fixes the text that permits one to leave the complex.--&gt;
(set: $returnText to &quot;A different possibility is to head back to the $outOfHere towards [[$nexusWord-&gt;$thisRoom]].&quot;) 

($setDecadeVariables:)

&lt;!--The following should be set differently for each complex entry point, so as to match the direction on screen from which we are exiting the nexus.--&gt;
(set: $directionIn to $rightOnNexusMap)

&lt;!--The following function fixes the architecture by consulting the architecture database.--&gt;

($chooseArchitecture:) 

&lt;!--The following function requires directionIn and architecture to be set, and uses it to fix the startroom before flipping and rotating the map &amp; changing the startRoom each time as appropriate.--&gt;
($getComplexMap:)

($fixOptionalPaths:)
($setNexusWord:)
($refreshSentences:) 

&lt;!--IMAGES--&gt;
($setImage:)

&lt;!--END IMAGES--&gt;


}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[{
(if: $floorInt is 6)[You are in a labyrinth of smoky hashish bars somewhere in the seedier quarter of the city of Aleppo. You can explore the quarter by heading [[$intoHere-&gt;$startRoom]]. Alternatively you can go [[up a ladder-&gt;$exitPoint]] to $nexusWord.] 
(else:)[
	(if: $floorInt is 14)[(set: $place to &quot;York&quot;)You are at a port in the city of York. To explore the city, you must head [[$intoHere-&gt;$startRoom]] on foot. Alternatively you can $head [[$leftOnNexusMap-&gt;$exitPoint]] to $nexusWord.]	(else:)[$complexSentence3.
From here you can go $outOfHere to [[$nexusWord-&gt;$exitPoint]]. Alternatively, you may go [[$intoHere-&gt;$startRoom]].] 
]
}]

$transform
$strtRoomz
$rightDirections
$upDirections



</tw-passagedata><tw-passagedata pid="23" name="three fifths up" tags="" position="1206,1594" size="100,100">{(set: $place to &quot;&quot;)
(set: $decadeNum to 0)
(set: $imageType to 0)
&lt;!--By running the following macro here in the passage, we get to reset the vocab each time we change passage using the &quot;either&quot; command in the vocab entries (if there is one). --&gt;
($resetNexusVocab:) 
}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[$mainSentence. (if: $floorInt is 14)[Though passage to the $leftOnNexusMap is blocked by a coastal cliffs, you may chart a course [[$upOnNexusMap-&gt;four fifths up]], [[$rightOnNexusMap-&gt;middle middle]] or [[$downOnNexusMap-&gt;two fifths up]] from here.] (else:) [A $secondaryPassage branches off to the [[$rightOnNexusMap-&gt;middle middle]]. Or you may take the main $secondaryPassage to the [[$upOnNexusMap-&gt;four fifths up]] or to the [[$downOnNexusMap-&gt;two fifths up]].]
]

($setImage:)
(if: $hundredNumber is 1500)[($overrideImage:&quot;1505&quot;)]
(if: $hundredNumber is 1800)[($overrideImage:&quot;1804&quot;)]
(if: $floorInt is 17)[($overrideImage: &quot;17005&quot;)]
(if: $floorInt is 19)[($overrideImage: &quot;19005&quot;)]
</tw-passagedata><tw-passagedata pid="24" name="complex three" tags="" position="1363,1325" size="100,100">{
&lt;!--SETTINGS--&gt;
&lt;!--These must be reset for each complex.--&gt;
&lt;!--This is the number that (in combination with the century number) fixes the parameters for the specific decade.--&gt;
(set: $decadeNum to 30) 

&lt;!--The following should be set differently for each complex entry point, so as to match the direction on screen from which we are exiting the nexus.--&gt;
(set: $directionIn to $rightOnNexusMap)

(set: $exitPoint to &quot;four fifths up&quot;)
(set: $thisRoom to &quot;complex three&quot;)


&lt;!--END OF SETTINGS--&gt;

(set: $intoHere to $directionIn)
(set: $outOfHere to ($oppositeCompass: $intoHere))

&lt;!--The following fixes the text that permits one to leave the complex.--&gt;
(set: $returnText to &quot;A different possibility is to head back to the $outOfHere towards [[$nexusWord-&gt;$thisRoom]].&quot;) 

($setDecadeVariables:)

&lt;!--The following function fixes the architecture by consulting the architecture database.--&gt;

($chooseArchitecture:) 

&lt;!--The following function requires directionIn and architecture to be set, and uses it to fix the startroom before flipping and rotating the map &amp; changing the startRoom each time as appropriate.--&gt;
($getComplexMap:)

($fixOptionalPaths:)
($setNexusWord:)
($refreshSentences:) 

&lt;!--IMAGES--&gt;
($setImage:)
(if: $floorInt is 11)[($overrideImage:&quot;1135&quot;)]
(if: $floorInt is 14)[($overrideImage:&quot;1432&quot;)]
(if: $floorInt is 15)[(set: $homeCity to &quot;London&quot;)(set: $foreignCity to &quot;Antwerp&quot;)]
&lt;!--END IMAGES--&gt;


}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[{(if: $floorInt is in (a: 6, 11, 14, 15))[
(if: $floorInt is 6)[You are in the Sultan&#39;s palace in the city of Aleppo, where exotic belly dancers put on a show for the Sultan&#39;s many guests. To explore the palace, you must head [[$intoHere-&gt;$startRoom]]. to leave, you may head [[up-&gt;$exitPoint]] to $nexusWord.] 
(if: $floorInt is 11) [You are on a high and windy path overlooking the port town of Bishop&#39;s Lynn. From here, you can head inland towards [[Sherwood Forest-&gt;$exitPoint]] or make your way down into the [[port city-&gt;port1]].]
(if: $floorInt is 14)[(set: $place to &quot;Orleans&quot;)You are docked at the city of Orleans, which is under siege from the forces of Joan of Arc. To explore, you must head [[$intoHere-&gt;$startRoom]] on foot. Alternatively you can $head [[$outOfHere-&gt;$exitPoint]] to $nexusWord.]
(if: $floorInt is 15) [($overrideImage: &quot;1510&quot;) You are on a dilapidated street near the docks in Elizabethan London. From here, you can head [[$outOfHere-&gt;$exitPoint]] or [[$intoHere-&gt;port1]].]
]
(else:)[$complexSentence3. From here you can go $outOfHere to the [[$nexusWord-&gt;$exitPoint]]. Alternatively, you may go [[$intoHere-&gt;$startRoom]].]
	}]
	






</tw-passagedata><tw-passagedata pid="25" name="middle middle" tags="" position="1363,1593" size="100,100">{(set: $place to &quot;&quot;)
(set: $decadeNum to 0)
(set: $imageType to 0) 
(set: $elizabethanDock to &quot;outbound&quot;)
&lt;!--By running the following macro here in the passage, we get to reset the vocab each time we change passage using the &quot;either&quot; command in the vocab entries (if there is one). --&gt;
($resetNexusVocab:) }
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[$mainSentence. You may $head [[$leftOnNexusMap-&gt;three fifths up]] or [[$rightOnNexusMap-&gt;middle right]] from here. (if: $floorInt is 6)[A ladder inside a cupola leads [[down-&gt;complex four]] from here.] (else:)[ (if: $floorInt is 14)[The coast to the $upOnNexusMap opens up into an estuary, via which you can [[sail inland-&gt;complex four]].] (else:) [There is also [[a way to the $upOnNexusMap-&gt;complex four]] to a $complexWord.]]
]

($setImage:)
(if: $hundredNumber is 1500)[($overrideImage:&quot;1506&quot;)]
(if: $hundredNumber is 1800)[($overrideImage:&quot;1805&quot;)]
(if: $hundredNumber is 1900)[(set: $siberianDirection to &quot;east&quot;)(set:$siberianCounter to 0)]
(if: $floorInt is 17)[($overrideImage: &quot;17006&quot;)]
(if: $floorInt is 19)[($overrideImage: &quot;19006&quot;)]
</tw-passagedata><tw-passagedata pid="26" name="two fifths up" tags="" position="1206,1749" size="100,100">{(set: $mervDirection to &quot;inbound&quot;)
(set:$crowleyDirection to &quot;inbound&quot;)
(set: $imageType to 0) 
(set: $decadeNum to 0)
(set: $place to &quot;&quot;)
&lt;!--By running the following macro here in the passage, we get to reset the vocab each time we change passage using the &quot;either&quot; command in the vocab entries (if there is one). --&gt;
($resetNexusVocab:) 
($setImage:)
(if: $hundredNumber is 1800)[($overrideImage:&quot;1807&quot;)]
(if: $hundredNumber is 1500)[($overrideImage:&quot;1508&quot;)]
(if: $hundredNumber is 1700)[($overrideImage:&quot;-13&quot;)]
(if: $floorInt is 14)[($overrideImage: &quot;1400.1&quot;)]

}
{(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[(unless: $floorInt is in (a:17,19))[$mainSentence]
(elseif: $floorInt is 17)[You are beneath the arches at the entrance to Notre Dame Cathedral. From here you can go $rightOnNexusMap [[into the cathedral-&gt;complex seven]] or $leftOnNexusMap [[into the square-&gt;complex nine]], where a crowd gathers to watch the executions at the guillotine.]
(elseif: $floorInt is 19)[You are at a train station in central Moscow. You can exit the station [[through a turnstile to the $rightOnNexusMap-&gt;complex seven]]. ]
(if: $floorInt is 14)[, sailing down a narrow sea between two lands]
(if: $floorInt is 18)[, at Charing Cross, near the Thames.] 
(unless: $floorInt is 19)[You may (if: $floorInt is 17)[also ]$head [[$forceSpace $upOnNexusMap-&gt;three fifths up]] $forceSpace or [[$forceSpace $downOnNexusMap-&gt;bottom]] $forceSpace from here.](else:)[You may also take the city line [[$upOnNexusMap-&gt;three fifths up]] from here.] 
(if: $floorInt is 6)[There are also twin cupolas here, in which ladders descend into the buildings below. You may take the [[one to the $rightOnNexusMap -&gt;complex seven]] or the [[one to the $leftOnNexusMap -&gt;complex nine]].]
(else-if: $floorInt is 14)[To the [[$rightOnNexusMap-&gt;complex seven]] and [[$leftOnNexusMap-&gt;complex nine]] are coastal estuaries via which you can sail inland.]
(else-if: $floorInt is 19)[Alternatively, you can (link:&quot;take a train through the countryside&quot;)[(set: $previousStop to &quot;Moscow&quot;)(set: $nextStop to &quot;Pripyat&quot;)(goto: &quot;train through countryside&quot;)], or (link: &quot;take a train towards East Germany&quot;)[(set: $previousStop to &quot;Moscow&quot;)(set: $nextStop to &quot;Berlin&quot;)(goto: &quot;train through countryside&quot;)].]
(else:) [(unless: $floorInt is in (a:17,19))[Alternatively, you might take [[a (print: (3) of $doorTypes) to the $rightOnNexusMap -&gt;complex seven]], or a (print: (3) of $doorTypes) to the [[$leftOnNexusMap -&gt;complex nine]].]]]}



(if: $floorInt is 19)[($overrideImage: &quot;19008&quot;)]
</tw-passagedata><tw-passagedata pid="27" name="bottom" tags="" position="1201,1998" size="100,100">{(set: $place to &quot;&quot;)
(set: $decadeNum to 0)
(set: $imageType to 0) 
&lt;!--By running the following macro here in the passage, we get to reset the vocab each time we change passage using the &quot;either&quot; command in the vocab entries (if there is one). --&gt;
($resetNexusVocab:) 
}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[$mainSentence, (if: $floorInt is 6)[at the $downOnNexusMap most end, which ends with a cupola, inside which is a ladder that leads [[down-&gt;complex eight]]. You may take it,] (else:)[(if: $floorInt is 14)[at the $downOnNexusMap end of a closed sea. From here, you may $head into a river mouth to the $downOnNexusMap, via which you can [[sail inland-&gt;complex eight]],](else:) [at the $downOnNexusMap most end, which ends in a (print: (3) of $doorTypes). You may [[take the (print: (3) of $doorTypes)-&gt;complex eight]],]] or $head to the [[$upOnNexusMap-&gt;two fifths up]]. 
]

(set: $japanBattle to &quot;outbound&quot;)
($setImage:)
(if: $hundredNumber is 1500)[($overrideImage:&quot;1509&quot;)]
(if: $hundredNumber is 1800)[($overrideImage:&quot;1803&quot;)]
(if: $floorInt is 17)[($overrideImage: &quot;17009&quot;)]
(if: $floorInt is 19)[($overrideImage: &quot;19009&quot;)]

</tw-passagedata><tw-passagedata pid="28" name="complex seven" tags="" position="1365,1757" size="100,100">{
&lt;!--SETTINGS--&gt;
&lt;!--These must be reset for each complex.--&gt;
&lt;!--This is the number that (in combination with the century number) fixes the parameters for the specific decade.--&gt;
(set: $decadeNum to 70) 

&lt;!--The following should be set differently for each complex entry point, so as to match the direction on screen from which we are exiting the nexus.--&gt;
(set: $directionIn to $rightOnNexusMap)

(set: $exitPoint to &quot;two fifths up&quot;)
(set: $thisRoom to &quot;complex seven&quot;)


&lt;!--END OF SETTINGS--&gt;

(set: $intoHere to $directionIn)
(set: $outOfHere to ($oppositeCompass: $intoHere))

&lt;!--The following fixes the text that permits one to leave the complex.--&gt;
(set: $returnText to &quot;A different possibility is to head back to the $outOfHere towards [[$nexusWord-&gt;$thisRoom]].&quot;) 

($setDecadeVariables:)

&lt;!--The following function fixes the architecture by consulting the architecture database.--&gt;

($chooseArchitecture:) 

&lt;!--The following function requires directionIn and architecture to be set, and uses it to fix the startroom before flipping and rotating the map &amp; changing the startRoom each time as appropriate.--&gt;
($getComplexMap:)

($fixOptionalPaths:)

($setNexusWord:)

($refreshSentences:) 


&lt;!--IMAGES--&gt;
($setImage:)
(if: $decadeNumber is 1870)[($overrideImage:&quot;1872&quot;)]

&lt;!--END IMAGES--&gt;



(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[
(if: $floorInt is 6)[You are in the great mosque in the city of Aleppo. You can explore the mosque by heading [[$intoHere-&gt;$startRoom]]. Alternatively you can leave the mosque by [[climbing up a ladder-&gt;$exitPoint]] to $nexusWord.] 
(if: $floorInt is 14)[You are at a port in the Vatican city, which suffers under the corrupt Papacy of Rodrigo Borgia. To explore the Vatican, you must head [[$intoHere-&gt;$startRoom]] on foot. Alternatively you can $head [[$outOfHere-&gt;$exitPoint]] to $nexusWord.]
(if: $floorInt is 15)[You are on the grounds around Singleton Hall, also known as Chingle Hall. The manor is surrounded by a moat and, if you wish, you may [[take the bridge-&gt;bridge over the moat]] that crosses it. Otherwise you can $head [[$outOfHere-&gt;$exitPoint]] to $nexusWord.]
(if: $floorInt is 17)[You are within the magnificent arched portal of Notre Dame cathedral. To one side, the entrance to the eastern bell tower is nailed shut, but you can (link:&quot;head into the western&quot;)[(goto: &quot;bell tower&quot;)]. Or, if you wish, you may (link:&quot;head further into the cathedral&quot;)[(goto:$startRoom)]. Otherwise you can $head [[$outOfHere-&gt;$exitPoint]] to the arches at the entrance of the cathedral.]
(if: $floorInt is 18) [
	(if: $crowleyDirection is &quot;inbound&quot;)[You walk the cold, drizzled streets towards the temple of the Hermetic Order of the Golden Dawn. Soon you are [[there-&gt;Crowley&#39;s temple]].]
	(else:)[You walk on the cold, drizzled streets not far from the temple of the Hermetic Order of the Golden Dawn. If you wish, [[you can go back there-&gt;Crowley&#39;s temple]]. Alternatively, you can head for [[$nexusWord-&gt;two fifths up]].]]
(unless: $floorInt is in (a:6,14,15,17,18))[$complexSentence3. From here you can go $outOfHere to [[$nexusWord-&gt;$exitPoint]]. Alternatively, you may go [[$intoHere-&gt;$startRoom]].]
	]

}





</tw-passagedata><tw-passagedata pid="29" name="complex nine" tags="" position="1043,1752" size="100,100">{
&lt;!--SETTINGS--&gt;
&lt;!--These must be reset for each complex.--&gt;
&lt;!--This is the number that (in combination with the century number) fixes the parameters for the specific decade.--&gt;
(set: $decadeNum to 90) 

&lt;!--The following should be set differently for each complex entry point, so as to match the direction on screen from which we are exiting the nexus.--&gt;
(set: $directionIn to $leftOnNexusMap)

(set: $exitPoint to &quot;two fifths up&quot;)
(set: $thisRoom to &quot;complex nine&quot;)


&lt;!--END OF SETTINGS--&gt;

(set: $intoHere to $directionIn)
(set: $outOfHere to ($oppositeCompass: $intoHere))

&lt;!--The following fixes the text that permits one to leave the complex.--&gt;
(set: $returnText to &quot;A different possibility is to head back to the $outOfHere towards [[$nexusWord-&gt;$thisRoom]].&quot;) 

($setDecadeVariables:)

&lt;!--The following function fixes the architecture by consulting the architecture database.--&gt;

($chooseArchitecture:) 

&lt;!--The following function requires directionIn and architecture to be set, and uses it to fix the startroom before flipping and rotating the map &amp; changing the startRoom each time as appropriate.--&gt;
($getComplexMap:)

($fixOptionalPaths:)
($setNexusWord:)
($refreshSentences:) 

&lt;!--IMAGES--&gt;
($setImage:)
(if: $decadeNumber is 1290 and $mervDirection is &quot;inbound&quot;)
	[($overrideImage:&quot;1292&quot;)]
(if: $decadeNumber is 1890)[($overrideImage:&quot;1802&quot;)]
(if: $decadeNumber is 1790)[($overrideImage:&quot;9179&quot;)]
(if: $decadeNumber is 1990)[($overrideImage:&quot;19910&quot;)]
&lt;!--END IMAGES--&gt;


}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[{
(if: $floorInt is 6)[You are at one of the gatehouses to the city of Aleppo. From here, a road leads to the forgotten cities to the $intoHere. You may [[take the road $intoHere-&gt;$startRoom]] if you like, or [[climb up-&gt;$exitPoint]] to $nexusWord.] 
(if: $floorInt is 8)[You wade among the dead, killed at the recent battle between the Anglo Saxons and the Vikings. From here you can wade $outOfHere to the [[$nexusWord-&gt;$exitPoint]]. Alternatively, you may wade [[$intoHere-&gt;$startRoom]].]
(if: $floorInt is 11)[A wrecked ship is beached here, the shallow water lapping around it at low tide. Beside it, an old butcher, rests on a rock, his feet submerged in the ebbing foam. If you wish, [[you may speak with him-&gt;Berold of Rouen]],  Alternatively, you may [[climb up onto the deck of the ship-&gt;$startRoom]].]
(if: $floorInt is 12 and $mervDirection is &quot;inbound&quot;)[You find a boatway towards the central Asian city of Merv. The skyline is breathtaking. However, a family hurriedly rowing in the opposite direction shouts a warning. &quot;Turn back!&quot; they warn, calling out over the water. &quot;The Mongols have taken the city and are killing everyone, man, woman and child!&quot; You can ignore the warning and [[head into the city anyway-&gt;burning merv]]. Or you can [[turn back-&gt;$exitPoint]] to $nexusWord.]
(if: $floorInt is 12 and $mervDirection is &quot;outbound&quot;)[You escape, coughing from the smoke, from the blazing inferno and out through the gates of the city. You have no option but to [[head back-&gt;$exitPoint]] to $nexusWord. ] 
(if: $floorInt is 14)[(set: $place to &quot;Wallachia&quot;)You are up river near the city of Trgovite, where Vlad the Impaler rules with an iron fist. Outside the city, fields of impaled bodies send an ominous message to the enemies of Wallachia. To head towards the fields, you must head [[$intoHere-&gt;$startRoom]] on foot. Alternatively you can $head [[$outOfHere-&gt;$exitPoint]] to $nexusWord.] 
(if: $floorInt is 17)[You are in the square at the front of Notre Dame cathedral. In the center of the square, prisoners are executed using the guillotine. From here you can go $intoHere [[to the scaffold-&gt;$startRoom]], or (link:&quot;over towards a market area&quot;)[(goto:&quot;toy vendor&quot;)] If you would prefer to enter the cathedral, you can[[step through the arches-&gt;two fifths up]]. Alternatively, you could (link:&quot;climb up the side of the cathedral&quot;)[(goto:&quot;notre dame roof&quot;)] onto the roof. ] 
(if: $floorInt is 19)[You are at a mostly abandoned train station in Pripyat, Ukraine. From here you may catch a train (link:&quot;back towards Moscow&quot;)[(set: $previousStop to &quot;Pripyat&quot;)(set: $nextStop to &quot;Moscow&quot;)(goto: &quot;train through countryside&quot;)], take a (link:&quot;train towards East Germany&quot;)[(set: $previousStop to &quot;Pripyat&quot;)(set: $nextStop to &quot;Berlin&quot;)(goto: &quot;train through countryside&quot;)], or leave the station to (link:&quot;explore Pripyat&quot;)[(set: $previousStop to &quot;null&quot;)(goto: $startRoom)]. (if: $previousStop is &quot;Moscow&quot;)[You can also just stay on this train to (link:&quot;see where it goes&quot;)[(set: $previousStop to &quot;Pripyat&quot;)(set: $nextStop to &quot;farm&quot;)(goto: &quot;train through countryside&quot;)].](if: $previousStop is &quot;null&quot;)[You can also catch whichever train comes next and just (link:&quot;see where it goes&quot;)[(set: $previousStop to &quot;Pripyat&quot;)(set: $nextStop to &quot;farm&quot;)(goto: &quot;train through countryside&quot;)].]]
(unless: $floorInt is in (a:6,8,12,14,17,19)) [$complexSentence3.  From here you may head $outOfHere towards [[$nexusWord-&gt;$exitPoint]]. Alternatively, you may head [[$intoHere-&gt;$startRoom]].]}]</tw-passagedata><tw-passagedata pid="30" name="complex eight" tags="" position="1201,2163" size="100,100">{
&lt;!--SETTINGS--&gt;
&lt;!--These must be reset for each complex.--&gt;
&lt;!--This is the number that (in combination with the century number) fixes the parameters for the specific decade.--&gt;
(set: $decadeNum to 80) 

&lt;!--The following should be set differently for each complex entry point, so as to match the direction on screen from which we are exiting the nexus.--&gt;
(set: $directionIn to $downOnNexusMap)

(set: $exitPoint to &quot;bottom&quot;)
(set: $thisRoom to &quot;complex eight&quot;)


&lt;!--END OF SETTINGS--&gt;

(set: $intoHere to $directionIn)
(set: $outOfHere to ($oppositeCompass: $intoHere))

&lt;!--The following fixes the text that permits one to leave the complex.--&gt;
(set: $returnText to &quot;A different possibility is to head back to the $outOfHere towards [[$nexusWord-&gt;$thisRoom]].&quot;) 

($setDecadeVariables:)

&lt;!--The following function fixes the architecture by consulting the architecture database.--&gt;

($chooseArchitecture:) 

&lt;!--The following function requires directionIn and architecture to be set, and uses it to fix the startroom before flipping and rotating the map &amp; changing the startRoom each time as appropriate.--&gt;
($getComplexMap:)

($fixOptionalPaths:)
($setNexusWord:)
(if: $floorInt is 17)[($bastillePhrase:)]
($refreshSentences:) 

&lt;!--IMAGES--&gt;
($setImage:)


&lt;!--END IMAGES--&gt;


}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[{
(if: $floorInt is 12)[
	(if: $japanBattle is &quot;outbound&quot;)[($overrideImage:&quot;1283&quot;)You come to what appears to be an empty beach. Suddenly, however, you see a ship peeping out from behind a large rock and heavy hands fall on your shoulders. You are being pressed into service into the Mongol fleet! You slip from their grasp and you may take your one chance to [[escape-&gt;$exitPoint]]. Alternatively, you can surrender and [[see where this goes.-&gt;wreckStory]] ]
	(else:)[($overrideImage:&quot;1282&quot;)You wash up on the beach. From here you may head [[back-&gt;$exitPoint]] to $nexusWord.]]
(else-if: $floorInt is 6)[You are in the penal quarter of the ancient city of Aleppo, under the shadow of the citadel, where sinners and criminals are justly flogged, mutilated or executed. To explore the quarter, you must head [[$intoHere-&gt;$startRoom]]. You can leave the quarter by climbing [[up-&gt;$exitPoint]] to $nexusWord.] 
(else-if: $floorInt is 14)[(set: $place to &quot;Seville&quot;)You are at a riverside dock in the city of Seville, where the Inquisition roots out Jews, Muslims and heretics to be painfully converted to the one true faith. To explore the city, you must head [[$intoHere-&gt;$startRoom]] on foot. Alternatively you can head [[$outOfHere-&gt;$exitPoint]] to the $nexusWord.]
(else-if:$floorInt is 8)[You walk among the wounded Anglo Saxons, bloodied from their victory against the Viking raiders. You may head [[$intoHere-&gt;$startRoom]] from here. Alternatively you can $head [[$outOfHere-&gt;$exitPoint]] to $nexusWord.]
(else-if:$floorInt is 17)[($setBaileyAdj:)
	(if: $bastille is &quot;joining in&quot;)[($overrideImage: &quot;1756&quot;)(set: $bastille to &quot;stormed&quot;) You join in the mayhem. There is the loud BOOM of a gunpowder explosion,  and one of the walls of the fortress collapses into the street behind you, blocking you from heading back the way you came. 

The chaos eventually ends and the crowd begins to disperse. Most are heading [[$outOfHere-&gt;$exitPoint]] towards the cathedral of Notre Dame. But if you wish you may linger here and [[explore the ruin of the Bastille-&gt;$startRoom]].]
	(else-if: $bastille is &quot;unstormed&quot;) [($overrideImage: &quot;17801&quot;) You are at the mighty citadel of the Bastille. From here you can head [[$outOfHere-&gt;$exitPoint]] towards the cathedral of Notre Dame. Alternatively you can [[explore the Bastille-&gt;$startRoom]].]
	(else-if: $bastille is &quot;stormed&quot;) [($overrideImage: &quot;17512&quot;)You are at the ruins of the once mighty citadel of the Bastille. From here you can head [[$outOfHere-&gt;$exitPoint]] towards the cathedral of Notre Dame. Alternatively you can [[explore the ruins-&gt;$startRoom]].]
	(else:) [&quot;error in complex eight. Out of options.&quot;]	
	]
(else-if: $floorInt is 19)[You are at a station in East Berlin. You may take a train from here to (link:&quot;Moscow&quot;)[(set: $previousStop to &quot;Berlin&quot;)(set: $nextStop to &quot;Moscow&quot;)(goto: &quot;train through countryside&quot;)], or to (link:&quot;the Ukraine&quot;)[(set: $previousStop to &quot;Berlin&quot;)(set: $nextStop to &quot;Pripyat&quot;)(goto: &quot;train through countryside&quot;)]. Or you may leave the station to [[explore East Berlin-&gt;$startRoom]].]
(else:)[$complexSentence3. From here you can go $outOfHere to [[$nexusWord-&gt;$exitPoint]]. Alternatively, you may go [[$intoHere-&gt;$startRoom]].]  
	
	}]







</tw-passagedata><tw-passagedata pid="31" name="middle right" tags="" position="1548,1592" size="100,100">{(set: $place to &quot;&quot;)
(set: $decadeNum to 0)
(set: $imageType to 0) 

&lt;!--By running the following macro here in the passage, we get to reset the vocab each time we change passage using the &quot;either&quot; command in the vocab entries (if there is one). --&gt;
($resetNexusVocab:) 
}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[{(if: $floorInt is in (a: 6,14,15))[
(if: $floorInt is 6)[$mainSentence, at the $rightOnNexusMap most end. There are two rooftop entrances here, via which you can descend by rope into the buildings below. You may take [[the one to the $rightOnNexusMap-&gt;complex five]] or [[the one to the $downOnNexusMap -&gt;complex six]]. You also have the option of heading [[$leftOnNexusMap-&gt;middle middle]] along the rooftop.]
(elseif: $floorInt is 14)[$mainSentence at the $rightOnNexusMap end of a closed sea. From here, you may $head into [[a delta to the $rightOnNexusMap-&gt;complex five]], via which you can sail inland, or $head into a different estuary to the [[$downOnNexusMap-&gt;complex six]]. Alternatively, you can $head [[$leftOnNexusMap-&gt;middle middle]].] 
(elseif: $floorInt is 15) [(if: $elizabethanDock is &quot;outbound&quot;)[You are at the](else:)[You sail back to the] docks on the River Thames in Elizabethan London. From here, you can head [[$leftOnNexusMap-&gt;middle middle]] into the city or go [[$upOnNexusMap-&gt;port1]] along the dockside. (if: $elizabethanDock is &quot;outbound&quot;)[Alternatively, there are some burly men stalking the dockside. You can [[go and ask them what they are doing-&gt;complex five]].]]
]
(elseif: $floorInt is 19 and $siberianCounter is 0) [You are at a train station. If you like, (link:  &quot;you can head to the &quot; + $leftOnNexusMap)[(goto: &quot;middle middle&quot;)]. Alternatively, there is a soviet official coming over to speak to you. (link:&quot;You can wait around to see what he wants...&quot;)[(goto: &quot;soviet official&quot;)]] 
(elseif: $floorInt is 19)[You are on a train crossing the frozen steppes of Siberia.{
}(if: $afghanCounter is -1)[(set: $afghanCounter to 0) The line ends at a Spartan platform in the blizzards of Siberia. The trains traveling east from here only contain prisoners, so your only option is to catch a train (link:&quot;west&quot;) [(set: $siberianDirection to &quot;west&quot;).(set:$siberianCounter to 2)(goto: &quot;middle right&quot;)]]
(elseif: $siberianCounter is 3 and $siberianDirection is &quot;east&quot;)[The train stops at a station and you see an opportunity to escape. If you wish to take it, you can (link:&quot;disembark and catch a train heading south &quot;)[(set: $afghanDirection to &quot;south&quot;)(set: $afghanCounter to 1)(goto: &quot;Afghanistan line&quot;)] or one heading (link:&quot;back to the west.&quot;)[(set: $siberianDirection to &quot;west&quot;)(set:$siberianCounter to 2)(goto: &quot;middle right&quot;)] Alternatively, you can choose to remain a prisoner on the train (link:&quot;east.&quot;)[(set: $siberianDirection to &quot;east&quot;).(set:$siberianCounter to 4)(goto: &quot;middle right&quot;)] ]
(elseif: $siberianCounter is 3)[You stop at a station where you can (link:&quot;disembark to catch a train south towards Afghanistan&quot;)[(set: $afghanDirection to &quot;south&quot;)(set: $afghanCounter to 1)(goto: &quot;Afghanistan line&quot;)] Alternatively, you can (link:&quot;stay on this train and continue west.&quot;)[(set:$siberianCounter to 2)(goto: &quot;middle right&quot;)]]
(elseif: $siberianCounter is 1 and $siberianDirection is &quot;west&quot;)[(link:&quot;You watch the world go by as the train nears the end of its journey.&quot;)[(set: $siberianCounter to $siberianCounter - 1)(goto: &quot;middle right&quot;)]]
(elseif: $siberianCounter is 5 and $siberianDirection is &quot;east&quot;)[(link:&quot;You watch the world go by as the train nears the end of its journey.&quot;)[(set: $siberianCounter to $siberianCounter+1)(goto: &quot;complex six&quot;)]]
(else:)[You have no option but to (link:&quot;watch the world go by.&quot;)[(if: $siberianDirection is &quot;east&quot;)[(set: $siberianCounter to $siberianCounter + 1)](else:)[(set: $siberianCounter to $siberianCounter - 1)](goto: &quot;middle right&quot;)].]]
(else:) [$mainSentence, at the $rightOnNexusMap most end, which ends in a (print: (3) of $doorTypes). You may [[take the (print: (3) of $doorTypes)-&gt;complex five]], take [[another (print: (3) of $doorTypes) to the $downOnNexusMap -&gt;complex six]] or $head to the [[$leftOnNexusMap-&gt;middle middle]].]}]


($setImage:)
(if: $hundredNumber is 1500)[($overrideImage:&quot;1531&quot;)]
(if: $hundredNumber is 1800)[($overrideImage:&quot;1806&quot;)]
(if: $floorInt is 17)[($overrideImage: &quot;17007&quot;)]
(if: $floorInt is 19)[($overrideImage:(str: 19501 + $siberianCounter))]
</tw-passagedata><tw-passagedata pid="32" name="complex four" tags="" position="1363,1446" size="100,100">{
&lt;!--SETTINGS--&gt;
&lt;!--These must be reset for each complex.--&gt;
&lt;!--This is the number that (in combination with the century number) fixes the parameters for the specific decade.--&gt;
(set: $decadeNum to 40) 

&lt;!--The following should be set differently for each complex entry point, so as to match the direction on screen from which we are exiting the nexus.--&gt;
(set: $directionIn to $upOnNexusMap)

(set: $exitPoint to &quot;middle middle&quot;)
(set: $thisRoom to &quot;complex four&quot;)


&lt;!--END OF SETTINGS--&gt;

(set: $intoHere to $directionIn)
(set: $outOfHere to ($oppositeCompass: $intoHere))

&lt;!--The following fixes the text that permits one to leave the complex.--&gt;
(set: $returnText to &quot;A different possibility is to head back to the $outOfHere towards [[$nexusWord-&gt;$thisRoom]].&quot;) 

($setDecadeVariables:)
($setBaileyAdj:)

&lt;!--The following function fixes the architecture by consulting the architecture database.--&gt;

($chooseArchitecture:) 

&lt;!--The following function requires directionIn and architecture to be set, and uses it to fix the startroom before flipping and rotating the map &amp; changing the startRoom each time as appropriate.--&gt;
($getComplexMap:)

($fixOptionalPaths:)
($setNexusWord:)
($refreshSentences:) 

&lt;!--IMAGES--&gt;
($setImage:)
(if: $hundredNumber is 1800)[($overrideImage:&quot;1842&quot;)]

&lt;!--END IMAGES--&gt;


}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[{(if: $floorInt is 6)[You are in the bustling souk of Al-Madina, where vendors from far and wide peddle their wares to the busy city. The souk heads [[$intoHere-&gt;$startRoom]] from here. Alternatively you can exit the souk by [[climbing up-&gt;$exitPoint]] to $nexusWord.]
(else:)[
	(if: $floorInt is 14)[(set: $place to &quot;Aztec&quot;)You are on a river to an unknown port in the new world. To dock at a magnificent city of pyramids and explore the city, you must head [[$intoHere-&gt;$startRoom]]. Alternatively you can $head [[$outOfHere-&gt;$exitPoint]] to $nexusWord.]
	(else:)[ $complexSentence3. From here you can go $outOfHere to [[$nexusWord-&gt;$exitPoint]]. Alternatively, you may go [[$intoHere-&gt;$startRoom]].]
	]
	}]






</tw-passagedata><tw-passagedata pid="33" name="complex five" tags="" position="1701,1594" size="100,100">{
&lt;!--SETTINGS--&gt;
&lt;!--These must be reset for each complex.--&gt;
&lt;!--This is the number that (in combination with the century number) fixes the parameters for the specific decade.--&gt;
(set: $decadeNum to 50) 

&lt;!--The following should be set differently for each complex entry point, so as to match the direction on screen from which we are exiting the nexus.--&gt;
(set: $directionIn to $rightOnNexusMap)

(set: $exitPoint to &quot;middle right&quot;)
(set: $thisRoom to &quot;complex five&quot;)
(set: $elizabethanDock to &quot;inbound&quot;)

&lt;!--END OF SETTINGS--&gt;

(set: $intoHere to $directionIn)
(set: $outOfHere to ($oppositeCompass: $intoHere))

&lt;!--The following fixes the text that permits one to leave the complex.--&gt;
(set: $returnText to &quot;A different possibility is to head back to the $outOfHere towards [[$nexusWord-&gt;$thisRoom]].&quot;) 

($setDecadeVariables:)

&lt;!--The following function fixes the architecture by consulting the architecture database.--&gt;

($chooseArchitecture:) 

&lt;!--The following function requires directionIn and architecture to be set, and uses it to fix the startroom before flipping and rotating the map &amp; changing the startRoom each time as appropriate.--&gt;
($getComplexMap:)

($fixOptionalPaths:)
($setNexusWord:)
($refreshSentences:) 

&lt;!--IMAGES--&gt;
($setImage:)
&lt;!--END IMAGES--&gt;


}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[{
(if: $floorInt is 6)[You are in the inner gatehouse to the Citadel of Aleppo. The doors to the city are locked and unopenable, but you can explore the citadel by heading [[$intoHere-&gt;$startRoom]]. Alternatively you can leave the citadel by [[climbing up a ladder-&gt;$exitPoint]] to $nexusWord.] 
(elseif: $floorInt is 14)[(set: $place to &quot;Istanbul&quot;)You are at a port in the city of Istanbul, which is under siege from the forces of Mehmet II. To explore the city, you must head [[$intoHere-&gt;$startRoom]] on foot. Alternatively you can $head [[$outOfHere-&gt;$exitPoint]] to $nexusWord.]
(elseif: $floorInt is 15)[You approach the men but, before you have chance to say anything, two of them grab you while the third clubs you over the head. You awake to the creaking of timber and the crack of sails. You can do nothing but (link: &quot;find out where you are&quot;)[(goto:&quot;deck&quot;)].]
(elseif: $floorInt is 19)[You spot an opportunity to desert your unit and head [[back towards the station-&gt;Afghanistan line]]. [[Or you can continue to fight alongside your brothers-&gt;$startRoom]].]
(else:)[$complexSentence3. From here you can go $outOfHere to [[$nexusWord-&gt;$exitPoint]]. Alternatively, you may go [[$intoHere-&gt;$startRoom]].]
}]
(if: $floorInt is 15)[($overrideImage: &quot;-12&quot;)]
(if: $hundredNumber is 1900)[(set: $siberiaDirection to &quot;west&quot;)]






</tw-passagedata><tw-passagedata pid="34" name="complex six" tags="" position="1556,1757" size="100,100">{
&lt;!--SETTINGS--&gt;
&lt;!--These must be reset for each complex.--&gt;
&lt;!--This is the number that (in combination with the century number) fixes the parameters for the specific decade.--&gt;
(set: $decadeNum to 60) 

&lt;!--The following should be set differently for each complex entry point, so as to match the direction on screen from which we are exiting the nexus.--&gt;
(set: $directionIn to $downOnNexusMap)

(set: $exitPoint to &quot;middle right&quot;)
(set: $thisRoom to &quot;complex six&quot;)


&lt;!--END OF SETTINGS--&gt;

(set: $intoHere to $directionIn)
(set: $outOfHere to ($oppositeCompass: $intoHere))

&lt;!--The following fixes the text that permits one to leave the complex.--&gt;
(set: $returnText to &quot;A different possibility is to head back to the $outOfHere towards [[$nexusWord-&gt;$thisRoom]].&quot;) 

($setDecadeVariables:)

&lt;!--The following function fixes the architecture by consulting the architecture database.--&gt;

($chooseArchitecture:) 

&lt;!--The following function requires directionIn and architecture to be set, and uses it to fix the startroom before flipping and rotating the map &amp; changing the startRoom each time as appropriate.--&gt;
($getComplexMap:)

($fixOptionalPaths:)
($setNexusWord:)
($refreshSentences:) 

&lt;!--IMAGES--&gt;
($setImage:)
&lt;!--END IMAGES--&gt;


}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[{
(if: $floorInt is 6)[You are in the Jewish quarter of the ancient city of Aleppo. To explore the quarter, you must head [[$intoHere-&gt;$startRoom]]. You can leave the quarter by climbing [[up-&gt;$exitPoint]] to $nexusWord.] 
(elseif: $floorInt is 14)[(set:$place to &quot;London&quot;)You are at a port in the city of London, where the Lollards are imprisoned. To explore the city, you must head [[$intoHere-&gt;$startRoom]] on foot. Alternatively you can $head [[$outOfHere-&gt;$exitPoint]] to $nexusWord.]
(elseif: $floorInt is 19 and $siberianDirection is &quot;east&quot;)[(set: $siberianDirection to &quot;west&quot;)You disembark at the end of your journey. You are a cold, bleak, deserted train station in what seems like the middle of nowhere. Outside, a blizzard blows. (if: $gulag is &quot;escaped&quot;)[Your only option is to (link: &quot;catch a train heading west&quot;)[(goto:&quot;middle right&quot;)].](else:)[Guards waiting at the station take you into their custody and (link:&quot;escort you to the gulag&quot;)[($overrideImage:&quot;19601&quot;)(goto: $startRoom)].]]
(elseif: $floorInt is 19 and $siberianDirection is &quot;west&quot;)[You are at a cold, bleak, deserted train station in what seems like the middle of nowhere. Outside, a blizzard blows. Your only option is to (link: &quot;catch a train heading west&quot;)[(goto:&quot;middle right&quot;)].]
(else:)[$complexSentence3. From here you can go $outOfHere to [[$nexusWord-&gt;$exitPoint]]. Alternatively, you may go (link: $intoHere)[(goto:$startRoom)].]
	}]







</tw-passagedata><tw-passagedata pid="35" name="set secondary passage (for nexus)" tags="startup" position="215,2278" size="100,100">{
(set: $setSecondaryPassage to 
(macro: [
	(set: $secondaryPassage to (cond: 
		$floorInt is 0, &#39;tunnel&#39;,
		$floorInt is 1, &#39;alley&#39;,
		$floorInt is 2, &#39;avenue&#39;,
		$floorInt is 3, &#39;corridor&#39;,
		$floorInt is 4, &#39;way&#39;,
		$floorInt is 5, &#39;passage&#39;,
		$floorInt is 6, &#39;rooftop&#39;,
		$floorInt is 7, &#39;palace complex&#39;,
		$floorInt is 8, &#39;waterway&#39;,
		$floorInt is 9, &#39;Strae&#39;,
		$floorInt is 10, &#39;path&#39;,
		$floorInt is 11, &#39;trail&#39;,
		$floorInt is 12, &#39;trail&#39;,
		$floorInt is 13, &#39;path&#39;,
		$floorInt is 14, &#39;deck&#39;,
		$floorInt is 15, &#39;lane&#39;,
		$floorInt is 16, &#39;channel&#39;,
		$floorInt is 17, &#39;couloir&#39;,
		$floorInt is 18, &#39;wynd&#39;,
		$floorInt is 19, &#39;line&#39;,
		$floorInt is 20, &#39;back street&#39;,
		&quot;way&quot;))
	(output-data:&quot;&quot;)
	]))
}</tw-passagedata><tw-passagedata pid="36" name="set decade variables" tags="startup" position="23,2498" size="100,100">{
(set: $setDecadeVariables to 
(macro: [
	(set: $imageType to 1) 
	(set: $decadeNumber to $hundredNumber + $decadeNum)
	(set: $decadeString to (str: $decadeNum))
	(set: $decadeReference to $hundredNumber + $decadeNum + 1) 
	(set: $referenceString to (str: $decadeReference))
	(set: $seedIndex to 1)
	(set: $roomAdjective to &quot;a &quot;)
	(set: $randomSeed to (str: $decadeReference - 1) of $randomNums)
	(output-data:&quot;&quot;)
	]
	))

&lt;!--Dummy code to create arrows, in editor, to called functions --&gt;
[[ -&gt;random nums]]
}</tw-passagedata><tw-passagedata pid="37" name="refresh sentences" tags="startup" position="41,1950" size="100,100">{
&lt;!-- sets some basic terms for the sentences, calls the sentence builder setComplexSentences
Presupposes: the complexLanguage and generalLanguage databases are set up.  
Called By: called in individual passages to generate a new sentence on the spot. 
--&gt;
(set: $refreshSentences to
(macro: [
	(set: $complexLanguage to (str: $decadeReference) of $generalLanguage)
	(set: $complexName to 3rd of $complexLanguage)
	(set: $ladderTerm to 5th of $complexLanguage)
	(set: $stairTerm to 6th of $complexLanguage)
	(set: $roomNumber to $thisRoomsNumber)
	($setComplexSentences:)
	(output-data:&quot;&quot;)
	]))

&lt;!--Dummy code to create arrows, in interface, to called functions --&gt;
[[ -&gt;general language]]
[[ -&gt;set complex sentences]]
}</tw-passagedata><tw-passagedata pid="38" name="general language" tags="startup" position="220,1887" size="100,100">{
(set: $generalLanguage to (dm: 
	&quot;1&quot;, (a: &quot;in an&quot;, &quot;&quot;, &quot;underground mushroom garden&quot;,&quot;&quot;, &quot;a mushroom stalk&quot;,&quot;a dirt slope&quot;),
	&quot;11&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Hypogeum&quot;, &quot;beneath the colosseum&quot;,&quot;a crank elevator&quot;,&quot;some steps&quot;), 
	&quot;21&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;underground spy complex of the Frumentarii&quot;, &quot;beneath the Roman senate&quot;, &quot;some winding steps&quot;, &quot;some steps&quot;),
	&quot;31&quot;, (a: &quot;in a&quot;, &quot;subterranean&quot;, &quot;brewery&quot;, &quot;beneath the city&quot;,&quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;41&quot;, (a: &quot;in the&quot;, &quot;hidden&quot;, &quot;underground hideouts&quot;, &quot;of the persecuted Christians&quot;,&quot;some winding sandstone steps&quot;, &quot;some sandstone steps&quot;),
	&quot;51&quot;, (a: &quot;in a&quot;, &quot;hidden&quot;, &quot;armory&quot;, &quot;beneath the city&quot;,&quot;a ladder&quot;,&quot;some sandstone steps&quot;),
	&quot;61&quot;, (a: &quot;in an&quot;, &quot;&quot;, &quot;underground dungeon&quot;, &quot;where the convicted await execution&quot;,&quot;some winding sandstone steps&quot;, &quot;some sandstone steps&quot;),
	&quot;71&quot;, (a: &quot;in an&quot;, &quot;&quot;, &quot;underground chapel&quot;,&quot;where Christians worship their forbidden god&quot;,&quot;some winding sandstone steps&quot;, &quot;some sandstone steps&quot;),
	&quot;81&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;leper colony&quot;, &quot;in an abandoned part of the underground city&quot;, &quot;some winding sandstone steps&quot;, &quot;some sandstone steps&quot;),
	&quot;91&quot;, (a: &quot;in a&quot;, &quot;cobwebbed&quot;, &quot;crypt&quot;, &quot;in a quiet part of the underground city&quot;, &quot;some winding steps&quot;, &quot;some steps&quot;),
	&quot;101&quot;, (a: &quot;in the&quot;, &quot;tranquil&quot;, &quot;garden of Lucullus&quot;,&quot;&quot;, &quot;a steep, tangled slope&quot;, &quot;a gentle slope&quot;),
	&quot;111&quot;, (a: &quot;at the&quot;, &quot;dusty&quot;, &quot;ampitheatre&quot;, &quot;&quot;,&quot;some winding sandstone steps&quot;, &quot;some steps&quot;), 
	&quot;121&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;ludus&quot;, &quot;at which gladiators are trained&quot;,&quot;some winding sandstone steps&quot;, &quot;some steps&quot;),
	&quot;131&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;college of the Vestals&quot;, &quot;&quot;,&quot;a thinly carpeted, spiral staircase&quot;, &quot;some threadbare stairs&quot;),
	&quot;141&quot;, (a: &quot;in the&quot;, &quot;opulent&quot;, &quot;house of Augustus and Livia&quot;, &quot;&quot;,&quot;a spiral staircase&quot;, &quot;a magnificent wooden staircase&quot;),
	&quot;151&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;Roman barracks&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;161&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;slave market&quot;, &quot;where slaves are tethered like animals&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;171&quot;, (a: &quot;in the&quot;, &quot;sacred&quot;, &quot;temple of Juno&quot;, &quot;&quot;, &quot;a spiraling flight of marble steps&quot;, &quot;some ornate marble steps&quot;),
	&quot;181&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;surgery of Galen&quot;, &quot;&quot;, &quot;some winding sandstone steps&quot;, &quot;some steps&quot;),
	&quot;191&quot;, (a: &quot;in the&quot;, &quot;shadowy&quot;, &quot;necropolis&quot;, &quot;outside the walls of Rome&quot;, &quot;a steep, roughly gardened slope&quot;, &quot;a gentle, flowered slope&quot;),
	&quot;201&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Garden of General Liang Ji&quot;, &quot;&quot;, &quot;a steep, flowered slope&quot;, &quot;a gently sloping path&quot;),
	&quot;211&quot;, (a: &quot;within the&quot;, &quot;exciting&quot;, &quot;carnival of a hundred shows,&quot;,&quot;amidst music, dance and demonstrations of cuju, wrestling and acrobatic prowess&quot;,&quot;a steep dirt bank&quot;, &quot;a muddy slope&quot;), 
	&quot;221&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Imperial Academy&quot;, &quot;among the disputes of the scholars of Confucius&quot;,&quot;a stone stairwell&quot;, &quot;a flight of steps&quot;), 
	&quot;231&quot;, (a: &quot;in a&quot;, &quot;floating&quot;, &quot;brothel&quot;, &quot;on the Huangpu River, where the Shuyu attend to the needs of the city&#39;s elite&quot;,&quot;a ladder&quot;, &quot;some wooden steps&quot;),
	&quot;241&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;Siheyuan&quot;, &quot;courtyard-house&quot;,&quot;a stone stairwell&quot;, &quot;some slate steps&quot;),
	&quot;251&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;gate house&quot;, &quot;guarded by the Huben () imperial guard&quot;, &quot;a stone stairwell&quot;, &quot;some slate steps&quot;),
	&quot;261&quot;, (a: &quot;among the&quot;, &quot;&quot;, &quot;huts of the ten eunuchs&quot;, &quot;&quot;, &quot;a climbable rock-brick wall&quot;, &quot;some dirt steps&quot;),
	&quot;271&quot;, (a: &quot;in the&quot;, &quot;sacred&quot;, &quot;White Horse buddhist temple&quot;, &quot;&quot;, &quot;an ornate stairwell&quot;, &quot;some humble clay steps&quot;),
	&quot;281&quot;, (a: &quot;in the&quot;, &quot;abandoned&quot;, &quot;surgery of Hua Tuo&quot;, &quot;&quot;, &quot;a stairwell&quot;, &quot;some clay steps&quot;),
	&quot;291&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Dabaozi Cemetery&quot;, &quot;&quot;, &quot;a steep, roughly gardened slope&quot;, &quot;a gentle, flowered slope&quot;),
	&quot;301&quot;, (a: &quot;on the&quot;, &quot;pastoral&quot;, &quot;farms&quot;, &quot;surrounding ancient Byzantium&quot;, &quot;a steep soil bank&quot;, &quot;a gentle bank&quot;),
	&quot;311&quot;, (a: &quot;in the&quot;, &quot;many garish&quot;, &quot;theaters of the Hippdromos ts Knstantinouples&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;321&quot;, (a: &quot;in the&quot;, &quot;echoey&quot;, &quot;halls of the Magnaura&quot;, &quot;where senators discuss and debate the issues of the day&quot;, &quot;a spiral staircase&quot;, &quot;stone steps&quot;),
	&quot;331&quot;, (a: &quot;in the&quot;, &quot;dim&quot;, &quot;Triclinium of the Nineteen Couches&quot;, &quot;where romantic couples lounge on sigmas&quot;, &quot;a winding wooden staircase&quot;, &quot;some oak steps&quot;),
	&quot;341&quot;, (a: &quot;in an&quot;, &quot;elaborate&quot;, &quot;home&quot;, &quot;in old Byzantium&quot;, &quot;a chimney&quot;, &quot;a staircase&quot;),
	&quot;351&quot;, (a: &quot;in the ditches of a&quot;, &quot;bloody&quot;, &quot;battleground&quot;, &quot;near ancient Byzantium&quot;, &quot;a ladder&quot;, &quot;an incline&quot;),
	&quot;361&quot;, (a: &quot;in the depths of a&quot;, &quot;forced labor&quot;, &quot;mine&quot;, &quot;under ancient Byzantium&quot;, &quot;a ladder&quot;, &quot;rickety wooden stairs&quot;),
	&quot;371&quot;, (a: &quot;in a&quot;, &quot;serpentine&quot;, &quot;labyrinth&quot;, &quot;in the gardens of ancient Byzantium&quot;, &quot;a ladder&quot;, &quot;mossy steps&quot;),
	&quot;381&quot;, (a: &quot;in the&quot;, &quot;mystical&quot;, &quot;basilica of St John the Forerunner&quot;, &quot;, where St Artemios is believed to cure the sick and cursed.&quot;, &quot;winding steps&quot;, &quot;sandstone stairs&quot;),
	&quot;391&quot;, (a: &quot;in the&quot;, &quot;watery&quot;, &quot;crypt of Constantine&quot;, &quot;, beneath the church of the twelve apostles.&quot;, &quot;a rotten ladder&quot;, &quot;slimy steps&quot;),
	&quot;401&quot;, (a: &quot;in a&quot;, &quot;lush&quot;, &quot;forest&quot;, &quot;that nature has reclaimed from the ruins of Rome&quot;, &quot;a rope ladder&quot;, &quot;broken, overgrown steps&quot;),
	&quot;411&quot;, (a: &quot;in the&quot;, &quot;remains of the&quot;, &quot;Circus Maximus,&quot;, &quot;amid the skeletons of show animals.&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;421&quot;, (a: &quot;in the&quot;, &quot;abandoned&quot;, &quot;Bibliotheca Octaviana&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;431&quot;, (a: &quot;in the&quot;, &quot;ruined&quot;, &quot;temple of Venus&quot;, &quot;&quot;, &quot;a broken, climbable wall&quot;, &quot;stone steps&quot;),
	&quot;441&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;block of abandoned insulae&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;451&quot;, (a: &quot;in a&quot;, &quot;looted&quot;, &quot;armory&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;461&quot;, (a: &quot;in a&quot;, &quot;derelict&quot;, &quot;jail&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;471&quot;, (a: &quot;in what used to be&quot;, &quot;&quot;, &quot;Emperor Nero&#39;s park&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;481&quot;, (a: &quot;in the&quot;, &quot;derelict&quot;, &quot;surgery of Asclepiades&quot;, &quot;&quot;, &quot;a copper ladder&quot;, &quot;tiled steps&quot;),
	&quot;491&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;mass burial pits&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;501&quot;, (a: &quot;in the&quot;, &quot;enchanted&quot;, &quot;forest of Brocliande&quot;, &quot;&quot;, &quot;a steep dirt bank&quot;, &quot;a slope&quot;),
	&quot;511&quot;, (a: &quot;at a&quot;, &quot;&quot;, &quot;jousting tournament&quot;, &quot;&quot;, &quot;a steep dirt bank&quot;, &quot;a slope&quot;),
	&quot;521&quot;, (a: &quot;in the&quot;, &quot;hidden&quot;, &quot;coastal cave of Merlin the wizard,&quot;, &quot;beneath the castle at Tintagel&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;531&quot;, (a: &quot;by&quot;, &quot;&quot;, &quot;Llyn Ogwen,&quot;, &quot;where the lady of the lake keeps Excalibur&quot;, &quot;a steep dirt bank&quot;, &quot;a gentle slope&quot;),
	&quot;541&quot;, (a: &quot;within the keep of&quot;, &quot;&quot;, &quot;Camelot&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;551&quot;, (a: &quot;at the&quot;, &quot;bloody&quot;, &quot;battlefield at Camlann&quot;, &quot;where Arthur faced Mordredd&quot;, &quot;a dirt bank&quot;, &quot;a trampled slope&quot;),
	&quot;561&quot;, (a: &quot;under the&quot;, &quot;mysterious&quot;, &quot;Bryn Myrddin&quot;, &quot;where the bard Merlin was trapped.&quot;, &quot;a shaft&quot;, &quot;some boulders&quot;),
	&quot;571&quot;, (a: &quot;within the bailey of the&quot;, &quot;mystical&quot;, &quot;castle of Corbenic,&quot;, &quot;where the Holy Grail is rumored to be kept&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;581&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;walled up town&quot;, &quot;where sufferers of the plague are trapped&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;591&quot;, (a: &quot;among the&quot;, &quot;stinking&quot;, &quot;barrows&quot;, &quot;where the Justinian plague&#39;s victims are hurled to their final resting place.&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;601&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;hanging farms&quot;, &quot;where hashish grows abundantly over a thousand clay containers perched on tiered plots&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;611&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;hashish quarter&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;621&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;hashashin&#39;s library&quot;, &quot;where hashashin&#39;s gather and conspire&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;631&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Sultan&#39;s palace&quot;, &quot;where exotic belly dancers entertain the Sultan&#39;s many guests&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;641&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;bustling souk of Al-Madina&quot;, &quot;where vendors from far and wide peddle their wares to the busy city&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;651&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Citadel of Aleppo&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;661&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Jewish quarter&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;671&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;great mosque of Aleppo&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;681&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;penal quarter of the ancient city of Aleppo&quot;, &quot;where sinners and criminals are righteously flogged, mutilated or executed beneath the shadow of the great citadel&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;691&quot;, (a: &quot;in an&quot;, &quot;&quot;, &quot;abandoned town&quot;, &quot;one of many forgotten cities that orbit great Aleppo&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;701&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;emperor&#39;s menagerie at Aachen&quot;, &quot;where strange beasts from far and wide are displayed&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;711&quot;, (a: &quot;in a&quot;, &quot;partly constructed&quot;, &quot;bath house&quot;, &quot;built around the hot springs at Aachen&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;721&quot;, (a: &quot;in the&quot;, &quot;great&quot;, &quot;library at Charlemagne&#39;s court&quot;, &quot;where Peter of Pisa, Paulinus of Aquileia, Paul the Deacon, Theodulf of Orlans, Alcuin of York and Joseph Scottus lead the Carolingian renaissance&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;731&quot;, (a: &quot;in the&quot;, &quot;private&quot;, &quot;gynaeceum&quot;, &quot;where women weave and spin&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;741&quot;, (a: &quot;in the&quot;, &quot;partly constructed&quot;, &quot;Palace of Aachen&quot;, &quot;at the center of the Holy Roman Empire&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;751&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;soldier&#39;s barracks&quot;, &quot;in the city of Aachen&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;761&quot;, (a: &quot;at the&quot;, &quot;&quot;, &quot;dockside on the Wurm&quot;, (either: &quot;where Vikings bring captives from Venice and Byzantium to sell as casati servi&quot;, &quot;where captured Slavs, Avars, Saxons and Danes are sold into slavery&quot;,&quot;&quot;), &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;771&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Palatine chapel&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;781&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;hospice&quot;, &quot;in the palatial complex at Aachen&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;791&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;crypt beneath the Palatine chapel&quot;, &quot;where Charlemagne will one day be buried&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;801&quot;, (a: &quot;in an&quot;, &quot;overgrown&quot;, &quot;part of the marsh near the Athelney abbey&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;811&quot;, (a: &quot;in the&quot;, &quot;swimming&quot;, &quot;wood&quot;, &quot;near the Athelney abbey&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;821&quot;, (a: &quot;in a&quot;, &quot;flooded&quot;, &quot;library&quot;, &quot;near the abbey at Athelney&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;831&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;hall of the enchantress Dame Brusen,&quot;, &quot;where potions of love are boiled and bottled.&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;841&quot;, (a: &quot;in&quot;, &quot;&quot;, &quot;Ethelingaeigge&quot;, &quot;, the fort at Athelney&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;851&quot;, (a: &quot;in a&quot;, &quot;partially submerged&quot;, &quot;tower&quot;, &quot;in the Bristol channel&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;861&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;trapper&#39;s wood&quot;, &quot;near the swamps at Athelney&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;871&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;abbey at Athelney&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;881&quot;, (a: &quot;in the&quot;, &quot;lower&quot;, &quot;marshes&quot;, &quot;near the Bristol Channel&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;891&quot;, (a: &quot;in the&quot;, &quot;lower&quot;, &quot;marshes&quot;, &quot;near the Bristol Channel&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;901&quot;, (a: &quot;in a&quot;, &quot;thorny&quot;, &quot;forest&quot;, &quot;in the First Reich&quot;, &quot;a dirt cliff&quot;, &quot;a slope&quot;),	
	&quot;911&quot;, (a: &quot;at a&quot;, &quot;&quot;, &quot;racing event&quot;, &quot;in the First Reich&quot;, &quot;a ladder&quot;, &quot;metal stairs&quot;),
	&quot;921&quot;, (a: &quot;at a&quot;, &quot;cold mountain&quot;, &quot;training exercise&quot;, &quot;for the German military&quot;, &quot;a ladder&quot;, &quot;a snowy slope&quot;),
	&quot;931&quot;, (a: &quot;at a&quot;, &quot;&quot;, &quot;nunnery&quot;, &quot;in the First Reich&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;941&quot;, (a: &quot;in a&quot;, &quot;luxury&quot;, &quot;skyscraper&quot;, &quot;in the First Reich&quot;, &quot;an elevator&quot;, &quot;some steps&quot;),
	&quot;951&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;courthouse&quot;, &quot;in the First Reich&quot;, &quot;an elevator&quot;, &quot;some steps&quot;),
	&quot;961&quot;, (a: &quot;in a&quot;, &quot;wintry&quot;, &quot;forced labor camp&quot;, &quot;in the First Reich&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;971&quot;, (a: &quot;in an&quot;, &quot;imposing&quot;, &quot;gothic cathedral&quot;, &quot;in the First Reich&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;981&quot;, (a: &quot;in a&quot;, &quot;white tile&quot;, &quot;clinic&quot;, &quot;where grim human experiments take place&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;991&quot;, (a: &quot;by the&quot;, &quot;horrifying&quot;, &quot;death pits&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;a slope&quot;),
	&quot;1001&quot;, (a: &quot;in the&quot;, &quot;glacial&quot;, &quot;cathedral of St Nicolas&quot;, &quot;, the patron saint of children&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1011&quot;, (a: &quot;in the&quot;, &quot;bewildering&quot;, &quot;rectory of Teresa of vila&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1021&quot;, (a: &quot;in the&quot;, &quot;ivory&quot;, &quot;towers of the Albertus Magnus basilica&quot;, &quot;, the church devoted to the patron of students and philosophers&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1031&quot;, (a: &quot;in the&quot;, &quot;austere&quot;, &quot;mountain convent&quot;, &quot;of the Magdalene&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1041&quot;, (a: &quot;in the&quot;, &quot;towering&quot;, &quot;city chapel of Homobonus&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1051&quot;, (a: &quot;in the&quot;, &quot;demanding&quot;, &quot;warrior&#39;s priory&quot;, &quot;of Adrian of Nicomedia&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1061&quot;, (a: &quot;in the&quot;, &quot;remote&quot;, &quot;cenobium of St Leonard the hermit&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1071&quot;, (a: &quot;in the&quot;, &quot;lush&quot;, &quot;abbey of Saint Phocas the gardener&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1081&quot;, (a: &quot;in the&quot;, &quot;rivered&quot;, &quot;ruin of Raphael the Archangel&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1091&quot;, (a: &quot;in the&quot;, &quot;eerie&quot;, &quot;grounds of St Joseph of Arimathea&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1101&quot;, (a: &quot;in the&quot;, &quot;same&quot;, &quot;New Forest&quot;, &quot;where the king lies dead&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1111&quot;, (a: &quot;at an&quot;, &quot;&quot;, &quot;archery tournament&quot;, &quot;near the New Forest&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1121&quot;, (a: &quot;in&quot;, &quot;&quot;, &quot;London&#39;s New Temple&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1131&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Maubergeonne Tower in Poitiers&quot;, &quot;, where Eleanor of Aquitaine presides over matters of fidelity and marriage&quot;, &quot;some spiral steps&quot;, &quot;some steps&quot;),
	&quot;1141&quot;, (a: &quot;at the&quot;, &quot;&quot;, &quot;camp of Robin Hood&quot;, &quot;in Sherwood forest&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1151&quot;, (a: &quot;at a&quot;, &quot;&quot;, &quot;garrison&quot;, &quot;of defeated knights, returning from the crusades&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1161&quot;, (a: &quot;in the&quot;, &quot;dingy&quot;, &quot;gaol of the Sheriff, beneath Nottingham castle&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1171&quot;, (a: &quot;in the&quot;, &quot;magnificent&quot;, &quot;cathedral at Canterbury, where Thomas Beckett was murdered by the king&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1181&quot;, (a: &quot;at the&quot;, &quot;abandoned&quot;, &quot;motte of Robert of Lockley&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1191&quot;, (a: &quot;at the&quot;, &quot;&quot;, &quot;wreckage of the white ship&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1201&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;city of Yinchuan&quot;, &quot;, which is rebuilding after being flooded and conquered by the Mongol hordes&quot;, &quot;spiraling steps&quot;, &quot;some steps&quot;),
	&quot;1211&quot;, (a: &quot;in the&quot;, &quot;flourishing&quot;, &quot;middle eastern city of Damascus&quot;, &quot;, where no-one has yet heard of the murderous Mongol hordes that thunder beyond the horizon&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1221&quot;, (a: &quot;in the&quot;, &quot;grandiose&quot;, &quot;quarters of the Khan&#39;s emissary in Chennai&quot;, &quot;, where the shelves are filled with maps and books&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1231&quot;, (a: &quot;in the&quot;, &quot;sacked&quot;, &quot;city of Bukhara&quot;, &quot;, where only women remain after the males were slaughtered by the Mongols&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1241&quot;, (a: &quot;in the caravan of the&quot;, &quot;&quot;, &quot;Mongol hordes&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1251&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;city of Lahore&quot;, &quot;, where Persians and Mongols fight against the locals and one another for control&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1261&quot;, (a: &quot;in the&quot;, &quot;bitterly cold&quot;, &quot;city of Kiev&quot;, &quot;, where the Mongols have enslaved the local populace&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1271&quot;, (a: &quot;on the&quot;, &quot;&quot;, &quot;slopes of Khan Tengri&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1281&quot;, (a: &quot;amongst the&quot;, &quot;&quot;, &quot;storm tossed wreckage of the Mongol fleet off Japan&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1291&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;inferno of Merv&quot;, &quot;, which the Mongols have razed after slaughtering its inhabitants&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1301&quot;, (a: &quot;on a&quot;, &quot;bucolic&quot;, &quot;manor&quot;, &quot;in Northumbria&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1311&quot;, (a: &quot;in the&quot;, &quot;fairy&quot;, &quot;palace&quot;, &quot;of Piers Gaveston&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1321&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;devil&#39;s wood&quot;, &quot;, where witches tell the news of places far aflung&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1331&quot;, (a: &quot;at the&quot;, &quot;rebel&quot;, &quot;camp&quot;, &quot;of Isabella and her son the Prince Edward&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1341&quot;, (a: &quot;at a&quot;, &quot;peaceful&quot;, &quot;village&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1351&quot;, (a: &quot;at the&quot;, &quot;bloody&quot;, &quot;battle of Bannockburn&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1361&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;house of William de Leyrer&quot;, &quot;, where the infernal howling and banging of the imprisoned devil William Wallace thunders up from the basement, shuddering the house to its foundations&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1371&quot;, (a: &quot;in the&quot;, &quot;modest&quot;, &quot;St Mary the Virgin church at Ludgershall&quot;, &quot;, where the heretic John Wycliffe translates the bible into English&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1381&quot;, (a: &quot;in the&quot;, &quot;putrid&quot;, &quot;practice&quot;, &quot;of a plague doctor&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1391&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;cathedral city of Canterbury&quot;, &quot;where the peasant followers of Wat Tyler hang royal officals by their necks&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1401&quot;, (a: &quot;in the&quot;, &quot;humid, sticky&quot;, &quot;jungles of the new world&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1411&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;bear pits&quot;, &quot;of York&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1421&quot;, (a: &quot;in the&quot;, &quot;busy&quot;, &quot;city of Strasbourg&quot;, &quot;, where bibles printed on Guttenberg&#39;s press are sold for a penny at every street corner&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1431&quot;, (a: &quot;in the&quot;, &quot;pious&quot;, &quot;ranks of Joan of Arc&#39;s army&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1441&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Aztec capital&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1451&quot;, (a: &quot;in the&quot;, &quot;besieged&quot;, &quot;city of Constantinople&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1461&quot;, (a: &quot;in&quot;, &quot;&quot;, &quot;Lambeth palace&quot;, &quot;, where the Lollards are held prisoner&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1471&quot;, (a: &quot;in&quot;, &quot;&quot;, &quot;St Peter&#39;s basilica&quot;, &quot;in the Vatican City&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1481&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Carcel de la Inquisicion in Seville&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1491&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;forest of corpses surrounding Trgovite, Wallachia&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1501&quot;, (a: &quot;on a&quot;, &quot;&quot;, &quot;potato farm&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1511&quot;, (a: &quot;at a&quot;, &quot;&quot;, &quot;bowling green&quot;, &quot;somewhere in an Elizabethan village&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1521&quot;, (a: &quot;at the&quot;, &quot;&quot;, &quot;inns of chancery&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1531&quot;, (a: &quot;at a&quot;, &quot;&quot;, &quot;dockside&quot;, &quot;where catholic nuns and monks seek to flee to the continent&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1541&quot;, (a: &quot;at the&quot;, &quot;&quot;, &quot;house of Thomas More&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1551&quot;, (a: &quot;on a&quot;, &quot;&quot;, &quot;ship&quot;, &quot;sailing against the Spanish Armada&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1561&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;tower&quot;, &quot;wherein a royal woman is held prisoner&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1571&quot;, (a: &quot;at&quot;, &quot;&quot;, &quot;Singleton Hall&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1581&quot;, (a: &quot;in an&quot;, &quot;abandoned&quot;, &quot;rectory&quot;, &quot;strewn with the remains of statues of the Virgin Mary and saints&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1591&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;public square&quot;, &quot;where heretics are put to the torch&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1601&quot;, (a: &quot;on a&quot;, &quot;&quot;, &quot;farm&quot;, &quot;blighted by the curse of witches&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1611&quot;, (a: &quot;at the&quot;, &quot;diabolical&quot;, &quot;festival of Beltane&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1621&quot;, (a: &quot;at the&quot;, &quot;&quot;, &quot;college of skeptics&quot;, &quot;where acolytes study Scot&#39;s Discoverie of Witchcraft and Weyer&#39;s De Prstigiis Demonum&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1631&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;woods&quot;, &quot;where beautiful witches cavort&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1641&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;colonial house&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1651&quot;, (a: &quot;at a&quot;, &quot;&quot;, &quot;skirmish&quot;, &quot;between colonists and natives&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1661&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;jail&quot;, &quot;where witches are held&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1671&quot;, (a: &quot;at the&quot;, &quot;&quot;, &quot;temple of satanic worship&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1681&quot;, (a: &quot;at the&quot;, &quot;&quot;, &quot;hall of the witchpricker&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1691&quot;, (a: &quot;at the&quot;, &quot;&quot;, &quot;lake&quot;, &quot;where witches are drowned&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1701&quot;, (a: &quot;at a&quot;, &quot;failing farm&quot;, &quot;in northern France&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1711&quot;, (a: &quot;at the&quot;, &quot;&quot;, &quot;Tuileries&quot;, &quot;where the children of royals and the aristocracy are imprisoned&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1721&quot;, (a: &quot;at the&quot;, &quot;&quot;, &quot;Jacobin club&quot;, &quot;situated at a former convent of the Dominicans&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1731&quot;, (a: &quot;at the&quot;, &quot;&quot;, &quot;prison of Marie Antoinette&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1741&quot;, (a: &quot;at the&quot;, &quot;&quot;, &quot;Caf Le Procope&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1751&quot;, (a: &quot;at the&quot;, &quot;&quot;, &quot;center of the revolutionary turbulence in Paris&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1761&quot;, (a: &quot;at the&quot;, &quot;&quot;, &quot;Tour du Temple&quot;, &quot;where Louis XVI is imprisoned&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1771&quot;, (a: &quot;at the&quot;, &quot;&quot;, &quot;festival of the supreme being&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1781&quot;, (a: &quot;at the&quot;, &quot;&quot;, &quot;Bastille&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1791&quot;, (a: &quot;at the&quot;, &quot;&quot;, &quot;Place de la Rvolution&quot;, &quot;where the guillotine looms ominously&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1801&quot;, (a: &quot;in the&quot;, &quot;Endell Street&quot;, &quot;Lying-In hospital&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1811&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;work-house of Mrs Mann&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1821&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Baker Street house of Sherlock Holmes&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1831&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;red lantern district in Spitalfields, Whitechapel&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1841&quot;, (a: &quot;at the&quot;, &quot;plush&quot;, &quot;town house&quot;, &quot;of Dorian Gray&quot;, &quot;some steps&quot;, &quot;some steps&quot;),
	&quot;1851&quot;, (a: &quot;at&quot;, &quot;Wannop&#39;s&quot;, &quot;gymnasium&quot;, &quot;at The Glass House on New Cross Road&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1861&quot;, (a: &quot;in&quot;, &quot;&quot;, &quot;Newgate prison&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1871&quot;, (a: &quot;in&quot;, &quot;&quot;, &quot;Aleister Crowley&#39;s temple&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1881&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Bethlem madhouse&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1891&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;network of vaults beneath Charing Cross&quot;, &quot;where the resurrection men store their stolen bodies&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1901&quot;, (a: &quot;on a&quot;, &quot;&quot;, &quot;grain farm&quot;, &quot;in soviet Ukraine&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1911&quot;, (a: &quot;at the&quot;, &quot;entrance to the&quot;, &quot;Grand Arena of the Central Lenin Stadium&quot;, &quot;in Moscow&quot;, &quot;GENERAL LANGUAGE 5&quot;, &quot;GENERAL LANGUAGE 6&quot;),
	&quot;1921&quot;, (a: &quot;in the&quot;, &quot;dusty&quot;, &quot;KGB archive&quot;, &quot;&quot;, &quot;GENERAL LANGUAGE 5&quot;, &quot;GENERAL LANGUAGE 6&quot;),
	&quot;1931&quot;, (a: &quot;at the&quot;, &quot;entrance to the&quot;, &quot;Rabotnitsa&quot;, &quot;journalists&#39; office and printing press&quot;, &quot;GENERAL LANGUAGE 5&quot;, &quot;GENERAL LANGUAGE 6&quot;),
	&quot;1941&quot;, (a: &quot;at the&quot;, &quot;wall of the&quot;, &quot;Kremlin&quot;, &quot;in Soviet Moscow&quot;, &quot;GENERAL LANGUAGE 5&quot;, &quot;GENERAL LANGUAGE 6&quot;),
	&quot;1951&quot;, (a: &quot;on a&quot;, &quot;desert&quot;, &quot;battlefield&quot;, &quot;in Afghanistan&quot;, &quot;GENERAL LANGUAGE 5&quot;, &quot;GENERAL LANGUAGE 6&quot;),
	&quot;1961&quot;, (a: &quot;GENERAL LANGUAGE 1&quot;, &quot;GENERAL LANGUAGE 2&quot;, &quot;GENERAL LANGUAGE 3&quot;, &quot;GENERAL LANGUAGE 4&quot;, &quot;GENERAL LANGUAGE 5&quot;, &quot;GENERAL LANGUAGE 6&quot;),
	&quot;1971&quot;, (a: &quot;before&quot;, &quot;&quot;, &quot;St Basil&#39;s cathedral&quot;, &quot;in Moscow&quot;, &quot;GENERAL LANGUAGE 5&quot;, &quot;GENERAL LANGUAGE 6&quot;),
	&quot;1981&quot;, (a: &quot;at the&quot;, &quot;Berlin wall&quot;, &quot;&quot;, &quot;&quot;, &quot;GENERAL LANGUAGE 5&quot;, &quot;GENERAL LANGUAGE 6&quot;),
	&quot;1991&quot;, (a: &quot;in the&quot;, &quot;derelict&quot;, &quot;city of Pripyat&quot;, &quot;under the shadow of the Chernobyl reactor&quot;, &quot;GENERAL LANGUAGE 5&quot;, &quot;GENERAL LANGUAGE 6&quot;),	&quot;2001&quot;, (a: &quot;GENERAL LANGUAGE 1&quot;, &quot;GENERAL LANGUAGE 2&quot;, &quot;GENERAL LANGUAGE 3&quot;, &quot;GENERAL LANGUAGE 4&quot;, &quot;GENERAL LANGUAGE 5&quot;, &quot;GENERAL LANGUAGE 6&quot;),
	&quot;2011&quot;, (a: &quot;GENERAL LANGUAGE 1&quot;, &quot;GENERAL LANGUAGE 2&quot;, &quot;GENERAL LANGUAGE 3&quot;, &quot;GENERAL LANGUAGE 4&quot;, &quot;GENERAL LANGUAGE 5&quot;, &quot;GENERAL LANGUAGE 6&quot;),
	&quot;2021&quot;, (a: &quot;GENERAL LANGUAGE 1&quot;, &quot;GENERAL LANGUAGE 2&quot;, &quot;GENERAL LANGUAGE 3&quot;, &quot;GENERAL LANGUAGE 4&quot;, &quot;GENERAL LANGUAGE 5&quot;, &quot;GENERAL LANGUAGE 6&quot;),
	&quot;2031&quot;, (a: &quot;GENERAL LANGUAGE 1&quot;, &quot;GENERAL LANGUAGE 2&quot;, &quot;GENERAL LANGUAGE 3&quot;, &quot;GENERAL LANGUAGE 4&quot;, &quot;GENERAL LANGUAGE 5&quot;, &quot;GENERAL LANGUAGE 6&quot;),
	&quot;2041&quot;, (a: &quot;GENERAL LANGUAGE 1&quot;, &quot;GENERAL LANGUAGE 2&quot;, &quot;GENERAL LANGUAGE 3&quot;, &quot;GENERAL LANGUAGE 4&quot;, &quot;GENERAL LANGUAGE 5&quot;, &quot;GENERAL LANGUAGE 6&quot;),
	&quot;2051&quot;, (a: &quot;GENERAL LANGUAGE 1&quot;, &quot;GENERAL LANGUAGE 2&quot;, &quot;GENERAL LANGUAGE 3&quot;, &quot;GENERAL LANGUAGE 4&quot;, &quot;GENERAL LANGUAGE 5&quot;, &quot;GENERAL LANGUAGE 6&quot;),
	&quot;2061&quot;, (a: &quot;GENERAL LANGUAGE 1&quot;, &quot;GENERAL LANGUAGE 2&quot;, &quot;GENERAL LANGUAGE 3&quot;, &quot;GENERAL LANGUAGE 4&quot;, &quot;GENERAL LANGUAGE 5&quot;, &quot;GENERAL LANGUAGE 6&quot;),
	&quot;2071&quot;, (a: &quot;GENERAL LANGUAGE 1&quot;, &quot;GENERAL LANGUAGE 2&quot;, &quot;GENERAL LANGUAGE 3&quot;, &quot;GENERAL LANGUAGE 4&quot;, &quot;GENERAL LANGUAGE 5&quot;, &quot;GENERAL LANGUAGE 6&quot;),
	&quot;2081&quot;, (a: &quot;GENERAL LANGUAGE 1&quot;, &quot;GENERAL LANGUAGE 2&quot;, &quot;GENERAL LANGUAGE 3&quot;, &quot;GENERAL LANGUAGE 4&quot;, &quot;GENERAL LANGUAGE 5&quot;, &quot;GENERAL LANGUAGE 6&quot;),
	&quot;2091&quot;, (a: &quot;GENERAL LANGUAGE 1&quot;, &quot;GENERAL LANGUAGE 2&quot;, &quot;GENERAL LANGUAGE 3&quot;, &quot;GENERAL LANGUAGE 4&quot;, &quot;GENERAL LANGUAGE 5&quot;, &quot;GENERAL LANGUAGE 6&quot;)
	))
	
	}</tw-passagedata><tw-passagedata pid="39" name="set complex sentences" tags="startup" position="219,1770" size="100,100">{
&lt;!-- builds the introductory sentences for each type of passage. 
Presupposes: roomPhrase and passagePhrase builders already produce part of the sentence. .  
Called By: refreshSentences
--&gt;
(set: $setComplexSentences to 
(macro: [
	(set: $complexSentence to &quot;You are &quot;
		+ ($setRoomPhrase:)
		+ ($somewhere:) 
		+ 1st of $complexLanguage
		+ &quot; &quot; 
		+ $ruinsOfThe
		+ 2nd of $complexLanguage
		+ &quot; &quot;
		+ 3rd of $complexLanguage
		+ &quot; &quot;
		+ 4th of $complexLanguage
		)
	(set: $complexSentence2 to &quot;You are &quot;
		+ ($setPassagePhrase:)
		+ ($somewhere:) 
		+ 1st of $complexLanguage
		+ &quot; &quot; 
		+ 2nd of $complexLanguage
		+ &quot; &quot;
		+ 3rd of $complexLanguage
		+ &quot; &quot;
		+ 4th of $complexLanguage
	)
	(set: $complexSentence3 to &quot;You are &quot;
		+ ($setRoomPhrase2:) 
		+ &quot; &quot; 
		+ 1st of $complexLanguage
		+ &quot; &quot; 
		+ 2nd of $complexLanguage
		+ &quot; &quot;
		+ 3rd of $complexLanguage
		+ &quot; &quot;
		+ 4th of $complexLanguage
	)
	(output-data:&quot;&quot;)
	]))
&lt;!--Dummy code to create arrows, in interface, to called functions --&gt;
[[ -&gt;set passage phrase]]
[[ -&gt;set room phrase]]
[[ -&gt;set room phrase 2]]
	
}</tw-passagedata><tw-passagedata pid="40" name="passage terms database" tags="startup" position="646,1841" size="100,100">{
(set: $passageTerms to (dm: 
	&quot;0&quot;, (a: &quot;humid&quot;, &quot;tunnel&quot;),
	&quot;1&quot;, (a: &quot;earthy&quot;, &quot;path&quot;),
	&quot;11&quot;, (a: &quot;baking hot&quot;, &quot;corridor&quot;),
	&quot;21&quot;, (a: &quot;dim&quot;, &quot;passage&quot;),
	&quot;31&quot;, (a: &quot;cool&quot;, &quot;tunnel&quot;),
	&quot;41&quot;, (a: &quot;sandy&quot;, &quot;tunnel&quot;),
	&quot;51&quot;, (a: &quot;stone&quot;, &quot;corridor&quot;),
	&quot;61&quot;, (a: &quot;forbidding&quot;, &quot;corridor&quot;),
	&quot;71&quot;, (a: &quot;quiet&quot;, &quot;aisle&quot;),
	&quot;81&quot;, (a: &quot;neglected&quot;, &quot;tunnel&quot;),
	&quot;91&quot;, (a: &quot;cool&quot;, &quot;corridor&quot;),
	&quot;100&quot;, (a: &quot;busy&quot;, &quot;street&quot;),
	&quot;101&quot;, (a: &quot;rock brick&quot;, &quot;path&quot;),
	&quot;111&quot;, (a: &quot;sandy&quot;, &quot;passageway&quot;),
	&quot;121&quot;, (a: &quot;sandy&quot;, &quot;passageway&quot;),
	&quot;131&quot;, (a: &quot;curtained&quot;, &quot;hall&quot;),
	&quot;141&quot;, (a: &quot;sumptuous&quot;, &quot;corridor&quot;),
	&quot;151&quot;, (a: &quot;brick&quot;, &quot;alley&quot;),
	&quot;161&quot;, (a: &quot;bustling&quot;, &quot;aisle&quot;),
	&quot;171&quot;, (a: &quot;tranquil&quot;, &quot;aisle&quot;),
	&quot;181&quot;, (a: &quot;tiled&quot;, &quot;corridor&quot;),
	&quot;191&quot;, (a: &quot;cobbled&quot;, &quot;path&quot;),
	&quot;201&quot;, (a: &quot;raised wooden&quot;, &quot;path&quot;),
	&quot;211&quot;, (a: &quot;candlelit&quot;, &quot;path&quot;),
	&quot;221&quot;, (a: &quot;vaulted&quot;, &quot;corridor&quot;),
	&quot;231&quot;, (a: &quot;wooden&quot;, &quot;passage&quot;),
	&quot;241&quot;, (a: &quot;airy&quot;, &quot;corridor&quot;),
	&quot;251&quot;, (a: &quot;rock wall&quot;, &quot;passage&quot;),
	&quot;261&quot;, (a: &quot;dirt&quot;, &quot;roadway&quot;),
	&quot;271&quot;, (a: &quot;tiled&quot;, &quot;path&quot;),
	&quot;281&quot;, (a: &quot;ruined&quot;, &quot;corridor&quot;),
	&quot;291&quot;, (a: &quot;silent&quot;, &quot;path&quot;),
	&quot;301&quot;, (a: &quot;country&quot;, &quot;lane&quot;),
	&quot;311&quot;, (a: &quot;backstage&quot;, &quot;passage&quot;),
	&quot;321&quot;, (a: &quot;pillared&quot;, &quot;arcade&quot;),
	&quot;331&quot;, (a: &quot;moonlit&quot;, &quot;aisle&quot;),
	&quot;341&quot;, (a: &quot;paneled&quot;, &quot;passage&quot;),
	&quot;351&quot;, (a: &quot;muddy&quot;, &quot;trench&quot;),
	&quot;361&quot;, (a: &quot;wooden&quot;, &quot;walkway&quot;),
	&quot;371&quot;, (a: &quot;enclosed&quot;, &quot;path&quot;),
	&quot;381&quot;, (a: &quot;glassy&quot;, &quot;corridor&quot;),
	&quot;391&quot;, (a: &quot;damp&quot;, &quot;passage&quot;),
	&quot;401&quot;, (a: &quot;brambly&quot;, &quot;path&quot;),
	&quot;411&quot;, (a: &quot;dirt&quot;, &quot;thoroughfare&quot;),
	&quot;421&quot;, (a: &quot;&quot;, &quot;aisle of shelves&quot;),
	&quot;431&quot;, (a: &quot;draughty&quot;, &quot;corridor&quot;),
	&quot;441&quot;, (a: &quot;crumbling&quot;, &quot;hallway&quot;),
	&quot;451&quot;, (a: &quot;&quot;, &quot;passage&quot;),
	&quot;461&quot;, (a: &quot;&quot;, &quot;passage&quot;),
	&quot;471&quot;, (a: &quot;abundant and overgrown&quot;, &quot;path&quot;),
	&quot;481&quot;, (a: &quot;trash strewn&quot;, &quot;corridor&quot;),
	&quot;491&quot;, (a: &quot;bone lined&quot;, &quot;passage&quot;),
	&quot;501&quot;, (a: &quot;leafy&quot;, &quot;path&quot;),
	&quot;511&quot;, (a: &quot;muddy&quot;, &quot;thoroughfare&quot;),
	&quot;521&quot;, (a: &quot;cavernous&quot;, &quot;passage&quot;),
	&quot;531&quot;, (a: &quot;glimmering&quot;, &quot;path&quot;),
	&quot;541&quot;, (a: &quot;stone&quot;, &quot;corridor&quot;),
	&quot;551&quot;, (a: &quot;bloody&quot;, &quot;path&quot;),
	&quot;561&quot;, (a: &quot;cavernous&quot;, &quot;passage&quot;),
	&quot;571&quot;, (a: &quot;stone&quot;, &quot;walkway&quot;),
	&quot;581&quot;, (a: &quot;dirty&quot;, &quot;mud-street&quot;),
	&quot;591&quot;, (a: &quot;stinking&quot;, &quot;passage&quot;),
	&quot;601&quot;, (a: &quot;leafy&quot;, &quot;path&quot;),
	&quot;611&quot;, (a: &quot;pungent&quot;, &quot;alley&quot;),
	&quot;621&quot;, (a: &quot;whispering&quot;, &quot;aisle&quot;),
	&quot;631&quot;, (a: &quot;raucous&quot;, &quot;colonade&quot;),
	&quot;641&quot;, (a: &quot;teaming&quot;, &quot;arcade&quot;),
	&quot;651&quot;, (a: &quot;limestone&quot;, &quot;passageway&quot;),
	&quot;661&quot;, (a: &quot;narrow&quot;, &quot;street&quot;),
	&quot;671&quot;, (a: &quot;solemn&quot;, &quot;aisle&quot;),
	&quot;681&quot;, (a: &quot;shadowy&quot;, &quot;alley&quot;),
	&quot;691&quot;, (a: &quot;windy&quot;, &quot;street&quot;),
	&quot;701&quot;, (a: &quot;&quot;, &quot;passage&quot;),
	&quot;711&quot;, (a: &quot;puddled&quot;, &quot;walkway&quot;),
	&quot;721&quot;, (a: &quot;quiet&quot;, &quot;aisle&quot;),
	&quot;731&quot;, (a: &quot;wild&quot;, &quot;path&quot;),
	&quot;741&quot;, (a: &quot;marble&quot;, &quot;corridor&quot;),
	&quot;751&quot;, (a: &quot;functional&quot;, &quot;yard&quot;),
	&quot;761&quot;, (a: &quot;wooden&quot;, &quot;jetty&quot;),
	&quot;771&quot;, (a: &quot;&quot;, &quot;corridor&quot;),
	&quot;781&quot;, (a: &quot;well maintained&quot;, &quot;corridor&quot;),
	&quot;791&quot;, (a: &quot;dark&quot;, &quot;passage&quot;),
	&quot;801&quot;, (a: &quot;swamped&quot;, &quot;path&quot;),
	&quot;811&quot;, (a: &quot;mossy&quot;, &quot;path&quot;),
	&quot;821&quot;, (a: &quot;flooded&quot;, &quot;corridor&quot;),
	&quot;831&quot;, (a: &quot;crooked&quot;, &quot;hallway&quot;),
	&quot;841&quot;, (a: &quot;stone brick&quot;, &quot;passage&quot;),
	&quot;851&quot;, (a: &quot;salty&quot;, &quot;passage&quot;),
	&quot;861&quot;, (a: &quot;misty&quot;, &quot;trail&quot;),
	&quot;871&quot;, (a: &quot;chilly&quot;, &quot;passage&quot;),
	&quot;881&quot;, (a: &quot;brush&quot;, &quot;path&quot;),
	&quot;891&quot;, (a: &quot;putrid&quot;, &quot;canal&quot;),
	&quot;901&quot;, (a: &quot;tortuous&quot;, &quot;path&quot;),
	&quot;911&quot;, (a: &quot;skid marked&quot;, &quot;track&quot;),
	&quot;921&quot;, (a: &quot;snow packed&quot;, &quot;track&quot;),
	&quot;931&quot;, (a: &quot;well tended&quot;, &quot;path&quot;),
	&quot;941&quot;, (a: &quot;vacuumed&quot;, &quot;hallway&quot;),
	&quot;951&quot;, (a: &quot;polished&quot;, &quot;corridor&quot;),
	&quot;961&quot;, (a: &quot;dirt&quot;, &quot;thoroughfare&quot;),
	&quot;971&quot;, (a: &quot;towering&quot;, &quot;aisle&quot;),
	&quot;981&quot;, (a: &quot;striplight&quot;, &quot;corridor&quot;),
	&quot;991&quot;, (a: &quot;&quot;, &quot;ditch&quot;),
	&quot;1001&quot;, (a: &quot;wintry&quot;, &quot;cloister&quot;),
	&quot;1011&quot;, (a: &quot;checkered&quot;, &quot;aisle&quot;),
	&quot;1021&quot;, (a: &quot;ivory&quot;, &quot;corridor&quot;),
	&quot;1031&quot;, (a: &quot;simple&quot;, &quot;passage&quot;),
	&quot;1041&quot;, (a: &quot;vacuumed&quot;, &quot;corridor&quot;),
	&quot;1051&quot;, (a: &quot;clay tiled&quot;, &quot;passage&quot;),
	&quot;1061&quot;, (a: &quot;cold stone&quot;, &quot;passageway&quot;),
	&quot;1071&quot;, (a: &quot;gardened&quot;, &quot;cloister&quot;),
	&quot;1081&quot;, (a: &quot;ruined, overgrown&quot;, &quot;aisle&quot;),
	&quot;1091&quot;, (a: &quot;ominous&quot;, &quot;path&quot;),
	&quot;1101&quot;, (a: &quot;winding&quot;, &quot;path&quot;),
	&quot;1111&quot;, (a: &quot;temporary&quot;, &quot;thoroughfare&quot;),
	&quot;1121&quot;, (a: &quot;echoey&quot;, &quot;corridor&quot;),
	&quot;1131&quot;, (a: &quot;suffocating&quot;, &quot;passageway&quot;),
	&quot;1141&quot;, (a: &quot;temporary&quot;, &quot;thoroughfare&quot;),
	&quot;1151&quot;, (a: &quot;temporary&quot;, &quot;thoroughfare&quot;),
	&quot;1161&quot;, (a: &quot;damp&quot;, &quot;passage&quot;),
	&quot;1171&quot;, (a: &quot;silent&quot;, &quot;passage&quot;),
	&quot;1181&quot;, (a: &quot;forsaken&quot;, &quot;passageway&quot;),
	&quot;1191&quot;, (a: &quot;brittle&quot;, &quot;gangway&quot;),
	&quot;1201&quot;, (a: &quot;flooded&quot;, &quot;waterway&quot;),
	&quot;1211&quot;, (a: &quot;sunny&quot;, &quot;alley&quot;),
	&quot;1221&quot;, (a: &quot;dusty&quot;, &quot;passageway&quot;),
	&quot;1231&quot;, (a: &quot;rubbled&quot;, &quot;street&quot;),
	&quot;1241&quot;, (a: &quot;dirt&quot;, &quot;thoroughfare&quot;),
	&quot;1251&quot;, (a: &quot;anarchic&quot;, &quot;boulevard&quot;),
	&quot;1261&quot;, (a: &quot;defeated&quot;, &quot;vulitsa&quot;),
	&quot;1271&quot;, (a: &quot;snowy&quot;, &quot;pass&quot;),
	&quot;1281&quot;, (a: &quot;makeshift&quot;, &quot;raft&quot;),
	&quot;1291&quot;, (a: &quot;fiery&quot;, &quot;avenue&quot;),
	&quot;1301&quot;, (a: &quot;sunny&quot;, &quot;lane&quot;),
	&quot;1311&quot;, (a: &quot;opulent&quot;, &quot;passage&quot;),
	&quot;1321&quot;, (a: &quot;weathered&quot;, &quot;track&quot;),
	&quot;1331&quot;, (a: &quot;dirt&quot;, &quot;thoroughfare&quot;),
	&quot;1341&quot;, (a: &quot;bumpy&quot;, &quot;lane&quot;),
	&quot;1351&quot;, (a: &quot;grassy&quot;, &quot;opening&quot;),
	&quot;1361&quot;, (a: &quot;narrow&quot;, &quot;hallway&quot;),
	&quot;1371&quot;, (a: &quot;gloomy&quot;, &quot;passage&quot;),
	&quot;1381&quot;, (a: &quot;grimy&quot;, &quot;passage&quot;),
	&quot;1391&quot;, (a: &quot;bloody&quot;, &quot;street&quot;),
	&quot;1401&quot;, (a: &quot;humid&quot;, &quot;trail&quot;),
	&quot;1411&quot;, (a: &quot;rowdy&quot;, &quot;alley&quot;),
	&quot;1421&quot;, (a: &quot;busy&quot;, &quot;street&quot;),
	&quot;1431&quot;, (a: &quot;muddy&quot;, &quot;thoroughfare&quot;),
	&quot;1441&quot;, (a: &quot;angular&quot;, &quot;walkway&quot;),
	&quot;1451&quot;, (a: &quot;smoky&quot;, &quot;rampart&quot;),
	&quot;1461&quot;, (a: &quot;damp&quot;, &quot;corridor&quot;),
	&quot;1471&quot;, (a: &quot;bejeweled&quot;, &quot;hallway&quot;),
	&quot;1481&quot;, (a: &quot;dolorous&quot;, &quot;passage&quot;),
	&quot;1491&quot;, (a: &quot;macabre&quot;, &quot;path&quot;),
	&quot;1501&quot;, (a: &quot;muddy&quot;, &quot;trail&quot;),
	&quot;1511&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1521&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1531&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1541&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1551&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1561&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1571&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1581&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1591&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1601&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1611&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1621&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1631&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1641&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1651&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1661&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1671&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1681&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1691&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1701&quot;, (a: &quot;dirt&quot;, &quot;path&quot;),
	&quot;1711&quot;, (a: &quot;wide&quot;, &quot;corridor&quot;),
	&quot;1721&quot;, (a: &quot;PASSAGE TERMS DATABASE&quot;, &quot;PASSAGE TERMS DATABASE&quot;),
	&quot;1731&quot;, (a: &quot;PASSAGE TERMS DATABASE&quot;, &quot;PASSAGE TERMS DATABASE&quot;),
	&quot;1741&quot;, (a: &quot;PASSAGE TERMS DATABASE&quot;, &quot;PASSAGE TERMS DATABASE&quot;),
	&quot;1751&quot;, (a: &quot;&quot;, &quot;street&quot;),
	&quot;1761&quot;, (a: &quot;PASSAGE TERMS DATABASE&quot;, &quot;PASSAGE TERMS DATABASE&quot;),
	&quot;1771&quot;, (a: &quot;PASSAGE TERMS DATABASE&quot;, &quot;PASSAGE TERMS DATABASE&quot;),
	&quot;1781&quot;, (a: &quot;PASSAGE TERMS DATABASE&quot;, &quot;PASSAGE TERMS DATABASE&quot;),
	&quot;1791&quot;, (a: &quot;PASSAGE TERMS DATABASE&quot;, &quot;PASSAGE TERMS DATABASE&quot;),
	&quot;1801&quot;, (a: &quot;PASSAGE TERMS DATABASE&quot;, &quot;PASSAGE TERMS DATABASE&quot;),
	&quot;1811&quot;, (a: &quot;PASSAGE TERMS DATABASE&quot;, &quot;PASSAGE TERMS DATABASE&quot;),
	&quot;1821&quot;, (a: &quot;PASSAGE TERMS DATABASE&quot;, &quot;PASSAGE TERMS DATABASE&quot;),
	&quot;1831&quot;, (a: &quot;dank&quot;, &quot;alley&quot;),
	&quot;1841&quot;, (a: &quot;PASSAGE TERMS DATABASE&quot;, &quot;PASSAGE TERMS DATABASE&quot;),
	&quot;1851&quot;, (a: &quot;PASSAGE TERMS DATABASE&quot;, &quot;PASSAGE TERMS DATABASE&quot;),
	&quot;1861&quot;, (a: &quot;PASSAGE TERMS DATABASE&quot;, &quot;PASSAGE TERMS DATABASE&quot;),
	&quot;1871&quot;, (a: &quot;PASSAGE TERMS DATABASE&quot;, &quot;PASSAGE TERMS DATABASE&quot;),
	&quot;1881&quot;, (a: &quot;dirty&quot;, &quot;corridor&quot;),
	&quot;1891&quot;, (a: &quot;PASSAGE TERMS DATABASE&quot;, &quot;PASSAGE TERMS DATABASE&quot;),
	&quot;1901&quot;, (a: &quot;muddy&quot;, &quot;patch of scrub land&quot;),
	&quot;1911&quot;, (a: &quot;PASSAGE TERMS DATABASE&quot;, &quot;PASSAGE TERMS DATABASE&quot;),
	&quot;1921&quot;, (a: &quot;PASSAGE TERMS DATABASE&quot;, &quot;PASSAGE TERMS DATABASE&quot;),
	&quot;1931&quot;, (a: &quot;PASSAGE TERMS DATABASE&quot;, &quot;PASSAGE TERMS DATABASE&quot;),
	&quot;1941&quot;, (a: &quot;PASSAGE TERMS DATABASE&quot;, &quot;PASSAGE TERMS DATABASE&quot;),
	&quot;1951&quot;, (a: &quot;dusty&quot;, &quot;path&quot;),
	&quot;1961&quot;, (a: &quot;PASSAGE TERMS DATABASE&quot;, &quot;PASSAGE TERMS DATABASE&quot;),
	&quot;1971&quot;, (a: &quot;PASSAGE TERMS DATABASE&quot;, &quot;PASSAGE TERMS DATABASE&quot;),
	&quot;1981&quot;, (a: &quot;PASSAGE TERMS DATABASE&quot;, &quot;PASSAGE TERMS DATABASE&quot;),
	&quot;1991&quot;, (a: &quot;weed and concrete&quot;, &quot;road&quot;),
	&quot;2001&quot;, (a: &quot;PASSAGE TERMS DATABASE&quot;, &quot;PASSAGE TERMS DATABASE&quot;),
	&quot;2011&quot;, (a: &quot;PASSAGE TERMS DATABASE&quot;, &quot;PASSAGE TERMS DATABASE&quot;),
	&quot;2021&quot;, (a: &quot;PASSAGE TERMS DATABASE&quot;, &quot;PASSAGE TERMS DATABASE&quot;),
	&quot;2031&quot;, (a: &quot;PASSAGE TERMS DATABASE&quot;, &quot;PASSAGE TERMS DATABASE&quot;),
	&quot;2041&quot;, (a: &quot;PASSAGE TERMS DATABASE&quot;, &quot;PASSAGE TERMS DATABASE&quot;),
	&quot;2051&quot;, (a: &quot;PASSAGE TERMS DATABASE&quot;, &quot;PASSAGE TERMS DATABASE&quot;),
	&quot;2061&quot;, (a: &quot;PASSAGE TERMS DATABASE&quot;, &quot;PASSAGE TERMS DATABASE&quot;),
	&quot;2071&quot;, (a: &quot;PASSAGE TERMS DATABASE&quot;, &quot;PASSAGE TERMS DATABASE&quot;),
	&quot;2081&quot;, (a: &quot;PASSAGE TERMS DATABASE&quot;, &quot;PASSAGE TERMS DATABASE&quot;),
	&quot;2091&quot;, (a: &quot;PASSAGE TERMS DATABASE&quot;, &quot;PASSAGE TERMS DATABASE&quot;)
	)
	)
	}</tw-passagedata><tw-passagedata pid="41" name="set passage phrase" tags="startup" position="313,1630" size="100,100">{
(set: $setPassagePhrase to 
(macro: [
	(set: $pathNoun to 2nd of (str: $decadeReference) of $passageTerms)
	(set: $pathAdj to 1st of (str: $decadeReference) of $passageTerms)
	(if: $pathAdj is &quot;&quot;) 
		[(set: $pathArticle to (cond: 
			($firstLetterIsVowel:$pathNoun), &quot;an&quot;,
			&quot;a&quot;))]
	(else:)
		[(set: $pathArticle to (cond: 
			($firstLetterIsVowel:$pathNoun),&quot;an&quot;,
			&quot;a&quot;))]
	($setPathPrep:)
	(output-data: $pathPrep + &quot; &quot; + $pathArticle + &quot; &quot; + $pathAdj + &quot; &quot; + $pathNoun)
	]))

&lt;!--Dummy code to create arrows, in interface, to called functions --&gt;
[[ -&gt;passage terms database]]
[[ -&gt;first letter is vowel]]
[[ -&gt;set path prep]]
}</tw-passagedata><tw-passagedata pid="42" name="set room phrase" tags="startup" position="361,1766" size="100,100">{
(set: $setRoomPhrase to 
(macro: [
	(set: $prep to &quot;&quot;)
	($field:)
	(if: $decadeNumber is in $afghanistans)[($afghanistan:)]
	(if: $decadeNumber is in $arbors)[($arbor:)]
	(if: $decadeNumber is in $arenas)[($arena:)]
	(if: $decadeNumber is in $armories)[($armory:)]
	(if: $decadeNumber is in $barracks)[($barrack:)]
	(if: $decadeNumber is in $barrows)[($barrow:)]
	(if: $decadeNumber is in $battlefields)[($battlefield:)]
	(if: $decadeNumber is in $breweries)[($brewery:)]
	(if: $decadeNumber is in $brothels)[($brothel:)]
	(if: $decadeNumber is in $buildings)[($building:)]
	(if: $decadeNumber is in $cafes)[($cafe:)]
	(if: $decadeNumber is in $camps)[($camp:)]
	(if: $decadeNumber is in $castles)[($castle:)]
	(if: $decadeNumber is in $cathedrals)[($cathedral:)]
	(if: $decadeNumber is in $caves)[($cave:)]
	(if: $decadeNumber is in $cemeteries)[($cemetery:)]
	(if: $decadeNumber is in $churches)[($church:)]
	(if: $decadeNumber is in $courthouses)[($courthouse:)]
	(if: $decadeNumber is in $churches)[($church:)]
	(if: $decadeNumber is in $crypts)[($crypt:)]
	(if: $decadeNumber is in $docksides)[($dockside:)]
	(if: $decadeNumber is in $farms)[($farm:)]
	(if: $decadeNumber is in $forests)[($forest:)]
	(if: $decadeNumber is in $fruments)[($frument:)]	
	(if: $decadeNumber is in $hashishQuarters)[($hashishQuarter:)]
	(if: $decadeNumber is in $houses)[($house:)]
	(if: $decadeNumber is in $hypogea)[($hypogeum:)]
	(if: $decadeNumber is in $inquisitors)[($inquisitor:)]
	(if: $decadeNumber is in $jails)[($jail:)]
	(if: $decadeNumber is in $jungles)[($jungle:)]
	(if: $decadeNumber is in $kremlins)[($kremlin:)]

	(if: $decadeNumber is in $lakesides)[($lakeside:)]
	(if: $decadeNumber is in $libraries)[($library:)]
	(if: $decadeNumber is in $mansions)[($mansion:)]
	(if: $decadeNumber is in $markets)[($market:)]
	(if: $decadeNumber is in $menageries)[($menagerie:)]
	(if: $decadeNumber is in $mines)[($mine:)]
	(if: $decadeNumber is in $monasteries)[($monastery:)]
	(if: $decadeNumber is in $mosques)[($mosque:)]
	(if: $decadeNumber is in $mountainsides)[($mountainside:)]
	(if: $decadeNumber is in $mushrooms)[($mushroom:)]
	(if: $decadeNumber is in $newsPresses)[($newsPress:)]
	(if: $decadeNumber is in $palaces)[($palace:)]
	(if: $decadeNumber is in $parks)[($park:)]
	(if: $decadeNumber is in $penalQuarters)[($penalQuarter:)]
	(if: $decadeNumber is in $plaguePits)[($plaguePit:)]
	(if: $decadeNumber is in $rectories)[($rectory:)]
	(if: $decadeNumber is in $revolutions)[
		($revolution:)]
	(if: $decadeNumber is in $schools)[($school:)]
	(if: $decadeNumber is in $ships)[($ship:)]
	(if: $decadeNumber is in $skyscrapers)[($skyscraper:)]
	(if: $decadeNumber is in $slaveMarkets)[($slaveMarket:)]
	(if: $decadeNumber is in $surgeries)[($surgery:)]
	(if: $decadeNumber is in $stBasils)[($stBasil:)]
	(if: $decadeNumber is in $swamps)[($swamp:)]
	(if: $decadeNumber is in $temples)[($greekTemple:)]
	(if: $decadeNumber is in $towers)[($tower:)]
	(if: $decadeNumber is in $towns)[($town:)]

	(if: $decadeNumber is in $triclinia)[($triclinium:)]
	(if: $decadeNumber is in $vaults)[($vault:)]
	(if: $decadeNumber is in $vestals)[($vestal:)]
	(if: $decadeNumber is in $villages)[($village:)]
	(if: $decadeNumber is in $walls)[($wall:)]
	(if: $decadeNumber is in $workhouses)[($workhouse:)]
	(output-data: $phrase) 
	]))

&lt;!--Dummy code to create arrows, in interface, to called functions --&gt;
[[ -&gt;environ database a - d]]
[[ -&gt;environ assign]]
}</tw-passagedata><tw-passagedata pid="43" name="first letter is vowel" tags="startup" position="652,1500" size="100,100">{
(set: $firstLetterIsVowel to
(macro: string-type _word, [
	(set: _firstLetter to (1) of _word)
	(set: _firstLetterIsVowel to (cond: 
		_firstLetter is &quot;a&quot;, true,
		_firstLetter is &quot;e&quot;, true,
		_firstLetter is &quot;i&quot;, true,
		_firstLetter is &quot;o&quot;, true,
		_firstLetter is &quot;u&quot;, true, false))
		(output-data: _firstLetterIsVowel)
		]))
}</tw-passagedata><tw-passagedata pid="44" name="preps database" tags="startup" position="652,1379" size="100,100">{
(set: $lociPreps to (dm: 
	&quot;abode&quot;, &quot;in&quot;, 
	&quot;aisle&quot;, &quot;on&quot;,
	&quot;alley&quot;, &quot;in&quot;,
	&quot;apse&quot;, &quot;in&quot;,
	&quot;arcade&quot;, &quot;in&quot;,
	&quot;avenue&quot;, &quot;on&quot;,
	&quot;bank&quot;,&quot;on&quot;,
	&quot;battlement&quot;, &quot;on&quot;,
	&quot;bayou&quot;, &quot;on&quot;, 
	&quot;beach&quot;, &quot;on&quot;, 
	&quot;boudoir&quot;, &quot;in&quot;,
	&quot;bowl&quot;, &quot;in&quot;,
	&quot;building&quot;, &quot;in&quot;,
	&quot;canal&quot;, &quot;on&quot;,
	&quot;cell&quot;, &quot;in&quot;,	
	&quot;chamber&quot;, &quot;in&quot;,
	&quot;copse&quot;, &quot;in&quot;,
	&quot;corridor&quot;, &quot;on&quot;,
	&quot;cottage&quot;, &quot;in&quot;,
	&quot;courtyard&quot;, &quot;in&quot;,
	&quot;deck&quot;, &quot;on&quot;,
	&quot;depot&quot;, &quot;in&quot;,
	&quot;display&quot;, &quot;at&quot;,
	&quot;ditch full of bodies&quot;, &quot;by&quot;,
	&quot;door&quot;, &quot;to&quot;,
	&quot;dormitory&quot;, &quot;in&quot;,
	&quot;drawbridge&quot;,&quot;on&quot;,
	&quot;dungeon&quot;, &quot;in&quot;,
	&quot;elevator&quot;, &quot;in&quot;,
	&quot;entrance&quot;, &quot;at&quot;,
	&quot;field tower&quot;, &quot;at&quot;,
	&quot;gate&quot;, &quot;at&quot;,
	&quot;gazebo&quot;, &quot;under&quot;,
	&quot;gangway&quot;, &quot;on&quot;,
	&quot;garbage disposal&quot;, &quot;at&quot;,
	&quot;Gebetsraum&quot;, &quot;in&quot;,
	&quot;Gerichtssaal&quot;, &quot;in&quot;,
	&quot;hoist house&quot;, &quot;at&quot;,
	&quot;hall&quot;, &quot;in&quot;,
	&quot;hollow&quot;, &quot;in&quot;,
	&quot;lane&quot;, &quot;on&quot;,
	&quot;lab&quot;,&quot;in&quot;,
	&quot;lahad&quot;,&quot;by&quot;,
	&quot;lobby&quot;, &quot;in&quot;,
	&quot;marker&quot;, &quot;at&quot;,
	&quot;mausoleum&quot;,&quot;in&quot;,
	&quot;minbar&quot;, &quot;on&quot;,
	&quot;mine head&quot;,&quot;at&quot;,
	&quot;mine face&quot;, &quot;at&quot;,
	&quot;mineral face&quot;, &quot;at&quot;,
	&quot;mountainside&quot;,&quot;on&quot;,
	&quot;nave&quot;,&quot;in&quot;,
	&quot;opening&quot;, &quot;in&quot;,
	&quot;orchard&quot;, &quot;in&quot;,
	&quot;ossuary&quot;, &quot;in&quot;,
	&quot;parapet&quot;, &quot;on&quot;,
	&quot;pass&quot;, &quot;on&quot;,
	&quot;passage&quot;, &quot;in&quot;,
	&quot;passageway&quot;, &quot;in&quot;,
	&quot;patch of scrub land&quot;,&quot;on&quot;,
	&quot;path&quot;, &quot;on&quot;,
	&quot;path through the reeds&quot;, &quot;on&quot;,
	&quot;pathway&quot;, &quot;on&quot;,
	&quot;penthouse&quot;, &quot;in&quot;,
	&quot;pit garage&quot;, &quot;in&quot;,
	&quot;plateau&quot;, &quot;on&quot;, 
	&quot;platform&quot;, &quot;on&quot;,
	&quot;plaza&quot;, &quot;in&quot;,
	&quot;plot&quot;, &quot;on&quot;, 
	&quot;pond&quot;, &quot;by&quot;,
	&quot;porch of the maidens&quot;, &quot;on&quot;,
	&quot;post&quot;, &quot;at&quot;,
	&quot;pyramid&quot;, &quot;in&quot;,
	&quot;quayside&quot;, &quot;on&quot;,
	&quot;raft&quot;, &quot;on&quot;,
	&quot;rampart&quot;, &quot;on&quot;,
	&quot;rickety staircase&quot;, &quot;on&quot;,
	&quot;road&quot;, &quot;on&quot;,
	&quot;roadway&quot;, &quot;on&quot;,
	&quot;room&quot;, &quot;in&quot;,
	&quot;rue&quot;, &quot;on&quot;,
	&quot;sally port&quot;, &quot;at&quot;,
	&quot;sanctum&quot;, &quot;in&quot;,
	&quot;schiltron&quot;, &quot;in&quot;,
	&quot;septum&quot;, &quot;in&quot;,
	&quot;shelter&quot;,&quot;under&quot;,
	&quot;square&quot;, &quot;in&quot;,
	&quot;stage&quot;, &quot;by&quot;,
	&quot;stairwell&quot;, &quot;at&quot;,
	&quot;steps&quot;, &quot;on&quot;,
	&quot;street&quot;, &quot;on&quot;,
	&quot;tent&quot;, &quot;in&quot;,
	&quot;theater&quot;, &quot;in&quot;,
	&quot;tower&quot;, &quot;in&quot;,
	&quot;tower gate&quot;, &quot;within&quot;,
	&quot;tunnel&quot;, &quot;in&quot;,
	&quot;track&quot;, &quot;on&quot;,
	&quot;vault&quot;, &quot;in&quot;,
	&quot;vulitsa&quot;, &quot;on&quot;,
	&quot;wagon&quot;, &quot;in&quot;,
	&quot;walkway&quot;, &quot;on&quot;,
	&quot;Wohnblock&quot;, &quot;in&quot;,
	&quot;yard&quot;, &quot;in&quot;,
	))
}</tw-passagedata><tw-passagedata pid="45" name="environ database a - d" tags="startup" position="652,1616" size="100,100">{

(set: $afghanistan to 
(macro: [	
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($field:)
	(if: $roomNumber is 0) [(set: $roomNoun to &quot;maternity hospital used by rebels&quot;)]
	(if: $roomNumber is 1) [(set: $roomAdjective to &quot;an &quot;)(set: $roomNoun to &quot;orphanage used by rebels&quot;)]
	(if: $roomNumber is 2) [(set: $roomNoun to &quot;school used by rebels&quot;)]
	(if: $roomNumber is 3) [(set: $roomNoun to &quot;women and children&#39;s refugee camp&quot;)]
	(if: $roomNumber is 4) [(set: $roomNoun to &quot;military base&quot;)]
	(if: $roomNumber is 5) [(set: $roomNoun to &quot;war zone&quot;)]	
	(if: $roomNumber is 6) [(set: $roomNoun to &quot;military prison&quot;)]
	(if: $roomNumber is 7) [(set: $roomNoun to &quot;mosque&quot;)]	
	(if: $roomNumber is 8) [(set: $roomNoun to &quot;rubbled city &quot;)]		
	(if: $roomNumber is 9) [(set: $phrase to it + &quot;mass grave&quot;)]
	(set: $phrase to _prep + $roomAdjective + $roomNoun)
	(output-data: &quot;&quot;)
		]
		))
		
(set: $arbor to 
(macro: [
	(set: $roomAdjective to &quot;a &quot;)
	(set: _prep to &quot;by &quot;)
	($park:)
	(if: $roomNumber is 7) [(set: $roomNoun to &quot;shrine&quot;)]
	(if: $roomNumber is 9) [(set: $roomNoun to &quot;monument and sarcophagus&quot;)]
	(set: $phrase to _prep + $roomAdjective + $roomNoun)
	(output-data: &quot;&quot;)
		]
		))


(set: $arena to 
(macro: [	
	(set: _prep to &quot;at &quot;)
	(set: $roomAdjective to &quot;the &quot;)
	(if: $roomNumber is 0) [(set: $roomNoun to &quot;beginner&#39;s competition area&quot;)]
	(if: $roomNumber is 1) [(set: $roomNoun to &quot;practice area&quot;)]
	(if: $roomNumber is 2) [(set: _prep to &quot;on &quot;)(set: $roomNoun to &quot;scorer&#39;s balustrade&quot;)]
	(if: $roomNumber is 3) [(set: $roomNoun to &quot;ladies&#39; pavilion&quot;)]
	(if: $roomNumber is 4) [(set: $roomNoun to &quot;competitor&#39;s balustrade&quot;)]
	(if: $roomNumber is 5) [(set: $roomNoun to &quot;central arena&quot;)]
	(if: $roomNumber is 6) [(set: $roomNoun to &quot;animal cages&quot;)]
	(if: $roomNumber is 7) [(set: $roomNoun to &quot;prayer tent&quot;)]
	(if: $roomNumber is 8) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;injury tent&quot;)]
	(if: $roomNumber is 9) [(set: $roomNoun to &quot;morgue&quot;)]
	(set: $phrase to _prep + $roomAdjective + $roomNoun)
	
	(output-data: &quot;&quot;)
		]
		))
		
(set: $armory to 
(macro: [	
	(set: $roomAdjective to &quot;a &quot;)
	(set: _prep to &quot;in &quot;)
	(if: $decadeNumber is 400)[(set: $roomAdjective to &quot;a looted &quot;)]
	(if: $roomNumber is 0) [(set: $roomNoun to &quot;dormitory&quot;)]
	(if: $roomNumber is 1) [(set: $roomNoun to &quot;practice yard&quot;)]
	(if: $roomNumber is 2) [(set: $roomNoun to &quot;military library&quot;)]
	(if: $roomNumber is 3) [(set: $roomNoun to &quot;heraldry room&quot;)]
	(if: $roomNumber is 4) [(set: $roomNoun to &quot;armor and light weaponry magazine&quot;)]
	(if: $roomNumber is 5) [(set: $roomNoun to &quot;heavy weaponry magazine&quot;)]
	(if: $roomNumber is 6) [(set: $roomNoun to &quot;brig&quot;)]
	(if: $roomNumber is 7) [(set: $roomNoun to &quot;prayer room&quot;)]
	(if: $roomNumber is 8) [(set: $roomNoun to &quot;repair shop&quot;)]
	(if: $roomNumber is 9) [(set: $roomNoun to &quot;decommissioning room&quot;)]
	(set: $phrase to _prep + $roomAdjective + $roomNoun)
	
	(output-data: &quot;&quot;)
		]
		))
	
(set: $barrack to 
(macro: [	
	(set: $roomAdjective to &quot;a &quot;)
	(set: _prep to &quot;in &quot;)
	($building:)
	(if: $roomNumber is 0) [(set: $roomNoun to &quot;granary&quot;)]
	(if: $roomNumber is 1) [(set: $roomNoun to &quot;soldier&#39;s mess&quot;)]
	(if: $roomNumber is 2) [(set: $roomNoun to &quot;map room&quot;)]
	(if: $roomNumber is 4) [(set: $roomNoun to &quot;dormitory&quot;)]
	(if: $roomNumber is 5) [(set: $roomAdjective to &quot;an &quot;)(set: $roomNoun to &quot;armory&quot;)]
	(if: $roomNumber is 9) [(set: $roomNoun to &quot;morgue&quot;)]
	(set: $phrase to _prep + $roomAdjective + $roomNoun)
	
	(output-data: &quot;&quot;)
		]
		))

(set: $barrow to 
(macro: [	
	(set: $roomAdjective to &quot;a &quot;)
	(set: _prep to &quot;by &quot;)
	($cemetery:)
	(if: $roomNumber is 1) [(set: $roomNoun to &quot;wickerman&quot;)]
	(if: $roomNumber is 2) [(set: $roomNoun to &quot;mound&quot;)]
	(if: $roomNumber is 3) [(set: _prep to &quot;on &quot;)(set: $roomNoun to &quot;bitter ground&quot;)]
	(if: $roomNumber is 4) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;gravedigger&#39;s hut&quot;)]
	(if: $roomNumber is 5) [(set: $roomNoun to &quot;megalith&quot;)]
	(if: $roomNumber is 6) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;charnel&quot;)]
	(if: $roomNumber is 7) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;circle of stones&quot;)]
	(if: $roomNumber is 8) [(set: $roomNoun to &quot;pillaged mound&quot;)]
	(if: $roomNumber is 9) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;burned down pyre&quot;)]
	(set: $phrase to _prep + $roomAdjective + $roomNoun)
	
	(output-data: &quot;&quot;)
		]
		))


(set: $battlefield to 
(macro: [	
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a smoky, noisy &quot;)
	($field:)
	(if: $roomNumber is 2) [(set: $phrase to it + &quot;, where horsed generals decide on their next move&quot;)]
	(if: $roomNumber is 3) [(set: $phrase to it + &quot;, across which deserters are making their escape&quot;)]
	(if: $roomNumber is 5) [(set: $phrase to it + &quot;, in the thick of the fighting&quot;)]
	(if: $roomNumber is 7) [(set: $phrase to it + &quot;, where a priest comforts the dying&quot;)]
	(if: $roomNumber is 8) [(set: $phrase to it + &quot;, amongst the screaming and wounded&quot;)]
	(if: $roomNumber is 9) [(set: $phrase to it + &quot;, amongst the throngs of the glorious dead&quot;)]
	(output-data: &quot;&quot;)
		]
		))
		
(set: $brewery to 
(macro: [	
	(set: _prep to &quot;by &quot;)
	(set: $roomAdjective to &quot;the &quot;)
	($building:)
	(if: $roomNumber is 0) [(set: $roomNoun to &quot;stills&quot;)]
	(if: $roomNumber is 3) [(set: $roomNoun to &quot;wine barrels&quot;)]
	(if: $roomNumber is 5) [(set: $roomNoun to &quot;beer barrels&quot;)]
	(if: $roomNumber is 6) [(set: _prep to &quot;amongst &quot;)(set: $roomNoun to &quot;secret brew&quot;)]
	(if: $roomNumber is 9) [(set: $roomNoun to &quot;slop bucket&quot;)]
	(set: $phrase to _prep + $roomAdjective + $roomNoun)
	(output-data: &quot;&quot;)
		]
		))

(set: $brothel to 
(macro: [	
	($house:)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;private lounge&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;boudoir&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;peeping closet&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;backyard&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;bondage room&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;changing room&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;medical room&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))

(set: $building to 
(macro: [	
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	(if: $decadeNumber is 520)[(set: $roomAdjective to &quot;a cavernous &quot;)]
	(if: $roomNumber is 0) [(set: $roomNoun to &quot;mess hall&quot;)]
	(if: $roomNumber is 1) [(set: $roomNoun to &quot;conservatory&quot;)]
	(if: $roomNumber is 2) [(set: $roomNoun to &quot;study&quot;)]
	(if: $roomNumber is 3) [(set: $roomNoun to &quot;kitchen&quot;)]
	(if: $roomNumber is 4) [(set: $roomNoun to &quot;lounge&quot;)]
	(if: $roomNumber is 5) [(set: $roomNoun to &quot;weapons closet&quot;)]
	(if: $roomNumber is 6) [(set: $roomNoun to &quot;courtyard&quot;)]
	(if: $roomNumber is 7) [(set: $roomNoun to &quot;chapel&quot;)]
	(if: $roomNumber is 8) [(set: $roomNoun to &quot;latrine&quot;)]
	(if: $roomNumber is 9) [(set: $roomNoun to &quot;garbage disposal&quot;)]
	(set: $phrase to _prep + $roomAdjective + $roomNoun)
	
	(output-data: &quot;&quot;)
		]
		))

(set: $cafe to 
(macro: [	
	($house:)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	(if: $roomNumber is 0) [(set: $roomNoun to &quot;garden&quot;)]
	(if: $roomNumber is 1) [(set: $roomNoun to &quot;billiard room&quot;)]

	(if: $roomNumber is 2) [(set: $roomNoun to &quot;reading room&quot;)]
	(if: $roomNumber is 4) [(set: $roomNoun to &quot;drawing room&quot;)]

	(if: $roomNumber is 5) [(set: $roomNoun to &quot;bouncer&#39;s back room&quot;)]
	(if: $roomNumber is 7) [(set: $roomNoun to &quot;priest&#39;s entrance&quot;)]
	(if: $roomNumber is 9) [(set: $roomNoun to &quot;butcher&#39;s freezer&quot;)]

	(set: $phrase to _prep + $roomAdjective + $roomNoun)
	(set:  $armorRoom to &quot;bouncer&#39;s back room&quot;)
	(set:  $attic to &quot;attic&quot;)
	(set:  $atticStairs to &quot;attic stairs&quot;)
	(set:  $basementCorridor to &quot;basement corridor&quot;)
	(set:  $bathroom to &quot;bathroom&quot;)
	(set:  $bedchamber to &quot;terrace&quot;)
	(set:  $billiardRoom to &quot;billiard room&quot;)
	(set:  $boilerRoom to &quot;boiler room&quot;)
	(set:  $boudoir to &quot;guest room&quot;)
	(set:  $brickWall to &quot;[&quot; + &quot;[brick wall]&quot; + &quot;]&quot;)
	(set:  $buttery to &quot;buttery&quot;)
	(set:  $casketRoom to &quot;butcher&#39;s freezer&quot;)
	(set:  $cellar to &quot;cellar&quot;)
	(set:  $chapel to &quot;priest&#39;s entrance&quot;)
	(set:  $cold to &quot;cold&quot;)
	(set: $cool to &quot;cool&quot;)
	(set: $dark to &quot;dark&quot;)
	(set:  $dilapidated to &quot;stairs&quot;)
	(set:  $diningRoom to &quot;salon&quot;)
	(set:  $domicile to &quot;cafe&quot;)
	(set:  $elevator to &quot;stairs&quot;)
	(set:  $entranceHall to &quot;bar&quot;)
	(set:  $flooded to &quot;&quot;)
	(set:  $grandHouse to &quot;cafe&quot;)
	(set:  $hallway1 to &quot;hallway&quot;)
	(set:  $hallway2 to &quot;hallway&quot;)
	(set:  $inABrickWall to &quot;in a brick wall&quot;)
	(set:  $kennels to &quot;smoker&#39;s garden&quot;)
	(set:  $kitchen to &quot;kitchen&quot;)
	(set:  $landing to &quot;landing&quot;)
	(set:  $larder to &quot;larder&quot;)
	(set: $laundryCollectionArea to &quot;laundry collection area&quot;)
	(set:  $livingRoom to &quot;drawing room&quot;)
	(set:  $mainBasement to &quot;main basement&quot;)
	(set:  $mainLanding to &quot;main landing&quot;)
	(set:  $mainStaircase to &quot;main staircase&quot;)
	(set:  $masterBedroom to &quot;deluxe suite&quot;)
	(set: $narrow to &quot;narrow&quot;)
	(set:  $noisy to &quot;noisy&quot;)
	(set:  $nursery to &quot;nursery&quot;)
	(set:  $oratory to &quot;oratory&quot;)
	(set:  $partiallySubmerged to &quot;&quot;)
	(set: $roughHewn to &quot;rough-hewn &quot;)
	(set:  $servantsQuarters to &quot;waiter&#39;s office&quot;)
	(set:  $storageRoom to &quot;storage room&quot;)
	(set:  $study to &quot;reading room&quot;)
	(set: $suitsOfArmor to &quot;suits of armour&quot;)
	(set: $sumptuous to &quot;&quot;)
	(set: $submerged to &quot;&quot;)
	(set: $swim to &quot;go&quot;)
	(set:  $threadbare to &quot;&quot;)
	(set:  $underKitchenSteps to &quot;under-kitchen steps&quot;)
	(set: $underwater to &quot;&quot;)
	(set: $wade to &quot;go&quot;)
	(set:  $yard to &quot;garden&quot;)
	(output-data: &quot;&quot;)
		]
		))

(set: $camp to 
(macro: [
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($field:)
	(if: $roomNumber is 1) [(set: $roomNoun to &quot;tent for playing dice&quot;)]
	(if: $roomNumber is 4) [(set: $roomNoun to &quot;tent for putting on armor&quot;)]
	(if: $roomNumber is 6) [(set: $roomNoun to &quot;tent for prisoners&quot;)]
	(if: $roomNumber is 8) [(set: $roomNoun to &quot;tent for the wounded&quot;)]
	(if: $roomNumber is 9) [(set: $roomNoun to &quot;tent for the dead&quot;)]
	(set: $phrase to _prep + $roomAdjective + $roomNoun)
	(output-data: &quot;&quot;)
		]
		))
		
(set: $castle to 
(macro: [		
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($barrack:)
	(if: $roomNumber is 2) [(set: $roomNoun to &quot;book room&quot;)]
	(if: $roomNumber is 6) [(set: $roomNoun to &quot;dungeon&quot;)]
	(if: $roomNumber is 8) [(set: $roomNoun to &quot;ruined sick hall&quot;)]
	(set: $phrase to _prep + $roomAdjective + $roomNoun)
	(set: $castleword to &quot;castle&quot;)
	(set: $gatehouse to &quot;gatehouse&quot;)
	(set: $bailey to &quot;bailey&quot;)
	(set: $drawbridge to &quot;drawbridge&quot;)
	(set: $battlements to &quot;battlements&quot;)
	(set: $maidensTower to &quot;maiden&#39;s tower&quot;)
	(set: $castleKeep to &quot;castle keep&quot;)
	(set: $keep to &quot;keep&quot;)
	(set: $gatehouseWall to &quot;gatehouse wall&quot;)
	(set: $turret to &quot;turret&quot;)
	(set: $sickHall to &quot;sick hall&quot;)
	(set: $wall to &quot;wall&quot;)
	(output-data: &quot;&quot;)
		]
		))


(set: $cathedral to 
(macro: [	
	($church:)
	(set: $temple to &quot;cathedral&quot;)
	(output-data: &quot;&quot;)
	]
	))

(set: $cave to 
(macro: [	
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	(if: $roomNumber is 0) [(set: _prep to &quot;beneath &quot;)(set: $roomNoun to &quot;tangle of tree roots&quot;)]
	(if: $roomNumber is 1) [(set: _prep to &quot;by &quot;)(set: $roomNoun to &quot;waterfall&quot;)]
	(if: $roomNumber is 2) [(set: _prep to &quot;by &quot;)(set: $roomNoun to &quot;rock wall encrusted with crystals&quot;)]
	(if: $roomNumber is 3) [(set: _prep to &quot;on &quot;)(set: $roomNoun to &quot;lair of a cave hag&quot;)]
	(if: $roomNumber is 4) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;grotto&quot;)]
	(if: $roomNumber is 5) [(set: $roomNoun to &quot;cavern filled with bats&quot;)]
	(if: $roomNumber is 6) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;cavern with shackles dangling from the walls&quot;)]
	(if: $roomNumber is 7) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;slab of rock, which might be an altar&quot;)]
	(if: $roomNumber is 8) [(set: $roomNoun to &quot;collapsed cavern&quot;)]
	(if: $roomNumber is 9) [(set: _prep to &quot;by &quot;)(set: $roomNoun to &quot;pile of human bones&quot;)]
	(set: $phrase to _prep + $roomAdjective + $roomNoun)
	(set: $tinyStaircase to &quot;narrow climbable shaft&quot;)
	(set: $mainStairwell to &quot;great shaft&quot;)
	(set: $tower to &quot;cave&quot;)
	(set: $towerEntrance to &quot;subterranean pool&quot;)
	(set: $parapet to &quot;cave mouth&quot;)
	(set: $floors to &quot;parts&quot;)
	(set: $top to &quot;mouth&quot;)
	(set: $reaches to &quot;parts&quot;)
	(set: $chapel to &quot;chapel&quot;)
	(output-data: &quot;&quot;)
		]
		))
		
(set: $cemetery to 
(macro: [	
	($park:)	
	(set: _prep to &quot;by &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	(if: $roomNumber is 0) [(set: $roomNoun to &quot;willow&quot;)]
	(if: $roomNumber is 1) [(set: $roomNoun to &quot;statue&quot;)]
	(if: $roomNumber is 2) [(set: $roomNoun to &quot;mausoleum&quot;)]
	(if: $roomNumber is 3) [(set: _prep to &quot;on &quot;)(set: $roomNoun to &quot;unconsecrated ground&quot;)]
	(if: $roomNumber is 4) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;gravedigger&#39;s cottage&quot;)]
	(if: $roomNumber is 5) [(set: $roomNoun to &quot;warrior&#39;s cenotaph&quot;)]
	(if: $roomNumber is 6) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;charnel&quot;)]
	(if: $roomNumber is 7) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;chapel of rest&quot;)]
	(if: $roomNumber is 8) [(set: $roomNoun to &quot;pillaged grave&quot;)]
	(if: $roomNumber is 9) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;columbarium&quot;)]
	(set: $phrase to _prep + $roomAdjective + $roomNoun)
	
	(output-data: &quot;&quot;)
		]
		))


		
(set: $church to 
(macro: [	
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	(if: $roomNumber is 0) [(set: _prep to &quot;by &quot;)(set: $roomAdjective to &quot;an onyx &quot;)(set: $roomNoun to &quot;font&quot;)]
	(if: $roomNumber is 1) [(set: $roomAdjective to &quot;an &quot;)(set: $roomNoun to &quot;altarboys&#39; choir&quot;)]
	(if: $roomNumber is 3) [(set: $roomNoun to &quot;matrimonial chapel&quot;)]
	(if: $roomNumber is 4) [(set: $roomNoun to &quot;clergy house&quot;)]
	(if: $roomNumber is 5) [(set: $roomNoun to &quot;vapenhus&quot;)]
	(if: $roomNumber is 6) [(set: $roomNoun to &quot;priest&#39;s hole&quot;)]
	(if: $roomNumber is 7) [(set: $roomNoun to &quot;altar&quot;)]
	(if: $roomNumber is 8) [(set: $roomNoun to &quot;spire&quot;)]
	(if: $roomNumber is 9) [(set: $roomNoun to &quot;crypt&quot;)]
	(set: $phrase to _prep + $roomAdjective + $roomNoun)
	(set: $altar to &quot;altar&quot;)

	(set: $chapel to &quot;chapel&quot;)
	(set: $choirboysStalls to &quot;choirboys&#39; stalls&quot;)
	(set: $clergyHouse to &quot;clergy house&quot;)
	(set: $cloister to &quot;cloister&quot;)
	(set: $collonade to &quot;collonade&quot;)
	(set: $crossing to &quot;crossing&quot;)
	(set: $churchcrypt to &quot;crypt&quot;)
	
	(set: $font to &quot;font&quot;)

	(set: $hymnals to &quot;hymnals&quot;)
	(set: $leftTransept to $leftOnScreen + &quot; transept&quot;)
	(set: $liturgicalTexts to &quot;liturgical texts&quot;)
	(set: $matrimonialChapel to &quot;matrimonial chapel&quot;)
	
	(set: $missals to &quot;missals&quot;)
	(set: $narthex to &quot;narthex&quot;)
	(set: $nave to &quot;nave&quot;)

	(set: $organistsLoft to &quot;organist&#39;s loft&quot;)
	(set: $priestsHole to &quot;priest&#39;s hole&quot;)
	(set: $prophets to &quot;prophets&quot;)
	(set: $reliquary to &quot;reliquary&quot;)
	(set: $rightTransept to $rightOnScreen + &quot; transept&quot;)
	(set: $sacred to &quot;sacred&quot;)
	(set: $saints to &quot;saints&quot;)
	(set: $spire to &quot;spire&quot;)
	(set: $symbols to &quot;effects&quot;)
	(set: $temple to &quot;church&quot;)
	
	(set: $vapenhus to &quot;vapenhus&quot;)
	(set: $vestments to &quot;vestments&quot;)
	(set: $vestry to &quot;vestry&quot;)
	(output-data: &quot;&quot;)
	]
	))
		
(set: $courthouse to 
(macro: [	
	
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;the &quot;)
	($jail:)
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;accused&#39;s cell&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;counsellor&#39;s library&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;judge&#39;s chambers&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;courtroom&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;scaffold&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
(set: $crypt to 
(macro: [	
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
		(if: $decadeNumber is 390)[(set: $roomAdjective to &quot;a lightly flooded &quot;)]
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;pitch black tomb&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;child&#39;s tomb&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;chamber of steles, inscribed with epitaphs&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;wives&#39; tomb&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;treasury&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;funereal weapons repository&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;skeleton-filled immurement chamber&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;shrine&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;partially collapsed chamber&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;main tomb&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(set: $upBlock to &quot;down&quot;)
		(set: $downBlock to &quot;up&quot;)
		(output-data: &quot;&quot;)
		]
		))	
		

(set: $dockside to 
(macro: [	
	(set: _prep to &quot;by &quot;)
	(set: $roomAdjective to &quot;a &quot;)
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;dockside bar&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;consignment of books&quot;)]
		(if: $roomNumber is 3) [(set: $roomAdjective to &quot;some &quot;)(set: $roomNoun to &quot;crates of saucy books&quot;)]
		(if: $roomNumber is 4) [(set: $roomAdjective to &quot;a &quot;)(set: $roomNoun to &quot;houseboat&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;warship&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;prison ship&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;dockside chapel&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;broken wharf&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;shore of dead fish&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))

}</tw-passagedata><tw-passagedata pid="46" name="bottom entrance" tags="" position="1349,552" size="100,100">{(set: $thisRoomsNumber to 12)
(if: $decadeNumber is 1750)[($overrideImage: &quot;17507&quot;)]
(if: $decadeNumber is 1990)[($overrideImage: &quot;19916&quot;)]


(set: $thisYear to 10000)}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence2. 

From here you may go [[$rightHill_3 $rightOnScreen-&gt;room 1]] ($toThePhrase: 1) or [[$leftHill_2 $leftOnScreen-&gt;room 3]] ($toThePhrase: 3). 

(if: 9 is in $optionalPaths)[An alternative is to go (link: $upHill_2 + $upOnScreen)[(goto: &quot;passage 6&quot;)]]

(if: $startRoom is &quot;bottom entrance&quot;)[$returnText]
]</tw-passagedata><tw-passagedata pid="47" name="room 1" tags="" position="1496,555" size="100,100">{($setImage:)
(if: $decadeNumber is 1750)[($overrideImage: &quot;1751&quot;)]
(if: $decadeNumber is 1990)[($overrideImage: &quot;19901&quot;)]

(set: $thisRoomsNumber to 1)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
($refreshSentences:)

(border-color: white) + (border:&quot;solid&quot;) + (b4r-size:4) + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence. 

From here you may go [[$upHill_2 $upOnScreen-&gt;passage 1]] or [[$leftHill_3 $leftOnScreen-&gt;bottom entrance]]. 

(if: 6 is in $optionalPaths)[You may also go (link: $rightHill_4 + $rightOnScreen)[(goto: &quot;passage 7&quot;)]]


[]]}</tw-passagedata><tw-passagedata pid="48" name="room 3" tags="" position="1197,551" size="100,100">{($setImage:)
(if: $decadeNumber is 1750)[($overrideImage: &quot;1753&quot;)]
(if: $decadeNumber is 1990)[($overrideImage: &quot;19903&quot;)]


(set: $thisRoomsNumber to 3)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
(if: $place is &quot;Strasbourg&quot;)[&lt;script&gt;CustomScripts.updateBackground(1421);&lt;/script&gt;]
(if: $place is &quot;Orleans&quot;)[&lt;script&gt;CustomScripts.updateBackground(1431);&lt;/script&gt;]
(if: $place is &quot;Wallachia&quot;)[&lt;script&gt;CustomScripts.updateBackground(1491);&lt;/script&gt;]
($refreshSentences:)
}
(border-color: red) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{
$complexSentence. 

($room3content:)

From here you may go [[$rightHill_2 $rightOnScreen-&gt;bottom entrance]] or [[$leftHill_1 $leftOnScreen-&gt;room 5]] ($toThePhrase: 5). 

(if: 8 is in $optionalPaths)[An alternative is to go (link: $upHill_2 + $upOnScreen)[(goto: &quot;room 6&quot;)] (unless: $decadeNumber is 1750)[($toThePhrase: 6)].[]]



}]</tw-passagedata><tw-passagedata pid="49" name="passage 6" tags="" position="1347,397" size="100,100">{(set: $thisRoomsNumber to 16)
(if: $decadeNumber is 1750)[($overrideImage: &quot;17504&quot;)]
(if: $decadeNumber is 1990)[($overrideImage: &quot;19912&quot;)]


(set: $thisYear to 10000)}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence2. 

From here you may go [[$upHill_1 $upOnScreen-&gt;top entrance]] or [[$rightOnScreen-&gt;passage 1]]. 

(if: 4 is in $optionalPaths)[You may also go (link: $leftHill_2 + $leftOnScreen)[(goto: &quot;room 6&quot;)] ($toThePhrase: 6).]

(if: 9 is in $optionalPaths)[An alternative is to go (link: $downHill_2 + $downOnScreen)[(goto: &quot;bottom entrance&quot;)]]



]</tw-passagedata><tw-passagedata pid="50" name="room 3 content" tags="startup" position="3912.6666666666665,54.999999999999964" size="100,100">{
(set: $room3content to
(macro: [
	(set: $content to &quot;&quot;)
	(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
(if: $place is &quot;Strasbourg&quot;)[&lt;script&gt;CustomScripts.updateBackground(1421);&lt;/script&gt;]
(if: $place is &quot;Orleans&quot;)[&lt;script&gt;CustomScripts.updateBackground(1431);&lt;/script&gt;]
(if: $place is &quot;Wallachia&quot;)[&lt;script&gt;CustomScripts.updateBackground(1491);&lt;/script&gt;]
	(if: $thisYear is 1133 and $henrysDragon is not &quot;hatched&quot;)[(set: $content to &quot;In a pan on the stove is a huge red egg. Suddenly, cracks appear in it. Something is trying to hatch out! You may [[help it-&gt;Henry II birth]] if you wish.&quot;)]
	(if: $thisYear is 1133 and $henrysDragon is &quot;hatched&quot;)[(set: $content to &quot;There is a huge red egg in a pan on the stove. It appears that something recently hatched from it.&quot;)]
	(if: $thisYear is 1153 and $Eustace is not &quot;dead&quot;)[(set: $content to &quot;There is a young, fire haired nobleman here, gasping as the life leaves him. &#39;It is written in my blood!&#39; he croaks, holding out a piece of parchment. You can take the parchment and [[read it-&gt;Treaty of Wallingford]], or [[talk to the red nobleman-&gt;Eustace IV]].&quot;)]
	(if: $thisYear is 1153 and $Eustace is &quot;dead&quot;)[(set: $content to &quot;There is a dead nobleman here, with a parchment in his cold and bony grip. You can [[read it-&gt;Treaty of Wallingford]] if you like.&quot;)]
	(output-data: $content)
	]
	))
	
}</tw-passagedata><tw-passagedata pid="51" name="Henry II birth" tags="" position="4087.6666666666665,58.999999999999964" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="52" name="Treaty of Wallingford" tags="" position="3749.6666666666665,59.999999999999964" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="53" name="Eustace IV" tags="" position="3917.6666666666665,211.99999999999997" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="54" name="room 5" tags="" position="1041,555" size="100,100">{($setImage:)
(if: $decadeNumber is 1750)[($overrideImage: &quot;1755&quot;)]
(if: $decadeNumber is 1990)[($overrideImage: &quot;19905&quot;)]

(set: $thisRoomsNumber to 5)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
(if: $place is &quot;York&quot;)[&lt;script&gt;CustomScripts.updateBackground(1411);&lt;/script&gt;]
(if: $place is &quot;Seville&quot;)[&lt;script&gt;CustomScripts.updateBackground(1481);&lt;/script&gt;]
($refreshSentences:)
}(border-color: blue) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{
$complexSentence. 

($room5content:)

From here you may go [[$rightHill_1 $rightOnScreen-&gt;room 3]] ($toThePhrase: 3) or [[$upHill_2 $upOnScreen-&gt;left entrance]]. 


}]</tw-passagedata><tw-passagedata pid="55" name="room 6" tags="" position="1195,401" size="100,100">{($setImage:)
(if: $decadeNumber is 1750)[($overrideImage: &quot;17509&quot;)]
(if: $decadeNumber is 1990)[($overrideImage: &quot;19906&quot;)]


(set: $thisRoomsNumber to 6)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
($refreshSentences:)}(border-color: (rgb: 0, 255, 255)) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{
(unless: $decadeNumber is 1750)[$complexSentence.] 
(else:) [You are in an area of calm amidst the turbulence of revolutionary Paris.] 
From here you may go [[$upHill_1 $upOnScreen-&gt;room 9]] (unless: $floorInt is 17)[($toThePhrase: 9)].

(if: 4 is in $optionalPaths)[You may also go (link: $rightHill_2 + $rightOnScreen)[(goto: &quot;passage 6&quot;)]]

(if: 3 is in $optionalPaths)[You may also go (link: $leftHill_1 + $leftOnScreen)[(goto: &quot;left entrance&quot;)]]

(if: 8 is in $optionalPaths)[An alternative is to go (link: $downHill_2 + $downOnScreen)[(goto: &quot;room 3&quot;)] ($toThePhrase: 3).]



}]</tw-passagedata><tw-passagedata pid="56" name="left entrance" tags="" position="1037,397" size="100,100">{(set: $thisRoomsNumber to 15)
(if: $decadeNumber is 1750)[($overrideImage: &quot;17503&quot;)]
(if: $decadeNumber is 1990)[($overrideImage: &quot;19913&quot;)]


(set: $thisYear to 10000)}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence2. 

From here you may go [[$downHill_2 $downOnScreen-&gt;room 5]] or [[$upHill_1 $upOnScreen-&gt;room 4]] ($toThePhrase: 4). 

(if: 3 is in $optionalPaths)[You may also go (link: $rightHill_1 + $rightOnScreen)[(goto: &quot;room 6&quot;)] ($toThePhrase: 6).]

(if: $startRoom is &quot;left entrance&quot;)[$returnText]
]</tw-passagedata><tw-passagedata pid="57" name="room 5 content" tags="startup" position="4602.666666666667,61.999999999999964" size="100,100">{
(set: $room5content to
(macro: [
	(set: $content to &quot;&quot;)
	(if: $thisYear is 1135)[(set: $content to &quot;There is a blue knight here [[to whom you may speak-&gt;Stephen of Blois]].&quot;)]
	(output-data: $content)
	]
	))
	
}</tw-passagedata><tw-passagedata pid="58" name="Stephen of Blois" tags="" position="4602.666666666667,211.99999999999997" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="59" name="passage 1" tags="" position="1497,397" size="100,100">{(set: $thisRoomsNumber to 11)
(if: $decadeNumber is 1750)[($overrideImage: &quot;17505&quot;)]
(if: $decadeNumber is 1990)[($overrideImage: &quot;19911&quot;)]


(set: $thisYear to 10000)}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence2. 

From here you may go [[$leftHill_3 $leftOnScreen-&gt;passage 6]] or [[$downHill_2 $downOnScreen-&gt;room 1]] ($toThePhrase: 1). 

(if: 5 is in $optionalPaths)[You may also go (link: $rightHill_4 + $rightOnScreen)[(goto: &quot;room 7&quot;)]] ($toThePhrase: 7). 

(if: 10 is in $optionalPaths)[An alternative is to go (link: $upHill_1 + $upOnScreen)[(goto: &quot;room 0&quot;)] ($toThePhrase: 0).]




]</tw-passagedata><tw-passagedata pid="60" name="passage 7" tags="" position="1670,552" size="100,100">{(set: $thisRoomsNumber to 17)
(if: $decadeNumber is 1750)[($overrideImage: &quot;17508&quot;)]
(if: $decadeNumber is 1990)[($overrideImage: &quot;19917&quot;)]


(set: $thisYear to 10000)}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence2. You may rest here if you like. 

(if: 7 is in $optionalPaths)[You may also go (link: $rightHill_5 + $rightOnScreen)[(goto: &quot;room 2&quot;)] ($toThePhrase: 2).]

(if: 6 is in $optionalPaths)[You may also go (link: $leftHill_4 + $leftOnScreen)[(goto: &quot;room 1&quot;)] ($toThePhrase: 1).]

(if: 11 is in $optionalPaths)[An alternative is to go (link: $upHill_2 + $upOnScreen)[(goto: &quot;room 7&quot;)] ($toThePhrase: 7).]



]</tw-passagedata><tw-passagedata pid="61" name="room 2" tags="" position="1824,552" size="100,100">{($setImage:)
(if: $decadeNumber is 1750)[($overrideImage: &quot;1752&quot;)]
(if: $decadeNumber is 1990)[($overrideImage: &quot;19902&quot;)]

(set: $thisRoomsNumber to 2)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
($refreshSentences:)

}(border-color: (rgb: 255, 100, 100)) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence. 

From here you may go [[$upHill_2 $upOnScreen-&gt;right entrance]]. 

(if: 7 is in $optionalPaths)[You may also go (link: $leftHill_5 + $leftOnScreen)[(goto: &quot;passage 7&quot;)]]


]</tw-passagedata><tw-passagedata pid="62" name="passage 8" tags="" position="1664,251" size="100,100">{($setImage:)
(if: $decadeNumber is 1750)[($overrideImage: &quot;17502&quot;)]
(if: $decadeNumber is 1990)[($overrideImage: &quot;19915&quot;)]


(set: $thisRoomsNumber to 18)
($refreshSentences:)
} (border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence2. 

From here you may go [[$downHill_1 $downOnScreen-&gt;room 7]] ($toThePhrase: 7) or [[$leftHill_4 $leftOnScreen-&gt;room 0]] ($toThePhrase: 0). 

(if: 2 is in $optionalPaths)[You may also go (link: $rightHill_5 + $rightOnScreen)[(goto: &quot;room 8&quot;)] ($toThePhrase: 8). ]


]</tw-passagedata><tw-passagedata pid="63" name="right entrance" tags="" position="1822,399" size="100,100">{(set: $thisRoomsNumber to 13)
(if: $decadeNumber is 1750)[($overrideImage: &quot;17506&quot;)]
(if: $decadeNumber is 1990)[($overrideImage: &quot;19918&quot;)]

(set: $thisYear to 10000)}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{$complexSentence2. 

Several ($add_s: $pathNoun) come together here. From here you may go [[$upHill_1 $upOnScreen-&gt;room 8]] ($toThePhrase: 8), [[$downHill_2 $downOnScreen-&gt;room 2]] ($toThePhrase: 2) or [[$leftHill_5 $leftOnScreen-&gt;room 7]] ($toThePhrase: 7). 

(if: $startRoom is &quot;right entrance&quot;)[$returnText]

}]</tw-passagedata><tw-passagedata pid="64" name="room 8" tags="" position="1815,254" size="100,100">{($setImage:)
(if: $decadeNumber is 1750)[($overrideImage: &quot;1758&quot;)]
(if: $decadeNumber is 1990)[($overrideImage: &quot;19908&quot;)]

(set: $thisRoomsNumber to 8)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
(if: $place is &quot;Merv&quot;)[&lt;script&gt;CustomScripts.updateBackground(1291);&lt;/script&gt;]
(if: $place is &quot;York&quot;)[&lt;script&gt;CustomScripts.updateBackground(1411);&lt;/script&gt;]
(if: $place is &quot;Istanbul&quot;)[&lt;script&gt;CustomScripts.updateBackground(1451);&lt;/script&gt;]
(if: $place is &quot;London&quot;)[&lt;script&gt;CustomScripts.updateBackground(1461);&lt;/script&gt;]
($refreshSentences:)
} 
(border-color: yellow)+(border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence. 

From here you may go [[$downHill_1 $downOnScreen-&gt;right entrance]].

(if: 2 is in $optionalPaths)[You may also go (link: $leftHill_5 + $leftOnScreen)[(goto: &quot;passage 8&quot;)]]


]
</tw-passagedata><tw-passagedata pid="65" name="room 0" tags="" position="1499,254" size="100,100">{
($setImage:)
(if: $decadeNumber is 1750)[($overrideImage: &quot;17500&quot;)]
(if: $decadeNumber is 1990)[($overrideImage: &quot;19900&quot;)]

(set: $thisRoomsNumber to 0)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
(if: $floorInt is 12)[&lt;script&gt;CustomScripts.updateBackground(1291);&lt;/script&gt;]
(if: $place is &quot;Aztec&quot;)[&lt;script&gt;CustomScripts.updateBackground(1441);&lt;/script&gt;]
($refreshSentences:)
}
(border-color: black) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence. 

($room0content:)

If you are not interested in lingering in this place, you may go  [[$rightHill_4 $rightOnScreen-&gt;passage 8]] or [[$leftHill_3 $leftOnScreen-&gt;top entrance]]. 

(if: 10 is in $optionalPaths)[An alternative is to go (link: $downHill_1 + $downOnScreen) [(goto: &quot;passage 1&quot;)]]



[]]</tw-passagedata><tw-passagedata pid="66" name="top entrance" tags="" position="1344,257" size="100,100">{(set: $thisRoomsNumber to 14)
(if: $decadeNumber is 1750)[($overrideImage: &quot;17501&quot;)]
(if: $decadeNumber is 1990)[($overrideImage: &quot;19914&quot;)]


(set: $thisYear to 10000)}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4) + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence2. 

From here you may go [[$rightHill_3 $rightOnScreen-&gt;room 0]] ($toThePhrase: 0) or [[$downHill_1 $downOnScreen-&gt;passage 6]]. 

(if: 1 is in $optionalPaths)[You may also go (link: $leftHill_2 + $leftOnScreen)[(goto: &quot;room 9&quot;)] ($toThePhrase: 9).]


(if: $startRoom is &quot;top entrance&quot;)[$returnText]
]</tw-passagedata><tw-passagedata pid="67" name="room 9" tags="" position="1196,257" size="100,100">{($setImage:)
(if: $decadeNumber is 1990)[($overrideImage: &quot;19909&quot;)]

(set: $thisRoomsNumber to 9)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
($refreshSentences:)}
(border-color: (rgb: 155, 100, 0)) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[(unless: $decadeNumber is 1750)[$complexSentence (if: $decadeNumber is 1990)[The reactor itself is to the [[$upOnScreen-&gt;reactor]].] 

($room9content:)](else:)[Your progress further is blocked by the river Seine.]
{
From here you may go (unless: $floorInt is 17)[[[$leftHill_1 $leftOnScreen-&gt;room 4]] ($toThePhrase: 4) or] [[$downHill_1 $downOnScreen-&gt;room 6]] (unless: $decadeNumber is 1750)[($toThePhrase: 6)]. 
(if: 1 is in $optionalPaths)[You may also go (link: $rightHill_2 + $rightOnScreen)[(goto: &quot;top entrance&quot;)]]

}
]</tw-passagedata><tw-passagedata pid="68" name="room 0 content" tags="startup" position="3218.6666666666665,54.999999999999964" size="100,100">{
(set: $room0content to
(macro: [
	(set: $content to &quot;&quot;)
	(if: $thisYear is 1170)[(set: $content to &quot;There is a stained glass window here which (link: &#39;you may examine more closely.&#39;)[==[&lt;script&gt;CustomScripts.updateBackground(-9);&lt;/script&gt;]you lean in to examine more closely. The colored pieces of glass are arranged to depict a bishop, robed in black, looking paradoxically both sad and serene as a sword protrudes from his head. As you gaze upon it, the bishop&#39;s lips begin to move! Shocked, you stagger back. The stained glass window is speaking! 

After recovering your wits, [[you may lean in to listen to what it has to say-&gt;Becket murdered]].&quot;)]
(if: $thisYear is 1120)[(set: $content to &quot;There is a corpse here, shrouded in black, which using necromancy [[you may bring briefly back to life-&gt;William Adelin]].&quot;)]
	(output-data: $content)
	]
	))
	
}</tw-passagedata><tw-passagedata pid="69" name="Becket murdered" tags="" position="3143.6666666666665,204.99999999999997" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="70" name="William Adelin" tags="" position="3293.6666666666665,204.99999999999997" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="71" name="room 4" tags="" position="1039,257" size="100,100">{($setImage:)
(if: $decadeNumber is 1750)[($overrideImage: &quot;1754&quot;)]
(if: $decadeNumber is 1990)[($overrideImage: &quot;19904&quot;)]


(set: $thisRoomsNumber to 4)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
($refreshSentences:)}(border-color: purple) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{

$complexSentence. 

($room4content:)

(unless: $decadeNumber is 1750) [From here you may go [[$downHill_1 $downOnScreen-&gt;left entrance]] or [[$rightHill_1 $rightOnScreen-&gt;room 9]] ($toThePhrase: 9).]
(else:) [From here you may go [[$downHill_1 $downOnScreen-&gt;left entrance]] or [[$leftHill_1 $leftOnScreen-&gt;room 90]] towards the storming of the Bastille.]


}]</tw-passagedata><tw-passagedata pid="72" name="King Stephen&#39;s death" tags="" position="4281.666666666667,211.99999999999997" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="73" name="Charlemagnes Death." tags="" position="4408.666666666667,210.99999999999997" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="74" name="room 4 content" tags="startup" position="4361.666666666667,56.999999999999964" size="100,100">{
(set: $room4content to
(macro: [
	(set: $content to &quot;&quot;)
	(if: $thisYear is 814)[(set: $content to &quot;There is a pond here in which there shimmers a bright light from above. If you wish you may [[look up at the light-&gt;Charlemagnes Death.]].&quot;)]
	(if: $thisYear is 1154 and $Stephen is not &quot;dead&quot;)[(set: $content to &quot;There is an old king here, about to die. [[You may hear his last words-&gt;King Stephen&#39;s death]].&quot;)]
	(if: $thisYear is 1154 and $Stephen is &quot;dead&quot;)[(set: $content to &quot;There is a dead king here. Even in death his face looks tired and sad.&quot;)]
	(output-data: $content)
	]
	))
	
}</tw-passagedata><tw-passagedata pid="75" name="fix optional paths" tags="startup" position="22,689" size="100,100">{
(set: $fixOptionalPaths to 
(macro: [
	(set: $optionalPaths to (a:))
	($addPath:)($addPath:)($addPath:)($addPath:)($addPath:)($addPath:)($addPath:)($addPath:)($addPath:)($addPath:)($addPath:)($addPath:)
	(output-data:&quot;&quot;)
	]
	)
	)

&lt;!--Dummy code to create arrows, in interface, to called functions --&gt;
[[ -&gt;add path]]
}</tw-passagedata><tw-passagedata pid="76" name="add path" tags="startup" position="186,453" size="100,100">{
(set: $addPath to 
(macro: [	
	(set: _x to ($srandom: 12)) 
	(set: $optionalPaths to it + (a:_x))
	(output-data:&quot;&quot;)
	]
	)
	)

&lt;!--Dummy code to create arrows, in interface, to called functions --&gt;
[[ -&gt;srandom]]
}</tw-passagedata><tw-passagedata pid="77" name="srandom" tags="startup" position="344,452" size="100,100">{
&lt;!--returns a stable random value using the argument as a limit. essentially replaces the random function from Harlowe--&gt;	
	
(set: $srandom to 
(macro: num-type _limit, [
	(if: _limit &gt; 19)
		[(error:&quot;$srandom cannot accept argument &gt;19&quot;)]
	(set: _starter to (nth: $seedIndex, ...$randomSeed))
	(if: $seedIndex &gt; 40) [(set: $seedIndex to 1)]
	(else:) [(set: $seedIndex +=1)]
	(set: _x to _limit +1)
	($mod: _starter, _x)
	(output-data: $modulus)
	]))

&lt;!--Dummy code to create arrows, in interface, to called functions --&gt;
[[ -&gt;mod]]
}</tw-passagedata><tw-passagedata pid="78" name="mod" tags="startup" position="486,448" size="100,100">{
(set: $mod to 
(macro: num-type _dividend, num-type _divisor, [
	(if: _divisor &lt; 0) [(error: &quot;divisor less than 0&quot;)]
	(if: _dividend &lt; 0) [(error: &quot;dividend less than 0&quot;)]
	(if: _divisor is 0) [(set: $modulus to 0)] 
	(else:)[
	(if: _divisor &gt; _dividend)[(set: $modulus to _dividend)]
	(else:) [($mod: _dividend - _divisor, _divisor)]
	]
	(output-data:&quot;&quot;) 
	]))
}</tw-passagedata><tw-passagedata pid="79" name="font" tags="" position="1503,3493" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 0)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
($refreshSentences:)
(border-color: black) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{(if: $architecture is in (a: &quot;church&quot;, &quot;cathedral&quot;))[You are at the $font.] (else:)[$contentSentence2.] ($room0content:) From here you may go $rightOnScreen to the main [[$narthex-&gt;narthex]]. (if: $optionalPaths contains 4) [Alternatively, you may head $upOnScreen to the [[matrimonial $chapel-&gt;matrimonial chapel]].] []}]}</tw-passagedata><tw-passagedata pid="80" name="narthex" tags="" position="1661,3493" size="100,100">{($setImage:)
($refreshSentences:)
(set: $thisRoomsNumber to 19)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You are in the $narthex(unless: $decadeNumber is 1970)[ of the $temple]. From here you can go $leftOnScreen to the [[$font-&gt;font]], $rightOnScreen [[($toThePhrase:5)-&gt;vapenhus]] or [[$upOnScreen-&gt;nave]] to the $nave. If you do not wish to spend any more time in this $temple, you may (link: &quot;make your way out&quot;)[(goto: ($returnToComplex:))].}]}</tw-passagedata><tw-passagedata pid="81" name="matrimonial chapel" tags="" position="1481,3004" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 3)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
($refreshSentences:)
(border-color: red) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You have entered the $matrimonialChapel of a $temple. ($room3content:) From here you may head $rightOnScreen to the [[$nave-&gt;nave]]. (if: $optionalPaths contains 4) [Alternatively, you may head $downOnScreen to the [[font]].] }[]]}</tw-passagedata><tw-passagedata pid="82" name="vapenhus" tags="" position="1821,3491" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 5)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
($refreshSentences:)
(border-color: blue) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[(if: $decadeNumber is in $temples)[$complexSentence.] (else:)[You are in the $vapenhus (unless: $decadeNumber is 1970)[of a $architecture, where worshippers must leave their weapons before entering.]] ($room5content:) From here you can go back $leftOnScreen to the [[$narthex-&gt;narthex]]. (if: $architecture is &quot;cathedral&quot;) [Alternatively, slightly to the $rightOnScreen are some steps to the [[$organistsLoft-&gt;organist&#39;s loft]].] }</tw-passagedata><tw-passagedata pid="83" name="nave" tags="" position="1664,2999" size="100,100">{($setImage:)
($refreshSentences:)
(set: $thisRoomsNumber to 16)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You are in the $nave of the $temple. From here you can go [[$upOnScreen-&gt;crossing]] to the $crossing, (if: $optionalPaths contains 5) [$rightOnScreen and up some steps to the [[$choirboysStalls-&gt;altarboys&#39; choir]]] or [[$downOnScreen-&gt;narthex]] to the $narthex. You may also head $leftOnScreen to the [[$matrimonialChapel-&gt;matrimonial chapel]]. (if: $architecture is &quot;cathedral&quot;)[(if:$decadeNumber is in (a:1970))[Alternatively, you can head $rightOnScreen to the [[$cloister-&gt;cloister]].](else:)[Alternatively, you can head $rightOnScreen to where a small door leads [[outside-&gt;cloister]].]]}]}</tw-passagedata><tw-passagedata pid="84" name="organist&#39;s loft" tags="" position="1823,3334" size="100,100">{($setImage:)
($refreshSentences:)
(set: $thisRoomsNumber to 18)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You are in the $organistsLoft of a cathedral, overlooking the $nave. From here you may go $upOnScreen to the [[altarboys&#39; choir]], or down some steps to the [[$vapenhus-&gt;vapenhus]].}[]] }</tw-passagedata><tw-passagedata pid="85" name="crossing" tags="" position="1659,2739" size="100,100">($setImage:)
($refreshSentences:)
(set: $thisRoomsNumber to 13)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You are at the $crossing of the $temple. (if: $architecture is &quot;cathedral&quot;)[From here you may head [[$leftOnScreen-&gt;left transept]] to the $leftTransept or [[$rightOnScreen-&gt;right transept]] to the $rightTransept.] To the $upOnScreen is the [[$altar-&gt;altar]] and to the $downOnScreen is the [[$nave-&gt;nave]]. (unless: $decadeNumber is in (a:1770))[There are also steps leading up into the $temple&#39;s [[$spire-&gt;spire]].] (if: $architecture is &quot;church&quot;) [and steps leading down into the [[crypt]].] 
}]</tw-passagedata><tw-passagedata pid="86" name="altarboys&#39; choir" tags="" position="1821,3183" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 1)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
($refreshSentences:)
(border-color: white) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{(if: $architecture is in (a: &quot;church&quot;, &quot;cathedral&quot;))[You are in the $choirboysStalls of a $temple.](else:)[$contentSentence.] ($room1content:) (if: $architecture is &quot;cathedral&quot;) [From here you can go $downOnScreen to the [[$organistsLoft-&gt;organist&#39;s loft]].] (if: $optionalPaths contains 5 or $architecture is &quot;church&quot;) [There are steps leading down and to the $leftOnScreen from here to the [[$nave-&gt;nave]].] }]}</tw-passagedata><tw-passagedata pid="87" name="cloister" tags="" position="1856,3004" size="100,100">{($setImage:)
($refreshSentences:)
(set: $thisRoomsNumber to 17)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You are in the $cloister(unless: $decadeNumber is 1970)[ of a cathedral, which consists of a cental courtyard surrounded by a $collonade]. From here, you may head $leftOnScreen through a small door to the [[$nave-&gt;nave]]. (if: $optionalPaths contains 2) [There are also some steps leading down to the [[$crypt-&gt;crypt]].] }]}</tw-passagedata><tw-passagedata pid="88" name="crypt" tags="" position="1858,2869" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 9)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
($refreshSentences:)
(border-color: (rgb: 155, 100, 0)) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{(unless: $floorInt is 15)[You are in the $churchcrypt beneath the $temple. ($room9content:) 

(if: $architecture is &quot;cathedral&quot;)[From here you may go up some steps to the [[$rightOnScreen transept-&gt;right transept]]](if: $architecture is &quot;cathedral&quot; and $optionalPaths contains 2)[ or up some steps to the [[cloister]]]. (if: $architecture is in (a: &quot;cathedral&quot;) or $decadeNumber is in $temples)[A small doorway leads $leftOnScreen to the [[$reliquary-&gt;reliquary]].] (if: $architecture is &quot;church&quot;) [There are also steps leading up to the [[$crossing-&gt;crossing]].]](else:)[You are in the narrow entrance hall to Chingle Hall. From here you can go $leftOnScreen to the main hall.]}]}</tw-passagedata><tw-passagedata pid="89" name="right transept" tags="" position="1853,2739" size="100,100">($setImage:)
($refreshSentences:)
(set: $thisRoomsNumber to 14)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You are in the $rightTransept of a cathedral. From here you can go [[$leftOnScreen-&gt;crossing]] to the crossing. There are also steps leading down from here to the [[crypt]].  }[]]</tw-passagedata><tw-passagedata pid="90" name="reliquary" tags="" position="1476,2870" size="100,100">($setImage:)
($refreshSentences:)
(set: $thisRoomsNumber to 15)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You are in the $reliquary (unless: $decadeNumber is 1970)[of a $temple, where the $sacred $symbols of $prophets and $saints are stored]. From here you may head $rightOnScreen to the [[$churchcrypt-&gt;crypt]](if:$architecture is &quot;cathedral&quot;)[ or up some steps to the [[$leftOnScreen transept-&gt;left transept]]].[]}]</tw-passagedata><tw-passagedata pid="91" name="left transept" tags="" position="1361,2738" size="100,100">{($setImage:)
($refreshSentences:)
(set: $thisRoomsNumber to 12)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You are in the $leftTransept of a cathedral. From here you can go $rightOnScreen to the [[crossing]] or down some steps to the [[reliquary]]. (if: $optionalPaths contains 1) [Alternatively, a small door leads to the [[vestry]].] }[]]}</tw-passagedata><tw-passagedata pid="92" name="vestry" tags="" position="1361,2574" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 2)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
($refreshSentences:)
(border-color: (rgb: 255, 100, 100)) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are in the $vestry of a $temple, where the $vestments, $hymnals, $missals and other $liturgicalTexts are stored. ($room2content:) From here you can head $rightOnScreen through a small door that leads to the [[$altar-&gt;altar]] or $upOnScreen to the [[$clergyHouse-&gt;clergy house]]. (if: $architecture is &quot;cathedral&quot; and $optionalPaths contains 1) [Alternatively, a small door leads to the [[$leftOnScreen transept-&gt;left transept]].] A tiny, barely visible door leads to the [[$priestsHole-&gt;priest&#39;s hole]]. []]}</tw-passagedata><tw-passagedata pid="93" name="altar" tags="" position="1654,2573" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 7)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
(if: $decadeNumber is 170)[(set: $god to &quot;Juno&quot;)]
($refreshSentences:)
(border-color: green) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You are at the $altar (unless: $decadeNumber is 1970)[of the $temple](if: $decadeNumber is in $temples)[ at the foot of the gargantuan statue of $god]. ($room7content:) From here you may go [[$downOnScreen-&gt;crossing]] to the $crossing of the $temple. A small door leads from here to the [[$vestry-&gt;vestry]]. }[]]}</tw-passagedata><tw-passagedata pid="94" name="spire" tags="" position="1786,2571" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 8)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
($refreshSentences:)
(border-color: yellow) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[(unless: $decadeNumber is 1970)[You are in the dilapidated $spire of a $temple.](else:)[You are in the church of saints Alexander, John and Paul in the cathedral of the intercession.  ($room8content:) From here you may head down to the [[$crossing-&gt;crossing]] of the $temple, or you may head $rightOnScreen to the [[church of St Vasily the Blessed-&gt;bell tower]].] (else:) [($room8content:) From here you may only head down to the $temple&#39;s [[$crossing-&gt;crossing]].]]}</tw-passagedata><tw-passagedata pid="95" name="clergy house" tags="" position="1200,2436" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 4)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
($refreshSentences:)
(border-color: purple) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You are in the $clergyHouse of a $temple. ($room4content:) From here you may head back to the [[$vestry-&gt;vestry]]. }[]]}</tw-passagedata><tw-passagedata pid="96" name="priest&#39;s hole" tags="" position="1356,2441" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 6)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
($refreshSentences:)
(border-color: cyan) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You are in a tiny cramped hiding place in a $temple(if: $temple is in (a:&quot;church&quot;,&quot;cathedral&quot;))[ where priests can hide from persecutors]. ($room6content:) From here you may only head back to the [[$vestry-&gt;vestry]]. []}]}</tw-passagedata><tw-passagedata pid="97" name="get complex map" tags="startup" position="29,1197" size="100,100">{
&lt;!-- generates a map and starting point from the templates  
Presupposes: architecture and directionIn have been assigned
Called by: in-game passages
--&gt;
(set: $getComplexMap to
(macro: [
	($setExceptionArchitectures:)
	($setDefaultStartRoom:)
	($setUpMapDebugging:)
	($adjustStartRoom:)
	($setDirections:)
	(output-data:&quot;&quot;)
	]
	))

&lt;!--Dummy code to create arrows, in interface, to called functions --&gt;
[[ -&gt;set directions]]
[[ -&gt;adjust start room]]
[[ -&gt;set exception architectures]]
}</tw-passagedata><tw-passagedata pid="98" name="random flip left right" tags="startup" position="385,1119" size="100,100">{
&lt;!-- decides whether to flip the map left to right.--&gt;

(set: $randomFlipLR to 
(macro: [
	(set: _randomFlipLR to ($srandom: 1))
	(if: _randomFlipLR is 1) [
		(set: $transform to $transform + (a: &quot;flipLR&quot;))
		(set: $rightOnScreen to ($flipCompass: $rightOnScreen))
		(set: $leftOnScreen to ($flipCompass: $leftOnScreen))
		(set: $rightDirections to $rightDirections + (a: $rightOnScreen))
		(set: $upDirections to $upDirections + (a: $upOnScreen))
		($flipStartLR:)
		]
	(output-data:&quot;&quot;)
	]))

&lt;!--Dummy code to create arrows, in interface, to called functions --&gt;
[[ -&gt;srandom]]
[[ -&gt;flip compass]]
[[ -&gt;flip start left right]]
}</tw-passagedata><tw-passagedata pid="99" name="random flip up down" tags="startup" position="382,1232" size="100,100">{
&lt;!-- decides whether to flip the map up to down.  
Presupposes: setScreenValuesForFlat has been called, fixing values for upScreen and downScreen etc
Called By: getComplexMap
--&gt;
(set: $randomFlipUD to 
(macro: [
	(set: _x to ($srandom: 1))
	(if: _x is 1) [
		(set: $transform to $transform + (a: &quot;flipUD&quot;))
		(set: $downOnScreen to ($flipCompass: $downOnScreen))
		(set: $upOnScreen to ($flipCompass: $upOnScreen))
		(set: $rightDirections to $rightDirections + (a: $rightOnScreen))
		(set: $upDirections to $upDirections + (a: $upOnScreen))
		($flipStartUD:)
		]
	(output-data:&quot;&quot;)
	]))

&lt;!--Dummy code to create arrows, in interface, to called functions --&gt;
[[ -&gt;srandom]]
[[ -&gt;flip compass]]
[[ -&gt;flip start up down]]
}</tw-passagedata><tw-passagedata pid="100" name="rotate map by random" tags="startup" position="383,1012" size="100,100">{
&lt;!-- rotates flat by random amount, 90 degree increments. Calls random number and does a series of &lt; tests on it, rotating the flat by 90 degrees for each one it passes. 
Called By: getComplexMap
--&gt;
(set: $rotateMapByRandom90 to 
(macro: [
	(set: $rotation to 0)
	(set: _x to ($srandom: 3))
	(if: _x &lt; 1) [($rotateMap90:)
					(set: $rotation to $rotation + 90)]
	(if: _x &lt; 2) [($rotateMap90:)
					(set: $rotation to $rotation + 90)]
	(if: _x &lt; 3) [($rotateMap90:)
					(set: $rotation to $rotation + 90)]
	(set: $transform to $transform + (a: &quot;rotate &quot; + (str: $rotation)))
	(output-data:_x)
	]))

&lt;!--Dummy code to create arrows, in interface, to called functions --&gt;
[[ -&gt;srandom]]
[[ -&gt;rotate map 90]]

}</tw-passagedata><tw-passagedata pid="101" name="flip compass" tags="startup" position="590,1149" size="100,100">{
&lt;!-- flips a given compass point, turning north to south, etc.  
Presupposes: it receives a compass point as argument
Called By: flipFlatIfRandom
--&gt;
(set: $flipCompass to 
(macro: str-type _direction, [
	(set: _x to (cond: 
		_direction is &quot;north&quot;,&quot;south&quot;,
		_direction is &quot;northeast&quot;,&quot;southwest&quot;,
		_direction is &quot;east&quot;,&quot;west&quot;,
		_direction is &quot;southeast&quot;,&quot;northwest&quot;,
		_direction is &quot;south&quot;,&quot;north&quot;,
		_direction is &quot;southwest&quot;,&quot;northeast&quot;,
		_direction is &quot;west&quot;,&quot;east&quot;,
		_direction is &quot;northwest&quot;,&quot;southeast&quot;,
		&quot;error: flipCompass not given a compass direction&quot;))
	(output-data:_x)
	]))
}</tw-passagedata><tw-passagedata pid="102" name="flip start left right" tags="startup" position="589,1041" size="100,100">{
&lt;!-- maps a start room onto its nearest opposite start room at the other side of the map.  
Presupposes: startRoom has been assigned. The entrances listed are opposite.  
Called By: randomFlipLR
--&gt;
(set: $flipStartLR to 
(macro: [
	(set: _x to (cond: 
		$startRoom is &quot;left entrance&quot;, &quot;right entrance&quot;,
		$startRoom is &quot;right entrance&quot;, &quot;left entrance&quot;,
		$startRoom is &quot;tower entrance&quot;, &quot;tower entrance 2&quot;,
		$startRoom is &quot;tower entrance 2&quot;, &quot;tower entrance&quot;,
		$startRoom is &quot;block entrance 2&quot;, &quot;block entrance 4&quot;,
		$startRoom is &quot;block entrance 4&quot;, &quot;block entrance 2&quot;,
		$startRoom))
	(set: $startRoom to _x)
	(set: $strtRoomz to $strtRoomz + (a:$startRoom))
	(output-data:&quot;&quot;)
	]))
}</tw-passagedata><tw-passagedata pid="103" name="room 7" tags="" position="1662,398" size="100,100">{($setImage:)
(if: $decadeNumber is 1750)[($overrideImage: &quot;1757&quot;)]
(if: $decadeNumber is 1990)[($overrideImage: &quot;19907&quot;)]


(set: $thisRoomsNumber to 7)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
($refreshSentences:)}(border-color: green) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence.

From here you may go [[$rightHill_5 $rightOnScreen-&gt;right entrance]] or [[$upHill_1 $upOnScreen-&gt;passage 8]]. 

(if: 5 is in $optionalPaths)[You may also go (link: $leftHill_4 + $leftOnScreen)[(goto: &quot;passage 1&quot;)]]

(if: 11 is in $optionalPaths)[An alternative is to go (link: $downHill_2 + $downOnScreen)[(goto: &quot;passage 7&quot;)].]



]</tw-passagedata><tw-passagedata pid="104" name="rotate map 90" tags="startup" position="588,931" size="100,100">{
&lt;!-- rotates flat by 90 degrees, turning north to east, etc. Rotates the startRoom in the opposite direction to compensate.   
Presupposes: values have been assigned
Called By: rotateMapByRandom90
--&gt;
(set: $rotateMap90 to 
(macro: [
	(set: $downOnScreen to ($rotateCompass90: $downOnScreen))
	(set: $upOnScreen to ($rotateCompass90: $upOnScreen))
	(set: $rightOnScreen to ($rotateCompass90: $rightOnScreen))
	(set: $leftOnScreen to ($rotateCompass90: $leftOnScreen))
	(set: $rightDirections to $rightDirections + (a: $rightOnScreen))
	(set: $upDirections to $upDirections + (a: $upOnScreen))
	($rotateStartBy270:)
	(output-data:&quot;&quot;)
	]))

&lt;!--Dummy code to create arrows, in interface, to called functions --&gt;
[[ -&gt;rotate compass 90]]
[[ -&gt;rotate start by 270]]
}</tw-passagedata><tw-passagedata pid="105" name="rotate compass 90" tags="startup" position="721,868" size="100,100">{
&lt;!-- further rotation functions.  
Presupposes: they receive a compass point as argument
Called By: various
--&gt;
(set: $rotateCompass90 to 
(macro: str-type _direction, [
	(set: _rotate90 to ($rotateCompass45: ($rotateCompass45: _direction)))
	(output-data:_rotate90)
	]))

&lt;!--Dummy code to create arrows, in interface, to called functions --&gt;
[[ -&gt;rotate compass 45]]
}</tw-passagedata><tw-passagedata pid="106" name="rotate compass 45" tags="startup" position="853,868" size="100,100">{
&lt;!-- rotates a given compass point by 45 degrees, turning north to northeast, etc.  
Called By: various
--&gt;
(set: $rotateCompass45 to 
(macro: str-type _direction, [
	(set: _x to (cond: 
		_direction is &quot;north&quot;,&quot;northeast&quot;,
		_direction is &quot;northeast&quot;,&quot;east&quot;,
		_direction is &quot;east&quot;,&quot;southeast&quot;,
		_direction is &quot;southeast&quot;,&quot;south&quot;,
		_direction is &quot;south&quot;,&quot;southwest&quot;,
		_direction is &quot;southwest&quot;,&quot;west&quot;,
		_direction is &quot;west&quot;,&quot;northwest&quot;,
		_direction is &quot;northwest&quot;,&quot;north&quot;,
		&quot;error: rotatecompass45 not given a compass direction&quot;))
	(output-data:_x)
	]))
}</tw-passagedata><tw-passagedata pid="107" name="rotate start by 270" tags="startup" position="717,982" size="100,100">{
&lt;!-- reassigns startRoom to one that is on the CW perpendicular side of the map. When there are two entrances on that side, decides at random. Note that the startRoom cannot be higher than ground level, so the startRoom is later used to determined ground level.   
Presupposes: setScreenValuesForFlat has been called, fixing values for upScreen downScreen etc
Presupposes: startRoom has been assigned. 
Called By: rotateFlatByRandom45 (not used), rotateFlatByRandom90
--&gt;
(set: $rotateStartBy270 to 
(macro: [
	(set: _x to (cond: 
		$startRoom is &quot;top entrance&quot;, &quot;left entrance&quot;,
		$startRoom is &quot;left entrance&quot;, &quot;bottom entrance&quot;,
		$startRoom is &quot;bottom entrance&quot;, &quot;right entrance&quot;,
		$startRoom is &quot;right entrance&quot;, &quot;top entrance&quot;,
		$startRoom is &quot;block entrance 1&quot;, &quot;block entrance 2&quot;,
		$startRoom is &quot;block entrance 2&quot;, &quot;block entrance 3&quot;,
		$startRoom is &quot;block entrance 3&quot;, &quot;block entrance 4&quot;,
		$startRoom is &quot;block entrance 4&quot;, &quot;block entrance 1&quot;,
		$startRoom))
	(set: $startRoom to _x)
	(set: $strtRoomz to $strtRoomz + (a:$startRoom))
	(output-data:&quot;&quot;)
	]))
}</tw-passagedata><tw-passagedata pid="108" name="choose architecture" tags="startup" position="22,342" size="100,100">{
(set: $chooseArchitecture to
(macro: [
	(set: $architecture to $referenceString of $architectureDataBase)
	(output-data:&quot;&quot;)
	]
	))
	
[[ -&gt;architecture Database]]
}</tw-passagedata><tw-passagedata pid="109" name="architecture Database" tags="startup" position="180,344" size="100,100">{
(set: $architectureDataBase to (dm: 
	&quot;1&quot;,&quot;default&quot;,
	&quot;11&quot;,&quot;default&quot;,
	&quot;21&quot;,&quot;block&quot;,
	&quot;31&quot;,&quot;block&quot;,
	&quot;41&quot;,&quot;default&quot;,
	&quot;51&quot;,&quot;block&quot;,
	&quot;61&quot;,&quot;block&quot;,
	&quot;71&quot;,&quot;church&quot;,
	&quot;81&quot;,&quot;default&quot;,
	&quot;91&quot;,&quot;block&quot;,
	&quot;101&quot;,&quot;default&quot;,
	&quot;111&quot;,&quot;arena&quot;,
	&quot;121&quot;,&quot;courtyard house&quot;,
	&quot;131&quot;,&quot;house&quot;,
	&quot;141&quot;,&quot;house&quot;,
	&quot;151&quot;,&quot;castle&quot;,
	&quot;161&quot;,&quot;default&quot;,
	&quot;171&quot;,&quot;church&quot;,
	&quot;181&quot;,&quot;house&quot;,
	&quot;191&quot;,&quot;default&quot;,
	&quot;201&quot;,&quot;default&quot;,
	&quot;211&quot;,&quot;default&quot;,
	&quot;221&quot;,&quot;academy&quot;,
	&quot;231&quot;,&quot;house&quot;,
	&quot;241&quot;,&quot;courtyard house&quot;,
	&quot;251&quot;,&quot;castle&quot;,
	&quot;261&quot;,&quot;default&quot;,
	&quot;271&quot;,&quot;church&quot;,
	&quot;281&quot;,&quot;house&quot;,
	&quot;291&quot;,&quot;default&quot;,
	&quot;301&quot;,&quot;default&quot;,
	&quot;311&quot;,&quot;arena&quot;,
	&quot;321&quot;,&quot;academy&quot;,
	&quot;331&quot;,&quot;default&quot;,
	&quot;341&quot;,&quot;mansion&quot;,
	&quot;351&quot;,&quot;default&quot;,
	&quot;361&quot;,&quot;pit&quot;,
	&quot;371&quot;,&quot;default&quot;,
	&quot;381&quot;,&quot;cathedral&quot;,
	&quot;391&quot;,&quot;block&quot;,
	&quot;401&quot;,&quot;default&quot;,
	&quot;411&quot;,&quot;default&quot;,
	&quot;421&quot;,&quot;mansion&quot;,
	&quot;431&quot;,&quot;church&quot;,
	&quot;441&quot;,&quot;default&quot;,
	&quot;451&quot;,&quot;block&quot;,
	&quot;461&quot;,&quot;block&quot;,
	&quot;471&quot;,&quot;default&quot;,
	&quot;481&quot;,&quot;house&quot;,
	&quot;491&quot;,&quot;block&quot;,
	&quot;501&quot;,&quot;default&quot;,
	&quot;511&quot;,&quot;default&quot;,
	&quot;521&quot;,&quot;pit&quot;,
	&quot;531&quot;,&quot;lakeside&quot;,
	&quot;541&quot;,&quot;castle&quot;,
	&quot;551&quot;,&quot;default&quot;,
	&quot;561&quot;,&quot;pit&quot;,
	&quot;571&quot;,&quot;castle&quot;,
	&quot;581&quot;,&quot;default&quot;,
	&quot;591&quot;,&quot;block&quot;,
	&quot;601&quot;,&quot;default&quot;,
	&quot;611&quot;,&quot;default&quot;,
	&quot;621&quot;,&quot;mansion&quot;,
	&quot;631&quot;,&quot;palace&quot;,
	&quot;641&quot;,&quot;souk&quot;,
	&quot;651&quot;,&quot;castle&quot;,
	&quot;661&quot;,&quot;default&quot;,
	&quot;671&quot;,&quot;mosque&quot;,
	&quot;681&quot;,&quot;default&quot;,
	&quot;691&quot;,&quot;default&quot;,
	&quot;701&quot;,&quot;default&quot;,
	&quot;711&quot;,&quot;default&quot;,
	&quot;721&quot;,&quot;mansion&quot;,
	&quot;731&quot;,&quot;default&quot;,
	&quot;741&quot;,&quot;palace&quot;,
	&quot;751&quot;,&quot;castle&quot;,
	&quot;761&quot;,&quot;lakeside&quot;,
	&quot;771&quot;,&quot;church&quot;,
	&quot;781&quot;,&quot;mansion&quot;,
	&quot;791&quot;,&quot;block&quot;,
	&quot;801&quot;,&quot;default&quot;,
	&quot;811&quot;,&quot;lakeside&quot;,
	&quot;821&quot;,&quot;mansion&quot;,
	&quot;831&quot;,&quot;house&quot;,
	&quot;841&quot;,&quot;castle&quot;,
	&quot;851&quot;,&quot;tower&quot;,
	&quot;861&quot;,&quot;default&quot;,
	&quot;871&quot;,&quot;cathedral&quot;,
	&quot;881&quot;,&quot;default&quot;,
	&quot;891&quot;,&quot;default&quot;,
	&quot;901&quot;,&quot;default&quot;,
	&quot;911&quot;,&quot;arena&quot;,
	&quot;921&quot;,&quot;mountainside&quot;,
	&quot;931&quot;,&quot;castle&quot;,
	&quot;941&quot;,&quot;tower&quot;,
	&quot;951&quot;,&quot;courtyard house&quot;,
	&quot;961&quot;,&quot;default&quot;,
	&quot;971&quot;,&quot;cathedral&quot;,
	&quot;981&quot;,&quot;block&quot;,
	&quot;991&quot;,&quot;block&quot;,
	&quot;1001&quot;,&quot;cathedral&quot;,
	&quot;1011&quot;,&quot;cathedral&quot;,
	&quot;1021&quot;,&quot;tower&quot;,
	&quot;1031&quot;,&quot;castle&quot;,
	&quot;1041&quot;,&quot;tower&quot;,
	&quot;1051&quot;,&quot;courtyard house&quot;,
	&quot;1061&quot;,&quot;church&quot;,
	&quot;1071&quot;,&quot;cathedral&quot;,
	&quot;1081&quot;,&quot;cathedral&quot;,
	&quot;1091&quot;,&quot;default&quot;,
	&quot;1101&quot;,&quot;default&quot;,
	&quot;1111&quot;,&quot;default&quot;,
	&quot;1121&quot;,&quot;church&quot;,
	&quot;1131&quot;,&quot;tower&quot;,
	&quot;1141&quot;,&quot;default&quot;,
	&quot;1151&quot;,&quot;default&quot;,
	&quot;1161&quot;,&quot;block&quot;,
	&quot;1171&quot;,&quot;cathedral&quot;,
	&quot;1181&quot;,&quot;castle&quot;,
	&quot;1191&quot;,&quot;ship&quot;,
	&quot;1201&quot;,&quot;castle&quot;,
	&quot;1211&quot;,&quot;default&quot;,
	&quot;1221&quot;,&quot;house&quot;,
	&quot;1231&quot;,&quot;default&quot;,
	&quot;1241&quot;,&quot;default&quot;,
	&quot;1251&quot;,&quot;default&quot;,
	&quot;1261&quot;,&quot;default&quot;,
	&quot;1271&quot;,&quot;mountainside&quot;,
	&quot;1281&quot;,&quot;ship&quot;,
	&quot;1291&quot;,&quot;default&quot;,
	&quot;1301&quot;,&quot;default&quot;,
	&quot;1311&quot;,&quot;palace&quot;,
	&quot;1321&quot;,&quot;default&quot;,
	&quot;1331&quot;,&quot;default&quot;,
	&quot;1341&quot;,&quot;default&quot;,
	&quot;1351&quot;,&quot;default&quot;,
	&quot;1361&quot;,&quot;mansion&quot;,
	&quot;1371&quot;,&quot;church&quot;,
	&quot;1381&quot;,&quot;house&quot;,
	&quot;1391&quot;,&quot;default&quot;,
	&quot;1401&quot;,&quot;default&quot;,
	&quot;1411&quot;,&quot;default&quot;,
	&quot;1421&quot;,&quot;default&quot;,
	&quot;1431&quot;,&quot;default&quot;,
	&quot;1441&quot;,&quot;default&quot;,
	&quot;1451&quot;,&quot;default&quot;,
	&quot;1461&quot;,&quot;block&quot;,
	&quot;1471&quot;,&quot;cathedral&quot;,
	&quot;1481&quot;,&quot;block&quot;,
	&quot;1491&quot;,&quot;default&quot;,
	&quot;1501&quot;,&quot;default&quot;,
	&quot;1511&quot;,&quot;default&quot;,
	&quot;1521&quot;,&quot;block&quot;,
	&quot;1531&quot;,&quot;default&quot;,
	&quot;1541&quot;,&quot;default&quot;,
	&quot;1551&quot;,&quot;ship&quot;,
	&quot;1561&quot;,&quot;tower&quot;,
	&quot;1571&quot;,&quot;chingle&quot;,
	&quot;1581&quot;,&quot;house&quot;,
	&quot;1591&quot;,&quot;default&quot;,
	&quot;1601&quot;,&quot;default&quot;,
	&quot;1611&quot;,&quot;default&quot;,
	&quot;1621&quot;,&quot;tower&quot;,
	&quot;1631&quot;,&quot;default&quot;,
	&quot;1641&quot;,&quot;house&quot;,
	&quot;1651&quot;,&quot;default&quot;,
	&quot;1661&quot;,&quot;block&quot;,
	&quot;1671&quot;,&quot;house&quot;,
	&quot;1681&quot;,&quot;house&quot;,
	&quot;1691&quot;,&quot;default&quot;,
	&quot;1701&quot;,&quot;default&quot;,
	&quot;1711&quot;,&quot;block&quot;,
	&quot;1721&quot;,&quot;castle&quot;,
	&quot;1731&quot;,&quot;block&quot;,
	&quot;1741&quot;,&quot;house&quot;,
	&quot;1751&quot;,&quot;default&quot;,
	&quot;1761&quot;,&quot;tower&quot;,
	&quot;1771&quot;,&quot;cathedral&quot;,
	&quot;1781&quot;,&quot;castle&quot;,
	&quot;1791&quot;,&quot;square&quot;,
	&quot;1801&quot;,&quot;block&quot;,
	&quot;1811&quot;,&quot;block&quot;,
	&quot;1821&quot;,&quot;house&quot;,
	&quot;1831&quot;,&quot;default&quot;,
	&quot;1841&quot;,&quot;mansion&quot;,
	&quot;1851&quot;,&quot;block&quot;,
	&quot;1861&quot;,&quot;castle&quot;,
	&quot;1871&quot;,&quot;house&quot;,
	&quot;1881&quot;,&quot;block&quot;,
	&quot;1891&quot;,&quot;block&quot;,
	&quot;1901&quot;,&quot;default&quot;,
	&quot;1911&quot;,&quot;arena&quot;,
	&quot;1921&quot;,&quot;block&quot;,
	&quot;1931&quot;,&quot;block&quot;,
	&quot;1941&quot;,&quot;castle&quot;,
	&quot;1951&quot;,&quot;default&quot;,
	&quot;1961&quot;,&quot;castle&quot;,
	&quot;1971&quot;,&quot;cathedral&quot;,
	&quot;1981&quot;,&quot;souk&quot;,
	&quot;1991&quot;,&quot;default&quot;,
	&quot;2001&quot;,&quot;default&quot;,
	&quot;2011&quot;,&quot;default&quot;,
	&quot;2021&quot;,&quot;default&quot;,
	&quot;2031&quot;,&quot;default&quot;,
	&quot;2041&quot;,&quot;default&quot;,
	))
}</tw-passagedata><tw-passagedata pid="110" name="random nums" tags="startup" position="193,2411" size="100,100">{
&lt;!--Because we need the system to generate the same random palace every time, the random values from one initial run must be stored in a database. This is that database.   --&gt;

(set: $randomNums to (dm: 
&quot;0&quot;,	(a:13,0,25,22,21,17,0,9,10,19,3,9,16,7,15,14,17,7,4,13,25,12,4,17,4),
&quot;10&quot;,	(a:8,5,24,22,4,8,12,2,0,15,5,0,20,14,8,25,12,19,2,8,11,3,5,21,7),
&quot;20&quot;,	(a:14,20,23,7,22,21,0,0,21,1,15,0,8,24,12,20,0,22,25,7,24,16,24,3,2),
&quot;30&quot;,	(a:17,23,22,23,23,4,19,12,0,4,10,11,21,11,16,1,8,7,4,24,11,4,12,13,15),
&quot;40&quot;,	(a:16,10,7,22,7,23,21,24,21,14,10,0,2,17,23,24,19,20,2,8,11,9,25,16,2),
&quot;50&quot;,	(a:23,2,21,23,9,8,0,17,4,15,17,9,13,24,14,17,20,11,17,15,6,22,2,7,22),
&quot;60&quot;,	(a:14,23,15,0,4,6,15,10,8,11,9,22,15,20,12,21,4,7,10,21,20,7,24,0,12),
&quot;70&quot;,	(a:4,1,17,15,16,24,9,6,23,1,5,16,19,16,12,17,4,10,16,15,1,17,13,18,1),
&quot;80&quot;,	(a:5,18,6,23,4,1,4,11,3,1,15,9,3,20,18,7,13,2,18,16,9,21,12,11,16),
&quot;90&quot;,	(a:3,8,13,7,7,21,3,0,15,5,19,3,16,20,10,17,24,18,24,22,22,13,4,6,25),
&quot;100&quot;,	(a:20,8,10,8,18,2,22,9,11,4,20,3,12,17,20,13,3,5,20,10,8,25,17,22,1),
&quot;110&quot;,	(a:18,16,11,24,15,3,19,5,19,20,20,18,4,16,13,11,2,9,13,22,1,14,25,20,11),
&quot;120&quot;,	(a:6,21,5,15,1,15,7,4,1,17,20,18,12,1,4,3,0,9,12,14,13,22,15,6,11),
&quot;130&quot;,	(a:25,19,19,16,8,20,21,11,3,11,21,20,25,3,6,7,20,5,16,22,21,3,2,13,12),
&quot;140&quot;,	(a:12,25,2,0,1,11,14,22,10,22,17,11,3,17,1,24,21,6,8,17,17,21,19,18,22),
&quot;150&quot;,	(a:17,0,9,14,0,16,15,6,1,23,7,6,24,25,5,6,13,10,14,6,18,23,15,12,5),
&quot;160&quot;,	(a:5,15,10,15,14,2,18,0,14,25,20,17,23,8,11,10,2,14,24,8,1,22,1,22,23),
&quot;170&quot;,	(a:6,13,4,1,6,12,22,22,5,8,6,4,19,16,19,10,13,17,23,19,1,25,1,22,10),
&quot;180&quot;,	(a:13,11,17,0,12,7,24,17,9,4,8,3,13,20,20,10,19,21,5,6,14,18,6,5,19),
&quot;190&quot;,	(a:16,18,25,21,17,15,9,6,16,22,15,21,25,8,7,6,8,23,17,23,7,0,20,15,12),&quot;200&quot;,	(a:20,10,21,6,10,12,14,11,10,23,7,15,22,7,13,11,13,1,0,15,16,1,23,16,6),
&quot;210&quot;,	(a:23,4,4,22,21,1,16,16,19,10,7,24,9,13,7,25,22,16,10,3,18,9,19,18,25),
&quot;220&quot;,	(a:6,1,25,22,0,17,21,18,24,14,14,11,12,17,19,13,6,21,7,15,15,3,21,13,14),
&quot;230&quot;,	(a:23,25,21,23,12,8,2,16,23,4,0,24,21,13,8,16,18,4,2,24,0,1,13,18,6),
&quot;240&quot;,	(a:16,1,9,2,12,23,24,8,14,25,24,14,2,7,2,21,18,11,19,12,8,8,5,19,21),
&quot;250&quot;,	(a:2,6,19,14,21,0,5,17,15,13,13,1,8,25,13,23,4,10,11,11,2,5,2,15,14),
&quot;260&quot;,	(a:3,25,16,22,0,19,13,20,14,12,16,19,23,23,16,0,17,13,12,9,8,16,25,1,25),
&quot;270&quot;,	(a:12,16,16,13,2,13,10,11,21,7,24,2,21,7,15,12,16,3,4,11,5,20,6,2,24),
&quot;280&quot;,	(a:4,21,15,0,9,19,9,25,20,4,3,3,10,3,14,16,22,17,3,13,7,8,22,21,4),
&quot;290&quot;,	(a:9,10,3,15,19,17,24,0,6,13,25,12,3,18,20,3,9,10,21,25,23,22,1,24,9),
&quot;300&quot;,	(a:18,17,21,16,0,25,10,7,0,15,19,20,4,25,8,2,1,10,12,1,21,6,2,21,2),
&quot;310&quot;,	(a:14,24,9,9,7,18,23,21,5,19,20,6,0,21,3,12,15,0,0,20,20,13,10,21,0),
&quot;320&quot;,	(a:10,24,10,14,22,2,17,4,22,2,8,23,24,10,8,3,17,24,19,6,15,9,17,2,6),
&quot;330&quot;,	(a:8,0,1,11,4,12,9,1,3,2,17,11,7,11,18,13,23,2,11,19,18,12,16,20,22),
&quot;340&quot;,	(a:2,2,6,22,13,21,3,12,22,11,25,4,11,2,1,23,14,9,6,0,16,1,16,9,2),
&quot;350&quot;,	(a:5,23,23,16,1,12,24,20,5,18,7,18,6,14,2,6,10,2,4,24,9,7,8,18,0),
&quot;360&quot;,	(a:12,1,25,1,11,0,4,7,3,20,18,7,23,3,5,15,20,9,7,12,22,15,16,11,18),
&quot;370&quot;,	(a:24,14,8,19,11,16,20,13,23,13,3,9,5,21,5,17,22,19,20,9,25,2,23,18,11),
&quot;380&quot;,	(a:18,21,3,25,14,25,20,13,5,1,11,2,3,25,19,2,10,11,17,1,21,1,8,1,11),
&quot;390&quot;,	(a:18,9,24,19,13,0,20,9,25,3,13,0,7,16,0,1,19,12,4,8,12,12,10,18,10),&quot;400&quot;,	(a:15,4,19,17,9,3,5,22,2,2,13,9,8,6,14,19,8,14,3,5,16,19,25,10,2),
&quot;410&quot;,	(a:15,6,22,20,25,23,12,2,4,15,11,11,13,1,8,14,18,16,24,25,13,19,6,21,20),
&quot;420&quot;,	(a:22,23,12,9,9,25,12,9,22,19,23,3,8,25,16,24,24,5,2,23,21,5,20,8,2),
&quot;430&quot;,	(a:14,18,15,8,20,13,1,23,4,3,18,22,12,19,23,12,11,14,1,5,9,22,21,6,17),
&quot;440&quot;,	(a:8,19,7,25,19,21,12,9,12,9,18,23,16,10,17,5,17,2,11,4,12,4,7,23,15),
&quot;450&quot;,	(a:18,5,12,3,22,2,6,23,18,21,24,2,9,25,16,2,13,15,17,22,22,10,10,14,6),
&quot;460&quot;,	(a:5,9,5,23,1,18,22,0,10,1,8,24,17,11,13,25,8,13,14,12,1,21,10,13,24),
&quot;470&quot;,	(a:3,21,24,10,12,3,12,12,1,22,14,17,1,18,23,6,10,10,20,21,4,23,4,18,15),
&quot;480&quot;,	(a:12,7,22,10,17,21,22,18,8,4,6,8,16,3,0,12,5,19,0,6,2,2,3,19,8),
&quot;490&quot;,	(a:5,22,18,8,5,5,7,18,14,2,13,17,22,14,11,21,25,10,1,21,9,7,24,9,21),
&quot;500&quot;,	(a:19,15,7,14,7,12,17,14,20,15,24,4,5,10,3,18,5,7,4,22,20,12,11,12,21),
&quot;510&quot;,	(a:19,14,18,11,10,2,11,11,19,22,3,19,23,6,0,12,9,4,9,20,22,10,5,13,20),
&quot;520&quot;,	(a:23,25,7,5,17,8,0,3,3,17,1,7,14,13,11,17,17,21,18,20,13,20,10,2,15),
&quot;530&quot;,	(a:6,18,25,16,5,24,21,12,21,12,0,4,8,3,15,11,9,14,12,6,14,9,20,14,23),
&quot;540&quot;,	(a:9,25,17,25,1,3,12,20,8,0,1,1,14,8,2,9,18,2,2,19,7,0,6,6,16),
&quot;550&quot;,	(a:11,1,23,25,19,18,1,3,25,12,24,8,24,8,18,20,14,10,17,23,15,6,23,18,24),
&quot;560&quot;,	(a:1,6,22,14,23,1,12,5,13,14,16,4,14,6,25,23,21,20,19,12,2,4,21,15,25),
&quot;570&quot;,	(a:23,13,18,9,16,3,25,13,18,15,13,5,8,6,22,7,9,16,24,1,12,3,7,2,11),
&quot;580&quot;,	(a:18,17,3,5,12,4,25,15,7,24,1,2,0,11,11,9,15,18,9,15,22,20,10,1,5),
&quot;590&quot;,	(a:2,14,8,19,17,23,4,8,4,9,14,24,5,7,4,3,7,2,25,8,13,25,0,5,0),&quot;600&quot;,	(a:3,1,15,22,16,20,2,4,20,25,1,11,9,0,9,3,25,7,11,14,13,8,17,6,0),
&quot;610&quot;,	(a:19,12,25,17,21,16,11,23,14,11,1,5,6,19,19,3,12,10,17,0,15,7,24,9,21),
&quot;620&quot;,	(a:5,15,20,5,19,2,25,20,13,11,25,3,11,13,9,21,2,0,8,19,18,12,19,5,25),
&quot;630&quot;,	(a:20,18,25,18,1,1,6,22,22,20,21,6,15,22,10,18,3,14,13,20,17,15,3,4,25),
&quot;640&quot;,	(a:22,8,12,2,0,18,8,6,23,22,9,18,3,10,17,7,10,1,6,14,0,15,18,20,18),
&quot;650&quot;,	(a:16,20,2,7,6,8,11,2,15,18,16,24,24,7,23,21,25,18,25,17,3,9,23,5,4),
&quot;660&quot;,	(a:21,4,8,25,17,16,14,8,14,5,15,11,9,4,25,1,2,4,9,13,14,5,22,2,16),
&quot;670&quot;,	(a:21,20,15,15,21,2,19,22,13,1,7,2,25,0,7,4,2,22,6,22,16,6,16,13,1),
&quot;680&quot;,	(a:7,24,13,19,25,21,5,9,22,6,10,0,1,20,22,0,20,24,11,11,13,5,13,9,25),
&quot;690&quot;,	(a:6,24,20,11,14,7,21,25,24,15,20,20,15,19,20,1,2,7,18,13,8,14,7,5,22),
&quot;700&quot;,	(a:1,19,21,8,9,23,18,2,13,18,13,21,7,6,25,11,13,4,21,22,6,4,2,20,2),
&quot;710&quot;,	(a:8,22,12,4,1,24,7,15,5,8,10,11,21,17,18,17,1,23,14,21,12,15,21,22,4),
&quot;720&quot;,	(a:7,5,18,24,10,0,25,18,3,2,21,10,22,15,21,25,23,0,8,7,17,22,15,6,7),
&quot;730&quot;,	(a:3,6,12,1,10,2,13,23,14,16,10,11,19,7,0,10,24,10,0,9,0,17,1,20,15),
&quot;740&quot;,	(a:17,19,21,17,4,8,5,19,4,20,3,1,2,6,1,19,11,18,22,22,7,7,18,20,17),
&quot;750&quot;,	(a:4,15,14,23,11,0,0,19,22,7,15,18,0,8,25,4,6,25,8,4,12,1,4,4,23),
&quot;760&quot;,	(a:25,2,2,12,4,5,3,11,1,25,2,3,23,6,25,5,19,12,15,7,9,21,3,1,4),
&quot;770&quot;,	(a:19,12,4,5,22,17,24,18,22,16,2,7,11,3,9,2,1,9,22,10,17,10,23,10,1),
&quot;780&quot;,	(a:4,0,5,13,6,18,2,22,6,12,0,4,13,25,24,0,6,9,2,2,5,19,5,17,16),
&quot;790&quot;,	(a:23,15,24,6,22,1,6,12,7,20,16,24,2,14,14,2,24,25,25,9,24,11,25,3,4),&quot;800&quot;,	(a:24,20,12,11,22,24,12,23,23,0,19,19,21,1,21,11,3,19,17,7,12,21,19,18,23),
&quot;810&quot;,	(a:2,14,16,24,0,21,2,8,23,10,16,17,5,15,7,5,1,12,16,14,9,24,19,11,15),
&quot;820&quot;,	(a:9,17,25,20,0,21,15,9,3,25,19,8,22,19,0,20,2,1,16,20,16,5,23,9,10),
&quot;830&quot;,	(a:19,13,15,13,15,7,15,14,3,19,11,2,22,0,17,10,9,22,17,11,25,18,25,23,24),
&quot;840&quot;,	(a:1,25,3,22,5,15,17,2,12,14,13,13,9,22,13,12,11,17,23,0,24,6,21,8,25),
&quot;850&quot;,	(a:1,14,7,18,10,6,11,20,15,22,20,11,10,18,2,19,11,12,11,14,0,6,17,25,9),
&quot;860&quot;,	(a:5,12,10,19,12,4,6,20,20,18,22,6,14,21,16,9,1,1,16,4,14,10,6,11,15),
&quot;870&quot;,	(a:20,0,6,18,9,24,1,23,9,15,20,9,15,16,19,21,21,8,17,18,25,1,22,1,16),
&quot;880&quot;,	(a:23,16,4,23,4,20,12,16,3,22,12,2,1,18,16,14,8,1,1,0,12,22,25,11,15),
&quot;890&quot;,	(a:5,6,2,11,22,2,6,1,12,16,0,10,11,24,8,3,12,13,3,25,4,21,11,6,1),
&quot;900&quot;,	(a:2,11,11,16,9,20,7,10,3,4,15,5,24,20,5,8,10,18,8,6,12,8,21,9,3),
&quot;910&quot;,	(a:22,6,20,21,22,4,19,11,22,18,19,11,25,10,9,0,9,22,24,14,23,14,23,16,13),
&quot;920&quot;,	(a:7,5,21,6,7,13,19,8,13,12,13,5,13,21,7,11,2,25,12,0,14,23,7,3,11),
&quot;930&quot;,	(a:11,24,16,23,18,20,4,13,5,17,22,18,25,13,2,5,14,25,2,22,2,19,9,21,4),
&quot;940&quot;,	(a:7,8,4,24,24,0,9,24,6,24,18,16,7,5,10,14,23,15,16,5,24,15,5,1,10),
&quot;950&quot;,	(a:22,25,5,20,18,20,12,17,16,5,0,0,18,13,23,18,2,5,6,9,19,24,17,12,25),
&quot;960&quot;,	(a:5,16,13,0,7,8,1,13,9,16,8,22,22,2,17,21,18,24,9,10,2,2,14,18,18),
&quot;970&quot;,	(a:1,24,23,15,21,21,18,8,23,5,18,1,22,24,25,10,20,20,25,23,8,6,21,20,13),
&quot;980&quot;,	(a:9,1,4,3,0,15,6,14,17,5,8,18,3,16,6,7,22,9,20,22,25,19,18,9,9),
&quot;990&quot;,	(a:25,5,23,11,7,7,23,22,12,12,13,3,13,2,10,13,22,7,16,0,21,19,3,9,5),&quot;1000&quot;,	(a:21,19,20,14,8,0,25,15,15,10,22,24,12,20,7,16,3,14,18,24,1,9,17,17,5),
&quot;1010&quot;,	(a:8,18,22,16,11,13,1,12,0,4,25,13,12,8,4,21,15,16,15,0,5,12,22,17,22),
&quot;1020&quot;,	(a:17,13,21,21,8,11,17,3,9,23,4,10,22,19,4,7,21,3,0,18,7,24,16,5,12),
&quot;1030&quot;,	(a:21,16,6,17,21,8,10,23,6,7,20,13,8,11,0,24,6,2,12,9,17,7,7,7,22),
&quot;1040&quot;,	(a:13,2,8,3,22,15,5,1,5,25,1,11,5,23,6,24,11,17,15,7,19,7,17,20,9),
&quot;1050&quot;,	(a:7,6,5,22,5,7,5,25,5,6,4,8,2,9,22,21,16,15,2,19,0,5,25,4,2),
&quot;1060&quot;,	(a:14,23,18,9,21,17,25,13,15,17,17,3,5,3,23,24,23,23,5,18,23,11,21,4,10),
&quot;1070&quot;,	(a:19,17,10,11,22,7,16,15,9,24,24,17,12,20,5,14,8,7,12,7,5,20,13,2,16),
&quot;1080&quot;,	(a:13,21,20,16,11,17,10,0,20,0,5,17,7,23,1,11,20,9,11,12,8,3,18,4,19),
&quot;1090&quot;,	(a:25,14,0,7,8,14,11,18,25,3,24,8,18,0,11,7,20,10,5,6,1,11,2,12,17),
&quot;1100&quot;,	(a:22,15,7,12,1,7,9,2,2,19,20,22,20,11,22,11,12,24,3,6,23,10,9,10,17),
&quot;1110&quot;,	(a:0,6,12,12,14,4,23,23,2,23,1,10,20,0,6,17,4,22,9,3,1,18,16,4,6),
&quot;1120&quot;,	(a:7,0,0,14,10,22,3,20,11,11,6,25,17,25,8,20,18,17,2,14,2,15,25,23,19),
&quot;1130&quot;,	(a:9,6,6,15,17,14,10,12,18,4,4,24,12,8,25,5,18,6,1,19,18,24,0,19,11),
&quot;1140&quot;,	(a:23,7,1,23,18,17,20,23,12,19,3,9,24,13,15,14,14,4,14,1,8,23,20,5,6),
&quot;1150&quot;,	(a:14,13,5,19,12,5,10,25,9,5,8,9,7,12,11,6,0,25,12,25,4,14,24,6,8),
&quot;1160&quot;,	(a:14,18,14,23,21,15,16,1,24,16,16,4,21,6,22,15,14,14,5,1,24,10,5,16,4),
&quot;1170&quot;,	(a:13,8,18,11,21,11,11,23,17,22,25,20,10,8,17,12,5,1,10,4,10,21,9,1,5),
&quot;1180&quot;,	(a:12,8,3,19,0,0,5,3,16,12,24,1,13,4,7,4,16,9,13,11,18,8,3,8,17),
&quot;1190&quot;,	(a:18,18,10,20,13,25,8,8,12,16,20,21,21,13,17,6,11,13,12,13,2,11,22,7,0),&quot;1200&quot;,	(a:3,23,3,19,13,2,11,14,12,2,9,17,16,22,13,17,10,4,4,7,4,20,9,15,14),
&quot;1210&quot;,	(a:0,6,4,14,21,6,24,23,5,6,15,8,4,9,6,9,22,19,17,21,10,4,7,11,5),
&quot;1220&quot;,	(a:3,7,13,4,23,16,13,20,6,2,8,6,1,21,10,15,11,10,11,24,15,16,5,5,13),
&quot;1230&quot;,	(a:11,23,24,20,10,15,3,21,6,11,3,15,16,16,20,0,20,15,15,10,24,14,16,17,17),
&quot;1240&quot;,	(a:22,7,17,13,19,0,11,3,22,5,22,19,24,14,20,17,22,15,24,21,6,5,19,19,23),
&quot;1250&quot;,	(a:0,5,17,5,23,8,19,4,13,22,21,3,18,23,14,18,25,2,15,6,16,20,18,23,8),
&quot;1260&quot;,	(a:20,14,16,10,16,11,14,3,16,15,3,25,0,6,0,8,18,3,4,15,14,12,1,5,9),
&quot;1270&quot;,	(a:14,6,24,5,14,9,12,3,19,17,6,23,7,9,21,18,22,3,5,21,25,20,24,21,25),
&quot;1280&quot;,	(a:9,10,9,6,18,4,12,23,5,3,14,3,9,0,4,2,6,1,9,3,24,5,14,23,22),
&quot;1290&quot;,	(a:9,13,19,23,20,5,5,8,18,19,1,8,2,8,8,4,7,17,18,10,9,25,24,1,13),
&quot;1300&quot;,	(a:15,0,5,22,17,9,12,3,9,0,23,8,4,6,2,7,25,15,15,4,19,8,3,3,5),
&quot;1310&quot;,	(a:7,15,5,25,1,12,2,15,1,7,19,7,14,1,22,17,2,15,14,23,7,23,19,21,14),
&quot;1320&quot;,	(a:16,8,5,5,15,0,8,16,14,23,20,23,12,1,1,7,21,11,22,14,16,14,10,17,18),
&quot;1330&quot;,	(a:13,16,19,21,8,6,25,14,8,1,22,9,5,6,10,20,7,10,23,5,25,15,10,19,24),
&quot;1340&quot;,	(a:10,17,20,6,15,25,3,14,21,8,3,5,15,18,16,16,17,6,16,3,13,25,8,5,4),
&quot;1350&quot;,	(a:4,6,8,10,18,15,17,5,2,21,16,14,12,3,12,10,2,4,4,7,7,12,9,5,20),
&quot;1360&quot;,	(a:0,0,9,23,8,8,17,17,2,3,25,18,15,18,19,22,14,0,0,21,3,16,7,1,15),
&quot;1370&quot;,	(a:12,11,25,6,16,2,1,13,11,4,2,22,23,4,11,12,21,25,23,11,12,24,19,10,22),
&quot;1380&quot;,	(a:18,15,17,0,24,15,23,22,8,20,25,17,3,1,15,14,9,9,25,11,7,17,18,23,7),
&quot;1390&quot;,	(a:13,22,11,17,21,21,8,11,22,12,15,2,19,9,23,7,3,1,12,13,19,9,0,18,10),&quot;1400&quot;,	(a:15,20,16,23,6,5,2,5,1,8,24,1,23,24,15,1,17,14,0,6,1,6,0,24,11),
&quot;1410&quot;,	(a:6,16,25,1,11,8,19,18,24,24,14,20,2,18,20,23,8,23,3,16,23,11,23,21,13),
&quot;1420&quot;,	(a:0,5,21,16,16,25,25,22,25,13,1,13,3,6,8,11,13,24,12,9,18,16,21,17,18),
&quot;1430&quot;,	(a:19,14,19,18,24,19,21,9,13,20,17,16,22,0,6,23,11,9,8,9,17,21,5,9,12),
&quot;1440&quot;,	(a:10,1,22,24,12,5,12,19,25,17,14,4,9,0,21,5,8,1,0,8,21,22,24,6,3),
&quot;1450&quot;,	(a:0,25,17,24,21,16,21,5,13,4,5,15,8,17,4,10,10,24,15,5,10,4,6,14,1),
&quot;1460&quot;,	(a:25,7,16,8,17,9,4,20,11,25,3,10,10,20,21,22,8,5,13,2,19,1,23,18,25),
&quot;1470&quot;,	(a:19,15,16,6,1,4,10,22,9,16,8,8,10,20,11,6,24,14,19,15,9,25,12,3,6),
&quot;1480&quot;,	(a:3,2,21,14,19,19,10,9,3,10,16,23,17,20,24,3,14,19,1,24,1,12,4,13,7),
&quot;1490&quot;,	(a:23,19,24,21,14,18,21,17,6,4,3,14,16,19,19,21,19,13,23,1,5,13,2,20,5),
&quot;1500&quot;,	(a:9,2,9,9,1,13,1,7,1,18,15,7,6,0,3,13,14,3,1,2,7,0,12,9,15),
&quot;1510&quot;,	(a:13,10,16,16,20,0,16,0,3,14,5,17,22,16,12,17,14,0,25,12,10,14,11,21,10),
&quot;1520&quot;,	(a:9,10,7,19,1,17,12,10,10,19,19,8,5,25,19,21,13,1,12,18,1,17,2,15,25),
&quot;1530&quot;,	(a:11,12,11,17,8,16,9,19,1,25,9,12,1,24,3,12,1,24,6,9,7,22,25,17,23),
&quot;1540&quot;,	(a:7,19,25,2,24,12,11,1,16,7,18,11,12,16,17,24,22,0,2,6,25,22,2,11,4),
&quot;1550&quot;,	(a:20,15,12,20,15,5,10,17,13,25,13,18,22,25,5,12,4,19,11,6,7,22,11,13,23),
&quot;1560&quot;,	(a:19,11,13,13,12,23,21,10,24,23,4,6,16,13,16,10,7,19,0,21,15,4,23,8,0),
&quot;1570&quot;,	(a:22,0,14,16,24,22,23,3,17,17,16,13,19,24,0,7,10,10,25,2,22,14,3,6,7),
&quot;1580&quot;,	(a:4,6,12,25,24,12,1,24,1,9,1,9,12,15,16,9,0,0,8,9,18,11,17,5,22),
&quot;1590&quot;,	(a:7,22,14,8,4,17,21,0,9,1,23,13,17,9,22,14,24,9,3,15,8,5,5,2,0),&quot;1600&quot;,	(a:2,20,20,22,11,17,5,2,11,22,0,12,18,6,7,12,7,16,19,2,23,9,24,17,23),
&quot;1610&quot;,	(a:15,24,25,3,15,11,21,15,10,23,21,25,13,24,2,13,17,3,7,18,4,15,13,12,11),
&quot;1620&quot;,	(a:18,24,6,11,25,4,19,4,13,9,4,20,2,22,18,6,22,19,12,12,2,14,5,16,0),
&quot;1630&quot;,	(a:18,24,20,4,16,3,22,13,8,17,6,16,12,23,15,13,3,10,10,7,14,4,13,25,7),
&quot;1640&quot;,	(a:2,9,23,10,12,2,21,16,20,14,14,13,8,19,18,16,2,5,22,16,17,22,9,16,0),
&quot;1650&quot;,	(a:9,19,12,4,6,20,21,20,18,13,11,15,20,23,23,15,15,20,3,0,17,3,20,9,0),
&quot;1660&quot;,	(a:7,15,7,15,7,5,0,19,24,6,10,22,23,5,12,9,0,8,7,18,19,22,7,22,13),
&quot;1670&quot;,	(a:8,25,7,17,24,18,22,17,3,5,6,5,19,8,16,24,12,12,2,24,24,25,20,10,25),
&quot;1680&quot;,	(a:18,2,6,23,0,18,21,23,18,15,22,16,7,25,4,1,20,24,20,7,8,18,1,16,25),
&quot;1690&quot;,	(a:23,23,19,7,18,19,15,7,2,21,17,2,24,7,19,7,23,0,20,1,12,18,22,19,4),
&quot;1700&quot;,	(a:22,0,21,24,1,3,3,18,23,23,24,18,13,3,14,11,1,20,5,20,7,19,19,12,2),
&quot;1710&quot;,	(a:1,2,22,16,9,7,7,8,8,10,17,17,8,1,17,20,6,11,12,25,4,23,21,13,23),
&quot;1720&quot;,	(a:25,5,24,14,5,3,19,6,22,1,16,6,14,24,8,24,0,14,19,12,1,19,3,8,12),
&quot;1730&quot;,	(a:17,4,1,7,20,11,15,1,13,15,21,14,10,10,0,2,9,17,0,17,10,6,22,23,10),
&quot;1740&quot;,	(a:0,14,15,15,20,7,19,15,10,24,2,10,0,13,24,24,7,5,2,13,20,0,1,7,20),
&quot;1750&quot;,	(a:16,4,2,7,14,14,17,25,21,16,10,9,24,8,5,0,7,17,2,0,0,25,1,5,4),
&quot;1760&quot;,	(a:16,14,16,16,1,4,19,12,19,15,2,18,0,3,17,7,0,5,1,7,7,19,1,21,24),
&quot;1770&quot;,	(a:2,17,14,12,25,1,20,21,4,13,9,24,12,25,10,24,7,14,6,15,20,11,7,2,16),
&quot;1780&quot;,	(a:16,12,4,17,12,24,9,17,15,16,5,1,19,3,20,1,24,25,14,1,1,13,20,5,7),
&quot;1790&quot;,	(a:2,22,19,24,24,16,0,16,10,10,19,2,18,19,25,4,12,10,5,3,7,14,17,10,7),
&quot;1800&quot;,	(a:20,25,21,8,13,0,23,1,17,9,20,11,1,23,9,20,15,16,13,15,20,15,11,12,5),
&quot;1810&quot;,	(a:17,9,19,14,15,5,13,0,4,6,14,13,23,9,23,3,7,11,11,8,6,11,25,18,15),
&quot;1820&quot;,	(a:25,18,11,12,25,13,8,14,13,4,23,25,16,25,0,0,19,22,17,6,21,14,9,10,4),
&quot;1830&quot;,	(a:11,14,6,0,17,4,2,21,18,25,15,8,10,14,0,21,23,8,7,21,22,24,23,6,24),
&quot;1840&quot;,	(a:16,9,19,11,23,3,18,11,2,2,25,8,4,12,1,17,25,21,6,13,5,15,13,19,18),
&quot;1850&quot;,	(a:23,23,9,20,14,4,16,9,10,8,24,20,10,3,3,19,20,22,23,9,6,12,16,12,21),
&quot;1860&quot;,	(a:3,2,5,15,6,17,23,7,12,12,18,16,13,14,19,13,1,11,1,8,5,7,4,20,9),
&quot;1870&quot;,	(a:21,19,8,1,5,22,20,7,11,11,14,8,15,13,9,3,18,20,13,13,1,20,10,0,6),
&quot;1880&quot;,	(a:18,4,5,5,6,11,16,22,6,11,8,7,17,19,18,3,1,5,22,12,2,14,25,9,17),
&quot;1890&quot;,	(a:18,16,0,7,25,0,20,5,15,9,24,2,9,4,17,22,15,1,24,13,0,11,10,12,21),
&quot;1900&quot;,	(a:16,18,18,7,1,15,1,24,14,25,10,3,5,8,23,22,23,4,11,22,9,21,13,6,19),
&quot;1910&quot;,	(a:19,1,23,17,21,21,16,3,22,24,21,11,24,8,17,7,14,17,6,20,18,23,16,8,6),
&quot;1920&quot;,	(a:2,11,2,15,3,2,12,8,22,22,13,4,5,25,3,1,3,6,11,6,5,17,11,17,11),
&quot;1930&quot;,	(a:7,17,6,7,13,0,21,14,6,6,17,10,13,20,13,10,21,10,4,16,22,8,0,25,5),
&quot;1940&quot;,	(a:11,17,2,21,9,16,7,2,24,17,18,21,16,11,13,21,12,2,22,0,3,25,13,1,3),
&quot;1950&quot;,	(a:16,22,20,3,18,14,4,12,9,3,0,11,9,4,3,24,21,18,24,15,14,15,17,8,21),
&quot;1960&quot;,	(a:15,2,0,4,14,9,16,3,22,4,15,11,14,15,13,18,15,22,17,12,10,25,5,0,20),
&quot;1970&quot;,	(a:4,5,11,3,23,4,23,20,9,7,13,25,9,5,10,18,14,12,21,19,0,7,19,20,9),
&quot;1980&quot;,	(a:20,12,24,20,9,11,21,11,15,15,23,1,11,23,2,20,9,13,21,6,12,8,0,15,0),
&quot;1990&quot;,	(a:20,13,5,7,6,21,9,25,4,17,13,23,0,2,18,13,20,24,5,0,24,20,7,20,0),&quot;2000&quot;,	(a:10,15,15,9,17,15,14,23,19,25,13,1,22,14,4,13,18,1,25,6,4,2,13,24,20),
&quot;2010&quot;,	(a:14,19,7,24,19,0,0,0,22,24,10,20,19,18,16,5,8,14,18,18,21,3,6,10,19),
&quot;2020&quot;,	(a:23,8,24,10,13,0,9,13,24,11,11,16,10,14,13,2,14,21,2,23,10,17,12,0,7),
&quot;2030&quot;,	(a:17,4,4,10,14,13,9,22,5,25,14,5,23,12,19,9,14,10,17,2,11,4,11,4,23),
&quot;2040&quot;,	(a:10,15,17,0,4,23,18,9,25,13,0,20,20,22,4,9,14,0,11,13,21,1,23,4,6),
&quot;2050&quot;,	(a:10,2,9,16,9,12,17,11,1,9,3,1,22,2,2,21,11,21,14,23,10,12,0,8,12),
&quot;2060&quot;,	(a:19,24,8,4,2,20,7,19,18,9,4,10,16,0,21,25,5,22,4,19,18,25,3,11,21),
&quot;2070&quot;,	(a:24,9,18,19,2,11,25,3,8,4,23,1,8,23,22,9,2,18,4,23,12,16,3,14,21),
&quot;2080&quot;,	(a:17,15,11,6,9,14,0,1,8,10,10,24,5,9,24,25,11,3,15,5,16,9,5,15,2),
&quot;2090&quot;,	(a:22,20,18,6,12,6,15,1,7,2,1,1,22,10,14,3,15,3,22,19,1,7,20,3,24)
))

}
</tw-passagedata><tw-passagedata pid="111" name="set default directions" tags="startup" position="337,1345" size="100,100">{
(set: $setDefaultDirections to
(macro: [
	(set: $upOnScreen to &quot;north&quot;)
	(set: $downOnScreen to &quot;south&quot;)
	(set: $leftOnScreen to &quot;west&quot;)
	(set: $rightOnScreen to &quot;east&quot;)
	(output-data:&quot;&quot;)
	]
	))
}</tw-passagedata><tw-passagedata pid="112" name="flip start up down" tags="startup" position="638,1258" size="100,100">{
&lt;!-- maps a start room onto its nearest opposite start room at the otherr side of the map.  
Presupposes: startRoom has been assigned. The entrances listed are opposite.  
Called By: randomFlipUD
--&gt;

(set: $flipStartUD to 
(macro: [
	(set: _x to (cond: 
		$startRoom is &quot;top entrance&quot;, &quot;bottom entrance&quot;,
		$startRoom is &quot;bottom entrance&quot;, &quot;top entrance&quot;,
		$startRoom is &quot;tower entrance&quot;, &quot;tower entrance 2&quot;,
		$startRoom is &quot;tower entrance 2&quot;, &quot;tower entrance&quot;,
		$startRoom is &quot;block entrance 1&quot;, &quot;block entrance 3&quot;,
		$startRoom is &quot;block entrance 3&quot;, &quot;block entrance 1&quot;,
		$startRoom))
	(set: $startRoom to _x)
	(set: $strtRoomz to $strtRoomz + (a:$startRoom))
	(output-data:&quot;&quot;)
	]))
}</tw-passagedata><tw-passagedata pid="113" name="environ assign" tags="startup" position="646,1951" size="100,100">{

		
(set: $roomAdjective to &quot;a &quot;)

(set: $afghanistans to (a:1950))
(set: $arbors to (a:1090))
(set: $arenas to (a:110,310,910,1110,1410,1850,1910))

(set: $armories to (a: 50,450))

(set: $barracks to (a: 120,150,250,750,1050,1120))
(set: $barrows to (a:590))
(set: $battlefields to (a: 350,550,1350,1450,1650))
(set: $breweries to (a:30))

(set: $brothels to (a:230))
(set: $buildings to (a:40,80,240,340,440,520,730,1220,1360))

(set: $cafes to (a:1740))
(set: $camps to (a:210,410,510,960,990,1110,1140,1150,1240,1330,1430,1510,1610,1770))
(set: $castles to (a:540,650,840,1180,1780))
(set: $cathedrals to (a: 380,870,970,1000,1010,1070,1080,1170,1470,1770))
(set: $caves to (a: 560))
(set: $cemeteries to (a: 190,290))
(set: $churches to (a: 70,770,1020,1030,1040,1060,1370))
(set: $crypts to (a:90,390,490,790))
(set: $courthouses to (a:950, 1520))

(set: $docksides to (a:1530))

(set: $farms to (a:300,600,1300,1500,1600,1700,1900)) 
(set: $fruments to (a:20))

(set: $forests to (a:400,500,860,900,1100,1320,1490,1630))
(set: $hashishQuarters to (a:610))
(set: $houses to (a:140,1540,1640,1820))
(set: $hypogea to (a:10))

(set: $inquisitors to (a:1480))
(set: $jails to (a:60,460,1160,1460,1560,1660,1680,1710,1730,1760,1860,1960))
(set: $jungles to (a:1400))
(set: $kremlins to (a:1940))
(set: $lakesides to (a:530,1690))

(set: $libraries to (a:420,620,720,820,1920))
(set: $mansions to (a:1840))
(set: $markets to (a:640))
(set: $menageries to (a:700))
(set: $mines to(a:360))


(set: $mushrooms to (a:0))
(set: $monasteries to (a:930,1030,1720))
(set: $mosques to (a:670))
(set: $mountainsides to (a: 920,1270))

(set: $newsPresses to (a:1930))

(set: $palaces to (a:570,630,740,850,1130,1310))
(set: $parks to (a: 100,200,370,470))
(set: $penalQuarters to (a: 680,1790))
(set: $plaguePits to(a:490))
(set: $rectories to (a:1580))
(set: $revolutions to (a:1750))

(set: $schools to (a:220,320))
(set: $ships to (a: 1190,1280,1550))
(set: $skyscrapers to (a:940))
(set: $slaveMarkets to (a:160,760))
(set: $stBasils to (a:1970))

(set: $surgeries to (a:180,280,480,780,980,1380,1800,1880))
(set: $swamps to (a:800,810,880,890))
(set: $temples to (a:170,270,430,1670,1870))
(set: $towers to (a:830,1620))
(set: $towns to (a:1990))

(set: $triclinia to (a:330))

(set: $vaults to (a:1890))
(set: $vestals to (a:130))

(set: $villages to (a: 260,580,660,690,1200,1210,1230,1250,1260,1290,1340,1390,1420,1440,1590,1830))
(set: $walls to (a:1980))
(set: $workhouses to (a: 1801))


	

}</tw-passagedata><tw-passagedata pid="114" name="room terms database" tags="startup" position="649,2058" size="100,100">{
(set: $roomTerms to (dm: 
	&quot;1&quot;, (a: &quot;fecund&quot;, &quot;plot&quot;),
	&quot;11&quot;, (a: &quot;busy&quot;, &quot;chamber&quot;),
	&quot;21&quot;, (a: &quot;quiet&quot;, &quot;entrance hall&quot;),
	&quot;31&quot;, (a: &quot;barrel filled&quot;, &quot;vault&quot;),
	&quot;41&quot;, (a: &quot;sparsely furnished&quot;, &quot;abode&quot;),
	&quot;51&quot;, (a: &quot;well stocked&quot;, &quot;depot&quot;),
	&quot;61&quot;, (a: &quot;uncomfortable&quot;, &quot;cell&quot;),
	&quot;71&quot;, (a: &quot;tranquil&quot;, &quot;sanctum&quot;),
	&quot;81&quot;, (a: &quot;scruffy&quot;, &quot;abode&quot;),
	&quot;91&quot;, (a: &quot;ancient&quot;, &quot;ossuary&quot;),
	&quot;101&quot;, (a: &quot;quiet&quot;, &quot;orchard&quot;),
	&quot;111&quot;, (a: &quot;towering&quot;, &quot;entrance&quot;),
	&quot;121&quot;, (a: &quot;dusty&quot;, &quot;courtyard&quot;),
	&quot;131&quot;, (a: &quot;lush&quot;, &quot;boudoir&quot;),
	&quot;141&quot;, (a: &quot;palatial&quot;, &quot;entrance hall&quot;),
	&quot;151&quot;, (a: &quot;training&quot;, &quot;yard&quot;),
	&quot;161&quot;, (a: &quot;noisy&quot;, &quot;square&quot;),
	&quot;171&quot;, (a: &quot;echoey&quot;, &quot;sanctum&quot;),
	&quot;181&quot;, (a: &quot;operating&quot;, &quot;theater&quot;),
	&quot;191&quot;, (a: &quot;stone&quot;, &quot;mausoleum&quot;),
	&quot;201&quot;, (a: &quot;serene&quot;, &quot;pond&quot;),
	&quot;211&quot;, (a: &quot;babbling&quot;, &quot;square&quot;),
	&quot;221&quot;, (a: &quot;debating&quot;, &quot;hall&quot;),
	&quot;231&quot;, (a: &quot;dancing&quot;, &quot;deck&quot;),
	&quot;241&quot;, (a: &quot;shady&quot;, &quot;entrance hall&quot;),
	&quot;251&quot;, (a: &quot;rock brick&quot;, &quot;post&quot;),
	&quot;261&quot;, (a: &quot;dirt&quot;, &quot;square&quot;),
	&quot;271&quot;, (a: &quot;draughty&quot;, &quot;gazebo&quot;),
	&quot;281&quot;, (a: &quot;dilapidated&quot;, &quot;dormitory&quot;),
	&quot;291&quot;, (a: &quot;noiseless&quot;, &quot;plot&quot;),
	&quot;301&quot;, (a: &quot;&quot;, &quot;field tower&quot;),
	&quot;311&quot;, (a: &quot;rehearsal&quot;, &quot;stage&quot;),
	&quot;321&quot;, (a: &quot;marble&quot;, &quot;hall&quot;),
	&quot;331&quot;, (a: &quot;discreet&quot;, &quot;apse&quot;),
	&quot;341&quot;, (a: &quot;musty&quot;, &quot;entrance hall&quot;),
	&quot;351&quot;, (a: &quot;blood soaked&quot;, &quot;clearing&quot;),
	&quot;361&quot;, (a: &quot;raised&quot;, &quot;platform&quot;),
	&quot;371&quot;, (a: &quot;hedged&quot;, &quot;yard&quot;),
	&quot;381&quot;, (a: &quot;domed, polished stone&quot;, &quot;shrine&quot;),
	&quot;391&quot;, (a: &quot;half submerged&quot;, &quot;vault&quot;),
	&quot;401&quot;, (a: &quot;verdant&quot;, &quot;clearing&quot;),
	&quot;411&quot;, (a: &quot;ragged&quot;, &quot;tent&quot;),
	&quot;421&quot;, (a: &quot;dilapidated&quot;, &quot;reading entrance hall&quot;),
	&quot;431&quot;, (a: &quot;derelict&quot;, &quot;hall&quot;),
	&quot;441&quot;, (a: &quot;dusty&quot;, &quot;entrance hall&quot;),
	&quot;451&quot;, (a: &quot;abandoned&quot;, &quot;magazine&quot;),
	&quot;461&quot;, (a: &quot;ruined&quot;, &quot;cell&quot;),
	&quot;471&quot;, (a: &quot;lush and fecund&quot;, &quot;grove&quot;),
	&quot;481&quot;, (a: &quot;disintegrating&quot;, &quot;ward&quot;),
	&quot;491&quot;, (a: &quot;deep&quot;, &quot;shaft&quot;),
	&quot;501&quot;, (a: &quot;shady&quot;, &quot;clearing&quot;),
	&quot;511&quot;, (a: &quot;&quot;, &quot;knight&#39;s tent&quot;),
	&quot;521&quot;, (a: &quot;odorous&quot;, &quot;cavern&quot;),
	&quot;531&quot;, (a: &quot;misty&quot;, &quot;bank&quot;),
	&quot;541&quot;, (a: &quot;stone&quot;, &quot;hall&quot;),
	&quot;551&quot;, (a: &quot;&quot;, &quot;clearing&quot;),
	&quot;561&quot;, (a: &quot;claustrophobic&quot;, &quot;cavern&quot;),
	&quot;571&quot;, (a: &quot;solemn&quot;, &quot;hall&quot;),
	&quot;581&quot;, (a: &quot;dirty&quot;, &quot;square&quot;),
	&quot;591&quot;, (a: &quot;deathly&quot;, &quot;pit&quot;),
	&quot;601&quot;, (a: &quot;aromatic&quot;, &quot;garden&quot;),
	&quot;611&quot;, (a: &quot;smoky&quot;, &quot;bar&quot;),
	&quot;621&quot;, (a: &quot;hidden&quot;, &quot;meeting entrance hall&quot;),
	&quot;631&quot;, (a: &quot;rowdy&quot;, &quot;salon&quot;),
	&quot;641&quot;, (a: &quot;bounteous&quot;, &quot;market stall&quot;),
	&quot;651&quot;, (a: &quot;limestone&quot;, &quot;entrance hall&quot;),
	&quot;661&quot;, (a: &quot;small&quot;, &quot;shop&quot;),
	&quot;671&quot;, (a: &quot;private&quot;, &quot;musalla&quot;),
	&quot;681&quot;, (a: &quot;silent&quot;, &quot;square&quot;),
	&quot;691&quot;, (a: &quot;crumbling&quot;, &quot;building&quot;),
	&quot;701&quot;, (a: &quot;fearsome&quot;, &quot;display&quot;),
	&quot;711&quot;, (a: &quot;&quot;, &quot;bathing entrance hall&quot;),
	&quot;721&quot;, (a: &quot;&quot;, &quot;hall&quot;),
	&quot;731&quot;, (a: &quot;gardened&quot;, &quot;courtyard&quot;),
	&quot;741&quot;, (a: &quot;high&quot;, &quot;chamber&quot;),
	&quot;751&quot;, (a: &quot;basic&quot;, &quot;dormitorium&quot;),
	&quot;761&quot;, (a: &quot;carpented&quot;, &quot;wharf&quot;),
	&quot;771&quot;, (a: &quot;&quot;, &quot;prayer chamber&quot;),
	&quot;781&quot;, (a: &quot;small&quot;, &quot;ward&quot;),
	&quot;791&quot;, (a: &quot;dim&quot;, &quot;chamber&quot;),
	&quot;801&quot;, (a: &quot;&quot;, &quot;clearing in the reeds&quot;),
	&quot;811&quot;, (a: &quot;&quot;, &quot;pond&quot;),
	&quot;821&quot;, (a: &quot;sodden&quot;, &quot;study&quot;),
	&quot;831&quot;, (a: &quot;mysterious&quot;, &quot;study&quot;),
	&quot;841&quot;, (a: &quot;firelit&quot;, &quot;hall&quot;),
	&quot;851&quot;, (a: &quot;draughty&quot;, &quot;hall&quot;),
	&quot;861&quot;, (a: &quot;wild&quot;, &quot;clearing&quot;),
	&quot;871&quot;, (a: &quot;shivery&quot;, &quot;chapel&quot;),
	&quot;881&quot;, (a: &quot;dry&quot;, &quot;island&quot;),
	&quot;891&quot;, (a: &quot;fetid&quot;, &quot;lagoon&quot;),
	&quot;901&quot;, (a: &quot;jagged&quot;, &quot;clearing&quot;),
	&quot;911&quot;, (a: &quot;oily&quot;, &quot;pit garage&quot;),
	&quot;921&quot;, (a: &quot;snowy&quot;, &quot;mountainside&quot;),
	&quot;931&quot;, (a: &quot;flowery&quot;, &quot;courtyard&quot;),
	&quot;941&quot;, (a: &quot;plush&quot;, &quot;lobby&quot;),
	&quot;951&quot;, (a: &quot;ominous&quot;, &quot;Gerichtssaal&quot;),
	&quot;961&quot;, (a: &quot;spartan&quot;, &quot;Wohnblock&quot;),
	&quot;971&quot;, (a: &quot;tranquil&quot;, &quot;Gebetsraum&quot;),
	&quot;981&quot;, (a: &quot;&quot;, &quot;lab&quot;),
	&quot;991&quot;, (a: &quot;&quot;, &quot;ditch full of bodies&quot;),
	&quot;1001&quot;, (a: &quot;frosty&quot;, &quot;hall&quot;),
	&quot;1011&quot;, (a: &quot;geometrical&quot;, &quot;tower&quot;),
	&quot;1021&quot;, (a: &quot;isolated&quot;, &quot;study&quot;),
	&quot;1031&quot;, (a: &quot;spartan&quot;, &quot;cell&quot;),
	&quot;1041&quot;, (a: &quot;plush&quot;, &quot;prayer entrance hall&quot;),
	&quot;1051&quot;, (a: &quot;kata&quot;, &quot;yard&quot;),
	&quot;1061&quot;, (a: &quot;ascetic&quot;, &quot;cell&quot;),
	&quot;1071&quot;, (a: &quot;grassed and flowered&quot;, &quot;courtyard&quot;),
	&quot;1081&quot;, (a: &quot;ruined&quot;, &quot;chapel&quot;),
	&quot;1091&quot;, (a: &quot;baleful&quot;, &quot;arbor&quot;),
	&quot;1101&quot;, (a: &quot;verdant&quot;, &quot;hollow&quot;),
	&quot;1111&quot;, (a: &quot;grassy&quot;, &quot;opening&quot;),
	&quot;1121&quot;, (a: &quot;musty&quot;, &quot;entrance hall&quot;),
	&quot;1131&quot;, (a: &quot;small&quot;, &quot;entrance hall&quot;),
	&quot;1141&quot;, (a: &quot;makeshift&quot;, &quot;shelter&quot;),
	&quot;1151&quot;, (a: &quot;battered&quot;, &quot;tent&quot;),
	&quot;1161&quot;, (a: &quot;dirty&quot;, &quot;cell&quot;),
	&quot;1171&quot;, (a: &quot;arched&quot;, &quot;entrance&quot;),
	&quot;1181&quot;, (a: &quot;rotting&quot;, &quot;drawbridge&quot;),
	&quot;1191&quot;, (a: &quot;flotsam strewn&quot;, &quot;beach&quot;),
	&quot;1201&quot;, (a: &quot;waterlogged&quot;, &quot;hall&quot;),
	&quot;1211&quot;, (a: &quot;bustling&quot;, &quot;square&quot;),
	&quot;1221&quot;, (a: &quot;dim&quot;, &quot;entrance hall&quot;),
	&quot;1231&quot;, (a: &quot;quiet&quot;, &quot;plaza&quot;),
	&quot;1241&quot;, (a: &quot;&quot;, &quot;wagon&quot;),
	&quot;1251&quot;, (a: &quot;warring&quot;, &quot;square&quot;),
	&quot;1261&quot;, (a: &quot;frost kissed&quot;, &quot;square&quot;),
	&quot;1271&quot;, (a: &quot;blizzardy&quot;, &quot;plateau&quot;),
	&quot;1281&quot;, (a: &quot;sinking&quot;, &quot;ship&quot;),
	&quot;1291&quot;, (a: &quot;blazing&quot;, &quot;building&quot;),
	&quot;1301&quot;, (a: &quot;small market&quot;, &quot;square&quot;),
	&quot;1311&quot;, (a: &quot;fabulous&quot;, &quot;hall&quot;),
	&quot;1321&quot;, (a: &quot;misty&quot;, &quot;hollow&quot;),
	&quot;1331&quot;, (a: &quot;draughty&quot;, &quot;tent&quot;),
	&quot;1341&quot;, (a: &quot;small&quot;, &quot;cottage&quot;),
	&quot;1351&quot;, (a: &quot;Scottish&quot;, &quot;schiltron&quot;),
	&quot;1361&quot;, (a: &quot;modest&quot;, &quot;entrance hall&quot;),
	&quot;1371&quot;, (a: &quot;simple&quot;, &quot;prayer entrance hall&quot;),
	&quot;1381&quot;, (a: &quot;examination&quot;, &quot;entrance hall&quot;),
	&quot;1391&quot;, (a: &quot;rowdy&quot;, &quot;square&quot;),
	&quot;1401&quot;, (a: &quot;densely overgrown&quot;, &quot;pond&quot;),
	&quot;1411&quot;, (a: &quot;betting&quot;, &quot;pit&quot;),
	&quot;1421&quot;, (a: &quot;printing&quot;, &quot;entrance hall&quot;),
	&quot;1431&quot;, (a: &quot;&quot;, &quot;tent&quot;),
	&quot;1441&quot;, (a: &quot;stepped&quot;, &quot;pyramid&quot;),
	&quot;1451&quot;, (a: &quot;battered&quot;, &quot;tower&quot;),
	&quot;1461&quot;, (a: &quot;cramped&quot;, &quot;cell&quot;),
	&quot;1471&quot;, (a: &quot;opulent&quot;, &quot;nave&quot;),
	&quot;1481&quot;, (a: &quot;dank&quot;, &quot;dungeon&quot;),
	&quot;1491&quot;, (a: &quot;grisly&quot;, &quot;copse&quot;),
	&quot;1501&quot;, (a: &quot;country&quot;, &quot;path&quot;),
	&quot;1511&quot;, (a: &quot;country&quot;, &quot;lane&quot;),
	&quot;1521&quot;, (a: &quot;cloistered&quot;, &quot;yard&quot;),
	&quot;1531&quot;, (a: &quot;stinking&quot;, &quot;wharf&quot;),
	&quot;1541&quot;, (a: &quot;&quot;, &quot;gardens&quot;),
	&quot;1551&quot;, (a: &quot;&quot;, &quot;entrance hall&quot;),
	&quot;1561&quot;, (a: &quot;&quot;, &quot;gatehouse&quot;),
	&quot;1571&quot;, (a: &quot;&quot;, &quot;entrance hall&quot;),
	&quot;1581&quot;, (a: &quot;neglected&quot;, &quot;path&quot;),
	&quot;1591&quot;, (a: &quot;smoky&quot;, &quot;lane&quot;),
	&quot;1601&quot;, (a: &quot;stinking&quot;, &quot;path&quot;),
	&quot;1611&quot;, (a: &quot;misty&quot;, &quot;path&quot;),
	&quot;1621&quot;, (a: &quot;wood beam&quot;, &quot;corridor&quot;),
	&quot;1631&quot;, (a: &quot;bleak&quot;, &quot;path&quot;),
	&quot;1641&quot;, (a: &quot;&quot;, &quot;hall&quot;),
	&quot;1651&quot;, (a: &quot;&quot;, &quot;battlefield&quot;),
	&quot;1661&quot;, (a: &quot;&quot;, &quot;corridor&quot;),
	&quot;1671&quot;, (a: &quot;&quot;, &quot;hall&quot;),
	&quot;1681&quot;, (a: &quot;&quot;, &quot;passage&quot;),
	&quot;1691&quot;, (a: &quot;&quot;, &quot;lane&quot;),
	&quot;1701&quot;, (a: &quot;&quot;, &quot;path&quot;),
	&quot;1711&quot;, (a: &quot;&quot;, &quot;corridor&quot;),
	&quot;1721&quot;, (a: &quot;&quot;, &quot;corridor&quot;),
	&quot;1731&quot;, (a: &quot;&quot;, &quot;passage&quot;),
	&quot;1741&quot;, (a: &quot;&quot;, &quot;rue&quot;),
	&quot;1751&quot;, (a: &quot;&quot;, &quot;rue&quot;),
	&quot;1761&quot;, (a: &quot;&quot;, &quot;passage&quot;),
	&quot;1771&quot;, (a: &quot;&quot;, &quot;thoroughfare&quot;),
	&quot;1781&quot;, (a: &quot;&quot;, &quot;passage&quot;),
	&quot;1791&quot;, (a: &quot;&quot;, &quot;rue&quot;),
	&quot;1801&quot;, (a: &quot;&quot;, &quot;corridor&quot;),
	&quot;1811&quot;, (a: &quot;&quot;, &quot;passage&quot;),
	&quot;1821&quot;, (a: &quot;&quot;, &quot;alley&quot;),
	&quot;1831&quot;, (a: &quot;&quot;, &quot;alley&quot;),
	&quot;1841&quot;, (a: &quot;&quot;, &quot;gate&quot;),
	&quot;1851&quot;, (a: &quot;&quot;, &quot;passage&quot;),
	&quot;1861&quot;, (a: &quot;&quot;, &quot;passage&quot;),
	&quot;1871&quot;, (a: &quot;&quot;, &quot;hall&quot;),
	&quot;1881&quot;, (a: &quot;&quot;, &quot;corridor&quot;),
	&quot;1891&quot;, (a: &quot;vaulted&quot;, &quot;passage&quot;),
	&quot;1901&quot;, (a: &quot;pungent&quot;, &quot;country field&quot;),
	&quot;1911&quot;, (a: &quot;excited&quot;, &quot;queue&quot;),
	&quot;1921&quot;, (a: &quot;wooden&quot;, &quot;double door&quot;),
	&quot;1931&quot;, (a: &quot;chilly&quot;, &quot;vestibule&quot;),
	&quot;1941&quot;, (a: &quot;small&quot;, &quot;crowd&quot;),
	&quot;1951&quot;, (a: &quot;&quot;, &quot;ROOM TERMS DATABASE&quot;),
	&quot;1961&quot;, (a: &quot;&quot;, &quot;ROOM TERMS DATABASE&quot;),
	&quot;1971&quot;, (a: &quot;&quot;, &quot;garden&quot;),
	&quot;1981&quot;, (a: &quot;&quot;, &quot;marker&quot;),
	&quot;1991&quot;, (a: &quot;weed-cracked&quot;, &quot;road&quot;),
	&quot;2001&quot;, (a: &quot;&quot;, &quot;ROOM TERMS DATABASE&quot;),
	&quot;2011&quot;, (a: &quot;&quot;, &quot;ROOM TERMS DATABASE&quot;),
	&quot;2021&quot;, (a: &quot;&quot;, &quot;ROOM TERMS DATABASE&quot;),
	&quot;2031&quot;, (a: &quot;&quot;, &quot;ROOM TERMS DATABASE&quot;),
	&quot;2041&quot;, (a: &quot;&quot;, &quot;ROOM TERMS DATABASE&quot;),
	&quot;2051&quot;, (a: &quot;&quot;, &quot;ROOM TERMS DATABASE&quot;),
	&quot;2061&quot;, (a: &quot;&quot;, &quot;ROOM TERMS DATABASE&quot;),
	&quot;2071&quot;, (a: &quot;&quot;, &quot;ROOM TERMS DATABASE&quot;),
	&quot;2081&quot;, (a: &quot;&quot;, &quot;ROOM TERMS DATABASE&quot;),
	&quot;2091&quot;, (a: &quot;&quot;, &quot;ROOM TERMS DATABASE&quot;)
	)
	)
}</tw-passagedata><tw-passagedata pid="115" name="to-the phrase" tags="startup" position="61,3446" size="100,100">{
&lt;!-- tells the player during game time what a direction link leads to. E.g. instead of just &quot;east&quot;, the game prints out &quot;east to an armory&quot;. Works by temporarily changing the roomNumber to the roomNumber of the distal location, then evaluatinig for vocab. &quot;prep&quot; will normally be blank text, but may be &quot;where &quot; in particular cases. 
Presupposes: receives distal room number as argument
Called By: Either called directly in passages or by setToTheWords. 
--&gt;
(set: $toThePhrase to 
(macro: num-type _roomNumber, [	
	(set: _originalNumber to $roomNumber)
	(set: $roomNumber to _roomNumber)
	($setRoomPhrase:)
	(set: _phrase to &quot; to &quot; +
		$prep +
		$roomAdjective +
		$roomNoun)
	(set: $roomNumber to _originalNumber)
	(output-data: _phrase)
		]
		))
}

[[ -&gt;set room phrase]]</tw-passagedata><tw-passagedata pid="116" name="nexus word database" tags="startup" position="38,1547" size="100,100">{
(set: $setNexusWord to
(macro:[ 
	(set: $nexusWord to (cond: 
		$floorInt is 0, &quot;the catacombs&quot;,
		$floorInt is 1, &quot;the forum&quot;,
		$floorInt is 2, &quot;the forbidden city&quot;,
		$floorInt is 3, &quot;the Byzantine palace&quot;,
		$floorInt is 4, &quot;the ruins of the Caput Mundi&quot;,
		$floorInt is 5, &quot;the olde pyke&quot;,
		$floorInt is 6, &quot;the rooftops of Aleppo&quot;,
		$floorInt is 7, &quot;the palace complex at Charlemagne&#39;s court&quot;,
		$floorInt is 8, &quot;the sulphurous waters of the Somerset levels&quot;,
		$floorInt is 9, &quot;die zentrale Stadt &quot;,
		$floorInt is 10, &quot;the pilgrim&#39;s path&quot;,
		$floorInt is 11, &quot;Sherwood Forest&quot;,
		$floorInt is 11 and $homeCity is &quot;La Rochelle&quot;, &quot;the exit to the tower&quot;,
		$floorInt is 12, &quot;the Asian steppes&quot;,
		$floorInt is 13, &quot;the slutchy wynds&quot;,
		$floorInt is 14, &quot;the sea&quot;,
		$floorInt is 15, &quot;the main highway&quot;,
		$floorInt is 16, &quot;the tranquil waterways of Amsterdam&quot;,
		$floorInt is 17, &quot;the central avenues of revolutionary Paris&quot;,
		$floorInt is 18, &quot;the foggy streets of London&quot;,
		$floorInt is 19, &quot;the nearest rail station&quot;,
		$floorInt is 20, &quot;NEXUS WORD DATABASE&quot;))
	(output-data:&quot;&quot;)
	]))
}</tw-passagedata><tw-passagedata pid="117" name="set default start room" tags="startup" position="197,1327" size="100,100">{
(set: $setDefaultStartRoom to
(macro: [
	(set: $startRoom to 
		(cond: 
			$directionIn is &quot;south&quot;, &quot;top entrance&quot;,
			$directionIn is &quot;west&quot;, &quot;right entrance&quot;,
			$directionIn is &quot;north&quot;, &quot;bottom entrance&quot;,
			$directionIn is &quot;east&quot;, &quot;left entrance&quot;,
			&quot;Error: directionIn not properly set for setDefaultStartRoom&quot;
		))
	(output-data:&quot;&quot;)
	]
	))
}</tw-passagedata><tw-passagedata pid="118" name="room 1 content" tags="startup" position="3393.6666666666665,55.999999999999964" size="100,100">{
(set: $room1content to
(macro: [
	(set: $content to &quot;&quot;)
	(output-data: $content)
	]
	))
	
}</tw-passagedata><tw-passagedata pid="119" name="room 2 content" tags="startup" position="3567.6666666666665,56.999999999999964" size="100,100">{
(set: $room2content to
(macro: [
	(set: $content to &quot;&quot;)
	(output-data: $content)
	]
	))
	
}</tw-passagedata><tw-passagedata pid="120" name="room 6 content" tags="startup" position="4834.333333333334,64.99999999999997" size="100,100">{
(set: $room6content to
(macro: [
	(set: $content to &quot;&quot;)
	(output-data: $content)
	]
	))
	
}</tw-passagedata><tw-passagedata pid="121" name="room 7 content" tags="startup" position="5053,64.99999999999997" size="100,100">{
(set: $room7content to
(macro: [
	(set: $content to &quot;&quot;)
	(output-data: $content)
	]
	))
	
}</tw-passagedata><tw-passagedata pid="122" name="room 8 content" tags="startup" position="5263,64.99999999999997" size="100,100">{
(set: $room8content to
(macro: [
	(set: $content to &quot;&quot;)
	(output-data: $content)
	]
	))
	
}</tw-passagedata><tw-passagedata pid="123" name="room 9 content" tags="startup" position="5474.666666666667,65.3333333333333" size="100,100">{
(set: $room9content to
(macro: [
	(set: $content to &quot;&quot;)
	(output-data: $content)
	]
	))
	
}</tw-passagedata><tw-passagedata pid="124" name="choose hilliness" tags="startup" position="388,646" size="100,100">{
(set: $chooseHilliness to
(macro: [
	(set: $hilliness to $referenceString of $hillinessDataBase)
	(output-data:&quot;&quot;)
	]
	))
	
[[ -&gt;hilliness Database]]
}</tw-passagedata><tw-passagedata pid="125" name="hilliness Database" tags="startup" position="540,646" size="100,100">{
(set: $hillinessDataBase to (dm: 
	&quot;1&quot;,&quot;mushroom&quot;,
	&quot;11&quot;,&quot;hypogeum&quot;,
	&quot;21&quot;,&quot;frument&quot;,
	&quot;31&quot;,&quot;brewery&quot;,
	&quot;41&quot;,&quot;apartment&quot;,
	&quot;51&quot;,&quot;armory&quot;,
	&quot;61&quot;,&quot;steppy&quot;,
	&quot;71&quot;,&quot;church&quot;,
	&quot;81&quot;,&quot;apartment&quot;,
	&quot;91&quot;,&quot;crypt&quot;,
	&quot;101&quot;,&quot;steppy&quot;,
	&quot;111&quot;,&quot;arena&quot;,
	&quot;121&quot;,&quot;courtyard house&quot;,
	&quot;131&quot;,&quot;brothel&quot;,
	&quot;141&quot;,&quot;house&quot;,
	&quot;151&quot;,&quot;barrack&quot;,
	&quot;161&quot;,&quot;steppy&quot;,
	&quot;171&quot;,&quot;temple&quot;,
	&quot;181&quot;,&quot;surgery&quot;,
	&quot;191&quot;,&quot;hilly&quot;,
	&quot;201&quot;,&quot;steppy&quot;,
	&quot;211&quot;,&quot;camp&quot;,
	&quot;221&quot;,&quot;academy&quot;,
	&quot;231&quot;,&quot;brothel&quot;,
	&quot;241&quot;,&quot;courtyard house&quot;,
	&quot;251&quot;,&quot;barrack&quot;,
	&quot;261&quot;,&quot;steppy&quot;,
	&quot;271&quot;,&quot;temple&quot;,
	&quot;281&quot;,&quot;surgery&quot;,
	&quot;291&quot;,&quot;hilly&quot;,
	&quot;301&quot;,&quot;farm&quot;,
	&quot;311&quot;,&quot;arena&quot;,
	&quot;321&quot;,&quot;academy&quot;,
	&quot;331&quot;,&quot;camp&quot;,
	&quot;341&quot;,&quot;mansion&quot;,
	&quot;351&quot;,&quot;hilly&quot;,
	&quot;361&quot;,&quot;mine&quot;,
	&quot;371&quot;,&quot;steppy&quot;,
	&quot;381&quot;,&quot;cathedral&quot;,
	&quot;391&quot;,&quot;crypt&quot;,
	&quot;401&quot;,&quot;hilly&quot;,
	&quot;411&quot;,&quot;camp&quot;,
	&quot;421&quot;,&quot;library&quot;,
	&quot;431&quot;,&quot;temple&quot;,
	&quot;441&quot;,&quot;apartment&quot;,
	&quot;451&quot;,&quot;armory&quot;,
	&quot;461&quot;,&quot;steppy&quot;,
	&quot;471&quot;,&quot;steppy&quot;,
	&quot;481&quot;,&quot;surgery&quot;,
	&quot;491&quot;,&quot;crypt&quot;,
	&quot;501&quot;,&quot;hilly&quot;,
	&quot;511&quot;,&quot;camp&quot;,
	&quot;521&quot;,&quot;cave&quot;,
	&quot;531&quot;,&quot;lakeside&quot;,
	&quot;541&quot;,&quot;castle&quot;,
	&quot;551&quot;,&quot;hilly&quot;,
	&quot;561&quot;,&quot;cave&quot;,
	&quot;571&quot;,&quot;castle&quot;,
	&quot;581&quot;,&quot;steppy&quot;,
	&quot;591&quot;,&quot;crypt&quot;,
	&quot;601&quot;,&quot;farm&quot;,
	&quot;611&quot;,&quot;steppy&quot;,
	&quot;621&quot;,&quot;library&quot;,
	&quot;631&quot;,&quot;palace&quot;,
	&quot;641&quot;,&quot;arcade&quot;,
	&quot;651&quot;,&quot;castle&quot;,
	&quot;661&quot;,&quot;steppy&quot;,
	&quot;671&quot;,&quot;mosque&quot;,
	&quot;681&quot;,&quot;steppy&quot;,
	&quot;691&quot;,&quot;steppy&quot;,
	&quot;701&quot;,&quot;steppy&quot;,
	&quot;711&quot;,&quot;lagoon&quot;,
	&quot;721&quot;,&quot;library&quot;,
	&quot;731&quot;,&quot;steppy&quot;,
	&quot;741&quot;,&quot;palace&quot;,
	&quot;751&quot;,&quot;barrack&quot;,
	&quot;761&quot;,&quot;docks&quot;,
	&quot;771&quot;,&quot;church&quot;,
	&quot;781&quot;,&quot;hospice&quot;,
	&quot;791&quot;,&quot;crypt&quot;,
	&quot;801&quot;,&quot;swamp&quot;,
	&quot;811&quot;,&quot;lagoon&quot;,
	&quot;821&quot;,&quot;library&quot;,
	&quot;831&quot;,&quot;house&quot;,
	&quot;841&quot;,&quot;castle&quot;,
	&quot;851&quot;,&quot;tower&quot;,
	&quot;861&quot;,&quot;hilly&quot;,
	&quot;871&quot;,&quot;cathedral&quot;,
	&quot;881&quot;,&quot;camp&quot;,
	&quot;891&quot;,&quot;swamp&quot;,
	&quot;901&quot;,&quot;hilly&quot;,
	&quot;911&quot;,&quot;arena&quot;,
	&quot;921&quot;,&quot;mountainside&quot;,
	&quot;931&quot;,&quot;monastery&quot;,
	&quot;941&quot;,&quot;tower&quot;,
	&quot;951&quot;,&quot;courtyard house&quot;,
	&quot;961&quot;,&quot;camp&quot;,
	&quot;971&quot;,&quot;cathedral&quot;,
	&quot;981&quot;,&quot;laboratory&quot;,
	&quot;991&quot;,&quot;crypt&quot;,
	&quot;1001&quot;,&quot;cathedral&quot;,
	&quot;1011&quot;,&quot;cathedral&quot;,
	&quot;1021&quot;,&quot;tower&quot;,
	&quot;1031&quot;,&quot;monastery&quot;,
	&quot;1041&quot;,&quot;tower&quot;,
	&quot;1051&quot;,&quot;courtyard house&quot;,
	&quot;1061&quot;,&quot;church&quot;,
	&quot;1071&quot;,&quot;cathedral&quot;,
	&quot;1081&quot;,&quot;cathedral&quot;,
	&quot;1091&quot;,&quot;steppy&quot;,
	&quot;1101&quot;,&quot;hilly&quot;,
	&quot;1111&quot;,&quot;camp&quot;,
	&quot;1121&quot;,&quot;temple&quot;,
	&quot;1131&quot;,&quot;tower&quot;,
	&quot;1141&quot;,&quot;camp&quot;,
	&quot;1151&quot;,&quot;camp&quot;,
	&quot;1161&quot;,&quot;steppy&quot;,
	&quot;1171&quot;,&quot;cathedral&quot;,
	&quot;1181&quot;,&quot;castle&quot;,
	&quot;1191&quot;,&quot;ship&quot;,
	&quot;1201&quot;,&quot;castle&quot;,
	&quot;1211&quot;,&quot;steppy&quot;,
	&quot;1221&quot;,&quot;house&quot;,
	&quot;1231&quot;,&quot;steppy&quot;,
	&quot;1241&quot;,&quot;camp&quot;,
	&quot;1251&quot;,&quot;steppy&quot;,
	&quot;1261&quot;,&quot;steppy&quot;,
	&quot;1271&quot;,&quot;mountainside&quot;,
	&quot;1281&quot;,&quot;ship&quot;,
	&quot;1291&quot;,&quot;steppy&quot;,
	&quot;1301&quot;,&quot;farm&quot;,
	&quot;1311&quot;,&quot;elaborate palace&quot;,
	&quot;1321&quot;,&quot;hilly&quot;,
	&quot;1331&quot;,&quot;camp&quot;,
	&quot;1341&quot;,&quot;steppy&quot;,
	&quot;1351&quot;,&quot;hilly&quot;,
	&quot;1361&quot;,&quot;mansion&quot;,
	&quot;1371&quot;,&quot;church&quot;,
	&quot;1381&quot;,&quot;surgery&quot;,
	&quot;1391&quot;,&quot;steppy&quot;,
	&quot;1401&quot;,&quot;hilly&quot;,
	&quot;1411&quot;,&quot;bear pits&quot;,
	&quot;1421&quot;,&quot;steppy&quot;,
	&quot;1431&quot;,&quot;camp&quot;,
	&quot;1441&quot;,&quot;steppy&quot;,
	&quot;1451&quot;,&quot;steppy&quot;,
	&quot;1461&quot;,&quot;steppy&quot;,
	&quot;1471&quot;,&quot;cathedral&quot;,
	&quot;1481&quot;,&quot;steppy&quot;,
	&quot;1491&quot;,&quot;hilly&quot;,
	&quot;1501&quot;,&quot;camp&quot;,
	&quot;1511&quot;,&quot;camp&quot;,
	&quot;1521&quot;,&quot;steppy&quot;,
	&quot;1531&quot;,&quot;steppy&quot;,
	&quot;1541&quot;,&quot;house&quot;,
	&quot;1551&quot;,&quot;ship&quot;,
	&quot;1561&quot;,&quot;steppy&quot;,
	&quot;1571&quot;,&quot;house&quot;,
	&quot;1581&quot;,&quot;block&quot;,
	&quot;1591&quot;,&quot;steppy&quot;,
	&quot;1601&quot;,&quot;camp&quot;,
	&quot;1611&quot;,&quot;camp&quot;,
	&quot;1621&quot;,&quot;hilly&quot;,
	&quot;1631&quot;,&quot;hilly&quot;,
	&quot;1641&quot;,&quot;house&quot;,
	&quot;1651&quot;,&quot;camp&quot;,
	&quot;1661&quot;,&quot;block&quot;,
	&quot;1671&quot;,&quot;house&quot;,
	&quot;1681&quot;,&quot;house&quot;,
	&quot;1691&quot;,&quot;camp&quot;,
	&quot;1701&quot;,&quot;camp&quot;,
	&quot;1711&quot;,&quot;block&quot;,
	&quot;1721&quot;,&quot;house&quot;,
	&quot;1731&quot;,&quot;na&quot;,
	&quot;1741&quot;,&quot;na&quot;,
	&quot;1751&quot;,&quot;steppy&quot;,
	&quot;1761&quot;,&quot;na&quot;,
	&quot;1771&quot;,&quot;camp&quot;,
	&quot;1781&quot;,&quot;na&quot;,
	&quot;1791&quot;,&quot;camp&quot;,
	&quot;1801&quot;,&quot;na&quot;,
	&quot;1811&quot;,&quot;na&quot;,
	&quot;1821&quot;,&quot;na&quot;,
	&quot;1831&quot;,&quot;steppy&quot;,
	&quot;1841&quot;,&quot;na&quot;,
	&quot;1851&quot;,&quot;na&quot;,
	&quot;1861&quot;,&quot;na&quot;,
	&quot;1871&quot;,&quot;na&quot;,
	&quot;1881&quot;,&quot;na&quot;,
	&quot;1891&quot;,&quot;na&quot;,
	&quot;1901&quot;,&quot;hilly&quot;,
	&quot;1911&quot;,&quot;hilly&quot;,
	&quot;1921&quot;,&quot;steppy&quot;,
	&quot;1931&quot;,&quot;hilly&quot;,
	&quot;1941&quot;,&quot;hilly&quot;,
	&quot;1951&quot;,&quot;hilly&quot;,
	&quot;1961&quot;,&quot;hilly&quot;,
	&quot;1971&quot;,&quot;hilly&quot;,
	&quot;1981&quot;,&quot;hilly&quot;,
	&quot;1991&quot;,&quot;steppy&quot;,
	&quot;2001&quot;,&quot;hilly&quot;,
	&quot;2011&quot;,&quot;hilly&quot;,
	&quot;2021&quot;,&quot;hilly&quot;,
	&quot;2031&quot;,&quot;hilly&quot;,
	&quot;2041&quot;,&quot;hilly&quot;,
	))
}</tw-passagedata><tw-passagedata pid="126" name="set hilliness" tags="startup" position="152,741" size="100,100">{
(set: $setHilliness to 
(macro: [
	($chooseHilliness:) 
	(set: $upHill_1 to &quot;&quot;) 
	(set: $downHill_1 to &quot;&quot;)
	(set: $upHill_2 to &quot;&quot;) 
	(set: $downHill_2 to &quot;&quot;)
	(set: $rightHill_1 to &quot;&quot;) 
	(set: $leftHill_1 to &quot;&quot;)
	(set: $rightHill_2 to &quot;&quot;) 
	(set: $leftHill_2 to &quot;&quot;)
	(set: $rightHill_3 to &quot;&quot;) 
	(set: $leftHill_3 to &quot;&quot;)
	(set: $rightHill_4 to &quot;&quot;) 
	(set: $leftHill_4 to &quot;&quot;)
	(set: $rightHill_5 to &quot;&quot;) 
	(set: $leftHill_5 to &quot;&quot;)
	(if: $hilliness is in (a: &quot;hilly&quot;, &quot;steppy&quot;))[
		($randomSlope:)
		(set: $upHill_1 to $slope) 
		(set: $downHill_1 to ($oppositeSlope: $upHill_1))
		($randomSlope:)
		(set: $upHill_2 to $slope) 
		(set: $downHill_2 to ($oppositeSlope: $upHill_2))
		($randomSlope:)
		(set: $rightHill_1 to $slope) 
		(set: $leftHill_1 to ($oppositeSlope: $rightHill_1))
		($randomSlope:)
		(set: $rightHill_2 to $slope) 
		(set: $leftHill_2 to ($oppositeSlope: $rightHill_2))
		($randomSlope:)
		(set: $rightHill_3 to $slope) 
		(set: $leftHill_3 to ($oppositeSlope: $rightHill_3))
		($randomSlope:)
		(set: $rightHill_4 to $slope) 
		(set: $leftHill_4 to ($oppositeSlope: $rightHill_4))
		($randomSlope:)
		(set: $rightHill_5 to $slope) 
		(set: $leftHill_5 to ($oppositeSlope: $rightHill_5))
		]
	(if: $hilliness is in (a: &quot;mountainside&quot;))[
		(set: $upHill_1 to &quot;down and to the &quot;) 
		(set: $downHill_1 to &quot;up and to the &quot;)
		(set: $upHill_2 to &quot;up and to the &quot;) 
		(set: $downHill_2 to &quot;down and to the &quot;)
		(set: $rightHill_1 to &quot;up and to the &quot;) 
		(set: $leftHill_1 to &quot;down and to the &quot;)
		(set: $rightHill_2 to &quot;up and to the &quot;) 
		(set: $leftHill_2 to &quot;down and to the &quot;)
		(set: $rightHill_3 to &quot;up and to the &quot;) 
		(set: $leftHill_3 to &quot;down and to the &quot;)
		(set: $rightHill_4 to &quot;up and to the &quot;) 
		(set: $leftHill_4 to &quot;down and to the &quot;)
		(set: $rightHill_5 to &quot;up and to the &quot;) 
		(set: $leftHill_5 to &quot;down and to the &quot;)
		]
	(output-data:&quot;&quot;)
	]
	))
	

&lt;!--Dummy code to create arrows, in interface, to called functions --&gt;
[[ -&gt;random slope]]
[[ -&gt;opposite slope]]
[[ -&gt;choose hilliness]]
}</tw-passagedata><tw-passagedata pid="127" name="opposite slope" tags="startup" position="389,880" size="100,100">{
(set: $oppositeSlope to 
(macro: string-type _slopePhrase , [
	(if: _slopePhrase is &quot;&quot;)[(set: $slope to &quot;&quot;)]
	(else:)[
		(if: _slopePhrase&#39;s 1st is &quot;u&quot;)
			[(set: $slope to &quot;down &quot; + $slopeTerm + &quot; to the &quot;)]
		(if: _slopePhrase&#39;s 1st is &quot;d&quot;)
			[(set: $slope to &quot;up &quot; + $slopeTerm + &quot; to the &quot;)]
		]
	(output-data:$slope)
	]
	))
	
[[ -&gt;slope language]]

}</tw-passagedata><tw-passagedata pid="128" name="slope language" tags="startup" position="541,761" size="100,100">{
(set: $slopeLanguage to 
(macro: [
	(set: $slopeTerm to &quot;&quot;)
	(if: $hilliness is &quot;hilly&quot;)[(set: $slopeTerm to &quot;a slope&quot;)]
	(if: $hilliness is &quot;steppy&quot;)[(set: $slopeTerm to &quot;some steps&quot;)]
	(output-data:&quot;&quot;)
	]
	))

}</tw-passagedata><tw-passagedata pid="129" name="random slope" tags="startup" position="388,761" size="100,100">{

(set: $randomSlope to 
(macro: [
	($slopeLanguage:)
	(set: _x to ($srandom: 3))
	(set: $slope to (cond: 
		_x is 1, &quot;up &quot; + $slopeTerm + &quot; to the &quot;,
		_x is 2, &quot;down &quot; + $slopeTerm + &quot; to the &quot;,
		&quot;&quot;))
	(output-data:&quot;&quot;)
	]))


[[ -&gt;slope language]]
[[ -&gt;srandom]] 
}</tw-passagedata><tw-passagedata pid="130" name="set room phrase 2" tags="startup" position="361,1885" size="100,100">{
(set: $setRoomPhrase2 to 
(macro: [
	(set: $roomNoun to 2nd of (str: $decadeReference) of $roomTerms)
	(set: $roomAdj to 1st of (str: $decadeReference) of $roomTerms)
	(if: $roomAdj is &quot;&quot;) [(set: $roomArticle to 
		(cond: 
			($firstLetterIsVowel:$roomNoun), &quot;an&quot;,
			&quot;a&quot;))]
	(else:)[(set: $roomArticle to 
		(cond: 
			($firstLetterIsVowel:$roomAdj),&quot;an&quot;,
			&quot;a&quot;))]
	($setRoomPrep:)
	(output-data: $roomPrep + &quot; &quot; + $roomArticle + &quot; &quot; + $roomAdj + &quot; &quot; + $roomNoun)
	]))
	
&lt;!--Dummy code to create arrows, in interface, to called functions --&gt;
[[ -&gt;room terms database]]
[[ -&gt;first letter is vowel]]
[[ -&gt;set room prep]]

}</tw-passagedata><tw-passagedata pid="131" name="add s" tags="startup" position="21,6" size="100,100">{
(set: $add_s to (macro: str-type _singular, [
	(set: _output to (cond:
		_singular&#39;s last is &#39;s&#39;, _singular,
		_singular + &#39;s&#39;))
	(output-data: _output)
	]
	)
	)
}</tw-passagedata><tw-passagedata pid="132" name="opposite compass" tags="startup" position="41,1690" size="100,100">{
(set: $oppositeCompass to 
(macro: string-type _direction, [
	(set: _oppositeCompass to (cond: 
		_direction is &quot;north&quot;, &quot;south&quot;,
		_direction is &quot;south&quot;, &quot;north&quot;,
		_direction is &quot;east&quot;, &quot;west&quot;,
		_direction is &quot;west&quot;, &quot;east&quot;,
		&quot;Error: oppositeCompass needs compass direction as input&quot;))
	(output-data:_oppositeCompass)
	]
	))
}</tw-passagedata><tw-passagedata pid="133" name="set room prep" tags="startup" position="502,1860" size="100,100">{
&lt;!--encases the locipreps dm to give it a default value of &quot;in&quot; if nothing is specified --&gt; 

(set: $setRoomPrep to
(macro: [
	(if: $lociPreps contains $roomNoun)
		[(set: $roomPrep to $roomNoun of $lociPreps)]
	(else:)[(set: $roomPrep to &quot;in&quot;)]
	(output-data: &quot;&quot;)
	]))

&lt;!--Dummy code to create arrows, in interface, to called functions --&gt;
[[ -&gt;preps database]]
}</tw-passagedata><tw-passagedata pid="134" name="port1" tags="" position="1526,1326" size="100,100">{(set: $elizabethanDock to &quot;outbound&quot;)
(if: $floorInt is 11)[($overrideImage:&quot;1132&quot;)]
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[(if: $floorInt is 11) [You are at the dockside at the murky port of Bishop&#39;s Lynn. It is late. The fishermen and merchants have long since unloaded their boats and only thieves prowl the streets beside the wharf. You may climb aboard [[a lonely ship-&gt;atSea]] that has been unexpectedly delayed and which soon sets sail for La Rochelle. Alternatively, you may head inland towards [[Sherwood Forest-&gt;complex three]].]
(if: $floorInt is 15) [($overrideImage: &quot;1507&quot;)You are at the docks on the River Thames in Elizabethan London (if: $homeCity is &quot;London&quot;)[where a group of catholic nuns are attempting to flee to the continent. If you wish, you can [[sneak aboard the ship-&gt;atSea]]](else:)[(set: $homeCity to &quot;London&quot;)(set: $foreignCity to &quot;Antwerp&quot;)]. From here you can head [[$leftOnNexusMap-&gt;complex three]] into the city or [[$downOnNexusMap-&gt;middle right]] to a different part of the dockside.]
]}</tw-passagedata><tw-passagedata pid="135" name="wreckStory" tags="" position="1201,2320" size="100,100">{(set: $japanBattle to &quot;inbound&quot;)
(if: $floorInt is 12)[&lt;script&gt;CustomScripts.updateBackground(1281);&lt;/script&gt;]}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[The battle off the coast of Japan is going well for the Mongols when, unexpectedly, a typhoon sweeps in. Tempest tossed, your ship is breaking into pieces! You can [[swim for another boat-&gt;$startRoom]] or [[swim back to the coast-&gt;complex eight]]. []
]</tw-passagedata><tw-passagedata pid="136" name="burning merv" tags="" position="958,1998" size="100,100">{(set: $mervDirection to &quot;outbound&quot;)
(if: $floorInt is 12)[&lt;script&gt;CustomScripts.updateBackground(1293);&lt;/script&gt;]
}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[You enter the city. At first it seems deserted, but then you see a dead body, and another, and another. A moment later you smell burning. Turning, you see several buildings on fire, and more fiery arrows tracing arcs through the sky. You may turn to [[hurry back-&gt;complex nine]] the way you came, or you can [[continue to explore-&gt;$startRoom]] despite the fires.  []
]</tw-passagedata><tw-passagedata pid="137" name="Berold of Rouen" tags="" position="1077,1997" size="100,100">[&lt;script&gt;CustomScripts.updateBackground(-2);&lt;/script&gt;]
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[&quot;Bonjour,&quot; says the butcher, &quot;I am Berold of Rouen, the only survivor of the wreck of the white ship. But that was a long time ago, when I was much younger. (link: &#39;Shall we cast our minds back to when it happened?&quot;&#39;)[==&quot;The year was 1120. The passengers included King Henry I&#39;s son and heir, William Adelin, Duke of Normandy, as well as the King&#39;s bastard son Richard of Lincoln and his bastard daughter Matilda FitzRoy, Countess of Perche. I was only there to collect debts owed to me by the passengers.&quot;] 

When you are done speaking with the butcher, you may [[go back to exploring the ship-&gt;complex nine]]. 
]</tw-passagedata><tw-passagedata pid="138" name="port2" tags="" position="1841,1321" size="100,100">{
(if: $floorInt is 11)[($overrideImage:&quot;1133&quot;)]
(if: $floorInt is 15)[($overrideImage: &quot;1533&quot;)]
}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[
(if: $floorInt is 11)[You arrive at the buzzing port of La Rochelle, where merchants sail to England and points south. Fishermen carry teeming baskets of fish from the ocean and the sea air is skewered by the shrieks of hungry gulls. (if: $homeCity is &quot;Bishop&#39;s Lynn&quot;)[Before you can even find your bearings, rough men bundle you into a prison carriage. You learn you have been summoned to the court of Eleanor of Aquitaine at [[Poitiers-&gt;Poitiers]].(set: $homeCity to &quot;La Rochelle&quot;)(set: $foreignCity to &quot;Bishop&#39;s Lynn&quot;)] (else:) [A ship is sailing for Bishop&#39;s Lynn in The Wash. You may [[take it-&gt;atSea]] if you wish, or head back to [[Poitiers-&gt;Poitiers]].]]
(if: $floorInt is 15)[You arrive at the freezing cold port of Antwerp, where anchored ships rock and creak in the north sea breeze. (if: $homeCity is &quot;London&quot;)[You and the rest of the nuns are met at the port by a Monsignor, who introduces you to a cart driver. You are transported by cart to the [[nunnery-&gt;Poitiers]].(set: $homeCity to &quot;Antwerp&quot;)(set:$foreignCity to &quot;London&quot;)](else:)[You pay for passage on a ship to [[London-&gt;atSea]].]
]
]</tw-passagedata><tw-passagedata pid="139" name="atSea" tags="" position="1683,1326" size="100,100">(if: $floorInt is 11)[($overrideImage:&quot;1134&quot;)]
(if: $floorInt is 15)[($overrideImage: &quot;1532&quot;)]
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[(if: $floorInt is 11) [You are sailing the rough seas from $homeCity to $foreignCity. At last, after three days of travel, you weigh anchor at (if: $foreignCity is &quot;La Rochelle&quot;)[[[La Rochelle-&gt;port2]].](else:)[[[Bishop&#39;s Lynn-&gt;port1]](set: $homeCity to &quot;Bishop&#39;s Lynn&quot;)(set: $foreignCity to &quot;La Rochelle&quot;).]]
(if: $floorInt is 15) [You are sailing the wintry seas from $homeCity to $foreignCity(if:$homeCity is &quot;London&quot;)[ disguised as a nun and secreted among the nuns of the Dartford and Syon Abbeys]. At last, after three days of travel, you weigh anchor at (if: $foreignCity is &quot;Antwerp&quot;)[[[Antwerp-&gt;port2]].](else:)[[[London-&gt;port1]].]]
]</tw-passagedata><tw-passagedata pid="140" name="Poitiers" tags="" position="1993,1322" size="100,100">{(if: $floorInt is 11)[($overrideImage:&quot;1131&quot;)]
(if: $floorInt is 15)[($overrideImage: &quot;1534&quot;)]
(if: $downOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 3&quot;)]
(if: $upOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 0&quot;)]
(if: $rightOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 8&quot;)]
(if: $leftOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 5&quot;)]
}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[(if: $floorInt is 11)[You are somewhere in the Maubergeonne Tower in Poitiers, where Eleanor of Aquitaine presides over matters of fidelity and marriage. To [[explore the tower-&gt;$startRoom]] you must go $rightOnNexusMap. Or you may head [[back to La Rochelle-&gt;port2]] to seek a ship back to England.]
(if: $floorInt is 15)[You are at the poor Dutch Dominican nunnery at wintry Leliendal on the western shore of the bleak island of Schouwen. To [[explore the nunnery-&gt;$startRoom]] you must go $rightOnNexusMap. Or you may head [[back to Antwerp-&gt;port2]] to seek a ship back to England.]
]
</tw-passagedata><tw-passagedata pid="141" name="cabin of the captain&#39;s maid" tags="" position="2081,1745" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 3)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
($refreshSentences:)
(border-color: red) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You are in the cramped cabin of the captain&#39;s maid. ($room3content:) From here you may head $downOnScreen to the [[captain&#39;s cabin]], or $rightOnScreen to the [[the navigation room]]. }[]]}</tw-passagedata><tw-passagedata pid="142" name="captain&#39;s cabin" tags="" position="2220,1749" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 4)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
($refreshSentences:)
(border-color: purple) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You are in the captain&#39;s cabin of a ship. ($room4content:) From here you may head $upOnScreen to the [[cabin of the captain&#39;s maid]] or $rightOnScreen to the [[the bridge]]. }[]]}</tw-passagedata><tw-passagedata pid="143" name="the navigation room" tags="" position="2073,1894" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 2)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
($refreshSentences:)
(border-color: (rgb: 255, 100, 100)) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You are in the navigation room, surrounded by maps and compasses, sextants and other tools of the ship&#39;s navigator. $room2content From here you may go $leftOnScreen to the [[cabin of the captain&#39;s maid]] or $downOnScreen to [[the bridge]]. }[]]}</tw-passagedata><tw-passagedata pid="144" name="the bridge" tags="" position="2223,1890" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 12)
($refreshSentences:)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You are on the bridge of a ship. From here there are three doors. One goes $rightOnScreen onto the [[deck]]. Another goes $upOnScreen into [[the navigation room]]. And a third goes $leftOnScreen into the [[captain&#39;s cabin]]. You may also descend a ladder to [[below deck]].  }[]]}</tw-passagedata><tw-passagedata pid="145" name="deck" tags="" position="2375,1892" size="100,100">{($setImage:)
($refreshSentences:)
(set: $thisRoomsNumber to 13)}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You are on the deck of a ship(if: $floorInt is 15)[, way out at sea, having been pressed into defending England from the Spanish Armada. Ahead of you, looming dangerously, are the thousand ships of the Spanish fleet]. From here you can go to [[the bow]], to [[the stern]], step through a door into [[the bridge]] or [[climb a ladder up into the crow&#39;s nest-&gt;crow&#39;s nest]]. 
(if: $floorInt is 11)[If you do not wish to spend any more time on this broken hulk, you may (link: &quot;climb down to the beach&quot;)[(goto: $thisRoom)].]
(if: $floorInt is 12)[If you do not wish to remain for the rest of this fight, you may (link: &quot;jump ship and swim back to shore&quot;)[(goto: $thisRoom)].]
(if: $floorInt is 15)[If you do not wish to take part in this battle, you may (link: &quot;steal a raft and sail back to shore&quot;)[(goto: &quot;middle right&quot;)].]
}] 


(if: $floorInt is 15)[($overrideImage: &quot;1551&quot;)]
</tw-passagedata><tw-passagedata pid="146" name="below deck" tags="" position="2216,2040" size="100,100">{($setImage:)
($refreshSentences:)
(set: $thisRoomsNumber to 16)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You are below deck. A ladder ascends from here to [[the bridge]]. You may also go $rightOnScreen [[towards the ship&#39;s bow-&gt;below deck bow]], $downOnScreen to a [[magazine]], or $leftOnScreen [[towards the ship&#39;s stern-&gt;below deck stern]]. }[]]}</tw-passagedata><tw-passagedata pid="147" name="below deck bow" tags="" position="2510,2027" size="100,100">{($setImage:)
($refreshSentences:)
(set: $thisRoomsNumber to 17)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You are below deck, towards the bow. From here you may go $downOnScreen to [[a store room]] for salted goods, $leftOnScreen towards the [[ladder up to the deck-&gt;below deck]], or $rightOnScreen to [[the brig]]. You may also ascend a ladder to [[the ship&#39;s forecastle-&gt;the bow]]. }[]]}</tw-passagedata><tw-passagedata pid="148" name="the stern" tags="" position="1928,1892" size="100,100">{($setImage:)
($refreshSentences:)
(set: $thisRoomsNumber to 11)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You are at the aft of the ship. From here a ladder descends [[below deck-&gt;below deck stern]]. You may also head [[back towards the bow-&gt;deck]]. }[]]}</tw-passagedata><tw-passagedata pid="149" name="crow&#39;s nest" tags="" position="2363,1609" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 1)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
($refreshSentences:)
(border-color: white) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You are up in the crow&#39;s nest. ($room1content:) From here you can go [[down-&gt;deck]] to the deck.}[]]} </tw-passagedata><tw-passagedata pid="150" name="below deck stern" tags="" position="1928,2039" size="100,100">{($setImage:)
($refreshSentences:)
(set: $thisRoomsNumber to 15)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You are below deck, towards the stern. From here you may go $downOnScreen to the [[Chaplain&#39;s cabin]], $leftOnScreen to [[the sick bay]], or $rightOnScreen towards the [[ladder up to the deck-&gt;below deck]]. You may also ascend a ladder to [[the main deck-&gt;the stern]]. }[]]}</tw-passagedata><tw-passagedata pid="151" name="Chaplain&#39;s cabin" tags="" position="1928,2184" size="100,100">($setImage:)
(set: $thisRoomsNumber to 7)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
($refreshSentences:)
(border-color: green) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You are in the chaplain&#39;s cabin. ($room7content:) From here you may go $upOnScreen to [[the lower deck-&gt;below deck stern]] or $leftOnScreen to the [[ship&#39;s morgue]]. }[]]</tw-passagedata><tw-passagedata pid="152" name="the sick bay" tags="" position="1775,2042" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 8)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
($refreshSentences:)
(border-color: yellow) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You are in the sick bay of the ship, surrounded by the accoutrements of medical practice. ($room8content:) From here you may head $rightOnScreen to [[the lower deck-&gt;below deck stern]] or $downOnScreen to the [[ship&#39;s morgue]]. }[]]}</tw-passagedata><tw-passagedata pid="153" name="ship&#39;s morgue" tags="" position="1768,2184" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 9)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
($refreshSentences:)}
(border-color: (rgb: 155, 100, 0)) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are in the ship&#39;s morgue. ($room9content:) From here you may go $rightOnScreen to the [[Chaplain&#39;s cabin]] or $upOnScreen to [[the sick bay]]. []]</tw-passagedata><tw-passagedata pid="154" name="magazine" tags="" position="2208,2192" size="100,100">($setImage:)
(set: $thisRoomsNumber to 5)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
($refreshSentences:)
(border-color: blue) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You are in the magazine of a ship. ($room5content:) From here you can go $upOnScreen to [[the lower deck-&gt;below deck]].  }[]]</tw-passagedata><tw-passagedata pid="155" name="a store room" tags="" position="2511,2195" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 0)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
($refreshSentences:)
(border-color: black) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You are in a store room for salted goods, beneath the deck of a ship. $room0content From here you can go $upOnScreen to [[the lower deck-&gt;below deck bow]].}[]] }</tw-passagedata><tw-passagedata pid="156" name="the brig" tags="" position="2676,2024" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 6)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
($refreshSentences:)}(border-color: (rgb: 0, 255, 255)) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You are in the brig of a ship. $room6content From here you can go $leftOnScreen to [[a passage below deck-&gt;below deck bow]].}[]] </tw-passagedata><tw-passagedata pid="157" name="the bow" tags="" position="2506,1894" size="100,100">{($setImage:)
($refreshSentences:)
(set: $thisRoomsNumber to 14)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You are at the ship&#39;s forecastle. From here a ladder descends [[below deck-&gt;below deck bow]]. You may also head [[back towards the bridge-&gt;deck]]. }[]]}</tw-passagedata><tw-passagedata pid="158" name="kitchen" tags="" position="2216,3033" size="100,100">{($setImage:)
($refreshSentences:)
(set: $thisRoomsNumber to 18)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You are in the $kitchen of the $domicile. (if: $architecture is &quot;mansion&quot;)[You can leave here to the $rightOnScreen, through a door that leads into the [[$hallway1-&gt;left hallway]]. Alternatively, you may $wade $downOnScreen to the [[$buttery-&gt;buttery]], $leftOnScreen to the [[$larder-&gt;larder]] or $upOnScreen to the [[$yard-&gt;yard]].] (if: $architecture is &quot;house&quot;) [You can leave here to the $downOnScreen through a door that takes you into the [[$diningRoom-&gt;dining room]]. Alternatively, you may $wade through a door to the $upOnScreen that takes you out into the [[yard]].]}[]]}</tw-passagedata><tw-passagedata pid="159" name="dining room" tags="" position="2342,3186" size="100,100">{($setImage:)
($refreshSentences:)
(set: $thisRoomsNumber to 25)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are in the $diningRoom of the $domicile. (if: $architecture is &quot;mansion&quot;)[A $partiallySubmerged door leads $upOnScreen to a [[$hallway1-&gt;left hallway]].] (if: $architecture is &quot;house&quot;)[From here, a door leads $upOnScreen to a [[$kitchen-&gt;kitchen]] while a second door leads $rightOnScreen to the [[$entranceHall-&gt;entrance hall]].[]]]}</tw-passagedata><tw-passagedata pid="160" name="living room" tags="" position="2913,3177" size="100,100">($setImage:)
(set: $thisRoomsNumber to 4)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
($refreshSentences:)
(border-color: purple) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{$complexSentence. ($room4content:) (if: $architecture is &quot;mansion&quot;)[A door leads $upOnScreen to a [[$hallway2-&gt;right hallway]].] (if: $architecture is &quot;house&quot;)[From here, a door leads $upOnScreen to a [[$study-&gt;study]], a second door leads $leftOnScreen to the [[$entranceHall-&gt;entrance hall]], while a third leads $rightOnScreen to the [[$chapel-&gt;chapel]].]}[]]</tw-passagedata><tw-passagedata pid="161" name="billiard room" tags="" position="3016,2891" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 1)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
(set:$entryPointFromElevator to &quot;null&quot;)
($refreshSentences:)
(border-color: white) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence. ($room1content:) A door from here leads $leftOnScreen to a [[$study-&gt;study]]. []]}</tw-passagedata><tw-passagedata pid="162" name="main staircase" tags="" position="2711,2950" size="100,100">{($setImage:)
($refreshSentences:)
(set: $thisRoomsNumber to 16)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You are on the $partiallySubmerged $mainStaircase of a $domicile. You can head up and to the $upOnScreen to the (link: $landing)[(goto: &quot;main landing&quot;)] or down and to the $downOnScreen to the [[$entranceHall-&gt;entrance hall]].}[]]}</tw-passagedata><tw-passagedata pid="163" name="entrance hall" tags="" position="2640,3090" size="100,100">{($setImage:)
(if: $decadeNumber is 1870)[($overrideImage:&quot;1871&quot;)]
($refreshSentences:)
(set: $thisRoomsNumber to 20)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are in the $flooded $entranceHall of a $domicile. (if: $architecture is in (a:&quot;mansion&quot;, &quot;library&quot;)) [To the $upOnScreen two side halls branch off to the [[$leftOnScreen-&gt;left hallway]] and [[$rightOnScreen-&gt;right hallway]].] (if: 2 is in $optionalPaths)[To the $upOnScreen is the $partiallySubmerged [[$mainStaircase-&gt;main staircase]].](else:)[To the $upOnScreen the hall [[turns to the $leftOnScreen-&gt;rear hall]].] (if: $architecture is &quot;house&quot;)[Doors to the $leftOnScreen and $rightOnScreen go to a [[$diningRoom-&gt;dining room]] and a [[$livingRoom-&gt;living room]] respectively.] 

(if: true) [$returnText] []]}</tw-passagedata><tw-passagedata pid="164" name="left hallway" tags="" position="2340,3033" size="100,100">{($setImage:)
($refreshSentences:)
(set: $thisRoomsNumber to 19)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You are in the $flooded $hallway1 that cuts through the $leftOnScreen of the $domicile. A door from here leads $downOnScreen into a [[$diningRoom-&gt;dining room]] while another door leads $leftOnScreen to a [[$kitchen-&gt;kitchen]]. A panel in the wall has opened slightly, revealing a $partiallySubmerged chute that leads down to the (link-goto: &quot;main basement&quot;). Or you may head $rightOnScreen to the main [[$entranceHall-&gt;entrance hall]].}.[]]}</tw-passagedata><tw-passagedata pid="165" name="right hallway" tags="" position="2918,3034" size="100,100">{($setImage:)
($refreshSentences:)
(set: $thisRoomsNumber to 21)
(set:$entryPointFromElevator to &quot;null&quot;)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are in a $flooded $hallway2 that cuts through the $rightOnScreen of the $domicile. A door from here leads $downOnScreen into a [[$livingRoom-&gt;living room]], while another door leads $upOnScreen to a [[$study-&gt;study]]. You may also go $leftOnScreen to the [[$entranceHall-&gt;entrance hall]] or you may [[head through an egress to the $rightOnScreen-&gt;gallery]]. []]}</tw-passagedata><tw-passagedata pid="166" name="bathroom" tags="" position="3496,2369" size="100,100">{($setImage:)
($refreshSentences:) 
(set: $thisRoomsNumber to 28)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You are in a $bathroom on the upstairs floor of a $domicile. A door from here leads $rightOnScreen to the [[$leftOnScreen landing-&gt;left landing]].}[]]}</tw-passagedata><tw-passagedata pid="167" name="buttery" tags="" position="2211,3186" size="100,100">{($setImage:)
($refreshSentences:)
(set: $thisRoomsNumber to 24)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are in the $flooded $buttery of a large $domicile. The only proper exit is to the $upOnScreen, into the [[$kitchen-&gt;kitchen]]. However, there also appears to be some $underwater (link: $narrow + &quot;, &quot; + $roughHewn + &quot;steps heading down&quot;)[(goto: &quot;under-kitchen steps&quot;)] into the gloom.[]]}</tw-passagedata><tw-passagedata pid="168" name="larder" tags="" position="2074,3033" size="100,100">{($setImage:)
($refreshSentences:)
(set: $thisRoomsNumber to 17)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You are in the $flooded $larder. You can leave here via a door to the $rightOnScreen, which leads to the [[$kitchen-&gt;kitchen]].}[]]}</tw-passagedata><tw-passagedata pid="169" name="chapel" tags="" position="3289,3169" size="100,100">($setImage:)
(set: $thisRoomsNumber to 7)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
($refreshSentences:)
(border-color: green) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{$complexSentence.($room7content:) (if: $architecture is &quot;mansion&quot;)[A door leads $upOnScreen to an [[$oratory-&gt;oratory]].](if: $architecture is &quot;house&quot;)[A door leads $leftOnScreen to a [[$livingRoom-&gt;living room]].] (if: $domicile is &quot;mansion&quot;)[There is also something strange about the altar, which (link:&quot;you can investigate...&quot;)[=(text-colour:orange)[you investigate, pushing on the altar until it scrapes open and reveals a (link:&quot;secret passage beneath&quot;)[(goto:&quot;priesthole&quot;)]].]}]</tw-passagedata><tw-passagedata pid="170" name="oratory" tags="" position="3292,3018" size="100,100">{($setImage:)
($refreshSentences:)
(set: $thisRoomsNumber to 23)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You are in the $flooded $oratory of a $grandHouse. From here you may go [[$leftOnScreen-&gt;gallery]] or $downOnScreen to the [[$chapel-&gt;chapel]].}[]]}</tw-passagedata><tw-passagedata pid="171" name="main landing" tags="" position="3904,2510" size="100,100">($setImage:)
($refreshSentences:)
(set: $thisRoomsNumber to 33)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You are on the $mainLanding of a $domicile, at the top of a (if: $domicile is &quot;mansion&quot;)[ grand] staircase. (if: 2 is in $optionalPaths) [You can (link: &quot;proceed down the staircase if you wish&quot;)[(goto:&quot;main staircase&quot;)]](else:) [You can (link: &quot;proceed down the staircase if you wish&quot;)[(goto:&quot;alt staircase&quot;)]], or you can head (link: $leftOnScreen)[(set: $heading to $leftOnScreen)(goto:&quot;midleft landing&quot;)] or (link: $rightOnScreen)[(set: $heading to $rightOnScreen)(goto:&quot;midright landing&quot;)] along the landing. (if: $architecture is &quot;mansion&quot;)[There is also a door in front of you which you can [[step through-&gt;master bedroom]].]}[]]</tw-passagedata><tw-passagedata pid="172" name="left landing" tags="" position="3637,2367" size="100,100">{($setImage:)
($refreshSentences:) 
(set: $thisRoomsNumber to 29)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You are at the $leftOnScreen end of the $mainLanding. A door from here leads $leftOnScreen to the [[$bathroom-&gt;bathroom]], while a door to the $downOnScreen leads to a [[$boudoir-&gt;boudoir]]. 
(if: $architecture is &quot;mansion&quot;)[Another door leads $upOnScreen to the [[$atticStairs-&gt;attic stairs]].
	(if: 3 is in $optionalPaths) [You may also go (link: $rightOnScreen + &quot;along the landing&quot;)[(set: $heading to $rightOnScreen)(goto:&quot;midleft landing&quot;)].]
	(else:)[Finally, by going [[$rightOnScreen-&gt;uplanding]] you may head back towards the main landing.]]}[]]}</tw-passagedata><tw-passagedata pid="173" name="right landing" tags="" position="4176,2502" size="100,100">{($setImage:)
($refreshSentences:) 
(set:$entryPointFromElevator to &quot;null&quot;)
(set: $thisRoomsNumber to 35)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are at the $rightOnScreen end of the main landing. A door from here leads $upOnScreen to the [[$armorRoom-&gt;armor room]], while a door to the $rightOnScreen leads to a [[$nursery-&gt;nursery]]. (if: $architecture is &quot;mansion&quot;)[Another door leads to a [[$threadbare $bedchamber-&gt;second bedchamber]] to the $downOnScreen.] You may also [[go $leftOnScreen along the landing-&gt;midright landing]]. []]}</tw-passagedata><tw-passagedata pid="174" name="casket room" tags="" position="3813,3147" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 9)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
($refreshSentences:)
(border-color: (rgb: 155, 100, 0)) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence. ($room9content:) 

From here you may $swim $upOnScreen to the [[$mainBasement-&gt;main basement]].]}</tw-passagedata><tw-passagedata pid="175" name="yard" tags="" position="2222,2881" size="100,100">{($setImage:)
($refreshSentences:)
(set: $thisRoomsNumber to 12)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are in the $flooded $yard of a large $domicile. (if: 1 is in $optionalPaths) [The yard extends via [[a path to the $rightOnScreen-&gt;secondYard]].](else:)[To the $upOnScreen is the [[$kennels-&gt;kennels]].] (if: $domicile is in (a:&quot;house&quot;,&quot;mansion&quot;))[If you wish to $wade into the house, a](else:)[A] door leads into the [[$kitchen-&gt;kitchen]].[]]}</tw-passagedata><tw-passagedata pid="176" name="second bedchamber" tags="" position="4177,2643" size="100,100">{($setImage:)
($refreshSentences:)
(set: $thisRoomsNumber to 37)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You are in a $threadbare $bedchamber. You can [[exit here to the $upOnScreen-&gt;right landing]].}[]]}</tw-passagedata><tw-passagedata pid="177" name="boudoir" tags="" position="3644,2512" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 3)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
($refreshSentences:)
(border-color: red) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence. ($room3content:) You can [[exit here to the $upOnScreen-&gt;left landing]].[]]}</tw-passagedata><tw-passagedata pid="178" name="attic stairs" tags="" position="3632,2222" size="100,100">{($setImage:)
($refreshSentences:) 
(set: $thisRoomsNumber to 28)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You are on the $atticStairs. You can either go up into the [[$attic-&gt;attic]] or down onto the [[$mainLanding-&gt;left landing]].}[]]}</tw-passagedata><tw-passagedata pid="179" name="study" tags="" position="2865,2892" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 2)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
($refreshSentences:)
(border-color: (rgb: 255, 100, 100)) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[(if: $entryPointFromElevator is &quot;from elevator&quot;)[You exit the secret room through a door disguised as a bookcase.] $complexSentence. ($room2content:) (if: $architecture is &quot;house&quot;)[A door from here leads $downOnScreen to the [[$livingRoom-&gt;living room]].] From here you can $wade $rightOnScreen to a [[$billiardRoom-&gt;billiard room]].(if: $architecture is &quot;mansion&quot;)[ A door from here leads $downOnScreen and out onto a [[$hallway2-&gt;right hallway]]. (if: $entryPointFromElevator is &quot;null&quot;)[There is also something strange about the bookcase on the $upOnScreen wall, which (link:&quot;you can investigate...&quot;)[=(text-colour:orange)[you investigate, pressing on the bookcase until it clicks open and reveals a passage to a [[secret room]].]](else:)[You can also go [[back through the secret door-&gt;secret room]] if you wish.]][]]}</tw-passagedata><tw-passagedata pid="180" name="nursery" tags="" position="4318,2502" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 0)
(set: $thisRoomsNumber to 36)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
($refreshSentences:)
(border-color: black) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence. ($room0content:) To exit this place, you must [[take a door-&gt;right landing]] to the $leftOnScreen.[]]}</tw-passagedata><tw-passagedata pid="181" name="servant&#39;s quarters" tags="" position="3813,2850" size="100,100">{($setImage:)
($refreshSentences:)
(set: $thisRoomsNumber to 38)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are in the $underwater $servantsQuarters of the $domicile. From here you may $swim $downOnScreen to the [[main basement]].[]]}</tw-passagedata><tw-passagedata pid="182" name="armor room" tags="" position="4181,2357" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 5)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
(if: $architecture is &quot;mansion&quot;) [(set: $dilapidated to &quot;elevator&quot;)]
(if: $architecture is &quot;house&quot;) [(set: $dilapidated to &quot;stairs&quot;)]

($refreshSentences:)
(border-color: blue) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[(if: $entryPointFromElevator is &quot;from elevator&quot;)[You exit the elevator through what turns out to be a secret door, disguised as a suit of armor. $complexSentence. The room is lined on every side by suits of armour. ($room5content:) You can only exit this room to the $downOnScreen, via a door that leads to the [[($ern: $rightOnScreen) end of the landing-&gt;right landing]], or go back through the suit of armor to the (link: &quot;neglected, run-down &quot; + $dilapidated)[(goto:&quot;dilapidated stair or elevator&quot;).]][] (else:)[$complexSentence. The room is lined on every side by $suitsOfArmor. ($room5content:) You can only exit this room to the $downOnScreen, via a door that leads to the [[($ern: $rightOnScreen) end of the landing-&gt;right landing]]. There is also something strange about the suit of armor directly opposite, on the $upOnScreen wall, which (link:&quot;you can investigate...&quot;)[=(text-colour:orange)[you investigate, pulling the armor aside to reveal a secret entrance to a (link: &quot;neglected, run-down &quot; + $dilapidated)[(goto:&quot;dilapidated stair or elevator&quot;).]][]]]}

</tw-passagedata><tw-passagedata pid="183" name="kennels" tags="" position="2224,2731" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 6)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
($refreshSentences:)
(border-color: cyan) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence(if:$domicile is in (a:&quot;house&quot;,&quot;mansion&quot;))[, surrounded by the baying of hounds.](else:)[.] ($room6content:) To leave here you must head $downOnScreen to the [[$yard-&gt;yard]]. []]}</tw-passagedata><tw-passagedata pid="184" name="main basement" tags="" position="3813,2995" size="100,100">($setImage:)
($refreshSentences:)
(set: $thisRoomsNumber to 42)

(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You are at a $laundryCollectionArea in the $underwater basement of the $domicile. From here you may $swim $downOnScreen to the [[$casketRoom-&gt;casket room]] or $rightOnScreen along a [[$basementCorridor-&gt;basement corridor]]. (if: $architecture is &quot;mansion&quot;) [Alternatively, a door to the $upOnScreen leads to the [[$servantsQuarters-&gt;servant&#39;s quarters]], and stairs to the $leftOnScreen lead down into the [[$cellar-&gt;cellar]].]}.[]]</tw-passagedata><tw-passagedata pid="185" name="cellar" tags="" position="3666,2995" size="100,100">($setImage:)
($refreshSentences:)
(set: $thisRoomsNumber to 41)

(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You are in the $underwater $cool $dark $cellar beneath the $domicile. From here, a passage leads up and to the $rightOnScreen to the [[$mainBasement-&gt;main basement]] area. Alternatively, you may head $leftOnScreen to the [[$underKitchenSteps-&gt;under-kitchen steps]]. }[]]</tw-passagedata><tw-passagedata pid="186" name="attic" tags="" position="3631,2080" size="100,100">{($setImage:)
($refreshSentences:) 
(set: $thisRoomsNumber to 27)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You are in the $attic of a $domicile. At one end of the $attic, stairs lead down to the [[upstairs floor-&gt;attic stairs]]. At the other is a dilapidated $dilapidated. You can (link: &quot;investigate the &quot; + $dilapidated)[(goto: &quot;dilapidated stair or elevator&quot;)] if you like.}[]]}</tw-passagedata><tw-passagedata pid="187" name="boiler room" tags="" position="3960,2856" size="100,100">{($setImage:)
($refreshSentences:)
(set: $thisRoomsNumber to 39)

(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are in the $underwater $noisy $boilerRoom beneath the $domicile (if: $domicile is in (a:&quot;house&quot;,&quot;mansion&quot;) and $hundredNumber &gt; 1700)[filled with the banging and clanging of the barely functional boiler]. From here you may $swim $upOnScreen to the (link: $dilapidated)[(goto: &quot;dilapidated stair or elevator&quot;)] or $downOnScreen to a [[basementCorridor-&gt;basement corridor]].[]]}</tw-passagedata><tw-passagedata pid="188" name="storage room" tags="" position="3952,3148" size="100,100">{($setImage:)
($refreshSentences:)
(set: $thisRoomsNumber to 45)

(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are in a storage room in the $underwater basement. From here you may $swim $upOnScreen to a [[$basementCorridor-&gt;basement corridor]].[]]}</tw-passagedata><tw-passagedata pid="189" name="under-kitchen steps" tags="" position="3518,2995" size="100,100">{($setImage:)
($refreshSentences:)
(set: $thisRoomsNumber to 40)

(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are in the darkness of a $submerged rough-hewn landing beneath the $buttery of the $domicile. You may $swim up to the (link: $buttery)[(goto:&quot;buttery&quot;)] if you wish. Alternatively, a doorway leads $rightOnScreen into a $cold [[$cellar-&gt;cellar]]. (if: $domicile is &quot;mansion&quot;)[There are also steps leading (link: &quot;further down into the darkness&quot;)[(goto: &quot;caverns&quot;)].[]]]}</tw-passagedata><tw-passagedata pid="190" name="caverns" tags="" position="3641,3410" size="100,100">($setImage:)
($refreshSentences:)
(set: $thisRoomsNumber to 48)

(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You are in the dark caverns beneath the house. From here, you can go (link: &quot;up some steps&quot;)[(goto: &quot;under-kitchen steps&quot;)] or head down a long tunnel that goes [[deeper into the caverns-&gt;caverns2]] to the $rightOnScreen. }[]]  </tw-passagedata><tw-passagedata pid="191" name="caverns2" tags="" position="3971,3407" size="100,100">($setImage:)
($refreshSentences:)
(set: $thisRoomsNumber to 49)

(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You are at the ($ern: $rightOnScreen) end of a long, cavernous tunnel that heads ($compassTo: $leftOnScreen, $rightOnScreen) through utter darkness beneath the house. There are steps here, leading up, which [[you may take-&gt;priesthole]]. Or you may head down the long tunnel to the [[$leftOnScreen-&gt;caverns]]. An alternative is to head into the gloom to the [[($directionJoined: $upOnScreen, $leftOnScreen) -&gt;caverns3]]. }[]]</tw-passagedata><tw-passagedata pid="192" name="priesthole" tags="" position="4097,3255" size="100,100">($setImage:)
($refreshSentences:)
(set: $thisRoomsNumber to 47)

(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You are in a cramped hidey hole beneath the chapel of the $architecture. Through the wall to the $leftOnScreen, you can hear some banging and clanging. From here, you can climb down into the [[caverns-&gt;caverns2]] or climb up into the (link-goto:&quot;chapel&quot;). If you wish to know more about the noise, however, there is a small hole in the wall through which (link: &#39;you can peep.&#39;)[==(textcolor: orange)[you see what appears to be a basement corridor running ($compassTo: $leftOnScreen, $rightOnScreen) past the boiler room.]}[]]</tw-passagedata><tw-passagedata pid="193" name="caverns3" tags="" position="3829,3270" size="100,100">($setImage:)
($refreshSentences:)
(set: $thisRoomsNumber to 46)

(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You are in the dark caverns beneath the house. There is a broken elevator here, which you may (link: &quot;attempt to operate&quot;)[(goto: &quot;dilapidated stair or elevator&quot;)]. If you don&#39;t wish to try the elevator, your only option is to head ($directionJoined: $downOnScreen, $rightOnScreen) into the darkness of the [[caverns-&gt;caverns2]].}[]]</tw-passagedata><tw-passagedata pid="194" name="master bedroom" tags="" position="3902,2366" size="100,100">{($setImage:)
($refreshSentences:)
(set: $thisRoomsNumber to 31)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are in the $masterBedroom. A door leads from here back onto the [[$mainLanding-&gt;main landing]].[]]}</tw-passagedata><tw-passagedata pid="195" name="dilapidated stair or elevator" tags="" position="4138,2765" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 8)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
(if: $architecture is &quot;mansion&quot;) [(set: $dilapidated to &quot;elevator&quot;)]
(if: $architecture is &quot;house&quot;) [(set: $dilapidated to &quot;stairs&quot;)]
(set:$entryPointFromElevator to &quot;from elevator&quot;)
($refreshSentences:)}
(border-color: yellow) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{$complexSentence. (if: $domicile is &quot;library&quot;)[Ladders and ballustrades scaffold the towering collection of broken books and scrolls, leading to every level of the library.](if: $domicile is &quot;mansion&quot;)[Despite its broken down state, the elevator appears to be functional.] Choose a floor to go to: }
(if: $domicile is &quot;mansion&quot;)[(link: &quot;The caverns&quot;)[(goto: &quot;caverns3&quot;)]]
(link: &quot;The basement&quot;)[(goto: &quot;boiler room&quot;)]
(link: &quot;The ground floor&quot;)[(goto: &quot;secret room&quot;)]
(link: &quot;Upstairs&quot;)[(goto: &quot;armor room&quot;)]
(if: $architecture is &quot;mansion&quot;)[(link: &quot;The attic&quot;)[(goto: &quot;attic&quot;)]]

[]]</tw-passagedata><tw-passagedata pid="196" name="direction joined" tags="startup" position="4,472" size="100,100">{
&lt;!--This joins compass directions, e.g. east and north to form northeast (not eastnorth)--&gt;

(set: $directionJoined to
(macro: str-type _firstDir, str-type _secondDir, [
	(if: _firstDir is in (a: &quot;north&quot;, &quot;south&quot;))
		[(output-data: (joined: &quot;&quot;,_firstDir,_secondDir))]
	(else:) [(output-data: (joined: &quot;&quot;,_secondDir,_firstDir))]
	(output-data: &quot;&quot;)
	]))
	

}</tw-passagedata><tw-passagedata pid="197" name="basement corridor" tags="" position="3959,2995" size="100,100">{($setImage:)
($refreshSentences:)
(set: $thisRoomsNumber to 43)

(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are on the $underwater $basementCorridor running ($compassTo: $leftOnScreen, $rightOnScreen) beneath the $domicile. From here you may $swim (if: $architecture is &quot;mansion&quot;)[$downOnScreen to the [[$storageRoom-&gt;storage room]], ]$upOnScreen to the [[$boilerRoom-&gt;boiler room]] or $leftOnScreen to the [[$mainBasement-&gt;main basement]]. To the $rightOnScreen, the corridor ends in a $brickWall.[]]}</tw-passagedata><tw-passagedata pid="198" name="brick wall" tags="" position="4123,2990" size="100,100">($setImage:)
($refreshSentences:)
(set: $thisRoomsNumber to 44)

(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You are at the far $rightOnScreen end of the$underwater basement corridor, which dead-ends $inABrickWall. (if: $domicile is &quot;mansion&quot;)[There is a small hole in the wall through which (link: &#39;you can peep.&#39;)[==(text-colour:orange)[you see what appears to be a hiding hole illuminated by light from the chapel above.]] From here you may $swim $leftOnScreen along the [[$basementCorridor-&gt;basement corridor]].}[]]</tw-passagedata><tw-passagedata pid="199" name="compass to" tags="startup" position="22,229" size="100,100">{
&lt;!--This joins opposite compass directions in the phrases &quot;north to south&quot; and  &quot;east to west&quot; (not &quot;south to north&quot; or &quot;west to east&quot;)--&gt;
	
(set: $compassTo to 
(macro: str-type _firstDir, str-type _secondDir, [
	(if: _firstDir is in (a: &quot;north&quot;, &quot;east&quot;))
		[(output-data: _firstDir + &quot; to &quot; + _secondDir)]
	(else:) [(output-data: _secondDir + &quot; to &quot; + _firstDir)]
	(output-data: &quot;&quot;)
	])) 
	}</tw-passagedata><tw-passagedata pid="200" name="ern" tags="startup" position="4,579" size="100,100">{
&lt;!--Changes &quot;north&quot; into &quot;northern&quot; etc.--&gt;

(set: $ern to 
(macro: string-type _direction, [
	(set: _ern to _direction+&quot;ern&quot;)
	(output-data: _ern)
	]))
}
		</tw-passagedata><tw-passagedata pid="201" name="secret room" tags="" position="2866,2746" size="100,100">{($setImage:)
($refreshSentences:)
(set: $thisRoomsNumber to 11)
(set:$entryPointFromElevator to &quot;from elevator&quot;)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are in a $flooded secret room behind the bookcase of the $study. There is a dilapidated $elevator here, which you (link:&quot;can take&quot;)[(goto:&quot;dilapidated stair or elevator&quot;)]. Otherwise, you can exit to the [[$study-&gt;study]] via the bookcase.[]]}</tw-passagedata><tw-passagedata pid="202" name="gatehouse" tags="" position="5807,3017" size="100,100">{
(set: $castleLevel to (cond:
	$castleLevel is 1,1,
	$castleLevel is -1,-1,
	1)
	)
	
(set: $castleLevel to $castleLevel * -1)
(if: $architecture is &quot;castle&quot;)[
	(set: $inOrOnBattlements to (cond: 
		$castleLevel is -1, &quot;in&quot;,
		$castleLevel is 1, &quot;on the battlements of&quot;,
		&quot;&quot;
		))	
		]
(set: $onOrUnder to (cond:
		$castleLevel is -1, &quot;under&quot;,
		$castleLevel is 1, &quot;on&quot;,
		&quot;&quot;
		))
(set: $turretDirection to (cond: 
		$castleLevel is -1, &quot;up&quot;,
		$castleLevel is 1, &quot;down&quot;,
		&quot;&quot;
		))
(set: _castleLevel to (cond: 	
		$castleLevel is -1, &quot;ground&quot;,
		$castleLevel is 1, &quot;upper&quot;,
		&quot;&quot;
		))
(set: _alongOrThrough to (cond:
		$decadeNumber is 1960, &quot;along&quot;,
		$castleLevel is -1, &quot;within&quot;,
		$castleLevel is 1, &quot;along&quot;,
		&quot;&quot;
		))
(set: _exit to ($returnToComplex:))
}	
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4) + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[(if: $architecture is &quot;castle&quot;)[You are $inOrOnBattlements the $gatehouse. From here you can go $rightOnScreen _alongOrThrough the [[$gatehouseWall-&gt;gatehouse wall]] or $leftOnScreen _alongOrThrough the [[front $wall-&gt;front wall]]. (if: $decadeNumber is in $castles)[You can also go [[$turretDirection some steps-&gt;gatehouse]].] (if: _castleLevel is &quot;ground&quot;)[Or you may (if: $decadeNumber is in (a:1030))[ascend the slope from ](else:)[exit] the $gatehouse to the $upOnScreen into the [[(either: $baileyAdj1, $baileyAdj2, $baileyAdj3) $bailey-&gt;main courtyard]](unless: $decadeNumber is 1960)[, or head (if: $decadeNumber is in (a:1030))[down and to the] $downOnScreen to the (link: $drawbridge)[(set:$castleLevel to 1) (goto: ($returnToComplex:))]].]]{


}(if:$architecture is &quot;arena&quot;)[You are in the entry tower, in the center of the $downOnScreen stand. From here you can climb some steps either to the $rightOnScreen onto the [[($ern: $rightOnScreen) half of the $downOnScreen stand-&gt;gatehouse wall]] or to the $leftOnScreen onto the [[($ern: $leftOnScreen) half-&gt;front wall]]. Alternatively, you can exit the stand to the $upOnScreen into the [[central arena-&gt;main courtyard]], or by heading $downOnScreen to the (link: &quot;exit&quot;)[(set:$castleLevel to 1) (goto: ($returnToComplex:))].]{


}(if: $architecture is &quot;mosque&quot;)[You are in the portal to the great mosque. From here you can go $rightOnScreen through the [[($directionJoined: $rightOnScreen, $downOnScreen) riwaq-&gt;gatehouse wall]] or $leftOnScreen through the [[($directionJoined: $leftOnScreen, $downOnScreen) riwaq-&gt;front wall]]. Or you may exit the musalla to the $upOnScreen into the [[sahn-&gt;main courtyard]], or by heading $downOnScreen to the (link: &quot;exit&quot;)[(set:$castleLevel to 1) (goto: ($returnToComplex:))].]]{

}(if: $decadeNumber is 1960)[
	(if: $gulag is &quot;escaped&quot;)[You see a chance to escape to the train station, which you can [[take-&gt;complex six]].](else:)[(set: $gulag to &quot;escaped&quot;)]]

</tw-passagedata><tw-passagedata pid="203" name="front wall" tags="" position="5546,3017" size="100,100">{
(set: $castleLevel to $castleLevel * -1)
(if: $architecture is &quot;castle&quot;)[
	(if: $castleLevel is 1)[
		(set: _castleLevel to &quot;ground&quot;)
		(set: $inOrOn to &quot;in&quot;)]
	(if: $castleLevel is -1)[
		(set: _castleLevel to &quot;upper&quot;)
		(set: $inOrOn to &quot;on&quot;)]
		]
(set: $onOrUnder to (cond:
		$castleLevel is 1, &quot;under&quot;,
		$castleLevel is -1, &quot;on&quot;,
		&quot;&quot;
		))
}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4) + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[(if: $architecture is &quot;castle&quot;)[You are $inOrOn the front $wall. From here you can (if: $decadeNumber is in $monasteries)[step out into the [[(either: $baileyAdj1, $baileyAdj2, $baileyAdj3) garth-&gt;main courtyard]],] head [[$leftOnScreen-&gt;castle room 3]] ($toThePhrase:3), or [[$rightOnScreen-&gt;gatehouse]] to the $gatehouse.]{


}(if: $architecture is &quot;arena&quot;)[You are on the $leftOnScreen half of the $downOnScreen stand. From here you can go [[$leftOnScreen-&gt;castle room 3]] and down some steps ($toThePhrase:3), or [[$rightOnScreen-&gt;gatehouse]] to the entry tower.]{

}(if: $architecture is &quot;mosque&quot;)[You are walking through the ($ern:$downOnScreen) riwaq at the ($directionJoined: $leftOnScreen, $downOnScreen) corner of the sahn. From here you can go [[$leftOnScreen-&gt;castle room 3]] to the ($directionJoined: $leftOnScreen, $downOnScreen) minaret, or [[$rightOnScreen-&gt;gatehouse]] to the portal. You can also simply step out from the shade of the riwaq into the [[open courtyard-&gt;main courtyard]]]
]

</tw-passagedata><tw-passagedata pid="204" name="castle room 3" tags="" position="5322,3020" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 3)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
($refreshSentences:)
(set: $corner to ($directionJoined: $rightOnScreen, $downOnScreen))

(set: $castleLevel to $castleLevel * -1)
(set: $inOrOnBattlements to (cond: 
	$castleLevel is -1, &quot;in&quot;,
	$castleLevel is 1, &quot;on the battlements of&quot;,
	&quot;&quot;))

(set: $inOrAtopMinaret to (cond: 
	$castleLevel is -1, &quot;in&quot;,
	$castleLevel is 1, &quot;at the top of&quot;,
	&quot;&quot;
	))	
	
(set: $turretDirection to (cond: 
		$castleLevel is -1, &quot;up&quot;,
		$castleLevel is 1, &quot;down&quot;,
		&quot;&quot;
		))
(set: _castleLevel to (cond: 	
		$castleLevel is -1, &quot;ground&quot;,
		$castleLevel is 1, &quot;upper&quot;,
		&quot;&quot;
		))
(set: _alongOrThrough to (cond:
		$decadeNumber is 1960, &quot;along&quot;,
		$castleLevel is -1, &quot;within&quot;,
		$castleLevel is 1, &quot;along&quot;,
		&quot;&quot;
		))
}
(border-color: red) + (border:&quot;solid&quot;) + (b4r-size:4) + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[(if: $architecture is &quot;castle&quot;)[(if:$castleLevel is -1)[$complexSentence.](else:)[You are on the $battlements of the $maidensTower.] From here you can go $rightOnScreen _alongOrThrough the [[front $wall-&gt;front wall]] or (if: $decadeNumber is in (a:1030))[[[up the sloping cloister-&gt;left wall]] to the $upOnScreen.](else:) [$upOnScreen _alongOrThrough the [[$leftOnScreen $wall-&gt;left wall]].] (if: $decadeNumber is in $castles)[You can also go [[$turretDirection some steps-&gt;castle room 3]].] (if: _castleLevel is &quot;ground&quot;)[Or you may exit (if: $decadeNumber is in (a:1030))[up and] to the ($directionJoined: $rightOnScreen, $upOnScreen) into the [[(either: $baileyAdj1, $baileyAdj2, $baileyAdj3) $bailey-&gt;main courtyard]].]]{


}(if: $architecture is &quot;arena&quot;)[$complexSentence. From here you can go up some steps to the $rightOnScreen to the top of the [[$downOnScreen stand-&gt;front wall]] or $upOnScreen [[($toThePhrase: 7)-&gt;left wall]]. You can also go ($directionJoined: $rightOnScreen, $upOnScreen) into the [[central arena-&gt;main courtyard]].]{


}(if: $architecture is &quot;mosque&quot;)[You are $inOrAtopMinaret the $corner minaret. (if: _castleLevel is &quot;ground&quot;) [From here you can go $rightOnScreen through the [[($ern:$downOnScreen) riwaq-&gt;front wall]] or $upOnScreen through the [[($ern: $leftOnScreen) riwaq-&gt;left wall]] that run along the sides of the sahn.] You can (if: _castleLevel is &quot;ground&quot;)[also](else:)[only] go [[$turretDirection some steps-&gt;castle room 3]].]{


}]</tw-passagedata><tw-passagedata pid="205" name="left wall" tags="" position="5301,2671" size="100,100">{
($setImage:)
(set: $corner to ($directionJoined: $leftOnScreen, $upOnScreen))

(set: $castleLevel to $castleLevel * -1)
(if: $architecture is &quot;castle&quot;)[
	(if: $castleLevel is 1)[
		(set: _castleLevel to &quot;ground&quot;)
		(set: $inOrOn to &quot;in&quot;)]
	(if: $castleLevel is -1)[
		(set: _castleLevel to &quot;upper&quot;)
		(set: $inOrOn to &quot;on&quot;)]
		]
}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4) + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[(if: $architecture is &quot;castle&quot;)[You are $inOrOn the ($ern: $leftOnScreen) $wall. From here you can (if: $decadeNumber is in $monasteries)[step out into the [[(either:$baileyAdj1, $baileyAdj2, $baileyAdj3) garth-&gt;side walk]],] head (if: $decadeNumber is in (a:1030))[up and to the] [[$upOnScreen-&gt;rear turret]] to the ($directionJoined: $leftOnScreen, $upOnScreen) $turret, or (if: $decadeNumber is in (a:1030))[down and to the][[$downOnScreen-&gt;castle room 3]] ($toThePhrase:3).]{


}(if: $architecture is &quot;arena&quot;)[$complexSentence. From here you can go up some steps to the $upOnScreen to the top of the [[$corner stand-&gt;rear turret]] or $downOnScreen [[($toThePhrase: 3)-&gt;castle room 3]]. You can also go $rightOnScreen into the [[central arena-&gt;main courtyard]].]{
}]</tw-passagedata><tw-passagedata pid="206" name="castle room 8" tags="" position="6274,2666" size="100,100">{
($setImage:)
(set: $thisRoomsNumber to 8)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
($refreshSentences:)
(set:$corner to ($directionJoined: $rightOnScreen, $downOnScreen))

(set: $castleLevel to $castleLevel * -1)
(if: $architecture is &quot;castle&quot;)[
	(if: $castleLevel is 1)[
		(set: _castleLevel to &quot;ground&quot;)
		(set: $inOrOn to &quot;in&quot;)]
	(if: $castleLevel is -1)[
		(set: _castleLevel to &quot;upper&quot;)
		(set: $inOrOn to &quot;on&quot;)]
		]
}
(border-color: yellow) + (border:&quot;solid&quot;) + (b4r-size:4) + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[(if: $architecture is &quot;castle&quot;)[(if:$castleLevel is 1)[$complexSentence.](else:)[You are on the $battlements of the $castleword wall.] From here you can go (if: $decadeNumber is in (a:1030))[up and to the] [[$upOnScreen-&gt;castle room 5]] to the ($directionJoined: $rightOnScreen, $upOnScreen) $turret, or (if: $decadeNumber is in (a:1030))[down and to the] [[$downOnScreen-&gt;turret]] to the ($directionJoined: $rightOnScreen, $downOnScreen) $turret.]{


}(if: $architecture is &quot;arena&quot;)[$complexSentence. From here you can go up some steps to the $upOnScreen [[to the top of the ($directionJoined: $rightOnScreen, $upOnScreen) corner stand-&gt;castle room 5]] or up some steps to the $downOnScreen to the [[top of the $corner stand-&gt;turret]]. You can also go $leftOnScreen into the [[central arena-&gt;main courtyard]].]{


}(if: $architecture is &quot;mosque&quot;)[$complexSentence. From here you can go $upOnScreen [[to the ($directionJoined: $rightOnScreen, $upOnScreen) minaret-&gt;castle room 5]] or $downOnScreen to the [[($directionJoined: $rightOnScreen, $downOnScreen) minaret-&gt;turret]]. You can also step out from the shade into the [[sahn-&gt;main courtyard]] to the $leftOnScreen.]{
}]


</tw-passagedata><tw-passagedata pid="207" name="turret" tags="" position="6252,3026" size="100,100">{
(set: $corner to ($directionJoined: $rightOnScreen, $downOnScreen))

(set: $castleLevel to $castleLevel * -1)
(set: $inOrOnBattlements to (cond: 
	$castleLevel is -1, &quot;in&quot;,
	$castleLevel is 1, &quot;on the battlements of&quot;,
	&quot;&quot;
	))
	
(set: $inOrAtopMinaret to (cond: 
	$castleLevel is -1, &quot;in&quot;,
	$castleLevel is 1, &quot;at the top of&quot;,
	&quot;&quot;
	))	
		
(set: $turretDirection to (cond: 
		$castleLevel is -1, &quot;up&quot;,
		$castleLevel is 1, &quot;down&quot;,
		&quot;&quot;
		))
(set: _castleLevel to (cond: 	
		$castleLevel is -1, &quot;ground&quot;,
		$castleLevel is 1, &quot;upper&quot;,
		&quot;&quot;
		))
(set: _alongOrThrough to (cond:
		$decadeNumber is 1960, &quot;along&quot;,
		$castleLevel is -1, &quot;within&quot;,
		$castleLevel is 1, &quot;along&quot;,
		&quot;&quot;
		))
}	
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4) + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[(if: $architecture is &quot;castle&quot;)[You are $inOrOnBattlements the $corner $turret. From here you can go $leftOnScreen _alongOrThrough the [[$gatehouse $wall-&gt;gatehouse wall]] or (if: $decadeNumber is in (a:1030))[[[up the sloping cloister-&gt;left wall]] to the $upOnScreen.](else:) [[[$upOnScreen-&gt;castle room 8]] ($toThePhrase:8).] (if: $decadeNumber is in $castles)[You can also go [[$turretDirection some steps-&gt;turret]].] (if: _castleLevel is &quot;ground&quot;)[Or you may exit the $turret (if: $decadeNumber is in (a:1030))[up and ]to the ($directionJoined: $leftOnScreen, $upOnScreen) into the [[(either: $baileyAdj1, $baileyAdj2, $baileyAdj3) $bailey-&gt;main courtyard]].]]{



}(if: $architecture is &quot;arena&quot;)[You are on the $corner stand. From here you can go $leftOnScreen to the [[$downOnScreen stand-&gt;gatehouse wall]] or $upOnScreen [[($toThePhrase:8)-&gt;castle room 8]]. (if: _castleLevel is &quot;ground&quot;)[Or you may exit the stand to the ($directionJoined: $leftOnScreen, $upOnScreen) into the [[central arena-&gt;main courtyard]].]]{


}(if: $architecture is &quot;mosque&quot;)[You are $inOrAtopMinaret the $corner minaret. (if: _castleLevel is &quot;ground&quot;) [From here you can go $leftOnScreen through the [[($ern:$downOnScreen) riwaq-&gt;gatehouse wall]] or $upOnScreen through the [[($ern: $rightOnScreen) riwaq-&gt;castle room 8]] that run along the sides of the sahn.] You can (if: _castleLevel is &quot;ground&quot;)[also](else:)[only] go [[$turretDirection some steps-&gt;turret]].]{

}]

</tw-passagedata><tw-passagedata pid="208" name="castle room 5" tags="" position="6271,2084" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 5)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
($refreshSentences:)
(set: $corner to ($directionJoined: $rightOnScreen, $upOnScreen))

(set: $castleLevel to $castleLevel * -1)

(set: $inOrOnBattlements to (cond: 
	$castleLevel is -1, &quot;in&quot;,
	$castleLevel is 1, &quot;on the battlements of&quot;,
	&quot;&quot;))
	
(set: $inOrAtopMinaret to (cond: 
	$castleLevel is -1, &quot;in&quot;,
	$castleLevel is 1, &quot;at the top of&quot;,
	&quot;&quot;
	))	
	
(set: $turretDirection to (cond: 
		$castleLevel is -1, &quot;up&quot;,
		$castleLevel is 1, &quot;down&quot;,
		&quot;&quot;
		))
(set: _castleLevel to (cond: 	
		$castleLevel is -1, &quot;ground&quot;,
		$castleLevel is 1, &quot;upper&quot;,
		&quot;&quot;
		))
(set: _alongOrThrough to (cond:
		$decadeNumber is 1960, &quot;along&quot;,
		$castleLevel is -1, &quot;within&quot;,
		$castleLevel is 1, &quot;along&quot;,
		&quot;&quot;
		))
}
(if: $architecture is &quot;castle&quot;)[(border-color: blue) + (border:&quot;solid&quot;) + (b4r-size:4) + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[(if:$castleLevel is -1)[$complexSentence.](else:)[You are on the $battlements of the $corner $turret.] From here you can go $leftOnScreen _alongOrThrough the [[$upOnScreen $wall-&gt;rear wall]] or (if: $decadeNumber is in (a:1030))[down and to the] [[$downOnScreen-&gt;castle room 8]] ($toThePhrase:8). (if: $decadeNumber is in $castles)[You can also go [[$turretDirection some steps-&gt;castle room 5]].] (if: _castleLevel is &quot;ground&quot;)[Or you may exit the $turret to the ($directionJoined: $rightOnScreen, $downOnScreen) $forceSpace into the [[flank walk]].]]]



(if: $architecture is &quot;arena&quot;)[(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4) + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are atop the $corner stand. From here you can go $downOnScreen [[($toThePhrase: 8)-&gt;castle room 8]] or head $leftOnScreen behind the [[main stand-&gt;rear wall]]. You can also go ($directionJoined: $leftOnScreen, $downOnScreen) into the [[central arena-&gt;main courtyard]].[]]]{


}(if: $architecture is &quot;mosque&quot;)[You are $inOrAtopMinaret the $corner minaret. (if: _castleLevel is &quot;ground&quot;) [From here you can go $downOnScreen through the [[($ern: $rightOnScreen) riwaq-&gt;castle room 8]] that runs along the sides of the sahn.] You can (if: _castleLevel is &quot;ground&quot;)[also](else:)[only] go [[$turretDirection some steps-&gt;castle room 5]].]{
}


</tw-passagedata><tw-passagedata pid="209" name="rear turret" tags="" position="5302,2089" size="100,100">{
(set: $corner to ($directionJoined: $leftOnScreen, $upOnScreen))

(set: $castleLevel to $castleLevel * -1)

(set: $inOrOnBattlements to (cond: 
	$castleLevel is -1, &quot;in&quot;,
	$castleLevel is 1, &quot;on the battlements of&quot;,
	&quot;&quot;
	))	

(set: $inOrAtopMinaret to (cond: 
	$castleLevel is -1, &quot;in&quot;,
	$castleLevel is 1, &quot;at the top of&quot;,
	&quot;&quot;
	))	
	
(set: $turretDirection to (cond: 
		$castleLevel is -1, &quot;up&quot;,
		$castleLevel is 1, &quot;down&quot;,
		&quot;&quot;
		))
(set: _castleLevel to (cond: 	
		$castleLevel is -1, &quot;ground&quot;,
		$castleLevel is 1, &quot;upper&quot;,
		&quot;&quot;
		))
(set: _alongOrThrough to (cond:
		$decadeNumber is 1960, &quot;along&quot;,
		$castleLevel is -1, &quot;within&quot;,
		$castleLevel is 1, &quot;along&quot;,
		&quot;&quot;
		))
}	
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4) + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[(if: $architecture is &quot;castle&quot;)[You are $inOrOnBattlements the $corner $turret. From here you can go $rightOnScreen _alongOrThrough the [[$upOnScreen $wall-&gt;rear wall]] or (if: $decadeNumber is in (a:1030))[down and to the] $downOnScreen _alongOrThrough the [[$leftOnScreen $wall-&gt;left wall]]. (if: $decadeNumber is in $castles)[You can also go [[$turretDirection some steps-&gt;rear turret]].] (if: _castleLevel is &quot;ground&quot;)[Or you may exit the $turret to the ($directionJoined: $rightOnScreen, $downOnScreen) into the [[side walk]].]]{


}(if: $architecture is &quot;arena&quot;)[You are on the $corner stand of the arena. From here you can go down some steps to the $downOnScreen [[($toThePhrase: 7)-&gt;left wall]] or head $rightOnScreen [[behind the main stand-&gt;rear wall]]. You can also go ($directionJoined: $rightOnScreen, $downOnScreen) into the [[central arena-&gt;main courtyard]].]{


}(if: $architecture is &quot;mosque&quot;)[You are $inOrAtopMinaret the $corner minaret. (if: _castleLevel is &quot;ground&quot;) [From here you can go $downOnScreen through the [[($ern: $leftOnScreen) riwaq-&gt;left wall]] that run along the sides of the sahn.] You can (if: _castleLevel is &quot;ground&quot;)[also](else:)[only] go [[$turretDirection some steps-&gt;rear turret]].]{

}]</tw-passagedata><tw-passagedata pid="210" name="rear wall" tags="" position="5774,2086" size="100,100">{
(set: $castleLevel to $castleLevel * -1)
(if: $architecture is &quot;castle&quot;)[
	(if: $castleLevel is 1)[
		(set: _castleLevel to &quot;ground&quot;)
		(set: $inOrOn to &quot;in&quot;)]
	(if: $castleLevel is -1)[
		(set: _castleLevel to &quot;upper&quot;)
		(set: $inOrOn to &quot;on&quot;)]
		]

(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4) + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[(if: $architecture is &quot;castle&quot;)[You are $inOrOn the ($ern: $upOnScreen) $wall. From here you can (if: $decadeNumber is in $monasteries)[step out (if: $decadeNumber is in (a:1030))[and down the slope ]into the [[(either: $baileyAdj1, $baileyAdj2,$baileyAdj3) garth-&gt;rear walk]],] head  [[$leftOnScreen-&gt;rear turret]] to the ($directionJoined: $leftOnScreen, $upOnScreen) $turret, or [[$rightOnScreen-&gt;castle room 5]] to the ($directionJoined: $rightOnScreen, $upOnScreen) $turret.]

(if: $architecture is &quot;arena&quot;)[You are behind and beneath the main stand. From here you can go up some steps to the [[$leftOnScreen-&gt;rear turret]] to the top of the ($directionJoined: $leftOnScreen, $upOnScreen) stand or [[$rightOnScreen-&gt;castle room 5]] to the top of the ($directionJoined: $rightOnScreen, $upOnScreen) corner stand. ]
]}

</tw-passagedata><tw-passagedata pid="211" name="main courtyard" tags="" position="5824,2879" size="100,100">{
(if: $architecture is &quot;castle&quot;)[(set: $castleLevel to 1)]

(if: $architecture is &quot;castle&quot;)[(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4) + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are in the $castleword $bailey. Before you, (if: $decadeNumber is in (a:1020))[up a slope] to the $upOnScreen, looms the [[$castleKeep-&gt;castle keep]]. To the $downOnScreen(if: $decadeNumber is in (a:1030))[, down an icy slope] is the [[$gatehouse-&gt;gatehouse]]. From here you may also walk (if: $decadeNumber is in (a:1030))[up and ]around the $keep to the [[$leftOnScreen-&gt;side walk]] or to the [[$rightOnScreen-&gt;flank walk]]. Or you may head (if: $decadeNumber is in (a:1030))[downhill] to the [[($directionJoined: $rightOnScreen, $downOnScreen) $turret-&gt;turret]] , or  (if: $decadeNumber is in (a:1030))[descend a slope to the] [[($directionJoined: $leftOnScreen, $downOnScreen) ($toThePhrase: 3)-&gt;castle room 3]]. []][]]


(if: $architecture is &quot;arena&quot;)[(border-color: blue) + (border:&quot;solid&quot;) + (b4r-size:4) + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[(set: $thisRoomsNumber to 5)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
($refreshSentences:)
$complexSentence. From here, you can climb up upon the stands to the [[($directionJoined: $leftOnScreen, $upOnScreen)-&gt;rear turret]], [[$upOnScreen-&gt;castle keep]], [[($directionJoined: $rightOnScreen, $upOnScreen)-&gt;castle room 5]] or [[($directionJoined: $rightOnScreen, $downOnScreen)-&gt;turret]]. Alternatively, you may go $rightOnScreen [[($toThePhrase:8)-&gt;castle room 8]], $leftOnScreen [[($toThePhrase:7)-&gt;left wall]], or ($directionJoined: $leftOnScreen, $downOnScreen) [[($toThePhrase:3)-&gt;castle room 3]]. Lastly, you have the option of heading $downOnScreen to the [[entry tower-&gt;gatehouse]].][]]


(if: $architecture is &quot;mosque&quot;)[(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4) + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are in the sahn of the great mosque, surrounded on three sides by columned riwaqs and to the $upOnScreen by the great domed mosque itself. From here, you can go [[$rightOnScreen-&gt;castle room 8]] or [[$leftOnScreen -&gt;left wall]] to the shade of the riwaqs, [[$downOnScreen-&gt;gatehouse]] to the entrance, or enter the great mosque to the [[$upOnScreen-&gt;castle keep]].[]]

]



}</tw-passagedata><tw-passagedata pid="212" name="side walk" tags="" position="5391,2486" size="100,100">(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4) + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[(if: $architecture is &quot;castle&quot;)[(set: $castleLevel to 1) You are in the $castleword $bailey, on a grassy walk between the $keep and the ($ern: $leftOnScreen) wall. From here you may go (if: $decadeNumber is in (a:1030))[down and to the ]($directionJoined: $rightOnScreen, $downOnScreen) to the [[main part of the $bailey-&gt;main courtyard]] or (if: $decadeNumber is in (a:1030))[up and to the] ($directionJoined: $rightOnScreen, $upOnScreen) to [[the rear $bailey behind the $keep-&gt;rear walk]]. Alternatively, you may go (if: $decadeNumber is in (a:1030))[up a slope to the] ($directionJoined: $leftOnScreen, $upOnScreen) to the [[($directionJoined: $leftOnScreen, $upOnScreen) $turret-&gt;rear turret]]. 
]
]</tw-passagedata><tw-passagedata pid="213" name="flank walk" tags="" position="6074,2406" size="100,100">(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4) + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[(if: $architecture is &quot;castle&quot;)[(set: $castleLevel to 1) You are in the $castleword $bailey, on a pebbled walk between the $keep and the ($ern: $rightOnScreen) wall. From here you may go (if: $decadeNumber is in (a:1030))[down a slope to the]($directionJoined: $leftOnScreen, $downOnScreen) to the [[main part of the $bailey-&gt;main courtyard]] or (if: $decadeNumber is in (a:1030))[up a little to the]($directionJoined: $leftOnScreen, $upOnScreen) to [[the rear $bailey behind the $keep-&gt;rear walk]]. Alternatively, you may go (if: $decadeNumber is in (a:1030))[up and to the] ($directionJoined: $rightOnScreen, $upOnScreen) to the [[($directionJoined: $rightOnScreen, $upOnScreen) $turret-&gt;castle room 5]]. 
]]</tw-passagedata><tw-passagedata pid="214" name="rear walk" tags="" position="5758,2225" size="100,100">(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4) + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[(if: $architecture is &quot;castle&quot;)[(set: $castleLevel to 1) You are on a grassy walk behind the $keep, within the shadow of the ($ern: $upOnScreen) wall. From here you may go (a:1030))[down a little to the] ($directionJoined: $leftOnScreen, $downOnScreen) to a [[grassy walk running down the side of the $keep-&gt;side walk]]  or (a:1030))[down and to the] ($directionJoined: $rightOnScreen, $downOnScreen) to [[a pebbled walk-&gt;flank walk]]. 
]
]</tw-passagedata><tw-passagedata pid="215" name="castle room 0" tags="" position="6018,2610" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 0)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
($refreshSentences:)

(border-color: black) + (border:&quot;solid&quot;) + (b4r-size:4) + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence. From here you may go [[$leftOnScreen-&gt;castle keep]].
[]]}</tw-passagedata><tw-passagedata pid="216" name="castle room 4" tags="" position="5577,2482" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 4)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
($refreshSentences:)
}
(border-color: purple) + (border:&quot;solid&quot;) + (b4r-size:4) + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence. From here you may go [[$rightOnScreen-&gt;main stairwell 1]].[] ]</tw-passagedata><tw-passagedata pid="217" name="castle room 1" tags="" position="5843,2482" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 1)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
($refreshSentences:)
}
(border-color: white) + (border:&quot;solid&quot;) + (b4r-size:4) + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence. From here you may go [[$leftOnScreen-&gt;main stairwell 1]] to the main stairwell.[]]</tw-passagedata><tw-passagedata pid="218" name="castle room 2" tags="" position="5576,2359" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 2)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
($refreshSentences:)
}
(border-color: (rgb: 255, 100, 100)) + (border:&quot;solid&quot;) + (b4r-size:4) + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence. From here you may go [[$rightOnScreen-&gt;main stairwell 2]].

]</tw-passagedata><tw-passagedata pid="219" name="attic right" tags="" position="5826,2357" size="100,100">{(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4) + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[(if: $architecture is &quot;castle&quot;)[You are on the high $battlements at the top of the $castleKeep. From here you may go $leftOnScreen into the [[stairhouse-&gt;main stairwell 2]].] 

[(if: $architecture is &quot;arena&quot;)[You are in the high cheap seats at the top of the ampitheatre. From here you may go $leftOnScreen to the [[ampitheatre steps-&gt;main stairwell 2]].] 
]

[(if: $architecture is &quot;mosque&quot;)[You are high up on a cool Mashrabiya by the great Mosque of Aleppo. Through the latticework you can see the city. From here you may go $leftOnScreen to the [[auxiliary steps-&gt;main stairwell 2]].] 
]

]
}</tw-passagedata><tw-passagedata pid="220" name="castle room 6" tags="" position="5843,2749" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 6)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
($refreshSentences:)
}
(border-color: cyan) + (border:&quot;solid&quot;) + (b4r-size:4) + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence. 

From here you may go [[$leftOnScreen-&gt;main stairwell -1]]. ]</tw-passagedata><tw-passagedata pid="221" name="castle room 9" tags="" position="5558,2744" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 9)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
($refreshSentences:)
}
(border-color: (rgb: 155, 100, 0)) + (border:&quot;solid&quot;) + (b4r-size:4) + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence. From here you may go [[$upOnScreen-&gt;main stairwell -1]]. []]</tw-passagedata><tw-passagedata pid="222" name="gatehouse wall" tags="" position="6034,3022" size="100,100">{

(set: $castleLevel to $castleLevel * -1)
(if: $architecture is &quot;castle&quot;)[
	(if: $castleLevel is 1)[
		(set: _castleLevel to &quot;ground&quot;)
		(set: $inOrOn to &quot;in&quot;)]
	(if: $castleLevel is -1)[
		(set: _castleLevel to &quot;upper&quot;)
		(set: $inOrOn to &quot;on&quot;)]
		]
}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4) + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[(if: $architecture is &quot;castle&quot;)[You are $inOrOn the $gatehouse $wall. From here you can (if: $decadeNumber is in $monasteries)[step out into the [[(either: $baileyAdj1, $baileyAdj2, $baileyAdj3) garth-&gt;main courtyard]],] head [[$rightOnScreen-&gt;turret]] to the ($directionJoined: $rightOnScreen, $downOnScreen) $turret, or [[$leftOnScreen-&gt;gatehouse]] to the $gatehouse.]{


}(if: $architecture is &quot;arena&quot;)[You are on the $rightOnScreen half of the $downOnScreen stand. From here you can go [[$rightOnScreen-&gt;turret]] to the ($directionJoined: $rightOnScreen, $downOnScreen) corner stand, or [[$leftOnScreen-&gt;gatehouse]] to the entry tower.]{


}(if: $architecture is &quot;mosque&quot;)[You are walking through the ($ern:$downOnScreen) riwaq at the ($directionJoined: $rightOnScreen, $downOnScreen) corner of the sahn. From here you can go [[$rightOnScreen-&gt;turret]] to the ($directionJoined: $rightOnScreen, $downOnScreen) minaret, or [[$leftOnScreen-&gt;gatehouse]] to the portal. You can also simply step out from the shade of the riwaq into the [[open courtyard-&gt;main courtyard]]]

]

</tw-passagedata><tw-passagedata pid="223" name="castle keep" tags="" position="5852,2617" size="100,100">{(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4) + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[(if: $architecture is &quot;castle&quot;)[You are in the entrance to the $castleKeep. From here you may go [[$rightOnScreen-&gt;castle room 0]] ($toThePhrase: 0),[[$leftOnScreen-&gt;castle room 7]] ($toThePhrase: 7), [[$upOnScreen-&gt;main stairwell 0]] to a stairwell or [[$downOnScreen-&gt;main courtyard]] to the $castleword $bailey.]


(if: $architecture is &quot;arena&quot;)[You are in the seating area of the main stand of the ampitheatre, to the $upOnScreen of the central arena. From here you may go [[$rightOnScreen-&gt;castle room 0]] ($toThePhrase: 0), [[$leftOnScreen-&gt;main stairwell 0]] to the main stepway, [[$downOnScreen-&gt;main courtyard]] to the central arena or [[$upOnScreen-&gt;castle room 7]] ($toThePhrase: 7)]


(if: $architecture is &quot;mosque&quot;)[You are in the masjid of the great mosque, beneath its enormous and splendid dome. From here you may go [[$rightOnScreen-&gt;castle room 0]] ($toThePhrase: 0), [[$leftOnScreen-&gt;main stairwell 0]] to a discrete staircase, [[$upOnScreen-&gt;castle room 7]] ($toThePhrase: 7) or exit the mosque to the [[$downOnScreen-&gt;main courtyard]].]
]
}</tw-passagedata><tw-passagedata pid="224" name="main stairwell 1" tags="" position="5707,2482" size="100,100">{(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4) + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[(if: $architecture is &quot;castle&quot;)[You are on a stairwell that rises through the $castleKeep. From here you can go [[$leftOnScreen-&gt;castle room 4]] ($toThePhrase:4) or [[$rightOnScreen-&gt;castle room 1]] ($toThePhrase:1) . Or you can go [[up-&gt;main stairwell 2]] or [[down-&gt;main stairwell 0]] the stairwell.]

(if: $architecture is &quot;arena&quot;)[You are on a flight of steps leading back and up towards the top of the main stand. From here you can go [[$leftOnScreen-&gt;castle room 4]] ($toThePhrase:4) or [[$rightOnScreen-&gt;castle room 1]] ($toThePhrase:1). Or you can go [[up-&gt;main stairwell 2]] or [[down-&gt;main stairwell 0]] the ampitheatre steps.]

(if: $architecture is &quot;mosque&quot;)[You are on a flight of steps through the auxiliary rooms that support the mosque. From here you can go [[$leftOnScreen-&gt;castle room 4]] ($toThePhrase:4) or [[$rightOnScreen-&gt;castle room 1]] ($toThePhrase:1). Or you can go [[up-&gt;main stairwell 2]] or [[down-&gt;main stairwell 0]] the steps.]
]}</tw-passagedata><tw-passagedata pid="225" name="main stairwell 2" tags="" position="5702,2357" size="100,100">{(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4) + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[(if: $architecture is &quot;castle&quot;)[You are at the top of a stairwell that rises through the $castleKeep. From here you can go [[$leftOnScreen-&gt;castle room 2]] ($toThePhrase:2) or [[$rightOnScreen-&gt;attic right]] to the high $battlements. Or you can head [[down the stairwell-&gt;main stairwell 1]].]


(if: $architecture is &quot;arena&quot;)[You are at the top of a flight of steps in the main stand of the ampitheatre. From here you can go [[$leftOnScreen-&gt;castle room 2]] ($toThePhrase:2) or [[$rightOnScreen-&gt;attic right]] to the cheap seats. Or you can head [[down the steps-&gt;main stairwell 1]].
]

(if: $architecture is &quot;mosque&quot;)[You are at the top of a flight of steps. From here you can go [[$leftOnScreen-&gt;castle room 2]] ($toThePhrase:2) or [[$rightOnScreen-&gt;attic right]]. Or you can head [[down the steps-&gt;main stairwell 1]].
]
]}</tw-passagedata><tw-passagedata pid="226" name="main stairwell -1" tags="" position="5703,2745" size="100,100">{(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4) + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[(if: $architecture is &quot;castle&quot;)[You are in the basement of the $castleKeep, at the foot of the main stairwell. From here you can go [[$downOnScreen-&gt;castle room 9]] ($toThePhrase:9) or [[$rightOnScreen-&gt;castle room 6]] ($toThePhrase:6). Alternatively, you may go [[up the stairwell-&gt;main stairwell 0]].]

(if: $architecture is &quot;arena&quot;)[You are in the underground hypogeum of the ampitheatre, at the foot of the main stairwell. From here you can go [[$downOnScreen-&gt;castle room 9]] ($toThePhrase:9) or [[$rightOnScreen-&gt;castle room 6]] ($toThePhrase:6). Alternatively, you may go [[up the steps-&gt;main stairwell 0]] to the ampitheatre.]

(if: $architecture is &quot;mosque&quot;)[You are in the darkness beneath the mosque, protected from the heat of the day. From here you can go [[$downOnScreen-&gt;castle room 9]] ($toThePhrase:9) or [[$rightOnScreen-&gt;castle room 6]] ($toThePhrase:6). Alternatively, you may go [[up the steps-&gt;main stairwell 0]] to the mosque.]
]}</tw-passagedata><tw-passagedata pid="227" name="main stairwell 0" tags="" position="5706,2618" size="100,100">{(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4) + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[(if: $architecture is &quot;castle&quot;)[You are on a stairwell that rises through the $castleKeep. From here you can go [[up the stairwell-&gt;main stairwell 1]] or [[down the stairwell-&gt;main stairwell -1]]. Or you can exit the stairwell to the [[$keep&#39;s gate-&gt;castle keep]].]

[(if: $architecture is &quot;arena&quot;)[You are on a flight of steps leading back and [[up-&gt;main stairwell 1]] towards the top of the main stand. There is also an alternative flight of steps that heads down [[underground into the hypogeum-&gt;main stairwell -1]]. Or you can exit the steps to the [[main seating area-&gt;castle keep]].]]

[(if: $architecture is &quot;mosque&quot;)[You are on a discreet flight of steps which you can take [[up-&gt;main stairwell 1]] to a mezzanine or down [[beneath the mosque-&gt;main stairwell -1]]. Or you can exit the steps to the [[masjid-&gt;castle keep]].]]
]
}</tw-passagedata><tw-passagedata pid="228" name="adjust start room" tags="startup" position="171,1463" size="100,100">{
(set: $adjustStartRoom to
(macro: [
	(if: $architecture is in (a:&quot;block&quot;))
		[(set: $startRoom to 
		(cond: 
			$directionIn is &quot;south&quot;, &quot;block entrance 1&quot;,
			$directionIn is &quot;west&quot;, &quot;block entrance 4&quot;,
			$directionIn is &quot;north&quot;, &quot;block entrance 3&quot;,
			$directionIn is &quot;east&quot;, &quot;block entrance 2&quot;,
			&quot;Error: directionIn not properly set for setStartRoom: block&quot;
		))
		]
	(if: $architecture is in (a: &quot;church&quot;, &quot;cathedral&quot;))
		[
		(set: $startRoom to &quot;narthex&quot;)
		]
	(if: $architecture is in (a: &quot;chingle&quot;))
		[
		(set: $startRoom to &quot;bridge over the moat&quot;)
		]		
	(if: $architecture is in (a: &quot;boat&quot;, &quot;ship&quot;))
		[
		(set: $startRoom to &quot;deck&quot;)
		]
	(if: $architecture is in (a: &quot;pit&quot;))
		[
		(set: $startRoom to &quot;pit entrance&quot;)
		]
	(if: $architecture is in (a: &quot;house&quot;, &quot;mansion&quot;))
		[
		(set: $startRoom to &quot;entrance hall&quot;)
		]
	(if: $architecture is in (a: &quot;castle&quot;, &quot;arena&quot;, &quot;mosque&quot;))
		[
		(set: $startRoom to &quot;gatehouse&quot;)
		]
	(if: $architecture is in (a:&quot;souk&quot;, &quot;lakeside&quot;))
		[
		($setSoukStart:)
		]
	(if: $architecture is in (a:&quot;square&quot;))
		[
		(set: $startRoom to &quot;guillotined heads&quot;)
		]
	(if: $architecture is in (a:&quot;tower&quot;))
		[(set: $startRoom to 
		(cond: 
			$directionIn is &quot;south&quot;, &quot;tower entrance 2&quot;,
			$directionIn is &quot;west&quot;, &quot;tower entrance 2&quot;,
			$directionIn is &quot;north&quot;, &quot;tower entrance&quot;,
			$directionIn is &quot;east&quot;, &quot;tower entrance&quot;,
			&quot;Error: directionIn not properly set for setStartRoom: tower&quot;
		))
		]
		(output-data:&quot;&quot;)
		]
		))
	}

&lt;!--Dummy code to create arrows, in interface, to called functions --&gt;
[[ -&gt;set default start room]]
[[ -&gt;set souk start]]</tw-passagedata><tw-passagedata pid="229" name="set directions" tags="startup" position="198,1098" size="100,100">{
(set: $setDirections to
(macro: 
	[
	($setHilliness:)
	($setDefaultDirections:) 
	(if: $architecture is in (a: &quot;square&quot;))
		[
		(set: $upOnScreen to &quot;south&quot;)
		(set: $downOnScreen to &quot;north&quot;)
		(set: $leftOnScreen to &quot;east&quot;)
		(set: $rightOnScreen to &quot;west&quot;)
		]
	(if: $architecture is in (a: &quot;pit&quot;))
		[
		($rotateMapByRandom90:)
		($randomFlipLR:)
		($randomFlipUD:)
		]
	(if: $architecture is in (a: &quot;church&quot;, &quot;cathedral&quot;))
		[
		($setDirectionsForFixedEntry:)
		($randomFlipLR:)
		]
	(if: $architecture is in (a: &quot;boat&quot;, &quot;ship&quot;))
		[
		($setDirectionsForFixedEntry:)
		]
	(if: $architecture is in (a: &quot;house&quot;, &quot;mansion&quot;))
		[
		($setDirectionsForFixedEntry:)
		($randomFlipLR:)
		]
	(if: $architecture is in (a: &quot;castle&quot;, &quot;arena&quot;, &quot;mosque&quot;))
		[
		($setDirectionsForFixedEntry:)
		($randomFlipLR:)
		]
	(if: $architecture is in (a: &quot;tower&quot;))
		[
		($randomFlipLR:)
		($randomFlipUD:)
		]
	(if: $architecture is in (a: &quot;souk&quot;, &quot;lakeside&quot;))
		[
		(set: $rightOnScreen to ($rotateCompass90:$directionIn))
		(set: $leftOnScreen to ($oppositeCompass:$rightOnScreen))
		($randomFlipLR:)
		]
	(unless: $architecture is in $exceptionArchitectures)
		[
		(set: $roomTracker to (a:$startRoom, $rightOnScreen))
		($rotateMapByRandom90:)
		(set: $roomTracker to $roomTracker + (a:$startRoom, $rightOnScreen))
		($randomFlipLR:)
		(set: $roomTracker to $roomTracker + (a:$startRoom, $rightOnScreen))
		($randomFlipUD:)
		(set: $roomTracker to $roomTracker + (a:$startRoom, $rightOnScreen))
		]
	(output-data:&quot;&quot;)
	]
	))
	
&lt;!--Dummy code to create arrows, in interface, to called functions --&gt;
[[ -&gt;random flip left right]]
[[ -&gt;random flip up down]]
[[ -&gt;rotate map by random]]
[[ -&gt;set default directions]]
[[ -&gt;set hilliness]]
[[ -&gt;set directions for fixed entry]]
}</tw-passagedata><tw-passagedata pid="230" name="set exception architectures" tags="startup" position="195,1207" size="100,100">{
(set: $setExceptionArchitectures to
(macro: [
	(set: $exceptionArchitectures to 
		(a: &quot;arena&quot;,
		&quot;block&quot;,
		&quot;boat&quot;,
		&quot;castle&quot;, 
		&quot;cathedral&quot;,
		&quot;church&quot;, 
		&quot;house&quot;,
		&quot;lakeside&quot;,
		&quot;mansion&quot;,
		&quot;mosque&quot;,
		&quot;pit&quot;,
		 &quot;ship&quot;,
		 &quot;square&quot;,
		 &quot;souk&quot;,
		 &quot;tower&quot;))
	(output-data:&quot;&quot;)
	]
	))
	
}</tw-passagedata><tw-passagedata pid="231" name="set directions for fixed entry" tags="startup" position="261,926" size="100,100">{
(set: $setDirectionsForFixedEntry to
(macro: [
	(if: $directionIn is &quot;east&quot;)[
		(set: $upOnScreen to &quot;east&quot;)
		(set: $rightOnScreen to &quot;south&quot;)
		(set: $downOnScreen to &quot;west&quot;)
		(set: $leftOnScreen to &quot;north&quot;)]
	(if: $directionIn is &quot;south&quot;)[
		(set: $upOnScreen to &quot;south&quot;)
		(set: $rightOnScreen to &quot;west&quot;)
		(set: $downOnScreen to &quot;north&quot;)
		(set: $leftOnScreen to &quot;east&quot;)]
	(if: $directionIn is &quot;west&quot;)[
		(set: $upOnScreen to &quot;west&quot;)
		(set: $rightOnScreen to &quot;north&quot;)
		(set: $downOnScreen to &quot;east&quot;)
		(set: $leftOnScreen to &quot;south&quot;)]
	(output-data:&quot;&quot;)
	]
	))
	
}</tw-passagedata><tw-passagedata pid="232" name="return to complex" tags="startup" position="39,2276" size="100,100">{
(set: $returnToComplex to
(macro:[
	(set: _returnToComplex to (cond:
		$decadeNum is 0, &quot;complex zero&quot;,
		$decadeNum is 10, &quot;complex one&quot;,
		$decadeNum is 20, &quot;complex two&quot;,
		$decadeNum is 30, &quot;complex three&quot;,
		$decadeNum is 40, &quot;complex four&quot;,
		$decadeNum is 50, &quot;complex five&quot;,
		$decadeNum is 60, &quot;complex six&quot;,
		$decadeNum is 70, &quot;complex seven&quot;,
		$decadeNum is 80, &quot;complex eight&quot;,
		$decadeNum is 90, &quot;complex nine&quot;,
		&quot;Error: bad number in returnToComplex&quot;))
	(output-data:_returnToComplex)
	]
	))
}</tw-passagedata><tw-passagedata pid="233" name="force space" tags="startup" position="13,798" size="100,100">{
(set: $forceSpace to &quot; &quot;)

}</tw-passagedata><tw-passagedata pid="234" name="tower entrance" tags="" position="6638,2948" size="100,100">{

(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4) + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are (print: $towerEntrance of $lociPreps) the $towerEntrance. From here you can go $upOnScreen to the [[$mainStairwell-&gt;tower stairwell 1]]. []
]
}</tw-passagedata><tw-passagedata pid="235" name="tower stairwell 1" tags="" position="6639,2805" size="100,100">{(if: $startRoom is &quot;tower stairwell&quot;)[
	(set: $backToTowerEntrance to $downOnScreen + &quot; to the [[$towerEntrance-&gt;tower entrance]]&quot;)]
(else:) 
	[(set: $backToTowerEntrance to $rightOnScreen + &quot; to the [[$towerEntrance-&gt;tower entrance 2]]&quot;)]
}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4) + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are at the $mainStairwell. From here you can go ($directionJoined: $rightOnScreen, $downOnScreen) [[($toThePhrase: 8)-&gt;tower latrine]] or $backToTowerEntrance. You may also go [[up-&gt;tower stairwell 2]] or [[down-&gt;tower stairwell -1]] the $steps. []
]</tw-passagedata><tw-passagedata pid="236" name="tower morgue" tags="" position="6641,3246" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 9)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
($refreshSentences:)}(border-color: $brown) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence.

From here you may go [[$upOnScreen-&gt;tower stairwell -1]] to the $mainStairwell. 

]</tw-passagedata><tw-passagedata pid="237" name="tower stairwell 2" tags="" position="6624,2511" size="100,100">(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4) + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are at the $mainStairwell. From here you can go $rightOnScreen [[($toThePhrase: 0)-&gt;tower mess]]. You may also go [[up-&gt;tower stairwell 3]] or [[down-&gt;tower stairwell 1]] the $steps. []
]</tw-passagedata><tw-passagedata pid="238" name="tower mess" tags="" position="6756,2506" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 0)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
($refreshSentences:)}(border-color: black) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence.

From here you may go [[$leftOnScreen-&gt;tower stairwell 2]] to the $mainStairwell or [[$downOnScreen-&gt;tower kitchen]] ($toThePhrase: 3). 

]</tw-passagedata><tw-passagedata pid="239" name="tower stairwell 3" tags="" position="6634,2235" size="100,100">(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4) + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are at the $mainStairwell, which only goes [[down-&gt;tower stairwell 2]] from here. From here you can go $rightOnScreen [[($toThePhrase: 4)-&gt;tower lounge]] or $downOnScreen [[($toThePhrase:5)-&gt;tower armory]]. []
]</tw-passagedata><tw-passagedata pid="240" name="tower kitchen" tags="" position="6758,2643" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 3)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
($refreshSentences:)}(border-color: red) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence.

From here you may go [[$upOnScreen-&gt;tower mess]]. 

]</tw-passagedata><tw-passagedata pid="241" name="tower latrine" tags="" position="6783,2948" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 8)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
($refreshSentences:)}(border-color: yellow) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence.

From here you may go [[($directionJoined: $leftOnScreen, $upOnScreen)-&gt;tower stairwell 1]] to the $mainStairwell. 

]</tw-passagedata><tw-passagedata pid="242" name="tower armory" tags="" position="6627,2370" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 5)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
($refreshSentences:)}(border-color: blue) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence.

From here you may go [[$upOnScreen-&gt;tower stairwell 3]] to the $mainStairwell or [[$rightOnScreen-&gt;tiny stairs]] to a $tinyStaircase. 

]</tw-passagedata><tw-passagedata pid="243" name="tower dungeon" tags="" position="6784,3111" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 6)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
($refreshSentences:)}(border-color: cyan) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence.

From here you may go [[$leftOnScreen-&gt;tower stairwell -1]] to the $mainStairwell. 

]</tw-passagedata><tw-passagedata pid="244" name="tower stairwell -1" tags="" position="6639,3113" size="100,100">(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4) + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are at the $mainStairwell, which only goes [[up-&gt;tower stairwell 1]] from here. From here you can go $rightOnScreen [[($toThePhrase: 6)-&gt;tower dungeon]] or $downOnScreen [[($toThePhrase: 9)-&gt;tower morgue]]. []
]</tw-passagedata><tw-passagedata pid="245" name="tower lounge" tags="" position="6774,2231" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 4)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
($refreshSentences:)}(border-color: purple) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence.

From here you may go [[$leftOnScreen-&gt;tower stairwell 3]] to the $mainStairwell or [[$downOnScreen-&gt;tiny stairs]] to a $tinyStaircase. 

]</tw-passagedata><tw-passagedata pid="246" name="tiny stairs 2" tags="" position="6771,1973" size="100,100">(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4) + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are on a $tinyStaircase  at the higher $reaches of the $tower. From here you can go $leftOnScreen [[($toThePhrase: 2)-&gt;tower library]]. You may also go [[up-&gt;tower parapet]] or [[down-&gt;tiny stairs]] the $tinyStaircase. []
]</tw-passagedata><tw-passagedata pid="247" name="tower library" tags="" position="6638,1966" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 2)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
($refreshSentences:)}(border-color: $pink) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence.

From here you may go [[$downOnScreen-&gt;tower nursery]] ($toThePhrase: 1) or [[$rightOnScreen-&gt;tiny stairs 2]] to a $tinyStaircase. 

]</tw-passagedata><tw-passagedata pid="248" name="tower chapel" tags="" position="6639,1801" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 7)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
($refreshSentences:)}(border-color: green) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence.

From here you may go [[$rightOnScreen-&gt;tower parapet]]. 

]</tw-passagedata><tw-passagedata pid="249" name="tower nursery" tags="" position="6643,2095" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 1)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
($refreshSentences:)}(border-color: white) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence.

From here you may go [[$upOnScreen-&gt;tower library]] ($toThePhrase: 2). 

]</tw-passagedata><tw-passagedata pid="250" name="tiny stairs" tags="" position="6774,2368" size="100,100">(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4) + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are on a $tinyStaircase at the higher $reaches of the $tower. From here you can go $leftOnScreen [[($toThePhrase: 5)-&gt;tower armory]] or $upOnScreen [[($toThePhrase: 4)-&gt;tower lounge]]. You may also go [[up-&gt;tiny stairs 2]] the $tinyStaircase. []
]</tw-passagedata><tw-passagedata pid="251" name="tower parapet" tags="" position="6773,1799" size="100,100">(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4) + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are (print: $parapet of $lociPreps) a $parapet at the top of the $tower. You may go through a door here [[($toThePhrase: 7)-&gt;tower chapel]]. Or you can go [[down-&gt;tiny stairs 2]] the $tinyStaircase to the lower $floors of the $tower. (if: $architecture is &quot;pit&quot;)[An alternative is to head [[up-&gt;pit entrance]] to where the $tower emerges into daylight.]  []
]</tw-passagedata><tw-passagedata pid="252" name="brown" tags="startup" position="19,117" size="100,100">{
(set: $brown to (rgb: 155, 100, 0))
}</tw-passagedata><tw-passagedata pid="253" name="pink" tags="startup" position="39,1818" size="100,100">{
(set: $pink to (rgb: 255, 100, 100))
}</tw-passagedata><tw-passagedata pid="254" name="tower entrance 2" tags="" position="6779,2805" size="100,100">(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4) + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are (print: $towerEntrance of $lociPreps) the $towerEntrance. From here you can go $leftOnScreen to the [[$mainStairwell-&gt;tower stairwell 1]]. []
]</tw-passagedata><tw-passagedata pid="255" name="block room 3" tags="" position="2148,71" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 3)
($refreshSentences:)
}
(border-color: red) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{
$complexSentence. 

($room3content:)

From here you may go [[$rightOnScreen-&gt;block entrance 1]] or [[$downOnScreen-&gt;block entrance 2]]. 


}]</tw-passagedata><tw-passagedata pid="256" name="block entrance 1" tags="" position="2286,70" size="100,100">{(set: $thisRoomsNumber to 11)
(set: $thisYear to 10000)}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[(if: $startRoom is &quot;block entrance 1&quot;)[You are in the entrance area of the $complexName.] (else:)[$complexSentence2.] 

From here you may go [[$leftOnScreen-&gt;block room 3]] ($toThePhrase:3) or [[$rightOnScreen-&gt;block staircase]] to the $staircase. 

(if: 9 is in $optionalPaths)[An alternative is to go (link: $upHill_2 + $upOnScreen)[(goto: &quot;passage 6&quot;)]]


(if: $startRoom is &quot;block entrance 1&quot;)[$returnText]
]</tw-passagedata><tw-passagedata pid="257" name="block room 6" tags="" position="2286,206" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 6)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
($refreshSentences:)}(border-color: (rgb: 0, 255, 255)) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{
$complexSentence. 

From here you may go [[$leftOnScreen-&gt;block entrance 2]], [[$rightOnScreen-&gt;block entrance 4]] or [[$downOnScreen-&gt;block entrance 3]]. 





}[]]</tw-passagedata><tw-passagedata pid="258" name="block room 9" tags="" position="2425,345" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 9)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
($refreshSentences:)}
(border-color: (rgb: 155, 100, 0)) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence.
($room9content:)
{
From here you may go [[$leftOnScreen-&gt;block entrance 3]]. 
(if: 2 is in $optionalPaths)[You may also go (link: $upOnScreen)[(goto: &quot;block entrance 4&quot;)]]

}
]</tw-passagedata><tw-passagedata pid="259" name="block entrance 2" tags="" position="2145,218" size="100,100">{(set: $thisRoomsNumber to 12)
(set: $thisYear to 10000)}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[(if: $startRoom is &quot;block entrance 2&quot;)[You are in the entrance area of the $complexName.] (else:)[$complexSentence2.] 

From here you may go [[$upOnScreen-&gt;block room 3]] ($toThePhrase:3) or [[$rightOnScreen-&gt;block room 6]] ($toThePhrase:6). (if: 1 is in $optionalPaths)[You may also go (link: $downOnScreen)[(goto: &quot;block passage 1&quot;)]]


(if: $startRoom is &quot;block entrance 2&quot;)[$returnText]
]</tw-passagedata><tw-passagedata pid="260" name="block entrance 3" tags="" position="2288,346" size="100,100">{(set: $thisRoomsNumber to 14)
(set: $thisYear to 10000)}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[(if: $startRoom is &quot;block entrance 3&quot;)[You are in the entrance area of the $complexName.] (else:)[$complexSentence2.] 

From here you may go [[$upOnScreen-&gt;block room 6]] ($toThePhrase:6) or [[$rightOnScreen-&gt;block room 9]] ($toThePhrase:9). (if: 1 is in $optionalPaths)[You may also go (link: $leftOnScreen)[(goto: &quot;block passage 1&quot;)]]

(if: $startRoom is &quot;block entrance 3&quot;)[$returnText]
]</tw-passagedata><tw-passagedata pid="261" name="block entrance 4" tags="" position="2423,215" size="100,100">{(set: $thisRoomsNumber to 13)
(set: $thisYear to 10000)}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[(if: $startRoom is &quot;block entrance 4&quot;)[You are in the entrance area of the $complexName.] (else:)[$complexSentence2.] 

From here you may go [[$upOnScreen-&gt;block staircase]] or [[$leftOnScreen-&gt;block room 6]] ($toThePhrase:6). (if: 2 is in $optionalPaths)[You may also go (link: $downOnScreen)[(goto: &quot;block room 9&quot;)] ($toThePhrase:9)]

(if: $startRoom is &quot;block entrance 4&quot;)[$returnText]
]</tw-passagedata><tw-passagedata pid="262" name="block passage 1" tags="" position="2145,348" size="100,100">{(set: $thisRoomsNumber to 15)
(set: $thisYear to 10000)}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[(if: $startRoom is &quot;building entrance 2&quot;)[You are in the entrance area.] (else:)[$complexSentence2.] 

From here you may go (link: $upOnScreen)[(goto: &quot;block entrance 2&quot;)] or (link: $rightOnScreen)[(goto: &quot;block entrance 3&quot;)]. 

]</tw-passagedata><tw-passagedata pid="263" name="block staircase" tags="" position="2420,73" size="100,100">{(set: $thisRoomsNumber to 16)
(set: $thisYear to 10000)}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence2, at a staircase which leads (link:&quot;up&quot;)[(goto:&quot;block staircase upstairs&quot;)].  
If you do not wish to go up the staircase, you may instead go [[$leftOnScreen-&gt;block entrance 1]] or [[$downOnScreen-&gt;block entrance 4]]. 
]</tw-passagedata><tw-passagedata pid="264" name="block staircase upstairs" tags="" position="2910,71" size="100,100">{(set: $thisRoomsNumber to 17)
(set: $thisYear to 10000)}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence2, at a staircase which leads (link:&quot;down&quot;)[(goto:&quot;block staircase&quot;)].  

If you do not wish to go down the staircase, you may instead go [[$leftOnScreen-&gt;block room 0]] ($toThePhrase:0) or [[$downOnScreen-&gt;block room 1]] ($toThePhrase:1). 
]</tw-passagedata><tw-passagedata pid="265" name="block room 0" tags="" position="2768,73" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 0)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
($refreshSentences:)}(border-color: black) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{
$complexSentence. 

From here you may go [[$leftOnScreen-&gt;block room 2]] ($toThePhrase:2), [[$rightOnScreen-&gt;block staircase upstairs]] or [[$downOnScreen-&gt;block room 4]] ($toThePhrase:4). 





}[]]</tw-passagedata><tw-passagedata pid="266" name="block room 1" tags="" position="2913,218" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 1)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
($refreshSentences:)}(border-color: white) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{
$complexSentence. 

From here you may go [[$upOnScreen-&gt;block staircase upstairs]], [[$leftOnScreen-&gt;block room 4]] or [[$downOnScreen-&gt;block room 7]]. 





}[]]</tw-passagedata><tw-passagedata pid="267" name="block room 2" tags="" position="2616,73" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 2)
($refreshSentences:)
}
(border-color: $pink) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{
$complexSentence. 

($room2content:)

From here you may go [[$rightOnScreen-&gt;block room 0]] ($toThePhrase:0) or [[$downOnScreen-&gt;block room 5]] ($toThePhrase:5). []


}]</tw-passagedata><tw-passagedata pid="268" name="block room 4" tags="" position="2770,216" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 4)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
($refreshSentences:)}(border-color: purple) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{
$complexSentence. 

From here you may go ($toThePhrase:5), [[$rightOnScreen-&gt;block room 1]] ($toThePhrase:1) or [[$upOnScreen-&gt;block room 0]] ($toThePhrase:0). (if: 3 is in $optionalPaths)[You may also go (link: $leftOnScreen)[(goto: &quot;block room 5&quot;)] ($toThePhrase:5).](unless: 4 is in $optionalPaths)[An alternative is to go (link: $downOnScreen)[(goto: &quot;block room 8&quot;)] ($toThePhrase:8).]





}]</tw-passagedata><tw-passagedata pid="269" name="block room 5" tags="" position="2615,219" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 5)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
($refreshSentences:)}
(border-color: blue) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence.
($room9content:)
{
From here you may go [[$upOnScreen-&gt;block room 2]] ($toThePhrase:2). 
(if: 3 is in $optionalPaths)[You may also go (link: $rightOnScreen)[(goto: &quot;block room 4&quot;)] ($toThePhrase:4).](if: 4 is in $optionalPaths)[An alternative is to go (link: $downOnScreen)[(goto: &quot;block passage 2&quot;)].]


}
]</tw-passagedata><tw-passagedata pid="270" name="block room 7" tags="" position="2915,356" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 7)
($refreshSentences:)
}
(border-color: green) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{
$complexSentence. 

($room7content:)

From here you may go [[$upOnScreen-&gt;block room 1]] ($toThePhrase:1) or [[$leftOnScreen-&gt;block room 8]] ($toThePhrase:8). 


}]</tw-passagedata><tw-passagedata pid="271" name="block room 8" tags="" position="2773,356" size="100,100">{(set: $thisRoomsNumber to 8)
(set: $thisYear to 10000)
($refreshSentences:)}
(border-color: yellow) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence. 

From here you may go [[$rightOnScreen-&gt;block room 7]] ($toThePhrase:7). (unless: 4 is in $optionalPaths)[An alternative is to go (link: $upOnScreen)[(goto: &quot;block room 4&quot;)] ($toThePhrase:4).](if: 4 is in $optionalPaths)[An alternative is to go (link: $leftOnScreen)[(goto: &quot;block passage 2&quot;)].]
]</tw-passagedata><tw-passagedata pid="272" name="block passage 2" tags="" position="2621,355" size="100,100">{(set: $thisRoomsNumber to 18)
(set: $thisYear to 10000)}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[(if: $startRoom is &quot;building entrance 2&quot;)[You are in the entrance area.] (else:)[$complexSentence2.] 

From here you may go (link: $upOnScreen)[(goto: &quot;block room 5&quot;)] ($toThePhrase:5) or (link: $rightOnScreen)[(goto: &quot;block room 8&quot;)] ($toThePhrase:8).

]</tw-passagedata><tw-passagedata pid="273" name="pit entrance" tags="" position="6768,1661" size="100,100">(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4) + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are at the entrance to a $tower. From here you may head [[down-&gt;tower parapet]]. []
]</tw-passagedata><tw-passagedata pid="274" name="Crowley&#39;s temple" tags="" position="1366,1900" size="100,100">{($overrideImage:&quot;1873&quot;)
(set:$crowleyDirection to &quot;outbound&quot;)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are at 36 Blythe Road, at the address of Aleister Crowley&#39;s temple. It looks like an ordinary house! If you wish, you can [[go in-&gt;$startRoom]]. Alternatively you can head back to the [[$nexusWord-&gt;complex seven]].[]]}</tw-passagedata><tw-passagedata pid="275" name="castle room 7" tags="" position="5951,2447" size="100,100">(set: $thisRoomsNumber to 7)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
($refreshSentences:)
(border-color: green) + (border:&quot;solid&quot;) + (b4r-size:4) + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence. From here you can only go [[back-&gt;castle keep]].[]]</tw-passagedata><tw-passagedata pid="276" name="souk 1" tags="" position="2318,3871" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 1)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
(set: $waterway to (cond: 
	$decadeNumber is 760, &quot;Wurm&quot;,
	$decadeNumber is 530, &quot;lake&quot;,
	&quot;lake&quot;)
	)
(if: $decadeNumber is 1980)[($overrideImage: &quot;19801&quot;)]

($refreshSentences:)}(border-color: white) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{
$complexSentence. (if: $architecture is &quot;lakeside&quot;)[The waters of the $waterway lap up upon the bank to the $directionIn.] 

($room1content:)

From here you may go [[($soukLeft:)-&gt;souk 0]] ($toThePhrase:0) or [[($soukRight:)-&gt;souk 2]] ($toThePhrase:2). (if: $startRoom is &quot;souk 1&quot;)[$returnText]
[]
}]</tw-passagedata><tw-passagedata pid="277" name="souk 2" tags="" position="2447,3874" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 2)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
(set: $waterway to (cond: 
	$decadeNumber is 760, &quot;Wurm&quot;,
	$decadeNumber is 530, &quot;lake&quot;,
	&quot;lake&quot;)
	)
(if: $decadeNumber is 1980)[($overrideImage: &quot;19802&quot;)]

($refreshSentences:)}(border-color: $pink) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{
$complexSentence. (if: $architecture is &quot;lakeside&quot;)[The waters of the $waterway lap up upon the bank to the $directionIn.] 

($room2content:)

From here you may go [[($soukLeft:)-&gt;souk 1]] ($toThePhrase:1) or [[($soukRight:)-&gt;souk 3]] ($toThePhrase:3). (if: $startRoom is &quot;souk 2&quot;)[$returnText]
[]
}]</tw-passagedata><tw-passagedata pid="278" name="souk 3" tags="" position="2578,3871" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 3)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
(set: $waterway to (cond: 
	$decadeNumber is 760, &quot;Wurm&quot;,
	$decadeNumber is 530, &quot;lake&quot;,
	&quot;lake&quot;)
	)
(if: $decadeNumber is 1980)[($overrideImage: &quot;19803&quot;)]

($refreshSentences:)}(border-color: red) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{
$complexSentence. (if: $architecture is &quot;lakeside&quot;)[The waters of the $waterway lap up upon the bank to the $directionIn.] 

($room3content:)

From here you may go [[($soukLeft:)-&gt;souk 2]] ($toThePhrase:2) or [[($soukRight:)-&gt;souk 4]] ($toThePhrase:4). (if: $startRoom is &quot;souk 3&quot;)[$returnText]
[]
}]</tw-passagedata><tw-passagedata pid="279" name="souk 4" tags="" position="2715,3867" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 4)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
(set: $waterway to (cond: 
	$decadeNumber is 760, &quot;Wurm&quot;,
	$decadeNumber is 530, &quot;lake&quot;,
	&quot;lake&quot;)
	)
(if: $decadeNumber is 1980)[($overrideImage: &quot;19804&quot;)]

($refreshSentences:)}(border-color: purple) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{
(unless: $decadeNumber is 1980)[$complexSentence.](else:)[You are at the entrance to a bunker by the Berlin wall, which you may access by [[heading down-&gt;bunker]].] (if: $architecture is &quot;lakeside&quot;)[The waters of the $waterway lap up upon the bank to the $directionIn.] 

($room4content:)

From here you may go [[($soukLeft:)-&gt;souk 3]] ($toThePhrase:3) or [[($soukRight:)-&gt;souk 5]] ($toThePhrase:5). (if: $startRoom is &quot;souk 4&quot;)[$returnText] 
[]
}]</tw-passagedata><tw-passagedata pid="280" name="souk 5" tags="" position="2853,3869" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 5)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
(set: $waterway to (cond: 
	$decadeNumber is 760, &quot;Wurm&quot;,
	$decadeNumber is 530, &quot;lake&quot;,
	&quot;lake&quot;)
	)
(if: $decadeNumber is 1980)[($overrideImage: &quot;19805&quot;)]

($refreshSentences:)}(border-color: blue) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{
(unless: $decadeNumber is 1980)[$complexSentence.](else:)[You are at the base of a guard tower overlooking the &quot;death patch&quot; between the east and west sections of the Berlin wall. To enter the tower, you must [[climb up-&gt;guard tower]].] (if: $architecture is &quot;lakeside&quot;)[The waters of the $waterway lap up upon the bank to the $directionIn.] 

($room5content:)

From here you may go [[($soukLeft:)-&gt;souk 4]] ($toThePhrase:4) or [[($soukRight:)-&gt;souk 6]] ($toThePhrase:6). (if: $startRoom is &quot;souk 5&quot;)[$returnText] 
[]
}]</tw-passagedata><tw-passagedata pid="281" name="souk 6" tags="" position="3002,3869" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 6)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
(set: $waterway to (cond: 
	$decadeNumber is 760, &quot;Wurm&quot;,
	$decadeNumber is 530, &quot;lake&quot;,
	&quot;lake&quot;)
	)
(if: $decadeNumber is 1980)[($overrideImage: &quot;19806&quot;)]

($refreshSentences:)}(border-color: cyan) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{
$complexSentence.(if: $architecture is &quot;lakeside&quot;)[The waters of the $waterway lap up upon the bank to the $directionIn.] 

($room6content:)

From here you may go [[($soukLeft:)-&gt;souk 5]] ($toThePhrase:5) or [[($soukRight:)-&gt;souk 7]] ($toThePhrase:7). (if: $startRoom is &quot;souk 6&quot;)[$returnText] 
[]
}]</tw-passagedata><tw-passagedata pid="282" name="souk 7" tags="" position="3135,3871" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 7)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
(set: $waterway to (cond: 
	$decadeNumber is 760, &quot;Wurm&quot;,
	$decadeNumber is 530, &quot;lake&quot;,
	&quot;lake&quot;)
	)
(if: $decadeNumber is 1980)[($overrideImage: &quot;19807&quot;)]

($refreshSentences:)}(border-color: green) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{
$complexSentence. (if: $architecture is &quot;lakeside&quot;)[The waters of the $waterway lap up upon the bank to the $directionIn.] 

($room7content:)

From here you may go [[($soukLeft:)-&gt;souk 6]] ($toThePhrase:6) or [[($soukRight:)-&gt;souk 8]] ($toThePhrase:8). (if: $startRoom is &quot;souk 7&quot;)[$returnText] 
[]
}]</tw-passagedata><tw-passagedata pid="283" name="souk 8" tags="" position="3277,3869" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 8)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
(set: $waterway to (cond: 
	$decadeNumber is 760, &quot;Wurm&quot;,
	$decadeNumber is 530, &quot;lake&quot;,
	&quot;lake&quot;)
	)
(if: $decadeNumber is 1980)[($overrideImage: &quot;19808&quot;)]

($refreshSentences:)}(border-color: yellow) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{
$complexSentence. (if: $architecture is &quot;lakeside&quot;)[The waters of the $waterway lap up upon the bank to the $directionIn.] 

($room8content:)

From here you may go [[($soukLeft:)-&gt;souk 7]] ($toThePhrase:7) or [[($soukRight:)-&gt;souk 9]] ($toThePhrase:9). (if: $startRoom is &quot;souk 8&quot;)[$returnText] 
[]
}]</tw-passagedata><tw-passagedata pid="284" name="souk 9" tags="" position="3433,3872" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 9)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
(set: $waterway to (cond: 
	$decadeNumber is 760, &quot;Wurm&quot;,
	$decadeNumber is 530, &quot;lake&quot;,
	&quot;lake&quot;)
	)
(if: $decadeNumber is 1980)[($overrideImage: &quot;19809&quot;)]

($refreshSentences:)}(border-color: $brown) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{
$complexSentence. (if: $architecture is &quot;lakeside&quot;)[The waters of the $waterway lap up upon the bank to the $directionIn.] 

($room9content:)

From here you may go [[($soukLeft:)-&gt;souk 8]] ($toThePhrase:8). (if: $startRoom is &quot;souk 9&quot;)[$returnText] 
[]
}]</tw-passagedata><tw-passagedata pid="285" name="souk 0" tags="" position="2178,3871" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 0)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
(set: $waterway to (cond: 
	$decadeNumber is 760, &quot;Wurm&quot;,
	$decadeNumber is 530, &quot;lake&quot;,
	&quot;lake&quot;)
	)
(if: $decadeNumber is 1980)[($overrideImage: &quot;19800&quot;)]
($refreshSentences:)(border-color: black) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[
$complexSentence. (if: $architecture is &quot;lakeside&quot;)[The waters of the $waterway lap up upon the bank to the $directionIn.] 

($room0content:)

From here you may go [[($soukRight:)-&gt;souk 1]] ($toThePhrase:1). (if: $startRoom is &quot;souk 0&quot;)[$returnText]




[]
]}</tw-passagedata><tw-passagedata pid="286" name="set souk directions" tags="startup" position="7,2733" size="100,100">{
(set: $soukRight to 
(macro: [
	(set: _soukRight to (cond:
		$thisRoomsNumber &gt;= $soukThreshold, 
			($rotateCompass90: $rightOnScreen),
		$rightOnScreen))
	(output-data: _soukRight)
	]
	))
	
(set: $soukLeft to 
(macro: [
	(set: _soukLeft to (cond:
		$thisRoomsNumber &gt; $soukThreshold, 
			($rotateCompass90: $leftOnScreen),
		$leftOnScreen))
	(output-data: _soukLeft)
	]
	))



}</tw-passagedata><tw-passagedata pid="287" name="set souk start" tags="startup" position="180,1593" size="100,100">{
(set: $setSoukStart to
(macro: [
	(set: _x to ($srandom: 9))
	(set: _soukStart to (str: _x))
	(set: _soukStart to &quot;souk &quot; + _soukStart)
	(set: _y to ($srandom: 3))
	(set: $soukThreshold to _x + 1 + _y)
	(set: $startRoom to _soukStart)
	(output-data: &quot;&quot;)
	]
	))
}</tw-passagedata><tw-passagedata pid="288" name="chingle great hall" tags="" position="2876,1458" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 4)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
($refreshSentences:)}(border-color: purple) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You are in the great hall of the Chingle manor. From here you can go $rightOnScreen, through a doorway to the $downOnScreen of the fireplace, into [[the chapel-&gt;chingle chapel]]. Beside that, heading $downOnScreen, is a door to the [[porch-&gt;chingle entrance hall]]. To the $leftOnScreen, at the $downOnScreen end of the wall, is a door to the [[foot of the stairs-&gt;foot of stairs]]. You can also go through a door in the same wall but to the $upOnScreen which leads [[under the stairs-&gt;under stairs]].}[]]</tw-passagedata><tw-passagedata pid="289" name="chingle chapel" tags="" position="3019,1458" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 7)
($refreshSentences:)
}
(border-color: green) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You are in the chapel of Chingle Hall. From here you can go $upOnScreen [[through a door-&gt;chingle laundry room]], or [[enter the priesthole-&gt;chingle priest&#39;s hole]]. Alternatively, you can go $leftOnScreen to the [[great hall-&gt;chingle great hall]]. }[]] </tw-passagedata><tw-passagedata pid="290" name="chingle kitchen" tags="" position="2885,1273" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 3)
($refreshSentences:)
}
(border-color: red) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You are in the kitchen of Chingle Hall. From here you can take a door to the $rightOnScreen to [[another room-&gt;chingle laundry room]]. A door to the $upOnScreen leads [[outside]].}

(event: when time &gt; 5s)[==A pan flies from where it was hanging and crashes into the wall opposite.

(event: when time &gt; 15s)[==A woman appears, a nun, leaning over the stove as if she is busy cooking.

(event: when time &gt; 20s)[==The nun disappears and you are left in the eerie silence of the kitchen.[]]</tw-passagedata><tw-passagedata pid="291" name="chingle priest&#39;s hole" tags="" position="3164,1458" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 6)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
($refreshSentences:)}(border-color: (rgb: 0, 255, 255)) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You are in the priest&#39;s hole in Chingle Hall. From here you can climb up into the [[chapel-&gt;chingle chapel]].}[]]</tw-passagedata><tw-passagedata pid="292" name="chingle entrance hall" tags="" position="2881,1581" size="100,100">{(set: $thisRoomsNumber to 11)
(set: $thisYear to 10000)}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are in the porch of Chingle Hall. From here you can $downOnScreen to the [[bridge over the moat]], or $upOnScreen into the [[great hall-&gt;chingle great hall]].[]]</tw-passagedata><tw-passagedata pid="293" name="foot of stairs" tags="" position="2746,1456" size="100,100">{(set: $thisRoomsNumber to 13)
(set: $thisYear to 10000)}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are at the foot of the stairs in Chingle Hall. You may go [[up the stairs-&gt;chingle top of stairs]], $rightOnScreen into the [[great hall-&gt;chingle great hall]], or $leftOnScreen into the [[owner&#39;s parlour]].[]]</tw-passagedata><tw-passagedata pid="294" name="under stairs" tags="" position="2750,1335" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 1)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
($refreshSentences:)}(border-color: white) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You are under the stairs in Chingle Hall. The area opens up to the $leftOnScreen into the [[owner&#39;s parlour]]. Alternatively, to the $rightOnScreen is a wooden door which leads into the [[great hall-&gt;chingle great hall]].}

(event: when time &gt; 5s)[==You hear the sobbing of children, and look down to see them clamouring around your feet. Frightened, they have been locked beneath the stairs as punishment.

(event: when time &gt; 5s)[==A moment later, the children are gone, evaporated like shadows with a change in the light. []]</tw-passagedata><tw-passagedata pid="295" name="chingle top of stairs" tags="" position="3478,1113" size="100,100">{(set: $thisRoomsNumber to 22)
(set: $thisYear to 10000)}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are at the top of the stairs in Chingle Hall. From here the landing extends a little way to the [[$leftOnScreen-&gt;left end of chingle landing]] or you can go [[$rightOnScreen-&gt;chingle landing turn]] to where the landing turns to the $downOnScreen. Alternatively, you may go [[down the stairs-&gt;foot of stairs]].[]]</tw-passagedata><tw-passagedata pid="296" name="chingle landing" tags="" position="3611,1251" size="100,100">{(set: $thisRoomsNumber to 18)
(set: $thisYear to 10000)}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are on the upstairs landing in Chingle Hall. From here you can go $upOnScreen to where [[the landing turns $leftOnScreen-&gt;chingle landing turn]], $downOnScreen into the [[study-&gt;chingle room 3]], or walk $rightOnScreen to proceed [[further along the landing-&gt;chingle landing 2]].[]]</tw-passagedata><tw-passagedata pid="297" name="chingle room 3" tags="" position="3610,1393" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 2)
($refreshSentences:)
}
(border-color: $pink) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You are in the study of Chingle Hall. You can exit to the [[main landing-&gt;chingle landing]]. A monk sits at a desk, writing with a quill. You speak to him, but he seems not to hear.}[]] </tw-passagedata><tw-passagedata pid="298" name="chingle landing 2" tags="" position="3739,1254" size="100,100">{(set: $thisRoomsNumber to 19)
(set: $thisYear to 10000)}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are on the upstairs landing of Chingle Hall. The landing branches here, one direction heading $downOnScreen [[towards the John Wall room-&gt;chingle landing 3]] and the other heading $rightOnScreen to [[Eleanor Singleton&#39;s room]]. You can also go [[through a door to the $upOnScreen-&gt;chingle room 4]] or $leftOnScreen [[along the landing-&gt;chingle landing]] in the direction of the stairs.[]]  </tw-passagedata><tw-passagedata pid="299" name="owner&#39;s room" tags="" position="3349,1253" size="100,100">{(set: $thisRoomsNumber to 17)
(set: $thisYear to 10000)}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are in the owner&#39;s bedroom in Chingle Hall. From here you may go $upOnScreen to the [[top of the stairs-&gt;left end of chingle landing]].[]]</tw-passagedata><tw-passagedata pid="300" name="Eleanor Singleton&#39;s room" tags="" position="3871,1255" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 0)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
($refreshSentences:)}(border-color: black) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You are in Eleanor Singleton&#39;s room in Chingle Hall. From here you may go $leftOnScreen to the [[main landing-&gt;chingle landing 2]]. }

(event: when time &gt; 5s)[==You hear the sounds of a woman sobbing.

(event: when time &gt; 15s)[==In the corner of the room, you see a woman giving birth. She screams in pain, and the carpet is drenched in her blood.

(event: when time &gt; 20s)[==The apparition disappears, and all is silent once again.[]]</tw-passagedata><tw-passagedata pid="301" name="chingle landing 3" tags="" position="3744,1390" size="100,100">{(set: $thisRoomsNumber to 16)
(set: $thisYear to 10000)}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are on a narrow landing off the main landing upstairs in Chingle Hall. From here you can go back to the [[main landing-&gt;chingle landing 2]] or $downOnScreen to [[St John Wall&#39;s room]].[]]</tw-passagedata><tw-passagedata pid="302" name="St John Wall&#39;s room" tags="" position="3746,1539" size="100,100">{(set: $thisRoomsNumber to 8)
(set: $thisYear to 10000)}
(border-color: yellow) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You are in St John Wall&#39;s room in Chingle Hall. From here you can head $upOnScreen to [[a narrow landing-&gt;chingle landing 3]].}

(event: when time &gt; 10s)[==You turn to see a man standing motionless in the corner of the room.

(event: when time &gt; 15s)[==As you watch, the man&#39;s arms and legs fall away. Then his head falls from his shoulders and rolls across the floor to your feet. You scream and jump back, but there is nothing and no-one in this room but you. []]</tw-passagedata><tw-passagedata pid="303" name="chingle room 4" tags="" position="3737,1009" size="100,100">{(set: $thisRoomsNumber to 24)
(set: $thisYear to 10000)}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are in the guest bedroom, upstairs in Chingle Hall. From here you may go [[$downOnScreen-&gt;chingle landing 2]] through a door to the landing.[]]</tw-passagedata><tw-passagedata pid="304" name="left end of chingle landing" tags="" position="3349,1111" size="100,100">{(set: $thisRoomsNumber to 21)
(set: $thisYear to 10000)}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are at the ($ern: $leftOnScreen) most end of the landing, upstairs in Chingle Hall. There are two doors here. You may take the one to the [[$downOnScreen-&gt;owner&#39;s room]] or the one to the [[$leftOnScreen-&gt;chingle room 2]]. Or you may [[head back along the landing-&gt;chingle top of stairs]].[]] </tw-passagedata><tw-passagedata pid="305" name="chingle landing turn" tags="" position="3611,1113" size="100,100">{(set: $thisRoomsNumber to 23)
(set: $thisYear to 10000)}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are at a turn in the landing of Chingle Hall. From here you may go [[$leftOnScreen-&gt;chingle top of stairs]] to the top of the stairs, or proceed [[$downOnScreen-&gt;chingle landing]] along the landing.[]]</tw-passagedata><tw-passagedata pid="306" name="chingle room 2" tags="" position="3212,1114" size="100,100">{(set: $thisRoomsNumber to 20)
(set: $thisYear to 10000)}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are in a bathroom, upstairs in Chingle Hall. From here you may go [[$rightOnScreen-&gt;left end of chingle landing]] through a door to the landing.[]]</tw-passagedata><tw-passagedata pid="307" name="owner&#39;s parlour" tags="" position="2595,1455" size="100,100">{(set: $thisRoomsNumber to 12)
(set: $thisYear to 10000)}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are in the owner&#39;s parlor in Chingle Hall. From here there are two exits in the $rightOnScreen wall. At the $upOnScreen end of the wall you can go [[under the stairs-&gt;under stairs]], and at the $downOnScreen end you can go to the [[foot of the stairs-&gt;foot of stairs]].[]]</tw-passagedata><tw-passagedata pid="308" name="bridge over the moat" tags="" position="2881,1731" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 5)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
($refreshSentences:)}
(border-color: blue) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You are on the bridge over the moat at Chingle Hall. From here you can enter the building [[through the door-&gt;chingle entrance hall]] to the $upOnScreen, or head [[back to the roads of Elizabethan Britain-&gt;two fifths up]].}

(event: when time &gt; 5s)[==You hear a bang, and turn to see soldiers fighting on the bridge.

(event: when time &gt; 15s)[==With a sudden gust of wind the soldiers disappear, lost among the spiraling leaves.[]]</tw-passagedata><tw-passagedata pid="309" name="chingle laundry room" tags="" position="3017,1333" size="100,100">{(set: $thisRoomsNumber to 14)
(set: $thisYear to 10000)}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are in a small empty room off the kitchen of Chingle Hall. You can go through a door to the $leftOnScreen into the [[kitchen-&gt;chingle kitchen]], or you can head $downOnScreen to the [[chapel-&gt;chingle chapel]].[]]</tw-passagedata><tw-passagedata pid="310" name="outside" tags="" position="2880,1124" size="100,100">{(set: $thisRoomsNumber to 15)
(set: $thisYear to 10000)}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are on the island surrounded by the Chingle moat, behind the manor. To the $upOnScreen is a [[barn]]. To the $downOnScreen is a door leading into a [[kitchen-&gt;chingle kitchen]].[]]</tw-passagedata><tw-passagedata pid="311" name="barn" tags="" position="2877,990" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 9)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
($refreshSentences:)}
(border-color: (rgb: 155, 100, 0)) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You are in the barn behind Chingle Hall. From here you can see [[an exit-&gt;outside]] leading to the $downOnScreen.}

(event: when time &gt; 5s)[==You turn to see a man, no a boy, hanging by his neck from the rafters. You recoil in horror.

(event: when time &gt; 10s)[==As quickly as it appeared, the hanging boy disappears, and you realize it was but an apparition.
[]]</tw-passagedata><tw-passagedata pid="312" name="toy vendor" tags="" position="4125,811" size="100,100">{($overrideImage:&quot;1791&quot;)
(set: $thisRoomsNumber to 1)}
(border-color: white) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are in a market at the ($directionJoined: $upOnScreen, $leftOnScreen) corner of a square in revolutionary Paris, beneath the shadow of the legendary cathedral of Notre Dame. In the center of the square, a crowd has gathered beside the guillotine while, beside you, a vendor sells grisly execution-themed memorabilia, including a toy guillotine and faux decapitated heads. From here you may [[go $downOnScreen-&gt;prisoner about to die]] to where a prisoner is being prepared for execution, or $rightOnScreen to (link:&quot;the front of the cathedral&quot;)[(goto:&quot;complex nine&quot;)]. []] </tw-passagedata><tw-passagedata pid="313" name="college downstairs" tags="" position="4680,953" size="100,100">{(set: $thisRoomsNumber to 2)
($overrideImage:&quot;17920&quot;)
(border-color: $pink) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are in an arched corridor beneath the college at the ($ern: $leftOnScreen) end of the square. To the $rightOnScreen, [[a crowd gathers-&gt;guillotine right up]] around the guillotine for the day&#39;s executions. Alternatively, you may cut across the square to the ($directionJoined: $downOnScreen, $leftOnScreen) to a [[prominent house-&gt;view from house]]. One other possibility is to [[investigate a flight of spiral steps leading up-&gt;college upstairs]].[] ]}</tw-passagedata><tw-passagedata pid="314" name="college upstairs" tags="" position="4821,951" size="100,100">{($overrideImage:&quot;17903&quot;)
(set: $thisRoomsNumber to 13)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are on the roof of the college, looking down over the square where the guillotine does its deadly work. 

From here, you may [[head down a flight of spiral steps-&gt;college downstairs]], [[hop $downOnScreen to another rooftop-&gt;corner rooftop]], or climb across a wire to the ($directionJoined: $upOnScreen, $leftOnScreen) to [[the roof of Notre Dame cathedral-&gt;notre dame roof]].[]] }</tw-passagedata><tw-passagedata pid="315" name="carmelites" tags="" position="4260,1084" size="100,100">{($overrideImage:&quot;1793&quot;)
(set: $thisRoomsNumber to 3)
(border-color: red) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are in a public square in Paris, beneath the shadow of Notre Dame cathedral. In the center of the square is the guillotine, and beside you a group of terrified Carmelite nuns await execution. From here you can go $upOnScreen towards [[the scaffold itself-&gt;guillotined heads]], or $rightOnScreen towards [[a prominent house-&gt;view from house]]. You may also head $leftOnScreen to where there seems to be [[a commotion-&gt;guards defend guillotine]].[]]  }</tw-passagedata><tw-passagedata pid="316" name="view from house" tags="" position="4526,1085" size="100,100">{($overrideImage:&quot;1794&quot;)
(set: $thisRoomsNumber to 4)
(border-color: purple) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are in the porchway of a prominent house, looking out onto a square in revolutionary Paris. In the center of the square to the $upOnScreen, raised high upon a wooden plinth, looms the forbidding guillotine. Further to the $upOnScreen, at the other side, is the great cathedral of Notre Dame. 

There is no way into the house but, if you like, you can [[try to climb up upon the roof-&gt;guillotine house upstairs]]. Otherwise you may head into the square to [[join the crowd beneath the guillotine-&gt;guillotine right up]], or head $leftOnScreen to where some [[terrified nuns await execution-&gt;carmelites]]. You may also cut ($directionJoined: $upOnScreen, $rightOnScreen) across the corner of the square to [[a college building-&gt;college downstairs]].[]]}</tw-passagedata><tw-passagedata pid="317" name="guards defend guillotine" tags="" position="4136,1086" size="100,100">{($overrideImage:&quot;1795&quot;)
(set: $thisRoomsNumber to 5)
(border-color: blue) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are in a public square in Paris, beneath the shadow of Notre Dame cathedral. A group of guards is attempting to defend the guillotine from a gang of rowdy revolutionaries. From here you can go $upOnScreen towards [[where a prisoner is beng prepared for execution-&gt;prisoner about to die]], or $rightOnScreen towards [[a group of shackled nuns-&gt;carmelites]].[] ]}</tw-passagedata><tw-passagedata pid="318" name="prisoner about to die" tags="" position="4131,953" size="100,100">{($overrideImage:&quot;1796&quot;)
(set: $thisRoomsNumber to 6)}
(border-color: cyan) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are in a public square in Paris, beneath the shadow of Notre Dame cathedral. You are at the foot of the guillotine, where a prisoner is being prepared for execution. From here you can go $downOnScreen to [[where there seems to be a fight going on-&gt;guards defend guillotine]], or you can [[climb up onto the scaffold-&gt;guillotined heads]] You may also head $upOnScreen to [[a market-&gt;toy vendor]] selling execution toys and memorabilia. []] </tw-passagedata><tw-passagedata pid="319" name="guillotined heads" tags="" position="4256,951" size="100,100">{(set: $thisRoomsNumber to 9)
($overrideImage:&quot;1798&quot;) 
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
(border-color: yellow) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are on the scaffold platform, by a basket of severed heads. From here you can go $rightOnScreen across the platform to where [[a headless body-&gt;guillotined body]] is being picked up by guards. Or you can step down from the platform and go $upOnScreen to (link:&quot;Notre Dame cathedral&quot;)[(goto:&quot;complex nine&quot;)], $leftOnScreen to [[where a prisoner is being prepared for the scaffold-&gt;prisoner about to die]], or $downOnScreen to [[where a group of terrified nuns await execution-&gt;carmelites]]. []]}</tw-passagedata><tw-passagedata pid="320" name="guillotined body" tags="" position="4398,950" size="100,100">{($overrideImage: &quot;1799&quot;)
(set: $thisRoomsNumber to 11)
(border-color: $brown) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are on the scaffold platform, by a headless corpse being picked up by guards. You can step down from the scaffold to go $upOnScreen into (link:&quot;Notre Dame cathedral&quot;)[(goto:&quot;complex nine&quot;)] or head $leftOnScreen across the platform towards [[a basket of heads-&gt;guillotined heads]]. You may also go $rightOnScreen towards a [[college-&gt;guillotine right up]]. []]}</tw-passagedata><tw-passagedata pid="321" name="guillotine right up" tags="" position="4521,948" size="100,100">{($overrideImage:&quot;17901&quot;)
(set: $thisRoomsNumber to 12)
(border-color: gray) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are in a square in revolutionary Paris, beneath the shadow of the ominous guillotine. From here you may [[climb up onto the scaffold-&gt;guillotined body]], where guards get ready to carry away the headless corpse of a political criminal. Alternatively, you may head $rightOnScreen into [[an archway beneath the college-&gt;college downstairs]], or $downOnScreen to [[a prominent house-&gt;view from house]].[]]}</tw-passagedata><tw-passagedata pid="322" name="corner rooftop" tags="" position="4681,1088" size="100,100">{($overrideImage:&quot;1792&quot;)
(set: $thisRoomsNumber to 14)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are on a rooftop at the corner of the square, looking down to where the guillotine does its deadly work, and across to the magnificent cathedral of Notre Dame.  

From here, you may head $upOnScreen to the [[roof of the college-&gt;college upstairs]], or $leftOnScreen to the [[roof of a prominent house-&gt;guillotine house upstairs]].[] ]}</tw-passagedata><tw-passagedata pid="323" name="guillotine house upstairs" tags="" position="4531,1220" size="100,100">{($overrideImage:&quot;17902&quot;)
(set: $thisRoomsNumber to 15)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are on the roof of a prominent house with a magnificent view of the cathedral of Notre Dame. Down in the square below, a crowd has gathered to watch the guillotine do her work. You may [[climb down the front of the house-&gt;view from house]] to join them, or head $rightOnScreen to [[another rooftop-&gt;corner rooftop]].[]] }</tw-passagedata><tw-passagedata pid="324" name="bell tower" tags="" position="1945,2571" size="100,100">{($setImage:)
($refreshSentences:)
(set: $thisRoomsNumber to 11)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{(if: $decadeNumber is 1970)[You are in the church of St Vasily the Blessed in Pokrovsky cathedral. From here you may head back to the [[$leftOnScreen-&gt;spire]] or down some steps into the [[crypt]].]}]}</tw-passagedata><tw-passagedata pid="325" name="notre dame roof" tags="" position="4255,813" size="100,100">{($overrideImage:&quot;1797&quot;)
(set: $thisRoomsNumber to 7)}
(border-color: green) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are on the roof of Notre Dame cathedral, overlooking the square where the guillotine does its work. From here you can (link:&quot;climb down to the foot of Notre Dame&quot;)[(goto:&quot;complex nine&quot;)], or climb across a wire to the ($directionJoined: $rightOnScreen, $downOnScreen) to [[the college roof-&gt;college upstairs]].[] ]</tw-passagedata><tw-passagedata pid="326" name="set bailey adj" tags="startup" position="11,2388" size="100,100">{(set: $setBaileyAdj to
(macro: [
	(if: $decadeNumber is in (a: 930))
		[
		(set: $baileyAdj1 to &quot;flowered&quot;)
		(set: $baileyAdj2 to &quot;picturesque&quot;)
		(set: $baileyAdj3 to &quot;beautiful&quot;)
		]
	(else-if: $decadeNumber is in (a: 1030))
		[
		(set: $baileyAdj1 to &quot;sloping, snow covered&quot;)
		(set: $baileyAdj2 to &quot;icy, inclined&quot;)
		(set: $baileyAdj3 to &quot;wintry, sloping&quot;)
		]
	(else-if: $decadeNumber is in (a: 1380))
		[
		(set: $baileyAdj1 to &quot;overgrown&quot;)
		(set: $baileyAdj2 to &quot;wild and weedgrown&quot;)
		(set: $baileyAdj3 to &quot;long untended&quot;)
		]
	(else-if: $decadeNumber is in (a: 1720))
		[
		(set: $baileyAdj1 to &quot;former&quot;)
		(set: $baileyAdj2 to &quot;erstwhile&quot;)
		(set: $baileyAdj3 to &quot;bygone&quot;)
		]
	(else-if: $decadeNumber is in (a: 1780))
		[(if: $bastille is &quot;unstormed&quot;)
			[
			(set: $baileyAdj1 to &quot;&quot;)
			(set: $baileyAdj2 to &quot;&quot;)
			(set: $baileyAdj3 to &quot;&quot;)
			]
		(else:)
			[
			(set: $baileyAdj1 to &quot;ruined&quot;)
			(set: $baileyAdj2 to &quot;rubbled&quot;)
			(set: $baileyAdj3 to &quot;wrecked&quot;)
			]
		]
	(else-if: $decadeNumber is in (a: 1940))
		[
		(set: $baileyAdj1 to &quot;snow covered&quot;)
		(set: $baileyAdj2 to &quot;icy&quot;)
		(set: $baileyAdj3 to &quot;wintry&quot;)
		]
	(else:)[
		(set: $baileyAdj1 to &quot;&quot;)
		(set: $baileyAdj2 to &quot;&quot;)
		(set: $baileyAdj3 to &quot;&quot;)
		]
	(output-data:&quot;&quot;)
		]
		))
		
}</tw-passagedata><tw-passagedata pid="327" name="environ database e - j" tags="startup" position="651,1723" size="100,100">{
		
(set: $farm to 
(macro: [	
	
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;vegetable field&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;paddock, where white stallions graze&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;pig pen&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;rooster&#39;s yard&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;farm house&quot;)]
		(if: $roomNumber is 5) [(set: _prep to &quot;by &quot;)(set: $roomNoun to &quot;water trough&quot;)]
		(if: $roomNumber is 6) [(set: _prep to &quot;by &quot;)(set: $roomNoun to &quot;fox trap&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;grazing pasture&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;field of yellow corn&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;freshly ploughed field&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))

(set: $field to 
(macro: [	
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	(if: $roomNumber is 0) [(set: $roomNoun to &quot;blackened, burned field&quot;)]
	(if: $roomNumber is 1) [(set: $roomNoun to &quot;meadow of white flowers&quot;)]
	(if: $roomNumber is 2) [(set: $roomNoun to &quot;pasture of pink carnations&quot;)]
	(if: $roomNumber is 3) [(set: $roomNoun to &quot;red poppy field&quot;)]
	(if: $roomNumber is 4) [(set: $roomNoun to &quot;field of purple lilacs&quot;)]
	(if: $roomNumber is 5) [(set: $roomNoun to &quot;bluebell field&quot;)]
	(if: $roomNumber is 6) [(set: $roomNoun to &quot;field of cyan lotus flowers&quot;)]
	(if: $roomNumber is 7) [(set: $roomNoun to &quot;meadow of green grass&quot;)]
	(if: $roomNumber is 8) [(set: $roomNoun to &quot;yellow field of wheat&quot;)]
	(if: $roomNumber is 9) [(set: $roomNoun to &quot;muddy field&quot;)]
	(set: $phrase to _prep + $roomAdjective + $roomNoun)
	
	(output-data: &quot;&quot;)
		]
		))
		
(set: $forest to 
(macro: [	
	(set: _prep to &quot;by &quot;)
	(set: $roomAdjective to &quot;a &quot;)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;gnarly oak&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;rope swing&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;brook&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;tree, around which nymph lights shine&quot;)]
		(if: $roomNumber is 4) [(set: $roomAdjective to &quot;some &quot;)(set: $roomNoun to &quot;cliffs&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;mine shaft&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;burned out campfire&quot;)]
		(if: $roomNumber is 7) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;sacred grove&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;fallen tree&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;carcass&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
(set: $frument to 
(macro: [	
	
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;chess room&quot;)]
		(if: $roomNumber is 5) [(set: _prep to &quot;by &quot;)(set: $roomNoun to &quot;spy holes&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;documents room&quot;)]
		(if: $roomNumber is 7) [(set: _prep to &quot;by &quot;)(set: $roomNoun to &quot;prayer mat&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
(set: $greekTemple to 
(macro: [	
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	(if: $decadeNumber is 1870)[
		($house:)
		(set: $domicile to &quot;temple&quot;)]
	($church:)
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;bema&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;forum&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;private prayer room&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;tower&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(set: $narthex to &quot;pronaos&quot;)
		(set: $altar to &quot;adyton&quot;)
		(set: $crossing to &quot;cella&quot;)
		(set: $nave to &quot;naos&quot;)
		(set: $temple to &quot;temple&quot;)
		(set: $spire to &quot;oraculum&quot;)
		(set: $vestry to &quot;opisthodomos&quot;)
		(set: $priestsHole to &quot;priestess&#39;s sanctum&quot;)
		(set: $vapenhus to &quot;vapenhus&quot;)
		(set: $organistsLoft to &quot;organists&#39;s loft&quot;)
		(set: $vapenhus to &quot;weapons sheath&quot;)
		(set: $matrimonialChapel to &quot;porch of the maidens&quot;)
		(set: $reliquary to &quot;snake room&quot;)
		(set: $choirboysStalls to &quot;gallery&quot;)
		(set: $symbols to &quot;symbols&quot;)
		(set: $sacred to &quot;sacred&quot;)
		(set: $saints to &quot;gods&quot;)
		(set: $prophets to &quot;oracles&quot;)
		(set: $vestments to &quot;robes&quot;)
		(set: $hymnals to &quot;sacrificial daggers&quot;)
		(set: $missals to &quot;chants&quot;)
		(set: $liturgicalTexts to &quot;sacred papyri&quot;)
		(set: $clergyHouse to &quot;high priestess&#39;s cell&quot;)
		(output-data: &quot;&quot;)
		]
		))

(set: $hashishQuarter to 
(macro: [	
	
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($village:)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;hashish grower&#39;s&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;hashish bar&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;grower&#39;s bookshop&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;gang den&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))

(set: $house to 
(macro: [	
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($mansion:)
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;chess room&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;study&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;doghouse&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;prayer room&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;rickety staircase&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(set:  $billiardRoom to &quot;chess room&quot;)
		(set:  $boilerRoom to &quot;furnace room&quot;)
		(set:  $brickWall to &quot;brick wall&quot;)
		(set:  $chapel to &quot;prayer room&quot;)
		(set:  $dilapidated to &quot;musty wooden staircase&quot;)
		(set:  $domicile to &quot;house&quot;)
		(set:  $elevator to &quot;shaky steps&quot;)
		(set:  $grandHouse to &quot;house&quot;)
		(set:  $kennels to &quot;doghouse&quot;)
		(set:  $inABrickWall to &quot;in a brick wall&quot;)
		(set: $diningRoom to &quot;dining room&quot;)
		(set: $noisy to &quot;&quot;)
		(set:  $study to &quot;study&quot;)
		(set: $suitsOfArmor to &quot;ornamental weapons and shields&quot;)
		(output-data: &quot;&quot;)
		]
		))
		
(set: $hypogeum to 
(macro: [	
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;the &quot;)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;winch room&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;chamber of the balatrones&quot;)]
		(if: $roomNumber is 2) [(set: $roomAdjective to &quot;the &quot;)(set: $roomNoun to &quot;chamber of the master of ceremonies&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;chamber of the Pantomimi&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;basement area&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;gladiator&#39;s chamber&quot;)]
		(if: $roomNumber is 6) [(set: _prep to &quot;amongst &quot;)(set: $roomNoun to &quot;caged beasts&quot;)]
		(if: $roomNumber is 7) [(set: _prep to &quot;amongst &quot;)(set: $roomNoun to &quot;shackled Christians&quot;)]
		(if: $roomNumber is 8) [(set: _prep to &quot;amongst &quot;)(set: $roomNoun to &quot;wounded gladiators&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;morgue&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))

(set: $industrialCampus to 
(macro: [	
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;the &quot;)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;generator room&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;engineer&#39;s lounge&quot;)]
		(if: $roomNumber is 2) [(set: $roomAdjective to &quot;the &quot;)(set: $roomNoun to &quot;engineer&#39;s library&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;wives&#39; society&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;apartment block&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;fire station&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;quarantine zone&quot;)]
		(if: $roomNumber is 7) [(set: _prep to &quot;amongst &quot;)(set: $roomNoun to &quot;Soviet council hall&quot;)]
		(if: $roomNumber is 8) [(set: _prep to &quot;at &quot;)(set: $roomNoun to &quot;hole in the reactor&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;concrete tombs&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))


(set: $inquisitor to 
(macro: [	
	
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($jail:)
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;torture chamber&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))

(set: $jail to 
(macro: [	
	($building:)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
		(if: $roomNumber is 0) [(set: $roomAdjective to &quot;a pitch black &quot;)(set: $roomNoun to &quot;cell&quot;)]
		(if: $roomNumber is 1) [(set: $roomAdjective to &quot;a well lit &quot;)(set: $roomNoun to &quot;cell&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;library&quot;)]

		(if: $roomNumber is 4) [(set: $roomAdjective to &quot;a purple curtained &quot;)(set: $roomNoun to &quot;cell&quot;)]
		(if: $roomNumber is 5) [(set: $roomAdjective to &quot;a cold &quot;)(set: $roomNoun to &quot;cell&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;prison yard&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(set: $staircase to &quot;stairwell&quot;)
		(set: $towerEntrance to &quot;sally port&quot;)
		(set: $mainStairwell to &quot;stairwell&quot;)
		(set: $tinyStaircase to &quot;narrow staircase&quot;)
		(set: $mainStairwell to &quot;great iron stairwell&quot;)
		(set: $tower to &quot;tower&quot;)
		(set: $parapet to &quot;parapet&quot;)
		(set: $floors to &quot;floors&quot;)
		(set: $top to &quot;top&quot;)
		(set: $reaches to &quot;reaches&quot;)
		(set: $chapel to &quot;chapel&quot;)
		(set: $steps to &quot;steps&quot;)
		
		(set: $castleword to &quot;gulag&quot;)
		(set: $gatehouse to &quot;entry gate&quot;)
		(set: $bailey to &quot;camp grounds&quot;)
		(set: $drawbridge to &quot;approach road&quot;)
		(set: $battlements to &quot;guard walk&quot;)
		(set: $maidensTower to &quot;kitchens&quot;)
		(set: $castleKeep to &quot;main block&quot;)
		(set: $keep to &quot;central block&quot;)
		(set: $gatehouseWall to &quot;front fence&quot;)
		(set: $turret to &quot;watchtower&quot;)
		(set: $sickHall to &quot;infirmary&quot;)
		(set: $wall to &quot;fence&quot;)
		
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))	


(set: $jungle to 
(macro: [	
	
	(set: _prep to &quot;by &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($forest:)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;twisting vine&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;river&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;a golden statue of some naked goddess&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;clearing filled with snakes&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;pit trap&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))

}</tw-passagedata><tw-passagedata pid="328" name="environ database k - q" tags="startup" position="753,1618" size="100,100">{
(set: $kremlin to 
(macro: [		
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($barrack:)
	(if: $roomNumber is 2) [(set: $roomNoun to &quot;book room&quot;)]
	(if: $roomNumber is 3) [(set: $roomAdjective to &quot;&quot;)(set: $roomNoun to &quot;Catherine Hall&quot;)]

	(if: $roomNumber is 4) [(set: $roomNoun to &quot;Soviet premier&#39;s residence&quot;)]
	(if: $roomNumber is 5) [(set: $roomNoun to &quot;arsenal&quot;)]
	(if: $roomNumber is 6) [(set: $roomNoun to &quot;Blagoveschenskaya prison tower&quot;)]
	(if: $roomNumber is 7) [(set: $roomNoun to &quot;Arkhangelskiy Cathedral&quot;)]
	(if: $roomNumber is 8) [(set: $roomNoun to &quot;sick hall&quot;)]
	(if: $roomNumber is 9) [(set: $roomNoun to &quot;mausoleum of Lenin&quot;)]
	(set: $phrase to _prep + $roomAdjective + $roomNoun)
	(set: $castleword to &quot;citadel&quot;)
	(set: $gatehouse to &quot;gatehouse&quot;)
	(set: $bailey to &quot;cathedral square&quot;)
	(set: $drawbridge to &quot;drawbridge&quot;)
	(set: $battlements to &quot;battlements&quot;)
	(set: $maidensTower to &quot;Catherine Hall&quot;)
	(set: $castleKeep to &quot;Grand Kremlin Palace&quot;)
	(set: $keep to &quot;Grand Kremlin Palace&quot;)
	(set: $gatehouseWall to &quot;gatehouse wall&quot;)
	(set: $turret to &quot;tower&quot;)
	(set: $sickHall to &quot;sick hall&quot;)
	(set: $wall to &quot;wall&quot;)
	(output-data: &quot;&quot;)
		]
		))
		
(set: $lakeside to 
(macro: [	
	(set: _prep to &quot;by &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($forest:)
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;rope swing&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;warning sign&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;nymph&#39;s lagoon&quot;)]
		(if: $roomNumber is 4) [(set: $roomAdjective to &quot;a &quot;)(set: $roomNoun to &quot;boat&quot;)]
		(if: $roomNumber is 5) [(set: $roomAdjective to &quot;&quot;)(set: $roomNoun to &quot;marshes&quot;)]
		(if: $roomNumber is 7) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;ruined chapel&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;shore of dead fish&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))

(set: $library to 
(macro: [	
	($mansion:)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;the &quot;)
	(if: $decadeNumber is 820)[(set: $roomAdjective to &quot;the flooded &quot;)]
	(if: $decadeNumber is 420)[(set: $roomAdjective to &quot;the ruins of the &quot;)]
	(if: $roomNumber is 0) [(set: $roomNoun to &quot;cosmology section&quot;)]
	(if: $roomNumber is 1) [(set: $roomNoun to &quot;children&#39;s section&quot;)]
	(if: $roomNumber is 2) [(set: $roomNoun to &quot;science section&quot;)]
	(if: $roomNumber is 3) [(set: $roomNoun to &quot;women&#39;s section&quot;)]
	(if: $roomNumber is 4) [(set: $roomNoun to &quot;reading room&quot;)]
	(if: $roomNumber is 5) [(set: $roomNoun to &quot;military section&quot;)]
	(if: $roomNumber is 6) [(set: $roomNoun to &quot;locked collection&quot;)]
	(if: $roomNumber is 7) [(set: $roomNoun to &quot;theology section&quot;)]
	(if: $roomNumber is 8) [(set: $roomNoun to &quot;book restoration tower&quot;)]
	(if: $roomNumber is 9) [(set: $roomNoun to &quot;necromancy section&quot;)]
		(set:  $armorRoom to &quot;heraldry collection&quot;)
		(set:  $attic to &quot;attic&quot;)
		(set:  $atticStairs to &quot;attic stairs&quot;)
		(set:  $basementCorridor to &quot;basement corridor&quot;)
		(set:  $bathroom to &quot;bathroom&quot;)
		(set:  $bedchamber to &quot;reference room&quot;)
		(set:  $billiardRoom to &quot;children&#39;s section&quot;)
		(set:  $boilerRoom to &quot;furnace room&quot;)
		(set:  $boudoir to &quot;women&#39;s section&quot;)
		(set:  $brickWall to &quot;laddered bookshelf&quot;)
		(set:  $buttery to &quot;pharmacology section&quot;)
		(set:  $casketRoom to &quot;necromancy section&quot;)
		(set:  $cellar to &quot;vinology section&quot;)
		(set:  $chapel to &quot;theology section&quot;)
		(set:  $cold to &quot;&quot;)
		(set: $cool to &quot;&quot;)
		(set: $dark to &quot;&quot;)
		(set:  $dilapidated to &quot;staircase&quot;)
		(set:  $diningRoom to &quot;gastronomy section&quot;)
		(set:  $domicile to &quot;library&quot;)
		(set:  $elevator to &quot;staircase&quot;)
		(set:  $entranceHall to &quot;atrium&quot;)
		(set:  $flooded to &quot;&quot;)
		(set:  $grandHouse to &quot;library&quot;)
		(set:  $hallway1 to &quot;travel section&quot;)
		(set:  $hallway2 to &quot;geography section&quot;)
		(set:  $inABrickWall to &quot;in a laddered bookshelf&quot;)
		(set:  $kennels to &quot;locked collection&quot;)
		(set:  $kitchen to &quot;cookbook collection&quot;)
		(set:  $landing to &quot;landing&quot;)
		(set: $laundryCollectionArea to &quot;book collection point&quot;)
		(set:  $larder to &quot;herbal reference section&quot;)
		(set:  $livingRoom to &quot;reading room&quot;)
		(set:  $mainBasement to &quot;main basement&quot;)
		(set:  $mainLanding to &quot;main landing&quot;)
		(set:  $mainStaircase to &quot;main staircase&quot;)
		(set:  $masterBedroom to &quot;auditorium&quot;)
		(set: $noisy to &quot;&quot;)
		(set:  $nursery to &quot;cosmology section&quot;)
		(set:  $oratory to &quot;mysticism section&quot;)
		(set:  $servantsQuarters to &quot;librarian&#39;s office&quot;)
		(set:  $storageRoom to &quot;storage room&quot;)
		(set:  $study to &quot;science section&quot;)
		(set: $sumptuous to &quot;&quot;)
		(set: $submerged to &quot;&quot;)
		(set: $suitsOfArmor to &quot;shelves and shelves of books on heraldry, the history of warfare and military theory&quot;)
		(set: $swim to &quot;go&quot;)
		(set:  $threadbare to &quot;dusty&quot;)
		(set:  $underKitchenSteps to &quot;basement steps&quot;)
		(set: $underwater to &quot;&quot;)
		(set:  $yard to &quot;outdoors section&quot;)
		(if: $decadeNumber is 820) [
			(set: $flooded to &quot;flooded&quot;)
			(set: $underwater to &quot;underwater&quot;)
			(set: $partiallySubmerged to &quot;partially submerged&quot;)
			(set: $submerged to &quot;submerged&quot;)
			(set: $roomAdjective to &quot;a waterlogged &quot;)
			(set: $wade to &quot;wade&quot;)
			(set: $swim to &quot;swim&quot;)
			]
		(if: $decadeNumber is 420) [
			(set: $flooded to &quot;&quot;)
			(set: $underwater to &quot;partially submerged&quot;)
			(set: $partiallySubmerged to &quot;&quot;)
			(set: $submerged to &quot;waterlogged&quot;)
			(set: $roomAdjective to &quot;a damp &quot;)
			(set: $wade to &quot;go&quot;)
			(set: $swim to &quot;wade&quot;)
			]
	(set: $phrase to _prep + $roomAdjective + $roomNoun)
	(output-data: &quot;&quot;)
		]
		))

(set: $mansion to 
(macro: [
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;the &quot;)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;nursery&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;billiard room&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;library&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;boudoir&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;living room&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;armor room&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;kennels&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;chapel&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;dilapidated elevator&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;casket room&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(set:  $armorRoom to &quot;armor room&quot;)
		(set:  $attic to &quot;attic&quot;)
		(set:  $atticStairs to &quot;attic stairs&quot;)
		(set:  $basementCorridor to &quot;basement corridor&quot;)
		(set:  $bathroom to &quot;bathroom&quot;)
		(set:  $bedchamber to &quot;bedchamber&quot;)
		(set:  $billiardRoom to &quot;billiard room&quot;)
		(set:  $boilerRoom to &quot;boiler room&quot;)
		(set:  $boudoir to &quot;boudoir&quot;)
		(set:  $brickWall to &quot;[&quot; + &quot;[brick wall]&quot; + &quot;]&quot;)
		(set:  $buttery to &quot;buttery&quot;)
		(set:  $casketRoom to &quot;casket room&quot;)
		(set:  $cellar to &quot;cellar&quot;)
		(set:  $chapel to &quot;chapel&quot;)
		(set:  $cold to &quot;cold&quot;)
		(set: $cool to &quot;cool&quot;)
		(set: $dark to &quot;dark&quot;)
		(set:  $dilapidated to &quot;elevator&quot;)
		(set:  $diningRoom to &quot;dining room&quot;)
		(set:  $domicile to &quot;mansion&quot;)
		(set:  $elevator to &quot;elevator&quot;)
		(set:  $entranceHall to &quot;entrance hall&quot;)
		(set:  $flooded to &quot;&quot;)
		(set:  $gallery to &quot;gallery&quot;)
		(set:  $grandHouse to &quot;grand house&quot;)
		(set:  $hallway1 to &quot;hallway&quot;)
		(set:  $hallway2 to &quot;hallway&quot;)
		(set:  $inABrickWall to &quot;in a brick wall&quot;)
		(set:  $kennels to &quot;kennels&quot;)
		(set:  $kitchen to &quot;kitchen&quot;)
		(set:  $landing to &quot;landing&quot;)
		(set:  $larder to &quot;larder&quot;)
		(set: $laundryCollectionArea to &quot;laundry collection area&quot;)
		(set:  $livingRoom to &quot;living room&quot;)
		(set:  $mainBasement to &quot;main basement&quot;)
		(set:  $mainLanding to &quot;main landing&quot;)
		(set:  $mainStaircase to &quot;main staircase&quot;)
		(set:  $masterBedroom to &quot;master bedroom&quot;)
		(set: $narrow to &quot;narrow&quot;)
		(set:  $noisy to &quot;noisy&quot;)
		(set:  $nursery to &quot;nursery&quot;)
		(set:  $oratory to &quot;oratory&quot;)
		(set:  $partiallySubmerged to &quot;&quot;)
		(set: $roughHewn to &quot;rough-hewn &quot;)
		(set:  $servantsQuarters to &quot;servant&#39;s quarters&quot;)
		(set:  $storageRoom to &quot;storage room&quot;)
		(set:  $study to &quot;library&quot;)
		(set: $suitsOfArmor to &quot;suits of armour&quot;)
		(set: $sumptuous to &quot;sumptuous&quot;)
		(set: $submerged to &quot;&quot;)
		(set: $swim to &quot;go&quot;)
		(set:  $threadbare to &quot;threadbare&quot;)
		(set:  $underKitchenSteps to &quot;under-kitchen steps&quot;)
		(set: $underwater to &quot;&quot;)
		(set: $wade to &quot;go&quot;)
		(set:  $yard to &quot;yard&quot;)
		(output-data: &quot;&quot;)
		]
		))
			
(set: $market to 
(macro: [
	(set: _prep to &quot;at &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($village:)
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;beer brewer&#39;s&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;book seller&#39;s&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;dressmaker&#39;s&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;grocer&#39;s&quot;)]
		(if: $roomNumber is 5) [(set: $roomAdjective to &quot;an &quot;)(set: $roomNoun to &quot;armorer&#39;s&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;locksmith&#39;s&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;psychic&#39;s&quot;)]
		(set: $phrase to it + &quot; stall&quot;)
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
(set: $menagerie to 
(macro: [
	
	(set: _prep to &quot;by &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($camp:)
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;display of African monkeys&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;display of hanging sloths&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;chained tiger&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;sickly rhinocerous&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;dead elephant&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
(set: $mine to 
(macro: [	
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($cave:)
	(if: $roomNumber is 0) [(set: $roomNoun to &quot;dark pit&quot;)]
	(if: $roomNumber is 1) [(set: _prep to &quot;at &quot;)(set: $roomNoun to &quot;mine cart roller coaster&quot;)]		
	(if: $roomNumber is 2) [(set: _prep to &quot;at &quot;)(set: $roomNoun to &quot;geologist&#39;s cubby&quot;)]
	(if: $roomNumber is 3) [(set: _prep to &quot;at &quot;)(set: $roomNoun to &quot;diamond face&quot;)]
	(if: $roomNumber is 4) [(set: _prep to &quot;by &quot;)(set: $roomNoun to &quot;bucket hoist&quot;)]
	(if: $roomNumber is 5) [(set: _prep to &quot;near &quot;)(set: $roomAdjective to &quot;an &quot;)(set: $roomNoun to &quot;explosives store&quot;)]
	(if: $roomNumber is 6) [(set: _prep to &quot;by &quot;)(set: $roomNoun to &quot;cramped seam&quot;)]
	(if: $roomNumber is 7) [(set: _prep to &quot;by &quot;)(set: $roomNoun to &quot;shaft of light&quot;)]
	(if: $roomNumber is 8) [(set: $roomAdjective to &quot;a collapsed &quot;)(set: $roomNoun to &quot;tunnel&quot;)]
	(set: $phrase to _prep + $roomAdjective + $roomNoun)
	(set: $steps to &quot;shaft&quot;)
	(set: $tinyStaircase to &quot;narrow climbable shaft&quot;)
	(set: $mainStairwell to &quot;great shaft&quot;)
	(set: $tower to &quot;mine&quot;)
	(set: $towerEntrance to &quot;mineral face&quot;)
	(set: $parapet to &quot;hoist house&quot;)
	(set: $floors to &quot;levels&quot;)
	(set: $reaches to &quot;parts&quot;)
	(output-data: &quot;&quot;)
		]
		))
		
(set: $monastery to 
(macro: [		
	(set: _prep to &quot;in &quot;)
	(if: $decadeNumber is in (a:1720))
		[(set:$roomAdjective to &quot;a one-time &quot;)]
	(else:)
		[(set: $roomAdjective to &quot;a &quot;)]
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;allotment&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;misericord&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;scriptorium&quot;)]
		(if: $roomNumber is 3) [(set: $roomAdjective to &quot;a &quot;)(set: $roomNoun to &quot;kitchen&quot;)]

		(if: $roomNumber is 4) [(set: $roomNoun to &quot;hostelry&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;smithy&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;cell&quot;)]

		(if: $roomNumber is 7) [(set: $roomNoun to &quot;chapel&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;infirmary&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;mortuary&quot;)]

		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		
		(set: $castleword to &quot;compound&quot;)
		(set: $gatehouse to &quot;lodge&quot;)
		(set: $bailey to &quot;garth&quot;)
		(set: $drawbridge to &quot;entrance path&quot;)
		(set: $battlements to &quot;terrace&quot;)
		(set: $maidensTower to &quot;chapter house&quot;)
		(set: $castleKeep to &quot;abbey&quot;)
		(set: $keep to &quot;abbey&quot;)
		(set: $gatehouseWall to &quot;lodgehouse cloister&quot;)
		(set: $turret to &quot;dorter&quot;)
		(set: $sickHall to &quot;infirmary&quot;)
		(set: $wall to &quot;cloister&quot;)
		($setBaileyAdj:)
		(output-data: &quot;&quot;)
		]
		))
		
	

	

(set: $mosque to 
(macro: [	
	($church:)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	(if: $roomNumber is 0) [(set: _prep to &quot;by &quot;)(set: $roomNoun to &quot;wudu fountain&quot;)]
	(if: $roomNumber is 1) [(set: $roomNoun to &quot;children&#39;s area&quot;)]
	(if: $roomNumber is 2) [(set: $roomNoun to &quot;book room&quot;)]
	(if: $roomNumber is 3) [(set: $roomNoun to &quot;musalla nisa&quot;)]
	(if: $roomNumber is 4) [(set: $roomAdjective to &quot;the &quot;)(set: $roomNoun to &quot;Imam&#39;s quarters&quot;)]
	(if: $roomNumber is 5) [(set: _prep to &quot;by &quot;)(set: $roomNoun to &quot;shoe shelf&quot;)]
	(if: $roomNumber is 6) [(set: $roomNoun to &quot;solitary prayer room&quot;)]
	(if: $roomNumber is 7) [(set: _prep to &quot;on &quot;)(set: $roomNoun to &quot;minbar&quot;)]
	(if: $roomNumber is 8) [(set: _prep to &quot;at &quot;)(set: $roomAdjective to &quot;a collapsed &quot;)(set: $roomNoun to &quot;riwaq&quot;)]
	(if: $roomNumber is 9) [(set: _prep to &quot;by &quot;)(set: $roomNoun to &quot;lahad&quot;)]
	(set: $phrase to _prep + $roomAdjective + $roomNoun)
	(output-data: &quot;&quot;)
	]
	))


(set: $mountainside to 
(macro: [	
	
	(set: _prep to &quot;by &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($forest:)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;pine tree&quot;)]
		(if: $roomNumber is 2) [(set: _prep to &quot;at &quot;)(set: $roomNoun to &quot;plateau with a breathtaking view over the valley below&quot;)]
		(if: $roomNumber is 3) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;lair of a mountain hag&quot;)]
		(if: $roomNumber is 7) [(set: _prep to &quot;near &quot;)(set: $roomNoun to &quot;high point above the clouds&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;pile of boulders, left from a rockfall&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;carcass&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))

(set: $mushroom to 
(macro: [
	
	(set: $roomNoun to (either: &quot;toadstools&quot;,&quot;toadstools&quot;,&quot;toadstools&quot;,&quot;fairy rings&quot;))
	(set: _prep to &quot;by &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	(set: $mushroomAdj to (either: &quot;, fruiting &quot;, &quot;, gilled &quot;,&quot;, umbrellaed  &quot;,&quot; stemmed &quot;, &quot;, fleshy &quot;,&quot;, long-stemmed &quot;,&quot;, thin-stemmed &quot;,&quot;, wide-hatted &quot;,&quot; dotted &quot;,&quot; speckled &quot;, &quot;, wispy &quot;, &quot;, tabular &quot;))
		(if: $roomNumber is 0) [(set: $roomAdjective to &quot;a bed of black&quot; + $mushroomAdj)(set:$roomNoun to &quot;deathcaps&quot;)]
		(if: $roomNumber is 1) [(set: $roomAdjective to &quot;a plot of white&quot; + $mushroomAdj)(set: $roomNoun to &quot;portobellos&quot;)]
		(if: $roomNumber is 2) [(set: $roomAdjective to &quot;a bed of pink&quot; + $mushroomAdj)]
		(if: $roomNumber is 3) [(set: $roomAdjective to &quot;a bed of red&quot; + $mushroomAdj)]
		(if: $roomNumber is 4) [(set: $roomAdjective to &quot;a display of purple&quot; + $mushroomAdj)]
		(if: $roomNumber is 5) [(set: $roomAdjective to &quot;a display of blue&quot; + $mushroomAdj)]
		(if: $roomNumber is 6) [(set: $roomAdjective to &quot;a display of turquoise&quot; + $mushroomAdj)]
		(if: $roomNumber is 7) [(set: $roomAdjective to &quot;a grassy &quot;)(set: $roomNoun to &quot;fungus patch&quot;)]
		(if: $roomNumber is 8) [(set: $roomAdjective to &quot;a circle of yellow&quot; + $mushroomAdj)(set: $roomNoun to &quot;creminis&quot;)]
		(if: $roomNumber is 9) [(set: $roomAdjective to &quot;a brown &quot;)(set: $roomNoun to &quot;wooden bench&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
	
(set: $newsPress to 
(macro: [	
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($castle:)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;darkroom&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;comics office&quot;)]
		(if: $roomNumber is 2) [(set: $roomAdjective to &quot;an &quot;)(set: $roomNoun to &quot;editor&#39;s office&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;maiden&#39;s tower&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;printing press&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;propaganda office&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;classified documents office&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;communist party office&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;repair room&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(if: $roomNumber is 9) [(set: _prep to &quot;at &quot;)(set: $roomNoun to &quot;wastepaper skip&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))

(set: $palace to 
(macro: [	
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($castle:)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;buttery&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;nursery&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;library&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;maiden&#39;s tower&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;audience chamber&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;fencing gymnasium&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
	
(set: $park to 
(macro: [
	
	(if: $decadeNumber is 470)[(set: $roomAdjective to &quot;an overgrown &quot;)]
	(set: _prep to &quot;by &quot;)
	(set: $roomAdjective to &quot;a &quot;)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;bed of black shale&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;plot of white flowers&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;bed of pink carnations&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;bed of red poppies&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;display of purple lilacs&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;display of bluebells&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;display of cyan lotus flowers&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;grassy allotment&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;circle of yellow sunflowers&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;brown wooden bench&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		

(set: $penalQuarter to 
(macro: [	
	
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;blacksmith&#39;s&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;witness&#39;s space, for watching the punishments&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;children&#39;s prison&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;women&#39;s prison&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;execution square&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;gaol&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;whipping post&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
(set: $plaguePit to 
(macro: [	
	
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	(if: $roomNumber is 0) [(set: _prep to &quot;within &quot;)(set: $roomAdjective to &quot;&quot;)(set: $roomNoun to &quot;walls of fungus covered corpses&quot;)]
	(if: $roomNumber is 1) [(set: $roomNoun to &quot;buried play-park&quot;)]
	(if: $roomNumber is 2) [(set: $roomNoun to &quot;buried school for children&quot;)]
	(if: $roomNumber is 3) [(set: $roomNoun to &quot;chamber of dead nuns&quot;)]
	(if: $roomNumber is 4) [(set: $roomNoun to &quot;buried market&quot;)]
	(if: $roomNumber is 5) [(set: $roomNoun to &quot;chamber of dead soldiers&quot;)]
	(if: $roomNumber is 6) [(set: $phrase to _prep + &quot;subterranean, walled-up&quot; + &quot;street&quot;)]
	(if: $roomNumber is 7) [(set: $phrase to _prep + &quot;collapsed, subterranean&quot; + &quot;chapel&quot;)]
	(if: $roomNumber is 8) [(set: $roomNoun to &quot;chamber of partial bodies&quot;)]
	(if: $roomNumber is 9) [(set: $roomNoun to &quot;repository for random bones and partial human remains&quot;)]
	(set: $phrase to _prep + $roomAdjective + $roomNoun)
	(output-data: &quot;&quot;)
	]
	))


}</tw-passagedata><tw-passagedata pid="329" name="environ database r - s" tags="startup" position="753,1721" size="100,100">{

		
(set: $rectory to 
(macro: [	
	($house:)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;the broken remnants of a &quot;)
	(if: $roomNumber is 3) [(set: $roomNoun to &quot;housekeeper&#39;s room&quot;)]
	(if: $roomNumber is 7) [(set: $roomNoun to &quot;chapel&quot;)]
	(set:  $chapel to &quot;chapel&quot;)
	(set:  $domicile to &quot;rectory&quot;)
	(set: $suitsOfArmor to &quot;crosses and religious art&quot;)
	(set: $phrase to _prep + $roomAdjective + $roomNoun)
	(output-data: &quot;&quot;)
		]
		))

	
(set: $revolution to 
(macro: [	
	(set: $roomAdjective to &quot;a &quot;)
	(set: _prep to &quot;at &quot;)
	(if: $roomNumber is 0) [(set: $roomNoun to &quot;trashed marked&quot;)]

	(if: $roomNumber is 1) [(set: $roomNoun to &quot;street party&quot;)]
	(if: $roomNumber is 2) [(set: $roomNoun to &quot;book burning&quot;)]
	(if: $roomNumber is 3) [(set: $roomNoun to &quot;women&#39;s march&quot;)]
	(if: $roomNumber is 4) [(set: $roomNoun to &quot;mansion invasion&quot;)]

	(if: $roomNumber is 5) [(set: $roomNoun to &quot;street war&quot;)]
	(if: $roomNumber is 6) [(set: $roomAdjective to &quot;the &quot;)(set: $roomNoun to &quot;storming of the Bastille&quot;)]
	(if: $roomNumber is 7) [(set: $roomNoun to &quot;burning church&quot;)]
	(if: $roomNumber is 8) [(set: $roomAdjective to &quot;the &quot;)(set: $roomNoun to &quot;ruins of Paris&quot;)]
	(if: $roomNumber is 9) [(set: _prep to &quot;by &quot;)(set: $roomNoun to &quot;slaughtered horse&quot;)]
	(set: $phrase to _prep + $roomAdjective + $roomNoun)

	(output-data: &quot;&quot;)
		]
		))
		
		
		
(set: $school to 
(macro: [	
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;the &quot;)
	(if: $roomNumber is 0) [(set: $roomNoun to &quot;neophyte&#39;s quarters&quot;)]
	(if: $roomNumber is 1) [(set: $roomNoun to &quot;chess room&quot;)]
	(if: $roomNumber is 2) [(set: $roomNoun to &quot;study hall&quot;)]
	(if: $roomNumber is 3) [(set: $roomNoun to &quot;women&#39;s quarters&quot;)]
	(if: $roomNumber is 4) [(set: $roomNoun to &quot;scholar&#39;s lounge&quot;)]
	(if: $roomNumber is 5) [(set: $roomNoun to &quot;examination hall&quot;)]
	(if: $roomNumber is 6) [(set: $roomNoun to &quot;cloister&quot;)]
	(if: $roomNumber is 7) [(set: $roomNoun to &quot;chapel&quot;)]
	(if: $roomNumber is 8) [(set: $roomNoun to &quot;remediation hall&quot;)]
	(if: $roomNumber is 9) [(set: $roomNoun to &quot;emeritus chambers&quot;)]
	(set: $phrase to _prep + $roomAdjective + $roomNoun)
	(output-data: &quot;&quot;)
		]
		))
		

(set: $ship to 
(macro: [	
	(set: _prep to &quot;on &quot;)
	(set: $roomAdjective to &quot;the &quot;)
	(if: $roomNumber is 0) [(set: _prep to &quot;below &quot;)(set: $roomAdjective to &quot; &quot;)(set: $roomNoun to &quot;deck&quot;)]
	(if: $roomNumber is 1) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;crow&#39;s nest&quot;)]
	(if: $roomNumber is 2) [(set: $roomNoun to &quot;navigation deck&quot;)]
	(if: $roomNumber is 3) [(set: _prep to &quot;at &quot;)(set: $roomNoun to &quot;mast head&quot;)]
	(if: $roomNumber is 4) [(set: $roomNoun to &quot;cabin&quot;)]
	(if: $roomNumber is 5) [(set: $roomNoun to &quot;magazine&quot;)]
	(if: $roomNumber is 6) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;brig&quot;)]
	(if: $roomNumber is 7) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;Chaplain&#39;s cabin&quot;)]
	(if: $roomNumber is 8) [(set: _prep to &quot;in &quot;)(set: $roomAdjective to &quot;the cramped &quot;)(set: $roomNoun to &quot;sick bay&quot;)]
	(if: $roomNumber is 9) [(set: _prep to &quot;in &quot;)(set: $roomAdjective to &quot; &quot;)(set: $roomNoun to &quot;salted storage&quot;)]
	(set: $phrase to _prep + $roomAdjective + $roomNoun)
	(output-data: &quot;&quot;)
		]
		))

(set: $skyscraper to 
(macro: [	
	($tower:)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	(if: $roomNumber is 0) [(set: $roomNoun to &quot;food court&quot;)]
	(if: $roomNumber is 1) [(set: $roomNoun to &quot;roof garden&quot;)]
	(if: $roomNumber is 2) [(set: $roomNoun to &quot;computer office&quot;)]
	(if: $roomNumber is 3) [(set: $roomNoun to &quot;kitchen&quot;)]
	(if: $roomNumber is 4) [(set: $roomNoun to &quot;penthouse suite&quot;)]
	(if: $roomNumber is 5) [(set: $roomNoun to &quot;security room&quot;)]
	(if: $roomNumber is 6) [(set: $roomNoun to &quot;bank vault&quot;)]
	(if: $roomNumber is 7) [(set: $roomNoun to &quot;prayer room&quot;)]
	(if: $roomNumber is 8) [(set: $roomNoun to &quot;restroom&quot;)]
	(if: $roomNumber is 9) [(set: $roomNoun to &quot;garbage disposal&quot;)]
	(set: $phrase to _prep + $roomAdjective + $roomNoun)
	(set: $steps to &quot;elevator&quot;)
	(set: $tinyStaircase to &quot;VIP elevator&quot;)
	(set: $mainStairwell to &quot;main elevator&quot;)
	(set: $tower to &quot;skyscraper&quot;)
	(set: $towerEntrance to &quot;tower lobby&quot;)
	(set: $parapet to &quot;windy rooftop&quot;)
	(output-data: &quot;&quot;)
		]
		))
		
(set: $slaveMarket to 
(macro: [	
	(set: _prep to &quot;by &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	(if: $roomNumber is 1) [(set: $roomNoun to &quot;the stall of a hawker of contraceptives and abortifacients&quot;)]
	(if: $roomNumber is 1) [(set: $roomNoun to &quot;purveyor of children&quot;)]
	(if: $roomNumber is 2) [(set: $roomNoun to &quot;dealer in captured diplomats and sages&quot;)]
	(if: $roomNumber is 3) [(set: _prep to &quot;at &quot;)(set: $roomNoun to &quot;sex slave auction&quot;)]
	(if: $roomNumber is 4) [(set: _prep to &quot;at &quot;)(set: $roomNoun to &quot;house slave sale&quot;)]
	(if: $roomNumber is 5) [(set: _prep to &quot;at &quot;)(set: $roomNoun to &quot;gladiator&#39;s auction&quot;)]
	(if: $roomNumber is 6) [(set: _prep to &quot;where &quot;)(set: $prep to &quot;where &quot;)(set: $roomAdjective to &quot;an &quot;)(set: $roomNoun to &quot;ironmonger sells slave shackles&quot;)]
	(if: $roomNumber is 7) [(set: _prep to &quot;where &quot;)(set: $prep to &quot;where &quot;)(set: $roomNoun to &quot;holy man preaches against slavery&quot;)]
	(if: $roomNumber is 8) [(set: $roomNoun to &quot;seller of teeth and hair&quot;)]
	(if: $roomNumber is 9) [(set: $roomNoun to &quot;skull vendor&quot;)]
	(set: $phrase to _prep + $roomAdjective + $roomNoun)
	(output-data: &quot;&quot;)
		]
		))	


(set: $stBasil to 
(macro: [	
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;the &quot;)
	(if: $roomNumber is 0) [(set: _prep to &quot;by &quot;)(set: $roomNoun to &quot;Southwestern Chapel of St. Varlaam of Khutyn &quot;)]
	(if: $roomNumber is 1) [(set: $roomAdjective to &quot;an &quot;)(set: $roomNoun to &quot;altarboys&#39; choir&quot;)]
	(if: $roomNumber is 3) [(set: $roomAdjective to &quot;the &quot;)(set: $roomNoun to &quot;Southwestern Chapel of St. Varlaam of Khutyn&quot;)]
	(if: $roomNumber is 4) [(set: $roomNoun to &quot;northern porch&quot;)]
	(if: $roomNumber is 5) [(set: $roomNoun to &quot;lower belfry&quot;)]
	(if: $roomNumber is 6) [(set: $roomNoun to &quot;priest&#39;s hole&quot;)]
	(if: $roomNumber is 7) [(set: $roomNoun to &quot;Northern Chapel of the Holy Martyrs Cyprian and Justina&quot;)]
	(if: $roomNumber is 8) [(set: $roomNoun to &quot;church of saints Alexander, John and Paul&quot;)]
	(if: $roomNumber is 9) [(set: $roomNoun to &quot;crypt of the holy fool&quot;)]

	(set: $phrase to _prep + $roomAdjective + $roomNoun)
	
	(set: $altar to &quot;Northern Chapel of the Holy Martyrs Cyprian and Justina&quot;)

	(set: $chapel to &quot;chapel&quot;)
	(set: $choirboysStalls to &quot;choirboys&#39; stalls&quot;)
	(set: $clergyHouse to &quot;northern porch&quot;)
	(set: $cloister to &quot;Church of St Alexander of Svir&quot;)
	(set: $collonade to &quot;collonade&quot;)
	(set: $crossing to &quot;inner gallery&quot;)
	
	(set: $font to &quot;southern porch&quot;)

	(set: $hymnals to &quot;hymnals&quot;)
	(set: $leftTransept to &quot;Church of the Entry of the Lord into Jerusalem&quot;)
	(set: $liturgicalTexts to &quot;liturgical texts&quot;)
	(set: $matrimonialChapel to &quot;Southwestern Chapel of St. Varlaam of Khutyn&quot;)
	
	(set: $missals to &quot;missals&quot;)
	(set: $narthex to &quot;Southern Chapel of St. Nicholas Velikoretsky&quot;)
	(set: $nave to &quot;Central Chapel of the Intercession of the Holy Virgin&quot;)

	(set: $organistsLoft to &quot;upper belfry&quot;)
	(set: $priestsHole to &quot;priest&#39;s hole&quot;)
	(set: $prophets to &quot;prophets&quot;)
	(set: $reliquary to &quot;reliquary of St Basil the fool&quot;)
	(set: $rightTransept to &quot;Eastern Chapel of the Holy Trinity&quot;)
	(set: $sacred to &quot;sacred&quot;)
	(set: $saints to &quot;saints&quot;)
	(set: $spire to &quot;Northeastern Chapel of the Three Patriarchs of Constantinople&quot;)
	(set: $symbols to &quot;effects&quot;)
	(set: $temple to &quot;church&quot;)
	
	(set: $vapenhus to &quot;lower belfry&quot;)
	(set: $vestments to &quot;vestments&quot;)
	(set: $vestry to &quot;Church of St Gregory the Armenian&quot;)
	(output-data: &quot;&quot;)
	]
	))



(set: $surgery to 
(macro: [	
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($mansion:)
	(if: $roomNumber is 4) [(set: $roomNoun to &quot;medicine closet&quot;)]
	(if: $roomNumber is 5) [(set: $roomNoun to &quot;examination room&quot;)]
	(if: $roomNumber is 6) [(set: $roomNoun to &quot;triage room&quot;)]
	(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(set:  $armorRoom to &quot;specimen room&quot;)
		(set:  $attic to &quot;attic&quot;)
		(set:  $atticStairs to &quot;attic stairs&quot;)
		(set:  $basementCorridor to &quot;basement corridor&quot;)
		(set:  $bathroom to &quot;bathroom&quot;)
		(set:  $bedchamber to &quot;ward&quot;)
		(set:  $billiardRoom to &quot;recreation room&quot;)
		(set:  $boilerRoom to &quot;boiler room&quot;)
		(set:  $boudoir to &quot;cell&quot;)
		(set:  $brickWall to &quot;[&quot; + &quot;[brick wall]&quot; + &quot;]&quot;)
		(set:  $buttery to &quot;cold foods store&quot;)
		(set:  $casketRoom to &quot;casket room&quot;)
		(set:  $cellar to &quot;cellar&quot;)
		(set:  $chapel to &quot;chapel&quot;)
		(set:  $cold to &quot;cold&quot;)
		(set: $cool to &quot;cool&quot;)
		(set: $dark to &quot;dark&quot;)
		(set:  $dilapidated to &quot;elevator&quot;)
		(set:  $diningRoom to &quot;canteen&quot;)
		(set:  $domicile to &quot;surgery&quot;)
		(set:  $elevator to &quot;elevator&quot;)
		(set:  $entranceHall to &quot;entrance hall&quot;)
		(set:  $flooded to &quot;&quot;)
		(set:  $gallery to &quot;corridor&quot;)
		(set:  $grandHouse to &quot;compound&quot;)
		(set:  $hallway1 to &quot;foyer&quot;)
		(set:  $hallway2 to &quot;lobby&quot;)
		(set:  $inABrickWall to &quot;in a brick wall&quot;)
		(set:  $kennels to &quot;cells&quot;)
		(set:  $kitchen to &quot;kitchen&quot;)
		(set:  $landing to &quot;landing&quot;)
		(set:  $larder to &quot;larder&quot;)
		(set: $laundryCollectionArea to &quot;laundry collection area&quot;)
		(set:  $livingRoom to &quot;quiet room&quot;)
		(set:  $mainBasement to &quot;main basement&quot;)
		(set:  $mainLanding to &quot;main landing&quot;)
		(set:  $mainStaircase to &quot;main staircase&quot;)
		(set:  $masterBedroom to &quot;administrator&#39;s office&quot;)
		(set: $narrow to &quot;narrow&quot;)
		(set:  $noisy to &quot;noisy&quot;)
		(set:  $nursery to &quot;nursery&quot;)
		(set:  $oratory to &quot;oratory&quot;)
		(set:  $partiallySubmerged to &quot;&quot;)
		(set: $roughHewn to &quot;rough-hewn &quot;)
		(set:  $servantsQuarters to &quot;staff quarters&quot;)
		(set:  $storageRoom to &quot;storage room&quot;)
		(set:  $study to &quot;library&quot;)
		(set: $suitsOfArmor to &quot;specimens&quot;)
		(set: $sumptuous to &quot;&quot;)
		(set: $submerged to &quot;&quot;)
		(set: $swim to &quot;go&quot;)
		(set:  $threadbare to &quot;&quot;)
		(set:  $underKitchenSteps to &quot;under-kitchen steps&quot;)
		(set: $underwater to &quot;&quot;)
		(set: $wade to &quot;go&quot;)
		(set:  $yard to &quot;yard&quot;)
	(set: $phrase to _prep + $roomAdjective + $roomNoun)
	(output-data: &quot;&quot;)
		]
		))

(set: $swamp to 
(macro: [	
	
	(set: _prep to &quot;wading through &quot;)
	(set: $roomAdjective to &quot;&quot;)
	(if: $roomNumber is 0) [(set: $roomNoun to &quot;black mud&quot;)]
	(if: $roomNumber is 1) [(set: $roomNoun to &quot;white algae&quot;)]
	(if: $roomNumber is 2) [(set: _prep to &quot;among &quot;)(set: $roomNoun to &quot;pink thistles&quot;)]
	(if: $roomNumber is 3) [(set: $roomNoun to &quot;red grass&quot;)]
	(if: $roomNumber is 4) [(set: _prep to &quot;among &quot;)(set: $roomNoun to &quot;purple thorn berries&quot;)]
	(if: $roomNumber is 5) [(set: _prep to &quot;among &quot;)(set: $roomNoun to &quot;blueberry bushes&quot;)]
	(if: $roomNumber is 6) [(set: _prep to &quot;under &quot;)(set: $roomAdjective to &quot;a &quot;)(set: $roomNoun to &quot;clear blue-green sky&quot;)]
	(if: $roomNumber is 7) [(set: _prep to &quot;walking through &quot;) (set: $roomNoun to &quot;long green grass&quot;)]
	(if: $roomNumber is 8) [(set: $roomNoun to &quot;yellow grass&quot;)]
	(if: $roomNumber is 9) [(set: $roomNoun to &quot;brown mud&quot;)]
	(set: $phrase to _prep + $roomAdjective + $roomNoun)
	(output-data: &quot;&quot;)
		]
		))		



}</tw-passagedata><tw-passagedata pid="330" name="environ database t - z" tags="startup" position="856,1620" size="100,100">{
(set: $tower to 
(macro: [	
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($building:)
	(set: $steps to &quot;winding steps&quot;)
	(set: $tinyStaircase to &quot;tiny wooden staircase&quot;)
	(set: $mainStairwell to &quot;great, winding stairwell&quot;)
	(set: $tower to &quot;tower&quot;)
	(set: $towerEntrance to &quot;tower gate&quot;)
	(set: $parapet to &quot;wind blown parapet&quot;)
	(set: $floors to &quot;floors&quot;)
	(set: $top to &quot;top&quot;)
	(set:$reaches to &quot;reaches&quot;)
	(output-data: &quot;&quot;)
		]
		))


(set: $town to 
(macro: [	
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	(if: $decadeNumber is in (a: 1990))[(set: $roomAdjective to &quot;an abandoned &quot;)]
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;maternity clinic&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;fairground&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;school gym&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;registry office&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;mall&quot;)]
		(if: $roomNumber is 5) [(set: $roomAdjective to &quot;a rusted &quot;)(set: $roomNoun to &quot;military magazine&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;quarantine pen&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;church center&quot;)]
		(if: $roomNumber is 8) [(set: $roomAdjective to &quot;a radioactive &quot;)(set: $roomNoun to &quot;junkyard&quot;)]
		(if: $roomNumber is 9) [(set: $roomAdjective to &quot;an &quot;)(set: _prep to &quot;at &quot;)(set: $roomNoun to &quot;unmarked grave&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))


(set: $triclinium to 
(macro: [	
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($building:)
	(if: $roomNumber is 0) [(set: $phrase to _prep + &quot;a dark, shady &quot; + &quot;private apse&quot;)]
	(if: $roomNumber is 1) [(set: $phrase to _prep + &quot;a well lit &quot; + &quot;lover&#39;s apse&quot;)]
	(if: $roomNumber is 2) [(set: $roomNoun to &quot;peeper&#39;s balcony&quot;)]
	(if: $roomNumber is 5) [(set: _prep to &quot;by &quot;)(set: $roomNoun to &quot;chaperone&#39;s seat&quot;)]
	(if: $roomNumber is 6) [(set: $roomNoun to &quot;courtyard&quot;)]
	(if: $roomNumber is 7) [(set: $roomNoun to &quot;statue of Venus&quot;)]
	(set: $phrase to _prep + $roomAdjective + $roomNoun)
	(output-data: &quot;&quot;)
		]
		))


(set: $vault to 
(macro: [	
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;moldy vault&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;beer vault&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;spies&#39; vault&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;underworld knocking shop&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;robbers&#39; hideout&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;illegal weapons store&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;kidnapper&#39;s hideout&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;sacred vault&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;junk dump&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;cadaver&#39;s vault&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))


(set: $vestal to 
(macro: [	
	
	($set: $phrase to it + &quot; in the Atrium Vestiae&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($monastery:)
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;choral chamber in the Atrium Vestiae&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;chamber of the sacred spring in the temple of Vesta&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;sacred flame chamber in the temple of Vesta &quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))		
	

(set: $village to 
(macro: [	
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	(if: $decadeNumber is in (a: 690,1250))[(set: $roomAdjective to &quot;an abandoned &quot;)]
	(if: $decadeNumber is 1200)[(set: $roomAdjective to &quot;a flooded &quot;)]
	(if: $decadeNumber is 1290)[(set: $roomAdjective to &quot;the blazing remains of a &quot;)]
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;blacksmith&#39;s&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;tavern&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;school&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;brothel&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;market&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;courthouse&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;sheriff&#39;s jailhouse&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;church&quot;)]
		(if: $roomNumber is 8) [(set: $roomAdjective to &quot;an &quot;)(set: $roomNoun to &quot;apothecary&#39;s&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;mortician&#39;s&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
	
(set: $wall to 
(macro: [	
	(set: $roomAdjective to &quot;a &quot;)
	(set: _prep to &quot;at &quot;)
	(if: $roomNumber is 0) [(set: $roomAdjective to &quot;a low &quot;)(set: $roomNoun to &quot;section&quot;)]
	(if: $roomNumber is 1) [(set: $roomNoun to &quot;bar&quot;)]
	(if: $roomNumber is 2) [(set: $roomNoun to &quot;listening station&quot;)]
	(if: $roomNumber is 3) [(set: $roomNoun to &quot;women and children&#39;s checkpoint&quot;)]
	(if: $roomNumber is 4) [(set: $roomNoun to &quot;bunker&quot;)]
	(if: $roomNumber is 5) [(set: $roomNoun to &quot;guards tower&quot;)]
	(if: $roomNumber is 6) [(set: $roomNoun to &quot;detention pen&quot;)]
	(if: $roomNumber is 7) [(set: $roomAdjective to &quot;the abandoned &quot;)(set: $roomNoun to &quot;church of reconciliation in no-man&#39;s land&quot;)]
	(if: $roomNumber is 8) [(set: $roomNoun to &quot;wall breach&quot;)]
	(if: $roomNumber is 9) [(set: $roomNoun to &quot;cemetery&quot;)]

	(set: $phrase to _prep + $roomAdjective + $roomNoun)
	
	(output-data: &quot;&quot;)
		]
		))	
	
(set: $workhouse to 
(macro: [	
	(set: $roomAdjective to &quot;a &quot;)
	(set: _prep to &quot;in &quot;)
	($barrack:)
	(if: $roomNumber is 0) [(set: $roomNoun to &quot;grain house&quot;)]
	(if: $roomNumber is 1) [(set: $roomNoun to &quot;mess&quot;)]
	(if: $roomNumber is 2) [(set: $roomNoun to &quot;book room&quot;)]
	(if: $roomNumber is 5) [(set: $roomNoun to &quot;cane room&quot;)]
	(set: $phrase to _prep + $roomAdjective + $roomNoun)
	
	(output-data: &quot;&quot;)
		]
		))
		
}</tw-passagedata><tw-passagedata pid="331" name="room 90" tags="" position="901,277" size="100,100">{($setImage:)
(if: $decadeNumber is 1750)[($overrideImage: &quot;1759&quot;)]

(set: $thisRoomsNumber to 20)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
($refreshSentences:)}
(border-color: (rgb: 155, 100, 0)) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence.
($room9content:)
{
From here you may go [[$rightHill_1 $rightOnScreen-&gt;room 4]] ($toThePhrase: 4) or [[$downHill_1 $downOnScreen-&gt;room 61]]. 
}
]</tw-passagedata><tw-passagedata pid="332" name="room 60" tags="" position="903,0" size="100,100">{(set: $thisRoomsNumber to 22)
($setImage:)
(if: $decadeNumber is 1750)[($overrideImage: &quot;1756&quot;)]

(set: $thisRoomsNumber to 6)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
($refreshSentences:)}(border-color: (rgb: 0, 255, 255)) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{
(if: $bastille is &quot;stormed&quot;)[By the time you arrive the violence and mayhem has passed, and you approach the ruins of the Bastille. The way forward is blocked by a collapsed wall and you may proceed no further.]  
(else:)[$complexSentence.] 

From here you may go [[$upHill_1 $upOnScreen-&gt;room 61]]. (if: $bastille is &quot;unstormed&quot;)[Or, if you like, you can (link:&quot;join the assault on the Bastille!&quot;)[ (set: $bastille to &quot;joining in&quot;)(goto: &quot;complex eight&quot;)] ]


}]</tw-passagedata><tw-passagedata pid="333" name="room 61" tags="" position="897,142" size="100,100">{
(set: $thisRoomsNumber to 21)
($overrideImage: &quot;17511&quot;)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4) + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are approaching the Bastille Citadel in Paris. From a distance you can see the smoke rising. You can [[continue towards it-&gt;room 60]] or [[head back-&gt;room 90]].[]]
}</tw-passagedata><tw-passagedata pid="334" name="bastille Phrase" tags="startup" position="132,57" size="100,100">{
(set: $ruinsOfThe to &quot;&quot;)

(set: $bastillePhrase to
(macro: [		
	(if: $floorInt is 17)
		[
		(if: $bastille is &quot;stormed&quot; or $bastille is &quot;joined in&quot;)
			[(set: $ruinsOfThe to &quot;ruins of the&quot;)]
		(else:) [(set: $ruinsOfThe to &quot;&quot;)]
		]
	(else:) [(set: $ruinsOfThe to &quot;&quot;)]
	(output-data:&quot;&quot;)
		]
		)
		)
}</tw-passagedata><tw-passagedata pid="335" name="Afghanistan line" tags="" position="1715,1756" size="100,100">{(set: $gulag to &quot;escaped&quot;)}(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[{(if: $afghanDirection is &quot;south&quot; and $afghanCounter is 3)[(set: $afghanDirection to &quot;north&quot;) You disembark at a desert station. A soviet commander approaches you. &quot;  ?&quot; he barks, &quot;     ?&quot; He signals to some guards who escort you to a barracks and force you to put on a uniform. Soon you are [[deployed in the war in Afghanistan.-&gt;complex five]]]
(elseif: $afghanDirection is &quot;south&quot;)[You are on a train heading south through arid, rugged climes. There is nothing for you to do except (link: &quot;watch the desert speed by.&quot;)[(set: $afghanCounter to $afghanCounter +1)(goto:&quot;Afghanistan line&quot;)]]
(elseif: $afghanDirection is &quot;north&quot; and $afghanCounter is 0)[(set: $afghanDirection to &quot;south&quot;) (set: $afghanCounter to -1)(goto: &quot;middle right&quot;)] 
(elseif: $afghanDirection is &quot;north&quot; and $afghanCounter is 3)[Luckily, a train is just about to leave as you arrive at the station. (link:&quot;You step aboard as it pulls away.&quot;)[(set: $afghanCounter to $afghanCounter -1)(goto: &quot;Afghanistan line&quot;)]] 
(else:) [You are on a train heading north through dry hills. There is nothing for you to do except (link: &quot;wait and watch as the dusty mountains roll by.&quot;)[(set: $afghanCounter to $afghanCounter -1)(goto:&quot;Afghanistan line&quot;)]]
}]

(if: $floorInt is 19)[($overrideImage:(str: 19506 + $afghanCounter))]</tw-passagedata><tw-passagedata pid="336" name="soviet official" tags="" position="1704,1482" size="100,100">(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[The soviet official approaches you. &quot;,    !&quot; he commands. When you are unable to respond appropriately, he has you arrested and (link:&quot;bundled on a train to Siberia.&quot;)[(set: $siberianDirection to &quot;east&quot;)(set: $gulag to &quot;arrested&quot;)(set:$siberianCounter to 1)(goto:&quot;middle right&quot;)].]</tw-passagedata><tw-passagedata pid="337" name="train through countryside" tags="" position="922,1328" size="100,100">($overrideImage: &quot;19010&quot;)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{
You are on a train heading through the countryside.
(if: $nextStop is &quot;Pripyat&quot;)[There is nothing to do but [[watch the world go by-&gt;complex nine]] ]
(else-if: $nextStop is &quot;Moscow&quot;)[There is nothing to do but [[watch the world go by-&gt;two fifths up]] ]
(else-if: $nextStop is &quot;Berlin&quot;)[There is nothing to do but [[watch the world go by-&gt;complex eight]] ]
(else-if: $nextStop is &quot;farm&quot;)[There is nothing to do but [[watch the world go by-&gt;complex zero]] ]
(else:)[Error: no next stop specified.]
}
]</tw-passagedata><tw-passagedata pid="338" name="reactor" tags="" position="1196,118" size="100,100">(set: $thisYear to 10000)
(if: $decadeNumber is 1990)[($overrideImage: &quot;1991&quot;)]

(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are beneath the shadow of the Chernobyl reactor. From here you may go [[$downOnScreen-&gt;room 9]].[]]</tw-passagedata><tw-passagedata pid="339" name="bunker" tags="" position="2715,4017" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 4)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
(set: $waterway to (cond: 
	$decadeNumber is 760, &quot;Wurm&quot;,
	$decadeNumber is 530, &quot;lake&quot;,
	&quot;lake&quot;)
	)
(if: $decadeNumber is 1980)[($overrideImage: &quot;198041&quot;)]

($refreshSentences:)}(border-color: purple) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{
You are in an underground bunker beneath the shadow of the Berlin wall.

($room4content:)

From here you may go [[up to the main street.-&gt;souk 4]] 
[]
}]</tw-passagedata><tw-passagedata pid="340" name="guard tower" tags="" position="2847,3720" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 6)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
(set: $waterway to (cond: 
	$decadeNumber is 760, &quot;Wurm&quot;,
	$decadeNumber is 530, &quot;lake&quot;,
	&quot;lake&quot;)
	)
(if: $decadeNumber is 1980)[($overrideImage: &quot;198051&quot;)]

($refreshSentences:)}(border-color: cyan) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{
You are at the top of a guard tower overlooking the no-man&#39;s land beneath the east and west sections of the Berlin wall. 

($room6content:)

From here you may go [[down to the base of the wall-&gt;souk 5]]. 
[]
}]</tw-passagedata><tw-passagedata pid="341" name="rotateStart" tags="" position="885,721" size="100,100">(set: $rotateMap to 
(macro: [
	(set: _x to (cond:
		$rotation is 0, 0, 
	(output-data:_x)
	]))</tw-passagedata><tw-passagedata pid="342" name="set up map debugging" tags="startup" position="769,723" size="100,100">(set: $setUpMapDebugging to 
(macro: [
	(set: $transform to (a:))
	(set: $strtRoomz to (a:$startRoom))
	(set: $rightDirections to (a:&quot;default-east&quot;))
	(set: $upDirections to (a:&quot;default-north&quot;))
	(output-data:&quot;&quot;)
	]))

</tw-passagedata><tw-passagedata pid="343" name="print map transformations" tags="" position="1008,722" size="100,100">{(set: $printMapTransformations to 
(macro: [
	(print: $transform)
	(print: $strtRoomz)
	(print: $rightDirections)
	(print: $upDirections)	
	(output-data:_x)
	]))
}</tw-passagedata><tw-passagedata pid="344" name="solarium" tags="" position="2340,3355" size="100,100">{($setImage:)
(if: $decadeNumber is 1870)[($overrideImage:1871)]
($refreshSentences:)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are in the $flooded $solarium of a $domicile. To the $returnDirection is a $returnRoom.[]]}</tw-passagedata><tw-passagedata pid="345" name="stables" tags="" position="2356,2733" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 6)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
($refreshSentences:)
(border-color: cyan) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence(if:$domicile is in (a:&quot;house&quot;,&quot;mansion&quot;))[, on an aisle between the booths where the horses are tethered.](else:)[.] ($room6content:) To leave here you must head $downOnScreen to the [[$secondYard-&gt;secondYard]]. []]}</tw-passagedata><tw-passagedata pid="346" name="secondYard" tags="" position="2354,2880" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 13)
(if: $decadeNumber is 1870)[($overrideImage:1871)]
($refreshSentences:)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[You are on a path from the yard to the stables. If you wish, you can go [[$upOnScreen to the stables-&gt;stables]], or [[$leftOnScreen to the yard-&gt;yard]]. []]}</tw-passagedata><tw-passagedata pid="347" name="rear hall" tags="" position="2625,2831" size="100,100">{($setImage:)
($refreshSentences:)
(set: $thisRoomsNumber to 15)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You are in the rear hall of a $domicile. To the $leftOnScreen is the $partiallySubmerged [[$mainStaircase-&gt;alt staircase]]. Or you can head [[$downOnScreen to the front of the hall.-&gt;entrance hall]].}[]]}</tw-passagedata><tw-passagedata pid="348" name="alt staircase" tags="" position="2483,2830" size="100,100">{($setImage:)
($refreshSentences:)
(set: $thisRoomsNumber to 14)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You are on the $partiallySubmerged $mainStaircase of a $domicile. You can head up and to the $upOnScreen to the (link: $landing)[(goto: &quot;main landing&quot;)] or down and to the $rightOnScreen to the [[$entranceHall-&gt;rear hall]].}[]]}</tw-passagedata><tw-passagedata pid="349" name="gallery" tags="" position="3141,2942" size="100,100">{($setImage:)
($refreshSentences:)
(set: $thisRoomsNumber to 22)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{(if: 2 is in $optionalPaths)[You are in a $flooded $gallery in a $grandHouse. The walls of this long room are bedecked with the finest tapestries and enormous paintings of great figures from the history of the $grandHouse. From here you may go $leftOnScreen to the [[$rightOnScreen hall-&gt;right hallway]] or $rightOnScreen to the [[$oratory-&gt;oratory]].](else:)[(goto:&quot;oratory&quot;)]}[]]}</tw-passagedata><tw-passagedata pid="350" name="sance room" tags="" position="3776,2651" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="351" name="set path prep" tags="startup" position="505,1564" size="100,100">{
&lt;!--encases the locipreps dm to give it a default value of &quot;in&quot; if nothing is specified --&gt; 

(set: $setPathPrep to
(macro: [
	(if: $lociPreps contains $pathNoun)
		[(set: $pathPrep to $pathNoun of $lociPreps)]
	(else:)[(set: $pathPrep to &quot;in&quot;)]
	(output-data: &quot;&quot;)
	]))

&lt;!--Dummy code to create arrows, in interface, to called functions --&gt;
[[ -&gt;preps database]]
}</tw-passagedata><tw-passagedata pid="352" name="midleft landing" tags="" position="3771,2510" size="100,100">{($setImage:)
($refreshSentences:) 
(set: $thisRoomsNumber to 32)
(set:$entryPointFromElevator to &quot;null&quot;)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[
(if: $architecture is &quot;mansion&quot;)[You are on the $leftOnScreen landing.
	(if: $decadeNumber is 1840)[A set of wooden steps leads up [[through a narrow stairwell-&gt;sance room]] to the $downOnScreen.] 
	(if: 3 is in $optionalPaths) [The landing continues to the (link: $leftOnScreen)[(goto:&quot;left landing&quot;)] and (link: $rightOnScreen)[(goto:&quot;main landing&quot;)] from here.]
	(else:)[The landing leads [[$upOnScreen-&gt;uplanding]] and [[$rightOnScreen-&gt;main landing]] from here.]
	](else:)[(if: $heading is $leftOnScreen) [(goto:&quot;left landing&quot;)].
	(if: $heading is $rightOnScreen)[(goto: &quot;main landing&quot;)]][]]}</tw-passagedata><tw-passagedata pid="353" name="midright landing" tags="" position="4038,2507" size="100,100">{($setImage:)
($refreshSentences:) 
(set:$entryPointFromElevator to &quot;null&quot;)
(set: $thisRoomsNumber to 34)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[
(if: $architecture is &quot;mansion&quot;)[You are on the $rightOnScreen landing.
	The landing continues to the (link: $leftOnScreen)[(goto:&quot;main landing&quot;)] and (link: $rightOnScreen)[(goto:&quot;right landing&quot;)].
	(if: 3 is in $optionalPaths)[A corridor also branches off to the $upOnScreen.]
	](else:)[(if: $heading is $leftOnScreen) [(goto:&quot;main landing&quot;)].
	(if: $heading is $rightOnScreen)[(goto: &quot;left landing&quot;)]][]]}</tw-passagedata><tw-passagedata pid="354" name="mannequin room" tags="" position="2463,3355" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="355" name="inner courtyard" tags="" position="2591,3356" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="356" name="servant&#39;s dining room" tags="" position="2726,3355" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="357" name="taxidermy room" tags="" position="2863,3355" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="358" name="uplanding" tags="" position="3769,2370" size="100,100">{($setImage:)
($refreshSentences:) 
(set: $thisRoomsNumber to 30)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{You are on a corridor leading $upOnScreen from the main landing. If you wish to go to the main landing, you may [[head $downOnScreen-&gt;midleft landing]]. Otherwise, the corridor [[turns $leftOnScreen from here-&gt;left landing]]. (if: 5 is in $optionalPaths) [A door from here leads $upOnScreen.] }[]]}</tw-passagedata><tw-passagedata pid="359" name="collapsed landing" tags="" position="3000,3355" size="100,100">Double-click this passage to edit it.</tw-passagedata></tw-storydata>

<tw-storydata name="image tester" startnode="1" creator="Twine" creator-version="2.3.12" ifid="097EC3BA-3F08-4862-A201-DC57E2E0CC51" zoom="1" format="Harlowe" format-version="3.2.1" options="" hidden><style role="stylesheet" id="twine-user-stylesheet" type="text/twine-css">tw-story[tags~="armada"] {
 background-image:url("https://i.ibb.co/pPy3MRH/armadainvencible.jpg");
 background-size:cover;
}
tw-story[tags~="harbor"] {
 background-image:url("http://ohiofi.com/img/The%20Harbor%202.png");
 background-size:cover;
}</style><script role="script" id="twine-user-script" type="text/twine-javascript">window.Harlowe = { 'State' : State };
window.processInputElements = function () {
    $('input[data-varname]').on('change', function () {
        var varName = $(this).attr('data-varname');
        Harlowe.State.variables[varName] = this.value;
        $("tw-story").css("height","100%");
				$("tw-story").css("background-repeat","no-repeat");	
    });
};


if (typeof window.CustomScripts == "undefined") {
	window.CustomScripts = {
		updateBackground(myBackground){
			// if it's always going to be cover, you can put it outside the if statement
			$("tw-story").css("background-size","contain");
			$("tw-story").css("background-repeat","no-repeat");					
			$("tw-story").css("background-position","center");	
			// check the functions parameter for which background image to use
			if(myBackground == 0) //
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/f2vTfnH/tunnels.jpg)");
			}
			else if(myBackground == -12) // 
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/fkvzyZX/thugs.jpg)");
			}
			else if(myBackground == -11) // 
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/wKZ7YhN/thomas-Becket-Blinded.jpg)");
			}
			else if(myBackground == -10) // 
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/yVNS2QL/charlemagnes-Death.jpg)");
			}
			else if(myBackground == -9) // 
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/hyzKg9M/thomas-Becket-Window-Invert.jpg)");
			}
			else if(myBackground == -8) // 
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/Kw4PqNq/baby-Dragon.jpg)");
			}
			else if(myBackground == -7) // 
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/10Ss8Vp/eustace-Red.jpg)");
			}
			else if(myBackground == -6) // 
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/BK35wdS/treaty-Of-Winchester-Bloody.png)");
			}
			else if(myBackground == -5) // 
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/zPXS9fj/king2-Purple.jpg)");
			}
			else if(myBackground == -4) // 
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/yfz3mc2/Stephen-Blue.jpg)");
			}
			else if(myBackground == -3) // 
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/Lp6SFJ9/prince-Corpse.jpg)");
			}
			else if(myBackground == -2) // 
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/FwnDHCw/butcher2.jpg)");
			}
			else if(myBackground == -1) // 
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/08/b2/5a/08b25ac76c7c0c5571e0b98af8bd53f5.jpg)");
			}
			else if(myBackground == 1) // decade nos end in 1
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/pdHbTrC/mushrooms.jpg)");
			}
			else if(myBackground == 11)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/3b/a6/7c/3ba67c68c69aa5ff049e70af3e1398be.jpg)");
			}
			else if(myBackground == 21)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/hCsSZw0/CREATOR-gd-jpeg-v1-0-using-IJG-JPEG-v80-quality-80.jpg)");
			}
			else if(myBackground == 31)
			{
				$("tw-story").css("background-image","url(https://farm4.staticflickr.com/3881/14548118871_9a25db8f3b_k.jpg)");
			}
			else if(myBackground == 41)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/2c/6a/6d/2c6a6da05c9ba99228068306657fbf82.jpg)");
			}
			else if(myBackground == 51)
			{
				$("tw-story").css("background-image","url(https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/224cf4fa-33d8-4223-974d-67aecc72bd2c/d32esvm-fab667ec-f070-4610-baf7-d1f993c43768.jpg/v1/fill/w_800,h_600,q_75,strp/the_armory_by_rytango-d32esvm.jpg?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwic3ViIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsImF1ZCI6WyJ1cm46c2VydmljZTppbWFnZS5vcGVyYXRpb25zIl0sIm9iaiI6W1t7InBhdGgiOiIvZi8yMjRjZjRmYS0zM2Q4LTQyMjMtOTc0ZC02N2FlY2M3MmJkMmMvZDMyZXN2bS1mYWI2NjdlYy1mMDcwLTQ2MTAtYmFmNy1kMWY5OTNjNDM3NjguanBnIiwid2lkdGgiOiI8PTgwMCIsImhlaWdodCI6Ijw9NjAwIn1dXX0.eOpCwc84GDmV-LB1ltAyddWpeuwIVVH9qw4oPJeQbKM)");
			}
			else if(myBackground == 61)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/60/f9/69/60f969f538253f68ec5be1b5846a2568.jpg)");
			}
			else if(myBackground == 71)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/g9hVkhF/catacombs-Chapel4.jpg)");
			}
			else if(myBackground == 81)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/yf9SCJJ/leper-Colony2.jpg)");
			}
			else if(myBackground == 91)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/88/92/e1/8892e11f0ae9128001380264179ffd88.jpg)");
			}
			else if(myBackground == 100)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/4f/0b/88/4f0b88df6b723ffda1fb80629884521a.jpg)");
			}
			else if(myBackground == 101)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/5b/c7/19/5bc719f84cfc170ff0558702b2c97876.jpg)");
			}
			else if(myBackground == 111)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/84/77/ea/8477eac606801135e48e2208305f3914.jpg)");
			}
			else if(myBackground == 121)
			{
				$("tw-story").css("background-image","url(https://th.bing.com/th/id/Rde8b516f69680e4a2a7243c2ec81a701?rik=FLjo2Zvd6dVPyw&riu=http%3a%2f%2fimages4.wikia.nocookie.net%2f__cb20130419200553%2fspartacus%2fimages%2f5%2f59%2fSpartacus_Legends_Ludus_fight.png&ehk=YzsHyiOKeH38%2fusktTVJv%2beUid2DYSentQ23hcClX98%3d&risl=&pid=ImgRaw)");
			}
			else if(myBackground == 131)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/YW02YJF/temple-Of-Vesta.jpg)");
			}
			else if(myBackground == 141)
			{
				$("tw-story").css("background-image","url(https://www.thesimsresource.com/scaled/2599/w-800h-600-2599642.jpg)");
			}
			else if(myBackground == 151)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/6a/7f/c1/6a7fc16f23671dc5bd0bed4c462eccc4.jpg)");
			}
			else if(myBackground == 161)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/0F4cX5y/roman-Slave-Marke5.jpg)");
			}
			else if(myBackground == 171)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/736x/d2/e4/c1/d2e4c197c68fe2cb4d2e7de5f4143e2b.jpg)");
			}
			else if(myBackground == 181)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/b4/39/a8/b439a87560b02424c656b1120e29740d.jpg)");
			}
			else if(myBackground == 191)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/4c/ae/c0/4caec06d6814e915a3c32affa4123800.jpg)");
			}
			else if(myBackground == 200)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/QP3FV3P/forbidden-City.jpg)");
			}
			else if(myBackground == 201)
			{
				$("tw-story").css("background-image","url(https://th.bing.com/th/id/R2cae1fcbbabcb57451c68fc47571a351?rik=leu7YgYWctPMsg&riu=http%3a%2f%2faidanmoher.com%2fblog%2fwp-content%2fuploads%2f2014%2f07%2ftwilight_garden_by_alextooth-d5t47sa.jpg&ehk=3knU%2fwpIey%2b%2bQT8LlaYoJrnuJ36TOKBVgzJHM3SAHtA%3d&risl=&pid=ImgRaw)");
			}
			else if(myBackground == 211)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/5f/00/3f/5f003fc16b10572cfe4c34c313beec70.jpg)");
			}
			else if(myBackground == 221)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/9c/99/54/9c9954bc49514aafb47624cbb3c2a993.jpg)");
			}
			else if(myBackground == 231)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/9c/85/32/9c853217e910c978b24ed75ac63e923f.jpg)");
			}
			else if(myBackground == 241)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/67/f0/8b/67f08bbc42a27c9da1011532332c1fe5.jpg)");
			}
			else if(myBackground == 251)
			{
				$("tw-story").css("background-image","url(https://gcdn.daz3d.com/p/56851/i/chinese-temple-gate-05-daz3d.jpg)");
			}
			else if(myBackground == 261)
			{
				$("tw-story").css("background-image","url(https://gcdn.daz3d.com/p/63811/i/china-houses-04-daz3d.jpg)");
			}
			else if(myBackground == 271)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/14/10/2a/14102a474694c64c8f3779901390effc.jpg)");
			}
			else if(myBackground == 281)
			{
				$("tw-story").css("background-image","url(https://c4.wallpaperflare.com/wallpaper/49/579/585/jungle-fantasy-art-asian-architecture-artwork-wallpaper-preview.jpg)");
			}
			else if(myBackground == 291)
			{
				$("tw-story").css("background-image","url(https://c4.wallpaperflare.com/wallpaper/672/517/150/nature-digital-art-water-artwork-wallpaper-preview.jpg)");
			}
			else if(myBackground == 300)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/1a/b3/ef/1ab3ef0450478c4305701a2361add0a1.jpg)");
			}
			else if(myBackground == 301)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/BGgLGn6/farm.png)");
			}
			else if(myBackground == 311)
			{
				$("tw-story").css("background-image","url(https://farm4.staticflickr.com/3385/3496684667_b8f76dc6c1_z.jpg)");
			}
			else if(myBackground == 321)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/32/13/9d/32139df326afc0e39257f8494d345830.jpg)");
			}	
			else if(myBackground == 331)
			{
				$("tw-story").css("background-image","url(			https://i.pinimg.com/originals/a9/ed/9e/a9ed9efa3644d7d499d97e07395a55c6.jpg)");
			}
			else if(myBackground == 341)
			{
				$("tw-story").css("background-image","url(			https://i.pinimg.com/originals/42/ef/59/42ef592a42eb7cb19dfbadb818d73b3e.jpg)");
			}	
			else if(myBackground == 351)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/af/ea/b4/afeab4b55f09b86fd10b5cb7eeb1da14.jpg)");
			}
			else if(myBackground == 361)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/crJ8skB/under-Ground-Mine.jpg)");
			}
			else if(myBackground == 371)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/q09vQgb/The-Hedge-Maze.jpg)");
			}
			else if(myBackground == 381)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/YD4Gczm/st-John-The-Forerunner.jpg)");
			}
			else if(myBackground == 391)
			{
				$("tw-story").css("background-image","url(https://cdn.staticneo.com/n/1/hellraidtease.jpg)");
			}	
			else if(myBackground == 400)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/mqnHtMw/romeRuin.jpg)");
			}		
			else if(myBackground == 401)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/69/b6/28/69b6284a11d4bb26dabb4b5b181eeac6.jpg)");
			}
			else if(myBackground == 411)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/6HTWp0p/circus.jpg)");
			}
			else if(myBackground == 421)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/cc/a4/3f/cca43f0d9a53e1df81cda400000101dd.jpg)");
			}
			else if(myBackground == 431)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/33/33/b9/3333b98d98b9445d71b78a6b284cfe99.jpg)");
			}
			else if(myBackground == 441)
			{
				$("tw-story").css("background-image","url(https://cdna.artstation.com/p/assets/images/images/002/303/018/large/dongmin-shin-templar-ruinedtown-wip9.jpg?1459996240)");
			}	
			else if(myBackground == 451)
			{
				$("tw-story").css("background-image","url(https://www.wallpaperup.com/uploads/wallpapers/2013/07/20/120965/89b86219a5d4290deb3ff8c0da5b1a36.jpg)");
			}
			else if(myBackground == 461)
			{
				$("tw-story").css("background-image","url(https://i2-prod.mirror.co.uk/incoming/article5552145.ece/ALTERNATES/s1227b/PAY-Holmesburg-Prison.jpg)");
			}
			else if(myBackground == 471)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/ngYfvzq/garden.jpg)");
			}
			else if(myBackground == 481)
			{
				$("tw-story").css("background-image","url(https://cdna.artstation.com/p/assets/images/images/000/119/916/large/klaus-wittmann-asylum22.jpg?1443927398)");
			}
			else if(myBackground == 491)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/MZhYCtM/deathPit.jpg)");
			}
			else if(myBackground == 500)
			{
				$("tw-story").css("background-image","url(https://3.bp.blogspot.com/-79MN6Y6He4s/VHdEsATzIGI/AAAAAAADkaM/kQwDbXhJiLg/s1600/David%2BJermann-www.kaifineart.com-3.jpg)");
			}
			else if(myBackground == 501)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/f9pKJcb/enchanted-Wood2.jpg)");
			}	
			else if(myBackground == 511)
			{
				$("tw-story").css("background-image","url(http://coolvibe.com/wp-content/uploads/2012/08/2D-Art-Marcel-Mercado-Joust.jpg)");
			}	
			else if(myBackground == 521)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/68/7c/00/687c000923c080f9dc0c5e1c3cd0d0fa.jpg)");
			}				
			else if(myBackground == 531)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/1bZykJc/lake-by-glooh2.jpg)");
			}	
			else if(myBackground == 541)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/3d/c5/5d/3dc55d3812b254ac0c046f2eac668d91.jpg)");
			}	
			else if(myBackground == 551)
			{
				$("tw-story").css("background-image","url(https://images8.alphacoders.com/911/911883.jpg)");
			}	
			else if(myBackground == 561)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/f5/3e/3e/f53e3eb5bdd368ca60a01f157dc101d7.jpg)");
			}			
			else if(myBackground == 571)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/b2/67/39/b26739e37de690d1f43a6879cc5310f9.jpg)");
			}		
			else if(myBackground == 581)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/e2/53/5b/e2535b15f700f58515d548d7dd2aed27.jpg)");
			}				
			else if(myBackground == 591)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/KDCTZB2/plague-Barrow.jpg)");
			}	
			else if(myBackground == 600)
			{
				$("tw-story").css("background-image","url(http://vignette3.wikia.nocookie.net/assassinscreed/images/b/b8/Damascus-depth.jpg/revision/latest?cb=20100918105609)");
			}	
			else if(myBackground == 601)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/f1/20/1b/f1201baf2cec354672609d02d7ad4302.jpg)");
			}	
			else if(myBackground == 611)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/1dvz7wZ/hashish-Den4.jpg)");
			}
			else if(myBackground == 621)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/e9/2c/4c/e92c4caa1d93e7e015875de38ba6a16f.jpg)");
			}
			else if(myBackground == 631)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/69/9b/77/699b77b9295494ee80e77b84b98c0f7d.jpg)");
			}	
			else if(myBackground == 641)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/X29k7Xs/bazaar.jpg)");
			}	
			else if(myBackground == 651)
			{
				$("tw-story").css("background-image","url(https://static.thousandwonders.net/Citadel.of.Aleppo.original.36222.jpg)");
			}
			else if(myBackground == 661)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/2a/a6/a9/2aa6a900e767e36825a32d0a90d8b461.jpg)");
			}
			else if(myBackground == 671)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/a1/04/08/a10408cce174ca470a2341ad74755010.jpg)");
			}
			else if(myBackground == 681)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/3e/9c/40/3e9c40a4b3bd04ed44f843d22363ab48.jpg)");
			}
			else if(myBackground == 691)
			{
				$("tw-story").css("background-image","url(https://aidanmoher.com/blog/wp-content/uploads/2014/07/desert_village_by_crs1009-d5zij53.jpg)");
			}
			else if(myBackground == 700)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/9Hyc6dz/gothic-Street.png)");
			}
			else if(myBackground == 701)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/hVYjhGq/CREATOR-gd-jpeg-v1-0-using-IJG-JPEG-v80-quality-90.jpg)");
			}
			else if(myBackground == 711)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/cxY4RWS/thermae.jpg)");
			}
			else if(myBackground == 721)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/dmRYrMT/holy-Library3.jpg)");
			}
			else if(myBackground == 731)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/vY7jChx/womensewing-Twilight.jpg)");
			}
			else if(myBackground == 741)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/24/e7/26/24e726a009e9c0905cbaf1ed8772caf1.jpg)");
			}
			else if(myBackground == 751)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/1rbyYTq/barracks4.png)");
			}
			else if(myBackground == 761)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/c7/60/28/c76028bc15bd6698b329980f7470cf49.jpg)");
			}
			else if(myBackground == 771)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/6c/25/76/6c2576e3bc81bc621c99980232d5c689.jpg)");
			}
			else if(myBackground == 781)
			{
				$("tw-story").css("background-image","url(https://uploads6.wikiart.org/images/francisco-goya/plague-hospital-1800.jpg!Large.jpg)");
			}
			else if(myBackground == 791)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/25/ee/e0/25eee032d448a0eec4b745e5a7a56aa8.jpg)");
			}
			else if(myBackground == 800)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/6c/fe/8c/6cfe8c56f9c18de0e14e98c531cde07a.jpg)");
			}
			else if(myBackground == 801)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/yWhgVjT/swamp4.jpg)");
			}		
			else if(myBackground == 811)
			{
				$("tw-story").css("background-image","url(https://jkroots.com/wp-content/uploads/2017/08/MysticPondPrint-scaled.jpg)");
			}	
			else if(myBackground == 821)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/6b9LMjn/flooded-Library.png)");
			}			
			else if(myBackground == 831)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/fa/6c/fd/fa6cfd32e3239cdf71f5331a95a9746b.jpg)");
			}	
			else if(myBackground == 841)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/ea/e1/65/eae16566315c05e3c623e4c3c7c06862.jpg)");
			}	
			else if(myBackground == 851)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/bm5QH4c/sunken-Castle2.jpg)");
			}	
			else if(myBackground == 861)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/Tg6YH9v/pit-trap.jpg)");
			}				
			else if(myBackground == 871)
			{
				$("tw-story").css("background-image","url(https://www.wallpaperflare.com/static/208/667/589/church-fantasy-art-birds-artwork-wallpaper.jpg)");
			}			
			else if(myBackground == 881)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/37/00/be/3700be067e2732b411d950946ea44a4a.jpg)");
			}	
			else if(myBackground == 891)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/95/16/cf/9516cf9c7a517d5980c3453c1544617e.jpg)");
			}	
			else if(myBackground == 900)
			{
				$("tw-story").css("background-image","url(https://www.tfw2005.com/boards/attachments/james-paick-e-nazihq-20160503-wip-v6-jpaick-jpg.27755109/)");
			}		
			else if(myBackground == 901)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/da/5a/2c/da5a2ca8a224e52b14e10db82a280bff.jpg");
			}
			else if(myBackground == 911)
			{
				$("tw-story").css("background-image","url(https://th.bing.com/th/id/R.d2eeafba8c707986349e8deab24dc0ce?rik=GEWQecIHPeqzrg&riu=http%3a%2f%2fimg12.deviantart.net%2fcffe%2fi%2f2015%2f061%2f1%2fb%2fnazi_future_racing_1_by_heavytransit-d8k6966.jpg&ehk=0DxZbmpxcUQabWysj1CxFL%2f4U3EFAsYG4kMOSb3uXzs%3d&risl=&pid=ImgRaw&r=0)");
			}		
			else if(myBackground == 921)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/db0RsT8/snow-Troopers.jpg");
			}	
			else if(myBackground == 931)
			{
				$("tw-story").css("background-image","url(https://boyofbow13.files.wordpress.com/2010/11/nuns-with-guns.jpg)");
			}
			else if(myBackground == 941)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/vYhnyQZ/nazi-skyscraper.jpg");
			}
			else if(myBackground == 951)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/378VjDC/nazi-Court2.jpg)");
			}
			else if(myBackground == 961)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/wSHvdT9/camp.jpg)");
			}
			else if(myBackground == 971)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/6XVbmG4/cathedral.jpg)");
			}
			else if(myBackground == 981)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/736x/d4/ef/aa/d4efaa62a2ca4706ce8245148c137903--space-lab-sci-fi-environment.jpg)");
			}
			else if(myBackground == 991)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/mhYWKTX/belsen.jpg)");
			}
			else if(myBackground == 1000)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/DQkNrW7/pilgrims-Trail.jpg)");
			}
			else if(myBackground == 1001)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/BqZyxTX/st-Nicolas.jpg)");
			}
			else if(myBackground == 1011)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/R4kJzyb/st-Teresa-Of-Avila.jpg)");
			}
			else if(myBackground == 1021)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/QPFc64g/st-Albertus-Maximus.jpg)");
			}
			else if(myBackground == 1031)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/4PfQXty/magdalene5.jpg)");
			}
			else if(myBackground == 1041)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/dWXxXbr/homobonus.jpg)");
			}
			else if(myBackground == 1051)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/fdkMXJQ/adrian.jpg)");
			}
			else if(myBackground == 1061)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/thDKRxq/st-Leonard2.jpg)");
			}
			else if(myBackground == 1071)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/M8Nbr1Z/alternate0.jpg)");
			}
			else if(myBackground == 1081)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/4J59P6M/stPhocas.jpg)");
			}
			else if(myBackground == 1091)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/q7T8Rt4/stJoseph.jpg)");
			}
						else if(myBackground == 1100)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/smKnV4H/forest.jpg)");
			}
						else if(myBackground == 1101)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/Ydny0bF/rufus.jpg)");
			}
						else if(myBackground == 1111)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/e1/d8/29/e1d829d8e27c1abb7f96c0963ace5448.jpg)");
			}
						else if(myBackground == 1121)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/tDHmywn/Templars-gathering.jpg)");
			}
						else if(myBackground == 1131)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/cb/06/5c/cb065c9a70c70d8025fbb6521cf9f4b5.jpg)");
			}
						else if(myBackground == 1132)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/x8g9Fsh/kings-Lynn.jpg)");
			}
			else if(myBackground == 1133)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/dL267Bm/la-Rochelle.jpg)");
			}
						else if(myBackground == 1134)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/kXJt9d4/sailing.jpg)");
			}
						else if(myBackground == 1135)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/NW3MZTw/high-Cliffs.jpg)");
			}
						else if(myBackground == 1141)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/85/c4/63/85c463290b20c10ecf25e86a8778921e.jpg)");
			}
						else if(myBackground == 1151)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/d1/f9/f6/d1f9f6da0f13f78af4e53fb9b4bd0639.jpg)");
			}
						else if(myBackground == 1161)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/58/86/96/588696aa555c578e99d44a75d0bf4172.jpg)");
			}
						else if(myBackground == 1171)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/XxzSJxp/canterbury2.jpg)");
			}
						else if(myBackground == 1181)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/33/24/bc/3324bc30dc9c7902ce768d49febb1bc2.jpg)");
			}
						else if(myBackground == 1191)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/FDwV42T/ship-Wreck.jpg)");
			}			
						else if(myBackground == 1200)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/d71Wcy1/steppe.jpg)");
			}
									else if(myBackground == 1201)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/L1XyfqN/after-Flood3.jpg)");
			}
									else if(myBackground == 1211)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/BwPjCVP/festival.jpg)");
			}
									else if(myBackground == 1221)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/DtZp1Dn/polos-Quarters.jpg)");
			}
									else if(myBackground == 1231)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/B4W3c8C/women-City-Final.png)");
			}
									else if(myBackground == 1241)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/3dVJPLL/mongols-Moving.jpg)");
			}
									else if(myBackground == 1251)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/K02xW4b/civil-War2.jpg)");
			}
									else if(myBackground == 1261)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/FmfB7zf/kiev5.jpg)");
			}
									else if(myBackground == 1271)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/JnpvjDB/khan-Tengri.jpg)");
			}
									else if(myBackground == 1281)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/bNxhZ3X/wrecked-Fleet2.jpg)");
			}
									else if(myBackground == 1282)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/yXF5qV6/beach.jpg)");
			}
									else if(myBackground == 1283)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/JWZRNM3/CREATOR-gd-jpeg-v1-0-using-IJG-JPEG-v80-quality-90.jpg)");
			}			
									else if(myBackground == 1291)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/XsFW0kg/burning-City.jpg)");
			}
									else if(myBackground == 1292)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/bRff5V1/beautiful-Middle-Eastern-City.jpg)");
			}
									else if(myBackground == 1293)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/M5V6q84/CREATOR-gd-jpeg-v1-0-using-IJG-JPEG-v62-quality-90.jpg)");
			}
									else if(myBackground == 1294)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/fQNRpqB/burning-Gates.jpg)");
			}
									else if(myBackground == 1300)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/ZffKypZ/plague-Swamps.jpg)");
			}
									else if(myBackground == 1301)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/wCMRF0W/manor3.jpg)");
			}
									else if(myBackground == 1311)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/zR8jK9h/fairy-Castle3.jpg)");
			}
									else if(myBackground == 1321)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/bHwYN2B/wiitch.jpg)");
			}
									else if(myBackground == 1331)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/DwP9sTy/tentCamp.jpg)");
			}
									else if(myBackground == 1341)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/sCjPVzW/village-Life.jpg)");
			}
									else if(myBackground == 1351)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/MhCbQ61/Schiltron.png)");
			}
									else if(myBackground == 1361)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/W287qzg/prison-Cellar.png)");
			}
									else if(myBackground == 1371)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/QcS7C6s/wycliffe3.jpg)");
			}
									else if(myBackground == 1381)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/4W4r6Y1/wallup-net.jpg)");
			}
									else if(myBackground == 1391)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/5sC5W6C/hanging-Bodies.jpg)");
			}
			else if(myBackground == 1400)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/bvCrvx9/shipPOV6.png)");
			}	
			else if(myBackground == 1400.1)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/Zm1FTqj/narrowstraits.jpg)");
			}	
			else if(myBackground == 1401)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/sQ4rVkX/island2.jpg)");
			}	
			else if(myBackground == 1411)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/8M37Vcr/bearPits.jpg)");
			}	
			else if(myBackground == 1412)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/2PJrvHf/medieval-Port3.jpg)");
			}	
			else if(myBackground == 1421)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/VS73Qj4/renaissance-Street3.jpg)");
			}		
			else if(myBackground == 1422)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/LPG2fw0/renaissance-Port3.jpg)");
			}	
			else if(myBackground == 1431)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/6ZDwZZz/siege-Camp.jpg)");
			}	
			else if(myBackground == 1432)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/Snwxrfm/sailing-To-Orleans.jpg)");
			}	
			else if(myBackground == 1441)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/ssWNSGg/alexander-skold-alexander-skold-aztec-empire-1.jpg)");
			}	
			else if(myBackground == 1442)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/y6PmmV1/sailing-Upriver3.jpg)");
			}	
			else if(myBackground == 1451)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/H7zSzwK/sieged-City3.jpg)");
			}	
						else if(myBackground == 1452)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/tqBPV0N/sailing-Up-River6.jpg)");
			}	
			else if(myBackground == 1461)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/c7/21/d9/c721d9fc92848c2419b43c670a25f15f.jpg)");
			}		
			else if(myBackground == 1462)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/R0yLRQR/london-Port3.jpg)");
			}	
			else if(myBackground == 1471)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/9gdQzqF/cathedral.jpg)");
			}			
			else if(myBackground == 1481)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/QKnCzFy/torture-Hall.jpg)");
			}	
			else if(myBackground == 1482)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/Zz0GkGZ/spanish-Port.jpg)");
			}				
			else if(myBackground == 1491)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/60792FM/impaled-Fields.jpg)");
			}	
			else if(myBackground == 1492)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/cw1xwgL/sailing-Up-River5.jpg)");
			}	
			else if(myBackground == 1500)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/ZWC2p0n/square.jpg)");
			}	
			else if(myBackground == 1501)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/445wrpF/potato-Farm.jpg)");
			}	
			else if(myBackground == 1502)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/5946mkG/top-Middle.jpg)");
			}		
			else if(myBackground == 1503)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/Tbn13XH/lane2.jpg)");
			}		
			else if(myBackground == 1504)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/DLBHF6d/street-Four-Fifths-Up.jpg)");
			}	
			else if(myBackground == 1505)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/sWL9KF8/street-Three-Fifths-Up.jpg)");
			}		
			else if(myBackground == 1506)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/vh7qVXg/street11.jpg)");
			}	
			else if(myBackground == 1507)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/tXqrtwZ/docks-Dark.jpg)");
			}	
			else if(myBackground == 1508)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/4FZ54gW/street-Two-Fifths-Up.png)");
			}			
			else if(myBackground == 1509)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/Zmhqvbk/street-bottom.jpg)");
			}	
			else if(myBackground == 1510)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/bXxzFfK/street14-michal-salata-enviro-concept02.jpg)");
			}	
			else if(myBackground == 1511)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/1JG1gwr/peasants-bowling-in-a-village-street.jpg)");
			}		
			else if(myBackground == 1521)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/6tWhKcQ/staple-Inn.jpg)");
			}	
			else if(myBackground == 1531)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/f1jWdLy/dockside.jpg)");
			}		
			else if(myBackground == 1532)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/7VxDPNC/coldboat.jpg)");
			}	
			else if(myBackground == 1533)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/syN4wSw/cold-Antwerp.jpg)");
			}		
			else if(myBackground == 1534)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/x6ZQL2n/convent.jpg)");
			}				
			else if(myBackground == 1541)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/P57SMct/mores-House.jpg)");
			}		
			else if(myBackground == 1551)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/pPy3MRH/armadainvencible.jpg)");
			}			
			else if(myBackground == 1561)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/2Zq3VMZ/maryQoS.jpg)");
			}		
			else if(myBackground == 1571)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/v1dmNS2/chingle-Hall2.jpg)");
			}		
			else if(myBackground == 1581)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/S5f7L3j/broken-Statues.jpg)");
			}			
			else if(myBackground == 1591)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/RD8GQZh/Burning-at-the-Stake.jpg)");
			}	
			else if(myBackground == 1691)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/fDdcgbj/cliffside-Church.jpg)");
			}	
			else if(myBackground == 1800)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/gmfsyTx/skyline.jpg)");
			}	
			else if(myBackground == 1801)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/rvKzq2m/hospital.jpg)");
			}	
			else if(myBackground == 1802)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/3vZ9dQf/dockside.jpg)");
			}	
			else if(myBackground == 1803)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/QkPK2TV/along-The-Thames.jpg)");
			}	
			else if(myBackground == 1804)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/YRF1D9F/street.jpg)");
			}
			else if(myBackground == 1805)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/n81Qxfr/alley2.jpg)");
			}
			else if(myBackground == 1806)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/0tZG1HW/alley.jpg)");
			}	
			else if(myBackground == 1807)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/3CbXzzc/downtown.jpg)");
			}	
			else if(myBackground == 1808)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/3FxNMbN/whitechapel3.jpg)");
			}		
			else if(myBackground == 1809)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/M9j9HG8/street2.jpg)");
			}	
			else if(myBackground == 1810)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/gM75JFk/st-pauls.png)");
			}	
			else if(myBackground == 1811)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/nBKwvxk/workhouse2.jpg)");
			}
			else if(myBackground == 1812)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/wZmt8RQ/culDeSac.jpg)");
			}
			else if(myBackground == 1821)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/hV9p9JY/bakerSt4.png)");
			}
		else if(myBackground == 1831)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/J7wqqLt/white-Chapel4.jpg)");
			}
			else if(myBackground == 1841)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/7kBnXYT/staircase.jpg)");
			}			
			else if(myBackground == 1842)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/dtL95r6/Kenway-Mansion-NIGHT.jpg)");
			}	
			else if(myBackground == 1851)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/Gt566nk/fighting.jpg)");
			}	
			else if(myBackground == 1861)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/X4HdtrX/newgate.png)");
			}	
			else if(myBackground == 1871)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/F8pg94y/crowleys-Temple.jpg)");
			}	
			else if(myBackground == 1872)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/4VJKDFc/fleetSt.jpg)");
			}	
			else if(myBackground == 1873)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/Yb3ycLH/house.jpg)");
			}
			else if(myBackground == 1881)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/Z8cHB4f/rutledge-asylum-sane-by-spicyhorseofficial-d4ikmud.jpg)");
			}	
			else if(myBackground == 1891)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/F3St1NG/vaults.jpg)");
			}	
			else if(myBackground == 1901)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/mtWxQpS/devils-Woods.jpg)");
			}			
			else if(myBackground == 1911)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/2tjZcZK/CREATOR-gd-jpeg-v1-0-using-IJG-JPEG-v80-quality-90.jpg)");
			}				
			else if(myBackground == 2071)
			{
				$("tw-story").css("background-image","url(http://www.scififantasyhorror.co.uk/wp-content/gallery/Su-Jian/su-jian-scifi-art-11.jpg)");
			}
			else
			{
				$("tw-story").css("background-image","none");
			}
		}
	}
}

</script><tw-passagedata pid="1" name="Untitled Passage" tags="armada" position="412,472" size="100,100">&lt;img src=&quot;https://i.ibb.co/fDdcgbj/cliffside-Church.jpg&quot;</tw-passagedata></tw-storydata>

<tw-storydata name="decade template 4.0" startnode="38" creator="Twine" creator-version="2.3.12" ifid="4A6C3137-D2E1-4E71-AD84-EFF3AE5D5E53" zoom="0.6" format="Harlowe" format-version="3.2.1" options="" hidden><style role="stylesheet" id="twine-user-stylesheet" type="text/twine-css"></style><script role="script" id="twine-user-script" type="text/twine-javascript">window.Harlowe = { 'State' : State };
window.processInputElements = function () {
    $('input[data-varname]').on('change', function () {
        var varName = $(this).attr('data-varname');
        Harlowe.State.variables[varName] = this.value;
        $("tw-story").css("height","100%");
				$("tw-story").css("background-repeat","no-repeat");	
    });
};


if (typeof window.CustomScripts == "undefined") {
	window.CustomScripts = {
		updateBackground(myBackground){
			// if it's always going to be cover, you can put it outside the if statement
			$("tw-story").css("background-size","contain");
			$("tw-story").css("background-repeat","no-repeat");					
			$("tw-story").css("background-position","center");	
			// check the functions parameter for which background image to use
			if(myBackground == 0) //century backgrounds take nos 0, 100, 200 etc.
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/f2vTfnH/tunnels.jpg)");
			}
			else if(myBackground == -11) // 
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/wKZ7YhN/thomas-Becket-Blinded.jpg)");
			}
			else if(myBackground == -10) // 
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/yVNS2QL/charlemagnes-Death.jpg)");
			}
			else if(myBackground == -9) // 
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/hyzKg9M/thomas-Becket-Window-Invert.jpg)");
			}
			else if(myBackground == -8) // 
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/Kw4PqNq/baby-Dragon.jpg)");
			}
			else if(myBackground == -7) // 
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/10Ss8Vp/eustace-Red.jpg)");
			}
			else if(myBackground == -6) // 
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/BK35wdS/treaty-Of-Winchester-Bloody.png)");
			}
			else if(myBackground == -5) // 
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/zPXS9fj/king2-Purple.jpg)");
			}
			else if(myBackground == -4) // 
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/yfz3mc2/Stephen-Blue.jpg)");
			}
			else if(myBackground == -3) // 
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/Lp6SFJ9/prince-Corpse.jpg)");
			}
			else if(myBackground == -2) // 
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/FwnDHCw/butcher2.jpg)");
			}
			else if(myBackground == -1) // 
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/08/b2/5a/08b25ac76c7c0c5571e0b98af8bd53f5.jpg)");
			}
			else if(myBackground == 1) // decade nos end in 1
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/zJvFgQF/mushroom-Catacombs.jpg)");
			}
			else if(myBackground == 11)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/3b/a6/7c/3ba67c68c69aa5ff049e70af3e1398be.jpg)");
			}
			else if(myBackground == 21)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/hCsSZw0/CREATOR-gd-jpeg-v1-0-using-IJG-JPEG-v80-quality-80.jpg)");
			}
			else if(myBackground == 31)
			{
				$("tw-story").css("background-image","url(https://farm4.staticflickr.com/3881/14548118871_9a25db8f3b_k.jpg)");
			}
			else if(myBackground == 41)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/2c/6a/6d/2c6a6da05c9ba99228068306657fbf82.jpg)");
			}
			else if(myBackground == 51)
			{
				$("tw-story").css("background-image","url(https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/224cf4fa-33d8-4223-974d-67aecc72bd2c/d32esvm-fab667ec-f070-4610-baf7-d1f993c43768.jpg/v1/fill/w_800,h_600,q_75,strp/the_armory_by_rytango-d32esvm.jpg?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwic3ViIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsImF1ZCI6WyJ1cm46c2VydmljZTppbWFnZS5vcGVyYXRpb25zIl0sIm9iaiI6W1t7InBhdGgiOiIvZi8yMjRjZjRmYS0zM2Q4LTQyMjMtOTc0ZC02N2FlY2M3MmJkMmMvZDMyZXN2bS1mYWI2NjdlYy1mMDcwLTQ2MTAtYmFmNy1kMWY5OTNjNDM3NjguanBnIiwid2lkdGgiOiI8PTgwMCIsImhlaWdodCI6Ijw9NjAwIn1dXX0.eOpCwc84GDmV-LB1ltAyddWpeuwIVVH9qw4oPJeQbKM)");
			}
			else if(myBackground == 61)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/60/f9/69/60f969f538253f68ec5be1b5846a2568.jpg)");
			}
			else if(myBackground == 71)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/g9hVkhF/catacombs-Chapel4.jpg)");
			}
			else if(myBackground == 81)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/yf9SCJJ/leper-Colony2.jpg)");
			}
			else if(myBackground == 91)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/88/92/e1/8892e11f0ae9128001380264179ffd88.jpg)");
			}
			else if(myBackground == 100)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/4f/0b/88/4f0b88df6b723ffda1fb80629884521a.jpg)");
			}
			else if(myBackground == 101)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/5b/c7/19/5bc719f84cfc170ff0558702b2c97876.jpg)");
			}
			else if(myBackground == 111)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/84/77/ea/8477eac606801135e48e2208305f3914.jpg)");
			}
			else if(myBackground == 121)
			{
				$("tw-story").css("background-image","url(https://th.bing.com/th/id/Rde8b516f69680e4a2a7243c2ec81a701?rik=FLjo2Zvd6dVPyw&riu=http%3a%2f%2fimages4.wikia.nocookie.net%2f__cb20130419200553%2fspartacus%2fimages%2f5%2f59%2fSpartacus_Legends_Ludus_fight.png&ehk=YzsHyiOKeH38%2fusktTVJv%2beUid2DYSentQ23hcClX98%3d&risl=&pid=ImgRaw)");
			}
			else if(myBackground == 131)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/YW02YJF/temple-Of-Vesta.jpg)");
			}
			else if(myBackground == 141)
			{
				$("tw-story").css("background-image","url(https://www.thesimsresource.com/scaled/2599/w-800h-600-2599642.jpg)");
			}
			else if(myBackground == 151)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/6a/7f/c1/6a7fc16f23671dc5bd0bed4c462eccc4.jpg)");
			}
			else if(myBackground == 161)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/0F4cX5y/roman-Slave-Marke5.jpg)");
			}
			else if(myBackground == 171)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/736x/d2/e4/c1/d2e4c197c68fe2cb4d2e7de5f4143e2b.jpg)");
			}
			else if(myBackground == 181)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/b4/39/a8/b439a87560b02424c656b1120e29740d.jpg)");
			}
			else if(myBackground == 191)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/4c/ae/c0/4caec06d6814e915a3c32affa4123800.jpg)");
			}
			else if(myBackground == 200)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/QP3FV3P/forbidden-City.jpg)");
			}
			else if(myBackground == 201)
			{
				$("tw-story").css("background-image","url(https://th.bing.com/th/id/R2cae1fcbbabcb57451c68fc47571a351?rik=leu7YgYWctPMsg&riu=http%3a%2f%2faidanmoher.com%2fblog%2fwp-content%2fuploads%2f2014%2f07%2ftwilight_garden_by_alextooth-d5t47sa.jpg&ehk=3knU%2fwpIey%2b%2bQT8LlaYoJrnuJ36TOKBVgzJHM3SAHtA%3d&risl=&pid=ImgRaw)");
			}
			else if(myBackground == 211)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/5f/00/3f/5f003fc16b10572cfe4c34c313beec70.jpg)");
			}
			else if(myBackground == 221)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/9c/99/54/9c9954bc49514aafb47624cbb3c2a993.jpg)");
			}
			else if(myBackground == 231)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/9c/85/32/9c853217e910c978b24ed75ac63e923f.jpg)");
			}
			else if(myBackground == 241)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/67/f0/8b/67f08bbc42a27c9da1011532332c1fe5.jpg)");
			}
			else if(myBackground == 251)
			{
				$("tw-story").css("background-image","url(https://gcdn.daz3d.com/p/56851/i/chinese-temple-gate-05-daz3d.jpg)");
			}
			else if(myBackground == 261)
			{
				$("tw-story").css("background-image","url(https://gcdn.daz3d.com/p/63811/i/china-houses-04-daz3d.jpg)");
			}
			else if(myBackground == 271)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/14/10/2a/14102a474694c64c8f3779901390effc.jpg)");
			}
			else if(myBackground == 281)
			{
				$("tw-story").css("background-image","url(https://c4.wallpaperflare.com/wallpaper/49/579/585/jungle-fantasy-art-asian-architecture-artwork-wallpaper-preview.jpg)");
			}
			else if(myBackground == 291)
			{
				$("tw-story").css("background-image","url(https://c4.wallpaperflare.com/wallpaper/672/517/150/nature-digital-art-water-artwork-wallpaper-preview.jpg)");
			}
			else if(myBackground == 300)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/1a/b3/ef/1ab3ef0450478c4305701a2361add0a1.jpg)");
			}
			else if(myBackground == 301)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/BGgLGn6/farm.png)");
			}
			else if(myBackground == 311)
			{
				$("tw-story").css("background-image","url(https://farm4.staticflickr.com/3385/3496684667_b8f76dc6c1_z.jpg)");
			}
			else if(myBackground == 321)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/32/13/9d/32139df326afc0e39257f8494d345830.jpg)");
			}	
			else if(myBackground == 331)
			{
				$("tw-story").css("background-image","url(			https://i.pinimg.com/originals/a9/ed/9e/a9ed9efa3644d7d499d97e07395a55c6.jpg)");
			}
			else if(myBackground == 341)
			{
				$("tw-story").css("background-image","url(			https://i.pinimg.com/originals/42/ef/59/42ef592a42eb7cb19dfbadb818d73b3e.jpg)");
			}	
			else if(myBackground == 351)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/af/ea/b4/afeab4b55f09b86fd10b5cb7eeb1da14.jpg)");
			}
			else if(myBackground == 361)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/crJ8skB/under-Ground-Mine.jpg)");
			}
			else if(myBackground == 371)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/q09vQgb/The-Hedge-Maze.jpg)");
			}
			else if(myBackground == 381)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/YD4Gczm/st-John-The-Forerunner.jpg)");
			}
			else if(myBackground == 391)
			{
				$("tw-story").css("background-image","url(https://cdn.staticneo.com/n/1/hellraidtease.jpg)");
			}	
			else if(myBackground == 400)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/mqnHtMw/romeRuin.jpg)");
			}		
			else if(myBackground == 401)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/69/b6/28/69b6284a11d4bb26dabb4b5b181eeac6.jpg)");
			}
			else if(myBackground == 411)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/6HTWp0p/circus.jpg)");
			}
			else if(myBackground == 421)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/cc/a4/3f/cca43f0d9a53e1df81cda400000101dd.jpg)");
			}
			else if(myBackground == 431)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/33/33/b9/3333b98d98b9445d71b78a6b284cfe99.jpg)");
			}
			else if(myBackground == 441)
			{
				$("tw-story").css("background-image","url(https://cdna.artstation.com/p/assets/images/images/002/303/018/large/dongmin-shin-templar-ruinedtown-wip9.jpg?1459996240)");
			}	
			else if(myBackground == 451)
			{
				$("tw-story").css("background-image","url(https://www.wallpaperup.com/uploads/wallpapers/2013/07/20/120965/89b86219a5d4290deb3ff8c0da5b1a36.jpg)");
			}
			else if(myBackground == 461)
			{
				$("tw-story").css("background-image","url(https://i2-prod.mirror.co.uk/incoming/article5552145.ece/ALTERNATES/s1227b/PAY-Holmesburg-Prison.jpg)");
			}
			else if(myBackground == 471)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/ngYfvzq/garden.jpg)");
			}
			else if(myBackground == 481)
			{
				$("tw-story").css("background-image","url(https://cdna.artstation.com/p/assets/images/images/000/119/916/large/klaus-wittmann-asylum22.jpg?1443927398)");
			}
			else if(myBackground == 491)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/MZhYCtM/deathPit.jpg)");
			}
			else if(myBackground == 500)
			{
				$("tw-story").css("background-image","url(https://3.bp.blogspot.com/-79MN6Y6He4s/VHdEsATzIGI/AAAAAAADkaM/kQwDbXhJiLg/s1600/David%2BJermann-www.kaifineart.com-3.jpg)");
			}
			else if(myBackground == 501)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/f9pKJcb/enchanted-Wood2.jpg)");
			}	
			else if(myBackground == 511)
			{
				$("tw-story").css("background-image","url(http://coolvibe.com/wp-content/uploads/2012/08/2D-Art-Marcel-Mercado-Joust.jpg)");
			}	
			else if(myBackground == 521)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/68/7c/00/687c000923c080f9dc0c5e1c3cd0d0fa.jpg)");
			}				
			else if(myBackground == 531)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/1bZykJc/lake-by-glooh2.jpg)");
			}	
			else if(myBackground == 541)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/3d/c5/5d/3dc55d3812b254ac0c046f2eac668d91.jpg)");
			}	
			else if(myBackground == 551)
			{
				$("tw-story").css("background-image","url(https://images8.alphacoders.com/911/911883.jpg)");
			}	
			else if(myBackground == 561)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/f5/3e/3e/f53e3eb5bdd368ca60a01f157dc101d7.jpg)");
			}			
			else if(myBackground == 571)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/b2/67/39/b26739e37de690d1f43a6879cc5310f9.jpg)");
			}		
			else if(myBackground == 581)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/e2/53/5b/e2535b15f700f58515d548d7dd2aed27.jpg)");
			}				
			else if(myBackground == 591)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/KDCTZB2/plague-Barrow.jpg)");
			}	
			else if(myBackground == 600)
			{
				$("tw-story").css("background-image","url(http://vignette3.wikia.nocookie.net/assassinscreed/images/b/b8/Damascus-depth.jpg/revision/latest?cb=20100918105609)");
			}	
			else if(myBackground == 601)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/f1/20/1b/f1201baf2cec354672609d02d7ad4302.jpg)");
			}	
			else if(myBackground == 611)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/1dvz7wZ/hashish-Den4.jpg)");
			}
			else if(myBackground == 621)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/e9/2c/4c/e92c4caa1d93e7e015875de38ba6a16f.jpg)");
			}
			else if(myBackground == 631)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/69/9b/77/699b77b9295494ee80e77b84b98c0f7d.jpg)");
			}	
			else if(myBackground == 641)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/X29k7Xs/bazaar.jpg)");
			}	
			else if(myBackground == 651)
			{
				$("tw-story").css("background-image","url(https://static.thousandwonders.net/Citadel.of.Aleppo.original.36222.jpg)");
			}
			else if(myBackground == 661)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/2a/a6/a9/2aa6a900e767e36825a32d0a90d8b461.jpg)");
			}
			else if(myBackground == 671)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/a1/04/08/a10408cce174ca470a2341ad74755010.jpg)");
			}
			else if(myBackground == 681)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/3e/9c/40/3e9c40a4b3bd04ed44f843d22363ab48.jpg)");
			}
			else if(myBackground == 691)
			{
				$("tw-story").css("background-image","url(https://aidanmoher.com/blog/wp-content/uploads/2014/07/desert_village_by_crs1009-d5zij53.jpg)");
			}
			else if(myBackground == 700)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/9Hyc6dz/gothic-Street.png)");
			}
			else if(myBackground == 701)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/hVYjhGq/CREATOR-gd-jpeg-v1-0-using-IJG-JPEG-v80-quality-90.jpg)");
			}
			else if(myBackground == 711)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/cxY4RWS/thermae.jpg)");
			}
			else if(myBackground == 721)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/dmRYrMT/holy-Library3.jpg)");
			}
			else if(myBackground == 731)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/vY7jChx/womensewing-Twilight.jpg)");
			}
			else if(myBackground == 741)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/24/e7/26/24e726a009e9c0905cbaf1ed8772caf1.jpg)");
			}
			else if(myBackground == 751)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/1rbyYTq/barracks4.png)");
			}
			else if(myBackground == 761)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/c7/60/28/c76028bc15bd6698b329980f7470cf49.jpg)");
			}
			else if(myBackground == 771)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/6c/25/76/6c2576e3bc81bc621c99980232d5c689.jpg)");
			}
			else if(myBackground == 781)
			{
				$("tw-story").css("background-image","url(https://uploads6.wikiart.org/images/francisco-goya/plague-hospital-1800.jpg!Large.jpg)");
			}
			else if(myBackground == 791)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/25/ee/e0/25eee032d448a0eec4b745e5a7a56aa8.jpg)");
			}
			else if(myBackground == 800)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/6c/fe/8c/6cfe8c56f9c18de0e14e98c531cde07a.jpg)");
			}
			else if(myBackground == 801)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/yWhgVjT/swamp4.jpg)");
			}		
			else if(myBackground == 811)
			{
				$("tw-story").css("background-image","url(https://jkroots.com/wp-content/uploads/2017/08/MysticPondPrint-scaled.jpg)");
			}	
			else if(myBackground == 821)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/6b9LMjn/flooded-Library.png)");
			}			
			else if(myBackground == 831)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/fa/6c/fd/fa6cfd32e3239cdf71f5331a95a9746b.jpg)");
			}	
			else if(myBackground == 841)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/ea/e1/65/eae16566315c05e3c623e4c3c7c06862.jpg)");
			}	
			else if(myBackground == 851)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/bm5QH4c/sunken-Castle2.jpg)");
			}	
			else if(myBackground == 861)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/Tg6YH9v/pit-trap.jpg)");
			}				
			else if(myBackground == 871)
			{
				$("tw-story").css("background-image","url(https://www.wallpaperflare.com/static/208/667/589/church-fantasy-art-birds-artwork-wallpaper.jpg)");
			}			
			else if(myBackground == 881)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/37/00/be/3700be067e2732b411d950946ea44a4a.jpg)");
			}	
			else if(myBackground == 891)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/95/16/cf/9516cf9c7a517d5980c3453c1544617e.jpg)");
			}	
			else if(myBackground == 900)
			{
				$("tw-story").css("background-image","url(https://www.tfw2005.com/boards/attachments/james-paick-e-nazihq-20160503-wip-v6-jpaick-jpg.27755109/)");
			}		
			else if(myBackground == 901)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/da/5a/2c/da5a2ca8a224e52b14e10db82a280bff.jpg");
			}
			else if(myBackground == 911)
			{
				$("tw-story").css("background-image","url(https://th.bing.com/th/id/R.d2eeafba8c707986349e8deab24dc0ce?rik=GEWQecIHPeqzrg&riu=http%3a%2f%2fimg12.deviantart.net%2fcffe%2fi%2f2015%2f061%2f1%2fb%2fnazi_future_racing_1_by_heavytransit-d8k6966.jpg&ehk=0DxZbmpxcUQabWysj1CxFL%2f4U3EFAsYG4kMOSb3uXzs%3d&risl=&pid=ImgRaw&r=0)");
			}		
			else if(myBackground == 921)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/db0RsT8/snow-Troopers.jpg");
			}	
			else if(myBackground == 931)
			{
				$("tw-story").css("background-image","url(https://boyofbow13.files.wordpress.com/2010/11/nuns-with-guns.jpg)");
			}
			else if(myBackground == 941)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/vYhnyQZ/nazi-skyscraper.jpg");
			}
			else if(myBackground == 951)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/378VjDC/nazi-Court2.jpg)");
			}
			else if(myBackground == 961)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/wSHvdT9/camp.jpg)");
			}
			else if(myBackground == 971)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/6XVbmG4/cathedral.jpg)");
			}
			else if(myBackground == 981)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/736x/d4/ef/aa/d4efaa62a2ca4706ce8245148c137903--space-lab-sci-fi-environment.jpg)");
			}
			else if(myBackground == 991)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/mhYWKTX/belsen.jpg)");
			}
			else if(myBackground == 1000)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/DQkNrW7/pilgrims-Trail.jpg)");
			}
			else if(myBackground == 1001)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/BqZyxTX/st-Nicolas.jpg)");
			}
			else if(myBackground == 1011)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/R4kJzyb/st-Teresa-Of-Avila.jpg)");
			}
			else if(myBackground == 1021)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/QPFc64g/st-Albertus-Maximus.jpg)");
			}
			else if(myBackground == 1031)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/4PfQXty/magdalene5.jpg)");
			}
			else if(myBackground == 1041)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/dWXxXbr/homobonus.jpg)");
			}
			else if(myBackground == 1051)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/fdkMXJQ/adrian.jpg)");
			}
			else if(myBackground == 1061)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/thDKRxq/st-Leonard2.jpg)");
			}
			else if(myBackground == 1071)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/M8Nbr1Z/alternate0.jpg)");
			}
			else if(myBackground == 1081)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/4J59P6M/stPhocas.jpg)");
			}
			else if(myBackground == 1091)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/q7T8Rt4/stJoseph.jpg)");
			}
						else if(myBackground == 1100)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/smKnV4H/forest.jpg)");
			}
						else if(myBackground == 1101)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/Ydny0bF/rufus.jpg)");
			}
						else if(myBackground == 1111)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/e1/d8/29/e1d829d8e27c1abb7f96c0963ace5448.jpg)");
			}
						else if(myBackground == 1121)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/g96g93X/templars-Aye.jpg)");
			}
						else if(myBackground == 1131)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/cb/06/5c/cb065c9a70c70d8025fbb6521cf9f4b5.jpg)");
			}
						else if(myBackground == 1132)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/x8g9Fsh/kings-Lynn.jpg)");
			}
			else if(myBackground == 1133)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/dL267Bm/la-Rochelle.jpg)");
			}
						else if(myBackground == 1134)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/kXJt9d4/sailing.jpg)");
			}
						else if(myBackground == 1135)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/NW3MZTw/high-Cliffs.jpg)");
			}
						else if(myBackground == 1141)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/85/c4/63/85c463290b20c10ecf25e86a8778921e.jpg)");
			}
						else if(myBackground == 1151)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/d1/f9/f6/d1f9f6da0f13f78af4e53fb9b4bd0639.jpg)");
			}
						else if(myBackground == 1161)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/58/86/96/588696aa555c578e99d44a75d0bf4172.jpg)");
			}
						else if(myBackground == 1171)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/XxzSJxp/canterbury2.jpg)");
			}
						else if(myBackground == 1181)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/33/24/bc/3324bc30dc9c7902ce768d49febb1bc2.jpg)");
			}
						else if(myBackground == 1191)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/FDwV42T/ship-Wreck.jpg)");
			}			
						else if(myBackground == 1200)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/d71Wcy1/steppe.jpg)");
			}
									else if(myBackground == 1201)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/L1XyfqN/after-Flood3.jpg)");
			}
									else if(myBackground == 1211)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/BwPjCVP/festival.jpg)");
			}
									else if(myBackground == 1221)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/DtZp1Dn/polos-Quarters.jpg)");
			}
									else if(myBackground == 1231)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/B4W3c8C/women-City-Final.png)");
			}
									else if(myBackground == 1241)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/3dVJPLL/mongols-Moving.jpg)");
			}
									else if(myBackground == 1251)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/K02xW4b/civil-War2.jpg)");
			}
									else if(myBackground == 1261)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/FmfB7zf/kiev5.jpg)");
			}
									else if(myBackground == 1271)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/JnpvjDB/khan-Tengri.jpg)");
			}
									else if(myBackground == 1281)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/bNxhZ3X/wrecked-Fleet2.jpg)");
			}
									else if(myBackground == 1282)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/yXF5qV6/beach.jpg)");
			}
									else if(myBackground == 1291)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/XsFW0kg/burning-City.jpg)");
			}
									else if(myBackground == 1292)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/bRff5V1/beautiful-Middle-Eastern-City.jpg)");
			}
									else if(myBackground == 1293)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/M5V6q84/CREATOR-gd-jpeg-v1-0-using-IJG-JPEG-v62-quality-90.jpg)");
			}
									else if(myBackground == 1294)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/fQNRpqB/burning-Gates.jpg)");
			}
									else if(myBackground == 1300)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/ZffKypZ/plague-Swamps.jpg)");
			}
									else if(myBackground == 1301)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/wCMRF0W/manor3.jpg)");
			}
									else if(myBackground == 1311)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/zR8jK9h/fairy-Castle3.jpg)");
			}
									else if(myBackground == 1321)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/bHwYN2B/wiitch.jpg)");
			}
									else if(myBackground == 1331)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/DwP9sTy/tentCamp.jpg)");
			}
									else if(myBackground == 1341)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/sCjPVzW/village-Life.jpg)");
			}
									else if(myBackground == 1351)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/MhCbQ61/Schiltron.png)");
			}
									else if(myBackground == 1361)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/W287qzg/prison-Cellar.png)");
			}
									else if(myBackground == 1371)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/QcS7C6s/wycliffe3.jpg)");
			}
									else if(myBackground == 1381)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/4W4r6Y1/wallup-net.jpg)");
			}
									else if(myBackground == 1391)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/5sC5W6C/hanging-Bodies.jpg)");
			}
			else if(myBackground == 1400)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/bvCrvx9/shipPOV6.png)");
			}	
			else if(myBackground == 1400.1)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/Zm1FTqj/narrowstraits.jpg)");
			}	
			else if(myBackground == 1401)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/sQ4rVkX/island2.jpg)");
			}	
			else if(myBackground == 1411)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/8M37Vcr/bearPits.jpg)");
			}	
			else if(myBackground == 1412)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/2PJrvHf/medieval-Port3.jpg)");
			}	
			else if(myBackground == 1421)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/VS73Qj4/renaissance-Street3.jpg)");
			}		
			else if(myBackground == 1422)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/LPG2fw0/renaissance-Port3.jpg)");
			}	
			else if(myBackground == 1431)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/6ZDwZZz/siege-Camp.jpg)");
			}	
			else if(myBackground == 1432)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/Snwxrfm/sailing-To-Orleans.jpg)");
			}	
			else if(myBackground == 1441)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/ssWNSGg/alexander-skold-alexander-skold-aztec-empire-1.jpg)");
			}	
			else if(myBackground == 1442)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/y6PmmV1/sailing-Upriver3.jpg)");
			}	
			else if(myBackground == 1451)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/H7zSzwK/sieged-City3.jpg)");
			}	
						else if(myBackground == 1452)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/tqBPV0N/sailing-Up-River6.jpg)");
			}	
			else if(myBackground == 1461)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/c7/21/d9/c721d9fc92848c2419b43c670a25f15f.jpg)");
			}		
			else if(myBackground == 1462)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/R0yLRQR/london-Port3.jpg)");
			}	
			else if(myBackground == 1471)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/9gdQzqF/cathedral.jpg)");
			}			
			else if(myBackground == 1481)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/QKnCzFy/torture-Hall.jpg)");
			}	
			else if(myBackground == 1482)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/Zz0GkGZ/spanish-Port.jpg)");
			}				
			else if(myBackground == 1491)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/60792FM/impaled-Fields.jpg)");
			}	
			else if(myBackground == 1492)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/cw1xwgL/sailing-Up-River5.jpg)");
			}	
			else if(myBackground == 1840)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/dtL95r6/Kenway-Mansion-NIGHT.jpg)");
			}	
			else if(myBackground == 2071)
			{
				$("tw-story").css("background-image","url(http://www.scififantasyhorror.co.uk/wp-content/gallery/Su-Jian/su-jian-scifi-art-11.jpg)");
			}
			else
			{
				$("tw-story").css("background-image","none");
			}
		}
	}
}

</script><tw-passagedata pid="1" name="room 0" tags="" position="2005,584" size="100,100">{
($setImage:)
(set: $thisRoomsNumber to 0)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
(if: $floorInt is 12)[&lt;script&gt;CustomScripts.updateBackground(1291);&lt;/script&gt;]
(if: $place is &quot;Aztec&quot;)[&lt;script&gt;CustomScripts.updateBackground(1441);&lt;/script&gt;]
($refreshSentences:)
}
(border-color: black) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{
$complexSentence. 

(if: $thisYear is 1170)[There is a stained glass window here which (link: &#39;you may examine more closely.&#39;)[==[&lt;script&gt;CustomScripts.updateBackground(-9);&lt;/script&gt;]you lean in to examine more closely. The colored pieces of glass are arranged to depict a bishop, robed in black, looking paradoxically both sad and serene as a sword protrudes from his head. As you gaze upon it, the bishop&#39;s lips begin to move! Shocked, you stagger back. The stained glass window is speaking! 

After recovering your wits, [[you may lean in to listen to what it has to say-&gt;Becket murdered]].]
(if: $thisYear is 1120)[There is a corpse here, shrouded in black, which using necromancy [[you may bring briefly back to life-&gt;William Adelin]]. ]

If you are not interested in lingering in this place, you may go [[$rightOnScreen2-&gt;passage 8]] ($toThePhrase: 1) or go [[$downOnScreen-&gt;passage 1]]. [(if: $optionalPath contains 4)[You may also go [[$leftOnScreen-&gt;room 9]]($toThePhrase: 9).]]

(if: $startRoom is &quot;room 0&quot;)[$returnText]
}]</tw-passagedata><tw-passagedata pid="2" name="passage 8" tags="" position="2155,584" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 18)
($refreshSentences:)
} (border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence. From here you may go [[$leftOnScreen2-&gt;room 0]]($toThePhrase: 0). [(if: $optionalPath contains 0)[You may also go [[$downOnScreen-&gt;room 7]]($toThePhrase: 7).]]
[(if: $optionalPath contains 3)[An alternative is to go [[$rightOnScreen-&gt;room 8]] ($toThePhrase: 8).]]]</tw-passagedata><tw-passagedata pid="3" name="passage 1" tags="" position="2006,731" size="100,100">{(set: $thisRoomsNumber to 11)
(set: $thisYear to 10000)}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence2. From here you may go [[$upOnScreen-&gt;room 0]]($toThePhrase: 0) or [[$downOnScreen2-&gt;room 1]]($toThePhrase: 1). [(unless: $optionalPath contains 0)[You may also go [[$rightOnScreen2-&gt;room 7]]($toThePhrase: 7).]][(unless: $optionalPath contains 1)[An alternative is to go [[$leftOnScreen-&gt;passage 6]].]]]
</tw-passagedata><tw-passagedata pid="4" name="room 2" tags="" position="2298,876" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 2)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
($refreshSentences:)
}(border-color: (rgb: 255, 100, 100)) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence. 

From here you may go [[$upOnScreen2-&gt;passage 3]] or [[$leftOnScreen-&gt;passage 7]].
(if: $startRoom is &quot;room 2&quot;)[$returnText]]</tw-passagedata><tw-passagedata pid="5" name="room 3" tags="" position="1855,872" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 3)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
(if: $place is &quot;Strasbourg&quot;)[&lt;script&gt;CustomScripts.updateBackground(1421);&lt;/script&gt;]
(if: $place is &quot;Orleans&quot;)[&lt;script&gt;CustomScripts.updateBackground(1431);&lt;/script&gt;]
(if: $place is &quot;Wallachia&quot;)[&lt;script&gt;CustomScripts.updateBackground(1491);&lt;/script&gt;]
($refreshSentences:)
}
(border-color: red) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{
$complexSentence. 

(if: $thisYear is 1133 and $henrysDragon is not &quot;hatched&quot;)[In a pan on the stove is a huge red egg. Suddenly, cracks appear in it. Something is trying to hatch out! You may [[help it-&gt;Henry II birth]] if you wish.]
(if: $thisYear is 1133 and $henrysDragon is &quot;hatched&quot;)[There is a huge red egg in a pan on the stove. It appears that something recently hatched from it.]
(if: $thisYear is 1153 and $Eustace is not &quot;dead&quot;)[There is a young, fire haired nobleman here, gasping as the life leaves him. &quot;It is written in my blood!&quot; he croaks, holding out a piece of parchment. You can take the parchment and [[read it-&gt;Treaty of Wallingford]], or [[talk to the red nobleman-&gt;Eustace IV]].](if: $thisYear is 1153 and $Eustace is &quot;dead&quot;)[There is a dead nobleman here, with a parchment in his cold and bony grip. You can [[read it-&gt;Treaty of Wallingford]] if you like.]

From here you may go [[$rightOnScreen-&gt;room 1]]($toThePhrase: 1) or [[$leftOnScreen-&gt;passage 2]]. [(if: $optionalPath contains 1)[An alternative is to go [[$upOnScreen2-&gt;passage 6]].]]

(if: $startRoom is &quot;room 3&quot;)[$returnText]
}]</tw-passagedata><tw-passagedata pid="6" name="passage 6" tags="" position="1860,731" size="100,100">{(set: $thisRoomsNumber to 16)
(set: $thisYear to 10000)}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence2. 
From here you may go 
[(if: $optionalPath contains 1)[[[$downOnScreen2-&gt;room 3]]($toThePhrase: 3).](else:)[[[$rightOnScreen-&gt;passage 1]].]]
[(if: $optionalPath contains 2)[You may also go [[$leftOnScreen-&gt;room 6]]($toThePhrase: 6).]]
[(unless: $optionalPath contains 4)[An alternative is to go [[$upOnScreen-&gt;room 9]]($toThePhrase: 9).]]]

</tw-passagedata><tw-passagedata pid="7" name="passage 2" tags="" position="1702,872" size="100,100">{(set: $thisRoomsNumber to 12)
(set: $thisYear to 10000)}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence2. From here you may go [[$rightOnScreen-&gt;room 3]]($toThePhrase: 3) or [[$leftOnScreen-&gt;room 5]]($toThePhrase: 5). [(unless: $optionalPath contains 2)[You may also go [[$upOnScreen2-&gt;room 6]]($toThePhrase: 6).]]]

</tw-passagedata><tw-passagedata pid="8" name="room 7" tags="" position="2154,733" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 7)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
($refreshSentences:)}(border-color: green) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence.

[(if: $optionalPath contains 0)[You may go [[$upOnScreen-&gt;passage 8]] from here.](else:)[You may go [[$leftOnScreen2-&gt;passage 1]] from here.]]
[(unless: $optionalPath contains 3)[You may also go [[$rightOnScreen-&gt;passage 3]]or [[$downOnScreen-&gt;passage 7]]]]]</tw-passagedata><tw-passagedata pid="9" name="room 8" tags="" position="2295,588" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 8)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
(if: $place is &quot;Merv&quot;)[&lt;script&gt;CustomScripts.updateBackground(1291);&lt;/script&gt;]
(if: $place is &quot;York&quot;)[&lt;script&gt;CustomScripts.updateBackground(1411);&lt;/script&gt;]
(if: $place is &quot;Istanbul&quot;)[&lt;script&gt;CustomScripts.updateBackground(1451);&lt;/script&gt;]
(if: $place is &quot;London&quot;)[&lt;script&gt;CustomScripts.updateBackground(1461);&lt;/script&gt;]
($refreshSentences:)
} 
(border-color: yellow)+(border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence. [(if: $optionalPath contains 3)[You may go [[$leftOnScreen-&gt;passage 8]].](else:)[You may go [[$downOnScreen-&gt;passage 3]].]]
(if: $startRoom is &quot;room 8&quot;)[$returnText]]
</tw-passagedata><tw-passagedata pid="10" name="room 5" tags="" position="1531,872" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 5)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
(if: $place is &quot;York&quot;)[&lt;script&gt;CustomScripts.updateBackground(1411);&lt;/script&gt;]
(if: $place is &quot;Seville&quot;)[&lt;script&gt;CustomScripts.updateBackground(1481);&lt;/script&gt;]
($refreshSentences:)
}(border-color: blue) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{
$complexSentence. 

(if: $thisYear is 1135)[There is a blue knight here [[to whom you may speak-&gt;Stephen of Blois]].]

From here you may go [[$rightOnScreen-&gt;passage 2]]. [(if: $optionalPath contains 6)[An alternative is to go [[$upOnScreen2-&gt;passage 5]].]]

(if: $startRoom is &quot;room 5&quot;)[$returnText]
}]</tw-passagedata><tw-passagedata pid="11" name="room 6" tags="" position="1697,728" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 6)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
($refreshSentences:)}(border-color: (rgb: 0, 255, 255)) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{
$complexSentence. 

[(if: $optionalPath contains 2)[You may go [[$rightOnScreen-&gt;passage 6]] from here.](else:)[You may go [[$downOnScreen2-&gt;passage 2]] from here.]]
[(if: $optionalPath contains 5)[You may also go [[$upOnScreen-&gt;passage 4]].]]
[(if: $optionalPath contains 6)[An alternative is to go [[$leftOnScreen-&gt;passage 5]].]]
}]</tw-passagedata><tw-passagedata pid="12" name="definitions test" tags="" position="126,521" size="100,100">{
(set: $fixOptionalPaths to 
(macro: [
	(set: $optionalPath to (a:))
	($addPath:)($addPath:)($addPath:)($addPath:)($addPath:)($addPath:)
	(output-data:&quot;&quot;)
	]
	)
	)
	
(set: $addPath to 
(macro: [	
	(set: _x to (random: 6)) 
	(set: $optionalPath to it + (a:_x))
	(output-data:&quot;&quot;)
	]
	)
	)

(set: $levelDirection to (a: 
	(a: &quot;north&quot;, &quot;south&quot;),
	(a: &quot;east&quot;, &quot;west&quot;),
	(a: &quot;northeast&quot;, &quot;southwest&quot;), 
	(a: &quot;northwest&quot;, &quot;southeast&quot;)))

(set: $getLevelDirection to 
(macro: [
	(set: _length to length of $levelDirection)
	(set: _x to (random:1, _length))
	(set: _y to (_x) of $levelDirection)
	(set: $levelDirection to it - (_y))
	(output-data: _y)]))

(set: $generate3dDirection to 
(macro: [
	(set: _x to (random: 3))
	(if: _x is 2)[(output-data: (a: &quot;up a ladder&quot;, &quot;down a ladder&quot;))]
	(else:) [(set: $direc to ($getLevelDirection:))]
	(if: _x is 3)[
		(set: _z to (random:1))
		(if: _z is 0)[(set: _output to (a: &quot;up some steps to the &quot; + 1st of $direc, &quot;down some steps to the &quot; + 2nd of $direc))]
		(else:)[(set: $output3dDirection to (a: &quot;up some steps to the &quot; + 2nd of $direc, &quot;down some steps to the &quot; + 1st of $direc))]
		(output-data: $output3dDirection)]
	(else:) [(output-data: ($getLevelDirection:))]
	]
	))
	
(set: $firstDirection to ($generate3dDirection:))
(set: $secondDirection to ($generate3dDirection:))

(set: $setDirections to 
(macro: [
	(set: _x to (random: 1))
		(if: _x is 0) [
		(set: $upOnScreen to 1st of $firstDirection )
		(set: $downOnScreen to 2nd of $firstDirection )
		]
	(else:) [
		(set: $upOnScreen to 2nd of $firstDirection )
		(set: $downOnScreen to 1st of $firstDirection )
		]
	(set: _y to (random: 1))
		(if: _y is 0) [
		(set: $rightOnScreen to 1st of $secondDirection )
		(set: $leftOnScreen to 2nd of $secondDirection )
		]
	(else:) [
		(set: $leftOnScreen to 1st of $secondDirection )
		(set: $rightOnScreen to 2nd of $secondDirection )
		]
	(output-data:&quot;&quot;)
	]))
		
	
}

	
</tw-passagedata><tw-passagedata pid="13" name="passage 3" tags="" position="2296,733" size="100,100">{(set: $thisRoomsNumber to 13)
(set: $thisYear to 10000)}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence2. (unless: $optionalPath contains 3)[From here you may go [[$leftOnScreen-&gt;room 7]]($toThePhrase: 7).] (unless: $optionalPath contains 3)[From here you may go [[$upOnScreen-&gt;room 8]]($toThePhrase: 8).]]

</tw-passagedata><tw-passagedata pid="14" name="room 9" tags="" position="1853,587" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 9)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
($refreshSentences:)}
(border-color: (rgb: 155, 100, 0)) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence. [(if: $optionalPath contains 4)[You may also go [[$rightOnScreen-&gt;room 0]]($toThePhrase: 0).](else:)[You may also go [[$downOnScreen-&gt;passage 6]]. ]]
[(if: $optionalPath contains 5)[An alternative is to go [[$leftOnScreen-&gt;passage 4]].]]]</tw-passagedata><tw-passagedata pid="15" name="passage 4" tags="" position="1695,589" size="100,100">{(set: $thisRoomsNumber to 14)
(set: $thisYear to 10000)}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4) + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence2. From here you may go [[$rightOnScreen-&gt;room 9]]($toThePhrase: 9) or [[$downOnScreen-&gt;room 6]]($toThePhrase: 6).[]]</tw-passagedata><tw-passagedata pid="16" name="passage 5" tags="" position="1535,728" size="100,100">{(set: $thisRoomsNumber to 15)
(set: $thisYear to 10000)}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence2. From here you may go [[$downOnScreen2-&gt;room 5]]($toThePhrase: 5). (if: $optionalPath contains 6)[An alternative is to go [[$rightOnScreen-&gt;room 6]]($toThePhrase: 6).]]

</tw-passagedata><tw-passagedata pid="17" name="direction functions" tags="startup" position="58,675" size="100,100">{
&lt;!-- Settings: 
Flat: Scrambles NSEW but no vertical directions
Hilly: As Flat but may have occasional slopes. No direct vertical moves.
2storey: May have occasional slopes and vertical moves, but no more than two storeys. 
wall: Has no slopes and only one axis on the flat plane, but straight vertical moves in 3 storeys.
castle: As wall but with occasional moves in the perpendicular flat plane. 
crypt: as castle but heading downwards. 
tower: As castle but six storeys. 
pit: as tower but down
--&gt;

&lt;!-- This decides, based on the flatness variable, whether to (a) set the adjustable directions to randomly include hills and ladders, or (b) just include hills or (c) be entirely flat. --&gt;

(set: $setAdjustableDirections to 
(macro: [
	($setUpDownDirections:)
	(if: $flatness is &quot;flat&quot;)[($setFlatVariables:)]
	(if: $flatness is &quot;hilly&quot;)[($setHillyVariables:)]
	(if: $flatness is &quot;2storey&quot;)[($set3Dvariables:)]
	(if: $flatness is &quot;wall&quot;)[($setWallVariables:)]
	(if: $flatness is &quot;towery&quot;)[($setTowerVariables:)]
	(output-data:&quot;&quot;)
	]
	))

&lt;!-- This replaces the complex directions &quot;up and to the north&quot; with &quot;north&quot;, etc.--&gt; 

(set: $flatten to 
(macro: [
	(set: $downOnScreen2 to &quot;south&quot;)
	(set: $upOnScreen2 to &quot;north&quot;)
	(set: $rightOnScreen2 to &quot;east&quot;)
	(set: $leftOnScreen2 to &quot;west&quot;)
	(output-data:&quot;&quot;)
	]
	))

&lt;!-- The following two commands randomly decide whether to include optional connections between locations in the map. The map itself is set up to ensure that if one of these optional paths does not lead to a location, a different one will.--&gt; 

(set: $fixOptionalPaths to 
(macro: [
	(set: $optionalPath to (a:))
	($addPath:)($addPath:)($addPath:)($addPath:)($addPath:)($addPath:)
	(output-data:&quot;&quot;)
	]
	)
	)
	
(set: $addPath to 
(macro: [	
	(set: _x to ($srandom: 6)) 
	(set: $optionalPath to it + (a:_x))
	(output-data:&quot;&quot;)
	]
	)
	)

&lt;!-- This determines whether to randomly rotate the flat NSEW map 90 degrees and whether (by calling flipFlatDirections) to flip either of the axes.--&gt; 
(set: $setFlatDirections to 
(macro: [
	(set: _x to ($srandom: 1))
	(if: _x is 0)[
		(set: $upOnScreen to &quot;north&quot;)
		(set: $downOnScreen to &quot;south&quot;) 
		(set: $rightOnScreen to &quot;east&quot;) 
		(set: $leftOnScreen to &quot;west&quot;)
		]
	(else:) [
		(set: $upOnScreen to &quot;east&quot;)
		(set: $downOnScreen to &quot;west&quot;) 
		(set: $rightOnScreen to &quot;north&quot;) 
		(set: $leftOnScreen to &quot;south&quot;)
		]
	($flipFlatDirections:)
	(output-data: &quot;&quot;)
	]))

&lt;!-- This randomly decides whether to flip a NS or EW axis--&gt; 
(set: $flipFlatDirections to 
(macro: [
	(set: _x to ($srandom: 1))
	(set: _y to ($srandom: 1))
	(if: _x is 0)[
		(set: _temp to $downOnScreen)
		(set: $downOnScreen to $upOnScreen)
		(set: $upOnScreen to _temp)
		]
	(if: _y is 0)[
		(set: _temp to $leftOnScreen)
		(set: $leftOnScreen to $rightOnScreen)
		(set: $rightOnScreen to _temp)
		]
	(output-data: &quot;&quot;)
	]))

&lt;!-- REMOVE: The next two functions are called when the map is flipped, and they flip the extreme start rooms accordingly.--&gt; 

(set: $flipNSstarts to 
(macro: [
	(if: 1st of $startRooms is &quot;room 0&quot;)
		[(set: 1st of $startRooms to &quot;passage 2&quot;)
		(set: 3rd of $startRooms to &quot;room 0&quot;)
		]
	(else:)
		[(set: 4th of $startRooms to &quot;passage 2&quot;)
		(set: 2nd of $startRooms to &quot;room 0&quot;)
		]
	(output-data:&quot;&quot;)
	]))
	
(set: $flipEWstarts to 
(macro: [
	(if: 1st of $startRooms is &quot;room 0&quot;)
		[(set: 2nd of $startRooms to &quot;passage 5&quot;)
		(set: 4th of $startRooms to &quot;passage 3&quot;)
		]
	(else:)
		[(set: 1st of $startRooms to &quot;passage 5&quot;)
		(set: 3rd of $startRooms to &quot;passage 3&quot;)
		]
	(output-data:&quot;&quot;)
	]))	

&lt;!-- This decides randomly whether to flip the up down axes.--&gt; 
(set: $setUpDownDirections to 
(macro: [
	(set: _x to ($srandom: 1))
	(if: _x is 0)[
		(set: $upVariable to &quot;up&quot;)
		(set: $downVariable to &quot;down&quot;)
		]
	(else:) [
		(set: $upVariable to &quot;down&quot;)
		(set: $downVariable to &quot;up&quot;)
		]
	(output-data: &quot;&quot;)
	]))



&lt;!-- This randomly replaces the adjustable directions with some more interesting points on the compass.--&gt; 

(set: $setFlatVariables to 
(macro: [
	(set: $upOnScreen2 to $upOnScreen)
	(set: $downOnScreen2 to $downOnScreen)
	(set: $rightOnScreen2 to $rightOnScreen)
	(set: $leftOnScreen2 to $leftOnScreen)
	(set: _x to ($srandom: 3))
	(if: _x is even)[
		(set: $upOnScreen2 to ($rotate45: $upOnScreen))
		(set: $downOnScreen2 to ($rotate45: $downOnScreen))
		]
	(if: _x &gt; 1) [
		(set: $rightOnScreen2 to ($rotate45: $rightOnScreen))
		(set: $leftOnScreen2 to ($rotate45: $leftOnScreen))
		]

	(output-data: &quot;&quot;)
	]))

&lt;!-- This rotates directions through 45 degrees cw.--&gt; 

(set: $rotate45 to 
	(macro: str-type _direction, [
		(set: _output to (cond: 
			_direction is &quot;north&quot;, &quot;northeast&quot;,
			_direction is &quot;northeast&quot;, &quot;east&quot;,
			_direction is &quot;east&quot;, &quot;southeast&quot;,
			_direction is &quot;southeast&quot;, &quot;south &quot;,
			_direction is &quot;south &quot;, &quot;southwest&quot;,
			_direction is &quot;southwest&quot;, &quot;west&quot;,
			_direction is &quot;west&quot;, &quot;northwest&quot;,
			_direction is &quot;northwest&quot;, &quot;north&quot;,
			&quot;error: rotate45 received direction of wrong form&quot;
			))
		(output-data: _output)
		]
		))
		
&lt;!-- This rotates directions through 90 degrees cw.--&gt; 

(set: $rotate90 to 
	(macro: str-type _direction, [
		(set: _output to (cond: 
			_direction is &quot;north&quot;, &quot;east&quot;,
			_direction is &quot;northeast&quot;, &quot;southeast&quot;,
			_direction is &quot;east&quot;, &quot;south&quot;,
			_direction is &quot;southeast&quot;, &quot;southwest&quot;,
			_direction is &quot;south&quot;, &quot;west&quot;,
			_direction is &quot;southwest&quot;, &quot;northwest&quot;,
			_direction is &quot;west&quot;, &quot;north&quot;,
			_direction is &quot;northwest&quot;, &quot;northeast&quot;,
			&quot;error: rotate90 received direction of wrong form&quot;
			))
		(output-data: _output)
		]
		))
		
&lt;!-- This rotates the given direction through 90 degrees in the NS vertical plane (leaving east and west as they are).--&gt; 

(set: $rotate90Up to 
	(macro: str-type _direction, [
		(set: _output to (cond: 
			_direction is &quot;north&quot;, &quot;up&quot;,
			_direction is &quot;up&quot;, &quot;south&quot;,
			_direction is &quot;south&quot;, &quot;down&quot;,
			_direction is &quot;down&quot;, &quot;north&quot;,
			_direction is &quot;east&quot;, &quot;east&quot;,
			_direction is &quot;west&quot;, &quot;west&quot;,
			&quot;error: rotate90 received direction of wrong form&quot;
			))
		(output-data: _output)
		]
		))
			
&lt;!-- This randomly replaces the adjustable directions with hilled directions.--&gt; 

(set: $setHillyVariables to 
(macro: [
	(set: $upOnScreen2 to $upOnScreen)
	(set: $downOnScreen2 to $downOnScreen)
	(set: $rightOnScreen2 to $rightOnScreen)
	(set: $leftOnScreen2 to $leftOnScreen)
	(set: _x to ($srandom: 3))
	(if: _x &gt; 1)[
		(set: $rightOnScreen2 to 
			$upVariable +  &quot; &quot; +
			$stairTerm + 
			&quot; to the &quot; + 
			$rightOnScreen)
		(set: $leftOnScreen2 to 
			$downVariable +  &quot; &quot; +
			$stairTerm + 
			&quot; to the &quot; + 
			$leftOnScreen)]
	(if: _x is even) [
		(set: $upOnScreen2 to 
			$upVariable + &quot; &quot; +
			$stairTerm + 
			&quot; to the &quot; +
			$upOnScreen)
		(set: $downOnScreen2 to 
			$downVariable +  &quot; &quot; +
			$stairTerm +
			&quot; to the &quot; + 
			$downOnScreen)]
	(output-data: &quot;&quot;)
	]))
	

&lt;!-- The next three functions decide randomly whether to have ladders or steps in a NSEW direction.--&gt; 

(set: $set3Dvariables to 
(macro: [
	($setDownWestVariables:)
	($setDownSouthVariables:)
	(output-data:&quot;&quot;)
	]
	))

(set: $setDownWestVariables to 
(macro: [
	(set: _x to ($srandom: 1))
	(if: _x is 0)[
		(set: $rightOnScreen2 to 
			$upVariable +  &quot; &quot; +
			$stairTerm + 
			&quot; to the &quot; + 
			$rightOnScreen)
		(set: $leftOnScreen2 to 
			$downVariable +  &quot; &quot; +
			$stairTerm + 
			&quot; to the &quot; + 
			$leftOnScreen)
		]
	(else:) [
		(set: $rightOnScreen2 to $upVariable + &quot; &quot; + $ladderTerm)
		(set: $leftOnScreen2 to $downVariable + &quot; &quot; + $ladderTerm)
		]
	(output-data: &quot;&quot;)
	]))
	

(set: $setDownSouthVariables to 
(macro: [
	(set: _x to ($srandom: 1))
	(if: _x is 0)[
		(set: $upOnScreen2 to 
			$upVariable + &quot; &quot; +
			$stairTerm + 
			&quot; to the &quot; +
			$upOnScreen)
		(set: $downOnScreen2 to 
			$downVariable +  &quot; &quot; +
			$stairTerm +
			&quot; to the &quot; + 
			$downOnScreen)
		]
	(else:) [
		(set: $upOnScreen2 to $upVariable + &quot; &quot; + $ladderTerm)
		(set: $downOnScreen2 to $downVariable + &quot; &quot; + $ladderTerm)
		]
	(output-data: &quot;&quot;)
	]))

&lt;!-- This switches the frequent direction &quot;north&quot; for the rare direction &quot;up and to the north&quot;, ditto for E, W and S. Creates map with many slopes. --&gt;

(set: $setWallVariables to 
(macro: [
	($setDownWestVariables:)
	($setDownSouthVariables:)
	(set: _x to $upOnScreen2)
	(set: $upOnScreen2 to $upOnScreen)
	(set: $upOnScreen to _x)
	(set: _y to $downOnScreen2)
	(set: $downOnScreen2 to $downOnScreen)
	(set: $downOnScreen to _y)
	(set: _z to $rightOnScreen2)
	(set: $rightOnScreen2 to $rightOnScreen)
	(set: $rightOnScreen to _z)
	(set: _w to $leftOnScreen2)
	(set: $leftOnScreen2 to $leftOnScreen)
	(set: $leftOnScreen to _w)
	(output-data: &quot;&quot;)
	]))


	
(set: $setTowerVariables to 
(macro: [
	(set: _x to ($srandom: 1))
	(if: _x is 0)[
		(set: $startRoom to &quot;room 8&quot;)
		(set: $leftOnScreen to &quot;up&quot;)
		(set: $rightOnScreen to &quot;down&quot;)
		]
	(if: _x is 1)[
		(set: $startRoom to &quot;room 5&quot;)
		(set: $leftOnScreen to &quot;down&quot;)
		(set: $rightOnScreen to &quot;up&quot;)
		]
	(output-data: &quot;&quot;)
	]))
	
(set: $setPitVariables to 
(macro: [
	(set: _x to ($srandom: 1))
	(if: _x is 0)[
		(set: $startRoom to &quot;room 5&quot;)
		(set: $leftOnScreen to &quot;up&quot;)
		(set: $rightOnScreen to &quot;down&quot;)
		]
	(if: _x is 1)[
		(set: $startRoom to &quot;room 8&quot;)
		(set: $leftOnScreen to &quot;down&quot;)
		(set: $rightOnScreen to &quot;up&quot;)
		]
	(output-data: &quot;&quot;)
	]))
	
(set: $setFortVariables to 
(macro: [
	(set: _x to ($srandom: 1))
	(if: _x is 0)[
		(set: $startRoom to &quot;room 0&quot;)
		(set: $downOnScreen to &quot;up&quot;)
		(set: $upOnScreen to &quot;down&quot;)
		]
	(if: _x is 1)[
		(set: $startRoom to &quot;room 3&quot;)
		(set: $downOnScreen to &quot;down&quot;)
		(set: $upOnScreen to &quot;up&quot;)
		]
	(output-data: &quot;&quot;)
	]))
	
(set: $setCryptVariables to 
(macro: [
	(set: _x to ($srandom: 1))
	(if: _x is 0)[
		(set: $startRoom to &quot;room 3&quot;)
		(set: $downOnScreen to &quot;up&quot;)
		(set: $upOnScreen to &quot;down&quot;)
		]
	(if: _x is 1)[
		(set: $startRoom to &quot;room 0&quot;)
		(set: $downOnScreen to &quot;down&quot;)
		(set: $upOnScreen to &quot;up&quot;)
		]
	(output-data: &quot;&quot;)
	]))

(set: $zeroMarker to &quot;a barrel&quot;)
(set: $oneMarker to &quot;a suit of armor&quot;)
(set: $twoMarker to &quot;a crystal swan&quot;)
(set: $threeMarker to &quot;a statue of a buxom woman&quot;)
(set: $fourMarker to &quot;a golf club&quot;)
(set: $fiveMarker to &quot;a collection of gold rings&quot;)
(set: $sixMarker to &quot;a cane&quot;)
(set: $sevenMarker to &quot;a severed head in a box&quot;)
(set: $eightMarker to &quot;a gateway to infinity&quot;)
(set: $nineMarker to &quot;a Nazgul&quot;)
}

</tw-passagedata><tw-passagedata pid="18" name="top left" tags="" position="485,1080" size="100,100">{(set: $place to &quot;&quot;)
(set: $decadeNum to 0)
(set: $imageType to 0) 
}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[$mainSentence. You can either $head [[$rightOnNexusMap-&gt;top middle]] or [[$downOnNexusMap-&gt;four fifths up]]. (if: $floorInt is 6)[A ladder inside a cupola leads [[down-&gt;complex zero]] from here.] (else:)[(if: $floorInt is 14)[The coast to the $upOnNexusMap opens into an estuary, via which you can [[sail inland-&gt;complex zero]].] (else:) [You may also $head $upOnNexusMap (print: (1) of $doorTypes) (print: (either: &quot;&quot;, (2) of $doorTypes)) (print: (3) of $doorTypes) $exitPhrase [[$complexWord-&gt;complex zero]].]] Another option is to step into the [[elevator]]. 
]


($setImage:)</tw-passagedata><tw-passagedata pid="19" name="top middle" tags="" position="641,1081" size="100,100">{(set: $place to &quot;&quot;)
(set: $decadeNum to 0)
(set: $imageType to 0) }
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[$mainSentence. You may $head [[$rightOnNexusMap-&gt;top right]] or [[$leftOnNexusMap-&gt;top left]] from here. There is also (if: $floorInt is 6)[a rooftop entrance, from which a [[ladder descends-&gt;complex two]] into the building below.] (else:) [(if: $floorInt is 14)[the mouth of a river to the $downOnNexusMap, via which you can [[sail inland-&gt;complex two]].](else:) [a (print: (3) of $doorTypes) to the $downOnNexusMap which goes $exitPhrase [[$complexWord-&gt;complex two]].] ]
]

($setImage:)</tw-passagedata><tw-passagedata pid="20" name="four fifths up" tags="" position="490,1353" size="100,100">{(set: $place to &quot;&quot;)
(set: $decadeNum to 0)
(set: $imageType to 0) 
(set: $homeCity to &quot;Bishop&#39;s Lynn&quot;)
(set: $foreignCity to &quot;La Rochelle&quot;)}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[$mainSentence. You may $head [[$upOnNexusMap-&gt;top left]] or [[$downOnNexusMap-&gt;three fifths up]] from here. (if: $floorInt is 6)[A ladder inside a cupola leads [[down-&gt;complex three]] from here.] (else:)[(if: $floorInt is 14)[To the $rightOnNexusMap you can see the coast opens up into an estuary, via which you can [[sail inland -&gt;complex three]].] (else:) [To the $rightOnNexusMap is [[a (print: (3) of $doorTypes) via which you can $head $exitPhrase $complexWord-&gt;complex three]].] ]
]

($setImage:)</tw-passagedata><tw-passagedata pid="21" name="top right" tags="" position="805,1083" size="100,100">{(set: $place to &quot;&quot;)
(set: $decadeNum to 0)
(set: $imageType to 0) }
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[$mainSentence, (if: $floorInt is 6)[at the $rightOnNexusMap most end, which ends with a cupola, inside which is a ladder that leads [[down-&gt;complex one]]. Alternatively, you may $head to the [[$leftOnNexusMap-&gt;top middle]].] (else:)[(if: $floorInt is 14)[at the $rightOnNexusMap end of a closed sea. From here, you may $head into a estuary to the $rightOnNexusMap, via which you can access a river and [[sail inland-&gt;complex one]], or you can $head [[$leftOnNexusMap-&gt;top middle]].] (else:) [at the $rightOnNexusMap most end, which ends in a (print: (3) of $doorTypes). You may [[take the (print: (3) of $doorTypes)-&gt;complex one]], or head to the [[$leftOnNexusMap-&gt;top middle]].]]
]

($setImage:)</tw-passagedata><tw-passagedata pid="22" name="three fifths up" tags="" position="488,1623" size="100,100">{(set: $place to &quot;&quot;)
(set: $decadeNum to 0)
(set: $imageType to 0) }
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[$mainSentence. (if: $floorInt is 14)[Though passage to the $leftOnNexusMap is blocked by a coastal cliffs, you may chart a course [[$upOnNexusMap-&gt;four fifths up]], [[$rightOnNexusMap-&gt;middle middle]] or [[$downOnNexusMap-&gt;two fifths up]] from here.] (else:) [A $secondaryPassage branches off to the [[$rightOnNexusMap-&gt;middle middle]]. Or you may take the main $secondaryPassage to the [[$upOnNexusMap-&gt;four fifths up]] or to the [[$downOnNexusMap-&gt;two fifths up]].]
]

($setImage:)</tw-passagedata><tw-passagedata pid="23" name="middle middle" tags="" position="643,1626" size="100,100">{(set: $place to &quot;&quot;)
(set: $decadeNum to 0)
(set: $imageType to 0) }
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[$mainSentence. You may $head [[$leftOnNexusMap-&gt;three fifths up]] or [[$rightOnNexusMap-&gt;middle right]] from here. (if: $floorInt is 6)[A ladder inside a cupola leads [[down-&gt;complex four]] from here.] (else:)[ (if: $floorInt is 14)[The coast to the $upOnNexusMap opens up into an estuary, via which you can [[sail inland-&gt;complex four]].] (else:) [There is also [[a way to the $upOnNexusMap-&gt;complex four]] to a $complexWord.]]
]

($setImage:)</tw-passagedata><tw-passagedata pid="24" name="two fifths up" tags="" position="486,1776" size="100,100">{(set: $mervDirection to &quot;inbound&quot;)
(set: $imageType to 0) 
(set: $decadeNum to 0)
(set: $place to &quot;&quot;)}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[$mainSentence(if: $floorInt is 14)[, sailing down a narrow sea between two lands]. You may $head [[$upOnNexusMap-&gt;three fifths up]] or [[$downOnNexusMap-&gt;bottom]] from here. (if: $floorInt is 6)[There are also twin cupolas here, in which ladders descend into the buildings below. You may take the [[one to the $rightOnNexusMap -&gt;complex seven]] or the [[one to the $leftOnNexusMap -&gt;complex nine]].](else:)[ (if: $floorInt is 14)[To the [[$rightOnNexusMap-&gt;complex seven]] and [[$leftOnNexusMap-&gt;complex nine]] are coastal estuaries via which you can sail inland.](else:) [Alternatively, you might take [[a (print: (3) of $doorTypes) to the $rightOnNexusMap -&gt;complex seven]], or a (print: (3) of $doorTypes) to the [[$leftOnNexusMap -&gt;complex nine]].]]
]

($setImage:)
(print: $imageRef)
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1400.1);&lt;/script&gt;]
</tw-passagedata><tw-passagedata pid="25" name="bottom" tags="" position="488,1926" size="100,100">{(set: $place to &quot;&quot;)
(set: $decadeNum to 0)
(set: $imageType to 0) }
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[$mainSentence, (if: $floorInt is 6)[at the $downOnNexusMap most end, which ends with a cupola, inside which is a ladder that leads [[down-&gt;complex eight]]. You may take it,] (else:)[(if: $floorInt is 14)[at the $downOnNexusMap end of a closed sea. From here, you may $head into a river mouth to the $downOnNexusMap, via which you can [[sail inland-&gt;complex eight]],](else:) [at the $downOnNexusMap most end, which ends in a (print: (3) of $doorTypes). You may [[take the (print: (3) of $doorTypes)-&gt;complex eight]],]] or $head to the [[$upOnNexusMap-&gt;two fifths up]]. 
]

(set: $japanBattle to &quot;outbound&quot;)
($setImage:)</tw-passagedata><tw-passagedata pid="26" name="middle right" tags="" position="803,1628" size="100,100">{(set: $place to &quot;&quot;)
(set: $decadeNum to 0)
(set: $imageType to 0) }
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[$mainSentence (if: $floorInt is 6)[, at the $rightOnNexusMap most end. There are two rooftop entrances here, via which you can descend by rope into the buildings below. You may take [[the one to the $rightOnNexusMap-&gt;complex five]] or [[the one to the $downOnNexusMap -&gt;complex six]]. You also have the option of heading [[$leftOnNexusMap-&gt;middle middle]] along the rooftop.](else:)[(if: $floorInt is 14)[at the $rightOnNexusMap end of a closed sea. From here, you may $head into a delta to the $rightOnNexusMap, via which you can [[sail inland-&gt;complex five]], or $head into a different estuary to the [[$downOnNexusMap-&gt;complex six]]. Alternatively, you can $head [[$leftOnNexusMap-&gt;middle middle]].] (else:) [, at the $rightOnNexusMap most end, which ends in a (print: (3) of $doorTypes). You may [[take the (print: (3) of $doorTypes)-&gt;complex five]], take [[another (print: (3) of $doorTypes) to the $downOnNexusMap -&gt;complex six]] or $head to the [[$leftOnNexusMap-&gt;middle middle]].] ]
]

($setImage:)</tw-passagedata><tw-passagedata pid="27" name="complex zero" tags="" position="486,933" size="100,100">{
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
(set: $imageType to 1) 
(set: $decadeNum to 0) 
(set: $decadeNumber to $hundredNumber + $decadeNum)
(set: $decadeString to (str: $decadeNum))
(set: $decadeReference to $hundredNumber + $decadeNum + 1) 
(set: $referenceString to (str: $decadeReference))
(set: $seedIndex to 1)
(set: $randomSeed to (str: $decadeReference - 1) of $randomMaps)
(set: $roomAdjective to &quot;a &quot;)

($refreshSentences:) 

&lt;!--IMAGES--&gt;
($setImage:)
&lt;!--END IMAGES--&gt;


($setFlatDirections:)
($setUpDownDirections:)
(set: $flatness to &quot;2storey&quot;)
($setArchitecture:)  

&lt;!--$downOnNexusMap is the direction pointing back to the main nexus, after rotation. Find which of the variables in the complex matches it, and use that to choose the appropriate starting room --&gt;
(set:$wayOut to $downOnNexusMap)
(set: $directionIn to $upOnNexusMap)


($setAdjustableDirections:)
($fixOptionalPaths:)

(set: $returnText to &quot;A different possibility is to head back to the $downOnNexusMap towards [[$nexusWord-&gt;complex zero]].&quot;) 

}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{
(if: $floorInt is 6)[You are in one of the gatehouses to the city of Aleppo. A road leads [[$upOnNexusMap-&gt;$startRoom]] from here to the hanging farms. Alternatively you can go [[up a ladder-&gt;top left]] to $nexusWord.] 
(else:)[
	(if: $floorInt is 14)[You are anchored in a wide, tropical river on an unexplored island in the new world. To explore the island, you must head [[$upOnNexusMap-&gt;$startRoom]] on foot. Alternatively you can $head [[$downOnNexusMap-&gt;top left]] to $nexusWord.] 
	(else:)[$complexSentence3. From here you can go $downOnNexusMap to [[$nexusWord-&gt;top left]]. Alternatively, you may go [[$upOnNexusMap-&gt;$startRoom]].] 
		]
		}]





</tw-passagedata><tw-passagedata pid="28" name="complex two" tags="" position="638,1215" size="100,100">{
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
(set: $imageType to 1) 
(set: $decadeNum to 20) 
(set: $decadeNumber to $hundredNumber + $decadeNum)

(set: $decadeString to (str: $decadeNum))
(set: $decadeReference to $hundredNumber + $decadeNum + 1) 
(set: $referenceString to (str: $decadeReference))
(set: $seedIndex to 1)
(set: $randomSeed to (str: $decadeReference - 1) of $randomMaps)
(set: $roomAdjective to &quot;a &quot;)
(set: $complexLanguage to (str: $decadeReference) of $generalLanguage)
($refreshSentences:) 

($setImage:)
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1422);&lt;/script&gt;]



	
(set: $zeroMarker to &quot;a barrel&quot;)
(set: $oneMarker to &quot;a suit of armor&quot;)
(set: $twoMarker to &quot;a crystal swan&quot;)
(set: $threeMarker to &quot;a statue of a buxom woman&quot;)
(set: $fourMarker to &quot;a golf club&quot;)
(set: $fiveMarker to &quot;a collection of gold rings&quot;)
(set: $sixMarker to &quot;a cane&quot;)
(set: $sevenMarker to &quot;a severed head in a box&quot;)
(set: $eightMarker to &quot;a gateway to infinity&quot;)
(set: $nineMarker to &quot;a Nazgul&quot;)

($setFlatDirections:)
($setUpDownDirections:)
(set: $flatness to &quot;2storey&quot;)
(if: (a: ) contains $floorInt)[(set: $flatness to &quot;hilly&quot;)]
(if: (a: ) contains $floorInt)[(set: $flatness to &quot;flat&quot;)]


(if: $downOnScreen is $upOnNexusMap)[(set: $startRoom to &quot;room 3&quot;)]
(if: $upOnScreen is $upOnNexusMap)[(set: $startRoom to &quot;room 0&quot;)]
(if: $rightOnScreen is $upOnNexusMap)[(set: $startRoom to &quot;room 8&quot;)]
(if: $leftOnScreen is $upOnNexusMap)[(set: $startRoom to &quot;room 5&quot;)]

($setAdjustableDirections:)
($fixOptionalPaths:)

(set: $returnText to &quot;A different possibility is to head back to the $upOnNexusMap towards [[$nexusWord-&gt;complex two]].&quot;) 

}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[{
(if: $floorInt is 6)[You are in the library of the hashashins in the city of Aleppo. To explore the library, you must head [[$downOnNexusMap-&gt;$startRoom]]. You can leave the library by heading [[up-&gt;top middle]] to $nexusWord.] 
(else:)[
	(if: $floorInt is 14)[(set: $place to &quot;Strasbourg&quot;)You are at a port in the city of Strasbourg, where Johannes Gutenberg has invented his printing press. To explore the city, you must head [[$downOnNexusMap-&gt;$startRoom]] on foot. Alternatively you can $head [[$upOnNexusMap-&gt;top middle]] to $nexusWord.]	
	(else:)[$complexSentence3. From here you can go $upOnNexusMap to [[$nexusWord-&gt;top middle]]. Alternatively, you may go [[$downOnNexusMap-&gt;$startRoom]].]
	]
}]




</tw-passagedata><tw-passagedata pid="29" name="complex one" tags="" position="993,1082" size="100,100">{
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
(set: $imageType to 1) 
(set: $decadeNum to 10) 
(set: $decadeNumber to $hundredNumber + $decadeNum)

(set: $decadeString to (str: $decadeNum))
(set: $decadeReference to $hundredNumber + $decadeNum + 1) 
(set: $referenceString to (str: $decadeReference))
(set: $seedIndex to 1)
(set: $randomSeed to (str: $decadeReference - 1) of $randomMaps)
(set: $roomAdjective to &quot;a &quot;)
(set: $complexLanguage to (str: $decadeReference) of $generalLanguage)
($refreshSentences:) 

($setImage:)
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1412);&lt;/script&gt;]



	
(set: $zeroMarker to &quot;a barrel&quot;)
(set: $oneMarker to &quot;a suit of armor&quot;)
(set: $twoMarker to &quot;a crystal swan&quot;)
(set: $threeMarker to &quot;a statue of a buxom woman&quot;)
(set: $fourMarker to &quot;a golf club&quot;)
(set: $fiveMarker to &quot;a collection of gold rings&quot;)
(set: $sixMarker to &quot;a cane&quot;)
(set: $sevenMarker to &quot;a severed head in a box&quot;)
(set: $eightMarker to &quot;a gateway to infinity&quot;)
(set: $nineMarker to &quot;a Nazgul&quot;)
($setFlatDirections:)
($setUpDownDirections:)
(set: $flatness to &quot;2storey&quot;)
(if: (a: 5,6,8,11) contains $floorInt)[(set: $flatness to &quot;hilly&quot;)]
(if: (a: 0,1,2,4,7) contains $floorInt)[(set: $flatness to &quot;flat&quot;)]
(if: (a: 10) contains $floorInt)[(set: $flatness to &quot;towery&quot;)]

(if: $downOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 3&quot;)]
(if: $upOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 0&quot;)]
(if: $rightOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 8&quot;)]
(if: $leftOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 5&quot;)]

($setAdjustableDirections:)
($fixOptionalPaths:)

(set: $returnText to &quot;A different possibility is to head back to the $leftOnNexusMap towards [[$nexusWord-&gt;complex one]].&quot;) 

}


(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[{
(if: $floorInt is 6)[You are in a labyrinth of smoky hashish bars somewhere in the seedier quarter of the city of Aleppo. You can explore the quarter by heading [[$rightOnNexusMap-&gt;$startRoom]]. Alternatively you can go [[up a ladder-&gt;top right]] to $nexusWord.] 
(else:)[
	(if: $floorInt is 14)[(set: $place to &quot;York&quot;)You are at a port in the city of York. To explore the city, you must head [[$rightOnNexusMap-&gt;$startRoom]] on foot. Alternatively you can $head [[$leftOnNexusMap-&gt;top right]] to $nexusWord.]	(else:)[$complexSentence3.
From here you can go $leftOnNexusMap to [[$nexusWord-&gt;top right]]. Alternatively, you may go [[$rightOnNexusMap-&gt;$startRoom]].] 
]
}]





</tw-passagedata><tw-passagedata pid="30" name="complex three" tags="" position="683,1352" size="100,100">{
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
(set: $imageType to 1) 
(set: $decadeNum to 30) 
(set: $decadeNumber to $hundredNumber + $decadeNum)

(set: $decadeString to (str: $decadeNum))
(set: $decadeReference to $hundredNumber + $decadeNum + 1) 
(set: $referenceString to (str: $decadeReference))
(set: $seedIndex to 1)
(set: $randomSeed to (str: $decadeReference - 1) of $randomMaps)
(set: $roomAdjective to &quot;a &quot;)
(set: $complexLanguage to (str: $decadeReference) of $generalLanguage)
($refreshSentences:) 

($setImage:)
(if: $floorInt is 11)[&lt;script&gt;CustomScripts.updateBackground(1135);&lt;/script&gt;]
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1432);&lt;/script&gt;]



	
(set: $zeroMarker to &quot;a barrel&quot;)
(set: $oneMarker to &quot;a suit of armor&quot;)
(set: $twoMarker to &quot;a crystal swan&quot;)
(set: $threeMarker to &quot;a statue of a buxom woman&quot;)
(set: $fourMarker to &quot;a golf club&quot;)
(set: $fiveMarker to &quot;a collection of gold rings&quot;)
(set: $sixMarker to &quot;a cane&quot;)
(set: $sevenMarker to &quot;a severed head in a box&quot;)
(set: $eightMarker to &quot;a gateway to infinity&quot;)
(set: $nineMarker to &quot;a Nazgul&quot;)

($setFlatDirections:)
($setUpDownDirections:)
(set: $flatness to &quot;2storey&quot;)
(if: (a:5) contains $floorInt)[(set: $flatness to &quot;hilly&quot;)]
(if: (a: ) contains $floorInt)[(set: $flatness to &quot;flat&quot;)]
(if: (a:11) contains $floorInt)[(set: $flatness to &quot;towery&quot;)]


(if: $downOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 3&quot;)]
(if: $upOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 0&quot;)]
(if: $rightOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 8&quot;)]
(if: $leftOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 5&quot;)]

($setAdjustableDirections:)
($fixOptionalPaths:)

(if: $floorInt is 11)[(set: $returnText to &quot;If you tire of France you may head $leftOnNexusMap to [[La Rochelle-&gt;port2]] to seek a ship back to England.&quot;)](else:)[(set: $returnText to &quot;A different possibility is to head back to the $leftOnNexusMap towards [[$nexusWord-&gt;complex three]].&quot;)]

}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[{
(if: $floorInt is 11)[You are on a high and windy path overlooking the port town of Bishop&#39;s Lynn. From here, you can head inland towards [[Sherwood Forest-&gt;four fifths up]] or make your way down into the [[port city-&gt;port1]].]
	(else:)[ 
(if: $floorInt is 6)[You are in the Sultan&#39;s palace in the city of Aleppo, where exotic belly dancers put on a show for the Sultan&#39;s many guests. To explore the palace, you must head [[$rightOnNexusMap-&gt;$startRoom]]. to leave, you may head [[up-&gt;four fifths up]] to $nexusWord.] 
(else:)[
	(if: $floorInt is 14)[(set: $place to &quot;Orleans&quot;)You are docked at the city of Orleans, which is under siege from the forces of Joan of Arc. To explore, you must head [[$rightOnNexusMap-&gt;$startRoom]] on foot. Alternatively you can $head [[$leftOnNexusMap-&gt;four fifths up]] to $nexusWord.]
	(else:)[$complexSentence3 From here you can go $leftOnNexusMap to the [[$nexusWord-&gt;four fifths up]]. Alternatively, you may go [[$rightOnNexusMap-&gt;$startRoom]].]
	]]
	}]





</tw-passagedata><tw-passagedata pid="31" name="complex four" tags="" position="640,1486" size="100,100">{
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
(set: $imageType to 1) 
(set: $decadeNum to 40) 
(set: $decadeNumber to $hundredNumber + $decadeNum)

(set: $decadeString to (str: $decadeNum))
(set: $decadeReference to $hundredNumber + $decadeNum + 1) 
(set: $referenceString to (str: $decadeReference))
(set: $seedIndex to 1)
(set: $randomSeed to (str: $decadeReference - 1) of $randomMaps)
(set: $roomAdjective to &quot;a &quot;)
(set: $complexLanguage to (str: $decadeReference) of $generalLanguage)
($refreshSentences:) 

($setImage:)
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1442);&lt;/script&gt;]



	
(set: $zeroMarker to &quot;a barrel&quot;)
(set: $oneMarker to &quot;a suit of armor&quot;)
(set: $twoMarker to &quot;a crystal swan&quot;)
(set: $threeMarker to &quot;a statue of a buxom woman&quot;)
(set: $fourMarker to &quot;a golf club&quot;)
(set: $fiveMarker to &quot;a collection of gold rings&quot;)
(set: $sixMarker to &quot;a cane&quot;)
(set: $sevenMarker to &quot;a severed head in a box&quot;)
(set: $eightMarker to &quot;a gateway to infinity&quot;)
(set: $nineMarker to &quot;a Nazgul&quot;)

($setFlatDirections:)
($setUpDownDirections:)
(set: $flatness to &quot;2storey&quot;)
(if: (a: 0, 6,11) contains $floorInt)[(set: $flatness to &quot;hilly&quot;)]
(if: (a: ) contains $floorInt)[(set: $flatness to &quot;flat&quot;)]


(if: $downOnScreen is $downOnNexusMap)[(set: $startRoom to &quot;room 3&quot;)]
(if: $upOnScreen is $downOnNexusMap)[(set: $startRoom to &quot;room 0&quot;)]
(if: $rightOnScreen is $downOnNexusMap)[(set: $startRoom to &quot;room 8&quot;)]
(if: $leftOnScreen is $downOnNexusMap)[(set: $startRoom to &quot;room 5&quot;)]

($setAdjustableDirections:)
($fixOptionalPaths:)

(set: $returnText to &quot;A different possibility is to head back to the $downOnNexusMap towards [[$nexusWord-&gt;complex four]].&quot;) 

}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[{(if: $floorInt is 6)[You are in the bustling souk of Al-Madina, where vendors from far and wide peddle their wares to the busy city. The souk heads [[$upOnNexusMap-&gt;$startRoom]] from here. Alternatively you can exit the souk by [[climbing up-&gt;middle middle]] to $nexusWord.]
(else:)[
	(if: $floorInt is 14)[(set: $place to &quot;Aztec&quot;)You are on a river to an unknown port in the new world. To dock at a magnificent city of pyramids and explore the city, you must head [[$upOnNexusMap-&gt;$startRoom]]. Alternatively you can $head [[$downOnNexusMap-&gt;middle middle]] to $nexusWord.]
	(else:)[ $complexSentence3. From here you can go $downOnNexusMap to the [[$nexusWord-&gt;middle middle]]. Alternatively, you may go [[$upOnNexusMap-&gt;$startRoom]].]
	]
	}]





</tw-passagedata><tw-passagedata pid="32" name="complex five" tags="" position="986,1626" size="100,100">{
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
(set: $imageType to 1) 
(set: $decadeNum to 50) 
(set: $decadeNumber to $hundredNumber + $decadeNum)

(set: $decadeString to (str: $decadeNum))
(set: $decadeReference to $hundredNumber + $decadeNum + 1) 
(set: $referenceString to (str: $decadeReference))
(set: $seedIndex to 1)
(set: $randomSeed to (str: $decadeReference - 1) of $randomMaps)
(set: $roomAdjective to &quot;a &quot;)
(set: $complexLanguage to (str: $decadeReference) of $generalLanguage)
($refreshSentences:) 

($setImage:)
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1452);&lt;/script&gt;]


	
(set: $zeroMarker to &quot;a barrel&quot;)
(set: $oneMarker to &quot;a suit of armor&quot;)
(set: $twoMarker to &quot;a crystal swan&quot;)
(set: $threeMarker to &quot;a statue of a buxom woman&quot;)
(set: $fourMarker to &quot;a golf club&quot;)
(set: $fiveMarker to &quot;a collection of gold rings&quot;)
(set: $sixMarker to &quot;a cane&quot;)
(set: $sevenMarker to &quot;a severed head in a box&quot;)
(set: $eightMarker to &quot;a gateway to infinity&quot;)
(set: $nineMarker to &quot;a Nazgul&quot;)

($setFlatDirections:)
($setUpDownDirections:)
(set: $flatness to &quot;2storey&quot;)
(if: (a: 0, 3, 5,11) contains $floorInt)[(set: $flatness to &quot;hilly&quot;)]
(if: (a: 1) contains $floorInt)[(set: $flatness to &quot;flat&quot;)]


(if: $downOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 3&quot;)]
(if: $upOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 0&quot;)]
(if: $rightOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 8&quot;)]
(if: $leftOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 5&quot;)]

($setAdjustableDirections:)
($fixOptionalPaths:)

(set: $returnText to &quot;A different possibility is to head back to the $leftOnNexusMap towards [[$nexusWord-&gt;complex five]].&quot;) 


}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[{
(if: $floorInt is 6)[You are in the inner gatehouse to the Citadel of Aleppo. The doors to the city are locked and unopenable, but you can explore the citadel by heading [[$rightOnNexusMap-&gt;$startRoom]]. Alternatively you can leave the citadel by [[climbing up a ladder-&gt;middle right]] to $nexusWord.] 
(else:)[
	(if: $floorInt is 14)[(set: $place to &quot;Istanbul&quot;)You are at a port in the city of Istanbul, which is under siege from the forces of Mehmet II. To explore the city, you must head [[$rightOnNexusMap-&gt;$startRoom]] on foot. Alternatively you can $head [[$leftOnNexusMap-&gt;middle right]] to $nexusWord.]
	(else:)[$complexSentence3. From here you can go $leftOnNexusMap to [[$nexusWord-&gt;middle right]]. Alternatively, you may go [[$rightOnNexusMap-&gt;$startRoom]].]
]
}]




</tw-passagedata><tw-passagedata pid="33" name="complex six" tags="" position="891,1776" size="100,100">{
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
(set: $imageType to 1) 
(set: $decadeNum to 60) 
(set: $decadeNumber to $hundredNumber + $decadeNum)

(set: $decadeString to (str: $decadeNum))
(set: $decadeReference to $hundredNumber + $decadeNum + 1) 
(set: $referenceString to (str: $decadeReference))
(set: $seedIndex to 1)
(set: $randomSeed to (str: $decadeReference - 1) of $randomMaps)
(set: $roomAdjective to &quot;a &quot;)
(set: $complexLanguage to (str: $decadeReference) of $generalLanguage)
($refreshSentences:) 

($setImage:)
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1462);&lt;/script&gt;]



	
(set: $zeroMarker to &quot;a barrel&quot;)
(set: $oneMarker to &quot;a suit of armor&quot;)
(set: $twoMarker to &quot;a crystal swan&quot;)
(set: $threeMarker to &quot;a statue of a buxom woman&quot;)
(set: $fourMarker to &quot;a golf club&quot;)
(set: $fiveMarker to &quot;a collection of gold rings&quot;)
(set: $sixMarker to &quot;a cane&quot;)
(set: $sevenMarker to &quot;a severed head in a box&quot;)
(set: $eightMarker to &quot;a gateway to infinity&quot;)
(set: $nineMarker to &quot;a Nazgul&quot;)

($setFlatDirections:)
($setUpDownDirections:)
(set: $flatness to &quot;2storey&quot;)
(if: (a: 0,1,2,6,7,8) contains $floorInt)[(set: $flatness to &quot;hilly&quot;)]
(if: (a: ) contains $floorInt)[(set: $flatness to &quot;flat&quot;)]

(if: $downOnScreen is $upOnNexusMap)[(set: $startRoom to &quot;room 3&quot;)]
(if: $upOnScreen is $upOnNexusMap)[(set: $startRoom to &quot;room 0&quot;)]
(if: $rightOnScreen is $upOnNexusMap)[(set: $startRoom to &quot;room 8&quot;)]
(if: $leftOnScreen is $upOnNexusMap)[(set: $startRoom to &quot;room 5&quot;)]

($setAdjustableDirections:)
($fixOptionalPaths:)

(set: $returnText to &quot;A different possibility is to head back to the $upOnNexusMap towards [[$nexusWord-&gt;complex six]].&quot;) 

}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[{
(if: $floorInt is 6)[You are in the Jewish quarter of the ancient city of Aleppo. To explore the quarter, you must head [[$downOnNexusMap-&gt;$startRoom]]. You can leave the quarter by climbing [[up-&gt;middle right]] to $nexusWord.] 
(else:)[
	(if: $floorInt is 14)[(set:$place to &quot;London&quot;)You are at a port in the city of London, where the Lollards are imprisoned. To explore the city, you must head [[$downOnNexusMap-&gt;$startRoom]] on foot. Alternatively you can $head [[$upOnNexusMap-&gt;middle right]] to $nexusWord.]
	(else:)[$complexSentence3. From here you can go $upOnNexusMap to [[$nexusWord-&gt;middle right]]. Alternatively, you may go [[$downOnNexusMap-&gt;$startRoom]].]
	]
	}]





</tw-passagedata><tw-passagedata pid="34" name="complex seven" tags="" position="673,1777" size="100,100">{
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;

(set: $decadeNum to 70) 
($enterComplex:) 
(set: $returnText to &quot;A different possibility is to head back to the $leftOnNexusMap towards [[$nexusWord-&gt;complex seven]].&quot;) 

&lt;!--The following assigns decades to architecture types. For example, if floorInt is 11 and this is the entry point to the seventh complex, then we are speaking about the decade 1170. The following will get the system to reference the architecture assigned to that decade.--&gt;
(if: (a: 11) contains $floorInt) [(set: $architecture to &quot;cathedral&quot;)]
($buildComplex:) 

}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[{
(if: $floorInt is 6)[You are in the great mosque in the city of Aleppo. You can explore the mosque by heading [[$rightOnNexusMap-&gt;$startRoom]]. Alternatively you can leave the mosque by [[climbing up a ladder-&gt;two fifths up]] to $nexusWord.] 
(else:)[
	(if: $floorInt is 14)[You are at a port in the Vatican city, which suffers under the corrupt Papacy of Rodrigo Borgia. To explore the Vatican, you must head [[$rightOnNexusMap-&gt;$startRoom]] on foot. Alternatively you can $head [[$leftOnNexusMap-&gt;two fifths up]] to $nexusWord.]
	(else:)[$complexSentence3. From here you can go $leftOnNexusMap to [[$nexusWord-&gt;two fifths up]]. Alternatively, you may go [[$rightOnNexusMap-&gt;$startRoom]].]
	]
	}]





</tw-passagedata><tw-passagedata pid="35" name="complex nine" tags="" position="292,1778" size="100,100">{
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
(set: $imageType to 1) 
(set: $decadeNum to 90) 
(set: $decadeString to (str: $decadeNum))
(set: $decadeNumber to $hundredNumber + $decadeNum)

(set: $decadeReference to $hundredNumber + $decadeNum + 1) 
(set: $referenceString to (str: $decadeReference))
(set: $seedIndex to 1)
(set: $randomSeed to (str: $decadeReference - 1) of $randomMaps)
(set: $roomAdjective to &quot;a &quot;)
(set: $complexLanguage to (str: $decadeReference) of $generalLanguage)
($refreshSentences:) 

($setImage:)
(if: $floorInt is 12 and $mervDirection is &quot;inbound&quot;)[&lt;script&gt;CustomScripts.updateBackground(1292);&lt;/script&gt;]
(if: $floorInt is 12 and $mervDirection is &quot;outbound&quot;)[&lt;script&gt;CustomScripts.updateBackground(1294);&lt;/script&gt;]
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1492);&lt;/script&gt;]

	
(set: $zeroMarker to &quot;a barrel&quot;)
(set: $oneMarker to &quot;a suit of armor&quot;)
(set: $twoMarker to &quot;a crystal swan&quot;)
(set: $threeMarker to &quot;a statue of a buxom woman&quot;)
(set: $fourMarker to &quot;a golf club&quot;)
(set: $fiveMarker to &quot;a collection of gold rings&quot;)
(set: $sixMarker to &quot;a cane&quot;)
(set: $sevenMarker to &quot;a severed head in a box&quot;)
(set: $eightMarker to &quot;a gateway to infinity&quot;)
(set: $nineMarker to &quot;a Nazgul&quot;)

($setFlatDirections:)
($setUpDownDirections:)
(set: $flatness to &quot;2storey&quot;)
(if: (a: 1, 2, 5, 6, 7) contains $floorInt)[(set: $flatness to &quot;hilly&quot;)]
(if: (a: 3, 4, 8) contains $floorInt)[(set: $flatness to &quot;flat&quot;)]


(if: $downOnScreen is $rightOnNexusMap)[(set: $startRoom to &quot;room 3&quot;)]
(if: $upOnScreen is $rightOnNexusMap)[(set: $startRoom to &quot;room 0&quot;)]
(if: $rightOnScreen is $rightOnNexusMap)[(set: $startRoom to &quot;room 8&quot;)]
(if: $leftOnScreen is $rightOnNexusMap)[(set: $startRoom to &quot;room 5&quot;)]

($setAdjustableDirections:)
($fixOptionalPaths:)

(set: $returnText to &quot;A different possibility is to head back to the $rightOnNexusMap towards [[$nexusWord-&gt;complex nine]].&quot;) 
 

}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[{
(if: $floorInt is 12)[(set: $place to &quot;Merv&quot;)
(if: $mervDirection is &quot;inbound&quot;)[You find a boatway towards the central Asian city of Merv. The skyline is breathtaking. However, a family hurriedly rowing in the opposite direction shouts a warning. &quot;Turn back!&quot; they warn, calling out over the water. &quot;The Mongols have taken the city and are killing everyone, man, woman and child!&quot; You can ignore the warning and [[head into the city anyway-&gt;burning merv]]. Or you can [[turn back-&gt;two fifths up]] to $nexusWord.]
(else:)[You escape, coughing from the smoke, from the blazing inferno and out through the gates of the city. You have no option but to [[head back-&gt;two fifths up]] to $nexusWord. ]] 
(else:)[
(if: $floorInt is 6)[You are at one of the gatehouses to the city of Aleppo. From here, a road leads to the forgotten cities to the $leftOnNexusMap. You may [[take the road $leftOnNexusMap-&gt;$startRoom]] if you like, or [[climb up-&gt;two fifths up]] to $nexusWord.] 
(else:)[
	(if: $floorInt is 14)[(set: $place to &quot;Wallachia&quot;)You are up river near the city of Trgovite, where Vlad the Impaler rules with an iron fist. Outside the city, fields of impaled bodies send an ominous message to the enemies of Wallachia. To head towards the fields, you must head [[$leftOnNexusMap-&gt;$startRoom]] on foot. Alternatively you can $head [[$rightOnNexusMap-&gt;two fifths up]] to $nexusWord.] 
	(else:) [(if: $floorInt is 8)[You wade among the dead, killed at the recent battle between the Anglo Saxons and the Vikings. From here you can wade $rightOnNexusMap to the [[$nexusWord-&gt;two fifths up]]. Alternatively, you may wade [[$leftOnNexusMap-&gt;$startRoom]].]
			(else:)[$complexSentence3. (if: $floorInt is 11)[There is an old butcher here, [[with whom you make speak-&gt;Berold of Rouen]].]  From here you can go $rightOnNexusMap to the [[$nexusWord-&gt;two fifths up]]. Alternatively, you may go [[$leftOnNexusMap-&gt;$startRoom]].]
	]]]
	}]





</tw-passagedata><tw-passagedata pid="36" name="complex eight" tags="" position="488,2069" size="100,100">{
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
(set: $imageType to 1) 
(set: $decadeNum to 80) 
(set: $decadeNumber to $hundredNumber + $decadeNum)

(set: $decadeString to (str: $decadeNum))
(set: $decadeReference to $hundredNumber + $decadeNum + 1) 
(set: $referenceString to (str: $decadeReference))
(set: $seedIndex to 1)
(set: $randomSeed to (str: $decadeReference - 1) of $randomMaps)
(set: $roomAdjective to &quot;a &quot;)
(set: $complexLanguage to (str: $decadeReference) of $generalLanguage)
($refreshSentences:) 

($setImage:)
(if: $floorInt is 12)[&lt;script&gt;CustomScripts.updateBackground(1282);&lt;/script&gt;]
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1482);&lt;/script&gt;]


	
(set: $zeroMarker to &quot;a barrel&quot;)
(set: $oneMarker to &quot;a suit of armor&quot;)
(set: $twoMarker to &quot;a crystal swan&quot;)
(set: $threeMarker to &quot;a statue of a buxom woman&quot;)
(set: $fourMarker to &quot;a golf club&quot;)
(set: $fiveMarker to &quot;a collection of gold rings&quot;)
(set: $sixMarker to &quot;a cane&quot;)
(set: $sevenMarker to &quot;a severed head in a box&quot;)
(set: $eightMarker to &quot;a gateway to infinity&quot;)
(set: $nineMarker to &quot;a Nazgul&quot;)

($setFlatDirections:)
($setUpDownDirections:)
(set: $flatness to &quot;2storey&quot;)
(if: (a:2, 5, 6) contains $floorInt)[(set: $flatness to &quot;hilly&quot;)]
(if: (a: ) contains $floorInt)[(set: $flatness to &quot;flat&quot;)]


(if: $downOnScreen is $upOnNexusMap)[(set: $startRoom to &quot;room 3&quot;)]
(if: $upOnScreen is $upOnNexusMap)[(set: $startRoom to &quot;room 0&quot;)]
(if: $rightOnScreen is $upOnNexusMap)[(set: $startRoom to &quot;room 8&quot;)]
(if: $leftOnScreen is $upOnNexusMap)[(set: $startRoom to &quot;room 5&quot;)]

($setAdjustableDirections:)
($fixOptionalPaths:)

(set: $returnText to &quot;A different possibility is to head back to the $upOnNexusMap towards [[$nexusWord-&gt;complex eight]].&quot;) 

}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[{
(if: $floorInt is 12)[
	(if: $japanBattle is &quot;outbound&quot;)[You come to what appears to be an empty beach. Suddenly, however, you see a ship peeping out from behind a large rock and heavy hands fall on your shoulders. You are being pressed into service into the Mongol fleet! You slip from their grasp and you may take your one chance to [[escape-&gt;bottom]]. Alternatively, you can surrender and [[see where this goes.-&gt;wreckStory]] ]
	(else:)[You wash up on the beach. From here you may head [[back-&gt;bottom]] to $nexusWord.]]
(else:)[(if: $floorInt is 6)[You are in the penal quarter of the ancient city of Aleppo, under the shadow of the citadel, where sinners and criminals are justly flogged, mutilated or executed. To explore the quarter, you must head [[$downOnNexusMap-&gt;$startRoom]]. You can leave the quarter by climbing [[up-&gt;bottom]] to $nexusWord.] 
(else:)[
	(if: $floorInt is 14)[(set: $place to &quot;Seville&quot;)You are at a riverside dock in the city of Seville, where the Inquisition roots out Jews, Muslims and heretics to be painfully converted to the one true faith. To explore the city, you must head [[$downOnNexusMap-&gt;$startRoom]] on foot. Alternatively you can head [[$upOnNexusMap-&gt;bottom]] to the $nexusWord.]
	(else:)[
	(if: $floorInt is 8)[You walk among the wounded Anglo Saxons, bloodied from their victory against the Viking raiders. You may head [[$downOnNexusMap-&gt;$startRoom]] from here. Alternatively you can $head [[$upOnNexusMap-&gt;bottom]] to $nexusWord.]
	(else:)[$complexSentence3. From here you can go $upOnNexusMap to [[$nexusWord-&gt;bottom]]. Alternatively, you may go [[$downOnNexusMap-&gt;$startRoom]].]  
	]]]
	}]





</tw-passagedata><tw-passagedata pid="37" name="_Done" tags="" position="305,1080" size="100,100">At last the elevator comes to a halt.

{
(set: $floorInt to (num: $floorString))
(set: $hundredNumber to $floorInt*100)
(set: $floorString2 to (str: $hundredNumber))

(set: $head to (cond:
	$floorInt is 8, &quot;wade&quot;,
	$floorInt is 14, &quot;sail a course&quot;,
	(either: &quot;head&quot;, &quot;go&quot;)))

(set: $secondaryPassage to (cond: 
	$floorInt is 0, &#39;tunnel&#39;,
	$floorInt is 1, &#39;alley&#39;,
	$floorInt is 2, &#39;avenue&#39;,
	$floorInt is 3, &#39;corridor&#39;,
	$floorInt is 4, &#39;way&#39;,
	$floorInt is 5, &#39;passage&#39;,
	$floorInt is 6, &#39;rooftop&#39;,
	$floorInt is 7, &#39;palace complex&#39;,
	$floorInt is 8, &#39;waterway&#39;,
	$floorInt is 9, &#39;Strae&#39;,
	$floorInt is 10, &#39;path&#39;,
	$floorInt is 11, &#39;trail&#39;,
	$floorInt is 12, &#39;trail&#39;,
	$floorInt is 13, &#39;path&#39;,
	$floorInt is 14, &#39;deck&#39;,
	$floorInt is 15, &#39;lane&#39;,
	$floorInt is 16, &#39;channel&#39;,
	$floorInt is 17, &#39;couloir&#39;,
	$floorInt is 18, &#39;wynd&#39;,
	$floorInt is 19, &#39;lane&#39;,
	$floorInt is 20, &#39;back street&#39;,
	&quot;way&quot;))

(set: $doorTypes to (cond: 
	$floorInt is 0, (a: &quot;through a&quot;, &quot;&quot;, &quot;doorway&quot;, &quot;into a&quot;),
	$floorInt is 1, (a: &#39;through an&#39;, &#39;&#39;, &#39;archway&#39;, &quot;into a&quot;),
	$floorInt is 2, (a: &#39;through a&#39;, &#39;red and gold&#39;, &#39;arch&#39;, &quot;into a&quot;),
	$floorInt is 3, (a: &#39;through a&#39;, &#39;golden&#39;, &#39;exit&#39;, &quot;into&quot;),
	$floorInt is 4, (a: &#39;through a&#39;, &#39;collapsing&#39;, &#39;arch&#39;, &quot;into a&quot;),
	$floorInt is 5, (a: &#39;down a&#39;, &#39;long&#39;, &#39;road&#39;, &quot;to a&quot;),
	$floorInt is 6, (a: &#39;into a&#39;, &#39;rooftop&#39;,&#39;cupola&#39;, &quot;that provides access to a&quot;),
	$floorInt is 7, (a: &#39;down a&#39;, &#39;mud&#39;, &#39;lane&#39;, &quot;to a&quot;),
	$floorInt is 8, (a: &#39;up a&#39;, &#39;dry-earth&#39;, &#39;upgang&#39;, &quot;onto a&quot;),
	$floorInt is 9, (a: &#39;along a&#39;, &#39;narrow&#39;, &#39;Gasse&#39;, &quot;to a&quot;),
	$floorInt is 10, (a: &#39;down a&#39;, &#39;rarely trodden&#39;, &#39;path&#39;, &quot;to a&quot;),
	$floorInt is 11, (a: &#39;through a&#39;, &quot;farmer&#39;s&quot;,&#39;gate&#39;, &quot;into a&quot;),
	$floorInt is 12, (a: &#39;through a&#39;, &#39;&#39;, &#39;mountain pass&#39;, &quot;to a&quot;),
	$floorInt is 13, (a: &#39;through a&#39;, &#39;rotted&#39;, &#39;gate&#39;, &quot;into a&quot;),
	$floorInt is 14, (a: &#39;&#39;, &#39;&#39;, &#39;&#39;, &quot;to a&quot;),
	$floorInt is 15, (a: &#39;down a&#39;, &#39;&#39;, &#39;lane&#39;, &quot;to a&quot;),
	$floorInt is 16, (a: &#39;up a&#39;, &#39;&#39;, &#39;step&#39;, &quot;onto a&quot;),
	$floorInt is 17, (a: &#39;over a&#39;, &#39;narrow&#39;, &#39;bridge&#39;, &quot;to a different&quot;),
	$floorInt is 18, (a: &#39;down a&#39;, &#39;foggy&#39;, &#39;alley&#39;, &quot;to a different&quot;),
	$floorInt is 19, (a: &#39;through a&#39;, &#39;&#39;, &#39;hole in the wall&#39;, &quot;to a different&quot;),
	$floorInt is 20, (a: &#39;through an&#39;, &#39;&#39;, &#39;electronic turnstile&#39;, &quot;to a different&quot;),
	&quot;through a&quot;, &quot;&quot;, &quot;doorway&quot;, &quot;to a&quot;))

(set: $exitPhrase to (cond: 
	$floorInt is 9, &quot;to somewhere&quot;,
	$floorInt is 6, &quot;into the&quot;, 
	$floorInt is 8, &quot;onto an&quot;,
	$floorInt is 14, &quot;towards a&quot;,
	(4) of $doorTypes + &quot; different&quot;
	))

(set: $complexWord to (cond: 
	$floorInt is 0, &#39;part of the labyrinth&#39;,
	$floorInt is 1, &#39;quarter&#39;,
	$floorInt is 2, &#39;ward&#39;,
	$floorInt is 3, &#39;wing&#39;,
	$floorInt is 4, &#39;quarter&#39;,
	$floorInt is 5, &#39;realm&#39;,
	$floorInt is 6, &#39;building below&#39;,
	$floorInt is 7, &#39;quarter&#39;,
	$floorInt is 8, &#39;island&#39;,
	$floorInt is 9, &#39;unknown&#39;,
	$floorInt is 10, &#39;commune&#39;,
	$floorInt is 11, &#39;parish&#39;,
	$floorInt is 12, &#39;region&#39;,
	$floorInt is 13, &#39;parish&#39;,
	$floorInt is 14, &#39;nearby port&#39;,
	$floorInt is 15, &#39;hamlet&#39;,
	$floorInt is 16, &#39;district&#39;,
	$floorInt is 17, &#39;quarter&#39;,
	$floorInt is 18, &#39;neighborhood&#39;,
	$floorInt is 19, &#39;district&#39;,
	$floorInt is 20, &#39;sector&#39;,
	&quot;region&quot;))
	
(set: $nexusWord to (cond: 
	$floorInt is 0, &quot;the catacombs&quot;,
	$floorInt is 1, &quot;the forum&quot;,
	$floorInt is 2, &quot;the forbidden city&quot;,
	$floorInt is 3, &quot;the Byzantine palace&quot;,
	$floorInt is 4, &quot;the ruins of the Caput Mundi&quot;,
	$floorInt is 5, &quot;the olde pyke&quot;,
	$floorInt is 6, &quot;the rooftops of Aleppo&quot;,
	$floorInt is 7, &quot;the palace complex at Charlemagne&#39;s court&quot;,
	$floorInt is 8, &quot;the sulphurous waters of the Somerset levels&quot;,
	$floorInt is 9, &quot;die zentrale Stadt &quot;,
	$floorInt is 10, &quot;the pilgrim&#39;s path&quot;,
	$floorInt is 11, &quot;Sherwood Forest&quot;,
	$floorInt is 11 and $homeCity is &quot;La Rochelle&quot;, &quot;the exit to the tower&quot;,
	$floorInt is 12, &quot;the Asian steppes&quot;,
	$floorInt is 13, &quot;the slutchy wynds&quot;,
	$floorInt is 14, &quot;the sea&quot;,
	$floorInt is 15, &quot;undefined&quot;,
	$floorInt is 16, &quot;undefined&quot;,
	$floorInt is 17, &quot;undefined&quot;,
	$floorInt is 18, &quot;undefined&quot;,
	$floorInt is 19, &quot;undefined&quot;,
	$floorInt is 20, &quot;undefined&quot;))
	

	
(set: $nexusPassage to (cond: 
	$floorInt is 0, (a: &#39;in a&#39;, &#39;narrow&#39;, &#39;tunnel&#39;),
	$floorInt is 1, (a: &#39;on a&#39;, &#39;busy&#39;, &#39;street&#39;),
	$floorInt is 2, (a: &#39;on a&#39;, &#39;clay-brick&#39;, &#39;avenue&#39;),
	$floorInt is 3, (a: &#39;in a&#39;, &#39;high&#39;, &#39;hallway&#39;),
	$floorInt is 4, (a: &#39;on a&#39;, &#39;desolate&#39;, &#39;street&#39;),
	$floorInt is 5, (a: &#39;on a&#39;, &#39;grassy&#39;, &#39;path&#39;),
	$floorInt is 6, (a: &#39;on a&#39;, &#39;clay tiled&#39;,&#39;rooftop&#39;),
	$floorInt is 7, (a: &#39;on a&#39;, &#39;muddy&#39;, &#39;street&#39;),
	$floorInt is 8, (a: &#39;&#39;, &#39;&#39;, &#39;&#39;),
	$floorInt is 9, (a: &#39;on a&#39;, &#39;dark brick&#39;, &#39;Strae&#39;),
	$floorInt is 10, (a: &#39;on a&#39;, &quot;pilgrim&#39;s&quot;, &#39;trail&#39;),
	$floorInt is 11, (a: &#39;on a&#39;, &#39;drizzled&#39;,&#39;path&#39;),
	$floorInt is 12, (a: &#39;on a&#39;, &#39;wide open&#39;, &#39;trail&#39;),
	$floorInt is 13, (a: &#39;on a&#39;, &#39;slutchy&#39;, &#39;path&#39;),
	$floorInt is 14, (a: &#39;on a&#39;, &#39;wooden&#39;, &#39;frigate&#39;),
	$floorInt is 15, (a: &#39;on a&#39;, &#39;smoky&#39;, &#39;pike&#39;),
	$floorInt is 16, (a: &#39;on a&#39;, &#39;deep&#39;, &#39;canal&#39;),
	$floorInt is 17, (a: &#39;on a&#39;, &#39;cobbled&#39;, &#39;rue&#39;),
	$floorInt is 18, (a: &#39;on a&#39;, &#39;cobbled&#39;, &#39;street&#39;),
	$floorInt is 19, (a: &#39;on a&#39;, &#39;rubbled&#39;, &#39;street&#39;),
	$floorInt is 20, (a: &#39;on a&#39;, &#39;vibrant&#39;, &#39;street&#39;),
	&quot;way&quot;))
	
	(set: $nexusPhrase to (cond: 
	$floorInt is 0, (a: &#39;in the&#39;, &#39;dusty&#39;, &#39;catacombs&#39;, &#39;of Callixus&#39;),
	$floorInt is 1, (a: &#39;in the&#39;, &#39;bustling&#39;, &#39;forum&#39;, &#39;of ancient Rome&#39;),
	$floorInt is 2, (a: &#39;on the&#39;, &#39;opulent&#39;, &#39;avenues&#39;, &#39;of the Forbidden City&#39;),
	$floorInt is 3, (a: &#39;in a&#39;, &#39;glistening&#39;, &#39;palace&#39;, &#39;in ancient Byzantium&#39;),
	$floorInt is 4, (a: &#39;in the&#39;, &#39;ruins&#39;, &#39;&#39;, &#39;of ancient Rome&#39;),
	$floorInt is 5, (a: &#39;on the&#39;, &#39;olde&#39;, &#39;pyke&#39;, &#39;in Arthurian Britain&#39;),
	$floorInt is 6, (a: &#39;above the&#39;, &#39;bustling&#39;, &#39;city&#39;, &#39;of Aleppo&#39;),
	$floorInt is 7, (a: &quot;in Charlemagne&#39;s&quot;, &#39;&#39;, &#39;Palace Complex&#39;, &#39;at Aachen&#39;),
	$floorInt is 8, (a: &#39;wading through the&#39;, &#39;stinking&#39;, &#39;Somerset levels&#39;, &#39;, within the bells of the Athelney Abbey&#39;),
	$floorInt is 9, (a: &#39;in the&#39;, &#39;&#39;, &#39;First Reich&#39;, &#39;&#39;),
	$floorInt is 10, (a: &#39;near the&#39;, &#39;&#39;, &#39;twelve holy communities&#39;, &#39;of St Benedict&#39;),
	$floorInt is 11, (a: &#39;in&#39;, &#39;&#39;,&#39;Sherwood Forest&#39;, &#39;&#39;),
	$floorInt is 12, (a: &#39;on the&#39;, &#39;boundless&#39;, &#39;steppes&#39;, &#39;of Asia&#39;),
	$floorInt is 13, (a: &#39;in the&#39;, &#39;diseased&#39;, &#39;ditches&#39;, &#39;of medieval Scotland&#39;),
	$floorInt is 14, (a: &#39;in sight of&#39;, &#39;&#39;, &#39;unexplored shores&#39;, &#39;&#39;),
	$floorInt is 15, (a: &#39;in the&#39;, &#39;dark&#39;, &#39;valley&#39;, &#39;beneath the Apuseni mountains&#39;),
	$floorInt is 16, (a: &#39;on the&#39;, &#39;tranquil&#39;, &#39;waterways&#39;, &#39;of the Grachtengordel&#39;),
	$floorInt is 17, (a: &#39;on the&#39;, &#39;bloody&#39;, &#39;streets&#39;, &#39;of revolutionary Paris&#39;),
	$floorInt is 18, (a: &#39;on the&#39;, &#39;foggy&#39;, &#39;cobbles&#39;, &#39;of Victorian London&#39;),
	$floorInt is 19, (a: &#39;in the&#39;, &#39;dusty&#39;, &#39;rubble&#39;, &#39;of war torn Europe&#39;),
	$floorInt is 20, (a: &#39;within the&#39;, &#39;dense&#39;, &#39;cityscape&#39;, &#39;of neon lit Shanghai&#39;),
	(a: &quot;&quot;,&quot;&quot;,&quot;world&quot;,&quot;&quot;)))

(set: $hundredStrings to (dm: 
		&quot;0&quot;, &quot;the first century&quot;,
		&quot;1&quot;, &quot;the second century&quot;,
		&quot;2&quot;, &quot;the third century&quot;,
		&quot;3&quot;, &quot;the fourth century&quot;,
		&quot;4&quot;, &quot;the fifth century&quot;,
	  	&quot;5&quot;, &quot;the sixth century&quot;,
		&quot;6&quot;, &quot;the seventh century&quot;,
		&quot;7&quot;, &quot;the eighth century&quot;,
		&quot;8&quot;, &quot;the ninth century&quot;,
		&quot;9&quot;, &quot;the tenth century&quot;,
		&quot;10&quot;, &quot;the eleventh century&quot;,
		&quot;11&quot;, &quot;the twelfth century&quot;,
		&quot;12&quot;, &quot;the thirteenth century&quot;,
		&quot;13&quot;, &quot;the fourteenth century&quot;,
		&quot;14&quot;, &quot;the fifteenth century&quot;,
	  	&quot;15&quot;, &quot;the sixteenth century&quot;,
		&quot;16&quot;, &quot;the seventeenth century&quot;,
		&quot;17&quot;, &quot;the eighteenth century&quot;,
		&quot;18&quot;, &quot;the nineteenth century&quot;,
		&quot;19&quot;, &quot;the twentieth century&quot;,
		&quot;20&quot;, &quot;the twenty first century&quot;))

(set: $romanDecades to (dm: 
		&quot;0&quot;, &#39;&quot;Nulla Decennium&quot;&#39;,
		&quot;1&quot;, &#39;&quot;Decennium Unum&quot;&#39;,
		&quot;2&quot;, &#39;&quot;Decennium Duo&quot;&#39;,
		&quot;3&quot;, &#39;&quot;Decennium Tria&quot;&#39;,
		&quot;4&quot;, &#39;&quot;Decennium Quatuor&quot;&#39;,
	  	&quot;5&quot;, &#39;&quot;Decennium Quinque&quot;&#39;,
		&quot;6&quot;, &#39;&quot;Sex Decennium&quot;&#39;,
		&quot;7&quot;, &#39;&quot;Decennium Septem&quot;&#39;,
		&quot;8&quot;, &#39;&quot;Decennium Octo&quot;&#39;,
		&quot;9&quot;, &#39;&quot;Decennium Novem&quot;&#39;))

(set: $middleEnglishDecades to (dm: 
		&quot;0&quot;, &#39;&quot;ought tenne yeer&quot;&#39;,
		&quot;1&quot;, &#39;&quot;fyrst tenne yeer&quot;&#39;,
		&quot;2&quot;, &#39;&quot;secunde tenne yeer&quot;&#39;,
		&quot;3&quot;, &#39;&quot;thridde tenne yeer&quot;&#39;,
		&quot;4&quot;, &#39;&quot;ferthe tenne yeer&quot;&#39;,
	  	&quot;5&quot;, &#39;&quot;fifte tenne yeer&quot;&#39;,
		&quot;6&quot;, &#39;&quot;sixte tenne yeer&quot;&#39;,
		&quot;7&quot;, &#39;&quot;sevynte tenne yeer&quot;&#39;,
		&quot;8&quot;, &#39;&quot;eyghte tenne yeer&quot;&#39;,
		&quot;9&quot;, &#39;&quot;nynthe tenne yeer&quot;&#39;))

(set: $defaultDecades to (dm: 
		&quot;1&quot;, &#39;&quot;Decade One&quot;&#39;,
		&quot;2&quot;, &#39;&quot;Decade Two&quot;&#39;,
		&quot;3&quot;, &#39;&quot;Decade Three&quot;&#39;,
		&quot;4&quot;, &#39;&quot;Decade Four&quot;&#39;,
		&quot;5&quot;, &#39;&quot;Decade Five&quot;&#39;,
	  	&quot;6&quot;, &#39;&quot;Decade Six&quot;&#39;,
		&quot;7&quot;, &#39;&quot;Decade Seven&quot;&#39;,
		&quot;8&quot;, &#39;&quot;Decade Eight&quot;&#39;,
		&quot;9&quot;, &#39;&quot;Decade Nine&quot;&#39;,
		&quot;0&quot;, &#39;&quot;Decade Zero&quot;&#39;
	)
	)





(set: $decadeSigns to (cond: 
	$floorInt &lt; 5, $romanDecades,
	$floorInt &lt; 16, $middleEnglishDecades,
	$defaultDecades))







(set: $roomWord to (cond: 
	$floorInt is 0, &#39;vault&#39;,
	$floorInt is 1, &#39;plaza&#39;,
	$floorInt is 2, &#39;square&#39;,
	$floorInt is 3, &#39;room&#39;,
	$floorInt is 4, &#39;former plaza&#39;,
	$floorInt is 5, &#39;chamber&#39;,
	$floorInt is 6, &#39;stall&#39;,
	$floorInt is 7, &#39;grotto&#39;,
	$floorInt is 8, &#39;hummock&#39;,
	$floorInt is 9, &#39;hall&#39;,
	$floorInt is 10, &#39;abyss&#39;,
	$floorInt is 11, &#39;platform&#39;,
	$floorInt is 12, &#39;cockpit&#39;,
	$floorInt is 13, &#39;hall&#39;,
	$floorInt is 14, &#39;compartment&#39;,
	$floorInt is 15, &#39;hovel&#39;,
	$floorInt is 16, &#39;square&#39;,
	$floorInt is 17, &#39;courtyard&#39;,
	$floorInt is 18, &#39;dosshouse&#39;,
	$floorInt is 19, &#39;square&#39;,
	$floorInt is 20, &#39;cube&#39;,
	&quot;space&quot;))
	
	

(set: $somewhere to (cond: 
	$floorInt is 8, &quot; &quot;,
	(either: &quot; somewhere &quot;, &quot; &quot;)
	)
	)
	

(set: $mainSentence to &quot;You are &quot; 
	+ 1st of $nexusPassage 
	+ &quot; &quot; 
	+ 2nd of $nexusPassage
	+ &quot; &quot; 
	+ 3rd of $nexusPassage
	+ $somewhere 
	+ 1st of $nexusPhrase
	+ &quot; &quot; 
	+ 2nd of $nexusPhrase
	+ &quot; &quot;
	+ 3rd of $nexusPhrase
	+ &quot; &quot;
	+ 4th of $nexusPhrase
	)
	
(set: $fixDirection to 
	(macro: num-type _directionNum, 
	[
	(set: $directions to 
		(cond: 
		_directionNum is 0,(a:&#39;north&#39;,&#39;east&#39;,&#39;south&#39;,&#39;west&#39;),
		_directionNum is 1,(a: &#39;east&#39;,&#39;south&#39;,&#39;west&#39;,&#39;north&#39;),
		_directionNum is 2,(a: &#39;south&#39;,&#39;west&#39;,&#39;north&#39;,&#39;east&#39;),
		_directionNum is 3,(a: &#39;west&#39;,&#39;north&#39;,&#39;east&#39;,&#39;south&#39;),
		(a:&#39;fail&#39;)))
	(if: 1st of $directions is &#39;fail&#39;)
		[($fixDirection:_directionNum - 4)]
	(output-data: &quot;&quot;)
	]
	)
)

(set: $signIntro to &quot;with a sign that says &quot;)
(set: $hundredString to $floorString of $hundredStrings)
($fixDirection:$floorInt)
(set: $upOnNexusMap to 1st of $directions)
(set: $rightOnNexusMap to 2nd of $directions)
(set: $downOnNexusMap to 3rd of $directions)
(set: $leftOnNexusMap to 4th of $directions)




	}
	
The elevator doors open to the $rightOnNexusMap and you [[step out-&gt;top left]].</tw-passagedata><tw-passagedata pid="38" name="elevator" tags="" position="305,930" size="100,100">
(border: &quot;solid&quot;)[You are in an elevator. The dial permits you to choose any floor from 0 through 20. Please input the floor you desire.]  
&lt;input type=&quot;text&quot; data-varname=&quot;floorString&quot;&gt;
&lt;script&gt;processInputElements();&lt;/script&gt;

(link-goto: &quot;Done&quot;)

&lt;script&gt;CustomScripts.updateBackground(-1);&lt;/script&gt;
</tw-passagedata><tw-passagedata pid="39" name="phrase builder" tags="startup" position="296,1361" size="100,100">{
(set: $wordIterator to 1)
(set: $directionText to &quot;oijo&quot;)

(set: $vectorDescription to 
(macro: array-type _vector, [
	(set: _eW to (cond:
		(1st of _vector) is 1, &quot;east&quot;,
		(1st of _vector) is -1, &quot;west&quot;,
		&quot;&quot;))
	(set: _nS to (cond:
		(2nd of _vector) is 1, &quot;north&quot;,
		(2nd of _vector) is -1, &quot;south&quot;,
		&quot;&quot;))
	(set: _uD to (cond:
		(3rd of _vector) is 1, &quot;up&quot;,
		(3rd of _vector) is -1, &quot;down&quot;,
		&quot;&quot;))
	(set: _output to _uD +_nS +_eW)
	(output-data: _output)
	]
	))
	
(set: $vectorDescription to (macro: array-type _vector,[
	(set: _through_way to ($elevation: _vector))
	(set: _eW to (cond:
		(1st of _vector) is 1, &quot;east&quot;,
		(1st of _vector) is -1, &quot;west&quot;,
		&quot;&quot;))
	(set: _nS to (cond:
		(2nd of _vector) is 1, &quot;north&quot;,
		(2nd of _vector) is -1, &quot;south&quot;,
		&quot;&quot;))
	(set: _uD to (cond:
		(3rd of _vector) is 1, &quot;up&quot;,
		(3rd of _vector) is -1, &quot;down&quot;,
		&quot;&quot;))
	(set: _conjunctionPhrase to (cond: 
		_through_way is &quot;a stairwell&quot;, &quot; and to the &quot;,
		&quot;&quot;))
	(set: _output to _uD + _conjunctionPhrase + _nS + _eW)
	(output-data: _output)
	]
	))
	
&lt;!--takes a list of vectors and calls writeDirection for each--&gt;
(set: $listExits to 
(macro: array-type _list, [
	(for: each _vector, ..._list)[
		($writeLink: _vector)
		(set: $wordIterator +=1)
		]
	(output-data:&quot;&quot;)
	]))
	

(set: $wordLink to 
(macro: array-type _vector, [
	($writeIntro:_vector) 
	(set: $directionText to $directionText 
	+ &quot; [[&quot; 
	+ ($getDirectionWords: _vector) 
	+ &quot;.&quot;
	+ &quot;-&gt;&quot; 
	+ ($getOtherRoomName:_vector) 
	+ &quot;]]&quot;)
	(output-data: &quot;&quot;)
	]
))

(set: $writeLink to 
(macro: array-type _vector, [
	($writeIntro:_vector) 
	(set: $directionText to $directionText 
	+ &quot; [[&quot; 
	+ ($vectorDescription: _vector) 
	+ &quot;.&quot;
	+ &quot;-&gt;&quot; 
	+ ($getOtherRoomName:_vector) 
	+ &quot;]]&quot;)
	(output-data: &quot;&quot;)
	]
))





&lt;!--takes an arc, adds it to the current coords to get the other rooms coords, then uses them to find out &amp; output the other room&#39;s number --&gt;

(set: $getOtherRoomsNumber to 
(macro: array-type _vector, [
	(set: _otherRoomCoords to ($vectorAdd3: $theseCoords, _vector))
	(set: _otherRoomNumber to ($getRoomFromCoords: _otherRoomCoords))
	(output-data: _otherRoomNumber)
	]))


(set: $getOtherRoomName to 
(macro: array-type _vector, [
	(set: _numberString to (str: ($getOtherRoomsNumber: _vector)))
	(output-data: _numberString)
	]))

	
(set: $writeIntro to 
(macro: array-type _vector, [	
	(set: _through_way to ($elevation: _vector))
	(if: $wordIterator is 1)
		[(set: $directionText to $directionText + (upperfirst: ($fromHere:)) + &quot; &quot; + _through_way + &quot; &quot; + ($goes:) )]
	(if: $wordIterator is 2)
		[(set: $directionText to $directionText + &quot; &quot; + (upperfirst: _through_way) + &quot; also &quot; + ($goes:))]
	(if: $wordIterator is 3)
		[(set: $directionText to $directionText + &quot; &quot; + (upperfirst: ($alternatively:)) + _through_way + &quot; &quot; + ($goes:) + &quot; &quot;)]
	(if: $wordIterator &gt; 3)
		[(set: $directionText to $directionText + &quot; &quot; + &quot;You &quot; + ($can:) + &quot; &quot; + ($go:) +&quot; via &quot; + _through_way)]
	(output-data: &quot;&quot;)
	]))

(set: $go to 
(macro: [
	(set: _output to (either: &quot;go&quot;, &quot;head&quot;))
	(output-data: _output) 
	]
	))
	
(set: $goes to 
(macro: [
	(set: _output to (either: &quot;goes&quot;, &quot;heads&quot;))
	(output-data: _output) 
	]
	))
	
(set: $alternatively to 
(macro: [
	(set: _output to (either: &quot;alternatively, &quot;))
	(output-data: _output) 
	]
	))
	
(set: $fromHere to 
(macro: [
	(set: _output to (either: &quot;from here&quot;))
	(output-data: _output) 
	]
	))
	
(set: $can to 
(macro: [
	(set: _output to (either: &quot; can&quot;, &quot; might&quot;, &quot; may&quot;, &quot; could&quot;))
	(output-data: _output) 
	]
	))
	
(set: $languageVariation to 
(macro: array-type _vector, string-type _through_way, [
	(set: _output to 
		&quot;You&quot; + 
		(either: &quot; can&quot;, &quot; might&quot;, &quot; may&quot;, &quot; could&quot;) + 
		(either: &quot; also&quot;, &quot; alternatively&quot;, &quot;&quot;, &quot; instead&quot;) + 
		(either: &quot; go&quot;, &quot; opt to go&quot;, &quot; head&quot;, &quot; opt to head&quot;, &quot; choose to go&quot;, &quot; choose to head&quot;, &quot; decide to go&quot;, &quot; decide to head&quot;) + 
		($vectorDescription: _vector) + 
		&quot; via a &quot; + 
		_through_way 
		+ &quot;.&quot;)
		(output-data: _output)]))

(set: $getDirectionWords to (macro: array-type _vector,[
	(set: _through_way to ($elevation: _vector))
	(set: _eW to (cond:
		(1st of _vector) is 1, &quot;east&quot;,
		(1st of _vector) is -1, &quot;west&quot;,
		&quot;&quot;))
	(set: _nS to (cond:
		(2nd of _vector) is 1, &quot;north&quot;,
		(2nd of _vector) is -1, &quot;south&quot;,
		&quot;&quot;))
	(set: _uD to (cond:
		(3rd of _vector) is 1, &quot;up&quot;,
		(3rd of _vector) is -1, &quot;down&quot;,
		&quot;&quot;))
	(set: _conjunctionPhrase to (cond: 
		_through_way is &quot;a stairwell goes &quot;, &quot; and to the &quot;,
		&quot;&quot;))
	(set: _output to &quot;From here, &quot; + _through_way + _uD + _conjunctionPhrase + _nS + _eW)
	(output-data: _output)
	]
	))



&lt;!--from exit vector decides whether apt exit type is ladder, stairwell or passage--&gt;

(set: $elevation to (macro: array-type _vector, [
	(set: _throughway to (cond: 
		(3rd of _vector is 0), 0,
		(1st of _vector is 0) and (2nd of _vector is 0), 1,
		2))
	(set: _output to (cond: 
		_throughway is 0, &quot;a passage&quot;,
		_throughway is 1, &quot;a ladder&quot;,
		_throughway is 2, &quot;a stairwell&quot;,
		&quot;&quot;))
	(output-data: _output)
		]))
		


}



</tw-passagedata><tw-passagedata pid="40" name="old javascript" tags="" position="23,1541" size="100,100">window.Harlowe = { &#39;State&#39; : State };
window.processInputElements = function () {
    $(&#39;input[data-varname]&#39;).on(&#39;change&#39;, function () {
        var varName = $(this).attr(&#39;data-varname&#39;);
        Harlowe.State.variables[varName] = this.value;
        $(&quot;tw-story&quot;).css(&quot;background-size&quot;,&quot;cover&quot;);
        if(Harlowe.State.variables[varName] == 0)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://th.bing.com/th/id/Rf5fecfd0d9830aab6202cf747bd3ad01?rik=L2W1jbILOWUswA&amp;riu=http%3a%2f%2fak3.picdn.net%2fshutterstock%2fvideos%2f3933461%2fthumb%2f2.jpg&amp;ehk=Jj2vK1CpTF0Tkwwx8bW4RAHwBltP9rnWO4IfZTCfsMY%3d&amp;risl=&amp;pid=ImgRaw)&quot;);
        			}
			else if(Harlowe.State.variables[varName] == 1)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/4f/0b/88/4f0b88df6b723ffda1fb80629884521a.jpg)&quot;);
							}
			else if(Harlowe.State.variables[varName] == 2)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/5e/89/86/5e898666ee18812c14868b1d609a64f0.jpg)&quot;);
							}
			else if(Harlowe.State.variables[varName] == 3)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://www.realmofhistory.com/wp-content/uploads/2016/05/3D_Animations_Layout_Roman_Domus_House_1-770x437.jpg)&quot;);
							}
						else if(Harlowe.State.variables[varName] == 4)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://images.fineartamerica.com/images/artworkimages/mediumlarge/1/roman-ruin-architecture-with-predigendem-st-paul-giovanni-paolo-panini.jpg)&quot;);
							}
			else if(Harlowe.State.variables[varName] == 5)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://images.alphacoders.com/266/266013.jpg)&quot;);
							}
			else if(Harlowe.State.variables[varName] == 6)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://vignette.wikia.nocookie.net/assassinscreed/images/b/b8/Damascus-depth.jpg/revision/latest?cb=20100918105609)&quot;);
							}
			else if(Harlowe.State.variables[varName] == 7)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://www.ancient-origins.net/sites/default/files/field/image/viking-tar.jpg)&quot;);
							}
						else if(Harlowe.State.variables[varName] == 8)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(file:///private/var/folders/kl/xdjgclbs2rd7j83lrx2kjygr0000gp/T/6f3dc60b-15c8-438b-b96d-458185d4b829.html)&quot;);
							}
				else if(Harlowe.State.variables[varName] == 9)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://vignette.wikia.nocookie.net/lotrfanon/images/6/6a/Mordor.png/revision/latest?cb=20170724095433)&quot;);
							}
			else if(Harlowe.State.variables[varName] == 10)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://4.bp.blogspot.com/-H7YcbEPiqH4/VbisGV8F-8I/AAAAAAAEtBs/sQETZ8PgdVM/s1600/John%2BMartin%2BTutt%2527Art%2540%2B%252825%2529.jpg)&quot;);
							}
			else if(Harlowe.State.variables[varName] == 11)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/32/d1/2d/32d12d3eb111ccb5065073c181007cc3.jpg)&quot;);
							}
			else if(Harlowe.State.variables[varName] == 12)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/98/82/b2/9882b2685e23b81832d9b8a3258fa65a.jpg)&quot;);
							}
			else if(Harlowe.State.variables[varName] == 13)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/ea/31/23/ea31239d3f7eba975360f044906a3aba.jpg)&quot;);
							}		
			else if(Harlowe.State.variables[varName] == 14)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.ytimg.com/vi/2QUYYOXUF4o/maxresdefault.jpg)&quot;);
							}	
			else if(Harlowe.State.variables[varName] == 15)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://upload.wikimedia.org/wikipedia/commons/e/ef/Avvakum_by_Pyotr_Yevgenyevich_Myasoyedov.jpg)&quot;);
							}	
			else if(Harlowe.State.variables[varName] == 16)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.postimg.cc/j5Gr8x8r/artwork-fantasy-city-town-digital-river-bridge-boat-medieval-1743259.jpg)&quot;);
							}	
			else if(Harlowe.State.variables[varName] == 17)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.postimg.cc/tgkQHd2D/heads-On-Pikes.jpg)&quot;);
							}	
			else if(Harlowe.State.variables[varName] == 18)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/cd/41/30/cd413085d15e1fbf4ef0f18b8ddbcdf1.jpg)&quot;);
							}	
			else if(Harlowe.State.variables[varName] == 19)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://w-dog.pw/android-wallpapers/7/16/532616445160923/art-war-france-saint-lo-street-us-troops-men-uniforms-shop-rifles-m1903a3-and-m1903a4-shots-smoke-ruins-ww2-picture.jpg)&quot;);
							}
			else if(Harlowe.State.variables[varName] == 20)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://cdnb.artstation.com/p/assets/images/images/006/670/547/large/ricardo-garcia-hernanz-proyecto-final-concept-art-definitivo.jpg?1500361155)&quot;);
							}
			
					
    });
};


if (typeof window.CustomScripts == &quot;undefined&quot;) {
	window.CustomScripts = {
		updateBackground(myBackground){
			// if it&#39;s always going to be cover, you can put it outside the if statement
			$(&quot;tw-story&quot;).css(&quot;background-size&quot;,&quot;cover&quot;);
			
			// check the functions parameter for which background image to use
			if(myBackground == 0) //century backgrounds take nos 0, 100, 200 etc.
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://th.bing.com/th/id/Rf5fecfd0d9830aab6202cf747bd3ad01?rik=L2W1jbILOWUswA&amp;riu=http%3a%2f%2fak3.picdn.net%2fshutterstock%2fvideos%2f3933461%2fthumb%2f2.jpg&amp;ehk=Jj2vK1CpTF0Tkwwx8bW4RAHwBltP9rnWO4IfZTCfsMY%3d&amp;risl=&amp;pid=ImgRaw)&quot;);
			}
			else if(myBackground == -1) // 
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/08/b2/5a/08b25ac76c7c0c5571e0b98af8bd53f5.jpg)&quot;);
			}
			else if(myBackground == 1) // decade nos end in 1
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.ibb.co/zJvFgQF/mushroom-Catacombs.jpg)&quot;);
			}
			else if(myBackground == 11)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/3b/a6/7c/3ba67c68c69aa5ff049e70af3e1398be.jpg)&quot;);
			}
			else if(myBackground == 21)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.ibb.co/hCsSZw0/CREATOR-gd-jpeg-v1-0-using-IJG-JPEG-v80-quality-80.jpg)&quot;);
			}
			else if(myBackground == 31)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://farm4.staticflickr.com/3881/14548118871_9a25db8f3b_k.jpg)&quot;);
			}
			else if(myBackground == 41)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/2c/6a/6d/2c6a6da05c9ba99228068306657fbf82.jpg)&quot;);
			}
			else if(myBackground == 51)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/224cf4fa-33d8-4223-974d-67aecc72bd2c/d32esvm-fab667ec-f070-4610-baf7-d1f993c43768.jpg/v1/fill/w_800,h_600,q_75,strp/the_armory_by_rytango-d32esvm.jpg?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwic3ViIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsImF1ZCI6WyJ1cm46c2VydmljZTppbWFnZS5vcGVyYXRpb25zIl0sIm9iaiI6W1t7InBhdGgiOiIvZi8yMjRjZjRmYS0zM2Q4LTQyMjMtOTc0ZC02N2FlY2M3MmJkMmMvZDMyZXN2bS1mYWI2NjdlYy1mMDcwLTQ2MTAtYmFmNy1kMWY5OTNjNDM3NjguanBnIiwid2lkdGgiOiI8PTgwMCIsImhlaWdodCI6Ijw9NjAwIn1dXX0.eOpCwc84GDmV-LB1ltAyddWpeuwIVVH9qw4oPJeQbKM)&quot;);
			}
			else if(myBackground == 61)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/60/f9/69/60f969f538253f68ec5be1b5846a2568.jpg)&quot;);
			}
			else if(myBackground == 71)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.ibb.co/g9hVkhF/catacombs-Chapel4.jpg)&quot;);
			}
			else if(myBackground == 81)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.ibb.co/yf9SCJJ/leper-Colony2.jpg)&quot;);
			}
			else if(myBackground == 91)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/7f/64/42/7f64421b6c16a31104cba0471dd5daca.jpg)&quot;);
			}
			else if(myBackground == 100)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/4f/0b/88/4f0b88df6b723ffda1fb80629884521a.jpg)&quot;);
			}
			else if(myBackground == 101)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/5b/c7/19/5bc719f84cfc170ff0558702b2c97876.jpg)&quot;);
			}
			else if(myBackground == 111)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/84/77/ea/8477eac606801135e48e2208305f3914.jpg)&quot;);
			}
			else if(myBackground == 121)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://th.bing.com/th/id/Rde8b516f69680e4a2a7243c2ec81a701?rik=FLjo2Zvd6dVPyw&amp;riu=http%3a%2f%2fimages4.wikia.nocookie.net%2f__cb20130419200553%2fspartacus%2fimages%2f5%2f59%2fSpartacus_Legends_Ludus_fight.png&amp;ehk=YzsHyiOKeH38%2fusktTVJv%2beUid2DYSentQ23hcClX98%3d&amp;risl=&amp;pid=ImgRaw)&quot;);
			}
			else if(myBackground == 131)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/736x/ce/51/f7/ce51f7c230d6e0bafabd04862133349a.jpg)&quot;);
			}
			else if(myBackground == 141)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://www.thesimsresource.com/scaled/2599/w-800h-600-2599642.jpg)&quot;);
			}
			else if(myBackground == 151)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/6a/7f/c1/6a7fc16f23671dc5bd0bed4c462eccc4.jpg)&quot;);
			}
			else if(myBackground == 161)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.ibb.co/0F4cX5y/roman-Slave-Marke5.jpg)&quot;);
			}
			else if(myBackground == 171)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/736x/d2/e4/c1/d2e4c197c68fe2cb4d2e7de5f4143e2b.jpg)&quot;);
			}
			else if(myBackground == 181)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/b4/39/a8/b439a87560b02424c656b1120e29740d.jpg)&quot;);
			}
			else if(myBackground == 191)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/4c/ae/c0/4caec06d6814e915a3c32affa4123800.jpg)&quot;);
			}
			else if(myBackground == 200)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/5b/c7/19/5bc719f84cfc170ff0558702b2c97876.jpg)&quot;);
			}
			else if(myBackground == 201)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://th.bing.com/th/id/R2cae1fcbbabcb57451c68fc47571a351?rik=leu7YgYWctPMsg&amp;riu=http%3a%2f%2faidanmoher.com%2fblog%2fwp-content%2fuploads%2f2014%2f07%2ftwilight_garden_by_alextooth-d5t47sa.jpg&amp;ehk=3knU%2fwpIey%2b%2bQT8LlaYoJrnuJ36TOKBVgzJHM3SAHtA%3d&amp;risl=&amp;pid=ImgRaw)&quot;);
			}
			else if(myBackground == 211)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/5f/00/3f/5f003fc16b10572cfe4c34c313beec70.jpg)&quot;);
			}
			else if(myBackground == 221)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/9c/99/54/9c9954bc49514aafb47624cbb3c2a993.jpg)&quot;);
			}
			else if(myBackground == 231)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/9c/85/32/9c853217e910c978b24ed75ac63e923f.jpg)&quot;);
			}
			else if(myBackground == 241)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/67/f0/8b/67f08bbc42a27c9da1011532332c1fe5.jpg)&quot;);
			}
			else if(myBackground == 251)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://gcdn.daz3d.com/p/56851/i/chinese-temple-gate-05-daz3d.jpg)&quot;);
			}
			else if(myBackground == 261)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://gcdn.daz3d.com/p/63811/i/china-houses-04-daz3d.jpg)&quot;);
			}
			else if(myBackground == 271)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/14/10/2a/14102a474694c64c8f3779901390effc.jpg)&quot;);
			}
			else if(myBackground == 281)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://c4.wallpaperflare.com/wallpaper/49/579/585/jungle-fantasy-art-asian-architecture-artwork-wallpaper-preview.jpg)&quot;);
			}
			else if(myBackground == 291)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://c4.wallpaperflare.com/wallpaper/672/517/150/nature-digital-art-water-artwork-wallpaper-preview.jpg)&quot;);
			}
			else if(myBackground == 2071)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(http://www.scififantasyhorror.co.uk/wp-content/gallery/Su-Jian/su-jian-scifi-art-11.jpg)&quot;);
			}
			else
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;none&quot;);
			}
		}
	}
}

</tw-passagedata><tw-passagedata pid="41" name="refresh sentences" tags="startup" position="158,1081" size="100,100">{
&lt;!-- sets some basic terms for the sentences, calls the sentence builder setComplexSentences
Presupposes: the complexLanguage and generalLanguage databases are set up.  
Called By: called in individual passages to generate a new sentence on the spot. 
--&gt;
(set: $refreshSentences to
(macro: [
	(set: $complexLanguage to (str: $decadeReference) of $generalLanguage)
	(set: $ladderTerm to 5th of $complexLanguage)
	(set: $stairTerm to 6th of $complexLanguage)
	(set: $roomNumber to $thisRoomsNumber)
	($setComplexSentences:)
	(output-data:&quot;&quot;)
	]))

&lt;!-- builds the introductory sentences for each type of passage. 
Presupposes: roomPhrase and passagePhrase builders already produce part of the sentence. .  
Called By: refreshSentences
--&gt;
(set: $setComplexSentences to 
(macro: [
	(set: $MFS to ($mansionFloorSentence:))
	(set: $complexSentence to &quot;You are &quot;
		+ ($setRoomPhrase:)
		+ &quot; somewhere &quot; 
		+ $MFS
		+ &quot; &quot; 
		+ 2nd of $complexLanguage
		+ &quot; &quot;
		+ 3rd of $complexLanguage
		+ &quot; &quot;
		+ 4th of $complexLanguage
		)
	(set: $complexSentence2 to &quot;You are &quot;
		+ ($setPassagePhrase:)
		+ &quot; somewhere &quot; 
		+ 1st of $complexLanguage
		+ &quot; &quot; 
		+ 2nd of $complexLanguage
		+ &quot; &quot;
		+ 3rd of $complexLanguage
		+ &quot; &quot;
		+ 4th of $complexLanguage
	)
	(set: $complexSentence3 to &quot;You are &quot;
		+ ($setRoomPhrase2:)
		+ &quot; somewhere &quot; 
		+ 1st of $complexLanguage
		+ &quot; &quot; 
		+ 2nd of $complexLanguage
		+ &quot; &quot;
		+ 3rd of $complexLanguage
		+ &quot; &quot;
		+ 4th of $complexLanguage
	)
	(output-data:&quot;&quot;)
	]))

(set: $mansionFloorSentence to 
(macro: [
	(set: $mansionLevel to &quot;what the fuck you looking at?&quot;)
	(if: $architecture is not &quot;mansion&quot;)[
		(set: $mansionLevel to 1st of $complexLanguage)
		]
	(else:)[
		(set: $mansionLevel to ($mansionFloor:) + &quot; of the&quot;)
		]
	(output-data: $mansionLevel)
		]))
	


	}</tw-passagedata><tw-passagedata pid="42" name="general language" tags="startup" position="153,1222" size="100,100">{
(set: $generalLanguage to (dm: 
	&quot;1&quot;, (a: &quot;in an&quot;, &quot;&quot;, &quot;underground mushroom garden&quot;,&quot;&quot;, &quot;a mushroom stalk&quot;,&quot;a dirt slope&quot;),
	&quot;11&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Hypogeum&quot;, &quot;beneath the colosseum&quot;,&quot;a crank elevator&quot;,&quot;some steps&quot;), 
	&quot;21&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;underground spy complex of the Frumentarii&quot;, &quot;beneath the Roman senate&quot;, &quot;some winding steps&quot;, &quot;some steps&quot;),
	&quot;31&quot;, (a: &quot;in a&quot;, &quot;subterranean&quot;, &quot;brewery&quot;, &quot;beneath the city&quot;,&quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;41&quot;, (a: &quot;in the&quot;, &quot;hidden&quot;, &quot;underground hideouts&quot;, &quot;of the persecuted Christians&quot;,&quot;some winding sandstone steps&quot;, &quot;some sandstone steps&quot;),
	&quot;51&quot;, (a: &quot;in a&quot;, &quot;hidden&quot;, &quot;armory&quot;, &quot;beneath the city&quot;,&quot;a ladder&quot;,&quot;some sandstone steps&quot;),
	&quot;61&quot;, (a: &quot;in an&quot;, &quot;&quot;, &quot;underground dungeon&quot;, &quot;where the convicted await execution&quot;,&quot;some winding sandstone steps&quot;, &quot;some sandstone steps&quot;),
	&quot;71&quot;, (a: &quot;in an&quot;, &quot;&quot;, &quot;underground chapel&quot;,&quot;where Christians worship their forbidden god&quot;,&quot;some winding sandstone steps&quot;, &quot;some sandstone steps&quot;),
	&quot;81&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;leper colony&quot;, &quot;in an abandoned part of the underground city&quot;, &quot;some winding sandstone steps&quot;, &quot;some sandstone steps&quot;),
	&quot;91&quot;, (a: &quot;in a&quot;, &quot;cobwebbed&quot;, &quot;crypt&quot;, &quot;in a quiet part of the underground city&quot;, &quot;some winding steps&quot;, &quot;some steps&quot;),
	&quot;101&quot;, (a: &quot;in the&quot;, &quot;tranquil&quot;, &quot;garden of Lucullus&quot;,&quot;&quot;, &quot;a steep, tangled slope&quot;, &quot;a gentle slope&quot;),
	&quot;111&quot;, (a: &quot;in the&quot;, &quot;dusty&quot;, &quot;gladitorial arenas&quot;, &quot;&quot;,&quot;some winding sandstone steps&quot;, &quot;some steps&quot;), 
	&quot;121&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;ludus&quot;, &quot;at which gladiators are trained&quot;,&quot;some winding sandstone steps&quot;, &quot;some steps&quot;),
	&quot;131&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;college of the Vestals&quot;, &quot;&quot;,&quot;a thinly carpeted, spiral staircase&quot;, &quot;some threadbare stairs&quot;),
	&quot;141&quot;, (a: &quot;in the&quot;, &quot;opulent&quot;, &quot;house of Augustus and Livia&quot;, &quot;&quot;,&quot;a spiral staircase&quot;, &quot;a magnificent wooden staircase&quot;),
	&quot;151&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;Roman barracks&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;161&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;slave market&quot;, &quot;where slaves are tethered like animals&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;171&quot;, (a: &quot;in the&quot;, &quot;sacred&quot;, &quot;temple of Juno&quot;, &quot;&quot;, &quot;a spiraling flight of marble steps&quot;, &quot;some ornate marble steps&quot;),
	&quot;181&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;surgery of Galen&quot;, &quot;&quot;, &quot;some winding sandstone steps&quot;, &quot;some steps&quot;),
	&quot;191&quot;, (a: &quot;in the&quot;, &quot;shadowy&quot;, &quot;necropolis&quot;, &quot;outside the walls of Rome&quot;, &quot;a steep, roughly gardened slope&quot;, &quot;a gentle, flowered slope&quot;),
	&quot;201&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Garden of General Liang Ji&quot;, &quot;&quot;, &quot;a steep, flowered slope&quot;, &quot;a gently sloping path&quot;),
	&quot;211&quot;, (a: &quot;within the&quot;, &quot;exciting&quot;, &quot;carnival of a hundred shows,&quot;,&quot;amidst music, dance and demonstrations of cuju, wrestling and acrobatic prowess&quot;,&quot;a steep dirt bank&quot;, &quot;a muddy slope&quot;), 
	&quot;221&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Imperial Academy&quot;, &quot;among the disputes of the scholars of Confucius&quot;,&quot;a stone stairwell&quot;, &quot;a flight of steps&quot;), 
	&quot;231&quot;, (a: &quot;in a&quot;, &quot;floating&quot;, &quot;brothel&quot;, &quot;on the Huangpu River, where the Shuyu attend to the needs of the city&#39;s elite&quot;,&quot;a ladder&quot;, &quot;some wooden steps&quot;),
	&quot;241&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;Siheyuan&quot;, &quot;courtyard-house&quot;,&quot;a stone stairwell&quot;, &quot;some slate steps&quot;),
	&quot;251&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;gate house&quot;, &quot;guarded by the Huben () imperial guard&quot;, &quot;a stone stairwell&quot;, &quot;some slate steps&quot;),
	&quot;261&quot;, (a: &quot;among the&quot;, &quot;&quot;, &quot;huts of the ten eunuchs&quot;, &quot;&quot;, &quot;a climbable rock-brick wall&quot;, &quot;some dirt steps&quot;),
	&quot;271&quot;, (a: &quot;in the&quot;, &quot;sacred&quot;, &quot;White Horse buddhist temple&quot;, &quot;&quot;, &quot;an ornate stairwell&quot;, &quot;some humble clay steps&quot;),
	&quot;281&quot;, (a: &quot;in the&quot;, &quot;abandoned&quot;, &quot;surgery of Hua Tuo&quot;, &quot;&quot;, &quot;a stairwell&quot;, &quot;some clay steps&quot;),
	&quot;291&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Dabaozi Cemetery&quot;, &quot;&quot;, &quot;a steep, roughly gardened slope&quot;, &quot;a gentle, flowered slope&quot;),
	&quot;301&quot;, (a: &quot;on the&quot;, &quot;pastoral&quot;, &quot;farms&quot;, &quot;surrounding ancient Byzantium&quot;, &quot;a steep soil bank&quot;, &quot;a gentle bank&quot;),
	&quot;311&quot;, (a: &quot;in the&quot;, &quot;many garish&quot;, &quot;theaters of the Hippdromos ts Knstantinouples&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;321&quot;, (a: &quot;in the&quot;, &quot;echoey&quot;, &quot;halls of the Magnaura&quot;, &quot;where senators discuss and debate the issues of the day&quot;, &quot;a spiral staircase&quot;, &quot;stone steps&quot;),
	&quot;331&quot;, (a: &quot;in the&quot;, &quot;dim&quot;, &quot;Triclinium of the Nineteen Couches&quot;, &quot;where romantic couples lounge on sigmas&quot;, &quot;a winding wooden staircase&quot;, &quot;some oak steps&quot;),
	&quot;341&quot;, (a: &quot;in an&quot;, &quot;elaborate&quot;, &quot;home&quot;, &quot;in old Byzantium&quot;, &quot;a chimney&quot;, &quot;a staircase&quot;),
	&quot;351&quot;, (a: &quot;in the ditches of a&quot;, &quot;bloody&quot;, &quot;battleground&quot;, &quot;near ancient Byzantium&quot;, &quot;a ladder&quot;, &quot;an incline&quot;),
	&quot;361&quot;, (a: &quot;in the depths of a&quot;, &quot;forced labor&quot;, &quot;mine&quot;, &quot;under ancient Byzantium&quot;, &quot;a ladder&quot;, &quot;rickety wooden stairs&quot;),
	&quot;371&quot;, (a: &quot;in a&quot;, &quot;serpentine&quot;, &quot;labyrinth&quot;, &quot;in the gardens of ancient Byzantium&quot;, &quot;a ladder&quot;, &quot;mossy steps&quot;),
	&quot;381&quot;, (a: &quot;in the&quot;, &quot;mystical&quot;, &quot;basilica of St John the Forerunner&quot;, &quot;, where St Artemios is believed to cure the sick and cursed.&quot;, &quot;winding steps&quot;, &quot;sandstone stairs&quot;),
	&quot;391&quot;, (a: &quot;in the&quot;, &quot;watery&quot;, &quot;crypt of Constantine&quot;, &quot;, beneath the church of the twelve apostles.&quot;, &quot;a rotten ladder&quot;, &quot;slimy steps&quot;),
	&quot;401&quot;, (a: &quot;in a&quot;, &quot;lush&quot;, &quot;forest&quot;, &quot;that nature has reclaimed from the ruins of Rome&quot;, &quot;a rope ladder&quot;, &quot;broken, overgrown steps&quot;),
	&quot;411&quot;, (a: &quot;in the&quot;, &quot;remains of the&quot;, &quot;Circus Maximus,&quot;, &quot;amid the skeletons of show animals.&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;421&quot;, (a: &quot;in the&quot;, &quot;abandoned&quot;, &quot;Bibliotheca Octaviana at the overgrown Porticus Octavia&quot;, &quot;, where scrolls of ancient wisdom perish in the rains&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;431&quot;, (a: &quot;in the&quot;, &quot;ruined&quot;, &quot;temple of Venus&quot;, &quot;&quot;, &quot;a broken, climbable wall&quot;, &quot;stone steps&quot;),
	&quot;441&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;block of abandoned insulae&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;451&quot;, (a: &quot;in a&quot;, &quot;looted&quot;, &quot;armory&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;461&quot;, (a: &quot;in a&quot;, &quot;derelict&quot;, &quot;jail&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;471&quot;, (a: &quot;in what used to be&quot;, &quot;&quot;, &quot;Emperor Nero&#39;s park&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;481&quot;, (a: &quot;in the&quot;, &quot;derelict&quot;, &quot;surgery of Asclepiades&quot;, &quot;&quot;, &quot;a copper ladder&quot;, &quot;tiled steps&quot;),
	&quot;491&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;mass burial pits&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;501&quot;, (a: &quot;in the&quot;, &quot;enchanted&quot;, &quot;forest of Brocliande&quot;, &quot;&quot;, &quot;a steep dirt bank&quot;, &quot;a slope&quot;),
	&quot;511&quot;, (a: &quot;at a&quot;, &quot;&quot;, &quot;jousting tournament&quot;, &quot;&quot;, &quot;a steep dirt bank&quot;, &quot;a slope&quot;),
	&quot;521&quot;, (a: &quot;in the&quot;, &quot;hidden&quot;, &quot;coastal cave of Merlin the wizard,&quot;, &quot;beneath the castle at Tintagel&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;531&quot;, (a: &quot;by&quot;, &quot;&quot;, &quot;Llyn Ogwen,&quot;, &quot;where the lady of the lake keeps Excalibur&quot;, &quot;a steep dirt bank&quot;, &quot;a gentle slope&quot;),
	&quot;541&quot;, (a: &quot;within the keep of&quot;, &quot;&quot;, &quot;Camelot&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;551&quot;, (a: &quot;at the&quot;, &quot;bloody&quot;, &quot;battlefield at Camlann&quot;, &quot;where Arthur faced Mordredd&quot;, &quot;a dirt bank&quot;, &quot;a trampled slope&quot;),
	&quot;561&quot;, (a: &quot;under the&quot;, &quot;mysterious&quot;, &quot;Bryn Myrddin&quot;, &quot;where the bard Merlin was trapped.&quot;, &quot;a shaft&quot;, &quot;some boulders&quot;),
	&quot;571&quot;, (a: &quot;within the bailey of the&quot;, &quot;mystical&quot;, &quot;castle of Corbenic,&quot;, &quot;where the Holy Grail is rumored to be kept&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;581&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;walled up town&quot;, &quot;where sufferers of the plague are trapped&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;591&quot;, (a: &quot;among the&quot;, &quot;stinking&quot;, &quot;barrows&quot;, &quot;where the Justinian plague&#39;s victims are hurled to their final resting place.&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;601&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;hanging farms&quot;, &quot;where hashish grows abundantly over a thousand clay containers perched on tiered plots&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;611&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;hashish quarter&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;621&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;hashashin&#39;s library&quot;, &quot;where hashashin&#39;s gather and conspire&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;631&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Sultan&#39;s palace&quot;, &quot;where exotic belly dancers entertain the Sultan&#39;s many guests&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;641&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;bustling souk of Al-Madina&quot;, &quot;where vendors from far and wide peddle their wares to the busy city&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;651&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Citadel of Aleppo&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;661&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Jewish quarter&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;671&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;great mosque of Aleppo&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;681&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;penal quarter of the ancient city of Aleppo&quot;, &quot;where sinners and criminals are righteously flogged, mutilated or executed beneath the shadow of the great citadel&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;691&quot;, (a: &quot;in an&quot;, &quot;&quot;, &quot;abandoned town&quot;, &quot;one of many forgotten cities that orbit great Aleppo&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;701&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;emperor&#39;s menagerie at Aachen&quot;, &quot;where strange beasts from far and wide are displayed&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;711&quot;, (a: &quot;in a&quot;, &quot;partly constructed&quot;, &quot;bath house&quot;, &quot;built around the hot springs at Aachen&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;721&quot;, (a: &quot;in the&quot;, &quot;great&quot;, &quot;library at Charlemagne&#39;s court&quot;, &quot;where Peter of Pisa, Paulinus of Aquileia, Paul the Deacon, Theodulf of Orlans, Alcuin of York and Joseph Scottus lead the Carolingian renaissance&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;731&quot;, (a: &quot;in the&quot;, &quot;private&quot;, &quot;gynaeceum&quot;, &quot;where women weave and spin&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;741&quot;, (a: &quot;in the&quot;, &quot;partly constructed&quot;, &quot;Palace of Aachen&quot;, &quot;at the center of the Holy Roman Empire&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;751&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;soldier&#39;s barracks&quot;, &quot;in the city of Aachen&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;761&quot;, (a: &quot;at the&quot;, &quot;&quot;, &quot;dockside on the Wurm,&quot;, &quot;where Vikings bring captives from Venice and Byzantium to sell as casati servi, and captured Slavs, Avars, Saxons and Danes are sold into slavery in turn&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;771&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Palatine chapel&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;781&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;hospice&quot;, &quot;in the palatial complex at Aachen&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;791&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;crypt beneath the Palatine chapel&quot;, &quot;where Charlemagne will one day be buried&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;801&quot;, (a: &quot;in an&quot;, &quot;overgrown&quot;, &quot;part of the marsh near the Athelney abbey&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;811&quot;, (a: &quot;in the&quot;, &quot;swimming&quot;, &quot;wood&quot;, &quot;near the Athelney abbey&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;821&quot;, (a: &quot;in a&quot;, &quot;flooded&quot;, &quot;library&quot;, &quot;near the abbey at Athelney&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;831&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;hall of the enchantress Dame Brusen,&quot;, &quot;where potions of love are boiled and bottled.&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;841&quot;, (a: &quot;in&quot;, &quot;&quot;, &quot;Ethelingaeigge&quot;, &quot;, the fort at Athelney&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;851&quot;, (a: &quot;in a&quot;, &quot;partially submerged&quot;, &quot;tower&quot;, &quot;in the Bristol channel&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;861&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;trapper&#39;s wood&quot;, &quot;near the swamps at Athelney&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;871&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;abbey at Athelney&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;881&quot;, (a: &quot;in the&quot;, &quot;lower&quot;, &quot;marshes&quot;, &quot;near the Bristol Channel&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;891&quot;, (a: &quot;in the&quot;, &quot;lower&quot;, &quot;marshes&quot;, &quot;near the Bristol Channel&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;901&quot;, (a: &quot;in a&quot;, &quot;thorny&quot;, &quot;forest&quot;, &quot;in the First Reich&quot;, &quot;a dirt cliff&quot;, &quot;a slope&quot;),	
	&quot;911&quot;, (a: &quot;at a&quot;, &quot;&quot;, &quot;racing event&quot;, &quot;in the First Reich&quot;, &quot;a ladder&quot;, &quot;metal stairs&quot;),
	&quot;921&quot;, (a: &quot;at a&quot;, &quot;cold mountain&quot;, &quot;training exercise&quot;, &quot;for the German military&quot;, &quot;a ladder&quot;, &quot;a snowy slope&quot;),
	&quot;931&quot;, (a: &quot;at a&quot;, &quot;&quot;, &quot;nunnery&quot;, &quot;in the First Reich&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;941&quot;, (a: &quot;in a&quot;, &quot;luxury&quot;, &quot;skyscraper&quot;, &quot;in the First Reich&quot;, &quot;an elevator&quot;, &quot;some steps&quot;),
	&quot;951&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;courthouse&quot;, &quot;in the First Reich&quot;, &quot;an elevator&quot;, &quot;some steps&quot;),
	&quot;961&quot;, (a: &quot;in a&quot;, &quot;wintry&quot;, &quot;forced labor camp&quot;, &quot;in the First Reich&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;971&quot;, (a: &quot;in an&quot;, &quot;imposing&quot;, &quot;gothic cathedral&quot;, &quot;in the First Reich&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;981&quot;, (a: &quot;in a&quot;, &quot;white tile&quot;, &quot;clinic&quot;, &quot;where grim human experiments take place&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;991&quot;, (a: &quot;by the&quot;, &quot;horrifying&quot;, &quot;death pits&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;a slope&quot;),
	&quot;1001&quot;, (a: &quot;in the&quot;, &quot;glacial&quot;, &quot;cathedral of St Nicolas&quot;, &quot;, the patron saint of children&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1011&quot;, (a: &quot;in the&quot;, &quot;bewildering&quot;, &quot;rectory of Teresa of vila&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1021&quot;, (a: &quot;in the&quot;, &quot;ivory&quot;, &quot;towers of the Albertus Magnus basilica&quot;, &quot;, the church devoted to the patron of students and philosophers&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1031&quot;, (a: &quot;in the&quot;, &quot;austere&quot;, &quot;mountain convent&quot;, &quot;of the Magdalene&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1041&quot;, (a: &quot;in the&quot;, &quot;towering&quot;, &quot;city chapel of Homobonus&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1051&quot;, (a: &quot;in the&quot;, &quot;demanding&quot;, &quot;warrior&#39;s priory&quot;, &quot;of Adrian of Nicomedia&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1061&quot;, (a: &quot;in the&quot;, &quot;remote&quot;, &quot;cenobium of St Leonard the hermit&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1071&quot;, (a: &quot;in the&quot;, &quot;lush&quot;, &quot;abbey of Saint Phocas the gardener&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1081&quot;, (a: &quot;in the&quot;, &quot;rivered&quot;, &quot;ruin of Raphael the Archangel&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1091&quot;, (a: &quot;in the&quot;, &quot;eerie&quot;, &quot;grounds of St Joseph of Arimathea&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1101&quot;, (a: &quot;in the&quot;, &quot;same&quot;, &quot;New Forest&quot;, &quot;where the king lies dead&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1111&quot;, (a: &quot;at an&quot;, &quot;&quot;, &quot;archery tournament&quot;, &quot;near the New Forest&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1121&quot;, (a: &quot;in&quot;, &quot;&quot;, &quot;London&#39;s New Temple&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1131&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Maubergeonne Tower in Poitiers&quot;, &quot;, where Eleanor of Aquitaine presides over matters of fidelity and marriage&quot;, &quot;some spiral steps&quot;, &quot;some steps&quot;),
	&quot;1141&quot;, (a: &quot;at the&quot;, &quot;&quot;, &quot;camp of Robin Hood&quot;, &quot;in Sherwood forest&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1151&quot;, (a: &quot;at a&quot;, &quot;&quot;, &quot;garrison&quot;, &quot;of defeated knights, returning from the crusades&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1161&quot;, (a: &quot;in the&quot;, &quot;dingy&quot;, &quot;gaol of the Sheriff, beneath Nottingham castle&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1171&quot;, (a: &quot;in the&quot;, &quot;magnificent&quot;, &quot;cathedral at Canterbury, where Thomas Beckett was murdered by the king&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1181&quot;, (a: &quot;in the&quot;, &quot;abandoned&quot;, &quot;motte of Robert of Lockley&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1191&quot;, (a: &quot;at the&quot;, &quot;&quot;, &quot;wreckage of the white ship&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1201&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;city of Yinchuan&quot;, &quot;, which is rebuilding after being flooded and conquered by the Mongol hordes&quot;, &quot;spiraling steps&quot;, &quot;some steps&quot;),
	&quot;1211&quot;, (a: &quot;in the&quot;, &quot;flourishing&quot;, &quot;middle eastern city of Damascus&quot;, &quot;, where no-one has yet heard of the murderous Mongol hordes that thunder beyond the horizon&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1221&quot;, (a: &quot;in the&quot;, &quot;grandiose&quot;, &quot;quarters of the Khan&#39;s emissary in Chennai&quot;, &quot;, where the shelves are filled with maps and books&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1231&quot;, (a: &quot;in the&quot;, &quot;sacked&quot;, &quot;city of Bukhara&quot;, &quot;, where only women remain after the males were slaughtered by the Mongols&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1241&quot;, (a: &quot;in the caravan of the&quot;, &quot;&quot;, &quot;Mongol hordes&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1251&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;city of Lahore&quot;, &quot;, where Persians and Mongols fight against the locals and one another for control&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1261&quot;, (a: &quot;in the&quot;, &quot;bitterly cold&quot;, &quot;city of Kiev&quot;, &quot;, where the Mongols have enslaved the local populace&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1271&quot;, (a: &quot;on the&quot;, &quot;&quot;, &quot;slopes of Khan Tengri&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1281&quot;, (a: &quot;amongst the&quot;, &quot;&quot;, &quot;storm tossed wreckage of the Mongol fleet off Japan&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1291&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;inferno of Merv&quot;, &quot;, which the Mongols have razed after slaughtering its inhabitants&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1301&quot;, (a: &quot;on a&quot;, &quot;bucolic&quot;, &quot;manor&quot;, &quot;in Northumbria&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1311&quot;, (a: &quot;in the&quot;, &quot;fairy&quot;, &quot;palace&quot;, &quot;of Piers Gaveston&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1321&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;devil&#39;s wood&quot;, &quot;, where witches tell the news of places far aflung&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1331&quot;, (a: &quot;at the&quot;, &quot;rebel&quot;, &quot;camp&quot;, &quot;of Isabella and her son the Prince Edward&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1341&quot;, (a: &quot;at a&quot;, &quot;peaceful&quot;, &quot;village&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1351&quot;, (a: &quot;at the&quot;, &quot;bloody&quot;, &quot;battle of Bannockburn&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1361&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;house of William de Leyrer&quot;, &quot;, where the infernal howling and banging of the imprisoned devil William Wallace thunders up from the basement, shuddering the house to its foundations&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1371&quot;, (a: &quot;in the&quot;, &quot;modest&quot;, &quot;St Mary the Virgin church at Ludgershall&quot;, &quot;, where the heretic John Wycliffe translates the bible into English&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1381&quot;, (a: &quot;in the&quot;, &quot;putrid&quot;, &quot;practice&quot;, &quot;of a plague doctor&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1391&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;cathedral city of Canterbury&quot;, &quot;where the peasant followers of Wat Tyler hang royal officals by their necks&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1401&quot;, (a: &quot;in the&quot;, &quot;humid, sticky&quot;, &quot;jungles of the new world&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1411&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;bear pits&quot;, &quot;of York&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1421&quot;, (a: &quot;in the&quot;, &quot;busy&quot;, &quot;city of Strasbourg&quot;, &quot;, where bibles printed on Guttenberg&#39;s press are sold for a penny at every street corner&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1431&quot;, (a: &quot;in the&quot;, &quot;pious&quot;, &quot;ranks of Joan of Arc&#39;s army&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1441&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Aztec capital&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1451&quot;, (a: &quot;in the&quot;, &quot;besieged&quot;, &quot;city of Constantinople&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1461&quot;, (a: &quot;in&quot;, &quot;&quot;, &quot;Lambeth palace&quot;, &quot;, where the Lollards are held prisoner&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1471&quot;, (a: &quot;in&quot;, &quot;&quot;, &quot;St Peter&#39;s basilica&quot;, &quot;in the Vatican City&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1481&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Carcel de la Inquisicion in Seville&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1491&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;forest of corpses surrounding Trgovite, Wallachia&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1501&quot;, (a: &quot;undefined&quot;, &quot;1501&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1511&quot;, (a: &quot;undefined&quot;, &quot;1511&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1521&quot;, (a: &quot;undefined&quot;, &quot;1521&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1531&quot;, (a: &quot;undefined&quot;, &quot;1531&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1541&quot;, (a: &quot;undefined&quot;, &quot;1541&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1551&quot;, (a: &quot;undefined&quot;, &quot;1551&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1561&quot;, (a: &quot;undefined&quot;, &quot;1561&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1571&quot;, (a: &quot;undefined&quot;, &quot;1571&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1581&quot;, (a: &quot;undefined&quot;, &quot;1581&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1591&quot;, (a: &quot;undefined&quot;, &quot;1591&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1601&quot;, (a: &quot;undefined&quot;, &quot;1601&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1611&quot;, (a: &quot;undefined&quot;, &quot;1611&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1621&quot;, (a: &quot;undefined&quot;, &quot;1621&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1631&quot;, (a: &quot;undefined&quot;, &quot;1631&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1641&quot;, (a: &quot;undefined&quot;, &quot;1641&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1651&quot;, (a: &quot;undefined&quot;, &quot;1651&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1661&quot;, (a: &quot;undefined&quot;, &quot;1661&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1671&quot;, (a: &quot;undefined&quot;, &quot;1671&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1681&quot;, (a: &quot;undefined&quot;, &quot;1681&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1691&quot;, (a: &quot;undefined&quot;, &quot;1691&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1701&quot;, (a: &quot;undefined&quot;, &quot;1701&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1711&quot;, (a: &quot;undefined&quot;, &quot;1711&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1721&quot;, (a: &quot;undefined&quot;, &quot;1721&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1731&quot;, (a: &quot;undefined&quot;, &quot;1731&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1741&quot;, (a: &quot;undefined&quot;, &quot;1741&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1751&quot;, (a: &quot;undefined&quot;, &quot;1751&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1761&quot;, (a: &quot;undefined&quot;, &quot;1761&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1771&quot;, (a: &quot;undefined&quot;, &quot;1771&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1781&quot;, (a: &quot;undefined&quot;, &quot;1781&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1791&quot;, (a: &quot;undefined&quot;, &quot;1791&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1801&quot;, (a: &quot;undefined&quot;, &quot;1801&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1811&quot;, (a: &quot;undefined&quot;, &quot;1811&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1821&quot;, (a: &quot;undefined&quot;, &quot;1821&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1831&quot;, (a: &quot;undefined&quot;, &quot;1831&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1841&quot;, (a: &quot;in the&quot;, &quot;plush&quot;, &quot;town house&quot;, &quot;of Dorian Gray&quot;, &quot;some steps&quot;, &quot;some steps&quot;),
	&quot;1851&quot;, (a: &quot;undefined&quot;, &quot;1851&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1861&quot;, (a: &quot;undefined&quot;, &quot;1861&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1871&quot;, (a: &quot;undefined&quot;, &quot;1871&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1881&quot;, (a: &quot;undefined&quot;, &quot;1881&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1891&quot;, (a: &quot;undefined&quot;, &quot;1891&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1901&quot;, (a: &quot;undefined&quot;, &quot;1901&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1911&quot;, (a: &quot;undefined&quot;, &quot;1911&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1921&quot;, (a: &quot;undefined&quot;, &quot;1921&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1931&quot;, (a: &quot;undefined&quot;, &quot;1931&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1941&quot;, (a: &quot;undefined&quot;, &quot;1941&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1951&quot;, (a: &quot;undefined&quot;, &quot;1951&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1961&quot;, (a: &quot;undefined&quot;, &quot;1961&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1971&quot;, (a: &quot;undefined&quot;, &quot;1971&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1981&quot;, (a: &quot;undefined&quot;, &quot;1981&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1991&quot;, (a: &quot;undefined&quot;, &quot;1991&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;2001&quot;, (a: &quot;undefined&quot;, &quot;2001&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;2011&quot;, (a: &quot;undefined&quot;, &quot;2011&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;2021&quot;, (a: &quot;undefined&quot;, &quot;2021&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;2031&quot;, (a: &quot;undefined&quot;, &quot;2031&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;2041&quot;, (a: &quot;undefined&quot;, &quot;2041&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;2051&quot;, (a: &quot;undefined&quot;, &quot;2051&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;2061&quot;, (a: &quot;undefined&quot;, &quot;2061&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;2071&quot;, (a: &quot;undefined&quot;, &quot;2071&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;2081&quot;, (a: &quot;undefined&quot;, &quot;2081&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;2091&quot;, (a: &quot;undefined&quot;, &quot;2091&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;)
	))
	
	}</tw-passagedata><tw-passagedata pid="43" name="terminology" tags="startup" position="151,1363" size="100,100">{
(set: $decadeRef to  
(macro: [
	(set: $decadeReference to 1 + $floorInt * 100 + $decadeNum * 10)
	(output-data: &quot;&quot;)
	]
	))
	

(set: $locusWord to 
(macro: [
	(set: 
	(if: $thisRoomNumber &gt; 9)[(output-data: &quot;passage&quot;)]
	(else:)[(output-data: &quot;room&quot;)]
	]
	))

(set: $fixComplexVocab to 
(macro: [
	(if: $floorString is &quot;0&quot;)[(output-data:$catacombComplexes)]
	(if: $floorString is &quot;1&quot;)[(output-data:$romanComplexes)]
	(if: $floorString is &quot;2&quot;)[(output-data: $unknown)] 
		]
		))
		
		
&lt;!--the main sentence says &quot;you are on a __A___ somewhere ___B___&quot;. This provides the language for A.--&gt; 

(set: $firstLetterIsVowel to
(macro: string-type _word, [
	(set: _firstLetter to (1) of _word)
	(set: _firstLetterIsVowel to (cond: 
		_firstLetter is &quot;a&quot;, true,
		_firstLetter is &quot;e&quot;, true,
		_firstLetter is &quot;i&quot;, true,
		_firstLetter is &quot;o&quot;, true,
		_firstLetter is &quot;u&quot;, true, false))
		(output-data: _firstLetterIsVowel)
		]))

(set: $lociPreps to (dm: 
	&quot;abode&quot;, &quot;in&quot;, 
	&quot;aisle&quot;, &quot;on&quot;,
	&quot;alley&quot;, &quot;in&quot;,
	&quot;apse&quot;, &quot;in&quot;,
	&quot;arcade&quot;, &quot;in&quot;,
	&quot;avenue&quot;, &quot;on&quot;,
	&quot;bank&quot;,&quot;on&quot;,
	&quot;battlement&quot;, &quot;on&quot;,
	&quot;bayou&quot;, &quot;on&quot;, 
	&quot;boudoir&quot;, &quot;in&quot;,
	&quot;bowl&quot;, &quot;in&quot;,
	&quot;building&quot;, &quot;in&quot;,
	&quot;canal&quot;, &quot;on&quot;,
	&quot;cell&quot;, &quot;in&quot;,	
	&quot;chamber&quot;, &quot;in&quot;,
	&quot;copse&quot;, &quot;in&quot;,
	&quot;corridor&quot;, &quot;on&quot;,
	&quot;cottage&quot;, &quot;in&quot;,
	&quot;courtyard&quot;, &quot;in&quot;,
	&quot;deck&quot;, &quot;on&quot;,
	&quot;depot&quot;, &quot;in&quot;,
	&quot;display&quot;, &quot;at&quot;,
	&quot;ditch full of bodies&quot;, &quot;by&quot;,
	&quot;dormitory&quot;, &quot;in&quot;,
	&quot;dungeon&quot;, &quot;in&quot;,
	&quot;field tower&quot;, &quot;at&quot;,
	&quot;gazebo&quot;, &quot;under&quot;,
	&quot;gangway&quot;, &quot;on&quot;,
	&quot;Gebetsraum&quot;, &quot;in&quot;,
	&quot;Gerichtssaal&quot;, &quot;in&quot;,
	&quot;hall&quot;, &quot;in&quot;,
	&quot;hollow&quot;, &quot;in&quot;,
	&quot;lane&quot;, &quot;on&quot;,
	&quot;lab&quot;,&quot;in&quot;,
	&quot;mausoleum&quot;,&quot;in&quot;,
	&quot;mountainside&quot;,&quot;on&quot;,
	&quot;nave&quot;,&quot;in&quot;,
	&quot;opening&quot;, &quot;in&quot;,
	&quot;orchard&quot;, &quot;in&quot;,
	&quot;ossuary&quot;, &quot;in&quot;,
	&quot;pass&quot;, &quot;on&quot;,
	&quot;passage&quot;, &quot;in&quot;,
	&quot;passageway&quot;, &quot;in&quot;,
	&quot;path&quot;, &quot;on&quot;,
	&quot;path through the reeds&quot;, &quot;on&quot;,
	&quot;pathway&quot;, &quot;on&quot;,
	&quot;penthouse&quot;, &quot;in&quot;,
	&quot;pit garage&quot;, &quot;in&quot;,
	&quot;plateau&quot;, &quot;on&quot;, 
	&quot;platform&quot;, &quot;on&quot;,
	&quot;plaza&quot;, &quot;in&quot;,
	&quot;plot&quot;, &quot;on&quot;, 
	&quot;pond&quot;, &quot;by&quot;,
	&quot;post&quot;, &quot;at&quot;,
	&quot;pyramid&quot;, &quot;in&quot;,
	&quot;quayside&quot;, &quot;on&quot;,
	&quot;raft&quot;, &quot;on&quot;,
	&quot;rampart&quot;, &quot;on&quot;,
	&quot;roadway&quot;, &quot;on&quot;,
	&quot;room&quot;, &quot;in&quot;,
	&quot;sanctum&quot;, &quot;in&quot;,
	&quot;schiltron&quot;, &quot;in&quot;,
	&quot;septum&quot;, &quot;in&quot;,
	&quot;shelter&quot;,&quot;under&quot;,
	&quot;square&quot;, &quot;in&quot;,
	&quot;stage&quot;, &quot;by&quot;,
	&quot;street&quot;, &quot;on&quot;,
	&quot;tent&quot;, &quot;in&quot;,
	&quot;theater&quot;, &quot;in&quot;,
	&quot;tower&quot;, &quot;in&quot;,
	&quot;tunnel&quot;, &quot;in&quot;,
	&quot;track&quot;, &quot;on&quot;,
	&quot;vault&quot;, &quot;in&quot;,
	&quot;vulitsa&quot;, &quot;on&quot;,
	&quot;wagon&quot;, &quot;in&quot;,
	&quot;walkway&quot;, &quot;on&quot;,
	&quot;Wohnblock&quot;, &quot;in&quot;,
	&quot;yard&quot;, &quot;in&quot;,
	))


	
	
(set: $passageTerms to (dm: 
	&quot;0&quot;, (a: &quot;humid&quot;, &quot;tunnel&quot;),
	&quot;1&quot;, (a: &quot;earthy&quot;, &quot;path&quot;),
	&quot;11&quot;, (a: &quot;baking hot&quot;, &quot;corridor&quot;),
	&quot;21&quot;, (a: &quot;dim&quot;, &quot;passage&quot;),
	&quot;31&quot;, (a: &quot;cool&quot;, &quot;tunnel&quot;),
	&quot;41&quot;, (a: &quot;sandy&quot;, &quot;tunnel&quot;),
	&quot;51&quot;, (a: &quot;stone&quot;, &quot;corridor&quot;),
	&quot;61&quot;, (a: &quot;forbidding&quot;, &quot;corridor&quot;),
	&quot;71&quot;, (a: &quot;quiet&quot;, &quot;aisle&quot;),
	&quot;81&quot;, (a: &quot;neglected&quot;, &quot;tunnel&quot;),
	&quot;91&quot;, (a: &quot;cool&quot;, &quot;corridor&quot;),
	&quot;100&quot;, (a: &quot;busy&quot;, &quot;street&quot;),
	&quot;101&quot;, (a: &quot;rock brick&quot;, &quot;path&quot;),
	&quot;111&quot;, (a: &quot;sandy&quot;, &quot;passageway&quot;),
	&quot;121&quot;, (a: &quot;sandy&quot;, &quot;passageway&quot;),
	&quot;131&quot;, (a: &quot;curtained&quot;, &quot;hall&quot;),
	&quot;141&quot;, (a: &quot;sumptuous&quot;, &quot;corridor&quot;),
	&quot;151&quot;, (a: &quot;brick&quot;, &quot;alley&quot;),
	&quot;161&quot;, (a: &quot;bustling&quot;, &quot;aisle&quot;),
	&quot;171&quot;, (a: &quot;tranquil&quot;, &quot;aisle&quot;),
	&quot;181&quot;, (a: &quot;tiled&quot;, &quot;corridor&quot;),
	&quot;191&quot;, (a: &quot;cobbled&quot;, &quot;path&quot;),
	&quot;201&quot;, (a: &quot;raised wooden&quot;, &quot;path&quot;),
	&quot;211&quot;, (a: &quot;candlelit&quot;, &quot;path&quot;),
	&quot;221&quot;, (a: &quot;vaulted&quot;, &quot;corridor&quot;),
	&quot;231&quot;, (a: &quot;wooden&quot;, &quot;passage&quot;),
	&quot;241&quot;, (a: &quot;airy&quot;, &quot;corridor&quot;),
	&quot;251&quot;, (a: &quot;rock wall&quot;, &quot;passage&quot;),
	&quot;261&quot;, (a: &quot;dirt&quot;, &quot;roadway&quot;),
	&quot;271&quot;, (a: &quot;tiled&quot;, &quot;path&quot;),
	&quot;281&quot;, (a: &quot;ruined&quot;, &quot;corridor&quot;),
	&quot;291&quot;, (a: &quot;silent&quot;, &quot;path&quot;),
	&quot;301&quot;, (a: &quot;country&quot;, &quot;lane&quot;),
	&quot;311&quot;, (a: &quot;backstage&quot;, &quot;passage&quot;),
	&quot;321&quot;, (a: &quot;pillared&quot;, &quot;arcade&quot;),
	&quot;331&quot;, (a: &quot;moonlit&quot;, &quot;aisle&quot;),
	&quot;341&quot;, (a: &quot;paneled&quot;, &quot;passage&quot;),
	&quot;351&quot;, (a: &quot;muddy&quot;, &quot;trench&quot;),
	&quot;361&quot;, (a: &quot;wooden&quot;, &quot;walkway&quot;),
	&quot;371&quot;, (a: &quot;enclosed&quot;, &quot;path&quot;),
	&quot;381&quot;, (a: &quot;glassy&quot;, &quot;corridor&quot;),
	&quot;391&quot;, (a: &quot;damp&quot;, &quot;passage&quot;),
	&quot;401&quot;, (a: &quot;brambly&quot;, &quot;path&quot;),
	&quot;411&quot;, (a: &quot;dirt&quot;, &quot;thoroughfare&quot;),
	&quot;421&quot;, (a: &quot;&quot;, &quot;aisle of shelves&quot;),
	&quot;431&quot;, (a: &quot;draughty&quot;, &quot;corridor&quot;),
	&quot;441&quot;, (a: &quot;crumbling&quot;, &quot;hallway&quot;),
	&quot;451&quot;, (a: &quot;&quot;, &quot;passage&quot;),
	&quot;461&quot;, (a: &quot;&quot;, &quot;passage&quot;),
	&quot;471&quot;, (a: &quot;abundant and overgrown&quot;, &quot;path&quot;),
	&quot;481&quot;, (a: &quot;trash strewn&quot;, &quot;corridor&quot;),
	&quot;491&quot;, (a: &quot;bone lined&quot;, &quot;passage&quot;),
	&quot;501&quot;, (a: &quot;leafy&quot;, &quot;path&quot;),
	&quot;511&quot;, (a: &quot;muddy&quot;, &quot;thoroughfare&quot;),
	&quot;521&quot;, (a: &quot;cavernous&quot;, &quot;passage&quot;),
	&quot;531&quot;, (a: &quot;glimmering&quot;, &quot;path&quot;),
	&quot;541&quot;, (a: &quot;stone&quot;, &quot;corridor&quot;),
	&quot;551&quot;, (a: &quot;bloody&quot;, &quot;path&quot;),
	&quot;561&quot;, (a: &quot;cavernous&quot;, &quot;passage&quot;),
	&quot;571&quot;, (a: &quot;stone&quot;, &quot;walkway&quot;),
	&quot;581&quot;, (a: &quot;dirty&quot;, &quot;mud-street&quot;),
	&quot;591&quot;, (a: &quot;stinking&quot;, &quot;passage&quot;),
	&quot;601&quot;, (a: &quot;leafy&quot;, &quot;path&quot;),
	&quot;611&quot;, (a: &quot;pungent&quot;, &quot;alley&quot;),
	&quot;621&quot;, (a: &quot;whispering&quot;, &quot;aisle&quot;),
	&quot;631&quot;, (a: &quot;raucous&quot;, &quot;colonade&quot;),
	&quot;641&quot;, (a: &quot;teaming&quot;, &quot;arcade&quot;),
	&quot;651&quot;, (a: &quot;limestone&quot;, &quot;passageway&quot;),
	&quot;661&quot;, (a: &quot;narrow&quot;, &quot;street&quot;),
	&quot;671&quot;, (a: &quot;solemn&quot;, &quot;aisle&quot;),
	&quot;681&quot;, (a: &quot;shadowy&quot;, &quot;alley&quot;),
	&quot;691&quot;, (a: &quot;windy&quot;, &quot;street&quot;),
	&quot;701&quot;, (a: &quot;&quot;, &quot;passage&quot;),
	&quot;711&quot;, (a: &quot;puddled&quot;, &quot;walkway&quot;),
	&quot;721&quot;, (a: &quot;quiet&quot;, &quot;aisle&quot;),
	&quot;731&quot;, (a: &quot;wild&quot;, &quot;path&quot;),
	&quot;741&quot;, (a: &quot;marble&quot;, &quot;corridor&quot;),
	&quot;751&quot;, (a: &quot;functional&quot;, &quot;yard&quot;),
	&quot;761&quot;, (a: &quot;wooden&quot;, &quot;jetty&quot;),
	&quot;771&quot;, (a: &quot;&quot;, &quot;corridor&quot;),
	&quot;781&quot;, (a: &quot;well maintained&quot;, &quot;corridor&quot;),
	&quot;791&quot;, (a: &quot;dark&quot;, &quot;passage&quot;),
	&quot;801&quot;, (a: &quot;swamped&quot;, &quot;path&quot;),
	&quot;811&quot;, (a: &quot;mossy&quot;, &quot;path&quot;),
	&quot;821&quot;, (a: &quot;flooded&quot;, &quot;corridor&quot;),
	&quot;831&quot;, (a: &quot;crooked&quot;, &quot;hallway&quot;),
	&quot;841&quot;, (a: &quot;stone brick&quot;, &quot;passage&quot;),
	&quot;851&quot;, (a: &quot;salty&quot;, &quot;passage&quot;),
	&quot;861&quot;, (a: &quot;misty&quot;, &quot;trail&quot;),
	&quot;871&quot;, (a: &quot;chilly&quot;, &quot;passage&quot;),
	&quot;881&quot;, (a: &quot;brush&quot;, &quot;path&quot;),
	&quot;891&quot;, (a: &quot;putrid&quot;, &quot;canal&quot;),
	&quot;901&quot;, (a: &quot;tortuous&quot;, &quot;path&quot;),
	&quot;911&quot;, (a: &quot;skid marked&quot;, &quot;track&quot;),
	&quot;921&quot;, (a: &quot;snow packed&quot;, &quot;track&quot;),
	&quot;931&quot;, (a: &quot;well tended&quot;, &quot;path&quot;),
	&quot;941&quot;, (a: &quot;vacuumed&quot;, &quot;hallway&quot;),
	&quot;951&quot;, (a: &quot;polished&quot;, &quot;corridor&quot;),
	&quot;961&quot;, (a: &quot;dirt&quot;, &quot;thoroughfare&quot;),
	&quot;971&quot;, (a: &quot;towering&quot;, &quot;aisle&quot;),
	&quot;981&quot;, (a: &quot;striplight&quot;, &quot;corridor&quot;),
	&quot;991&quot;, (a: &quot;&quot;, &quot;ditch&quot;),
	&quot;1001&quot;, (a: &quot;wintry&quot;, &quot;cloister&quot;),
	&quot;1011&quot;, (a: &quot;checkered&quot;, &quot;aisle&quot;),
	&quot;1021&quot;, (a: &quot;ivory&quot;, &quot;corridor&quot;),
	&quot;1031&quot;, (a: &quot;simple&quot;, &quot;passage&quot;),
	&quot;1041&quot;, (a: &quot;vacuumed&quot;, &quot;corridor&quot;),
	&quot;1051&quot;, (a: &quot;clay tiled&quot;, &quot;passage&quot;),
	&quot;1061&quot;, (a: &quot;cold stone&quot;, &quot;passageway&quot;),
	&quot;1071&quot;, (a: &quot;gardened&quot;, &quot;cloister&quot;),
	&quot;1081&quot;, (a: &quot;ruined, overgrown&quot;, &quot;aisle&quot;),
	&quot;1091&quot;, (a: &quot;ominous&quot;, &quot;path&quot;),
	&quot;1101&quot;, (a: &quot;winding&quot;, &quot;path&quot;),
	&quot;1111&quot;, (a: &quot;temporary&quot;, &quot;thoroughfare&quot;),
	&quot;1121&quot;, (a: &quot;echoey&quot;, &quot;corridor&quot;),
	&quot;1131&quot;, (a: &quot;suffocating&quot;, &quot;passageway&quot;),
	&quot;1141&quot;, (a: &quot;temporary&quot;, &quot;thoroughfare&quot;),
	&quot;1151&quot;, (a: &quot;temporary&quot;, &quot;thoroughfare&quot;),
	&quot;1161&quot;, (a: &quot;damp&quot;, &quot;passage&quot;),
	&quot;1171&quot;, (a: &quot;silent&quot;, &quot;passage&quot;),
	&quot;1181&quot;, (a: &quot;forsaken&quot;, &quot;passageway&quot;),
	&quot;1191&quot;, (a: &quot;brittle&quot;, &quot;gangway&quot;),
	&quot;1201&quot;, (a: &quot;flooded&quot;, &quot;waterway&quot;),
	&quot;1211&quot;, (a: &quot;sunny&quot;, &quot;alley&quot;),
	&quot;1221&quot;, (a: &quot;dusty&quot;, &quot;passageway&quot;),
	&quot;1231&quot;, (a: &quot;rubbled&quot;, &quot;street&quot;),
	&quot;1241&quot;, (a: &quot;dirt&quot;, &quot;thoroughfare&quot;),
	&quot;1251&quot;, (a: &quot;anarchic&quot;, &quot;boulevard&quot;),
	&quot;1261&quot;, (a: &quot;defeated&quot;, &quot;vulitsa&quot;),
	&quot;1271&quot;, (a: &quot;snowy&quot;, &quot;pass&quot;),
	&quot;1281&quot;, (a: &quot;makeshift&quot;, &quot;raft&quot;),
	&quot;1291&quot;, (a: &quot;fiery&quot;, &quot;avenue&quot;),
	&quot;1301&quot;, (a: &quot;sunny&quot;, &quot;lane&quot;),
	&quot;1311&quot;, (a: &quot;opulent&quot;, &quot;passage&quot;),
	&quot;1321&quot;, (a: &quot;weathered&quot;, &quot;track&quot;),
	&quot;1331&quot;, (a: &quot;dirt&quot;, &quot;thoroughfare&quot;),
	&quot;1341&quot;, (a: &quot;bumpy&quot;, &quot;lane&quot;),
	&quot;1351&quot;, (a: &quot;grassy&quot;, &quot;opening&quot;),
	&quot;1361&quot;, (a: &quot;narrow&quot;, &quot;hallway&quot;),
	&quot;1371&quot;, (a: &quot;gloomy&quot;, &quot;passage&quot;),
	&quot;1381&quot;, (a: &quot;grimy&quot;, &quot;passage&quot;),
	&quot;1391&quot;, (a: &quot;bloody&quot;, &quot;street&quot;),
	&quot;1401&quot;, (a: &quot;humid&quot;, &quot;trail&quot;),
	&quot;1411&quot;, (a: &quot;rowdy&quot;, &quot;alley&quot;),
	&quot;1421&quot;, (a: &quot;busy&quot;, &quot;street&quot;),
	&quot;1431&quot;, (a: &quot;muddy&quot;, &quot;thoroughfare&quot;),
	&quot;1441&quot;, (a: &quot;angular&quot;, &quot;walkway&quot;),
	&quot;1451&quot;, (a: &quot;smoky&quot;, &quot;rampart&quot;),
	&quot;1461&quot;, (a: &quot;damp&quot;, &quot;corridor&quot;),
	&quot;1471&quot;, (a: &quot;bejeweled&quot;, &quot;hallway&quot;),
	&quot;1481&quot;, (a: &quot;dolorous&quot;, &quot;passage&quot;),
	&quot;1491&quot;, (a: &quot;macabre&quot;, &quot;path&quot;),
	&quot;1501&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1511&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1521&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1531&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1541&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1551&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1561&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1571&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1581&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1591&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1601&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1611&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1621&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1631&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1641&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1651&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1661&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1671&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1681&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1691&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1701&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1711&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1721&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1731&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1741&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1751&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1761&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1771&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1781&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1791&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1801&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1811&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1821&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1831&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1841&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1851&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1861&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1871&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1881&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1891&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1901&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1911&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1921&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1931&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1941&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1951&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1961&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1971&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1981&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1991&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;2001&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;2011&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;2021&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;2031&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;2041&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;2051&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;2061&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;2071&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;2081&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;2091&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;)
	)
	)
	
(set: $roomTerms to (dm: 
	&quot;1&quot;, (a: &quot;fecund&quot;, &quot;plot&quot;),
	&quot;11&quot;, (a: &quot;busy&quot;, &quot;chamber&quot;),
	&quot;21&quot;, (a: &quot;quiet&quot;, &quot;room&quot;),
	&quot;31&quot;, (a: &quot;barrel filled&quot;, &quot;vault&quot;),
	&quot;41&quot;, (a: &quot;sparsely furnished&quot;, &quot;abode&quot;),
	&quot;51&quot;, (a: &quot;well stocked&quot;, &quot;depot&quot;),
	&quot;61&quot;, (a: &quot;uncomfortable&quot;, &quot;cell&quot;),
	&quot;71&quot;, (a: &quot;tranquil&quot;, &quot;sanctum&quot;),
	&quot;81&quot;, (a: &quot;scruffy&quot;, &quot;abode&quot;),
	&quot;91&quot;, (a: &quot;ancient&quot;, &quot;ossuary&quot;),
	&quot;101&quot;, (a: &quot;quiet&quot;, &quot;orchard&quot;),
	&quot;111&quot;, (a: &quot;scorching&quot;, &quot;bowl&quot;),
	&quot;121&quot;, (a: &quot;dusty&quot;, &quot;courtyard&quot;),
	&quot;131&quot;, (a: &quot;lush&quot;, &quot;boudoir&quot;),
	&quot;141&quot;, (a: &quot;palatial&quot;, &quot;room&quot;),
	&quot;151&quot;, (a: &quot;training&quot;, &quot;yard&quot;),
	&quot;161&quot;, (a: &quot;noisy&quot;, &quot;square&quot;),
	&quot;171&quot;, (a: &quot;echoey&quot;, &quot;sanctum&quot;),
	&quot;181&quot;, (a: &quot;operating&quot;, &quot;theater&quot;),
	&quot;191&quot;, (a: &quot;stone&quot;, &quot;mausoleum&quot;),
	&quot;201&quot;, (a: &quot;serene&quot;, &quot;pond&quot;),
	&quot;211&quot;, (a: &quot;babbling&quot;, &quot;square&quot;),
	&quot;221&quot;, (a: &quot;debating&quot;, &quot;hall&quot;),
	&quot;231&quot;, (a: &quot;dancing&quot;, &quot;deck&quot;),
	&quot;241&quot;, (a: &quot;shady&quot;, &quot;room&quot;),
	&quot;251&quot;, (a: &quot;rock brick&quot;, &quot;post&quot;),
	&quot;261&quot;, (a: &quot;dirt&quot;, &quot;square&quot;),
	&quot;271&quot;, (a: &quot;draughty&quot;, &quot;gazebo&quot;),
	&quot;281&quot;, (a: &quot;dilapidated&quot;, &quot;dormitory&quot;),
	&quot;291&quot;, (a: &quot;noiseless&quot;, &quot;plot&quot;),
	&quot;301&quot;, (a: &quot;&quot;, &quot;field tower&quot;),
	&quot;311&quot;, (a: &quot;rehearsal&quot;, &quot;stage&quot;),
	&quot;321&quot;, (a: &quot;marble&quot;, &quot;hall&quot;),
	&quot;331&quot;, (a: &quot;discreet&quot;, &quot;apse&quot;),
	&quot;341&quot;, (a: &quot;musty&quot;, &quot;room&quot;),
	&quot;351&quot;, (a: &quot;blood soaked&quot;, &quot;clearing&quot;),
	&quot;361&quot;, (a: &quot;raised&quot;, &quot;platform&quot;),
	&quot;371&quot;, (a: &quot;hedged&quot;, &quot;yard&quot;),
	&quot;381&quot;, (a: &quot;domed, polished stone&quot;, &quot;shrine&quot;),
	&quot;391&quot;, (a: &quot;half submerged&quot;, &quot;vault&quot;),
	&quot;401&quot;, (a: &quot;verdant&quot;, &quot;clearing&quot;),
	&quot;411&quot;, (a: &quot;ragged&quot;, &quot;tent&quot;),
	&quot;421&quot;, (a: &quot;dilapidated&quot;, &quot;reading room&quot;),
	&quot;431&quot;, (a: &quot;derelict&quot;, &quot;hall&quot;),
	&quot;441&quot;, (a: &quot;dusty&quot;, &quot;room&quot;),
	&quot;451&quot;, (a: &quot;abandoned&quot;, &quot;magazine&quot;),
	&quot;461&quot;, (a: &quot;ruined&quot;, &quot;cell&quot;),
	&quot;471&quot;, (a: &quot;lush and fecund&quot;, &quot;grove&quot;),
	&quot;481&quot;, (a: &quot;disintegrating&quot;, &quot;ward&quot;),
	&quot;491&quot;, (a: &quot;deep&quot;, &quot;shaft&quot;),
	&quot;501&quot;, (a: &quot;shady&quot;, &quot;clearing&quot;),
	&quot;511&quot;, (a: &quot;&quot;, &quot;knight&#39;s tent&quot;),
	&quot;521&quot;, (a: &quot;odorous&quot;, &quot;cavern&quot;),
	&quot;531&quot;, (a: &quot;misty&quot;, &quot;bank&quot;),
	&quot;541&quot;, (a: &quot;stone&quot;, &quot;hall&quot;),
	&quot;551&quot;, (a: &quot;&quot;, &quot;clearing&quot;),
	&quot;561&quot;, (a: &quot;claustrophobic&quot;, &quot;cavern&quot;),
	&quot;571&quot;, (a: &quot;solemn&quot;, &quot;hall&quot;),
	&quot;581&quot;, (a: &quot;dirty&quot;, &quot;square&quot;),
	&quot;591&quot;, (a: &quot;deathly&quot;, &quot;pit&quot;),
	&quot;601&quot;, (a: &quot;aromatic&quot;, &quot;garden&quot;),
	&quot;611&quot;, (a: &quot;smoky&quot;, &quot;bar&quot;),
	&quot;621&quot;, (a: &quot;hidden&quot;, &quot;meeting room&quot;),
	&quot;631&quot;, (a: &quot;rowdy&quot;, &quot;salon&quot;),
	&quot;641&quot;, (a: &quot;bounteous&quot;, &quot;market stall&quot;),
	&quot;651&quot;, (a: &quot;limestone&quot;, &quot;room&quot;),
	&quot;661&quot;, (a: &quot;small&quot;, &quot;shop&quot;),
	&quot;671&quot;, (a: &quot;private&quot;, &quot;musalla&quot;),
	&quot;681&quot;, (a: &quot;silent&quot;, &quot;square&quot;),
	&quot;691&quot;, (a: &quot;crumbling&quot;, &quot;building&quot;),
	&quot;701&quot;, (a: &quot;fearsome&quot;, &quot;display&quot;),
	&quot;711&quot;, (a: &quot;&quot;, &quot;bathing room&quot;),
	&quot;721&quot;, (a: &quot;&quot;, &quot;hall&quot;),
	&quot;731&quot;, (a: &quot;gardened&quot;, &quot;courtyard&quot;),
	&quot;741&quot;, (a: &quot;high&quot;, &quot;chamber&quot;),
	&quot;751&quot;, (a: &quot;basic&quot;, &quot;dormitorium&quot;),
	&quot;761&quot;, (a: &quot;carpented&quot;, &quot;wharf&quot;),
	&quot;771&quot;, (a: &quot;&quot;, &quot;prayer chamber&quot;),
	&quot;781&quot;, (a: &quot;small&quot;, &quot;ward&quot;),
	&quot;791&quot;, (a: &quot;dim&quot;, &quot;chamber&quot;),
	&quot;801&quot;, (a: &quot;&quot;, &quot;clearing in the reeds&quot;),
	&quot;811&quot;, (a: &quot;&quot;, &quot;pond&quot;),
	&quot;821&quot;, (a: &quot;sodden&quot;, &quot;study&quot;),
	&quot;831&quot;, (a: &quot;mysterious&quot;, &quot;study&quot;),
	&quot;841&quot;, (a: &quot;firelit&quot;, &quot;hall&quot;),
	&quot;851&quot;, (a: &quot;draughty&quot;, &quot;hall&quot;),
	&quot;861&quot;, (a: &quot;wild&quot;, &quot;clearing&quot;),
	&quot;871&quot;, (a: &quot;shivery&quot;, &quot;chapel&quot;),
	&quot;881&quot;, (a: &quot;dry&quot;, &quot;island&quot;),
	&quot;891&quot;, (a: &quot;fetid&quot;, &quot;lagoon&quot;),
	&quot;901&quot;, (a: &quot;jagged&quot;, &quot;clearing&quot;),
	&quot;911&quot;, (a: &quot;oily&quot;, &quot;pit garage&quot;),
	&quot;921&quot;, (a: &quot;snowy&quot;, &quot;mountainside&quot;),
	&quot;931&quot;, (a: &quot;flowery&quot;, &quot;courtyard&quot;),
	&quot;941&quot;, (a: &quot;plush&quot;, &quot;penthouse&quot;),
	&quot;951&quot;, (a: &quot;ominous&quot;, &quot;Gerichtssaal&quot;),
	&quot;961&quot;, (a: &quot;spartan&quot;, &quot;Wohnblock&quot;),
	&quot;971&quot;, (a: &quot;tranquil&quot;, &quot;Gebetsraum&quot;),
	&quot;981&quot;, (a: &quot;&quot;, &quot;lab&quot;),
	&quot;991&quot;, (a: &quot;&quot;, &quot;ditch full of bodies&quot;),
	&quot;1001&quot;, (a: &quot;frosty&quot;, &quot;hall&quot;),
	&quot;1011&quot;, (a: &quot;geometrical&quot;, &quot;tower&quot;),
	&quot;1021&quot;, (a: &quot;isolated&quot;, &quot;study&quot;),
	&quot;1031&quot;, (a: &quot;spartan&quot;, &quot;cell&quot;),
	&quot;1041&quot;, (a: &quot;plush&quot;, &quot;prayer room&quot;),
	&quot;1051&quot;, (a: &quot;kata&quot;, &quot;yard&quot;),
	&quot;1061&quot;, (a: &quot;ascetic&quot;, &quot;cell&quot;),
	&quot;1071&quot;, (a: &quot;grassed and flowered&quot;, &quot;courtyard&quot;),
	&quot;1081&quot;, (a: &quot;ruined&quot;, &quot;chapel&quot;),
	&quot;1091&quot;, (a: &quot;baleful&quot;, &quot;arbor&quot;),
	&quot;1101&quot;, (a: &quot;verdant&quot;, &quot;hollow&quot;),
	&quot;1111&quot;, (a: &quot;grassy&quot;, &quot;opening&quot;),
	&quot;1121&quot;, (a: &quot;musty&quot;, &quot;room&quot;),
	&quot;1131&quot;, (a: &quot;small&quot;, &quot;room&quot;),
	&quot;1141&quot;, (a: &quot;makeshift&quot;, &quot;shelter&quot;),
	&quot;1151&quot;, (a: &quot;battered&quot;, &quot;tent&quot;),
	&quot;1161&quot;, (a: &quot;dirty&quot;, &quot;cell&quot;),
	&quot;1171&quot;, (a: &quot;holy&quot;, &quot;septum&quot;),
	&quot;1181&quot;, (a: &quot;deserted&quot;, &quot;hall&quot;),
	&quot;1191&quot;, (a: &quot;broken&quot;, &quot;deck&quot;),
	&quot;1201&quot;, (a: &quot;waterlogged&quot;, &quot;hall&quot;),
	&quot;1211&quot;, (a: &quot;bustling&quot;, &quot;square&quot;),
	&quot;1221&quot;, (a: &quot;dim&quot;, &quot;room&quot;),
	&quot;1231&quot;, (a: &quot;quiet&quot;, &quot;plaza&quot;),
	&quot;1241&quot;, (a: &quot;&quot;, &quot;wagon&quot;),
	&quot;1251&quot;, (a: &quot;warring&quot;, &quot;square&quot;),
	&quot;1261&quot;, (a: &quot;frost kissed&quot;, &quot;square&quot;),
	&quot;1271&quot;, (a: &quot;blizzardy&quot;, &quot;plateau&quot;),
	&quot;1281&quot;, (a: &quot;sinking&quot;, &quot;ship&quot;),
	&quot;1291&quot;, (a: &quot;blazing&quot;, &quot;building&quot;),
	&quot;1301&quot;, (a: &quot;small market&quot;, &quot;square&quot;),
	&quot;1311&quot;, (a: &quot;fabulous&quot;, &quot;hall&quot;),
	&quot;1321&quot;, (a: &quot;misty&quot;, &quot;hollow&quot;),
	&quot;1331&quot;, (a: &quot;draughty&quot;, &quot;tent&quot;),
	&quot;1341&quot;, (a: &quot;small&quot;, &quot;cottage&quot;),
	&quot;1351&quot;, (a: &quot;Scottish&quot;, &quot;schiltron&quot;),
	&quot;1361&quot;, (a: &quot;modest&quot;, &quot;room&quot;),
	&quot;1371&quot;, (a: &quot;simple&quot;, &quot;prayer room&quot;),
	&quot;1381&quot;, (a: &quot;examination&quot;, &quot;room&quot;),
	&quot;1391&quot;, (a: &quot;rowdy&quot;, &quot;square&quot;),
	&quot;1401&quot;, (a: &quot;densely overgrown&quot;, &quot;pond&quot;),
	&quot;1411&quot;, (a: &quot;betting&quot;, &quot;pit&quot;),
	&quot;1421&quot;, (a: &quot;printing&quot;, &quot;room&quot;),
	&quot;1431&quot;, (a: &quot;&quot;, &quot;tent&quot;),
	&quot;1441&quot;, (a: &quot;stepped&quot;, &quot;pyramid&quot;),
	&quot;1451&quot;, (a: &quot;battered&quot;, &quot;tower&quot;),
	&quot;1461&quot;, (a: &quot;cramped&quot;, &quot;cell&quot;),
	&quot;1471&quot;, (a: &quot;opulent&quot;, &quot;nave&quot;),
	&quot;1481&quot;, (a: &quot;dank&quot;, &quot;dungeon&quot;),
	&quot;1491&quot;, (a: &quot;grisly&quot;, &quot;copse&quot;),
	&quot;1501&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1511&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1521&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1531&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1541&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1551&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1561&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1571&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1581&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1591&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1601&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1611&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1621&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1631&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1641&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1651&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1661&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1671&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1681&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1691&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1701&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1711&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1721&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1731&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1741&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1751&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1761&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1771&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1781&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1791&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1801&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1811&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1821&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1831&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1841&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1851&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1861&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1871&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1881&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1891&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1901&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1911&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1921&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1931&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1941&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1951&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1961&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1971&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1981&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1991&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;2001&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;2011&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;2021&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;2031&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;2041&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;2051&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;2061&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;2071&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;2081&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;2091&quot;, (a: &quot;undefined&quot;, &quot;room&quot;)
	)
	)
	

&lt;!--the main sentence says &quot;you are on a __A___ somewhere ___B___&quot;. This provides the language for B. --&gt; 

	
(set: $setLocusPhrase to 
(macro: [
	(if: $thisRoomsNumber &gt; 9)[
		(set: $pathNoun to 2nd of (str: $decadeReference) of $passageTerms)
		(set: $pathAdj to 1st of (str: $decadeReference) of $passageTerms)]
	(else:) [
		(set: $pathNoun to 2nd of (str: $decadeReference) of $roomTerms)
		(set: $pathAdj to 1st of (str: $decadeReference) of $roomTerms)
		]
	(if: $pathAdj is &quot;&quot;) [(set: $pathArticle to (cond: 
		($firstLetterIsVowel:$pathNoun), &quot;an&quot;,
		&quot;a&quot;))]
	(else:)[(set: $pathArticle to (cond: 
		($firstLetterIsVowel:$pathNoun),&quot;an&quot;,
		&quot;a&quot;))]
	($setPathPrep:)
	(output-data: $pathPrep + &quot; &quot; + $pathArticle + &quot; &quot; + $pathAdj + &quot; &quot; + $pathNoun)
	]))
	
&lt;!--encases the locipreps dm to give it a default value of &quot;in&quot; if nothing is specified --&gt; 

(set: $setPathPrep to
(macro: [
	(if: $lociPreps contains $pathNoun)
		[(set: $pathPrep to $pathNoun of $lociPreps)]
	(else:)[(set: $pathPrep to &quot;in&quot;)]
	(output-data: &quot;&quot;)
	]))

&lt;!--______--&gt;
(set: $setRoomPhrase2 to 
(macro: [
	(set: $pathNoun to 2nd of (str: $decadeReference) of $roomTerms)
	(set: $pathAdj to 1st of (str: $decadeReference) of $roomTerms)
	(if: $pathAdj is &quot;&quot;) [(set: $pathArticle to (cond: 
		($firstLetterIsVowel:$pathNoun), &quot;an&quot;,
		&quot;a&quot;))]
	(else:)[(set: $pathArticle to (cond: 
		($firstLetterIsVowel:$pathNoun),&quot;an&quot;,
		&quot;a&quot;))]
	($setPathPrep:)
	(output-data: $pathPrep + &quot; &quot; + $pathArticle + &quot; &quot; + $pathAdj + &quot; &quot; + $pathNoun)
	]))

(set: $setRoomPhrase to 
(macro: [
	($field:)
	(if: $decadeNumber is in $parks)[($park:)]
	(if: $decadeNumber is in $camps)[($camp:)]
	(if: $decadeNumber is in $villages)[($village:)]
	(if: $decadeNumber is in $battlefields)[($battlefield:)]
	(if: $decadeNumber is in $farms)[($farm:)]
	(if: $decadeNumber is in $forests)[($forest:)]
	(if: $decadeNumber is in $mountainsides)[($mountainside:)]
	(if: $decadeNumber is in $cemeteries)[($cemetery:)]
	(if: $decadeNumber is in $barrows)[($barrow:)]
	(if: $decadeNumber is in $caves)[($cave:)]
	(if: $decadeNumber is in $buildings)[($building:)]
	(if: $decadeNumber is in $churches)[($church:)]
	(if: $decadeNumber is in $temples)[($temple:)]
	(if: $decadeNumber is in $mosques)[($mosque:)]
	(if: $decadeNumber is in $mushrooms)[($mushroom:)]
	(if: $decadeNumber is in $brothels)[($brothel:)]
	(if: $decadeNumber is in $jungles)[($jungle:)]
	(if: $decadeNumber is in $hashishQuarters)[($hashishQuarter:)]
	(if: $decadeNumber is in $houses)[($house:)]
	(if: $decadeNumber is in $penalQuarters)[($penalQuarter:)]
	(if: $decadeNumber is in $markets)[($market:)]
	(if: $decadeNumber is in $slaveMarkets)[($slaveMarkets:)]
	(if: $decadeNumber is in $churches)[($church:)]
	(if: $decadeNumber is in $swamps)[($swamp:)]
	(if: $decadeNumber is in $arbors)[($arbor:)]
	(if: $decadeNumber is in $monasteries)[($monastery:)]
		(if: $decadeNumber is in $vestals)[($vestal:)]
	(if: $decadeNumber is in $palaces)[($palace:)]
	(if: $decadeNumber is in $barracks)[($barrack:)]
	(if: $decadeNumber is in $castles)[($castle:)]
	(if: $decadeNumber is in $jails)[($jail:)]
	(if: $decadeNumber is in $inquisitors)[($inquisitor:)]
	(if: $decadeNumber is in $surgeries)[($surgery:)]
	(if: $decadeNumber is in $crypts)[($crypt:)]
	(if: $decadeNumber is in $libraries)[($library:)]
	(if: $decadeNumber is in $schools)[($school:)]
		(if: $decadeNumber is in $courthouses)[($courthouse:)]
			(if: $decadeNumber is in $lakesides)[($lakeside:)]
	(if: $decadeNumber is in $armories)[($armory:)]
	(if: $decadeNumber is in $ships)[($ship:)]
	(if: $decadeNumber is in $hypogea)[($hypogeum:)]
	(if: $decadeNumber is in $menageries)[($menagerie:)]
	(if: $decadeNumber is in $arenas)[($arena:)]
		(if: $decadeNumber is in $fruments)[($frument:)]
			(if: $decadeNumber is in $breweries)[($brewery:)]
				(if: $decadeNumber is in $triclinia)[($triclinium:)]
					(if: $decadeNumber is in $mines)[($mine:)]
	(if: $decadeNumber is in $plaguePits)[($plaguePit:)]
	(output-data: $phrase) 
	]))
	
(set: $setPassagePhrase to 
(macro: [
	(set: $pathNoun to 2nd of (str: $decadeReference) of $passageTerms)
	(set: $pathAdj to 1st of (str: $decadeReference) of $passageTerms)
	(if: $pathAdj is &quot;&quot;) [(set: $pathArticle to (cond: 
		($firstLetterIsVowel:$pathNoun), &quot;an&quot;,
		&quot;a&quot;))]
	(else:)[(set: $pathArticle to (cond: 
		($firstLetterIsVowel:$pathNoun),&quot;an&quot;,
		&quot;a&quot;))]
	($setPathPrep:)
	(output-data: $pathPrep + &quot; &quot; + $pathArticle + &quot; &quot; + $pathAdj + &quot; &quot; + $pathNoun)
	]))
	

	}
</tw-passagedata><tw-passagedata pid="44" name="random numbers database" tags="startup" position="299,1535" size="100,100">{
&lt;!--Because we need the system to generate the same random palace every time, the random values from one initial run must be stored in a database. This is that database.   --&gt;

(set: $randomMaps to (dm: 
&quot;0&quot;,	(a:13,0,25,22,21,17,0,9,10,19,3,9,16,7,15,14,17,7,4,13,25,12,4,17,4),
&quot;10&quot;,	(a:8,5,24,22,4,8,12,2,0,15,5,0,20,14,8,25,12,19,2,8,11,3,5,21,7),
&quot;20&quot;,	(a:14,20,23,7,22,21,0,0,21,1,15,0,8,24,12,20,0,22,25,7,24,16,24,3,2),
&quot;30&quot;,	(a:17,23,22,23,23,4,19,12,0,4,10,11,21,11,16,1,8,7,4,24,11,4,12,13,15),
&quot;40&quot;,	(a:16,10,7,22,7,23,21,24,21,14,10,0,2,17,23,24,19,20,2,8,11,9,25,16,2),
&quot;50&quot;,	(a:23,2,21,23,9,8,0,17,4,15,17,9,13,24,14,17,20,11,17,15,6,22,2,7,22),
&quot;60&quot;,	(a:14,23,15,0,4,6,15,10,8,11,9,22,15,20,12,21,4,7,10,21,20,7,24,0,12),
&quot;70&quot;,	(a:4,1,17,15,16,24,9,6,23,1,5,16,19,16,12,17,4,10,16,15,1,17,13,18,1),
&quot;80&quot;,	(a:5,18,6,23,4,1,4,11,3,1,15,9,3,20,18,7,13,2,18,16,9,21,12,11,16),
&quot;90&quot;,	(a:3,8,13,7,7,21,3,0,15,5,19,3,16,20,10,17,24,18,24,22,22,13,4,6,25),
&quot;100&quot;,	(a:20,8,10,8,18,2,22,9,11,4,20,3,12,17,20,13,3,5,20,10,8,25,17,22,1),
&quot;110&quot;,	(a:18,16,11,24,15,3,19,5,19,20,20,18,4,16,13,11,2,9,13,22,1,14,25,20,11),
&quot;120&quot;,	(a:6,21,5,15,1,15,7,4,1,17,20,18,12,1,4,3,0,9,12,14,13,22,15,6,11),
&quot;130&quot;,	(a:25,19,19,16,8,20,21,11,3,11,21,20,25,3,6,7,20,5,16,22,21,3,2,13,12),
&quot;140&quot;,	(a:12,25,2,0,1,11,14,22,10,22,17,11,3,17,1,24,21,6,8,17,17,21,19,18,22),
&quot;150&quot;,	(a:17,0,9,14,0,16,15,6,1,23,7,6,24,25,5,6,13,10,14,6,18,23,15,12,5),
&quot;160&quot;,	(a:5,15,10,15,14,2,18,0,14,25,20,17,23,8,11,10,2,14,24,8,1,22,1,22,23),
&quot;170&quot;,	(a:6,13,4,1,6,12,22,22,5,8,6,4,19,16,19,10,13,17,23,19,1,25,1,22,10),
&quot;180&quot;,	(a:13,11,17,0,12,7,24,17,9,4,8,3,13,20,20,10,19,21,5,6,14,18,6,5,19),
&quot;190&quot;,	(a:16,18,25,21,17,15,9,6,16,22,15,21,25,8,7,6,8,23,17,23,7,0,20,15,12),&quot;200&quot;,	(a:20,10,21,6,10,12,14,11,10,23,7,15,22,7,13,11,13,1,0,15,16,1,23,16,6),
&quot;210&quot;,	(a:23,4,4,22,21,1,16,16,19,10,7,24,9,13,7,25,22,16,10,3,18,9,19,18,25),
&quot;220&quot;,	(a:6,1,25,22,0,17,21,18,24,14,14,11,12,17,19,13,6,21,7,15,15,3,21,13,14),
&quot;230&quot;,	(a:23,25,21,23,12,8,2,16,23,4,0,24,21,13,8,16,18,4,2,24,0,1,13,18,6),
&quot;240&quot;,	(a:16,1,9,2,12,23,24,8,14,25,24,14,2,7,2,21,18,11,19,12,8,8,5,19,21),
&quot;250&quot;,	(a:2,6,19,14,21,0,5,17,15,13,13,1,8,25,13,23,4,10,11,11,2,5,2,15,14),
&quot;260&quot;,	(a:3,25,16,22,0,19,13,20,14,12,16,19,23,23,16,0,17,13,12,9,8,16,25,1,25),
&quot;270&quot;,	(a:12,16,16,13,2,13,10,11,21,7,24,2,21,7,15,12,16,3,4,11,5,20,6,2,24),
&quot;280&quot;,	(a:4,21,15,0,9,19,9,25,20,4,3,3,10,3,14,16,22,17,3,13,7,8,22,21,4),
&quot;290&quot;,	(a:9,10,3,15,19,17,24,0,6,13,25,12,3,18,20,3,9,10,21,25,23,22,1,24,9),
&quot;300&quot;,	(a:18,17,21,16,0,25,10,7,0,15,19,20,4,25,8,2,1,10,12,1,21,6,2,21,2),
&quot;310&quot;,	(a:14,24,9,9,7,18,23,21,5,19,20,6,0,21,3,12,15,0,0,20,20,13,10,21,0),
&quot;320&quot;,	(a:10,24,10,14,22,2,17,4,22,2,8,23,24,10,8,3,17,24,19,6,15,9,17,2,6),
&quot;330&quot;,	(a:8,0,1,11,4,12,9,1,3,2,17,11,7,11,18,13,23,2,11,19,18,12,16,20,22),
&quot;340&quot;,	(a:2,2,6,22,13,21,3,12,22,11,25,4,11,2,1,23,14,9,6,0,16,1,16,9,2),
&quot;350&quot;,	(a:5,23,23,16,1,12,24,20,5,18,7,18,6,14,2,6,10,2,4,24,9,7,8,18,0),
&quot;360&quot;,	(a:12,1,25,1,11,0,4,7,3,20,18,7,23,3,5,15,20,9,7,12,22,15,16,11,18),
&quot;370&quot;,	(a:24,14,8,19,11,16,20,13,23,13,3,9,5,21,5,17,22,19,20,9,25,2,23,18,11),
&quot;380&quot;,	(a:18,21,3,25,14,25,20,13,5,1,11,2,3,25,19,2,10,11,17,1,21,1,8,1,11),
&quot;390&quot;,	(a:18,9,24,19,13,0,20,9,25,3,13,0,7,16,0,1,19,12,4,8,12,12,10,18,10),&quot;400&quot;,	(a:15,4,19,17,9,3,5,22,2,2,13,9,8,6,14,19,8,14,3,5,16,19,25,10,2),
&quot;410&quot;,	(a:15,6,22,20,25,23,12,2,4,15,11,11,13,1,8,14,18,16,24,25,13,19,6,21,20),
&quot;420&quot;,	(a:22,23,12,9,9,25,12,9,22,19,23,3,8,25,16,24,24,5,2,23,21,5,20,8,2),
&quot;430&quot;,	(a:14,18,15,8,20,13,1,23,4,3,18,22,12,19,23,12,11,14,1,5,9,22,21,6,17),
&quot;440&quot;,	(a:8,19,7,25,19,21,12,9,12,9,18,23,16,10,17,5,17,2,11,4,12,4,7,23,15),
&quot;450&quot;,	(a:18,5,12,3,22,2,6,23,18,21,24,2,9,25,16,2,13,15,17,22,22,10,10,14,6),
&quot;460&quot;,	(a:5,9,5,23,1,18,22,0,10,1,8,24,17,11,13,25,8,13,14,12,1,21,10,13,24),
&quot;470&quot;,	(a:3,21,24,10,12,3,12,12,1,22,14,17,1,18,23,6,10,10,20,21,4,23,4,18,15),
&quot;480&quot;,	(a:12,7,22,10,17,21,22,18,8,4,6,8,16,3,0,12,5,19,0,6,2,2,3,19,8),
&quot;490&quot;,	(a:5,22,18,8,5,5,7,18,14,2,13,17,22,14,11,21,25,10,1,21,9,7,24,9,21),
&quot;500&quot;,	(a:19,15,7,14,7,12,17,14,20,15,24,4,5,10,3,18,5,7,4,22,20,12,11,12,21),
&quot;510&quot;,	(a:19,14,18,11,10,2,11,11,19,22,3,19,23,6,0,12,9,4,9,20,22,10,5,13,20),
&quot;520&quot;,	(a:23,25,7,5,17,8,0,3,3,17,1,7,14,13,11,17,17,21,18,20,13,20,10,2,15),
&quot;530&quot;,	(a:6,18,25,16,5,24,21,12,21,12,0,4,8,3,15,11,9,14,12,6,14,9,20,14,23),
&quot;540&quot;,	(a:9,25,17,25,1,3,12,20,8,0,1,1,14,8,2,9,18,2,2,19,7,0,6,6,16),
&quot;550&quot;,	(a:11,1,23,25,19,18,1,3,25,12,24,8,24,8,18,20,14,10,17,23,15,6,23,18,24),
&quot;560&quot;,	(a:1,6,22,14,23,1,12,5,13,14,16,4,14,6,25,23,21,20,19,12,2,4,21,15,25),
&quot;570&quot;,	(a:23,13,18,9,16,3,25,13,18,15,13,5,8,6,22,7,9,16,24,1,12,3,7,2,11),
&quot;580&quot;,	(a:18,17,3,5,12,4,25,15,7,24,1,2,0,11,11,9,15,18,9,15,22,20,10,1,5),
&quot;590&quot;,	(a:2,14,8,19,17,23,4,8,4,9,14,24,5,7,4,3,7,2,25,8,13,25,0,5,0),&quot;600&quot;,	(a:3,1,15,22,16,20,2,4,20,25,1,11,9,0,9,3,25,7,11,14,13,8,17,6,0),
&quot;610&quot;,	(a:19,12,25,17,21,16,11,23,14,11,1,5,6,19,19,3,12,10,17,0,15,7,24,9,21),
&quot;620&quot;,	(a:5,15,20,5,19,2,25,20,13,11,25,3,11,13,9,21,2,0,8,19,18,12,19,5,25),
&quot;630&quot;,	(a:20,18,25,18,1,1,6,22,22,20,21,6,15,22,10,18,3,14,13,20,17,15,3,4,25),
&quot;640&quot;,	(a:22,8,12,2,0,18,8,6,23,22,9,18,3,10,17,7,10,1,6,14,0,15,18,20,18),
&quot;650&quot;,	(a:16,20,2,7,6,8,11,2,15,18,16,24,24,7,23,21,25,18,25,17,3,9,23,5,4),
&quot;660&quot;,	(a:21,4,8,25,17,16,14,8,14,5,15,11,9,4,25,1,2,4,9,13,14,5,22,2,16),
&quot;670&quot;,	(a:21,20,15,15,21,2,19,22,13,1,7,2,25,0,7,4,2,22,6,22,16,6,16,13,1),
&quot;680&quot;,	(a:7,24,13,19,25,21,5,9,22,6,10,0,1,20,22,0,20,24,11,11,13,5,13,9,25),
&quot;690&quot;,	(a:6,24,20,11,14,7,21,25,24,15,20,20,15,19,20,1,2,7,18,13,8,14,7,5,22),
&quot;700&quot;,	(a:1,19,21,8,9,23,18,2,13,18,13,21,7,6,25,11,13,4,21,22,6,4,2,20,2),
&quot;710&quot;,	(a:8,22,12,4,1,24,7,15,5,8,10,11,21,17,18,17,1,23,14,21,12,15,21,22,4),
&quot;720&quot;,	(a:7,5,18,24,10,0,25,18,3,2,21,10,22,15,21,25,23,0,8,7,17,22,15,6,7),
&quot;730&quot;,	(a:3,6,12,1,10,2,13,23,14,16,10,11,19,7,0,10,24,10,0,9,0,17,1,20,15),
&quot;740&quot;,	(a:17,19,21,17,4,8,5,19,4,20,3,1,2,6,1,19,11,18,22,22,7,7,18,20,17),
&quot;750&quot;,	(a:4,15,14,23,11,0,0,19,22,7,15,18,0,8,25,4,6,25,8,4,12,1,4,4,23),
&quot;760&quot;,	(a:25,2,2,12,4,5,3,11,1,25,2,3,23,6,25,5,19,12,15,7,9,21,3,1,4),
&quot;770&quot;,	(a:19,12,4,5,22,17,24,18,22,16,2,7,11,3,9,2,1,9,22,10,17,10,23,10,1),
&quot;780&quot;,	(a:4,0,5,13,6,18,2,22,6,12,0,4,13,25,24,0,6,9,2,2,5,19,5,17,16),
&quot;790&quot;,	(a:23,15,24,6,22,1,6,12,7,20,16,24,2,14,14,2,24,25,25,9,24,11,25,3,4),&quot;800&quot;,	(a:24,20,12,11,22,24,12,23,23,0,19,19,21,1,21,11,3,19,17,7,12,21,19,18,23),
&quot;810&quot;,	(a:2,14,16,24,0,21,2,8,23,10,16,17,5,15,7,5,1,12,16,14,9,24,19,11,15),
&quot;820&quot;,	(a:9,17,25,20,0,21,15,9,3,25,19,8,22,19,0,20,2,1,16,20,16,5,23,9,10),
&quot;830&quot;,	(a:19,13,15,13,15,7,15,14,3,19,11,2,22,0,17,10,9,22,17,11,25,18,25,23,24),
&quot;840&quot;,	(a:1,25,3,22,5,15,17,2,12,14,13,13,9,22,13,12,11,17,23,0,24,6,21,8,25),
&quot;850&quot;,	(a:1,14,7,18,10,6,11,20,15,22,20,11,10,18,2,19,11,12,11,14,0,6,17,25,9),
&quot;860&quot;,	(a:5,12,10,19,12,4,6,20,20,18,22,6,14,21,16,9,1,1,16,4,14,10,6,11,15),
&quot;870&quot;,	(a:20,0,6,18,9,24,1,23,9,15,20,9,15,16,19,21,21,8,17,18,25,1,22,1,16),
&quot;880&quot;,	(a:23,16,4,23,4,20,12,16,3,22,12,2,1,18,16,14,8,1,1,0,12,22,25,11,15),
&quot;890&quot;,	(a:5,6,2,11,22,2,6,1,12,16,0,10,11,24,8,3,12,13,3,25,4,21,11,6,1),
&quot;900&quot;,	(a:2,11,11,16,9,20,7,10,3,4,15,5,24,20,5,8,10,18,8,6,12,8,21,9,3),
&quot;910&quot;,	(a:22,6,20,21,22,4,19,11,22,18,19,11,25,10,9,0,9,22,24,14,23,14,23,16,13),
&quot;920&quot;,	(a:7,5,21,6,7,13,19,8,13,12,13,5,13,21,7,11,2,25,12,0,14,23,7,3,11),
&quot;930&quot;,	(a:11,24,16,23,18,20,4,13,5,17,22,18,25,13,2,5,14,25,2,22,2,19,9,21,4),
&quot;940&quot;,	(a:7,8,4,24,24,0,9,24,6,24,18,16,7,5,10,14,23,15,16,5,24,15,5,1,10),
&quot;950&quot;,	(a:22,25,5,20,18,20,12,17,16,5,0,0,18,13,23,18,2,5,6,9,19,24,17,12,25),
&quot;960&quot;,	(a:5,16,13,0,7,8,1,13,9,16,8,22,22,2,17,21,18,24,9,10,2,2,14,18,18),
&quot;970&quot;,	(a:1,24,23,15,21,21,18,8,23,5,18,1,22,24,25,10,20,20,25,23,8,6,21,20,13),
&quot;980&quot;,	(a:9,1,4,3,0,15,6,14,17,5,8,18,3,16,6,7,22,9,20,22,25,19,18,9,9),
&quot;990&quot;,	(a:25,5,23,11,7,7,23,22,12,12,13,3,13,2,10,13,22,7,16,0,21,19,3,9,5),&quot;1000&quot;,	(a:21,19,20,14,8,0,25,15,15,10,22,24,12,20,7,16,3,14,18,24,1,9,17,17,5),
&quot;1010&quot;,	(a:8,18,22,16,11,13,1,12,0,4,25,13,12,8,4,21,15,16,15,0,5,12,22,17,22),
&quot;1020&quot;,	(a:17,13,21,21,8,11,17,3,9,23,4,10,22,19,4,7,21,3,0,18,7,24,16,5,12),
&quot;1030&quot;,	(a:21,16,6,17,21,8,10,23,6,7,20,13,8,11,0,24,6,2,12,9,17,7,7,7,22),
&quot;1040&quot;,	(a:13,2,8,3,22,15,5,1,5,25,1,11,5,23,6,24,11,17,15,7,19,7,17,20,9),
&quot;1050&quot;,	(a:7,6,5,22,5,7,5,25,5,6,4,8,2,9,22,21,16,15,2,19,0,5,25,4,2),
&quot;1060&quot;,	(a:14,23,18,9,21,17,25,13,15,17,17,3,5,3,23,24,23,23,5,18,23,11,21,4,10),
&quot;1070&quot;,	(a:19,17,10,11,22,7,16,15,9,24,24,17,12,20,5,14,8,7,12,7,5,20,13,2,16),
&quot;1080&quot;,	(a:13,21,20,16,11,17,10,0,20,0,5,17,7,23,1,11,20,9,11,12,8,3,18,4,19),
&quot;1090&quot;,	(a:25,14,0,7,8,14,11,18,25,3,24,8,18,0,11,7,20,10,5,6,1,11,2,12,17),
&quot;1100&quot;,	(a:22,15,7,12,1,7,9,2,2,19,20,22,20,11,22,11,12,24,3,6,23,10,9,10,17),
&quot;1110&quot;,	(a:0,6,12,12,14,4,23,23,2,23,1,10,20,0,6,17,4,22,9,3,1,18,16,4,6),
&quot;1120&quot;,	(a:7,0,0,14,10,22,3,20,11,11,6,25,17,25,8,20,18,17,2,14,2,15,25,23,19),
&quot;1130&quot;,	(a:9,6,6,15,17,14,10,12,18,4,4,24,12,8,25,5,18,6,1,19,18,24,0,19,11),
&quot;1140&quot;,	(a:23,7,1,23,18,17,20,23,12,19,3,9,24,13,15,14,14,4,14,1,8,23,20,5,6),
&quot;1150&quot;,	(a:14,13,5,19,12,5,10,25,9,5,8,9,7,12,11,6,0,25,12,25,4,14,24,6,8),
&quot;1160&quot;,	(a:14,18,14,23,21,15,16,1,24,16,16,4,21,6,22,15,14,14,5,1,24,10,5,16,4),
&quot;1170&quot;,	(a:13,8,18,11,21,11,11,23,17,22,25,20,10,8,17,12,5,1,10,4,10,21,9,1,5),
&quot;1180&quot;,	(a:12,8,3,19,0,0,5,3,16,12,24,1,13,4,7,4,16,9,13,11,18,8,3,8,17),
&quot;1190&quot;,	(a:18,18,10,20,13,25,8,8,12,16,20,21,21,13,17,6,11,13,12,13,2,11,22,7,0),&quot;1200&quot;,	(a:3,23,3,19,13,2,11,14,12,2,9,17,16,22,13,17,10,4,4,7,4,20,9,15,14),
&quot;1210&quot;,	(a:0,6,4,14,21,6,24,23,5,6,15,8,4,9,6,9,22,19,17,21,10,4,7,11,5),
&quot;1220&quot;,	(a:3,7,13,4,23,16,13,20,6,2,8,6,1,21,10,15,11,10,11,24,15,16,5,5,13),
&quot;1230&quot;,	(a:11,23,24,20,10,15,3,21,6,11,3,15,16,16,20,0,20,15,15,10,24,14,16,17,17),
&quot;1240&quot;,	(a:22,7,17,13,19,0,11,3,22,5,22,19,24,14,20,17,22,15,24,21,6,5,19,19,23),
&quot;1250&quot;,	(a:0,5,17,5,23,8,19,4,13,22,21,3,18,23,14,18,25,2,15,6,16,20,18,23,8),
&quot;1260&quot;,	(a:20,14,16,10,16,11,14,3,16,15,3,25,0,6,0,8,18,3,4,15,14,12,1,5,9),
&quot;1270&quot;,	(a:14,6,24,5,14,9,12,3,19,17,6,23,7,9,21,18,22,3,5,21,25,20,24,21,25),
&quot;1280&quot;,	(a:9,10,9,6,18,4,12,23,5,3,14,3,9,0,4,2,6,1,9,3,24,5,14,23,22),
&quot;1290&quot;,	(a:9,13,19,23,20,5,5,8,18,19,1,8,2,8,8,4,7,17,18,10,9,25,24,1,13),
&quot;1300&quot;,	(a:15,0,5,22,17,9,12,3,9,0,23,8,4,6,2,7,25,15,15,4,19,8,3,3,5),
&quot;1310&quot;,	(a:7,15,5,25,1,12,2,15,1,7,19,7,14,1,22,17,2,15,14,23,7,23,19,21,14),
&quot;1320&quot;,	(a:16,8,5,5,15,0,8,16,14,23,20,23,12,1,1,7,21,11,22,14,16,14,10,17,18),
&quot;1330&quot;,	(a:13,16,19,21,8,6,25,14,8,1,22,9,5,6,10,20,7,10,23,5,25,15,10,19,24),
&quot;1340&quot;,	(a:10,17,20,6,15,25,3,14,21,8,3,5,15,18,16,16,17,6,16,3,13,25,8,5,4),
&quot;1350&quot;,	(a:4,6,8,10,18,15,17,5,2,21,16,14,12,3,12,10,2,4,4,7,7,12,9,5,20),
&quot;1360&quot;,	(a:0,0,9,23,8,8,17,17,2,3,25,18,15,18,19,22,14,0,0,21,3,16,7,1,15),
&quot;1370&quot;,	(a:12,11,25,6,16,2,1,13,11,4,2,22,23,4,11,12,21,25,23,11,12,24,19,10,22),
&quot;1380&quot;,	(a:18,15,17,0,24,15,23,22,8,20,25,17,3,1,15,14,9,9,25,11,7,17,18,23,7),
&quot;1390&quot;,	(a:13,22,11,17,21,21,8,11,22,12,15,2,19,9,23,7,3,1,12,13,19,9,0,18,10),&quot;1400&quot;,	(a:15,20,16,23,6,5,2,5,1,8,24,1,23,24,15,1,17,14,0,6,1,6,0,24,11),
&quot;1410&quot;,	(a:6,16,25,1,11,8,19,18,24,24,14,20,2,18,20,23,8,23,3,16,23,11,23,21,13),
&quot;1420&quot;,	(a:0,5,21,16,16,25,25,22,25,13,1,13,3,6,8,11,13,24,12,9,18,16,21,17,18),
&quot;1430&quot;,	(a:19,14,19,18,24,19,21,9,13,20,17,16,22,0,6,23,11,9,8,9,17,21,5,9,12),
&quot;1440&quot;,	(a:10,1,22,24,12,5,12,19,25,17,14,4,9,0,21,5,8,1,0,8,21,22,24,6,3),
&quot;1450&quot;,	(a:0,25,17,24,21,16,21,5,13,4,5,15,8,17,4,10,10,24,15,5,10,4,6,14,1),
&quot;1460&quot;,	(a:25,7,16,8,17,9,4,20,11,25,3,10,10,20,21,22,8,5,13,2,19,1,23,18,25),
&quot;1470&quot;,	(a:19,15,16,6,1,4,10,22,9,16,8,8,10,20,11,6,24,14,19,15,9,25,12,3,6),
&quot;1480&quot;,	(a:3,2,21,14,19,19,10,9,3,10,16,23,17,20,24,3,14,19,1,24,1,12,4,13,7),
&quot;1490&quot;,	(a:23,19,24,21,14,18,21,17,6,4,3,14,16,19,19,21,19,13,23,1,5,13,2,20,5),
&quot;1500&quot;,	(a:9,2,9,9,1,13,1,7,1,18,15,7,6,0,3,13,14,3,1,2,7,0,12,9,15),
&quot;1510&quot;,	(a:13,10,16,16,20,0,16,0,3,14,5,17,22,16,12,17,14,0,25,12,10,14,11,21,10),
&quot;1520&quot;,	(a:9,10,7,19,1,17,12,10,10,19,19,8,5,25,19,21,13,1,12,18,1,17,2,15,25),
&quot;1530&quot;,	(a:11,12,11,17,8,16,9,19,1,25,9,12,1,24,3,12,1,24,6,9,7,22,25,17,23),
&quot;1540&quot;,	(a:7,19,25,2,24,12,11,1,16,7,18,11,12,16,17,24,22,0,2,6,25,22,2,11,4),
&quot;1550&quot;,	(a:20,15,12,20,15,5,10,17,13,25,13,18,22,25,5,12,4,19,11,6,7,22,11,13,23),
&quot;1560&quot;,	(a:19,11,13,13,12,23,21,10,24,23,4,6,16,13,16,10,7,19,0,21,15,4,23,8,0),
&quot;1570&quot;,	(a:22,0,14,16,24,22,23,3,17,17,16,13,19,24,0,7,10,10,25,2,22,14,3,6,7),
&quot;1580&quot;,	(a:4,6,12,25,24,12,1,24,1,9,1,9,12,15,16,9,0,0,8,9,18,11,17,5,22),
&quot;1590&quot;,	(a:7,22,14,8,4,17,21,0,9,1,23,13,17,9,22,14,24,9,3,15,8,5,5,2,0),&quot;1600&quot;,	(a:2,20,20,22,11,17,5,2,11,22,0,12,18,6,7,12,7,16,19,2,23,9,24,17,23),
&quot;1610&quot;,	(a:15,24,25,3,15,11,21,15,10,23,21,25,13,24,2,13,17,3,7,18,4,15,13,12,11),
&quot;1620&quot;,	(a:18,24,6,11,25,4,19,4,13,9,4,20,2,22,18,6,22,19,12,12,2,14,5,16,0),
&quot;1630&quot;,	(a:18,24,20,4,16,3,22,13,8,17,6,16,12,23,15,13,3,10,10,7,14,4,13,25,7),
&quot;1640&quot;,	(a:2,9,23,10,12,2,21,16,20,14,14,13,8,19,18,16,2,5,22,16,17,22,9,16,0),
&quot;1650&quot;,	(a:9,19,12,4,6,20,21,20,18,13,11,15,20,23,23,15,15,20,3,0,17,3,20,9,0),
&quot;1660&quot;,	(a:7,15,7,15,7,5,0,19,24,6,10,22,23,5,12,9,0,8,7,18,19,22,7,22,13),
&quot;1670&quot;,	(a:8,25,7,17,24,18,22,17,3,5,6,5,19,8,16,24,12,12,2,24,24,25,20,10,25),
&quot;1680&quot;,	(a:18,2,6,23,0,18,21,23,18,15,22,16,7,25,4,1,20,24,20,7,8,18,1,16,25),
&quot;1690&quot;,	(a:23,23,19,7,18,19,15,7,2,21,17,2,24,7,19,7,23,0,20,1,12,18,22,19,4),
&quot;1700&quot;,	(a:22,0,21,24,1,3,3,18,23,23,24,18,13,3,14,11,1,20,5,20,7,19,19,12,2),
&quot;1710&quot;,	(a:1,2,22,16,9,7,7,8,8,10,17,17,8,1,17,20,6,11,12,25,4,23,21,13,23),
&quot;1720&quot;,	(a:25,5,24,14,5,3,19,6,22,1,16,6,14,24,8,24,0,14,19,12,1,19,3,8,12),
&quot;1730&quot;,	(a:17,4,1,7,20,11,15,1,13,15,21,14,10,10,0,2,9,17,0,17,10,6,22,23,10),
&quot;1740&quot;,	(a:0,14,15,15,20,7,19,15,10,24,2,10,0,13,24,24,7,5,2,13,20,0,1,7,20),
&quot;1750&quot;,	(a:16,4,2,7,14,14,17,25,21,16,10,9,24,8,5,0,7,17,2,0,0,25,1,5,4),
&quot;1760&quot;,	(a:16,14,16,16,1,4,19,12,19,15,2,18,0,3,17,7,0,5,1,7,7,19,1,21,24),
&quot;1770&quot;,	(a:2,17,14,12,25,1,20,21,4,13,9,24,12,25,10,24,7,14,6,15,20,11,7,2,16),
&quot;1780&quot;,	(a:16,12,4,17,12,24,9,17,15,16,5,1,19,3,20,1,24,25,14,1,1,13,20,5,7),
&quot;1790&quot;,	(a:2,22,19,24,24,16,0,16,10,10,19,2,18,19,25,4,12,10,5,3,7,14,17,10,7),
&quot;1800&quot;,	(a:20,25,21,8,13,0,23,1,17,9,20,11,1,23,9,20,15,16,13,15,20,15,11,12,5),
&quot;1810&quot;,	(a:17,9,19,14,15,5,13,0,4,6,14,13,23,9,23,3,7,11,11,8,6,11,25,18,15),
&quot;1820&quot;,	(a:25,18,11,12,25,13,8,14,13,4,23,25,16,25,0,0,19,22,17,6,21,14,9,10,4),
&quot;1830&quot;,	(a:11,14,6,0,17,4,2,21,18,25,15,8,10,14,0,21,23,8,7,21,22,24,23,6,24),
&quot;1840&quot;,	(a:16,9,19,11,23,3,18,11,2,2,25,8,4,12,1,17,25,21,6,13,5,15,13,19,18),
&quot;1850&quot;,	(a:23,23,9,20,14,4,16,9,10,8,24,20,10,3,3,19,20,22,23,9,6,12,16,12,21),
&quot;1860&quot;,	(a:3,2,5,15,6,17,23,7,12,12,18,16,13,14,19,13,1,11,1,8,5,7,4,20,9),
&quot;1870&quot;,	(a:21,19,8,1,5,22,20,7,11,11,14,8,15,13,9,3,18,20,13,13,1,20,10,0,6),
&quot;1880&quot;,	(a:18,4,5,5,6,11,16,22,6,11,8,7,17,19,18,3,1,5,22,12,2,14,25,9,17),
&quot;1890&quot;,	(a:18,16,0,7,25,0,20,5,15,9,24,2,9,4,17,22,15,1,24,13,0,11,10,12,21),
&quot;1900&quot;,	(a:16,18,18,7,1,15,1,24,14,25,10,3,5,8,23,22,23,4,11,22,9,21,13,6,19),
&quot;1910&quot;,	(a:19,1,23,17,21,21,16,3,22,24,21,11,24,8,17,7,14,17,6,20,18,23,16,8,6),
&quot;1920&quot;,	(a:2,11,2,15,3,2,12,8,22,22,13,4,5,25,3,1,3,6,11,6,5,17,11,17,11),
&quot;1930&quot;,	(a:7,17,6,7,13,0,21,14,6,6,17,10,13,20,13,10,21,10,4,16,22,8,0,25,5),
&quot;1940&quot;,	(a:11,17,2,21,9,16,7,2,24,17,18,21,16,11,13,21,12,2,22,0,3,25,13,1,3),
&quot;1950&quot;,	(a:16,22,20,3,18,14,4,12,9,3,0,11,9,4,3,24,21,18,24,15,14,15,17,8,21),
&quot;1960&quot;,	(a:15,2,0,4,14,9,16,3,22,4,15,11,14,15,13,18,15,22,17,12,10,25,5,0,20),
&quot;1970&quot;,	(a:4,5,11,3,23,4,23,20,9,7,13,25,9,5,10,18,14,12,21,19,0,7,19,20,9),
&quot;1980&quot;,	(a:20,12,24,20,9,11,21,11,15,15,23,1,11,23,2,20,9,13,21,6,12,8,0,15,0),
&quot;1990&quot;,	(a:20,13,5,7,6,21,9,25,4,17,13,23,0,2,18,13,20,24,5,0,24,20,7,20,0),&quot;2000&quot;,	(a:10,15,15,9,17,15,14,23,19,25,13,1,22,14,4,13,18,1,25,6,4,2,13,24,20),
&quot;2010&quot;,	(a:14,19,7,24,19,0,0,0,22,24,10,20,19,18,16,5,8,14,18,18,21,3,6,10,19),
&quot;2020&quot;,	(a:23,8,24,10,13,0,9,13,24,11,11,16,10,14,13,2,14,21,2,23,10,17,12,0,7),
&quot;2030&quot;,	(a:17,4,4,10,14,13,9,22,5,25,14,5,23,12,19,9,14,10,17,2,11,4,11,4,23),
&quot;2040&quot;,	(a:10,15,17,0,4,23,18,9,25,13,0,20,20,22,4,9,14,0,11,13,21,1,23,4,6),
&quot;2050&quot;,	(a:10,2,9,16,9,12,17,11,1,9,3,1,22,2,2,21,11,21,14,23,10,12,0,8,12),
&quot;2060&quot;,	(a:19,24,8,4,2,20,7,19,18,9,4,10,16,0,21,25,5,22,4,19,18,25,3,11,21),
&quot;2070&quot;,	(a:24,9,18,19,2,11,25,3,8,4,23,1,8,23,22,9,2,18,4,23,12,16,3,14,21),
&quot;2080&quot;,	(a:17,15,11,6,9,14,0,1,8,10,10,24,5,9,24,25,11,3,15,5,16,9,5,15,2),
&quot;2090&quot;,	(a:22,20,18,6,12,6,15,1,7,2,1,1,22,10,14,3,15,3,22,19,1,7,20,3,24)
))

}
</tw-passagedata><tw-passagedata pid="45" name="random number ops" tags="startup" position="163,1536" size="100,100">{
(set: $seedIndex to 1)
(set: $seedIndex20 to 1)
(set: $seedIndex25 to 1)

&lt;!--the system needs &quot;stable random numbers&quot;, i.e. randomly generated numbers that return the same numbers every run time.--&gt;

&lt;!--returns a stable random value using the argument as a limit. essentially replaces the random function from Harlowe--&gt;	
	
(set: $srandom to 
(macro: num-type _limit, [
	(if: _limit &gt; 19)
		[(error:&quot;$srandom cannot accept argument &gt;19&quot;)]
	(set: _starter to (nth: $seedIndex, ...$randomSeed))
	(if: $seedIndex &gt; 40) [(set: $seedIndex to 1)]
	(else:) [(set: $seedIndex +=1)]
	(set: _x to _limit +1)
	($mod: _starter, _x)
	(output-data: $modulus)
	]))	
	
(set: $getBinaryValue to (macro: [
	(set: _output to (nth: $seedIndex, 0,1,0,0,1,0,1,0,0,0,1,1,1,0,1,0,0))
	(if: $seedIndex &gt; 20) [(set: $seedIndex to 1)]
	(else:) [(set: $seedIndex +=1)]
	(output-data: _output)]))

(set: $getStableRandom20 to (macro: [
	(set: _output to (nth: $seedIndex20, ...$randomSeed))
	(if: $seedIndex &gt; 20) [(set: $seedIndex to 1)]
	(set: $seedIndex20 +=1)
	(output-data: _output)]))
	

(set: $mod to 
(macro: num-type _dividend, num-type _divisor, [
	(if: _divisor &lt; 0) [(error: &quot;divisor less than 0&quot;)]
	(if: _dividend &lt; 0) [(error: &quot;dividend less than 0&quot;)]
	(if: _divisor is 0) [(set: $modulus to 0)] 
	(else:)[
	(if: _divisor &gt; _dividend)[(set: $modulus to _dividend)]
	(else:) [($mod: _dividend - _divisor, _divisor)]
	]
	(output-data:&quot;&quot;) 
	]))
	
	


	

	
&lt;!--sets a stable random value from the range -1, 0, 1.--&gt;
(set: $getTernaryValue to (macro: [
	(set: _output to (nth: $seedIndex, 0,-1,0,1,-1,0,1,1,0,-1,1,1,-1,1,1,1,0))
	(if: $seedIndex &gt; 20) [(set: $seedIndex to 1)]
	(else:) [(set: $seedIndex +=1)]
	(output-data: _output)]))
		

}</tw-passagedata><tw-passagedata pid="46" name="srandom test" tags="" position="74,1680" size="100,100">(set: $randomSeed to (str: 30) of $randomMaps)
(set: $xoij to ($srandom: 1))
$xoij
(set: $xoij to ($srandom: 1))
$xoij
(set: $xoij to ($srandom: 1))
$xoij
(set: $xoij to ($srandom: 1))
$xoij
(set: $xoij to ($srandom: 1))
$xoij
(set: $xoij to ($srandom: 1))
$xoij
(set: $xoij to ($srandom: 1))
$xoij
(set: $xoij to ($srandom: 1))
$xoij
(set: $xoij to ($srandom: 1))
$xoij
(set: $xoij to ($srandom: 1))
$xoij
(set: $xoij to ($srandom: 1))
$xoij
(set: $xoij to ($srandom: 1))
$xoij
(set: $xoij to ($srandom: 1))
$xoij
(set: $xoij to ($srandom: 1))
$xoij
(set: $xoij to ($srandom: 1))
$xoij
(set: $xoij to ($srandom: 1))
$xoij
(set: $xoij to ($srandom: 1))
$xoij</tw-passagedata><tw-passagedata pid="47" name="port2" tags="" position="1130,1357" size="100,100">{
(if: $floorInt is 11)[&lt;script&gt;CustomScripts.updateBackground(1133);&lt;/script&gt;]
}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[You arrive at the buzzing port of La Rochelle, where merchants sail to England and points south. Fishermen carry teeming baskets of fish from the ocean and the sea air is skewered by the shrieks of hungry gulls. (if: $homeCity is &quot;Bishop&#39;s Lynn&quot;)[Before you can even find your bearings, rough men bundle you into a prison carriage. You learn you have been summoned to the court of Eleanor of Aquitaine at [[Poitiers-&gt;Poitiers]].(set: $homeCity to &quot;La Rochelle&quot;)(set: $foreignCity to &quot;Bishop&#39;s Lynn&quot;)] (else:) [A ship is sailing for Bishop&#39;s Lynn in The Wash. You may [[take it-&gt;atSea]] if you wish, or head back to [[Poitiers-&gt;Poitiers]].]
]</tw-passagedata><tw-passagedata pid="48" name="Poitiers" tags="" position="1262,1357" size="100,100">{(if: $floorInt is 11)[&lt;script&gt;CustomScripts.updateBackground(1131);&lt;/script&gt;]
(if: $downOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 3&quot;)]
(if: $upOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 0&quot;)]
(if: $rightOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 8&quot;)]
(if: $leftOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 5&quot;)]
}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[(if: $floorInt is 11)[You are somewhere in the Maubergeonne Tower in Poitiers, where Eleanor of Aquitaine presides over matters of fidelity and marriage. To [[explore the tower-&gt;$startRoom]] you must go $rightOnNexusMap. Or you may head [[back to La Rochelle-&gt;port2]] to seek a ship back to England.]
]</tw-passagedata><tw-passagedata pid="49" name="atSea" tags="" position="995,1355" size="100,100">(if: $floorInt is 11)[&lt;script&gt;CustomScripts.updateBackground(1134);&lt;/script&gt;]
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[(if: $floorInt is 11) [You are sailing the rough seas from $homeCity to $foreignCity. At last, after three days of travel, you weigh anchor at (if: $foreignCity is &quot;La Rochelle&quot;)[[[La Rochelle-&gt;port2]].](else:)[[[Bishop&#39;s Lynn-&gt;port1]](set: $homeCity to &quot;Bishop&#39;s Lynn&quot;)(set: $foreignCity to &quot;La Rochelle&quot;).]]
]</tw-passagedata><tw-passagedata pid="50" name="port1" tags="" position="849,1349" size="100,100">(if: $floorInt is 11)[&lt;script&gt;CustomScripts.updateBackground(1132);&lt;/script&gt;]
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[(if: $floorInt is 11) [You are at the dockside at the murky port of Bishop&#39;s Lynn. It is late. The fishermen and merchants have long since unloaded their boats and only thieves prowl the streets beside the wharf. You may climb aboard [[a lonely ship-&gt;atSea]] that has been unexpectedly delayed and which soon sets sail for La Rochelle. Alternatively, you may head inland towards [[Sherwood Forest-&gt;complex three]].]
]</tw-passagedata><tw-passagedata pid="51" name="Untitled Passage" tags="" position="38,938" size="100,100">(set: $rotate90up to 
	(macro: str-type _direction, [
		(set: _output to (cond: 
			_direction is $upOnScreen, $upVariable,
			_direction is $upVariable, $downOnScreen,
			_direction is $downOnScreen, $downVariable,
			_direction is $downVariable, $upOnScreen,
			&quot;error: rotate90up received direction of wrong form&quot;
			))
		(output-data: _output)
		]
		))
		
(set: $setTowerVariables to 
(macro: [
	(set: $upOnScreen to $upOnScreen)
	(set: $downOnScreen2 to $downOnScreen)
	(set: $rightOnScreen2 to $rightOnScreen)
	(set: $leftOnScreen2 to $leftOnScreen)
	(set: _x to ($srandom: 3))
	(if: _x is even)[
		(set: $upOnScreen2 to ($rotate45: $upOnScreen))
		(set: $downOnScreen2 to ($rotate45: $downOnScreen))
		]
	(if: _x &gt; 1) [
		(set: $rightOnScreen2 to ($rotate45: $rightOnScreen))
		(set: $leftOnScreen2 to ($rotate45: $leftOnScreen))
		]

	(output-data: &quot;&quot;)
	]))


(set: $setTowerVariables to 
(macro: [
	(set: $upOnScreen2 to $upOnScreen)
	(set: $downOnScreen2 to $downOnScreen)
	(set: $rightOnScreen2 to $rightOnScreen)
	(set: $leftOnScreen2 to $leftOnScreen)
	(set: _x to ($srandom: 1))
	(if: _x is 0)[
		(set: $upVariable to $upOnScreen)
		(set: $upOnScreen to $downVariable)
		(set: $downVariable to $downOnScreen)
		(set: $downOnScreen to $upVariable)
		]
	(if: _x is 1)[
		(set: $upVariable to $rightOnScreen)
		(set: $rightOnScreen to $downVariable)
		(set: $downVariable to $leftOnScreen)
		(set: $leftOnScreen to $upVariable)
		]
	(output-data: &quot;&quot;)
	]))</tw-passagedata><tw-passagedata pid="52" name="wreckStory" tags="" position="488,2226" size="100,100">{(set: $japanBattle to &quot;inbound&quot;)
(if: $floorInt is 12)[&lt;script&gt;CustomScripts.updateBackground(1281);&lt;/script&gt;]}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[The battle off the coast of Japan is going well for the Mongols when, unexpectedly, a typhoon sweeps in. Tempest tossed, your ship is breaking into pieces! You can [[swim for another boat-&gt;$startRoom]] or [[swim back to the coast-&gt;complex eight]]. 
]</tw-passagedata><tw-passagedata pid="53" name="burning merv" tags="" position="290,1919" size="100,100">{(set: $mervDirection to &quot;outbound&quot;)
(if: $floorInt is 12)[&lt;script&gt;CustomScripts.updateBackground(1293);&lt;/script&gt;]
}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[You enter the city. At first it seems deserted, but then you see a dead body, and another, and another. A moment later you smell burning. Turning, you see several buildings on fire, and more fiery arrows tracing arcs through the sky. You may turn to [[hurry back-&gt;complex nine]] the way you came, or you can [[continue to explore-&gt;$startRoom]] despite the fires.  
]</tw-passagedata><tw-passagedata pid="54" name="environments" tags="" position="67,803" size="100,100">{
(set: $roomAdjective to &quot;a &quot;)
(set: $forests to (a:400,500,860,900,1100,1320,1490))
(set: $jungles to (a:1400))
(set: $mountainsides to (a: 920,1270))
(set: $villages to (a: 260,580,660,690,1200,1210,1230,1250,1260,1290,1340,1390,1420,1440))
(set: $hashishQuarters to (a:610))
(set: $penalQuarters to (a: 680))
(set: $markets to (a:640))
(set: $slaveMarkets to (a:160,760))
(set: $churches to (a: 70,380,770,870,970,1000,1010,1020,1030,1040,1060,1070,1080,1170,1370,1470))
(set: $camps to (a:210,410,510,960,990,1110,1140,1150,1240,1330,1430))
(set: $swamps to (a:800,810,880,890))
(set: $parks to (a: 0,100,200,370,470))
(set: $arbors to (a:1090))
(set: $caves to (a: 560))
(set: $cemeteries to (a: 190,290))
(set: $barrows to (a:590))
(set: $battlefields to (a: 350,550,1350,1450))
(set: $farms to (a:300,600,1300)) 
(set: $buildings to (a:40,80,140,240,340,440,520,730,830,940,1220,1360))
(set: $temples to (a:170,270,430))
(set: $mosques to (a:670))
(set: $monasteries to (a:930,1030))
(set: $vestals to (a:130))

(set: $brothels to (a:230))
(set: $palaces to (a:570,630,740,850,1130,1310))
(set: $barracks to (a: 120,150,250,750,1050,1120))
(set: $castles to (a:540,650,840,1180))
(set: $jails to (a:60,460,1160,1460))
(set: $inquisitors to (a:1480))
(set: $surgeries to (a:180,280,480,780,980,1380))
(set: $crypts to (a:90,390,490,790))
(set: $libraries to (a:420,620,720,820))
(set: $schools to (a:220,320))
(set: $courthouses to (a:950))
(set: $lakesides to (a:530))
(set: $armories to (a: 50,450))
(set: $ships to (a: 1190,1280))
(set: $hypogea to (a:10))
(set: $menageries to (a:700))
(set: $arenas to (a:110,310,910,1110,1410))
(set: $fruments to (a:20))
(set: $breweries to (a:30))
(set: $triclinia to (a:330))
(set: $mines to(a:360))
(set: $plaguePits to(a:490))

(set: $hypogeum to 
(macro: [	
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;the &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;winch room&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;chamber of the balatrones&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $roomAdjective to &quot;the &quot;)(set: $phrase to _prep + $roomAdjective + &quot;chamber of the master of ceremonies&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;chamber of the Pantomimi&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;basement area&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;gladiator&#39;s chamber&quot;)]
		(if: $thisRoomsNumber is 6) [(set: _prep to &quot;amongst &quot;)(set: $phrase to _prep + $roomAdjective + &quot;caged beasts&quot;)]
		(if: $thisRoomsNumber is 7) [(set: _prep to &quot;amongst &quot;)(set: $phrase to _prep + $roomAdjective + &quot;shackled Christians&quot;)]
		(if: $thisRoomsNumber is 8) [(set: _prep to &quot;amongst &quot;)(set: $phrase to _prep + $roomAdjective + &quot;wounded gladiators&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;morgue&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $brewery to 
(macro: [	
	($building:)
	(set: _prep to &quot;by &quot;)
	(set: $roomAdjective to &quot;the &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;stills&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;wine barrels&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;beer barrels&quot;)]
		(if: $thisRoomsNumber is 6) [(set: _prep to &quot;amongst &quot;)(set: $phrase to _prep + $roomAdjective + &quot;secret brew&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;slop bucket&quot;)]
		(output-data: &quot;&quot;)
		]
		))

(set: $arena to 
(macro: [	
	(set: _prep to &quot;at &quot;)
	(set: $roomAdjective to &quot;the &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;beginner&#39;s competition area&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;practice area&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;coach&#39;s bench&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;cheerleader&#39;s bench&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;competitor&#39;s bench&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;competition space&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;sin bin&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;religious shrine&quot;)]
		(if: $thisRoomsNumber is 8) [(set: _prep to &quot;in &quot;)(set: $phrase to _prep + $roomAdjective + &quot;injury tent&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;morgue&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $armory to 
(macro: [	
	(set: _prep to &quot;in &quot;)
	(if: $decadeNumber is 400)[(set: $roomAdjective to &quot;a looted &quot;)]
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;dormitory&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;practice yard&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;military library&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;heraldry room&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;armor and light weaponry magazine&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;heavy weaponry magazine&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;brig&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;prayer room&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;repair shop&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;decommissioning room&quot;)]
		(output-data: &quot;&quot;)
		]
		))

(set: $field to 
(macro: [	
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;blackened, burned field&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;meadow of white flowers&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;pasture of pink carnations&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;red poppy field&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;field of purple lilacs&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;bluebell field&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;field of cyan lotus flowers&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;meadow of green grass&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;yellow field of wheat&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;muddy field&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $plaguePit to 
(macro: [	
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 0) [(set: _prep to &quot;within &quot;)(set: $roomAdjective to &quot;&quot;)(set: $phrase to _prep + $roomAdjective + &quot;walls of fungus covered corpses&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;buried play-park&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;buried school for children&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;chamber of dead nuns&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;buried market&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;chamber of dead soldiers&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + &quot;subterranean, walled-up&quot; + &quot;street&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + &quot;collapsed, subterranean&quot; + &quot;chapel&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;chamber of partial bodies&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;repository for random bones and partial human remains&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $ship to 
(macro: [	
	(set: _prep to &quot;on &quot;)
	(set: $roomAdjective to &quot;the &quot;)
		(if: $thisRoomsNumber is 0) [(set: _prep to &quot;below &quot;)(set: $roomAdjective to &quot; &quot;)(set: $phrase to _prep + $roomAdjective + &quot;deck&quot;)]
		(if: $thisRoomsNumber is 1) [(set: _prep to &quot;in &quot;)(set: $phrase to _prep + $roomAdjective + &quot;crow&#39;s nest&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;navigation deck&quot;)]
		(if: $thisRoomsNumber is 3) [(set: _prep to &quot;at &quot;)(set: $phrase to _prep + $roomAdjective + &quot;mast head&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;aft deck&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;stern deck&quot;)]
		(if: $thisRoomsNumber is 6) [(set: _prep to &quot;in &quot;)(set: $phrase to _prep + $roomAdjective + &quot;brig&quot;)]
		(if: $thisRoomsNumber is 7) [(set: _prep to &quot;in &quot;)(set: $phrase to _prep + $roomAdjective + &quot;Chaplain&#39;s quarters&quot;)]
		(if: $thisRoomsNumber is 8) [(set: _prep to &quot;in &quot;)(set: $roomAdjective to &quot;the cramped &quot;)(set: $phrase to _prep + $roomAdjective + &quot;sick bay&quot;)]
		(if: $thisRoomsNumber is 9) [(set: _prep to &quot;in &quot;)(set: $roomAdjective to &quot; &quot;)(set: $phrase to _prep + $roomAdjective + &quot;cold storage&quot;)]
		(output-data: &quot;&quot;)
		]
		))


(set: $swamp to 
(macro: [	
	(set: _prep to &quot;wading through &quot;)
	(set: $roomAdjective to &quot;some &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;black mud&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;white algae&quot;)]
		(if: $thisRoomsNumber is 2) [(set: _prep to &quot;among &quot;)(set: $phrase to _prep + $roomAdjective + &quot;pink thistles&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;red grass&quot;)]
		(if: $thisRoomsNumber is 4) [(set: _prep to &quot;among &quot;)(set: $phrase to _prep + $roomAdjective + &quot;purple thorn bushes&quot;)]
		(if: $thisRoomsNumber is 5) [(set: _prep to &quot;among &quot;)(set: $phrase to _prep + $roomAdjective + &quot;blueberry bushes&quot;)]
		(if: $thisRoomsNumber is 6) [(set: _prep to &quot;under &quot;)(set: $roomAdjective to &quot;a &quot;)(set: $phrase to _prep + $roomAdjective + &quot;clear blue-green sky&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;green grass&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;yellow grass&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;brown mud&quot;)]
		(output-data: &quot;&quot;)
		]
		))

(set: $battlefield to 
(macro: [	
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a smoky, noisy &quot;)
	($field:)
		(if: $thisRoomsNumber is 2) [(set: $phrase to it + &quot;, where horsed generals decide on their next move&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to it + &quot;, across which deserters are making their escape&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to it + &quot;, in the thick of the fighting&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to it + &quot;, where a priest comforts the dying&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to it + &quot;, amongst the screaming and wounded&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to it + &quot;, amongst the throngs of the glorious dead&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $park to 
(macro: [
	(if: $decadeNumber is 470)[(set: $roomAdjective to &quot;an overgrown &quot;)]
	(set: _prep to &quot;by &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;bed of black shale&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;plot of white flowers&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;bed of pink carnations&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;bed of red poppies&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;display of purple lilacs&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;display of bluebells&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;display of cyan lotus flowers&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;grassy allotment&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;circle of yellow sunflowers&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;brown wooden bench&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $arbor to 
(macro: [
	($park:)
	(set: _prep to &quot;by &quot;)
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;shrine&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;monument and sarcophagus&quot;)]
		(output-data: &quot;&quot;)
		]
		))

(set: $camp to 
(macro: [
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;tent for playing dice&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;tent for putting on armor&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;tent for prisoners&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;tent for the wounded&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;tent for the dead&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $menagerie to 
(macro: [
	($camp:)
	(set: _prep to &quot;by &quot;)
	(set: $roomAdjective to &quot;a &quot;)
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;display of African monkeys&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;display of hanging sloths&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;chained tiger&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;sickly rhinocerous&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;dead elephant&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		

(set: $village to 
(macro: [	
	(set: _prep to &quot;in &quot;)
	(if: $decadeNumber is 690)[(set: $roomAdjective to &quot;an abandoned &quot;)]
	(if: $decadeNumber is 1200)[(set: $roomAdjective to &quot;a flooded &quot;)]
	(if: $decadeNumber is 1250)[(set: $roomAdjective to &quot;an abandoned, looted &quot;)]
	(if: $decadeNumber is 1290)[(set: $roomAdjective to &quot;the blazing remains of a &quot;)]
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;blacksmith&#39;s&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;tavern&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;school&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;brothel&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;market&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;courthouse&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;sheriff&#39;s jailhouse&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;church&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;apothecary&#39;s&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;mortician&#39;s&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $market to 
(macro: [	
	($village:)
	(set: _prep to &quot;at &quot;)
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;beer brewer&#39;s&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;book seller&#39;s&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;dressmaker&#39;s&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;grocer&#39;s&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;armorer&#39;s&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;locksmith&#39;s&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;psychic&#39;s&quot;)]
		(set: $phrase to it + &quot; stall&quot;)
		(output-data: &quot;&quot;)
		]
		))

(set: $slaveMarket to 
(macro: [	
	($market:)
	(set: _prep to &quot;at &quot;)
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;beer brewer&#39;s&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;book seller&#39;s&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;sex slave auction&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;house slave auction&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;gladiator&#39;s auction&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;locksmith&#39;s&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;psychic&#39;s&quot;)]
		(set: $phrase to it + &quot; stall&quot;)
		(output-data: &quot;&quot;)
		]
		))
		
(set: $penalQuarter to 
(macro: [	
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;blacksmith&#39;s&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;witness&#39;s space, for watching the punishments&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;children&#39;s prison&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;women&#39;s prison&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;execution square&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;gaol&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;whipping post&quot;)]
		(output-data: &quot;&quot;)
		]
		))

(set: $hashishQuarter to 
(macro: [
	($village:)
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;hashish grower&#39;s&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;hashish bar&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;grower&#39;s bookshop&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;gang den&quot;)]
		(output-data: &quot;&quot;)
		]
		))

(set: $forest to 
(macro: [	
	(set: _prep to &quot;by &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;gnarly oak&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;rope swing&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;brook&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;tree, around which nymph lights shine&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $roomAdjective to &quot;some&quot;)(set: $phrase to _prep + $roomAdjective + &quot;cliffs&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;mine shaft&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;burned out campfire&quot;)]
		(if: $thisRoomsNumber is 7) [(set: _prep to &quot;in &quot;)(set: $phrase to _prep + $roomAdjective + &quot;sacred grove&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;fallen tree&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;carcass&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $lakeside to 
(macro: [	
	($forest:)
	(set: _prep to &quot;by &quot;)
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;rope swing&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;warning sign&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;nymph&#39;s lagoon&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;boat&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $roomAdjective to &quot;&quot;)(set: $phrase to _prep + $roomAdjective + &quot;marshes&quot;)]
		(if: $thisRoomsNumber is 7) [(set: _prep to &quot;in &quot;)(set: $phrase to _prep + $roomAdjective + &quot;ruined chapel&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;shore of dead fish&quot;)]
		(output-data: &quot;&quot;)
		]
		))

(set: $jungle to 
(macro: [	
	($forest:)
	(set: _prep to &quot;by &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;twisting vine&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;river&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;a golden statue of some naked goddess&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;clearing filled with snakes&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;pit trap&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $mountainside to 
(macro: [	
	($forest:)
	(set: _prep to &quot;by &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;pine tree&quot;)]
		(if: $thisRoomsNumber is 2) [(set: _prep to &quot;at &quot;)(set: $phrase to _prep + $roomAdjective + &quot;plateau with a breathtaking view over the valley below&quot;)]
		(if: $thisRoomsNumber is 3) [(set: _prep to &quot;in &quot;)(set: $phrase to _prep + $roomAdjective + &quot;lair of a mountain hag&quot;)]
		(if: $thisRoomsNumber is 7) [(set: _prep to &quot;near &quot;)(set: $phrase to _prep + $roomAdjective + &quot;high point above the clouds&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;pile of boulders, left from a rockfall&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;carcass&quot;)]
		(output-data: &quot;&quot;)
		]
		))
	
(set: $cemetery to 
(macro: [	
	(set: _prep to &quot;by &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;willow&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;statue&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;mausoleum&quot;)]
		(if: $thisRoomsNumber is 3) [(set: _prep to &quot;on &quot;)(set: $phrase to _prep + $roomAdjective + &quot;unconsecrated ground&quot;)]
		(if: $thisRoomsNumber is 4) [(set: _prep to &quot;in &quot;)(set: $phrase to _prep + $roomAdjective + &quot;gravedigger&#39;s cottage&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;warrior&#39;s cenotaph&quot;)]
		(if: $thisRoomsNumber is 6) [(set: _prep to &quot;in &quot;)(set: $phrase to _prep + $roomAdjective + &quot;charnel&quot;)]
		(if: $thisRoomsNumber is 7) [(set: _prep to &quot;in &quot;)(set: $phrase to _prep + $roomAdjective + &quot;chapel of rest&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;pillaged grave&quot;)]
		(if: $thisRoomsNumber is 9) [(set: _prep to &quot;in &quot;)(set: $phrase to _prep + $roomAdjective + &quot;columbarium&quot;)]
		(output-data: &quot;&quot;)
		]
		))

(set: $barrow to 
(macro: [	
	($cemetery:)
	(set: _prep to &quot;by &quot;)
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;wickerman&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;mound&quot;)]
		(if: $thisRoomsNumber is 3) [(set: _prep to &quot;on &quot;)(set: $phrase to _prep + $roomAdjective + &quot;bitter ground&quot;)]
		(if: $thisRoomsNumber is 4) [(set: _prep to &quot;in &quot;)(set: $phrase to _prep + $roomAdjective + &quot;gravedigger&#39;s hut&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;megalith&quot;)]
		(if: $thisRoomsNumber is 6) [(set: _prep to &quot;in &quot;)(set: $phrase to _prep + $roomAdjective + &quot;charnel&quot;)]
		(if: $thisRoomsNumber is 7) [(set: _prep to &quot;in &quot;)(set: $phrase to _prep + $roomAdjective + &quot;circle of stones&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;pillaged mound&quot;)]
		(if: $thisRoomsNumber is 9) [(set: _prep to &quot;in &quot;)(set: $phrase to _prep + $roomAdjective + &quot;burned down pyre&quot;)]
		(output-data: &quot;&quot;)
		]
		))

(set: $cave to 
(macro: [	
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 0) [(set: _prep to &quot;beneath &quot;)(set: $phrase to _prep + $roomAdjective + &quot;tangle of tree roots&quot;)]
		(if: $thisRoomsNumber is 1) [(set: _prep to &quot;by &quot;)(set: $phrase to _prep + $roomAdjective + &quot;waterfall&quot;)]
		(if: $thisRoomsNumber is 2) [(set: _prep to &quot;by &quot;)(set: $phrase to _prep + $roomAdjective + &quot;rock wall encrusted with crystals&quot;)]
		(if: $thisRoomsNumber is 3) [(set: _prep to &quot;on &quot;)(set: $phrase to _prep + $roomAdjective + &quot;lair of a cave hag&quot;)]
		(if: $thisRoomsNumber is 4) [(set: _prep to &quot;in &quot;)(set: $phrase to _prep + $roomAdjective + &quot;grotto&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;cavern filled with bats&quot;)]
		(if: $thisRoomsNumber is 6) [(set: _prep to &quot;in &quot;)(set: $phrase to _prep + $roomAdjective + &quot;cavern with shackles dangling from the walls&quot;)]
		(if: $thisRoomsNumber is 7) [(set: _prep to &quot;in &quot;)(set: $phrase to _prep + $roomAdjective + &quot;slab of rock, which might be an altar&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;collapsed cavern&quot;)]
		(if: $thisRoomsNumber is 9) [(set: _prep to &quot;by &quot;)(set: $phrase to _prep + $roomAdjective + &quot;deep hole that descends as far as Hades itself&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		

(set: $mine to 
(macro: [	
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 0) [(set: _prep to &quot;amongst &quot;)(set: $phrase to _prep + $roomAdjective + &quot;child laborers&quot;)]
		(if: $thisRoomsNumber is 3) [(set: _prep to &quot;amongst &quot;)(set: $phrase to _prep + $roomAdjective + &quot;female miners&quot;)]
		(if: $thisRoomsNumber is 7) [(set: _prep to &quot;by &quot;)(set: $phrase to _prep + $roomAdjective + &quot;shaft of light&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;collapsed mine face&quot;)]
		(output-data: &quot;&quot;)
		]
		))

(set: $farm to 
(macro: [	
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;vegetable field&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;paddock, where white stallions graze&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;pig pen&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;rooster&#39;s yard&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;farm house&quot;)]
		(if: $thisRoomsNumber is 5) [(set: _prep to &quot;by &quot;)(set: $phrase to _prep + $roomAdjective + &quot;water trough&quot;)]
		(if: $thisRoomsNumber is 6) [(set: _prep to &quot;by &quot;)(set: $phrase to _prep + $roomAdjective + &quot;fox trap&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;grazing pasture&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;field of yellow corn&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;freshly ploughed field&quot;)]
		(output-data: &quot;&quot;)
		]
		))

(set: $building to 
(macro: [	
	(set: _prep to &quot;in &quot;)
		(if: $decadeNumber is 520)[(set: $roomAdjective to &quot;a cavernous &quot;)]
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;mess hall&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;nursery&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;study&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;kitchen&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;lounge&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;safe room&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;courtyard&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;chapel&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;latrine&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;garbage disposal&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $frument to 
(macro: [	
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;chess room&quot;)]
		(if: $thisRoomsNumber is 5) [(set: _prep to &quot;by &quot;)(set: $phrase to _prep + $roomAdjective + &quot;spy holes&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;documents room&quot;)]
		(if: $thisRoomsNumber is 7) [(set: _prep to &quot;by &quot;)(set: $phrase to _prep + $roomAdjective + &quot;prayer mat&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $library to 
(macro: [	
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;the&quot;)
	(if: $decadeNumber is 820)[(set: $roomAdjective to &quot;the flooded &quot;)]
	(if: $decadeNumber is 420)[(set: $roomAdjective to &quot;the ruins of the &quot;)]
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;cosmology section&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;light reading section&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;science section&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;women&#39;s section&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;reading room&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;military section&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;law and penology section&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;religion section&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;book restoration room&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;necromancy section&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $school to 
(macro: [	
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;the &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;neophyte&#39;s quarters&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;chess room&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;study hall&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;women&#39;s quarters&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;scholar&#39;s lounge&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;examination hall&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;cloister&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;chapel&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;remediation hall&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;emeritus chambers&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $crypt to 
(macro: [	
	(set: _prep to &quot;in &quot;)
		(if: $decadeNumber is 390)[(set: $roomAdjective to &quot;a lightly flooded &quot;)]
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;pitch black tomb&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;child&#39;s tomb&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;chamber of steles, inscribed with epitaphs&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;wives&#39; tomb&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;treasury&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;funereal weapons repository&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;skeleton-filled immurement chamber&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;shrine&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;partially collapsed chamber&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;main tomb&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		

		
(set: $surgery to 
(macro: [	
	($building:)
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;medicine closet&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;examination room&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;constraint room&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $jail to 
(macro: [	
	($building:)
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;pitch black cell&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;well lit cell&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;purple cell for distinguished personae&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;cold cell&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;prison yard&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $courthouse to 
(macro: [	
	($jail:)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;the &quot;)
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;accused&#39;s cell&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;counsellor&#39;s library&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;judge&#39;s chambers&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;courtroom&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;scaffold&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $inquisitor to 
(macro: [	
	($jail:)
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;torture chamber&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $palace to 
(macro: [	
	($building:)
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;court room&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;armory&quot;)]
		(output-data: &quot;&quot;)
		]
		))

(set: $barrack to 
(macro: [	
	($building:)
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;dining room&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;mess&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;practice yard&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;dormitory&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;armory&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $castle to 
(macro: [	
	($barrack:)
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;court room&quot;)]
		(output-data: &quot;&quot;)
		]
		))

(set: $church to 
(macro: [	
	($building:)
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;function room&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;choir&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;nave&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;confessional&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;penance cell&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;spire&quot;)]

		(output-data: &quot;&quot;)
		]
		))
		
(set: $monastery to 
(macro: [	
	($church:)
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;cloister&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;workroom&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;chapel&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $vestal to 
(macro: [	
	($monastery:)
	($set: $phrase to it + &quot; in the Atrium Vestiae&quot;)
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;choral chamber in the Atrium Vestiae&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;chamber of the sacred spring in the temple of Vesta&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;sacred flame chamber in the temple of Vesta &quot;)]
		(output-data: &quot;&quot;)
		]
		))

(set: $temple to 
(macro: [	
	($church:)
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;bema&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;forum&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;private prayer room&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;tower&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $mosque to 
(macro: [	
	($church:)
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;function room&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;choir&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;musalla&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;confessional&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;ablution area&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;minaret&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $brothel to 
(macro: [	
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;private lounge&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;boudoir&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;peeping closet&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;backyard&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;bondage room&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;changing room&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;medical room&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $triclinium to 
(macro: [	
	($building:)
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + &quot;a dark, shady &quot; + &quot;private apse&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + &quot;a well lit &quot; + &quot;lover&#39;s apse&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;peeper&#39;s balcony&quot;)]
		(if: $thisRoomsNumber is 5) [(set: _prep to &quot;by &quot;)(set: $phrase to _prep + $roomAdjective + &quot;chaperone&#39;s seat&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;courtyard&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;statue of Venus&quot;)]
		(output-data: &quot;&quot;)
		]
		))
}

		</tw-passagedata><tw-passagedata pid="55" name="Berold of Rouen" tags="" position="168,1919" size="100,100">[&lt;script&gt;CustomScripts.updateBackground(-2);&lt;/script&gt;]
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[&quot;Bonjour,&quot; says the butcher, &quot;I am Berold of Rouen, the only survivor of the wreck of the white ship. But that was a long time ago, when I was much younger. (link: &#39;Shall we cast our minds back to when it happened?&quot;&#39;)[==&quot;The year was 1120. The passengers included King Henry I&#39;s son and heir, William Adelin, Duke of Normandy, as well as the King&#39;s bastard son Richard of Lincoln and his bastard daughter Matilda FitzRoy, Countess of Perche. I was only there to collect debts owed to me by the passengers.&quot;] 

When you are done speaking with the butcher, you may [[go back to exploring the ship-&gt;complex nine]]. 
]</tw-passagedata><tw-passagedata pid="56" name="William Adelin" tags="" position="1996,307" size="100,100">[&lt;script&gt;CustomScripts.updateBackground(-3);&lt;/script&gt;]
(border-color: black) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[
The corpse stirs in its black shroud. It&#39;s eyes flicker open and it speaks. &quot;Who are you stranger?&quot; it asks, &quot;And why do you disturb my peace?&quot; You demand that it reveal its name to you. &quot;I am William Adelin,&quot; the corpse replies, &quot;Heir to Henry I. Wait a minute. I never became King, did I? I was on a ship... I died on the white ship.&quot; Sobbing, the corpse falls back into eternal rest. You may go back to exploring [[the New Temple.-&gt;room 0]].[]
]</tw-passagedata><tw-passagedata pid="57" name="Stephen of Blois" tags="" position="1282,874" size="100,100">[&lt;script&gt;CustomScripts.updateBackground(-4);&lt;/script&gt;]
(border-color: blue) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[&quot;Hail Sir Knight!&quot; you say. &quot;I am no knight,&quot; the blue warrior replies, &quot;I am a King, and this is the year I seized the throne. The crowds of London chanted my name, you know? They recognized Stephen their king. And my younger brother, Henry, Bishop of Winchester, secured the support of the church. By right, then, did I take the throne of England!&quot; If you are satisfied you may go back to exploring [[the Maubergeonne Tower-&gt;room 5]].[]
]</tw-passagedata><tw-passagedata pid="58" name="Stephen&#39;s death" tags="" position="1290,596" size="100,100">[&lt;script&gt;CustomScripts.updateBackground(-5);&lt;/script&gt;]
(set: $Stephen to &quot;dead&quot;)
(border-color: purple) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[
The once mighty King squints at you. &quot;Eustace? My son, is that you? No, no, it can&#39;t be. My heir is dead. And now a Henry replaces me, as I replaced a Henry. I should never have agreed to it, but what was left to fight for, after the death of my beloved Eustace?&quot; 

The old man&#39;s eyes fall shut. He snorts once, mocking the arrogance of mortal kings, and departs. Quietly, you may go back to exploring [[the crusader&#39;s camp-&gt;room 4]].
]</tw-passagedata><tw-passagedata pid="59" name="Treaty of Wallingford" tags="" position="1673,1028" size="100,100">[&lt;script&gt;CustomScripts.updateBackground(-6);&lt;/script&gt;]
(border-color: red) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[
You read the document, which is inked in Latin. It it the Treaty of Wallingford, also known as the Treaty of Winchester or the Treaty of Westminster. It states that the aging Stephen, King, is to keep the throne of England until his death, and that he will be succeeded by Henry FitzEmpress, the Empress Matilda&#39;s son, who will be styled Henry II.

When you are finished reading it you may (if: $Eustace is not &quot;dead&quot;)[[[speak to the ailing nobleman-&gt;Eustace IV]], or] go back to exploring [[the crusader&#39;s camp-&gt;room 3]].
]</tw-passagedata><tw-passagedata pid="60" name="Eustace IV" tags="" position="1803,1026" size="100,100">[&lt;script&gt;CustomScripts.updateBackground(-7);&lt;/script&gt;]
(set: $Eustace to &quot;dead&quot;)
(border-color: red) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[
&quot;I am Eustace IV,&quot; the red nobleman says, &quot;Count of Boulogne and son and heir to the rightful King, Stephen. I die so young... perhaps I am murdered.&quot; You ask him who would want him dead. &quot;Everyone!&quot;, he laughs cynically, before breaking down into a coughing spasm. &quot;The Peterborough Chronicle says I am evil, a man who despoils the land and taxes the people til they bleed. With my death my father will parley for peace and the people will celebrate the end of this vicious anarchy. And most happy of all will be the ruthless usurper Henry Curtmantle. His will be the throne, and his obedient scribes will surely unwrite the history of my murder.&quot; 

With that, the young nobleman dies. You may [[read the document-&gt;Treaty of Wallingford]] that hangs from his loose fingers, or go back to exploring [[the crusader&#39;s camp-&gt;room 3]].
]</tw-passagedata><tw-passagedata pid="61" name="Henry II birth" tags="" position="1913,1026" size="100,100">[&lt;script&gt;CustomScripts.updateBackground(-8);&lt;/script&gt;]
(set: $henrysDragon to &quot;hatched&quot;)
(border-color: red) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[
You pull at the pieces of shell, and the head of a baby red dragon emerges. You know that a dragon hatches whenever a king is born, but here in the year of 1133, which King does this red dragon&#39;s birth commemorate? As you lean in, the dragon speaks its riddle.
&quot;My mother an Empress
Shall be denied her throne
A king and queen I&#39;ll fight
But as king I&#39;ll rule alone
My own queen will desert me
She shares my iron will 
My sons revolt against me
And my best friend I&#39;ll kill
Who am I?&quot; 

After contemplating the dragon&#39;s riddle, you may go back to exploring [[the Maubergeonne Tower-&gt;room 3]].
]</tw-passagedata><tw-passagedata pid="62" name="Becket murdered" tags="" position="2114,310" size="100,100">{[&lt;script&gt;CustomScripts.updateBackground(-11);&lt;/script&gt;]
}
(border-color: black) + (border:&quot;solid&quot;) + (b4r-size:4) + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[&quot;I am Thomas Becket,&quot; the window says, &quot;Best friend to King Henry II. Or so I thought, until he sent his knights here to kill me, on the altar of this very cathedral. It happened in this very year. But what year is it?&quot; 

To your horror, you realize you are blinded. You try to feel your way free, but every direction seems to be blocked. You cannot leave until you answer the question. (link: &#39;You must try to answer.&#39;)[==  

(set: $becketsDeath to (prompt: &quot;What year was Becket murdered?&quot;, &quot;&quot;, &quot;Don&#39;t care&quot;, &quot;Confirm&quot;))

(if: $becketsDeath is &quot;&quot;)[&quot;You will answer,&quot; the window wails, &quot;if you ever want to leave this place.&quot; You have no option but to [[try to answer-&gt;Becket murdered]].] 
(else:) [
(if: $becketsDeath is &quot;1170&quot;) [ [&lt;script&gt;CustomScripts.updateBackground(-9);&lt;/script&gt;]The spell is released, your vision returns, and you are free to go. When you are ready, you may go back to exploring [[Canterbury cathedral-&gt;room 0]].]] (else:) [&quot;You must give me the correct answer,&quot; the window says, &quot;or you will never be permitted to leave!&quot; You have no option but to [[try again-&gt;Becket murdered]].]]</tw-passagedata><tw-passagedata pid="63" name="Untitled Passage 1" tags="" position="1183,314" size="100,100">{(set: $hundredNumber to 0)}
($setImage:)
</tw-passagedata><tw-passagedata pid="64" name="Charlemagnes Death." tags="" position="1448,436" size="100,100">[&lt;script&gt;CustomScripts.updateBackground(-10);&lt;/script&gt;]
(border-color: purple) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{
A steel clad knight hovers in the air above you, wrapped in a purple dragon. &quot;I am Charlemagne,&quot; the voice booms, &quot;Who disturbs the year of my final rest?&quot; The purple dragon uncoils itself from the hovering king and wraps itself around the clearing, closing off every exit. &quot;If you wish to leave,&quot; the dragon roars, (link: &#39;&quot;you must state the year in which my master dies.&quot;&#39;)[==(set: $charlemagnesDeath to (prompt: &quot;What year did Charlemagne die?&quot;, &quot;&quot;, &quot;Stay silent&quot;, &quot;Confirm&quot;)) 

(if: $charlemagnesDeath is &quot;814&quot;) [&quot;That answer is correct,&quot; the purple dragon hisses, unslithering itself from around the clearing. You are free to go back to exploring [[the swimming wood.-&gt;room 4]].]
(else:)[&quot;You will answer correctly or die,&quot; the dragon roars. You have no choice but to [[try again-&gt;Charlemagnes Death.]]]
}]</tw-passagedata><tw-passagedata pid="65" name="environ assignment" tags="startup start-up" position="185,805" size="100,100">{

		
(set: $roomAdjective to &quot;a &quot;)
(set: $houses to (a:140,1840))
(set: $forests to (a:400,500,860,900,1100,1320,1490))
(set: $jungles to (a:1400))
(set: $mountainsides to (a: 920,1270))
(set: $villages to (a: 260,580,660,690,1200,1210,1230,1250,1260,1290,1340,1390,1420,1440))
(set: $hashishQuarters to (a:610))
(set: $penalQuarters to (a: 680))
(set: $markets to (a:640))
(set: $mushrooms to (a:0))
(set: $slaveMarkets to (a:160,760))
(set: $churches to (a: 70,380,770,870,970,1000,1010,1020,1030,1040,1060,1070,1080,1170,1370,1470))
(set: $camps to (a:210,410,510,960,990,1110,1140,1150,1240,1330,1430))
(set: $swamps to (a:800,810,880,890))
(set: $parks to (a: 100,200,370,470))
(set: $arbors to (a:1090))
(set: $caves to (a: 560))
(set: $cemeteries to (a: 190,290))
(set: $barrows to (a:590))
(set: $battlefields to (a: 350,550,1350,1450))
(set: $farms to (a:300,600,1300)) 
(set: $buildings to (a:40,80,240,340,440,520,730,830,940,1220,1360))
(set: $temples to (a:170,270,430))
(set: $mosques to (a:670))
(set: $monasteries to (a:930,1030))
(set: $vestals to (a:130))

(set: $brothels to (a:230))
(set: $palaces to (a:570,630,740,850,1130,1310))
(set: $barracks to (a: 120,150,250,750,1050,1120))
(set: $castles to (a:540,650,840,1180))
(set: $jails to (a:60,460,1160,1460))
(set: $inquisitors to (a:1480))
(set: $surgeries to (a:180,280,480,780,980,1380))
(set: $crypts to (a:90,390,490,790))
(set: $libraries to (a:420,620,720,820))
(set: $schools to (a:220,320))
(set: $courthouses to (a:950))
(set: $lakesides to (a:530))
(set: $armories to (a: 50,450))
(set: $ships to (a: 1190,1280))
(set: $hypogea to (a:10))
(set: $menageries to (a:700))
(set: $arenas to (a:110,310,910,1110,1410))
(set: $fruments to (a:20))
(set: $breweries to (a:30))
(set: $triclinia to (a:330))
(set: $mines to(a:360))
(set: $plaguePits to(a:490))

	

}

		</tw-passagedata><tw-passagedata pid="66" name="environ database" tags="" position="311,801" size="100,100">{

		
(set: $arbor to 
(macro: [
	(set: $architecture to &quot;hilly&quot;)
	(set: $roomAdjective to &quot;a &quot;)
	(set: _prep to &quot;by &quot;)
	($park:)
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;shrine&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;monument and sarcophagus&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))


(set: $arena to 
(macro: [	
	(set: $architecture to &quot;flat&quot;)
	(set: _prep to &quot;at &quot;)
	(set: $roomAdjective to &quot;the &quot;)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;beginner&#39;s competition area&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;practice area&quot;)]
		(if: $roomNumber is 2) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;squire&#39;s tent&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;ladies&#39; pavilion&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;competitor&#39;s tent&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;arena&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;sin bin&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;prayer tent&quot;)]
		(if: $roomNumber is 8) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;injury tent&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;morgue&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
(set: $armory to 
(macro: [	
	(set: $architecture to &quot;castle&quot;)
	(set: $roomAdjective to &quot;a &quot;)
	(set: _prep to &quot;in &quot;)
	(if: $decadeNumber is 400)[(set: $roomAdjective to &quot;a looted &quot;)]
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;dormitory&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;practice yard&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;military library&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;heraldry room&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;armor and light weaponry magazine&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;heavy weaponry magazine&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;brig&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;prayer room&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;repair shop&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;decommissioning room&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
	
(set: $barrack to 
(macro: [	
	(set: $architecture to &quot;castle&quot;)
	(set: $roomAdjective to &quot;a &quot;)
	(set: _prep to &quot;in &quot;)
	($building:)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;granary&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;mess&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;map room&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;dormitory&quot;)]
		(if: $roomNumber is 5) [(set: $roomAdjective to &quot;an &quot;)(set: $roomNoun to &quot;armory&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;morgue&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))

(set: $barrow to 
(macro: [	
	(set: $architecture to &quot;crypt&quot;)
	(set: $roomAdjective to &quot;a &quot;)
	(set: _prep to &quot;by &quot;)
	($cemetery:)
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;wickerman&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;mound&quot;)]
		(if: $roomNumber is 3) [(set: _prep to &quot;on &quot;)(set: $roomNoun to &quot;bitter ground&quot;)]
		(if: $roomNumber is 4) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;gravedigger&#39;s hut&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;megalith&quot;)]
		(if: $roomNumber is 6) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;charnel&quot;)]
		(if: $roomNumber is 7) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;circle of stones&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;pillaged mound&quot;)]
		(if: $roomNumber is 9) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;burned down pyre&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))


(set: $battlefield to 
(macro: [	
	(set: $architecture to &quot;flat&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a smoky, noisy &quot;)
	($field:)
		(if: $roomNumber is 2) [(set: $phrase to it + &quot;, where horsed generals decide on their next move&quot;)]
		(if: $roomNumber is 3) [(set: $phrase to it + &quot;, across which deserters are making their escape&quot;)]
		(if: $roomNumber is 5) [(set: $phrase to it + &quot;, in the thick of the fighting&quot;)]
		(if: $roomNumber is 7) [(set: $phrase to it + &quot;, where a priest comforts the dying&quot;)]
		(if: $roomNumber is 8) [(set: $phrase to it + &quot;, amongst the screaming and wounded&quot;)]
		(if: $roomNumber is 9) [(set: $phrase to it + &quot;, amongst the throngs of the glorious dead&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
(set: $brewery to 
(macro: [	
	(set: $architecture to &quot;house&quot;)
	(set: _prep to &quot;by &quot;)
	(set: $roomAdjective to &quot;the &quot;)
	($building:)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;stills&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;wine barrels&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;beer barrels&quot;)]
		(if: $roomNumber is 6) [(set: _prep to &quot;amongst &quot;)(set: $roomNoun to &quot;secret brew&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;slop bucket&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))

(set: $brothel to 
(macro: [	
	(set: $architecture to &quot;house&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;private lounge&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;boudoir&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;peeping closet&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;backyard&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;bondage room&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;changing room&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;medical room&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))

(set: $building to 
(macro: [	
	(set: $architecture to &quot;house&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
		(if: $decadeNumber is 520)[(set: $roomAdjective to &quot;a cavernous &quot;)]
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;mess hall&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;nursery&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;study&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;kitchen&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;lounge&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;weapons closet&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;courtyard&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;chapel&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;latrine&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;garbage disposal&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))

(set: $camp to 
(macro: [
	(set: $architecture to &quot;flat&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;tent for playing dice&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;tent for putting on armor&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;tent for prisoners&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;tent for the wounded&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;tent for the dead&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
(set: $castle to 
(macro: [	
	(set: $architecture to &quot;castle&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($barrack:)
	(if: $roomNumber is 2) [(set: $roomNoun to &quot;book room&quot;)]
	(if: $roomNumber is 8) [(set: $roomNoun to &quot;ruined sick hall&quot;)]
	(set: $phrase to _prep + $roomAdjective + $roomNoun)
	(output-data: &quot;&quot;)
		]
		))
		
(set: $cave to 
(macro: [	
	(set: $architecture to &quot;pit&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
		(if: $roomNumber is 0) [(set: _prep to &quot;beneath &quot;)(set: $roomNoun to &quot;tangle of tree roots&quot;)]
		(if: $roomNumber is 1) [(set: _prep to &quot;by &quot;)(set: $roomNoun to &quot;waterfall&quot;)]
		(if: $roomNumber is 2) [(set: _prep to &quot;by &quot;)(set: $roomNoun to &quot;rock wall encrusted with crystals&quot;)]
		(if: $roomNumber is 3) [(set: _prep to &quot;on &quot;)(set: $roomNoun to &quot;lair of a cave hag&quot;)]
		(if: $roomNumber is 4) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;grotto&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;cavern filled with bats&quot;)]
		(if: $roomNumber is 6) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;cavern with shackles dangling from the walls&quot;)]
		(if: $roomNumber is 7) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;slab of rock, which might be an altar&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;collapsed cavern&quot;)]
		(if: $roomNumber is 9) [(set: _prep to &quot;by &quot;)(set: $roomNoun to &quot;pile of human bones&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
(set: $cemetery to 
(macro: [	
	(set: $architecture to &quot;flat&quot;)
	(set: _prep to &quot;by &quot;)
	(set: $roomAdjective to &quot;a &quot;)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;willow&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;statue&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;mausoleum&quot;)]
		(if: $roomNumber is 3) [(set: _prep to &quot;on &quot;)(set: $roomNoun to &quot;unconsecrated ground&quot;)]
		(if: $roomNumber is 4) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;gravedigger&#39;s cottage&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;warrior&#39;s cenotaph&quot;)]
		(if: $roomNumber is 6) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;charnel&quot;)]
		(if: $roomNumber is 7) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;chapel of rest&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;pillaged grave&quot;)]
		(if: $roomNumber is 9) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;columbarium&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))

		
(set: $church to 
(macro: [	
	(set: $architecture to &quot;church&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($building:)
		(if: $roomNumber is 0) [(set: _prep to &quot;by &quot;)(set: $roomAdjective to &quot;an onyx &quot;)(set: $roomNoun to &quot;font&quot;)]
		(if: $roomNumber is 1) [(set: $roomAdjective to &quot;an &quot;)(set: $roomNoun to &quot;altarboys&#39; choir&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;nave&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;confessional&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;penance cell&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;spire&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
(set: $courthouse to 
(macro: [	
	(set: $architecture to &quot;house&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;the &quot;)
	($jail:)
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;accused&#39;s cell&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;counsellor&#39;s library&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;judge&#39;s chambers&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;courtroom&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;scaffold&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
(set: $crypt to 
(macro: [	
	(set: $architecture to &quot;crypt&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
		(if: $decadeNumber is 390)[(set: $roomAdjective to &quot;a lightly flooded &quot;)]
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;pitch black tomb&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;child&#39;s tomb&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;chamber of steles, inscribed with epitaphs&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;wives&#39; tomb&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;treasury&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;funereal weapons repository&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;skeleton-filled immurement chamber&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;shrine&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;partially collapsed chamber&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;main tomb&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))	
		
(set: $farm to 
(macro: [	
	(set: $architecture to &quot;flat&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;vegetable field&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;paddock, where white stallions graze&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;pig pen&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;rooster&#39;s yard&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;farm house&quot;)]
		(if: $roomNumber is 5) [(set: _prep to &quot;by &quot;)(set: $roomNoun to &quot;water trough&quot;)]
		(if: $roomNumber is 6) [(set: _prep to &quot;by &quot;)(set: $roomNoun to &quot;fox trap&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;grazing pasture&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;field of yellow corn&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;freshly ploughed field&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))

(set: $field to 
(macro: [	
	(set: $architecture to &quot;flat&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;blackened, burned field&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;meadow of white flowers&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;pasture of pink carnations&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;red poppy field&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;field of purple lilacs&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;bluebell field&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;field of cyan lotus flowers&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;meadow of green grass&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;yellow field of wheat&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;muddy field&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
(set: $forest to 
(macro: [	
	(set: $architecture to &quot;hilly&quot;)
	(set: _prep to &quot;by &quot;)
	(set: $roomAdjective to &quot;a &quot;)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;gnarly oak&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;rope swing&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;brook&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;tree, around which nymph lights shine&quot;)]
		(if: $roomNumber is 4) [(set: $roomAdjective to &quot;some&quot;)(set: $roomNoun to &quot;cliffs&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;mine shaft&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;burned out campfire&quot;)]
		(if: $roomNumber is 7) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;sacred grove&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;fallen tree&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;carcass&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
(set: $frument to 
(macro: [	
	(set: $architecture to &quot;crypt&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;chess room&quot;)]
		(if: $roomNumber is 5) [(set: _prep to &quot;by &quot;)(set: $roomNoun to &quot;spy holes&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;documents room&quot;)]
		(if: $roomNumber is 7) [(set: _prep to &quot;by &quot;)(set: $roomNoun to &quot;prayer mat&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))

(set: $hashishQuarter to 
(macro: [	
	(set: $architecture to &quot;city&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($village:)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;hashish grower&#39;s&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;hashish bar&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;grower&#39;s bookshop&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;gang den&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))

(set: $house to 
(macro: [
	(set: $architecture to &quot;house&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($building:)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;dining room&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;gun closet&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;conservatory&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;prayer room&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;bathroom&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;remembrance room&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
(set: $hypogeum to 
(macro: [	
	(set: $architecture to &quot;flat&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;the &quot;)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;winch room&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;chamber of the balatrones&quot;)]
		(if: $roomNumber is 2) [(set: $roomAdjective to &quot;the &quot;)(set: $roomNoun to &quot;chamber of the master of ceremonies&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;chamber of the Pantomimi&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;basement area&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;gladiator&#39;s chamber&quot;)]
		(if: $roomNumber is 6) [(set: _prep to &quot;amongst &quot;)(set: $roomNoun to &quot;caged beasts&quot;)]
		(if: $roomNumber is 7) [(set: _prep to &quot;amongst &quot;)(set: $roomNoun to &quot;shackled Christians&quot;)]
		(if: $roomNumber is 8) [(set: _prep to &quot;amongst &quot;)(set: $roomNoun to &quot;wounded gladiators&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;morgue&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		

(set: $inquisitor to 
(macro: [	
	(set: $architecture to &quot;castle&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($jail:)
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;torture chamber&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))

(set: $jail to 
(macro: [	
	(set: $architecture to &quot;castle&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($building:)
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;pitch black cell&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;well lit cell&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;purple cell for distinguished personae&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;cold cell&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;prison yard&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))	


(set: $jungle to 
(macro: [	
	(set: $architecture to &quot;hilly&quot;)
	(set: _prep to &quot;by &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($forest:)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;twisting vine&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;river&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;a golden statue of some naked goddess&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;clearing filled with snakes&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;pit trap&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
(set: $lakeside to 
(macro: [	
	(set: $architecture to &quot;flat&quot;)
	(set: _prep to &quot;by &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($forest:)
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;rope swing&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;warning sign&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;nymph&#39;s lagoon&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;boat&quot;)]
		(if: $roomNumber is 5) [(set: $roomAdjective to &quot;&quot;)(set: $roomNoun to &quot;marshes&quot;)]
		(if: $roomNumber is 7) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;ruined chapel&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;shore of dead fish&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))

(set: $library to 
(macro: [	
	(set: $architecture to &quot;mansion&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;the&quot;)
	(if: $decadeNumber is 820)[(set: $roomAdjective to &quot;the flooded &quot;)]
	(if: $decadeNumber is 420)[(set: $roomAdjective to &quot;the ruins of the &quot;)]
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;cosmology section&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;light reading section&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;science section&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;women&#39;s section&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;reading room&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;military section&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;law and penology section&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;religion section&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;book restoration room&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;necromancy section&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
	
			
(set: $market to 
(macro: [
	(set: $architecture to &quot;city&quot;)
	(set: _prep to &quot;at &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($village:)
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;beer brewer&#39;s&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;book seller&#39;s&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;dressmaker&#39;s&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;grocer&#39;s&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;armorer&#39;s&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;locksmith&#39;s&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;psychic&#39;s&quot;)]
		(set: $phrase to it + &quot; stall&quot;)
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
(set: $menagerie to 
(macro: [
	(set: $architecture to &quot;flat&quot;)
	(set: _prep to &quot;by &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($camp:)
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;display of African monkeys&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;display of hanging sloths&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;chained tiger&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;sickly rhinocerous&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;dead elephant&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
(set: $mine to 
(macro: [	
	(set: $architecture to &quot;pit&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($cave:)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;dark pit&quot;)]
		(if: $roomNumber is 1) [(set: _prep to &quot;at &quot;)(set: $roomNoun to &quot;a mine cart roller coaster&quot;)]		
		(if: $roomNumber is 2) [(set: _prep to &quot;at &quot;)(set: $roomNoun to &quot;a geologist&#39;s cubby&quot;)]
		(if: $roomNumber is 3) [(set: _prep to &quot;at &quot;)(set: $roomNoun to &quot;diamond face&quot;)]
		(if: $roomNumber is 4) [(set: _prep to &quot;by &quot;)(set: $roomNoun to &quot;bucket hoist&quot;)]
		(if: $roomNumber is 5) [(set: _prep to &quot;near &quot;)(set: $roomAdj to &quot;some&quot;)(set: $roomNoun to &quot;explosives&quot;)]
		(if: $roomNumber is 6) [(set: _prep to &quot;by &quot;)(set: $roomNoun to &quot;cramped seam&quot;)]
		(if: $roomNumber is 7) [(set: _prep to &quot;by &quot;)(set: $roomNoun to &quot;shaft of light&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;collapsed mine face&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
(set: $monastery to 
(macro: [	
	(set: $architecture to &quot;house&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($church:)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;cloister&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;workroom&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;chapel&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
	
(set: $mountainside to 
(macro: [	
	(set: $architecture to &quot;mountainside&quot;)
	(set: _prep to &quot;by &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($forest:)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;pine tree&quot;)]
		(if: $roomNumber is 2) [(set: _prep to &quot;at &quot;)(set: $roomNoun to &quot;plateau with a breathtaking view over the valley below&quot;)]
		(if: $roomNumber is 3) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;lair of a mountain hag&quot;)]
		(if: $roomNumber is 7) [(set: _prep to &quot;near &quot;)(set: $roomNoun to &quot;high point above the clouds&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;pile of boulders, left from a rockfall&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;carcass&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
	

(set: $mosque to 
(macro: [	
	(set: $architecture to &quot;church&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($church:)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;function room&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;choir&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;musalla&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;confessional&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;ablution area&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;minaret&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))	
		

(set: $mushroom to 
(macro: [
	(set: $architecture to &quot;hilly&quot;)
	(set: $roomNoun to (either: &quot;toadstools&quot;,&quot;toadstools&quot;,&quot;toadstools&quot;,&quot;fairy rings&quot;))
	(set: _prep to &quot;by &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	(set: $mushroomAdj to (either: &quot;, fruiting &quot;, &quot;, gilled &quot;,&quot;, umbrellaed  &quot;,&quot; stemmed &quot;, &quot;, fleshy &quot;,&quot;, long-stemmed &quot;,&quot;, thin-stemmed &quot;,&quot;, wide-hatted &quot;,&quot; dotted &quot;,&quot; speckled &quot;, &quot;, wispy &quot;, &quot;, tabular &quot;))
		(if: $roomNumber is 0) [(set: $roomAdjective to &quot;a bed of black&quot; + $mushroomAdj)(set:$roomNoun to &quot;deathcaps&quot;)]
		(if: $roomNumber is 1) [(set: $roomAdjective to &quot;a plot of white&quot; + $mushroomAdj)(set: $roomNoun to &quot;portobellos&quot;)]
		(if: $roomNumber is 2) [(set: $roomAdjective to &quot;a bed of pink&quot; + $mushroomAdj)]
		(if: $roomNumber is 3) [(set: $roomAdjective to &quot;a bed of red&quot; + $mushroomAdj)]
		(if: $roomNumber is 4) [(set: $roomAdjective to &quot;a display of purple&quot; + $mushroomAdj)]
		(if: $roomNumber is 5) [(set: $roomAdjective to &quot;a display of blue&quot; + $mushroomAdj)]
		(if: $roomNumber is 6) [(set: $roomAdjective to &quot;a display of turquoise&quot; + $mushroomAdj)]
		(if: $roomNumber is 7) [(set: $roomAdjective to &quot;a grassy &quot;)(set: $roomNoun to &quot;fungus patch&quot;)]
		(if: $roomNumber is 8) [(set: $roomAdjective to &quot;a circle of yellow&quot; + $mushroomAdj)(set: $roomNoun to &quot;creminis&quot;)]
		(if: $roomNumber is 9) [(set: $roomAdjective to &quot;a brown &quot;)(set: $roomNoun to &quot;wooden bench&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
	
(set: $palace to 
(macro: [	
	(set: $architecture to &quot;castle&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($castle:)
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;audience chamber&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;armory&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
	
(set: $park to 
(macro: [
	(set: $architecture to &quot;hilly&quot;)
	(if: $decadeNumber is 470)[(set: $roomAdjective to &quot;an overgrown &quot;)]
	(set: _prep to &quot;by &quot;)
	(set: $roomAdjective to &quot;a &quot;)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;bed of black shale&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;plot of white flowers&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;bed of pink carnations&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;bed of red poppies&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;display of purple lilacs&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;display of bluebells&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;display of cyan lotus flowers&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;grassy allotment&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;circle of yellow sunflowers&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;brown wooden bench&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		

(set: $penalQuarter to 
(macro: [	
	(set: $architecture to &quot;city&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;blacksmith&#39;s&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;witness&#39;s space, for watching the punishments&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;children&#39;s prison&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;women&#39;s prison&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;execution square&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;gaol&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;whipping post&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
(set: $plaguePit to 
(macro: [	
	(set: $architecture to &quot;pit&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
		(if: $roomNumber is 0) [(set: _prep to &quot;within &quot;)(set: $roomAdjective to &quot;&quot;)(set: $roomNoun to &quot;walls of fungus covered corpses&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;buried play-park&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;buried school for children&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;chamber of dead nuns&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;buried market&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;chamber of dead soldiers&quot;)]
		(if: $roomNumber is 6) [(set: $phrase to _prep + &quot;subterranean, walled-up&quot; + &quot;street&quot;)]
		(if: $roomNumber is 7) [(set: $phrase to _prep + &quot;collapsed, subterranean&quot; + &quot;chapel&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;chamber of partial bodies&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;repository for random bones and partial human remains&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		


		
		
(set: $school to 
(macro: [	
	(set: $architecture to &quot;castle&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;the &quot;)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;neophyte&#39;s quarters&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;chess room&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;study hall&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;women&#39;s quarters&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;scholar&#39;s lounge&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;examination hall&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;cloister&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;chapel&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;remediation hall&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;emeritus chambers&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		

(set: $ship to 
(macro: [	
	(set: $architecture to &quot;boat&quot;)
	(set: _prep to &quot;on &quot;)
	(set: $roomAdjective to &quot;the &quot;)
		(if: $roomNumber is 0) [(set: _prep to &quot;below &quot;)(set: $roomAdjective to &quot; &quot;)(set: $roomNoun to &quot;deck&quot;)]
		(if: $roomNumber is 1) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;crow&#39;s nest&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;navigation deck&quot;)]
		(if: $roomNumber is 3) [(set: _prep to &quot;at &quot;)(set: $roomNoun to &quot;mast head&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;cabin&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;magazine&quot;)]
		(if: $roomNumber is 6) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;brig&quot;)]
		(if: $roomNumber is 7) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;Chaplain&#39;s cabin&quot;)]
		(if: $roomNumber is 8) [(set: _prep to &quot;in &quot;)(set: $roomAdjective to &quot;the cramped &quot;)(set: $roomNoun to &quot;sick bay&quot;)]
		(if: $roomNumber is 9) [(set: _prep to &quot;in &quot;)(set: $roomAdjective to &quot; &quot;)(set: $roomNoun to &quot;salted storage&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))

		
(set: $slaveMarket to 
(macro: [	
	(set: $architecture to &quot;city&quot;)
	(set: _prep to &quot;at &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($market:)
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;beer brewer&#39;s&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;book seller&#39;s&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;sex slave auction&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;house slave auction&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;gladiator&#39;s auction&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;locksmith&#39;s&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;psychic&#39;s&quot;)]
		(set: $phrase to it + &quot; stall&quot;)
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))	

(set: $surgery to 
(macro: [	
	(set: $architecture to &quot;house&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($building:)
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;medicine closet&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;examination room&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;triage room&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))

(set: $swamp to 
(macro: [	
	(set: $architecture to &quot;flat&quot;)
	(set: _prep to &quot;wading through &quot;)
	(set: $roomAdjective to &quot;&quot;)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;black mud&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;white algae&quot;)]
		(if: $roomNumber is 2) [(set: _prep to &quot;among &quot;)(set: $roomNoun to &quot;pink thistles&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;red grass&quot;)]
		(if: $roomNumber is 4) [(set: _prep to &quot;among &quot;)(set: $roomNoun to &quot;purple thorn berries&quot;)]
		(if: $roomNumber is 5) [(set: _prep to &quot;among &quot;)(set: $roomNoun to &quot;blueberry bushes&quot;)]
		(if: $roomNumber is 6) [(set: _prep to &quot;under &quot;)(set: $roomAdjective to &quot;a &quot;)(set: $roomNoun to &quot;clear blue-green sky&quot;)]
		(if: $roomNumber is 7) [(set: _prep to &quot;walking through &quot;) (set: $roomNoun to &quot;long green grass&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;yellow grass&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;brown mud&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))		
		
(set: $temple to 
(macro: [	
	(set: $architecture to &quot;church&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($church:)
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;bema&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;forum&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;private prayer room&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;tower&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
(set: $triclinium to 
(macro: [	
	(set: $architecture to &quot;hilly&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($building:)
		(if: $roomNumber is 0) [(set: $phrase to _prep + &quot;a dark, shady &quot; + &quot;private apse&quot;)]
		(if: $roomNumber is 1) [(set: $phrase to _prep + &quot;a well lit &quot; + &quot;lover&#39;s apse&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;peeper&#39;s balcony&quot;)]
		(if: $roomNumber is 5) [(set: _prep to &quot;by &quot;)(set: $roomNoun to &quot;chaperone&#39;s seat&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;courtyard&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;statue of Venus&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
(set: $vestal to 
(macro: [	
	(set: $architecture to &quot;church&quot;)
	($set: $phrase to it + &quot; in the Atrium Vestiae&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($monastery:)
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;choral chamber in the Atrium Vestiae&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;chamber of the sacred spring in the temple of Vesta&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;sacred flame chamber in the temple of Vesta &quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))		
	

(set: $village to 
(macro: [	
	(set: $architecture to &quot;city&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	(if: $decadeNumber is 690)[(set: $roomAdjective to &quot;an abandoned &quot;)]
	(if: $decadeNumber is 1200)[(set: $roomAdjective to &quot;a flooded &quot;)]
	(if: $decadeNumber is 1250)[(set: $roomAdjective to &quot;an abandoned, looted &quot;)]
	(if: $decadeNumber is 1290)[(set: $roomAdjective to &quot;the blazing remains of a &quot;)]
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;blacksmith&#39;s&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;tavern&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;school&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;brothel&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;market&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;courthouse&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;sheriff&#39;s jailhouse&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;church&quot;)]
		(if: $roomNumber is 8) [(set: $roomAdjective to &quot;an&quot;)(set: $roomNoun to &quot;apothecary&#39;s&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;mortician&#39;s&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
}</tw-passagedata><tw-passagedata pid="67" name="set images" tags="startup start-up" position="471,796" size="100,100">(set: $setImage to 
(macro: [	
	(set: $imageRef to (str: $hundredNumber + $decadeNum + $imageType))
	(set: $imgScript to &quot;&lt;script&gt;CustomScripts.updateBackground(&quot; + $imageRef +&quot;);&lt;/script&gt;&quot;)
		(output-data: $imgScript)
		]
		))
		

</tw-passagedata><tw-passagedata pid="68" name="Direction Functions 2" tags="startup" position="186,676" size="100,100">{

&lt;!-- the calling functions from each complex entry point are setAdjustableDirections and fixOptionalPaths--&gt;

&lt;!-- There are eight screen directions, with a variable for each: upOnScreen, downOnScreen, rightOnScreen and leftOnScreen, which correspond to directions in the complex map, and rightOnNexusMap, downOnNexusMap, upOnNexusMap and leftOnNexusMap, which correspond to directions in the main nexus. We have two sets of variables in order to permit the values to differ between the central nexus and the complexes, while still being able to coordinate the transition.--&gt; 

&lt;!-- the screen directions usually take string values from the set &lt;&quot;north&quot;, &quot;east&quot;, &quot;south&quot;, &quot;west&quot;&gt; but can occasionally take &#39;northeast&quot;, &quot;northwest&#39;, &#39;southeast&#39;, &quot;southwest&#39;, &quot;up&quot;, &quot;down&quot;, &quot;up and to the ...&quot; (north, east, south, west) or &quot;down and to the ... &#39;(north south east or west).--&gt; 

&lt;!-- Normally, directions other than north south east and west are handled by Exception variables, upOnScreen2, downOnScreen2, leftOnScreen2 and rightOnScreen2. Strictly speaking, the rule is merely that the standard screen directions take the opposite kind of value to the exception variables. So if the latter take the standard compass point directions then the former will take some unusual directions. This is permitted because, for some architectures, we want the usual directions to be exceptions. E.g. in a tower we want &quot;up&quot; to be more common than &quot;north&quot;. --&gt; 

&lt;!-- setAdjustableDirections decides, based on the flatness variable, what the rough geometry of the complex will be. This mainly means deciding how much verticality there is. --&gt;
&lt;!-- Settings: 
	Flat: May flips/rotate NSEW but no slopes or vertical directions
	Hilly: As Flat, no vertical, but may have occasional slopes. 
	2storey: Max 2 storeys with occasional slopes and vertical moves.
	noSlopes: As flat with vertical but no slopes. 
	wall: As flat but rotated around left/right axis = 3 storey depth 1.  
	castle: As noSlopes, but rotated around left/right axis on screen
	tower: As noSlopes, but rotated around up/down axis on screen
	pit: as tower but with entry point placed at top. 
	crypt: as castle but with entry point placed at top. 
--&gt;

(set: $setAdjustableDirections to 
(macro: [
	($initializeDirections:) 
	($setFlatVariables:)
	(if: $flatness is &quot;hilly&quot;)[($setHillyVariables:)]
	(if: $flatness is &quot;2storey&quot;)[($set3Dvariables:)]
	(if: $flatness is &quot;wall&quot;)[($setWallVariables:)]
	(if: $flatness is &quot;towery&quot;)[($setTowerVariables:)]
	(output-data:&quot;&quot;)
	]
	))
	
	
&lt;!-- northVariable is the direction up on the screen diagram, eastVariable is to the right on the screen, etc. But northVariable can take values other than north. To begin with, however, we map all diagram directions, including the exception variables, onto the intuitive compass points.
--&gt;
(set: $initializeDirections to 
(macro: [
	(set: $upOnScreen to &quot;north&quot;)
	(set: $downOnScreen to &quot;south&quot;)
	(set: $rightOnScreen to &quot;east&quot;)
	(set: $leftOnScreen to &quot;west&quot;)
	(set: $upOnScreen2 to &quot;north&quot;)
	(set: $downOnScreen2 to &quot;south&quot;)
	(set: $rightOnScreen2 to &quot;east&quot;)
	(set: $leftOnScreen2 to &quot;west&quot;)
	(output-data:&quot;&quot;)
	]
	))

&lt;!-- OPERATIONS 1: ROTATIONS, FLIPS --&gt;

&lt;!-- The following reassigns each screen direction variable to the value previously held by its clockwise orthogonal.--&gt;

(set: $rotate90CW to 
(macro: [
	(set: _n to $upOnScreen)
	(set: _e to $rightOnScreen)
	(set: _s to $downOnScreen)
	(set: _w to $leftOnScreen)
	(set: $upOnScreen to _e)
	(set: $rightOnScreen to _s)
	(set: $downOnScreen to _w)
	(set: $leftOnScreen to _n)
	(output-data: &quot;&quot;)
	]))

&lt;!-- The following rotates the map around the LR axis, i.e. up on the screen comes to represent vertical up (rather than north).--&gt;

(set: $rotate90aroundLR to 
(macro: [
	(set: $upOnScreen to &quot;up&quot;)
	(set: $downOnScreen to &quot;down&quot;)
	(set: $upOnScreen2 to ($rotateAroundLR: $upOnScreen2))
	(set: $downOnScreen2 to ($rotateAroundLR: $downOnScreen2))
	(output-data: &quot;&quot;)
	]))

&lt;!-- The following rotates the map around the UD axis, i.e. left on the screen comes to represent vertical up (rather than west).--&gt;

(set: $rotate90aroundUD to 
(macro: [
	(set: $leftOnScreen to &quot;up&quot;)
	(set: $rightOnScreen to &quot;down&quot;)
	(set: $leftOnScreen2 to ($rotateAroundUD: $leftOnScreen2))
	(set: $rightOnScreen2 to ($rotateAroundUD: $rightOnScreen2))
	(output-data: &quot;&quot;)
	]))

&lt;!-- The following rotates a particular value by 90 degrees around LR. Useful for the exception directions, whose prior value may or may not already be vertical .--&gt;

(set: $rotateAroundLR to 
(macro: str-type _direction, [
	(if: _direction is &quot;down&quot;)[(output-data: &quot;north&quot;)]
	(if: _direction is &quot;north&quot;)[(output-data: &quot;up&quot;)]
	(if: _direction is &quot;up&quot;)[(output-data: &quot;south&quot;)]
	(if: _direction is &quot;south&quot;)[(output-data: &quot;down&quot;)]
	(output-data: &quot;&quot;)
	]))

&lt;!-- The following rotates a particular value by 90 degrees around UD. Useful for the exception directions, whose prior value may or may not already be vertical .--&gt;

(set: $rotateAroundUD to 
(macro: str-type _direction, [
	(if: _direction is &quot;up&quot;)[(output-data: &quot;east&quot;)]
	(if: _direction is &quot;east&quot;)[(output-data: &quot;down&quot;)]
	(if: _direction is &quot;down&quot;)[(output-data: &quot;west&quot;)]
	(if: _direction is &quot;west&quot;)[(output-data: &quot;up&quot;)]
	(output-data: &quot;&quot;)
	]))

&lt;!-- Flips the assignment of compass points to the map left to right.--&gt;

(set: $flipLR to
(macro: [
	(set: _e to $leftOnScreen)
	(set: _w to $rightOnScreen)
	(set: $leftOnScreen to _w)
	(set: $rightOnScreen to _e)
	(output-data: &quot;&quot;)
	]))

&lt;!-- Flips the assignment of compass points to the map up to down.--&gt;

(set: $flipUD to
(macro: [
	(set: _e to $upOnScreen)
	(set: _w to $downOnScreen)
	(set: $upOnScreen to _w)
	(set: $downOnScreen to _e)
	(output-data: &quot;&quot;)
	]))

&lt;!-- OPERATIONS 2: FLIPPING/ROTATING START ROOMS--&gt;

&lt;!--The following functions are called by architecture functions to flip/rotate the startRoom along with the map.--&gt;

(set: $flipStartRoomLR to
(macro: str-type _direction, [
	(set: _x to (cond:
		$startRoom is &quot;room 8&quot;,&quot;room 4&quot;,
		$startRoom is &quot;room 4&quot;,&quot;room 8&quot;,
		$startRoom is &quot;room 5&quot;,&quot;room 2&quot;,
		$startRoom is &quot;room 2&quot;,&quot;room 5&quot;,
		$startRoom))
	(set: $startRoom to _x)
	(output-data:&quot;&quot;)
	]
	))
	
(set: $flipStartRoomUD to
(macro: str-type _direction, [
	(set: _x to (cond:
		$startRoom is &quot;room 4&quot;,&quot;room 5&quot;,
		$startRoom is &quot;room 5&quot;,&quot;room 4&quot;,
		$startRoom is &quot;room 8&quot;,&quot;room 2&quot;,
		$startRoom is &quot;room 2&quot;,&quot;room 8&quot;,
		$startRoom))
	(set: $startRoom to _x)
	(output-data:&quot;&quot;)
	]
	))
	
(set: $rotateStartRoom to
(macro: str-type _direction, [
	(set: _x to (cond:
		$startRoom is &quot;room 4&quot;,&quot;room 8&quot;,
		$startRoom is &quot;room 8&quot;,&quot;room 2&quot;,
		$startRoom is &quot;room 2&quot;,&quot;room 5&quot;,
		&quot;room 4&quot;))
	(set: $startRoom to _x)
	(output-data:&quot;&quot;)
	]
	))


(set: $towerStart to 
(macro: str-type _startRoom, [
	(if: $startRoom is in (a:4,5))[($flipStartRoomLR:)]
	(output-data: &quot;&quot;)
	]))	
	
(set: $pitStart to 
(macro: str-type _startRoom, [
	(if: $startRoom is in (a:8,2))[($flipStartRoomLR:)]
	(output-data: &quot;&quot;)
	]))	
	
(set: $wallStart to 
(macro: str-type _startRoom, [
	(if: $startRoom is in (a:4,8))[($flipStartRoomUD:)]
	(output-data: &quot;&quot;)
	]))	
	
(set: $cryptStart to 
(macro: str-type _startRoom, [
	(if: $startRoom is in (a:5,2))[($flipStartRoomUD:)]
	(output-data: &quot;&quot;)
	]))	
	

	
&lt;!-- OPERATIONS 3: FIXING EXCEPTION VARIABLES  --&gt;

&lt;!-- Randomly chooses wheether to set the assignment of UD exception variables to directed slopes.--&gt;

(set: $UDOnScreenToSlopes to
(macro: [
	(set: _x to ($srandom: 1))
	(if: _x is 0)[
		(set: $upOnScreen2 to &quot;up and to the &quot; + $upOnScreen2)
		(set: $downOnScreen2 to &quot;down and to the &quot; + $downOnScreen2)
		]
	(else:) [
		(set: $upOnScreen2 to &quot;down and to the &quot; + $upOnScreen2)
		(set: $downOnScreen2 to &quot;up and to the &quot; + $downOnScreen2)
		]
	(output-data: &quot;&quot;)
	]))

&lt;!-- Randomly chooses wheether to set the assignment of LR exception variables to directed slopes.--&gt;

(set: $LROnScreenToSlopes to
(macro: [
	(set: _x to ($srandom: 1))
	(if: _x is 0)[
		(set: $rightOnScreen2 to &quot;up and to the &quot; + $upOnScreen2)
		(set: $leftOnScreen2 to &quot;down and to the &quot; + $downOnScreen2)
		]
	(else:) [
		(set: $rightOnScreen2 to &quot;down and to the &quot; + $upOnScreen2)
		(set: $leftOnScreen2 to &quot;up and to the &quot; + $downOnScreen2)
		]
	(output-data: &quot;&quot;)
	]))
	
&lt;!-- Randomly chooses whether to set the UD exception variables to vertical directions.--&gt;

(set: $UDOnScreenToVertical to
(macro: [
	(set: _x to ($srandom: 1))
	(if: _x is 0)[
		(set: $upOnScreen2 to &quot;up&quot;)
		(set: $downOnScreen2 to &quot;down&quot;)
		]
	(else:) [
		(set: $upOnScreen2 to &quot;down&quot;)
		(set: $downOnScreen2 to &quot;up&quot;)
		]
	(output-data: &quot;&quot;)
	]))
	
&lt;!-- Randomly chooses wheether to set the LR exception variables to vertical directions.--&gt;

(set: $LROnScreenToVertical to
(macro: [
	(set: _x to ($srandom: 1))
	(if: _x is 0)[
		(set: $rightOnScreen2 to &quot;up&quot;)
		(set: $leftOnScreen2 to &quot;down&quot;)
		]
	(else:) [
		(set: $rightOnScreen2 to &quot;down&quot;)
		(set: $leftOnScreen2 to &quot;up&quot;)
		]
	(output-data: &quot;&quot;)
	]))

&lt;!-- Randomly chooses wheether to set the UD exception variables to directly vertical directions or to slopes.--&gt;

(set: $UDOnScreenToNonFlat to
(macro: [
	(set: _x to ($srandom: 1))
	(if: _x is 0)[
		($UDOnScreenToVertical:)
		]
	(else:) [
		($UDOnScreenToSlopes:)
		]
	(output-data: &quot;&quot;)
	]))

&lt;!-- Randomly chooses wheether to set the LR exception variables to directly vertical directions or to slopes.--&gt;

(set: $LROnScreenToNonFlat to
(macro: [
	(set: _x to ($srandom: 1))
	(if: _x is 0)[
		($LROnScreenToVertical:)
		]
	(else:) [
		($LROnScreenToSlopes:)
		]
	(output-data: &quot;&quot;)
	]))
	
&lt;!-- ARCHITECTURAL STYLE FUNCTIONS --&gt;

&lt;!-- This decides randomly whether to flip the axes and rotate.--&gt; 

(set: $setFlatVariables to 
(macro: [
	(set: _x to ($srandom: 7))
	(if: _x is even)[
		($flipLR:)
		($flipStartRoomLR:)]
	(if: _x &lt; 4)[
		($flipUD:)
		($flipStartRoomUD:)]
	(if: _x is in (a: 0,2,5,7)[
		($rotate90CW:)
		($rotateStartRoom:)]
	(output-data: &quot;&quot;)
	]))
	
&lt;!-- Calls the above then decides randomly whether to make the exception variables into slopes.--&gt; 

(set: $setHillyVariables to 
(macro: [
	($setFlatVariables:)
	(set: _x to ($srandom: 3))
	(if: _x is even)[($UDOnScreenToSlopes:)]
	(if: _x &lt; 2)[($LROnScreenToSlopes:)]
	(output-data: &quot;&quot;)
	]))
	
&lt;!-- Calls the flatness scrambler then decides randomly whether to make the exception variables into slopes or vertical shifts.--&gt; 

(set: $set2storeyVariables to 
(macro: [
	($setFlatVariables:)
	(set: _x to ($srandom: 3))
	(if: _x is even)[($UDOnScreenToSlopes:)]
	(else:)[($UDOnScreenToVertical:)]
	(if: _x &lt; 2)[($LROnScreenToSlopes:)]
	(else:)[($LROnScreenToVertical:)]
	(output-data: &quot;&quot;)
	]))
	
&lt;!-- Calls the flatness scrambler then decides randomly whether to make the exception variables into vertical shifts.--&gt; 

(set: $setNoSlopesVariables to 
(macro: [
	($setFlatVariables:)
	(set: _x to ($srandom: 3))
	(if: _x is even)[($UDOnScreenToVertical:)]
	(if: _x &lt; 2)[($LROnScreenToVertical:)]
	(output-data: &quot;&quot;)
	]))	
	
&lt;!-- Calls the flatness scrambler then rotates around LR axis.--&gt; 

(set: $setWallVariables to 
(macro: [
	($setFlatVariables:)
	($rotate90aroundLR:)
	(set: $startRoom to &quot;room 3&quot;)
	(output-data: &quot;&quot;)
	]))
	
&lt;!-- Calls the noSlopes builder then rotates around LR axis.--&gt; 

(set: $setCastleVariables to 
(macro: [
	($setNoSlopesVariables:)
	($rotate90aroundLR:)
	(set: $startRoom to &quot;room 3&quot;)
	(output-data: &quot;&quot;)
	]))
	
&lt;!-- Calls the noSlopes builder then rotates around UD axis.--&gt; 

(set: $setTowerVariables to 
(macro: [
	($setNoSlopesVariables:)
	($rotate90aroundUD:)
	(set: $startRoom to ($towerStart: $startRoom))
	(output-data: &quot;&quot;)
	]))
	

	
	
	
	
	
	
	
	
	
	
	
	
	
	
}

</tw-passagedata><tw-passagedata pid="69" name="room 4" tags="" position="1536,590" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 4)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
($refreshSentences:)}(border-color: purple) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{

$complexSentence. 

(if: $thisYear is 1154 and $Stephen is not &quot;dead&quot;)[There is an old king here, about to die. [[You may hear his last words-&gt;Stephen&#39;s death]].](if: $thisYear is 1154 and $Stephen is &quot;dead&quot;)[There is a dead king here. Even in death his face looks tired and sad.]
(if: $thisYear is 814)[There is a pond here, in which there shimmers a bright light from above. If you wish you may [[look up at the light-&gt;Charlemagnes Death.]].]

From here you may go [[$rightOnScreen-&gt;passage 4]] or [[$downOnScreen-&gt;passage 5]]. 

(if: $startRoom is &quot;room 4&quot;)[$returnText]

}]</tw-passagedata><tw-passagedata pid="70" name="passage 7" tags="" position="2153,875" size="100,100">{(set: $thisRoomsNumber to 17)
(set: $thisYear to 10000)}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence2. 
From here you may go [[$rightOnScreen-&gt;room 2]]($toThePhrase: 2), [[$upOnScreen-&gt;room 7]]($toThePhrase: 7) or [[$leftOnScreen-&gt;room 1]]($toThePhrase: 1). </tw-passagedata><tw-passagedata pid="71" name="room 1" tags="" position="2006,872" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 1)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
($refreshSentences:)
}(border-color: (white) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence. 

From here you may go [[$upOnScreen2-&gt;passage 1]], [[$leftOnScreen-&gt;room 3]]($toThePhrase: 3) or [[$rightOnScreen-&gt;passage 7]].
(if: $startRoom is &quot;room 2&quot;)[$returnText]]</tw-passagedata><tw-passagedata pid="72" name="entrance6" tags="" position="2059,1497" size="100,100">{
(set: $thisRoomsNumber to 13)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[

(if: $startRoom is &quot;entrance6&quot;)[You are $inTheEntranceHall
	(if: $architecture is &quot;castle&quot;)[ in the ($directionJoined: $leftOnScreen,$forward) turret].]
(else:)[
	(if: $architecture is &quot;castle&quot;)
		[(if: $upOnScreenAB is &quot;up&quot;)[You are standing atop the  ($directionJoined: $forward, $leftOnScreen)  turret.]
		(else:)[You are on the ground floor of the ($directionJoined: $forward, $leftOnScreen) turret.]]
		]
(if: $architecture is &quot;tower&quot;) [You are $onAstairway2.]
(if: $architecture is &quot;crypt&quot;) [You are in a chamber at the (joined:&quot;&quot;, $forward,$leftOnScreen) corner of the crypt.]
(if: $architecture is in (a:&quot;house&quot;,&quot;mansion&quot;))[$complexSentence2 at the (joined:&quot;&quot;, $forward,$leftOnScreen) corner of the building.] 

From here you may go [[$rightOnScreen-&gt;room0]]$ladder ($toThePhrase: 0)  or ($downAB: &quot;room5&quot;). 
(if: $architecture is in (a: &quot;tower&quot;, &quot;flat&quot;, &quot;hilly&quot;))[You may also go [[$DUandToThe $leftOnScreen-&gt;stair2]]$ladder.]
(if: $architecture is &quot;tower&quot;)[You may also go [[$downRound-&gt;entrance2]].]
(if: $architecture is in (a: &quot;castle&quot;))[You may also go [[$backward-&gt;castleWall2]].]
(if: $architecture is in (a: &quot;crypt&quot;))[You may also go [[$backward-&gt;room9]]($toThePhrase:9).]

(if: $architecture is in (a: &quot;mansion&quot;) and $upOnScreenAB is &quot;up&quot;)[You may also go [[$upToAttic-&gt;castleWall2]].]
(if: $architecture is in (a: &quot;mansion&quot;) and $upOnScreenAB is &quot;down&quot;)[You may also go [[$secretPassage3-&gt;castleWall2]].]

]
}

</tw-passagedata><tw-passagedata pid="73" name="room0" tags="" position="2201,1499" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 0)
($refreshSentences:)
}
{
(border-color: black) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence. From here you can go [[$leftOnScreen-&gt;entrance6]] ($toStairsOrEntrance:&quot;entrance2&quot;) or ($downAB: &quot;room4&quot;).
(if: $architecture is in (a: &quot;house&quot;))[You may also take a $ladder [[$specialDown1-&gt;entrance5]].]
(if: $architecture is &quot;tower&quot;)[An alternative way goes [[$downRound-&gt;room3]]($toThePhrase: 3).]]
}</tw-passagedata><tw-passagedata pid="74" name="room1" tags="" position="2343,1497" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 1)
($refreshSentences:)
}
{
(border-color: white) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence 
(if: $architecture is &quot;castle&quot;)
	[(if: $upOnScreenAB is &quot;up&quot;)[, in the topmost room in the ($directionJoined: $forward, $rightOnScreen) turret.]
	(else:)[, on the ground floor of the ($directionJoined: $forward, $rightOnScreen) turret.]
	]
(else:)[.] 
From here you may go ($downAB: &quot;entrance1&quot;). 
(if: $architecture is in (a: &quot;house&quot;))[You may also head $UDandToThe [[$leftOnScreen-&gt;stair2]] via $stairway.]
(if: $architecture is &quot;tower&quot;)
	[An alternative way goes [[$downRound-&gt;room2]]($toThePhrase: 2).]
(if: $architecture is in (a: &quot;castle&quot;))
	[An alternative way goes [[$backward-&gt;castleWall3]].]
(if: $architecture is in (a: &quot;crypt&quot;))[An alternative way goes ($downAB: &quot;room6&quot;) or [[$backward-&gt;stair2]].]

(if: $architecture is in (a: &quot;mansion&quot;) and $upOnScreenAB is &quot;up&quot;)[You may also go [[$upToAttic-&gt;castleWall3]].]
(if: $architecture is in (a: &quot;mansion&quot;) and $upOnScreenAB is &quot;down&quot;)[You may also go [[$secretPassage4-&gt;castleWall3]].]

]}
</tw-passagedata><tw-passagedata pid="75" name="entrance1" tags="" position="2345,1641" size="100,100">{
(set: $thisRoomsNumber to 17)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[
(if: $startRoom is &quot;entrance1&quot;)[You are $inTheEntranceHall.] (else:)[You are on a $passageNoun ($goingFromTo: $upOnScreenAB, $downOnScreenBC).] From here you may go ($upAB: &quot;room1&quot;) or ($downBC: &quot;room2&quot;). Or you may head [[$leftOnScreen-&gt;room4]] $ladder ($toThePhrase: 4).
]
}</tw-passagedata><tw-passagedata pid="76" name="room2" tags="" position="2348,1799" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 2)
($refreshSentences:)
}
{(border-color: (rgb: 255, 100, 100)) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[
$complexSentence
(if: $architecture is &quot;castle&quot;)
	[(if: $upOnScreen is &quot;down&quot;)[, atop the ($directionJoined: $forward, $rightOnScreen) turret.]
	(else:)[, on the ground floor of the ($directionJoined: $forward, $rightOnScreen) turret.]
	]
(else:)[.]
You may go ($upBC: &quot;entrance1&quot;) from here. 
(if: $architecture is in (a: &quot;house&quot;))[An alternative is to go [[$downTerm-&gt;entrance3]] via $stairway.] 
(if: $architecture is &quot;tower&quot;)[You may also go [[$upRound-&gt;room1]]($toThePhrase: 1).]
(if: $architecture is &quot;castle&quot;)[You may also go [[$backward-&gt;castleWall1]].]
(if: $architecture is in (a: &quot;crypt&quot;))[You may also go [[$backward-&gt;entrance3]].]
(if: $architecture is in (a: &quot;mansion&quot;) and $upOnScreenAB is &quot;up&quot;)[You may also go [[$secretPassage4-&gt;castleWall1]].]
(if: $architecture is in (a: &quot;mansion&quot;) and $upOnScreenAB is &quot;down&quot;)[You may also go [[$upToAttic-&gt;castleWall1]].]

]
}</tw-passagedata><tw-passagedata pid="77" name="room4" tags="" position="2198,1646" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 4)
($refreshSentences:)
}
{
(border-color: purple) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence. From here you may go [[$leftOnScreen-&gt;room5]] $ladder ($toThePhrase: 5) or ($downBC: &quot;room3&quot;). Alternatively, you may go ($upAB: &quot;room0&quot;) or [[$rightOnScreen-&gt;entrance1]] $ladder.]
}</tw-passagedata><tw-passagedata pid="78" name="room3" tags="" position="2206,1801" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 3)
($refreshSentences:)
}
{
(border-color: red) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[
$complexSentence. From here you can go ($upBC: &quot;room4&quot;) or [[$leftOnScreen-&gt;entrance2]]$ladder ($toStairsOrEntrance:&quot;entrance2&quot;). 
(if: $architecture is &quot;tower&quot;)[You may also go [[$upRound-&gt;room0]]($toThePhrase: 0).]
(if: $architecture is &quot;castle&quot;)[You may also go [[$backward-&gt;bailey]] to the bailey.]
]
}</tw-passagedata><tw-passagedata pid="79" name="room5" tags="" position="2059,1650" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 5)
($refreshSentences:)
}
{
(border-color: blue) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence. From here you can go ($upAB: &quot;entrance6&quot;) ($toStairsOrEntrance:&quot;entrance6&quot;), ($downAB: &quot;entrance2&quot;) ($toStairsOrEntrance:&quot;entrance2&quot;) or [[$rightOnScreen-&gt;room4]]$ladder ($toThePhrase:4). ]
}</tw-passagedata><tw-passagedata pid="80" name="room6" tags="" position="1763,1651" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 6)
($refreshSentences:)
}
{
(border-color: (rgb: 0, 255, 255)) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence. From here you can go ($upAB:&quot;stair2&quot;) (unless: $architecture is in (a: &quot;mansion&quot;, &quot;hilly&quot;)) [via $stairway2] $forceSpace or (if: $architecture is &quot;hilly&quot;)[up and to the][[$leftOnScreen-&gt;passage5]] $ladder. ]
}</tw-passagedata><tw-passagedata pid="81" name="room7" tags="" position="1621,1801" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 7)
($refreshSentences:)
}
{
(border-color: green) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[
$complexSentence. (if: $optionalPath contains 4)[From here you may go ($upBC: &quot;passage5&quot;), [[$leftOnScreen-&gt;room8]] $ladder ($toThePhrase: 8) (print: &quot; &quot;) or  [[$rightOnScreen-&gt;entrance3]] $ladder (unless: $architecture is &quot;castle&quot;) [($toStairsOrEntrance: &quot;entrance3&quot;).]]
(else:)[From here you can go ($upBC: &quot;passage5&quot;) or  [[$rightOnScreen-&gt;entrance3]] $forceSpace (unless: $architecture is &quot;castle&quot;) [($toStairsOrEntrance: &quot;entrance3&quot;)]]
(if: $architecture is &quot;tower&quot;)[You may also go [[$upRound-&gt;entrance5]].]
(if: $architecture is &quot;castle&quot;)[You may also go [[$forward-&gt;bailey]] to the bailey.]
]
}</tw-passagedata><tw-passagedata pid="82" name="room8" tags="" position="1475,1798" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 8)
($refreshSentences:)
}
{
(border-color: yellow) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[
$complexSentence 
(if: $architecture is &quot;castle&quot;) + (if: $upOnScreen is &quot;down&quot;)[, standing atop the ($directionJoined: $backward, $leftOnScreen) turret]
(if: $architecture is &quot;castle&quot;) + (if: $upOnScreen is &quot;up&quot;)[, on the ground floor of the ($directionJoined: $backward, $leftOnScreen) turret]
. 
(if: $optionalPath contains 4)[From here you may go ($upBC: &quot;entrance4&quot;)  or [[$rightOnScreen-&gt;room7]] $ladder ($toThePhrase: 7).](else:)[You may go ($upBC: &quot;entrance4&quot;) from here.]
(if: $architecture is &quot;tower&quot;)[You may also go [[$upRound-&gt;room9]]($toThePhrase: 9).]
(if: $architecture is in (a: &quot;castle&quot;))[You may also go [[$forward-&gt;castleWall4]].]
(if: $architecture is in (a: &quot;crypt&quot;))[You may also go [[$forward-&gt;entrance2]] ($toStairsOrEntrance: &quot;entrance2&quot;).]
(if: $architecture is in (a: &quot;mansion&quot;) and $upOnScreenAB is &quot;up&quot;)[You may also go [[$secretPassage1-&gt;castleWall4]].]
(if: $architecture is in (a: &quot;mansion&quot;) and $upOnScreenAB is &quot;down&quot;)[You may also go [[$upToAttic-&gt;castleWall4]].

]]
}
</tw-passagedata><tw-passagedata pid="83" name="room9" tags="" position="1476,1498" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 9)
($refreshSentences:)
}
{
(border-color: (rgb: 155, 100, 0)) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[
$complexSentence 
(if: $architecture is &quot;castle&quot;)
	[(if: $upOnScreenAB is &quot;up&quot;)[, which has been built atop the ($directionJoined: $backward, $leftOnScreen) turret.]
	(else:)[, on the ground floor of the ($directionJoined: $backward, $leftOnScreen) turret.]
	]
	(else:)[.]
From here, you may head ($downAB: &quot;entrance4&quot;) or [[$rightOnScreen-&gt;entrance5]] ($toAnyOrEntrance: &quot;entrance5&quot;). 
(if: $architecture is &quot;tower&quot;)[You may also go [[$downRound-&gt;room8]]($toThePhrase: 8).]
(if: $architecture is in (a: &quot;castle&quot;))[An alternative is to head [[$forward-&gt;castleWall2]].]
(if: $architecture is in (a: &quot;mansion&quot;) and $upOnScreenAB is &quot;up&quot;)[You may also go [[$upToAttic-&gt;castleWall2]].]
(if: $architecture is in (a: &quot;mansion&quot;) and $upOnScreenAB is &quot;down&quot;)[You may also go [[$secretPassage1-&gt;castleWall2]].]

]
}</tw-passagedata><tw-passagedata pid="84" name="entrance5" tags="" position="1625,1496" size="100,100">{
(set: $thisRoomsNumber to 11)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[
(if: $startRoom is &quot;entrance5&quot;)[You are $inTheEntranceHall.]
(else:)[
	(if: $architecture is &quot;castle&quot; and $upOnScreenAB is &quot;up&quot;)[You are standing on top of a castle wall, where a crisp wind blows.]
	] 
	(else:)[$complexSentence2 $mansionFloor]

From here you can go ($downAB: &quot;passage5&quot;) or [[$leftOnScreen-&gt;room9]]($toThePhrase: 9). (if: $architecture is in (a: &quot;house&quot;))[You may also take a $ladder [[$specialup1-&gt;room0]] ($toThePhrase: 0).](if: $architecture is &quot;tower&quot;)[An alternative way goes [[$downRound-&gt;room7]]($toThePhrase: 7).]
]
}</tw-passagedata><tw-passagedata pid="85" name="entrance2" tags="" position="2061,1800" size="100,100">{(set: $thisRoomsNumber to 19)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[
(if: $startRoom is &quot;entrance2&quot;)[You are $inTheEntranceHall(if: $architecture is &quot;castle&quot;)[ in the ($directionJoined: $leftOnScreen,$forward) turret].] 
(else:)[
	(if: $architecture is &quot;castle&quot;)
		[(if: $upOnScreen is &quot;down&quot;)[You are standing atop the ($directionJoined: $forward, $rightOnScreen) turret.]
		(else:)[You are on the ground floor of the ($directionJoined: $forward, $rightOnScreen) turret.]
		]
(else:)[You are $onAstairway.]
	]
From here you may go ($upBC: &quot;room5&quot;) or [[$rightOnScreen-&gt;room3]]$ladder ($toThePhrase: 3). 
(if: $architecture is in (a: &quot;tower&quot;, &quot;flat&quot;, &quot;hilly&quot;))[You may also go [[$DUandToThe $leftOnScreen-&gt;entrance3]] $ladder ($toStairsOrEntrance: &quot;entrance3&quot;).]
(if: $architecture is &quot;tower&quot;)[You may also go [[$upRound-&gt;entrance6]].]
(if: $architecture is in (a: &quot;castle&quot;))[You may also go [[$backward-&gt;castleWall4]].]
(if: $architecture is in (a: &quot;crypt&quot;))[You may also go [[$backward-&gt;room8]] ($toThePhrase: 8).]
(if: $architecture is in (a: &quot;mansion&quot;) and $upOnScreenAB is &quot;up&quot;)[You may also go [[$secretPassage3-&gt;castleWall4]].]
(if: $architecture is in (a: &quot;mansion&quot;) and $upOnScreenAB is &quot;down&quot;)[You may also go [[$upToAttic-&gt;castleWall4]]
]]
}</tw-passagedata><tw-passagedata pid="86" name="entrance3" tags="" position="1758,1798" size="100,100">{
(set: $thisRoomsNumber to 18)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[
(if: $startRoom is &quot;entrance3&quot;)[You are $inTheEntranceHall(if: $architecture is &quot;castle&quot;)[ in the ($directionJoined: $rightOnScreen,$backward) turret].] 
(else:)[
	(if: $architecture is &quot;castle&quot;)
		[(if: $upOnScreen is &quot;down&quot;)[You are standing atop the ($directionJoined: $backward, $rightOnScreen) turret.]
		(else:)[You are on the ground floor of the ($directionJoined: $backward, $rightOnScreen) turret.]
		]
(else:)[You are $onAstairway]
	]
(if: $architecture is in (a: &quot;house&quot;))[From here you may go $UDandToThe [[$rightOnScreen-&gt;room7]] ($toThePhrase: 7) or $DUandToThe [[$rightOnScreen-&gt;room2]] ($toThePhrase: 2).]
(if: $architecture is in (a: &quot;tower&quot;, &quot;flat&quot;, &quot;hilly&quot;))[From here you may go [[$leftOnScreen-&gt;room7]] $ladder ($toThePhrase: 7) or [[$UDandToThe $rightOnScreen-&gt;entrance2]] $ladder ($toStairsOrEntrance: &quot;entrance2&quot;).]
(if: $architecture is in (a: &quot;castle&quot;))[From here you may go [[$leftOnScreen-&gt;room7]] ($toThePhrase: 7) or [[$forward-&gt;castleWall1]] ($towardsThePhrase: 2)][.]
(if: $architecture is in (a: &quot;crypt&quot;))[From here you may go [[$leftOnScreen-&gt;room7]] ($toThePhrase: 7) or [[$forward-&gt;room2]] ($toThePhrase: 2).]
(if: $architecture is in (a: &quot;mansion&quot;) and $upOnScreenAB is &quot;up&quot;)[From here you may go [[$leftOnScreen-&gt;room7]] ($toThePhrase: 7). You may also go [[$secretPassage2-&gt;castleWall1]].]
(if: $architecture is in (a: &quot;mansion&quot;) and $upOnScreenAB is &quot;down&quot;)[From here you may go [[$leftOnScreen-&gt;room7]] ($toThePhrase: 7).You may also go [[$upToAttic-&gt;castleWall1]].]

]
}

</tw-passagedata><tw-passagedata pid="87" name="passage5" tags="" position="1623,1651" size="100,100">{
(set: $thisRoomsNumber to 15)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[
(if: $architecture is &quot;mansion&quot;)[You are in the opulent entrance hall.]
(else:) [You are at a place where several (joined: &quot;&quot;,$passageNoun, &quot;s&quot;) meet.] From here you may go ($upAB:&quot;entrance5&quot;) ($toAnyOrEntrance: &quot;entrance5&quot;), $downAndToThe [[$rightOnScreen-&gt;room6]] $ladder ($toThePhrase: 6), or ($downBC: &quot;room7&quot;). An alternative is to go [[$leftOnScreen-&gt;entrance4]] $ladder. (if: $architecture is &quot;mansion&quot;)[Or you might head $forward [[($towardsThePhrase: 4) at the back of the house-&gt;room4]].]
]
}</tw-passagedata><tw-passagedata pid="88" name="entrance4" tags="" position="1376,1653" size="100,100">{
(set: $thisRoomsNumber to 14)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[
(if: $startRoom is &quot;entrance4&quot;)[You are $inTheEntranceHall.] 
(else:)[You are on 
	(unless: $architecture is &quot;castle&quot;)[a $passageNoun  heading from $upOnScreenAB  to $downOnScreenBC.] 
	(else:) [a stairwell.]]
From here you may go ($upAB: &quot;room9&quot;) or ($downBC: &quot;room8&quot;). Or you may head [[$rightOnScreen-&gt;passage5]] $ladder.
]
}</tw-passagedata><tw-passagedata pid="89" name="stair2" tags="" position="1764,1496" size="100,100">{
(set: $thisRoomsNumber to 12)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[
(if: $architecture is &quot;castle&quot;) + (if: $upOnScreenAB is &quot;up&quot;)[You are standing atop the ($directionJoined: $backward, $rightOnScreen) turret.]
(if: $architecture is &quot;castle&quot;) + (if: $upOnScreenAB is &quot;down&quot;)[You are on the ground floor of the ($directionJoined: $backward, $rightOnScreen) turret.]
(unless:$architecture is &quot;castle&quot;)[You are $onAstairway2]
(if: $architecture is &quot;house&quot;)[ landing]. 
(if: $architecture is in (a: &quot;house&quot;))[From here $stairway in one direction goes $UDandToThe [[$downOnScreenAB-&gt;room6]] ($toThePhrase: 6), while in the other it turns $DUandToThe [[$rightOnScreen-&gt;room1]]$ladder ($toThePhrase: 1).]
(if: $architecture is in (a: &quot;tower&quot;, &quot;flat&quot;, &quot;hilly&quot;))[From here you may go ($downAB: &quot;room6&quot;) ($toThePhrase: 6) or $UDandToThe [[$rightOnScreen-&gt;entrance6]]$ladder ($toStairsOrEntrance:).]
(if: $architecture is in (a: &quot;castle&quot;))[From here you can go ($downAB: &quot;room6&quot;) ($toThePhrase: 6) or [[$forward-&gt;castleWall3]] ($towardsThePhrase: 1).]
(if: $architecture is in (a: &quot;crypt&quot;))[From here you can go ($downAB: &quot;room6&quot;) ($toThePhrase: 6) or [[$forward-&gt;room1]] ($toThePhrase: 1).]
(if: $architecture is in (a: &quot;mansion&quot;) and $upOnScreenAB is &quot;up&quot;)[From here you can go ($downAB: &quot;room6&quot;). You may also go [[$upToAttic-&gt;castleWall3]].]
(if: $architecture is in (a: &quot;mansion&quot;) and $upOnScreenAB is &quot;down&quot;)[From here you can go ($downAB: &quot;room6&quot;). You may also go [[$secretPassage2-&gt;castleWall3]].]
]
}</tw-passagedata><tw-passagedata pid="90" name="architecture general functions" tags="startup" position="379,2381" size="100,100">{
(if: $architecture is &quot;2storey&quot;)[(set: $stairway to &quot;stairway&quot;)]
(if: $architecture is in (a:&quot;flat&quot;,&quot;hilly&quot;,&quot;castle&quot;))[(set: $stairway to 2nd of (str: $decadeReference) of $passageTerms)]
(if: $architecture is in (a:&quot;tower&quot;))[(set: $stairway to 5th of (str: $decadeReference) of $generalLanguage)]

&lt;!-- GENERAL FUNCTIONS --&gt;
&lt;!-- rotates a given compass point by 45 degrees, turning north to northeast, etc.  
Presupposes: it receives a compass point as argument
Called By: various
--&gt;
(set: $rotateCompass45 to 
(macro: str-type _direction, [
	(set: _x to (cond: 
		_direction is &quot;north&quot;,&quot;northeast&quot;,
		_direction is &quot;northeast&quot;,&quot;east&quot;,
		_direction is &quot;east&quot;,&quot;southeast&quot;,
		_direction is &quot;southeast&quot;,&quot;south&quot;,
		_direction is &quot;south&quot;,&quot;southwest&quot;,
		_direction is &quot;southwest&quot;,&quot;west&quot;,
		_direction is &quot;west&quot;,&quot;northwest&quot;,
		_direction is &quot;northwest&quot;,&quot;north&quot;,
		&quot;error: rotatecompass45 not given a compass direction&quot;))
	(output-data:_x)
	]))
	
&lt;!-- further rotation functions.  
Presupposes: they receive a compass point as argument
Called By: various
--&gt;
(set: $rotateCompass90 to 
(macro: str-type _direction, [
	(set: _rotate90 to ($rotateCompass45: ($rotateCompass45: _direction)))
	(output-data:_rotate90)
	]))

(set: $rotateCompass180 to 
(macro: str-type _direction, [
	(set: _rotate180 to ($rotateCompass90: ($rotateCompass90: _direction)))
	(output-data:_rotate180)
	]))
	
(set: $rotateCompass270 to 
(macro: str-type _direction, [
	(set: _rotate270 to ($rotateCompass90: ($rotateCompass180: _direction)))
	(output-data:_rotate270)
	]))

&lt;!-- flips a given compass point, turning north to south, etc.  
Presupposes: it receives a compass point as argument
Called By: flipFlatIfRandom
--&gt;
(set: $flipCompass to 
(macro: str-type _direction, [
	(set: _x to (cond: 
		_direction is &quot;north&quot;,&quot;south&quot;,
		_direction is &quot;northeast&quot;,&quot;southwest&quot;,
		_direction is &quot;east&quot;,&quot;west&quot;,
		_direction is &quot;southeast&quot;,&quot;northwest&quot;,
		_direction is &quot;south&quot;,&quot;north&quot;,
		_direction is &quot;southwest&quot;,&quot;northeast&quot;,
		_direction is &quot;west&quot;,&quot;east&quot;,
		_direction is &quot;northwest&quot;,&quot;southeast&quot;,
		&quot;error: flipCompass not given a compass direction&quot;))
	(output-data:_x)
	]))
	
&lt;!-- For testing. Sets directionIn to one of four random compass points. 
Presupposes: it receives a compass point as argument
Called By: Called directly in testing passages. 
--&gt;
(set: $randomWayIn to 
(macro: [
	(set: _x to ($srandom: 3))
	(set: $directionIn to (cond:
		_x is 0, &quot;north&quot;,
		_x is 1, &quot;east&quot;,
		_x is 2, &quot;south&quot;,	
		_x is 3, &quot;west&quot;,
		&quot;error: variable for $randomWayIn out of range.&quot;))
	(output-data:&quot;&quot;)
	]))
	


}</tw-passagedata><tw-passagedata pid="91" name="test tower" tags="" position="612,2389" size="100,100">(set: $decadeNum to 30) 
(set: $decadeNumber to 1130)
(set: $palaces to (a:1130))
(set: $hundredNumber to 1100)
(set: $floorInt to 11)
(set: $decadeString to (str: $decadeNum))
(set: $decadeReference to $hundredNumber + $decadeNum + 1) 
(set: $referenceString to (str: $decadeReference))
(set: $seedIndex to 1)
(set: $randomSeed to (str: $decadeReference - 1) of $randomMaps)
(set: $architecture to &quot;tower&quot;)
($randomWayIn:)
($buildTower:)
($fixOptionalPaths:)


($refreshSentences:) 

The startRoom is $startRoom
You are heading $directionIn [[into a tower-&gt;$startRoom]]. </tw-passagedata><tw-passagedata pid="92" name="test hills" tags="" position="766,2391" size="100,100">(set: $decadeNum to 0) 
(set: $decadeNumber to 1100)
(set: $forests to (a:1100))
(set: $hundredNumber to 1100)
(set: $floorInt to 11)
(set: $decadeString to (str: $decadeNum))
(set: $decadeReference to $hundredNumber + $decadeNum + 1) 
(set: $referenceString to (str: $decadeReference))
(set: $seedIndex to 1)
(set: $randomSeed to (str: $decadeReference - 1) of $randomMaps)
(set: $architecture to &quot;hilly&quot;)
($randomWayIn:)
($buildHills:)
($setLadder:)
($setUpAndToThe:)
($setDownAndToThe:)
($fixOptionalPaths:)
(set: $stairway to &quot;hill&quot;)
(set: $inTheEntranceHall to &quot;at the entrance to a forest&quot;)
($refreshSentences:) 

The startRoom is $startRoom
You are heading $directionIn [[into a wood-&gt;$startRoom]]. </tw-passagedata><tw-passagedata pid="93" name="test flat" tags="" position="901,2389" size="100,100">(set: $decadeNum to 0) 
(set: $hundredNumber to 800)
(set: $decadeNumber to $hundredNumber + $decadeNum)

(set: $swamps to (a:800))
(set: $floorInt to 8)
(set: $decadeString to (str: $decadeNum))
(set: $decadeReference to $hundredNumber + $decadeNum + 1) 
(set: $referenceString to (str: $decadeReference))
(set: $seedIndex to 1)
(set: $randomSeed to (str: $decadeReference - 1) of $randomMaps)
(set: $architecture to &quot;flat&quot;)
($randomWayIn:)
($buildFlat:)
($setLadder:)
($setUpAndToThe:)
($setDownAndToThe:)
($fixOptionalPaths:)
(set: $passageAdj to 1st of $referenceString of $passageTerms)
(set: $passageNoun to 2nd of $referenceString of $passageTerms)
(set: $stairway to &quot;on a long &quot; + $passageAdj + &quot; &quot; + $passageNoun)
(set: $stairway2 to &quot;on a windswept &quot; + $passageNoun)
(set: $inTheEntranceHall to &quot;at the entrance to a swamp&quot;)
($refreshSentences:) 
($setStairDirections:)

The direction in is $directionIn
The startRoom is $startRoom
You are heading $directionIn [[into a wood-&gt;$startRoom]]. 

The startRoomLog is $strtLOG</tw-passagedata><tw-passagedata pid="94" name="test house" tags="" position="1054,2381" size="100,100">(set: $floorInt to 1)
(set: $hundredNumber to $floorInt*100)

(set: $imageType to 1) 
(set: $decadeNum to 40) 
(set: $decadeNumber to $hundredNumber + $decadeNum)

(set: $decadeString to (str: $decadeNum))
(set: $decadeReference to $hundredNumber + $decadeNum + 1) 
(set: $referenceString to (str: $decadeReference))
(set: $seedIndex to 1)
(set: $randomSeed to (str: $decadeReference - 1) of $randomMaps)
(set: $roomAdjective to &quot;a &quot;)
(set: $complexLanguage to (str: $decadeReference) of $generalLanguage)
($refreshSentences:) 

($setImage:)
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1442);&lt;/script&gt;]



(set: $buildings to (a:140))



($randomWayIn:)
($buildHouse:)
($fixOptionalPaths:)

($refreshSentences:) 

The direction in is $directionIn
The startRoom is $startRoom
You are heading $directionIn [[into a house-&gt;$startRoom]]. 

</tw-passagedata><tw-passagedata pid="95" name="test crypt" tags="" position="1480,2380" size="100,100">{(set: $floorInt to 7)
(set: $hundredNumber to $floorInt*100)

(set: $imageType to 1) 
(set: $decadeNum to 90) 
(set: $decadeNumber to $hundredNumber + $decadeNum)

(set: $decadeString to (str: $decadeNum))
(set: $decadeReference to $hundredNumber + $decadeNum + 1) 
(set: $referenceString to (str: $decadeReference))
(set: $seedIndex to 1)
(set: $randomSeed to (str: $decadeReference - 1) of $randomMaps)
(set: $roomAdjective to &quot;a &quot;)
(set: $complexLanguage to (str: $decadeReference) of $generalLanguage)
($refreshSentences:) 

($setImage:)
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1442);&lt;/script&gt;]



(set: $crypts to (a:790))



($randomWayIn:)
($buildCrypt:)

($fixOptionalPaths:)
($refreshSentences:) 
}
The direction in is $directionIn
The startRoom is $startRoom
You are heading $directionIn [[into a castle-&gt;$startRoom]]. 

</tw-passagedata><tw-passagedata pid="96" name="test pit" tags="" position="1346,2381" size="100,100">(set: $floorInt to 3)
(set: $hundredNumber to $floorInt*100)

(set: $imageType to 1) 
(set: $decadeNum to 60) 
(set: $decadeNumber to $hundredNumber + $decadeNum)

(set: $decadeString to (str: $decadeNum))
(set: $decadeReference to $hundredNumber + $decadeNum + 1) 
(set: $referenceString to (str: $decadeReference))
(set: $seedIndex to 1)
(set: $randomSeed to (str: $decadeReference - 1) of $randomMaps)
(set: $roomAdjective to &quot;a &quot;)
(set: $complexLanguage to (str: $decadeReference) of $generalLanguage)
($refreshSentences:) 

($setImage:)
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1442);&lt;/script&gt;]



(set: $mines to (a:360))
(set: $architecture to &quot;tower&quot;)



($randomWayIn:)
($buildPit:)
($setLadder:)
($setUpAndToThe:)
($setDownAndToThe:)
($fixOptionalPaths:)
(set: $passageAdj to 1st of $referenceString of $passageTerms)
(set: $passageNoun to 2nd of $referenceString of $passageTerms)
(set: $stairway to &quot;in the main shaft&quot;)
(set: $stairway2 to &quot;in a narrow shaft&quot;)
(set: $inTheEntranceHall to &quot;at the mine head&quot;)
($setStairDirections:)

The direction in is $directionIn
The startRoom is $startRoom
You are heading $directionIn [[into a pit-&gt;$startRoom]]. 

</tw-passagedata><tw-passagedata pid="97" name="flat architecture" tags="startup" position="379,2496" size="100,100">{&lt;!-- SET UP FLAT ARCHITECTURE--&gt;
(set: $setScreenValuesForFlat to 
(macro: [
	(set: $upOnScreenAB to &quot;north&quot;)
	(set: $upOnScreenBC to &quot;north&quot;)
	(set: $downOnScreenAB to &quot;south&quot;)
	(set: $downOnScreenBC to &quot;south&quot;)
	(set: $upRound to &quot;N/A&quot;)
	(set: $downRound to &quot;N/A&quot;)
	(set: $rightOnScreen to &quot;east&quot;)
	(set: $leftOnScreen to &quot;west&quot;)
	(output-data:&quot;&quot;)
	]))
	
&lt;!-- rotates flat by 45 degrees, turning north to northeast, etc.  
Presupposes: setScreenValuesForFlat has been called, fixing values for upScreen downScreen etc
Called By: none, chose rotate90 instead. 
--&gt;
(set: $rotateFlat45 to 
(macro: [
	(set: $downOnScreenAB to ($rotateCompass45: $downOnScreenAB))
	(set: $downOnScreenBC to ($rotateCompass45: $downOnScreenBC))
	(set: $upOnScreenAB to ($rotateCompass45: $upOnScreenAB))
	(set: $upOnScreenBC to ($rotateCompass45: $upOnScreenBC))
	(set: $rightOnScreen to ($rotateCompass45: $rightOnScreen))
	(set: $leftOnScreen to ($rotateCompass45: $leftOnScreen))
	(output-data:&quot;&quot;)
	]))
	
&lt;!-- rotates flat by 90 degrees, turning north to east, etc. Rotates the startRoom in the opposite direction to compensate.   
Presupposes: values have been assigned
Called By: rotateFlatByRandom45 (legacy), rotateFlatByRandom90
--&gt;
(set: $rotateFlat90 to 
(macro: [
	(set: $downOnScreenAB to ($rotateCompass90: $downOnScreenAB))
	(set: $downOnScreenBC to ($rotateCompass90: $downOnScreenBC))
	(set: $upOnScreenAB to ($rotateCompass90: $upOnScreenAB))
	(set: $upOnScreenBC to ($rotateCompass90: $upOnScreenBC))
	(set: $rightOnScreen to ($rotateCompass90: $rightOnScreen))
	(set: $leftOnScreen to ($rotateCompass90: $leftOnScreen))
	($rotateStartBy270:)
	(output-data:&quot;&quot;)
	]))

&lt;!-- reassigns startRoom to one that is on the CW perpendicular side of the map. When there are two entrances on that side, decides at random. Note that the startRoom cannot be higher than ground level, so the startRoom is later used to determined ground level.   
Presupposes: setScreenValuesForFlat has been called, fixing values for upScreen downScreen etc
Presupposes: startRoom has been assigned. 
Called By: none, legacy. rotateFlatByRandom45 (not used), rotateFlatByRandom90
--&gt;
(set: $rotateStartBy90 to 
(macro: [
	(set: _x to (cond: 
		$startRoom is &quot;entrance4&quot;, ($randomStart: &quot;entrance5&quot;, &quot;entrance6&quot;),
		$startRoom is &quot;entrance5&quot;, &quot;entrance1&quot;,
		$startRoom is &quot;entrance6&quot;, &quot;entrance1&quot;,
		$startRoom is &quot;entrance1&quot;, ($randomStart: &quot;entrance2&quot;, &quot;entrance3&quot;),
		$startRoom is &quot;entrance2&quot;, &quot;entrance4&quot;,
		$startRoom is &quot;entrance3&quot;, &quot;entrance4&quot;,
		&quot;error: flipStartUD did not recognize entrance&quot;))
	(set: $startRoom to _x)
	(output-data:&quot;&quot;)
	]))
	
&lt;!-- reassigns startRoom to one that is on the CW perpendicular side of the map. When there are two entrances on that side, decides at random. Note that the startRoom cannot be higher than ground level, so the startRoom is later used to determined ground level.   
Presupposes: setScreenValuesForFlat has been called, fixing values for upScreen downScreen etc
Presupposes: startRoom has been assigned. 
Called By: rotateFlatByRandom45 (not used), rotateFlatByRandom90
--&gt;
(set: $rotateStartBy270 to 
(macro: [
	(set: _x to (cond: 
		$startRoom is &quot;entrance4&quot;, ($randomStart: &quot;entrance2&quot;, &quot;entrance3&quot;),
		$startRoom is &quot;entrance5&quot;, &quot;entrance4&quot;,
		$startRoom is &quot;entrance6&quot;, &quot;entrance4&quot;,
		$startRoom is &quot;entrance1&quot;, ($randomStart: &quot;entrance5&quot;, &quot;entrance6&quot;),
		$startRoom is &quot;entrance2&quot;, &quot;entrance1&quot;,
		$startRoom is &quot;entrance3&quot;, &quot;entrance1&quot;,
		&quot;error: flipStartUD did not recognize entrance&quot;))
	(set: $startRoom to _x)
	(output-data:&quot;&quot;)
	]))
	
(set: $randomStart to 
(macro: str-type _entrance1, str-type _entrance2, [
	(set: _x to ($srandom: 1))
	(set: _randomStart to (cond:
		_x is 0, _entrance1,
		_x is 1, _entrance2,
		&quot;NA&quot;))
	(output-data:_randomStart)
	]))
	
	
&lt;!-- rotates flat by random amount, 45 degree increments. Calls random number and does a series of &lt; tests on it, rotating the flat by 45 degrees for each one it passes. 
Presupposes: setScreenValuesForFlat has been called, fixing values for upScreen and downScreen etc
Called By: none. Chose rotate by 90 instead. 
--&gt;
(set: $rotateFlatByRandom45 to 
(macro: [
	(set: _x to ($srandom: 7))
	(if: _x &lt; 1) [($rotateFlat45:)]
	(if: _x &lt; 2) [($rotateFlat45:)]
	(if: _x &lt; 3) [($rotateFlat45:)]
	(if: _x &lt; 4) [($rotateFlat45:)]
	(if: _x &lt; 5) [($rotateFlat45:)]
	(if: _x &lt; 6) [($rotateFlat45:)]
	(if: _x &lt; 7) [($rotateFlat45:)]
	(output-data:_x)
	]))
	
	
&lt;!-- rotates flat by random amount, 90 degree increments. Calls random number and does a series of &lt; tests on it, rotating the flat by 45 degrees for each one it passes. 
Presupposes: setScreenValuesForFlat has been called, fixing values for upScreen and downScreen etc
Called By: buildFlat
--&gt;
(set: $rotateFlatByRandom90 to 
(macro: [
	(set: _x to ($srandom: 3))
	(if: _x &lt; 1) [($rotateFlat90:)]
	(if: _x &lt; 2) [($rotateFlat90:)]
	(if: _x &lt; 3) [($rotateFlat90:)]
	(output-data:_x)
	]))

&lt;!-- decides whether to flip the map left to right.  
Presupposes: setScreenValuesForFlat has been called, fixing values for upScreen and downScreen etc
Called By: buildFlat
--&gt;
(set: $randomFlipLR to 
(macro: [
	(set: _x to ($srandom: 1))
	(if: _x is 1) [
		(set: $rightOnScreen to ($flipCompass: $rightOnScreen))
		(set: $leftOnScreen to ($flipCompass: $leftOnScreen))
		($flipStartLR:)
		]
	(output-data:&quot;&quot;)
	]))
	
&lt;!-- decides whether to flip the map up to down.  
Presupposes: setScreenValuesForFlat has been called, fixing values for upScreen and downScreen etc
Called By: buildFlat
--&gt;
(set: $randomFlipUD to 
(macro: [
	(set: _x to ($srandom: 1))
	(if: _x is 1) [
		(set: $downOnScreenAB to ($flipCompass: $downOnScreenAB))
		(set: $downOnScreenBC to ($flipCompass: $downOnScreenBC))
		(set: $upOnScreenAB to ($flipCompass: $upOnScreenAB))
		(set: $upOnScreenBC to ($flipCompass: $upOnScreenBC))
		($flipStartUD:)
		]
	(output-data:&quot;&quot;)
	]))

&lt;!-- maps a start room onto its nearest opposite start room at the otherr side of the map.  
Presupposes: startRoom has been assigned. The entrances listed are opposite.  
Called By: randomFlipUD
--&gt;

(set: $flipStartUD to 
(macro: [
	(set: _x to (cond: 
		$startRoom is &quot;entrance3&quot;, &quot;entrance5&quot;,
		$startRoom is &quot;entrance2&quot;, &quot;entrance6&quot;,
		$startRoom is &quot;entrance5&quot;, &quot;entrance3&quot;,
		$startRoom is &quot;entrance6&quot;, &quot;entrance2&quot;,
		$startRoom))
	(set: $startRoom to _x)
	(output-data:&quot;&quot;)
	]))


&lt;!-- maps a start room onto its nearest opposite start room at the otherr side of the map.  
Presupposes: startRoom has been assigned. The entrances listed are opposite.  
Called By: randomFlipLR
--&gt;
(set: $flipStartLR to 
(macro: [
	(set: _x to (cond: 
		$startRoom is &quot;entrance3&quot;, &quot;entrance2&quot;,
		$startRoom is &quot;entrance2&quot;, &quot;entrance3&quot;,
		$startRoom is &quot;entrance5&quot;, &quot;entrance6&quot;,
		$startRoom is &quot;entrance6&quot;, &quot;entrance5&quot;,
		$startRoom is &quot;entrance1&quot;, &quot;entrance4&quot;,
		$startRoom is &quot;entrance4&quot;, &quot;entrance1&quot;,
		$startRoom))
	(set: $startRoom to _x)
	(output-data:&quot;&quot;)
	]))


(set: $setStartRoomForFlat to 
(macro: [
	(if: $directionIn is &quot;north&quot;)[
		(set: _x to ($srandom: 1))
		(if: _x is 0)[(set: $startRoom to &quot;entrance2&quot;)]
		(else:)[(set: $startRoom to &quot;entrance3&quot;)]
												($startRoomLog2:1)
		]
	(if: $directionIn is &quot;east&quot;)[
		(set: $startRoom to &quot;entrance4&quot;)
		]	
	(if: $directionIn is &quot;south&quot;)[
		(set: _x to ($srandom: 1))
		(if: _x is 0)[(set: $startRoom to &quot;entrance5&quot;)]
		(else:)[(set: $startRoom to &quot;entrance6&quot;)]
		]
	(if: $directionIn is &quot;west&quot;)[
		(set: $startRoom to &quot;entrance1&quot;)
		]
	(output-data:&quot;&quot;)
	]))

(set: $buildFlat to 
(macro: [
	($setStartRoomForFlat:)
	($setScreenValuesForFlat:)
	($rotateFlatByRandom90:)
	($randomFlipLR:)
	($randomFlipUD:)
	($setFlatVocab:)
	(output-data:&quot;&quot;)
	]))
	
(set: $setFlatVocab to 
(macro: [
	(set: $castleSteps to &quot;&quot;)
	(set: $inTheEntranceHall to &quot;in a gatehouse beneath a heavy portcullis&quot;)
	($setLadder:)
	($setUpAndToThe:)
	($setDownAndToThe:)
	(set: $passageNoun to &quot;stairwell&quot;)
	(output-data:&quot;&quot;)
	]
	))

}</tw-passagedata><tw-passagedata pid="98" name="error checkers" tags="startup" position="377,2619" size="100,100">{&lt;!-- ERROR CHECKER--&gt;

(set: $startRoomChecker to 
(macro: num-type _index, [
	(set: $errorNum to (str: _index))
	(if: $startRoom is in (a:&quot;entrance5&quot;, &quot;entrance6&quot;) and $downOnScreenAB is not &quot;east&quot;)[(error: &quot;$startRoom is &quot; + $startRoom + &quot; but dAB is &quot; + $downOnScreenAB + &quot;; &quot; + $errorNum)] 
	(if: $startRoom is in (a:&quot;entrance4&quot;) and $rightOnScreen is not &quot;east&quot;)[(error: &quot;$startRoom is &quot; + $startRoom + &quot; but RoS is &quot; + $rightOnScreen + &quot;; &quot; + $errorNum)]
	(if: $startRoom is in (a:&quot;entrance1&quot;) and $leftOnScreen is not &quot;east&quot;)[(error: &quot;$startRoom is &quot; + $startRoom + &quot; but LoS is &quot; + $leftOnScreen + &quot;; &quot; + $errorNum)]
	(if: $startRoom is in (a:&quot;entrance2&quot;, &quot;entrance3&quot;) and $upOnScreenAB is not &quot;east&quot;)[(error: &quot;$startRoom is &quot; + $startRoom + &quot; but UoS is &quot; + $upOnScreenAB + &quot;; &quot; + $errorNum)] 
	(output-data:&quot;&quot;)
	]))

(set: $strtLOG to (a:&quot;initiated&quot;))

(set: $startRoomLog to 
(macro: num-type _index, [
	(set: $errorNum to (str: _index))
	(if: $startRoom is in (a:&quot;entrance5&quot;, &quot;entrance6&quot;) and $downOnScreenAB is not &quot;east&quot;)[(set: $strtLOG to it + (a:&quot;startRoom is &quot; + $startRoom + &quot; but dAB is &quot; + $downOnScreenAB + &quot;; &quot; + $errorNum))] 
	(if: $startRoom is in (a:&quot;entrance4&quot;) and $rightOnScreen is not &quot;east&quot;)[(set: $strtLOG to it + (a:&quot;startRoom is &quot; + $startRoom + &quot; but RoS is &quot; + $rightOnScreen + &quot;; &quot; + $errorNum))]
	(if: $startRoom is in (a:&quot;entrance1&quot;) and $leftOnScreen is not &quot;east&quot;)[(set: $strtLOG to it + (a:&quot;startRoom is &quot; + $startRoom + &quot; but LoS is &quot; + $leftOnScreen + &quot;; &quot; + $errorNum))]
	(if: $startRoom is in (a:&quot;entrance2&quot;, &quot;entrance3&quot;) and $upOnScreenAB is not &quot;east&quot;)[(set: $strtLOG to it + (a:&quot;startRoom is &quot; + $startRoom + &quot; but UoS is &quot; + $upOnScreenAB + &quot;; &quot; + $errorNum))] 
	(output-data:&quot;&quot;)
	]))

(set: $startRoomLog2 to 
(macro: num-type _index, [
	(set: $errorNum to (str: _index))
	(set: $strtLOG to it + (a:&quot;::: &quot; + $startRoom + &quot;::: &quot; + &quot;( &quot; + $errorNum + &quot; )&quot;))
	(output-data:&quot;&quot;)
	]))
	
	}</tw-passagedata><tw-passagedata pid="99" name="house architecture" tags="startup" position="532,2571" size="100,100">{(set: $buildHouse to 
(macro: [
	($buildFlat:)
	(if: $startRoom is in (a:&quot;entrance3&quot;,&quot;entrance4&quot;,&quot;entrance5&quot;))
		[(set: $downstairs to &quot;left&quot;)]
	(else:) [(set: $downstairs to &quot;right&quot;)]
	(set: $architecture to &quot;house&quot;)
	($setHouseVocab:)
	(output-data:&quot;&quot;)
	]))

(set: $setStairDirections to 
(macro: [
	(if: $downstairs is &quot;left&quot;)[
		(set: $DUandToThe to &quot;down and to the&quot;)
		(set: $UDandToThe to &quot;up and to the&quot;)
		(set: $upTerm to &quot;up&quot;)
		(set: $downTerm to &quot;down&quot;)
		(set: $leftStairs to &quot;on the ground floor&quot;)
		(set: $rightStairs to &quot;on the upstairs floor&quot;)
		(set: $inTheEntranceHall to &quot;at the servant&#39;s entrance&quot;)
		]
	(else:) [
		(set: $DUandToThe to &quot;up and to the&quot;)
		(set: $UDandToThe to &quot;down and to the&quot;)
		(set: $upTerm to &quot;down&quot;)
		(set: $downTerm to &quot;up&quot;)
		(set: $leftStairs to &quot;on the upstairs floor&quot;)
		(set: $rightStairs to &quot;on the ground floor&quot;)
		(set: $inTheEntranceHall to &quot;in an entrance hall&quot;)
		]
	(unless: $architecture is &quot;house&quot;)[
		(set: $DUandToThe to &quot;&quot;)
		(set: $UDandToThe to &quot;&quot;)
		(set: $upTerm to &quot;&quot;)
		(set: $downTerm to &quot;&quot;)
		(set: $upstairs to &quot;&quot;)
		(set: $downstairs to &quot;&quot;)
	]
	(output-data:&quot;&quot;)
	]
		))
		
(set: $setHouseVocab to 
(macro: [
	($setStairDirections:)
	($setLadder:)
	($setUpAndToThe:)
	($setDownAndToThe:)
	(set: $passageAdj to 1st of $referenceString of $passageTerms)
	(set: $passageNoun to 2nd of $referenceString of $passageTerms)
	(set: $stairway to &quot;on a wide staircase&quot;)
	(set: $stairway2 to &quot;on a narrow rear staircase&quot;)
	(output-data:&quot;&quot;)
	]
	))
		
}</tw-passagedata><tw-passagedata pid="100" name="test castle" tags="" position="1212,2382" size="100,100">{(set: $floorInt to 11)
(set: $hundredNumber to $floorInt*100)

(set: $imageType to 1) 
(set: $decadeNum to 80) 
(set: $decadeNumber to $hundredNumber + $decadeNum)

(set: $decadeString to (str: $decadeNum))
(set: $decadeReference to $hundredNumber + $decadeNum + 1) 
(set: $referenceString to (str: $decadeReference))
(set: $seedIndex to 1)
(set: $randomSeed to (str: $decadeReference - 1) of $randomMaps)
(set: $roomAdjective to &quot;a &quot;)
(set: $complexLanguage to (str: $decadeReference) of $generalLanguage)
($refreshSentences:) 

($setImage:)
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1442);&lt;/script&gt;]



(set: $barracks to (a:1180))



($randomWayIn:)
($buildCastle:)

($fixOptionalPaths:)
($refreshSentences:) 
}
The direction in is $directionIn
The startRoom is $startRoom
You are heading $directionIn [[into a castle-&gt;$startRoom]]. 

</tw-passagedata><tw-passagedata pid="101" name="tower architecture" tags="startup" position="532,2702" size="100,100">{&lt;!-- TOWER --&gt;

&lt;!-- decides randomly whether downOnScreen corresponds to clockwise or counterclockwise around the tower 
Presupposes: nothing
Called By: nothing. Legacy. 
--&gt;

(set: $towerWise to 
(macro: [
	(set: _x to ($srandom: 1))
	(if: _x is 0)[
		(set: $downOnScreenAB to &quot;west&quot;)
		(set: $downOnScreenBC to &quot;northeast&quot;)
		(set: $downRound to &quot;southeast&quot;)
		]
	(else:)[
		(set: $downOnScreenAB to &quot;east&quot;)
		(set: $downOnScreenBC to &quot;northwest&quot;)
		(set: $downRound to &quot;southwest&quot;)
		]
	(output-data:&quot;&quot;)
	]))



&lt;!-- rotates tower by 45 degrees, turning north to northeast, etc.  
Presupposes: towerwise and setScreenValuesForTower have been called, fixing values for upScreen and downScreen
Called By: nothing. Legacy. 
--&gt;
(set: $rotateTower45 to 
(macro: [
	(set: $downOnScreenAB to ($rotateCompass45: $downOnScreenAB))
	(set: $downOnScreenBC to ($rotateCompass45: $downOnScreenBC))
	(set: $downRound to ($rotateCompass45: $downRound))
	(set: $upOnScreenAB to ($rotateCompass45: $upOnScreenAB))
	(set: $upOnScreenBC to ($rotateCompass45: $upOnScreenBC))
	(set: $upRound to ($rotateCompass45: $upRound))
	(output-data:&quot;&quot;)
	]))

&lt;!-- rotates tower by random amount. Calls random number and does a series of &lt; tests on it, rotating the tower by 45 degrees for each one it passes. 
Presupposes: towerwise and setScreenValuesForTower have been called, fixing values for upScreen and downScreen
Called By: nothing. Legacy. 
--&gt;
(set: $rotateTowerByRandom to 
(macro: [
	(set: _x to ($srandom: 7))
	(if: _x &lt; 1) [($rotateTower45:)]
	(if: _x &lt; 2) [($rotateTower45:)]
	(if: _x &lt; 3) [($rotateTower45:)]
	(if: _x &lt; 4) [($rotateTower45:)]
	(if: _x &lt; 5) [($rotateTower45:)]
	(if: _x &lt; 6) [($rotateTower45:)]
	(if: _x &lt; 7) [($rotateTower45:)]
	(output-data:_x)
	]))

&lt;!-- sets startRoom to be a room at the bottom of the tower, i.e. extreme right or left of map, to be determined randomly. Then decides whiich way is up, accordingly. 
Presupposes: directionIn has been set.  
Called By: buildTower
--&gt;
(set: $setTowerStartroom to 
(macro: [
	(set: _x to ($srandom: 1))
	(if: _x is 0)[
		(set:$startRoom to &quot;entrance1&quot;)
		(set:$leftOnScreen to &quot;up&quot;)
		(set:$rightOnScreen to &quot;down&quot;)		
		]
	(if: _x is 1)[
		(set:$startRoom to &quot;entrance4&quot;)
		(set: $leftOnScreen to &quot;down&quot;)
		(set:$rightOnScreen to &quot;up&quot;)	
		]
	(output-data:&quot;&quot;)
	]))
	
&lt;!-- sets upOnScreen, downOnScreen and upRound, downRound to take one around a level of the tower. Assigns compass values to (three of) them based on directionIn. Randomly decides whether to reverse them. Then fixes the others accordingly. 
Presupposes: directionIn has been set, $setTowerStartroom has already been called. 
Called By: buildTower
--&gt;

(set: $setScreenValuesForTower to 
(macro: [
	(set: $downOnScreenBC to ($rotateCompass45: $directionIn))
	(set: $upOnScreenAB to ($rotateCompass270: $downOnScreenBC))
	(set: $downRound to ($rotateCompass90: $directionIn))
	(set: _x to ($srandom: 1))
	(if: _x is 0)[
		(set: _y to $upOnScreenAB)
		(set: $upOnScreenAB to $downOnScreenBC)
		(set: $downOnScreenBC to _y)
		(set: $downRound to ($flipCompass: $downRound))]
	(set: $downOnScreenAB to ($flipCompass: $upOnScreenAB))
	(set: $upOnScreenBC to ($flipCompass: $downOnScreenBC))
	(set: $upRound to ($flipCompass: $downRound))
	(output-data:&quot;&quot;)
	]))

	
(set: $buildTower to 
(macro: [
	($setTowerStartroom:)
	($setScreenValuesForTower:)
	($setTowerVocab:)
	(output-data:&quot;&quot;)
	]))
	
(set: $setLadder to
(macro: [
	(set: $ladder to &quot;&quot;)
	(if: $architecture is &quot;tower&quot;)[(set: $ladder to &quot; &quot; + 5th of $referenceString of $generalLanguage)]
	(output-data: &quot;&quot;)
	]))
	
(set: $setTowerVocab to 
(macro: [
	(set: $onAstairway to &quot;on a wide stairwell&quot;)
	(set: $onAstairway2 to &quot;on a narrow stairwell&quot;)
	(set: $stairWay to &quot;stairwell&quot;)
	($setLadder:)
	($setUpAndToThe:)
	($setDownAndToThe:)
	(set: $inTheEntranceHall to &quot;in an entrance hall&quot;)
	(output-data:&quot;&quot;)
	]
	))
	}</tw-passagedata><tw-passagedata pid="102" name="pit architecture" tags="startup" position="696,2574" size="100,100">{&lt;!-- sets startRoom to be a room at the top of the pit, i.e. extreme right or left of map, to be determined randomly. Then decides which way is up, accordingly. 
Presupposes: directionIn has been set.  
Called By: buildPit
--&gt;
(set: $setPitStartroom to 
(macro: [
	(set: _x to ($srandom: 1))
	(if: _x is 0)[
		(set:$startRoom to &quot;entrance1&quot;)
		(set:$leftOnScreen to &quot;down&quot;)
		(set:$rightOnScreen to &quot;up&quot;)		
		]
	(if: _x is 1)[
		(set:$startRoom to &quot;entrance4&quot;)
		(set: $leftOnScreen to &quot;up&quot;)
		(set:$rightOnScreen to &quot;down&quot;)	
		]
	(output-data:&quot;&quot;)
	]))
	
(set: $buildPit to 
(macro: [
	($setPitStartroom:)
	($setScreenValuesForTower:)
	(output-data:&quot;&quot;)
	]))
	}</tw-passagedata><tw-passagedata pid="103" name="architecture vocab" tags="startup" position="687,2696" size="100,100">{
(set: $setUpAndToThe to
(macro: [
	(set: $upAndToThe to &quot;&quot;)
	(if: $architecture is &quot;hilly&quot;)[(set: $upAndToThe to &quot;up and to the&quot;)]
	(output-data: &quot;&quot;)
	]))
	
(set: $setDownAndToThe to
(macro: [
	(set: $downAndToThe to &quot;&quot;)
	(if: $architecture is &quot;hilly&quot;)[(set: $downAndToThe to &quot;down and to the&quot;)]
	(output-data: &quot;&quot;)
	]))


(set: $directionJoined to
(macro: str-type _firstDir, str-type _secondDir, [
	(if: _firstDir is in (a: &quot;north&quot;, &quot;south&quot;))
		[(output-data: (joined: &quot;&quot;,_firstDir,_secondDir))]
	(else:) [(output-data: (joined: &quot;&quot;,_secondDir,_firstDir))]
	(output-data: &quot;&quot;)
	]))

&lt;!-- tells the player durinng game time what a direction link leads to. E.g. instead of just &quot;east&quot;, the game prints out &quot;east to an armory&quot;. Works by temporarily changing the roomNumber to the roomNumber of the distal location, then evaluatinig for vocab. 
Presupposes: receives distal room number as argument
Called By: Either called directly in passages or by setToTheWords. 
--&gt;
(set: $toThePhrase to 
(macro: num-type _roomNumber, [	
	(set: _originalNumber to $roomNumber)
	(set: $roomNumber to _roomNumber)
	($setRoomPhrase:)
	(set: _phrase to &quot; to &quot; +
		$roomAdjective +
		$roomNoun)
	(set: $roomNumber to _originalNumber)
	(output-data: _phrase)
		]
		))

&lt;!-- as toThePhrase but with &quot;towards&quot; 
--&gt;
(set: $towardsThePhrase to 
(macro: num-type _roomNumber, [	
	(set: _originalNumber to $roomNumber)
	(set: $roomNumber to _roomNumber)
	($setRoomPhrase:)
	(set: _phrase to &quot; towards &quot; +
		$roomAdjective +
		$roomNoun)
	(set: $roomNumber to _originalNumber)
	(output-data: _phrase)
		]
		))

&lt;!-- when given just the room name of the distal location, extracts a number from it and uses it to query toThePhrase. 
Presupposes: receives distal room name as argument
Called By: Either called directly in passages or called by a summary function like downAB. 
--&gt;
(set: $setToTheWords to
(macro: str-type _room, [
	(if: (substring: _room, 1, 4) is &quot;room&quot;)
		[
		(set: $nextRoom to (substring: _room, 5, 5))
		(set: $toTheWords to ($toThePhrase: (num: $nextRoom)))
		]
	(else:)[(set: $toTheWords to &quot;&quot;)]
	(output-data:&quot;&quot;)
	]))

&lt;!-- A summary function that eliminates the need for repetitive code in passages. Combines the optional downAndToThe modifier, the link producing code, the optional castlesteps modifier and the distal descriptor toTheWords.
Presupposes: the pieces combined have been defined. 
Called By: Called directly in passages. 
--&gt;
(set: $downAB to
(macro: str-type _room, [
	($setToTheWords: _room)
	(output-data: &quot;$downAndToThe [[$downOnScreenAB-&gt;&quot; + _room + &quot;]] $castleSteps&quot; + $toTheWords)
	]))
	
&lt;!-- As down AB but for connections from the second to the third tier of map.  
Presupposes: the pieces combined have been defined. 
Called By: Called directly in passages. 
--&gt;
(set: $downBC to
(macro: str-type _room, [
	($setToTheWords: _room)
	(output-data: &quot;$downAndToThe [[$downOnScreenBC-&gt;&quot; + _room + &quot;]] $castleSteps&quot; + $toTheWords)
	]))

&lt;!-- As down AB but for connections in the opposite direction.  
Presupposes: the pieces combined have been defined. 
Called By: Called directly in passages. 
--&gt;
(set: $upAB to
(macro: str-type _room, [
	($setToTheWords: _room)
	(output-data: &quot;$upAndToThe [[$upOnScreenAB-&gt;&quot; + _room + &quot;]] $castleSteps&quot; + $toTheWords)
	]))
	
&lt;!-- As up AB but for connections from the third to the second tier of map. 
Presupposes: the pieces combined have been defined. 
Called By: Called directly in passages. 
--&gt;
(set: $upBC to
(macro: str-type _room, [
	($setToTheWords: _room)
	(output-data: &quot;$upAndToThe [[$upOnScreenBC-&gt;&quot; + _room + &quot;]] $castleSteps&quot; + $toTheWords)
	]))
	
(set: $toStairsOrEntrance to 
(macro: str-type _roomName, [
	(if: $startRoom is _roomName)[(output-data:&quot;to the entrance&quot;)]
	(else:) [
		(if: $architecture is in (a: &quot;crypt&quot;, &quot;mansion&quot;, &quot;castle&quot;))[(output-data:&quot;&quot;)]
		(else:)[(output-data:&quot;to a &quot; + $stairway)]]
	]
	))

(set: $toAnyOrEntrance to 
(macro: str-type _roomName, [
	(if: $startRoom is _roomName)[(output-data:&quot;to the entrance&quot;)]
	(else:) [(output-data:&quot;&quot;)]
	]
	))

(set: $goingFromTo to 
(macro: str-type _direction1, str-type _direction2, [
	(set: _goingFromTo to (cond:
	_direction1 is &quot;north&quot; and _direction2 is &quot;south&quot;, &quot;going from north to south&quot;,
	_direction1 is &quot;south&quot; and _direction2 is &quot;north&quot;, &quot;going from north to south&quot;,
	_direction1 is &quot;east&quot; and _direction2 is &quot;west&quot;, &quot;going from east to west&quot;,
	_direction1 is &quot;west&quot; and _direction2 is &quot;east&quot;, &quot;going from east to west&quot;,
	_direction1 is &quot;up&quot; and _direction2 is &quot;down&quot;, &quot;&quot;,
	_direction1 is &quot;down&quot; and _direction2 is &quot;up&quot;, &quot;&quot;,
	&quot;going from &quot; + _direction1 + &quot;to &quot; + _direction2))
	(output-data:_goingFromTo)
	]
	))	

(set: $forceSpace to &quot; &quot;)
	
}


	</tw-passagedata><tw-passagedata pid="104" name="castle architecture" tags="startup" position="842,2572" size="100,100">{
(set: $setUpDownValuesForCastle to 
(macro: [
	(set: $randomForSetUpDownValuesForCastle to ($srandom: 1))
	(if: $randomForSetUpDownValuesForCastle is 0)[
		(set: $downOnScreenAB to &quot;down&quot;)
		(set: $downOnScreenBC to &quot;down&quot;)
		(set: $upOnScreenAB to &quot;up&quot;)
		(set: $upOnScreenBC to &quot;up&quot;)
		]
	(else:)
		[
		(set: $downOnScreenAB to &quot;up&quot;)
		(set: $downOnScreenBC to &quot;up&quot;)
		(set: $upOnScreenAB to &quot;down&quot;)
		(set: $upOnScreenBC to &quot;down&quot;)
		]
	(output-data:&quot;&quot;)
	]))


	

(set: $setForwardBackwardValuesForCastle to 
(macro: [
	(set: _x to ($srandom: 1))
	(if: _x is 0)
		[(set: $forward to $directionIn)
		(set: $backward to ($flipCompass: $forward))]
	(else:)
		[(set: $backward to $directionIn)
		(set: $forward to ($flipCompass: $backward))]
	(output-data:&quot;&quot;)
	]))
	
(set: $setLeftRightValuesForCastle to 
(macro: [
	(set: _x to ($srandom: 1))
	(if: _x is 0)[
		(set: $leftOnScreen to ($rotateCompass90: $forward))
		(set: $rightOnScreen to ($flipCompass: $leftOnScreen))
		]
	(else:)[
		(set: $leftOnScreen to ($rotateCompass90: $backward))
		(set: $rightOnScreen to ($flipCompass: $leftOnScreen))
		]
	(output-data:&quot;&quot;)
	]))
		

(set: $setCastleVocab to 
(macro: [
	(set: $onAstairway to &quot;on a wide stairwell&quot;)
	(set: $onAstairway2 to &quot;on a narrow stairwell&quot;)
	(set: $stairWay to &quot;stairwell&quot;)
	($setLadder:)
	($setUpAndToThe:)
	($setDownAndToThe:)
	(set: $stairway to &quot;passageway&quot;)
	(set: $passageNoun to &quot;stairwell&quot;)
	(set: $inTheEntranceHall to &quot;in a gatehouse beneath a heavy portcullis&quot;)
	(set: $castleSteps to &quot;some &quot; + (either: &quot;stone &quot;, &quot;&quot;) + &quot;steps&quot;)
	(if: $upOnScreenAB is &quot;up&quot;)
		[
		(set: $upOnTheBattlements to &quot;on the battlements&quot;)
		(set: $onTheBattlements to &quot;inside&quot;)
		]
	(else:)
		[
		(set: $onTheBattlements to &quot;on the battlements&quot;)
		(set: $upOnTheBattlements to &quot;inside&quot;)
		]
	(output-data:&quot;&quot;)
	]
	))
	
(set: $setCastleStartRoom to 
(macro: [
	(set: $startRoom to (cond:
		$forward is $directionIn and $upOnScreenAB is &quot;up&quot;, &quot;entrance3&quot;,
		$forward is $directionIn and $upOnScreenAB is &quot;down&quot;, &quot;entrance5&quot;,
		$backward is $directionIn and $upOnScreenAB is &quot;up&quot;, &quot;entrance2&quot;,
		$backward is $directionIn and $upOnScreenAB is &quot;down&quot;, &quot;entrance6&quot;,		&quot;error in setCastleStartroom&quot;))	
	(output-data:&quot;&quot;)
	]
	))
	
(set: $buildCastle to 
(macro: [
	($setUpDownValuesForCastle:)
	($setForwardBackwardValuesForCastle:)
	($setLeftRightValuesForCastle:)
	($setCastleVocab:)
	($setCastleStartRoom:) 
	(set: $architecture to &quot;castle&quot;)
	(output-data:&quot;&quot;)
	]))
	}</tw-passagedata><tw-passagedata pid="105" name="mansion architecture" tags="startup" position="1051,2650" size="100,100"> {
 
(set: $buildMansion to 
(macro: [
	($buildCastle:)
	(set: $architecture to &quot;mansion&quot;)
	($setMansionVocab:)
	(set: $startRoom to &quot;passage5&quot;)
	(output-data:&quot;&quot;)
	]))

(set: $carpetAdjective to 
(macro: [
	(output-data: (either: &quot;luxurious&quot;, &quot;luxury&quot;, &quot;sumptuous&quot;, &quot;palatial&quot;, &quot;lavish&quot;, &quot;opulent&quot;, &quot;magnificent&quot;, &quot;lush&quot;, &quot;expensive&quot;, &quot;grand&quot;))
	]
	))
	
(set: $mansionFloor to
(macro: [
	(set: $mansionFlr to &quot;Error: mansionFlr matches no if clause &quot;)
	(if: $architecture is not &quot;mansion&quot;)[(set:$mansionFlr to &quot;&quot;)]
	(else:)[
		(if: $thisRoomsNumber is in (a: 0,1,9,11,12,13) and $upOnScreenAB is &quot;up&quot;) [(set:$mansionFlr to &quot;on the upstairs floor&quot;)]
		(if: $thisRoomsNumber is in (a: 4, 5, 6, 14, 15, 17))[(set:$mansionFlr to &quot;on the ground floor&quot;)]
		(if: $thisRoomsNumber is in (a: 2, 3, 7, 8, 18, 19) and $upOnScreenAB is &quot;up&quot;)[(set:$mansionFlr to &quot;on the basement floor&quot;)]
		(if: $thisRoomsNumber is in (a: 0,1,9,11,12,13) and $upOnScreenAB is &quot;down&quot;)[(set:$mansionFlr to  &quot;on the basement floor&quot;)]
		(if: $thisRoomsNumber is in (a: 2, 3, 7, 8, 18, 19) and $upOnScreenAB is &quot;down&quot;)[(set:$mansionFlr to &quot;on the upstairs floor&quot;)]
		]
	(output-data: $mansionFlr)
	]))

	
(set: $setMansionVocab to 
(macro: [
	(set: $upToAttic to &quot;through a narrow wooden side door and up to the attic&quot;)
	(set: $secretPassage1 to &quot;through a bookcase into a secret passage&quot;) 
	(set: $secretPassage2 to &quot;through a suit or armor into a secret tunnel&quot;) 
	(set: $secretPassage3 to &quot;through a fireplace into a secret passage&quot;) 
	(set: $secretPassage4 to &quot;through a drinks cabinet into a secret passage&quot;) 
	(set: $onAstairway2 to &quot;on a narrow stairwell&quot;)
	(set: $stairWay to &quot;the main staircase&quot;)
	(set: $stairWay2 to &quot;s flight of narrow stairs&quot;)
	($setLadder:)
	($setUpAndToThe:)
	($setDownAndToThe:)
	(set: $castleSteps to &quot;some &quot; + (either: ($carpetAdjective:) + &quot; carpeted &quot;, &quot;carpeted &quot;, &quot;&quot;) + &quot;stairs&quot;)
	(set: $passageNoun to &quot;stairwell&quot;)
	(output-data:&quot;&quot;)
	]
	))

}</tw-passagedata><tw-passagedata pid="106" name="castleWall1" tags="" position="2003,2001" size="100,100">{
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[
(if: $architecture is &quot;castle&quot;)[You are $onTheBattlements of the castle wall. You can go [[$backward-&gt;entrance3]] or [[$forward-&gt;room2]] ($toThePhrase: 2). 
(if: $upOnScreenAB is &quot;up&quot;)[You may also exit via a doorway $leftOnScreen into the [[open bailey-&gt;bailey]].]
]
(if: $architecture is in (a: &quot;mansion&quot;) and $upOnScreenAB is &quot;up&quot;)
[You step down into a cavernous secret passage ($goingFromTo:$forward, $backward) that passes beneath the basement of the house. You can go [[up and to the $backward-&gt;entrance3]]  or [[up and to the $forward-&gt;room2]]($toThePhrase: 2) from here.] 
(if: $architecture is in (a: &quot;mansion&quot;) and $upOnScreenAB is &quot;down&quot;)
[You are in a narrow, dusty passage ($goingFromTo:$forward, $backward) that passes through the attic of the house. You can go [[down and to the $backward-&gt;entrance3]] or [[down and to the $forward-&gt;room2]]($toThePhrase: 2) (print: &quot; &quot;) from here.] 
]
}</tw-passagedata><tw-passagedata pid="107" name="castleWall3" tags="" position="2058,1302" size="100,100">{
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[
(if: $architecture is &quot;castle&quot;)[You are $upOnTheBattlements of the castle wall.(if: $upOnTheBattlements is &quot;inside&quot;)[You may also exit via a doorway $leftOnScreen into the [[open bailey-&gt;bailey]].]]
(if: $architecture is &quot;mansion&quot; and $upOnScreenAB is &quot;up&quot;)[You are in a narrow passageway ($goingFromTo:$forward, $backward) that threads through the attic.]
(if: $architecture is &quot;mansion&quot; and $upOnScreenAB is &quot;down&quot;)[You step down into a narrow secret cavern ($goingFromTo:$forward, $backward) that winds beneath the basement of the house.]

(if: $architecture is &quot;castle&quot;)[From here, you can go [[$backward-&gt;stair2]]  or [[$forward-&gt;room1]] ($toThePhrase: 1).]
(if: $architecture is &quot;mansion&quot; and $upOnScreenAB is &quot;up&quot;)[From here, you can go [[down and to the $backward-&gt;stair2]] ($toThePhrase: 9) or [[down and to the $forward-&gt;room1]] ($toThePhrase: 1).]
(if: $architecture is &quot;mansion&quot; and $upOnScreenAB is &quot;down&quot;)[From here, you can go [[up and to the $backward-&gt;stair2]]  or [[up and to the $forward-&gt;room1]] ($toThePhrase: 1).]
]
}</tw-passagedata><tw-passagedata pid="108" name="castleWall2" tags="" position="1761,1298" size="100,100">{
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[
(if: $architecture is &quot;castle&quot;)[You are $upOnTheBattlements of the castle wall.(if: $upOnTheBattlements is &quot;inside&quot;)[You may also exit via a doorway $rightOnScreen into the [[open bailey-&gt;bailey]].]]
(if: $architecture is &quot;mansion&quot; and $upOnScreenAB is &quot;up&quot;)[You are in an attic passageway ($goingFromTo:$forward, $backward).]
(if: $architecture is &quot;mansion&quot; and $upOnScreenAB is &quot;down&quot;)[You step down into a secret passage ($goingFromTo: $forward, $backward) carved through the rocks beneath the basement of the house.]

(if: $architecture is &quot;castle&quot;)[From here, you can go [[$backward-&gt;room9]] ($toThePhrase: 9) or [[$forward-&gt;entrance6]].]
(if: $architecture is &quot;mansion&quot; and $upOnScreenAB is &quot;up&quot;)[From here, you can go [[down and to the $backward-&gt;room9]] ($toThePhrase: 9) or [[down and to the $forward-&gt;entrance6]].]
(if: $architecture is &quot;mansion&quot; and $upOnScreenAB is &quot;down&quot;)[From here, you can go [[up and to the $backward-&gt;room9]] ($toThePhrase: 9) or [[up and to the $forward-&gt;entrance6]].]
]
}</tw-passagedata><tw-passagedata pid="109" name="bailey" tags="" position="1905,1648" size="100,100">{
(set: $thisRoomsNumber to 16)
(if: $architecture is &quot;castle&quot;)[
(if: $upOnScreenAB is &quot;up&quot;)
	[
	(set: $baileyExitRight to &quot;castleWall1&quot;)
	(set: $baileyExitLeft to &quot;castleWall4&quot;)
	(set: $baileyExitForward to &quot;room3&quot;)
	(set: $bForward to &quot;($toThePhrase: 3)&quot;)
	(set: $baileyExitBackward to &quot;room7&quot;)
	(set: $bBackward to &quot;($toThePhrase: 7)&quot;)
	]
	(else:)
	[
	(set: $baileyExitRight to &quot;castleWall3&quot;)
	(set: $baileyExitLeft to &quot;castleWall2&quot;)
	(set: $baileyExitForward to &quot;room0&quot;)
	(set: $bForward to &quot;($toThePhrase: 0)&quot;)
	(set: $baileyExitBackward to &quot;entrance5&quot;)
	(set: $bBackward to &quot;&quot;)
	] 
	
You are in the bailey of the castle, beneath an open sky. From here you can enter the castle to the [[$rightOnScreen-&gt;$baileyExitRight]], to the [[$leftOnScreen-&gt;$baileyExitLeft]], by heading [[$backward-&gt;$baileyExitBackward]] $bBackward or by proceeding [[$forward-&gt;$baileyExitForward]] $bForward. 

]



}</tw-passagedata><tw-passagedata pid="110" name="castleWall4" tags="" position="1701,2000" size="100,100">{
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[
(if: $architecture is &quot;castle&quot;)[
You are $onTheBattlements of the castle wall. You can go [[$backward-&gt;room8]] ($toThePhrase: 8) or [[$forward-&gt;entrance2]] from here. (if: $upOnScreenAB is &quot;up&quot;)[You may also exit via a doorway $rightOnScreen into the [[open bailey-&gt;bailey]].]]
(if: $architecture is in (a: &quot;mansion&quot;) and $upOnScreenAB is &quot;up&quot;)
[You step down into a cavernous secret passage ($goingFromTo:$forward, $backward) that passes beneath the basement of the house. You can go [[up and to the $backward-&gt;room8]] ($toThePhrase: 8) or [[up and to the $forward-&gt;entrance2]] from here.] 
(if: $architecture is in (a: &quot;mansion&quot;) and $upOnScreenAB is &quot;down&quot;)
[You are in a narrow, dusty passage ($goingFromTo:$forward, $backward) that passes through the attic of the house. You can go [[down and to the $backward-&gt;room8]] ($toThePhrase: 8) $forceSpace or [[down and to the $forward-&gt;entrance2]] $forceSpace from here.] 

]
}</tw-passagedata><tw-passagedata pid="111" name="crypt architecture" tags="startup" position="871,2696" size="100,100">{
(set: $buildCrypt to 
(macro: [
	($setUpDownValuesForCastle:)
	($setForwardBackwardValuesForCastle:)
	($setLeftRightValuesForCastle:)
	($setCryptVocab:)
	($setCryptStartRoom:) 
	(set: $architecture to &quot;crypt&quot;)
	(output-data:&quot;&quot;)
	]))
	
(set: $setCryptStartRoom to 
(macro: [
	(set: $startRoom to (cond:
		$forward is $directionIn and $upOnScreenAB is &quot;up&quot;, &quot;entrance5&quot;,
		$forward is $directionIn and $upOnScreenAB is &quot;down&quot;, &quot;entrance3&quot;,
		$backward is $directionIn and $upOnScreenAB is &quot;up&quot;, &quot;entrance6&quot;,
		$backward is $directionIn and $upOnScreenAB is &quot;down&quot;, &quot;entrance2&quot;,		&quot;error in setCastleStartroom&quot;))	
	(output-data:&quot;&quot;)
	]
	))
	
(set: $setCryptVocab to 
(macro: [
	(set: $onAstairway to &quot;on a wide stairwell&quot;)
	(set: $onAstairway2 to &quot;on a narrow stairwell&quot;)
	(set: $stairWay to &quot;stairwell&quot;)
	($setLadder:)
	($setUpAndToThe:)
	($setDownAndToThe:)
	(set: $passageNoun to &quot;stairwell&quot;)
	(set: $inTheEntranceHall to &quot;at a portico at the entrance to the crypt&quot;)
	(set: $castleSteps to &quot;some &quot; + (either: &quot;marble &quot;, &quot;&quot;) + &quot;steps&quot;)
	(output-data:&quot;&quot;)
	]
	))



}</tw-passagedata><tw-passagedata pid="112" name="test mansion" tags="" position="1655,2385" size="100,100">(set: $floorInt to 18)
(set: $hundredNumber to $floorInt*100)

(set: $imageType to 1) 
(set: $decadeNum to 40) 
(set: $decadeNumber to $hundredNumber + $decadeNum)

(set: $decadeString to (str: $decadeNum))
(set: $decadeReference to $hundredNumber + $decadeNum + 1) 
(set: $referenceString to (str: $decadeReference))
(set: $seedIndex to 1)
(set: $randomSeed to (str: $decadeReference - 1) of $randomMaps)
(set: $roomAdjective to &quot;a &quot;)
(set: $complexLanguage to (str: $decadeReference) of $generalLanguage)
 

($setImage:)
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1442);&lt;/script&gt;]



(set: $houses to (a:1840))



($randomWayIn:)
($buildMansion:)
($fixOptionalPaths:)



The direction in is $directionIn
The startRoom is $startRoom
You are heading $directionIn [[into a mansion-&gt;$startRoom]]. 

</tw-passagedata><tw-passagedata pid="113" name="hills architecture" tags="startup" position="1201,2650" size="100,100">{
(set: $buildHills to 
(macro: [
	($buildHouse:)
	($setHillDirections:)
	($setHillVocabulary:)
	(set: $architecture to &quot;hilly&quot;)
	(output-data:&quot;&quot;)
	]))
	
(set: $setHillDirections to 
(macro: [
	(if: $downstairs is &quot;left&quot;)[
		(set: $DUandToThe to &quot;down and to the&quot;)
		(set: $UDandToThe to &quot;up and to the&quot;)
		(set: $upTerm to &quot;up&quot;)
		(set: $downTerm to &quot;down&quot;)
		(set: $leftStairs to &quot;down in a valley&quot;)
		(set: $rightStairs to &quot;up on a hill&quot;)
		]
	(else:) [
		(set: $DUandToThe to &quot;up and to the&quot;)
		(set: $UDandToThe to &quot;down and to the&quot;)
		(set: $upTerm to &quot;down&quot;)
		(set: $downTerm to &quot;up&quot;)
		(set: $leftStairs to &quot;up on a hill&quot;)
		(set: $rightStairs to &quot;down in a valley&quot;)
		]
	(unless: $architecture is &quot;house, hilly&quot;)[
		(set: $DUandToThe to &quot;&quot;)
		(set: $UDandToThe to &quot;&quot;)
		(set: $upTerm to &quot;&quot;)
		(set: $downTerm to &quot;&quot;)
		(set: $upstairs to &quot;&quot;)
		(set: $downstairs to &quot;&quot;)
	]
	(output-data:&quot;&quot;)
	]
		))
		
(set: $setHillVocabulary to 
(macro: [
	(set: $onAstairway to &quot;on a hill&quot;)
	(output-data:&quot;&quot;)

	]
		))
		
}</tw-passagedata><tw-passagedata pid="114" name="setArchitecture" tags="" position="1148,2223" size="100,100">(set: $setArchitecture to
(macro: [
	(set: $architecture to (cond: 
	$decadeReference is in 
	(a: 231), &quot;boat&quot;,
	$decadeReference is in 
	(a: 121,221,321,421,621,721,821,631,541,741,841,), &quot;castle&quot;,
	$decadeReference is in 
	(a: 1001,1011,131,431,1041, ), &quot;church&quot;,
	$decadeReference is in 
	(a: 611,1211,1421,1231,641), &quot;city&quot;,
	$decadeReference is in 
	(a: 11,711,21,31,41), &quot;crypt&quot;,
	$decadeReference is in 
	(a: 801,1201,111,211,311,411,511,811,911,1111,1411,531,1331,1431,441,1141), &quot;flat&quot;,
	$decadeReference is in 
	(a: 1,101,201,301,401,501,601,701,901,1101,1301,1401,1321,331), &quot;hilly&quot;,
	$decadeReference is in 
	(a: 1221,731,831,931,1031,141,241,341, ), &quot;house&quot;,
	$decadeReference is in 
	(a: 1121), &quot;mansion&quot;,
	$decadeReference is in 
	(a: 921), &quot;mountainside&quot;,
	$decadeReference is in 
	(a: 521), &quot;pit&quot;,
	$decadeReference is in 
	(a: 1311,1021,1131,941, ), &quot;tower&quot;,
	&quot;error&quot;)
	)
	(if: $architecture is &quot;error&quot;)[(error: &quot;architecture not specified&quot;)]
	(output-data: &quot;&quot;)
	]))
	
</tw-passagedata><tw-passagedata pid="115" name="altar" tags="" position="3211,1355" size="100,100">You are on the altar of the $architecture. $year7content From here you may go [[$downOnScreenAB-&gt;crossing]] to the crossing of the $architecture. A small door leads from here to the [[vestry]]. </tw-passagedata><tw-passagedata pid="116" name="crossing" tags="" position="3209,1500" size="100,100">You are at the crossing of the $architecture. (if: $architecture is &quot;cathedral&quot;)[From here you may head [[$leftOnScreen-&gt;left transept]] to the $leftOnScreen transept or [[$rightOnScreen-&gt;right transept]] to the $rightOnScreen transept.] To the $upOnScreen is the [[altar]] and to the $downOnScreen is the [[nave]]. (if: $architecture is &quot;cathedral&quot; or $optionalPath contains 3) [There are also steps leading up into the $architecture&#39;s [[spire]].] (if: $architecture is &quot;church&quot;) [There are also steps leading down to the [[crypt]].] </tw-passagedata><tw-passagedata pid="117" name="nave" tags="" position="3215,1655" size="100,100">You are in the nave of the $architecture. From here you can go [[$upOnScreenAB-&gt;crossing]] to the crossing, (if: $optionalPaths contains 5) [$rightOnScreen and up some steps to the [[altarboy&#39;s choir]]] or [[$downOnScreen-&gt;narthex]] to the narthex. You may also head $leftOnScreen to the [[matrimonial chapel]]. (if: $architecture is &quot;cathedral&quot;)[Alternatively, you can head $rightOnScreen to where a small door leads [[outside-&gt;cloister]].]</tw-passagedata><tw-passagedata pid="118" name="narthex" tags="" position="3208,2040" size="100,100">You are in the narthex of the $architecture. From here you can go $leftOnScreen to the [[font]], $rightOnScreen to the [[vapenhus]] or [[$upOnScreen-&gt;nave]] to the nave. (if: $architecture is &quot;cathedral&quot;) [You may also go up some steps to the [[organist&#39;s loft]].]</tw-passagedata><tw-passagedata pid="119" name="left transept" tags="" position="3037,1499" size="100,100">You are in the $leftOnScreen transept of a cathedral. From here you can go $rightOnScreen to the [[crossing]] or down some steps to the [[reliquary]]. (if: $optionalPath contains 1) [Alternatively, a small door leads to the [[vestry]].] </tw-passagedata><tw-passagedata pid="120" name="right transept" tags="" position="3375,1500" size="100,100">You are in the $rightOnScreen transept of a cathedral. From here you can go [[$leftOnScreen-&gt;crossing]] to the crossing. There are also steps leading down from here to the [[crypt]].  </tw-passagedata><tw-passagedata pid="121" name="crow&#39;s nest" tags="" position="3329,18" size="100,100">You are up in the crow&#39;s nest. $year1content From here you can go [[down-&gt;deck]] to the deck. </tw-passagedata><tw-passagedata pid="122" name="deck" tags="" position="3335,271" size="100,100">You are on the deck of a ship. From here you can go to [[the bow]], to [[the stern]], or step through a door into [[the bridge]]. You may also [[climb a ladder up into the crow&#39;s nest-&gt;crow&#39;s nest]]. </tw-passagedata><tw-passagedata pid="123" name="the bow" tags="" position="3521,269" size="100,100">You are at the ship&#39;s forecastle. From here a ladder descends [[below deck-&gt;below deck bow]]. You may also head [[back towards the bridge-&gt;deck]]. </tw-passagedata><tw-passagedata pid="124" name="the stern" tags="" position="2745,256" size="100,100">You are at the aft of the ship. From here a ladder descends [[below deck-&gt;below deck stern]]. You may also head [[back towards the bridge-&gt;deck]]. </tw-passagedata><tw-passagedata pid="125" name="the bridge" tags="" position="3068,156" size="100,100">You are on the bridge of a ship. From here there are three doors. One goes $rightOnScreen onto the [[deck]]. Another goes $upOnScreen into [[the navigation room]]. And a third goes $leftOnScreen into the [[captain&#39;s cabin]]. You may also descend a ladder to [[below deck]].  </tw-passagedata><tw-passagedata pid="126" name="the navigation room" tags="" position="3069,21" size="100,100">You are in the navigation room, surrounded by maps and compasses, sextants and other tools of the ship&#39;s navigator. $year2content From here you may go $leftOnScreen to the [[cabin of the captain&#39;s maid]] or $downOnScreen to [[the bridge]]. </tw-passagedata><tw-passagedata pid="127" name="below deck" tags="" position="3070,403" size="100,100">You are below deck. A ladder ascends from here to [[the bridge]]. You may also go $rightOnScreen [[towards the ship&#39;s bow-&gt;below deck bow]], $downOnScreen to a [[magazine]], or $leftOnScreen [[towards the ship&#39;s stern-&gt;below deck stern]]. </tw-passagedata><tw-passagedata pid="128" name="captain&#39;s cabin" tags="" position="2931,159" size="100,100">You are in the captain&#39;s cabin of a ship. $year4content From here you may head $upOnScreen to the [[cabin of the captain&#39;s maid]] or $rightOnScreen to the [[the bridge]]. </tw-passagedata><tw-passagedata pid="129" name="a store room" tags="" position="3523,546" size="100,100">You are in a store room for salted goods, beneath the deck of a ship. $year0content From here you can go $upOnScreen to [[the lower deck-&gt;below deck bow]]. </tw-passagedata><tw-passagedata pid="130" name="magazine" tags="" position="3070,553" size="100,100">You are in the magazine of a ship. $year5content From here you can go $upOnScreen to [[the lower deck-&gt;below deck]].  </tw-passagedata><tw-passagedata pid="131" name="Chaplain&#39;s cabin" tags="" position="2746,548" size="100,100">You are in the chaplain&#39;s cabin. $year7content From here you may go $upOnScreen to [[the lower deck-&gt;below deck stern]] or $leftOnScreen to the [[ship&#39;s morgue]]. </tw-passagedata><tw-passagedata pid="132" name="cabin of the captain&#39;s maid" tags="" position="2933,18" size="100,100">You are in the cramped cabin of the captain&#39;s maid. $year3content From here you may head $downOnScreen to the [[captain&#39;s cabin]], or $rightOnScreen to the [[the navigation room]]. </tw-passagedata><tw-passagedata pid="133" name="the brig" tags="" position="3648,408" size="100,100">You are in the brig of a ship. $year6content From here you can go $leftOnScreen to [[a passage below deck-&gt;below deck bow]]. </tw-passagedata><tw-passagedata pid="134" name="below deck bow" tags="" position="3518,406" size="100,100">You are below deck, towards the bow. From here you may go $downOnScreen to [[a store room]] for salted goods, $leftOnScreen towards the [[ladder up to the deck-&gt;below deck]], or $rightOnScreen to [[the brig]]. You may also ascend a ladder to [[the ship&#39;s forecastle-&gt;the bow]]. </tw-passagedata><tw-passagedata pid="135" name="below deck stern" tags="" position="2743,401" size="100,100">You are below deck, towards the stern. From here you may go $downOnScreen to the [[Chaplain&#39;s cabin]], $leftOnScreen to [[the sick bay]], or $rightOnScreen towards the [[ladder up to the deck-&gt;below deck]]. You may also ascend a ladder to [[the main deck-&gt;the stern]]. </tw-passagedata><tw-passagedata pid="136" name="the sick bay" tags="" position="2606,401" size="100,100">You are in the sick bay of the ship, surrounded by the accoutrements of medical practice. $year8content From here you may head $rightOnScreen to [[the lower deck-&gt;below deck stern]] or $downOnScreen to the [[ship&#39;s morgue]]. </tw-passagedata><tw-passagedata pid="137" name="ship&#39;s morgue" tags="" position="2611,544" size="100,100">You are in the ship&#39;s morgue. $year9content From here you may go $rightOnScreen to the [[Chaplain&#39;s cabin]] or $upOnScreen to [[the sick bay]]. </tw-passagedata><tw-passagedata pid="138" name="font" tags="" position="3051,2041" size="100,100">You are at the font, in the narthex of a $architecture. $year0content From here you may go $rightOnScreen to the main [[narthex]]. (if: $optionalPath contains 4) [Alternatively, you may head $upOnScreen to the [[matrimonial chapel]].] </tw-passagedata><tw-passagedata pid="139" name="altarboy&#39;s choir" tags="" position="3358,1775" size="100,100">You are in the choirboy&#39;s stalls of a $architecture. $year1content (if: $architecture is &quot;cathedral&quot;) [From here you can go $downOnScreen to the [[organist&#39;s loft]].] (if: $optionalPaths contains 5 or $architecture is &quot;church&quot;) [There are steps leading down and to the $leftOnScreen from here to the [[nave]].] </tw-passagedata><tw-passagedata pid="140" name="crypt" tags="" position="3515,1658" size="100,100">You are in the crypt beneath the $architecture. $year9content 

(if: $architecture is &quot;cathedral&quot;)[From here you may go up some steps to the [[$rightOnScreen transept-&gt;right transept]]](if: $architecture is &quot;cathedral&quot; and $optionalPath contains 2)[ or up some steps to the [[cloister]]]. A small doorway leads $leftOnScreen to the [[reliquary]]. (if: $architecture is &quot;church&quot;) [There are also steps leading up to the [[crossing]].] </tw-passagedata><tw-passagedata pid="141" name="cloister" tags="" position="3363,1656" size="100,100">You are in the cloister of a cathedral. From here, you may head $leftOnScreen through a small door to the [[nave]]. (if: $optionalPath contains 2) [There are also some steps leading down to the [[crypt]].] </tw-passagedata><tw-passagedata pid="142" name="vestry" tags="" position="3045,1356" size="100,100">You are in the vestry of a $architecture, where the vestments, hymnals, missals and other liturgical texts are stored. $year2content From here you can head $rightOnScreen through a small door that leads to the [[altar]] or $upOnScreen to the [[clergy house]]. (if: $architecture is &quot;cathedral&quot; and $optionalPath contains 1) [Alternatively, a small door leads to the [[$leftOnScreen transept-&gt;left transept]].] A tiny, barely visible door leads to the [[priest&#39;s hole]]. </tw-passagedata><tw-passagedata pid="143" name="organist&#39;s loft" tags="" position="3354,1921" size="100,100">You are in the organist&#39;s loft of a cathedral, overlooking the nave. From here you may go $upOnScreen to the [[altarboy&#39;s choir]], or down some steps to the [[narthex]]. </tw-passagedata><tw-passagedata pid="144" name="spire" tags="" position="3371,1353" size="100,100">You are in the spire of a $architecture. From here you may only head down to the $architecture&#39;s [[crossing]]. </tw-passagedata><tw-passagedata pid="145" name="matrimonial chapel" tags="" position="3046,1656" size="100,100">You are in the matrimonial chapel of a $architecture. $year3content From here you may head $rightOnScreen to the [[nave]]. (if: $optionalPath contains 4) [Alternatively, you may head $downOnScreen to the [[font]].] </tw-passagedata><tw-passagedata pid="146" name="priest&#39;s hole" tags="" position="2903,1360" size="100,100">You are in a tiny cramped hiding place in a $architecture, where priests can hide from persecutors. $year6content From here you may only head back to the [[vestry]]. </tw-passagedata><tw-passagedata pid="147" name="clergy house" tags="" position="3043,1208" size="100,100">You are in the clergy house of a $architecture. $year4content From here you may head back to the [[vestry]]. </tw-passagedata><tw-passagedata pid="148" name="vapenhus" tags="" position="3358,2038" size="100,100">You are in the vapenhus of a $architecture, where worshippers must leave their weapons before entering. $year5content From here you can go back $leftOnScreen to the [[narthex]]. </tw-passagedata><tw-passagedata pid="149" name="temple vocab" tags="" position="3208,1211" size="100,100"></tw-passagedata><tw-passagedata pid="150" name="reliquary" tags="" position="2906,1660" size="100,100">You are in the reliquary of a $architecture, where the broken effects of prophets and saints are stored. $year8content From here you may head $rightOnScreen to the [[crypt]] (if: $architecture is &quot;cathedral&quot;)[or up some steps to the [[$leftOnScreen transept-&gt;left transept]].]</tw-passagedata><tw-passagedata pid="151" name="bottom left turret" tags="" position="3840,2101" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="152" name="bottom right turret" tags="" position="4648,2101" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="153" name="top left turret" tags="" position="3848,1355" size="100,100">{(set: $castleLevel to $castleLevel * -1)
(set: _castleLevel to (cond: 	
	$castleLevel is -1, &quot;ground&quot;,
	$castleLevel is 1, &quot;upper&quot;,
	&quot;&quot;
	))
(set: _alongOrThrough to (cond: 	
	$castleLevel is -1, &quot;within&quot;,
	$castleLevel is 1, &quot;along&quot;,
	&quot;&quot;
	))
}You are in the ($directionJoined: $leftOnScreen, $upOnScreen) turret on the _castleLevel floor. From here you can go $rightOnScreen _alongOrThrough the [[$upOnScreen wall-&gt;top wall]] or $downOnScreen _alongOrThrough the [[$leftOnScreen wall-&gt;left wall]]. You can also go [[($turretDirection:) some steps-&gt;top left turret]]. (if: _castleLevel is &quot;ground&quot;)[Or you may exit the turret to the ($directionJoined: $rightOnScreen, $downOnScreen) into the [[castle bailey]].]</tw-passagedata><tw-passagedata pid="154" name="top right turret" tags="" position="4646,1356" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="155" name="left wall" tags="" position="3838,1718" size="100,100">{
(set: $castleLevel to $castleLevel * -1)
(if: $castleLevel is 1)[
	(set: _castleLevel to &quot;ground&quot;)
	(set: $inOrOn to &quot;in&quot;)]
(if: $castleLevel is -1)[
	(set: _castleLevel to &quot;upper&quot;)
	(set: $inOrOn to &quot;on&quot;)]
}You are $inOrOn the castle wall. From here you can go [[$upOnScreen-&gt;top left turret]] to the ($directionJoined: $leftOnScreen, $upOnScreen) turret, or [[$downOnScreen-&gt;bottom left turret]] to the ($directionJoined: $rightOnScreen, $upOnScreen) turret.</tw-passagedata><tw-passagedata pid="156" name="top wall" tags="" position="4236,1350" size="100,100">{
(set: $castleLevel to $castleLevel * -1)
(if: $castleLevel is 1)[
	(set: _castleLevel to &quot;ground&quot;)
	(set: $inOrOn to &quot;in&quot;)]
(if: $castleLevel is -1)[
	(set: _castleLevel to &quot;upper&quot;)
	(set: $inOrOn to &quot;on&quot;)]
}You are $inOrOn the castle wall. From here you can go [[$leftOnScreen-&gt;top left turret]] to the ($directionJoined: $leftOnScreen, $upOnScreen) turret, or [[$rightOnScreen-&gt;top right turret]] to the ($directionJoined: $rightOnScreen, $upOnScreen) turret.</tw-passagedata><tw-passagedata pid="157" name="right wall" tags="" position="4651,1749" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="158" name="bottom wall" tags="" position="4241,2108" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="159" name="dungeon" tags="" position="4151,1975" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="160" name="morgue" tags="" position="4420,1969" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="161" name="infirmary" tags="" position="4420,1728" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="162" name="central stairwell" tags="" position="4286,1726" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="163" name="main office" tags="" position="4279,1476" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="164" name="lord&#39;s quarters" tags="" position="4418,1478" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="165" name="castle bailey" tags="" position="4020,1825" size="100,100">(set: $castleLevel to 1)

From here, you can head ($directionJoined: $leftOnScreen, $upOnScreen) into the [[($directionJoined: $leftOnScreen, $upOnScreen) turret-&gt;top left turret]].  </tw-passagedata><tw-passagedata pid="166" name="granary" tags="" position="3958,1421" size="100,100">granary
maiden&#39;s tower
armory</tw-passagedata><tw-passagedata pid="167" name="mess" tags="" position="4291,1841" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="168" name="dormitory" tags="" position="4416,1600" size="100,100">mess</tw-passagedata><tw-passagedata pid="169" name="chapel" tags="" position="4158,1726" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="170" name="upper central stairway" tags="" position="4283,1596" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="171" name="castleLevel" tags="startup" position="4031,1271" size="100,100">{(set: $castleLevel to 
(macro: [
	(if: $castleLevel is 1)[(output-data: &quot;upper&quot;)]
	(if: $castleLevel is -1)[(output-data: &quot;ground&quot;)]
	]
	))

{(set: $turretDirection to 
(macro: [
	(if: $castleLevel is 1)[(output-data: &quot;down&quot;)]
	(if: $castleLevel is -1)[(output-data: &quot;up&quot;)]
	]
	))

}</tw-passagedata><tw-passagedata pid="172" name="castle test" tags="" position="3706,1485" size="100,100">(set: $leftOnScreen to &quot;west&quot;)
(set: $rightOnScreen to &quot;east&quot;)
(set: $upOnScreen to &quot;north&quot;)
(set: $downOnScreen to &quot;south&quot;)

[[start-&gt;castle bailey]]</tw-passagedata><tw-passagedata pid="173" name="basement stairwell" tags="" position="4293,1973" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="174" name="complex builder" tags="startup start-up" position="1239,1871" size="100,100">{
&lt;!--This directs the system to the right architecture .--&gt;
(set: $buildComplex to
(macro: [
	(if: $architecture is in (a: &quot;cathedral&quot;, &quot;church&quot;))[($buildChurch:)]
	(output-data: &quot;&quot;)
	]))
	
&lt;!--The following is dummy code included only for the programmer. It introduces an arrow in the Twine user interface between this passage and the code called from here.--&gt;
[[ -&gt;church builder]]
	
}</tw-passagedata><tw-passagedata pid="175" name="Code for Complexes" tags="" position="673,1920" size="100,100">{
&lt;!--This is the code that runs for all entry points to complexes, right after decadeNum is set. It reassigns the variables that depend on decadeNum and reassigns variables that must change when moving from the nexus to a complex. The code is contained in a macro that is called from each entry point.--&gt;

(set: $enterComplex to 
(macro: [
	(set: $imageType to 1) 
	(set: $decadeNumber to $hundredNumber + $decadeNum)
	(set: $decadeString to (str: $decadeNum))
	(set: $decadeReference to $hundredNumber + $decadeNum + 1) 
	(set: $referenceString to (str: $decadeReference))
	(set: $seedIndex to 1)
	(set: $randomSeed to (str: $decadeReference - 1) of $randomMaps)
	(set: $roomAdjective to &quot;a &quot;)
	(set: $complexLanguage to (str: $decadeReference) of $generalLanguage)
	($refreshSentences:) 
	($setImage:)
	(output-data:&quot;&quot;)
	]))
}
</tw-passagedata><tw-passagedata pid="176" name="church builder" tags="startup start-up" position="1109,1995" size="100,100">{
(set: $buildChurch to 
(macro: [
	(set: $startRoom to &quot;narthex&quot;)
	(output-data:&quot;&quot;)
	]
	))
}</tw-passagedata><tw-passagedata pid="177" name="Done" tags="" position="298,1213" size="100,100">At last the elevator comes to a halt.

	
The elevator doors open to the $rightOnNexusMap and you [[step out-&gt;top left]].</tw-passagedata></tw-storydata>

<tw-storydata name="decade template 3.0" startnode="38" creator="Twine" creator-version="2.3.12" ifid="76920D37-B003-4864-91E0-EF1EB390DEDF" zoom="0.6" format="Harlowe" format-version="3.2.1" options="" hidden><style role="stylesheet" id="twine-user-stylesheet" type="text/twine-css"></style><script role="script" id="twine-user-script" type="text/twine-javascript">window.Harlowe = { 'State' : State };
window.processInputElements = function () {
    $('input[data-varname]').on('change', function () {
        var varName = $(this).attr('data-varname');
        Harlowe.State.variables[varName] = this.value;
        $("tw-story").css("height","100%");
				$("tw-story").css("background-repeat","no-repeat");	
    });
};


if (typeof window.CustomScripts == "undefined") {
	window.CustomScripts = {
		updateBackground(myBackground){
			// if it's always going to be cover, you can put it outside the if statement
			$("tw-story").css("background-size","contain");
			$("tw-story").css("background-repeat","no-repeat");					
			$("tw-story").css("background-position","center");	
			// check the functions parameter for which background image to use
			if(myBackground == 0) //century backgrounds take nos 0, 100, 200 etc.
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/f2vTfnH/tunnels.jpg)");
			}
			else if(myBackground == -11) // 
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/wKZ7YhN/thomas-Becket-Blinded.jpg)");
			}
			else if(myBackground == -10) // 
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/yVNS2QL/charlemagnes-Death.jpg)");
			}
			else if(myBackground == -9) // 
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/hyzKg9M/thomas-Becket-Window-Invert.jpg)");
			}
			else if(myBackground == -8) // 
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/Kw4PqNq/baby-Dragon.jpg)");
			}
			else if(myBackground == -7) // 
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/10Ss8Vp/eustace-Red.jpg)");
			}
			else if(myBackground == -6) // 
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/BK35wdS/treaty-Of-Winchester-Bloody.png)");
			}
			else if(myBackground == -5) // 
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/zPXS9fj/king2-Purple.jpg)");
			}
			else if(myBackground == -4) // 
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/yfz3mc2/Stephen-Blue.jpg)");
			}
			else if(myBackground == -3) // 
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/Lp6SFJ9/prince-Corpse.jpg)");
			}
			else if(myBackground == -2) // 
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/FwnDHCw/butcher2.jpg)");
			}
			else if(myBackground == -1) // 
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/08/b2/5a/08b25ac76c7c0c5571e0b98af8bd53f5.jpg)");
			}
			else if(myBackground == 1) // decade nos end in 1
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/zJvFgQF/mushroom-Catacombs.jpg)");
			}
			else if(myBackground == 11)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/3b/a6/7c/3ba67c68c69aa5ff049e70af3e1398be.jpg)");
			}
			else if(myBackground == 21)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/hCsSZw0/CREATOR-gd-jpeg-v1-0-using-IJG-JPEG-v80-quality-80.jpg)");
			}
			else if(myBackground == 31)
			{
				$("tw-story").css("background-image","url(https://farm4.staticflickr.com/3881/14548118871_9a25db8f3b_k.jpg)");
			}
			else if(myBackground == 41)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/2c/6a/6d/2c6a6da05c9ba99228068306657fbf82.jpg)");
			}
			else if(myBackground == 51)
			{
				$("tw-story").css("background-image","url(https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/224cf4fa-33d8-4223-974d-67aecc72bd2c/d32esvm-fab667ec-f070-4610-baf7-d1f993c43768.jpg/v1/fill/w_800,h_600,q_75,strp/the_armory_by_rytango-d32esvm.jpg?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwic3ViIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsImF1ZCI6WyJ1cm46c2VydmljZTppbWFnZS5vcGVyYXRpb25zIl0sIm9iaiI6W1t7InBhdGgiOiIvZi8yMjRjZjRmYS0zM2Q4LTQyMjMtOTc0ZC02N2FlY2M3MmJkMmMvZDMyZXN2bS1mYWI2NjdlYy1mMDcwLTQ2MTAtYmFmNy1kMWY5OTNjNDM3NjguanBnIiwid2lkdGgiOiI8PTgwMCIsImhlaWdodCI6Ijw9NjAwIn1dXX0.eOpCwc84GDmV-LB1ltAyddWpeuwIVVH9qw4oPJeQbKM)");
			}
			else if(myBackground == 61)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/60/f9/69/60f969f538253f68ec5be1b5846a2568.jpg)");
			}
			else if(myBackground == 71)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/g9hVkhF/catacombs-Chapel4.jpg)");
			}
			else if(myBackground == 81)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/yf9SCJJ/leper-Colony2.jpg)");
			}
			else if(myBackground == 91)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/88/92/e1/8892e11f0ae9128001380264179ffd88.jpg)");
			}
			else if(myBackground == 100)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/4f/0b/88/4f0b88df6b723ffda1fb80629884521a.jpg)");
			}
			else if(myBackground == 101)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/5b/c7/19/5bc719f84cfc170ff0558702b2c97876.jpg)");
			}
			else if(myBackground == 111)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/84/77/ea/8477eac606801135e48e2208305f3914.jpg)");
			}
			else if(myBackground == 121)
			{
				$("tw-story").css("background-image","url(https://th.bing.com/th/id/Rde8b516f69680e4a2a7243c2ec81a701?rik=FLjo2Zvd6dVPyw&riu=http%3a%2f%2fimages4.wikia.nocookie.net%2f__cb20130419200553%2fspartacus%2fimages%2f5%2f59%2fSpartacus_Legends_Ludus_fight.png&ehk=YzsHyiOKeH38%2fusktTVJv%2beUid2DYSentQ23hcClX98%3d&risl=&pid=ImgRaw)");
			}
			else if(myBackground == 131)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/YW02YJF/temple-Of-Vesta.jpg)");
			}
			else if(myBackground == 141)
			{
				$("tw-story").css("background-image","url(https://www.thesimsresource.com/scaled/2599/w-800h-600-2599642.jpg)");
			}
			else if(myBackground == 151)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/6a/7f/c1/6a7fc16f23671dc5bd0bed4c462eccc4.jpg)");
			}
			else if(myBackground == 161)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/0F4cX5y/roman-Slave-Marke5.jpg)");
			}
			else if(myBackground == 171)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/736x/d2/e4/c1/d2e4c197c68fe2cb4d2e7de5f4143e2b.jpg)");
			}
			else if(myBackground == 181)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/b4/39/a8/b439a87560b02424c656b1120e29740d.jpg)");
			}
			else if(myBackground == 191)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/4c/ae/c0/4caec06d6814e915a3c32affa4123800.jpg)");
			}
			else if(myBackground == 200)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/QP3FV3P/forbidden-City.jpg)");
			}
			else if(myBackground == 201)
			{
				$("tw-story").css("background-image","url(https://th.bing.com/th/id/R2cae1fcbbabcb57451c68fc47571a351?rik=leu7YgYWctPMsg&riu=http%3a%2f%2faidanmoher.com%2fblog%2fwp-content%2fuploads%2f2014%2f07%2ftwilight_garden_by_alextooth-d5t47sa.jpg&ehk=3knU%2fwpIey%2b%2bQT8LlaYoJrnuJ36TOKBVgzJHM3SAHtA%3d&risl=&pid=ImgRaw)");
			}
			else if(myBackground == 211)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/5f/00/3f/5f003fc16b10572cfe4c34c313beec70.jpg)");
			}
			else if(myBackground == 221)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/9c/99/54/9c9954bc49514aafb47624cbb3c2a993.jpg)");
			}
			else if(myBackground == 231)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/9c/85/32/9c853217e910c978b24ed75ac63e923f.jpg)");
			}
			else if(myBackground == 241)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/67/f0/8b/67f08bbc42a27c9da1011532332c1fe5.jpg)");
			}
			else if(myBackground == 251)
			{
				$("tw-story").css("background-image","url(https://gcdn.daz3d.com/p/56851/i/chinese-temple-gate-05-daz3d.jpg)");
			}
			else if(myBackground == 261)
			{
				$("tw-story").css("background-image","url(https://gcdn.daz3d.com/p/63811/i/china-houses-04-daz3d.jpg)");
			}
			else if(myBackground == 271)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/14/10/2a/14102a474694c64c8f3779901390effc.jpg)");
			}
			else if(myBackground == 281)
			{
				$("tw-story").css("background-image","url(https://c4.wallpaperflare.com/wallpaper/49/579/585/jungle-fantasy-art-asian-architecture-artwork-wallpaper-preview.jpg)");
			}
			else if(myBackground == 291)
			{
				$("tw-story").css("background-image","url(https://c4.wallpaperflare.com/wallpaper/672/517/150/nature-digital-art-water-artwork-wallpaper-preview.jpg)");
			}
			else if(myBackground == 300)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/1a/b3/ef/1ab3ef0450478c4305701a2361add0a1.jpg)");
			}
			else if(myBackground == 301)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/BGgLGn6/farm.png)");
			}
			else if(myBackground == 311)
			{
				$("tw-story").css("background-image","url(https://farm4.staticflickr.com/3385/3496684667_b8f76dc6c1_z.jpg)");
			}
			else if(myBackground == 321)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/32/13/9d/32139df326afc0e39257f8494d345830.jpg)");
			}	
			else if(myBackground == 331)
			{
				$("tw-story").css("background-image","url(			https://i.pinimg.com/originals/a9/ed/9e/a9ed9efa3644d7d499d97e07395a55c6.jpg)");
			}
			else if(myBackground == 341)
			{
				$("tw-story").css("background-image","url(			https://i.pinimg.com/originals/42/ef/59/42ef592a42eb7cb19dfbadb818d73b3e.jpg)");
			}	
			else if(myBackground == 351)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/af/ea/b4/afeab4b55f09b86fd10b5cb7eeb1da14.jpg)");
			}
			else if(myBackground == 361)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/crJ8skB/under-Ground-Mine.jpg)");
			}
			else if(myBackground == 371)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/q09vQgb/The-Hedge-Maze.jpg)");
			}
			else if(myBackground == 381)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/YD4Gczm/st-John-The-Forerunner.jpg)");
			}
			else if(myBackground == 391)
			{
				$("tw-story").css("background-image","url(https://cdn.staticneo.com/n/1/hellraidtease.jpg)");
			}	
			else if(myBackground == 400)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/mqnHtMw/romeRuin.jpg)");
			}		
			else if(myBackground == 401)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/69/b6/28/69b6284a11d4bb26dabb4b5b181eeac6.jpg)");
			}
			else if(myBackground == 411)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/6HTWp0p/circus.jpg)");
			}
			else if(myBackground == 421)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/cc/a4/3f/cca43f0d9a53e1df81cda400000101dd.jpg)");
			}
			else if(myBackground == 431)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/33/33/b9/3333b98d98b9445d71b78a6b284cfe99.jpg)");
			}
			else if(myBackground == 441)
			{
				$("tw-story").css("background-image","url(https://cdna.artstation.com/p/assets/images/images/002/303/018/large/dongmin-shin-templar-ruinedtown-wip9.jpg?1459996240)");
			}	
			else if(myBackground == 451)
			{
				$("tw-story").css("background-image","url(https://www.wallpaperup.com/uploads/wallpapers/2013/07/20/120965/89b86219a5d4290deb3ff8c0da5b1a36.jpg)");
			}
			else if(myBackground == 461)
			{
				$("tw-story").css("background-image","url(https://i2-prod.mirror.co.uk/incoming/article5552145.ece/ALTERNATES/s1227b/PAY-Holmesburg-Prison.jpg)");
			}
			else if(myBackground == 471)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/ngYfvzq/garden.jpg)");
			}
			else if(myBackground == 481)
			{
				$("tw-story").css("background-image","url(https://cdna.artstation.com/p/assets/images/images/000/119/916/large/klaus-wittmann-asylum22.jpg?1443927398)");
			}
			else if(myBackground == 491)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/MZhYCtM/deathPit.jpg)");
			}
			else if(myBackground == 500)
			{
				$("tw-story").css("background-image","url(https://3.bp.blogspot.com/-79MN6Y6He4s/VHdEsATzIGI/AAAAAAADkaM/kQwDbXhJiLg/s1600/David%2BJermann-www.kaifineart.com-3.jpg)");
			}
			else if(myBackground == 501)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/f9pKJcb/enchanted-Wood2.jpg)");
			}	
			else if(myBackground == 511)
			{
				$("tw-story").css("background-image","url(http://coolvibe.com/wp-content/uploads/2012/08/2D-Art-Marcel-Mercado-Joust.jpg)");
			}	
			else if(myBackground == 521)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/68/7c/00/687c000923c080f9dc0c5e1c3cd0d0fa.jpg)");
			}				
			else if(myBackground == 531)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/1bZykJc/lake-by-glooh2.jpg)");
			}	
			else if(myBackground == 541)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/3d/c5/5d/3dc55d3812b254ac0c046f2eac668d91.jpg)");
			}	
			else if(myBackground == 551)
			{
				$("tw-story").css("background-image","url(https://images8.alphacoders.com/911/911883.jpg)");
			}	
			else if(myBackground == 561)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/f5/3e/3e/f53e3eb5bdd368ca60a01f157dc101d7.jpg)");
			}			
			else if(myBackground == 571)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/b2/67/39/b26739e37de690d1f43a6879cc5310f9.jpg)");
			}		
			else if(myBackground == 581)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/e2/53/5b/e2535b15f700f58515d548d7dd2aed27.jpg)");
			}				
			else if(myBackground == 591)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/KDCTZB2/plague-Barrow.jpg)");
			}	
			else if(myBackground == 600)
			{
				$("tw-story").css("background-image","url(http://vignette3.wikia.nocookie.net/assassinscreed/images/b/b8/Damascus-depth.jpg/revision/latest?cb=20100918105609)");
			}	
			else if(myBackground == 601)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/f1/20/1b/f1201baf2cec354672609d02d7ad4302.jpg)");
			}	
			else if(myBackground == 611)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/1dvz7wZ/hashish-Den4.jpg)");
			}
			else if(myBackground == 621)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/e9/2c/4c/e92c4caa1d93e7e015875de38ba6a16f.jpg)");
			}
			else if(myBackground == 631)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/69/9b/77/699b77b9295494ee80e77b84b98c0f7d.jpg)");
			}	
			else if(myBackground == 641)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/X29k7Xs/bazaar.jpg)");
			}	
			else if(myBackground == 651)
			{
				$("tw-story").css("background-image","url(https://static.thousandwonders.net/Citadel.of.Aleppo.original.36222.jpg)");
			}
			else if(myBackground == 661)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/2a/a6/a9/2aa6a900e767e36825a32d0a90d8b461.jpg)");
			}
			else if(myBackground == 671)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/a1/04/08/a10408cce174ca470a2341ad74755010.jpg)");
			}
			else if(myBackground == 681)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/3e/9c/40/3e9c40a4b3bd04ed44f843d22363ab48.jpg)");
			}
			else if(myBackground == 691)
			{
				$("tw-story").css("background-image","url(https://aidanmoher.com/blog/wp-content/uploads/2014/07/desert_village_by_crs1009-d5zij53.jpg)");
			}
			else if(myBackground == 700)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/9Hyc6dz/gothic-Street.png)");
			}
			else if(myBackground == 701)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/hVYjhGq/CREATOR-gd-jpeg-v1-0-using-IJG-JPEG-v80-quality-90.jpg)");
			}
			else if(myBackground == 711)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/cxY4RWS/thermae.jpg)");
			}
			else if(myBackground == 721)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/dmRYrMT/holy-Library3.jpg)");
			}
			else if(myBackground == 731)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/vY7jChx/womensewing-Twilight.jpg)");
			}
			else if(myBackground == 741)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/24/e7/26/24e726a009e9c0905cbaf1ed8772caf1.jpg)");
			}
			else if(myBackground == 751)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/1rbyYTq/barracks4.png)");
			}
			else if(myBackground == 761)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/c7/60/28/c76028bc15bd6698b329980f7470cf49.jpg)");
			}
			else if(myBackground == 771)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/6c/25/76/6c2576e3bc81bc621c99980232d5c689.jpg)");
			}
			else if(myBackground == 781)
			{
				$("tw-story").css("background-image","url(https://uploads6.wikiart.org/images/francisco-goya/plague-hospital-1800.jpg!Large.jpg)");
			}
			else if(myBackground == 791)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/25/ee/e0/25eee032d448a0eec4b745e5a7a56aa8.jpg)");
			}
			else if(myBackground == 800)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/6c/fe/8c/6cfe8c56f9c18de0e14e98c531cde07a.jpg)");
			}
			else if(myBackground == 801)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/yWhgVjT/swamp4.jpg)");
			}		
			else if(myBackground == 811)
			{
				$("tw-story").css("background-image","url(https://jkroots.com/wp-content/uploads/2017/08/MysticPondPrint-scaled.jpg)");
			}	
			else if(myBackground == 821)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/6b9LMjn/flooded-Library.png)");
			}			
			else if(myBackground == 831)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/fa/6c/fd/fa6cfd32e3239cdf71f5331a95a9746b.jpg)");
			}	
			else if(myBackground == 841)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/ea/e1/65/eae16566315c05e3c623e4c3c7c06862.jpg)");
			}	
			else if(myBackground == 851)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/bm5QH4c/sunken-Castle2.jpg)");
			}	
			else if(myBackground == 861)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/Tg6YH9v/pit-trap.jpg)");
			}				
			else if(myBackground == 871)
			{
				$("tw-story").css("background-image","url(https://www.wallpaperflare.com/static/208/667/589/church-fantasy-art-birds-artwork-wallpaper.jpg)");
			}			
			else if(myBackground == 881)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/37/00/be/3700be067e2732b411d950946ea44a4a.jpg)");
			}	
			else if(myBackground == 891)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/95/16/cf/9516cf9c7a517d5980c3453c1544617e.jpg)");
			}	
			else if(myBackground == 900)
			{
				$("tw-story").css("background-image","url(https://www.tfw2005.com/boards/attachments/james-paick-e-nazihq-20160503-wip-v6-jpaick-jpg.27755109/)");
			}		
			else if(myBackground == 901)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/da/5a/2c/da5a2ca8a224e52b14e10db82a280bff.jpg");
			}
			else if(myBackground == 911)
			{
				$("tw-story").css("background-image","url(https://th.bing.com/th/id/R.d2eeafba8c707986349e8deab24dc0ce?rik=GEWQecIHPeqzrg&riu=http%3a%2f%2fimg12.deviantart.net%2fcffe%2fi%2f2015%2f061%2f1%2fb%2fnazi_future_racing_1_by_heavytransit-d8k6966.jpg&ehk=0DxZbmpxcUQabWysj1CxFL%2f4U3EFAsYG4kMOSb3uXzs%3d&risl=&pid=ImgRaw&r=0)");
			}		
			else if(myBackground == 921)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/db0RsT8/snow-Troopers.jpg");
			}	
			else if(myBackground == 931)
			{
				$("tw-story").css("background-image","url(https://boyofbow13.files.wordpress.com/2010/11/nuns-with-guns.jpg)");
			}
			else if(myBackground == 941)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/vYhnyQZ/nazi-skyscraper.jpg");
			}
			else if(myBackground == 951)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/378VjDC/nazi-Court2.jpg)");
			}
			else if(myBackground == 961)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/wSHvdT9/camp.jpg)");
			}
			else if(myBackground == 971)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/6XVbmG4/cathedral.jpg)");
			}
			else if(myBackground == 981)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/736x/d4/ef/aa/d4efaa62a2ca4706ce8245148c137903--space-lab-sci-fi-environment.jpg)");
			}
			else if(myBackground == 991)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/mhYWKTX/belsen.jpg)");
			}
			else if(myBackground == 1000)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/DQkNrW7/pilgrims-Trail.jpg)");
			}
			else if(myBackground == 1001)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/BqZyxTX/st-Nicolas.jpg)");
			}
			else if(myBackground == 1011)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/R4kJzyb/st-Teresa-Of-Avila.jpg)");
			}
			else if(myBackground == 1021)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/QPFc64g/st-Albertus-Maximus.jpg)");
			}
			else if(myBackground == 1031)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/4PfQXty/magdalene5.jpg)");
			}
			else if(myBackground == 1041)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/dWXxXbr/homobonus.jpg)");
			}
			else if(myBackground == 1051)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/fdkMXJQ/adrian.jpg)");
			}
			else if(myBackground == 1061)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/thDKRxq/st-Leonard2.jpg)");
			}
			else if(myBackground == 1071)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/M8Nbr1Z/alternate0.jpg)");
			}
			else if(myBackground == 1081)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/4J59P6M/stPhocas.jpg)");
			}
			else if(myBackground == 1091)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/q7T8Rt4/stJoseph.jpg)");
			}
						else if(myBackground == 1100)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/smKnV4H/forest.jpg)");
			}
						else if(myBackground == 1101)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/Ydny0bF/rufus.jpg)");
			}
						else if(myBackground == 1111)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/e1/d8/29/e1d829d8e27c1abb7f96c0963ace5448.jpg)");
			}
						else if(myBackground == 1121)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/g96g93X/templars-Aye.jpg)");
			}
						else if(myBackground == 1131)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/cb/06/5c/cb065c9a70c70d8025fbb6521cf9f4b5.jpg)");
			}
						else if(myBackground == 1132)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/x8g9Fsh/kings-Lynn.jpg)");
			}
			else if(myBackground == 1133)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/dL267Bm/la-Rochelle.jpg)");
			}
						else if(myBackground == 1134)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/kXJt9d4/sailing.jpg)");
			}
						else if(myBackground == 1135)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/NW3MZTw/high-Cliffs.jpg)");
			}
						else if(myBackground == 1141)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/85/c4/63/85c463290b20c10ecf25e86a8778921e.jpg)");
			}
						else if(myBackground == 1151)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/d1/f9/f6/d1f9f6da0f13f78af4e53fb9b4bd0639.jpg)");
			}
						else if(myBackground == 1161)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/58/86/96/588696aa555c578e99d44a75d0bf4172.jpg)");
			}
						else if(myBackground == 1171)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/XxzSJxp/canterbury2.jpg)");
			}
						else if(myBackground == 1181)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/33/24/bc/3324bc30dc9c7902ce768d49febb1bc2.jpg)");
			}
						else if(myBackground == 1191)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/FDwV42T/ship-Wreck.jpg)");
			}			
						else if(myBackground == 1200)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/d71Wcy1/steppe.jpg)");
			}
									else if(myBackground == 1201)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/L1XyfqN/after-Flood3.jpg)");
			}
									else if(myBackground == 1211)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/BwPjCVP/festival.jpg)");
			}
									else if(myBackground == 1221)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/DtZp1Dn/polos-Quarters.jpg)");
			}
									else if(myBackground == 1231)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/B4W3c8C/women-City-Final.png)");
			}
									else if(myBackground == 1241)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/3dVJPLL/mongols-Moving.jpg)");
			}
									else if(myBackground == 1251)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/K02xW4b/civil-War2.jpg)");
			}
									else if(myBackground == 1261)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/FmfB7zf/kiev5.jpg)");
			}
									else if(myBackground == 1271)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/JnpvjDB/khan-Tengri.jpg)");
			}
									else if(myBackground == 1281)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/bNxhZ3X/wrecked-Fleet2.jpg)");
			}
									else if(myBackground == 1282)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/yXF5qV6/beach.jpg)");
			}
									else if(myBackground == 1291)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/XsFW0kg/burning-City.jpg)");
			}
									else if(myBackground == 1292)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/bRff5V1/beautiful-Middle-Eastern-City.jpg)");
			}
									else if(myBackground == 1293)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/M5V6q84/CREATOR-gd-jpeg-v1-0-using-IJG-JPEG-v62-quality-90.jpg)");
			}
									else if(myBackground == 1294)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/fQNRpqB/burning-Gates.jpg)");
			}
									else if(myBackground == 1300)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/ZffKypZ/plague-Swamps.jpg)");
			}
									else if(myBackground == 1301)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/wCMRF0W/manor3.jpg)");
			}
									else if(myBackground == 1311)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/zR8jK9h/fairy-Castle3.jpg)");
			}
									else if(myBackground == 1321)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/bHwYN2B/wiitch.jpg)");
			}
									else if(myBackground == 1331)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/DwP9sTy/tentCamp.jpg)");
			}
									else if(myBackground == 1341)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/sCjPVzW/village-Life.jpg)");
			}
									else if(myBackground == 1351)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/MhCbQ61/Schiltron.png)");
			}
									else if(myBackground == 1361)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/W287qzg/prison-Cellar.png)");
			}
									else if(myBackground == 1371)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/QcS7C6s/wycliffe3.jpg)");
			}
									else if(myBackground == 1381)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/4W4r6Y1/wallup-net.jpg)");
			}
									else if(myBackground == 1391)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/5sC5W6C/hanging-Bodies.jpg)");
			}
			else if(myBackground == 1400)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/bvCrvx9/shipPOV6.png)");
			}	
			else if(myBackground == 1400.1)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/Zm1FTqj/narrowstraits.jpg)");
			}	
			else if(myBackground == 1401)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/sQ4rVkX/island2.jpg)");
			}	
			else if(myBackground == 1411)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/8M37Vcr/bearPits.jpg)");
			}	
			else if(myBackground == 1412)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/2PJrvHf/medieval-Port3.jpg)");
			}	
			else if(myBackground == 1421)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/VS73Qj4/renaissance-Street3.jpg)");
			}		
			else if(myBackground == 1422)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/LPG2fw0/renaissance-Port3.jpg)");
			}	
			else if(myBackground == 1431)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/6ZDwZZz/siege-Camp.jpg)");
			}	
			else if(myBackground == 1432)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/Snwxrfm/sailing-To-Orleans.jpg)");
			}	
			else if(myBackground == 1441)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/ssWNSGg/alexander-skold-alexander-skold-aztec-empire-1.jpg)");
			}	
			else if(myBackground == 1442)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/y6PmmV1/sailing-Upriver3.jpg)");
			}	
			else if(myBackground == 1451)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/H7zSzwK/sieged-City3.jpg)");
			}	
						else if(myBackground == 1452)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/tqBPV0N/sailing-Up-River6.jpg)");
			}	
			else if(myBackground == 1461)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/c7/21/d9/c721d9fc92848c2419b43c670a25f15f.jpg)");
			}		
			else if(myBackground == 1462)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/R0yLRQR/london-Port3.jpg)");
			}	
			else if(myBackground == 1471)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/9gdQzqF/cathedral.jpg)");
			}			
			else if(myBackground == 1481)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/QKnCzFy/torture-Hall.jpg)");
			}	
			else if(myBackground == 1482)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/Zz0GkGZ/spanish-Port.jpg)");
			}				
			else if(myBackground == 1491)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/60792FM/impaled-Fields.jpg)");
			}	
			else if(myBackground == 1492)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/cw1xwgL/sailing-Up-River5.jpg)");
			}	
			else if(myBackground == 1840)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/dtL95r6/Kenway-Mansion-NIGHT.jpg)");
			}	
			else if(myBackground == 2071)
			{
				$("tw-story").css("background-image","url(http://www.scififantasyhorror.co.uk/wp-content/gallery/Su-Jian/su-jian-scifi-art-11.jpg)");
			}
			else
			{
				$("tw-story").css("background-image","none");
			}
		}
	}
}

</script><tw-passagedata pid="1" name="room 0" tags="" position="2005,584" size="100,100">{
($setImage:)
(set: $thisRoomsNumber to 0)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
(if: $floorInt is 12)[&lt;script&gt;CustomScripts.updateBackground(1291);&lt;/script&gt;]
(if: $place is &quot;Aztec&quot;)[&lt;script&gt;CustomScripts.updateBackground(1441);&lt;/script&gt;]
($refreshSentences:)
}
(border-color: black) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{
$complexSentence. 

(if: $thisYear is 1170)[There is a stained glass window here which (link: &#39;you may examine more closely.&#39;)[==[&lt;script&gt;CustomScripts.updateBackground(-9);&lt;/script&gt;]you lean in to examine more closely. The colored pieces of glass are arranged to depict a bishop, robed in black, looking paradoxically both sad and serene as a sword protrudes from his head. As you gaze upon it, the bishop&#39;s lips begin to move! Shocked, you stagger back. The stained glass window is speaking! 

After recovering your wits, [[you may lean in to listen to what it has to say-&gt;Becket murdered]].]
(if: $thisYear is 1120)[There is a corpse here, shrouded in black, which using necromancy [[you may bring briefly back to life-&gt;William Adelin]]. ]

If you are not interested in lingering in this place, you may go [[$rightOnScreen2-&gt;passage 8]] ($toThePhrase: 1) or go [[$downOnScreen-&gt;passage 1]]. [(if: $optionalPath contains 4)[You may also go [[$leftOnScreen-&gt;room 9]]($toThePhrase: 9).]]

(if: $startRoom is &quot;room 0&quot;)[$returnText]
}]</tw-passagedata><tw-passagedata pid="2" name="passage 8" tags="" position="2155,584" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 18)
($refreshSentences:)
} (border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence. From here you may go [[$leftOnScreen2-&gt;room 0]]($toThePhrase: 0). [(if: $optionalPath contains 0)[You may also go [[$downOnScreen-&gt;room 7]]($toThePhrase: 7).]]
[(if: $optionalPath contains 3)[An alternative is to go [[$rightOnScreen-&gt;room 8]] ($toThePhrase: 8).]]]</tw-passagedata><tw-passagedata pid="3" name="passage 1" tags="" position="2006,731" size="100,100">{(set: $thisRoomsNumber to 11)
(set: $thisYear to 10000)}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence2. From here you may go [[$upOnScreen-&gt;room 0]]($toThePhrase: 0) or [[$downOnScreen2-&gt;room 1]]($toThePhrase: 1). [(unless: $optionalPath contains 0)[You may also go [[$rightOnScreen2-&gt;room 7]]($toThePhrase: 7).]][(unless: $optionalPath contains 1)[An alternative is to go [[$leftOnScreen-&gt;passage 6]].]]]
</tw-passagedata><tw-passagedata pid="4" name="room 2" tags="" position="2298,876" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 2)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
($refreshSentences:)
}(border-color: (rgb: 255, 100, 100)) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence. 

From here you may go [[$upOnScreen2-&gt;passage 3]] or [[$leftOnScreen-&gt;passage 7]].
(if: $startRoom is &quot;room 2&quot;)[$returnText]]</tw-passagedata><tw-passagedata pid="5" name="room 3" tags="" position="1855,872" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 3)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
(if: $place is &quot;Strasbourg&quot;)[&lt;script&gt;CustomScripts.updateBackground(1421);&lt;/script&gt;]
(if: $place is &quot;Orleans&quot;)[&lt;script&gt;CustomScripts.updateBackground(1431);&lt;/script&gt;]
(if: $place is &quot;Wallachia&quot;)[&lt;script&gt;CustomScripts.updateBackground(1491);&lt;/script&gt;]
($refreshSentences:)
}
(border-color: red) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{
$complexSentence. 

(if: $thisYear is 1133 and $henrysDragon is not &quot;hatched&quot;)[In a pan on the stove is a huge red egg. Suddenly, cracks appear in it. Something is trying to hatch out! You may [[help it-&gt;Henry II birth]] if you wish.]
(if: $thisYear is 1133 and $henrysDragon is &quot;hatched&quot;)[There is a huge red egg in a pan on the stove. It appears that something recently hatched from it.]
(if: $thisYear is 1153 and $Eustace is not &quot;dead&quot;)[There is a young, fire haired nobleman here, gasping as the life leaves him. &quot;It is written in my blood!&quot; he croaks, holding out a piece of parchment. You can take the parchment and [[read it-&gt;Treaty of Wallingford]], or [[talk to the red nobleman-&gt;Eustace IV]].](if: $thisYear is 1153 and $Eustace is &quot;dead&quot;)[There is a dead nobleman here, with a parchment in his cold and bony grip. You can [[read it-&gt;Treaty of Wallingford]] if you like.]

From here you may go [[$rightOnScreen-&gt;room 1]]($toThePhrase: 1) or [[$leftOnScreen-&gt;passage 2]]. [(if: $optionalPath contains 1)[An alternative is to go [[$upOnScreen2-&gt;passage 6]].]]

(if: $startRoom is &quot;room 3&quot;)[$returnText]
}]</tw-passagedata><tw-passagedata pid="6" name="passage 6" tags="" position="1860,731" size="100,100">{(set: $thisRoomsNumber to 16)
(set: $thisYear to 10000)}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence2. 
From here you may go 
[(if: $optionalPath contains 1)[[[$downOnScreen2-&gt;room 3]]($toThePhrase: 3).](else:)[[[$rightOnScreen-&gt;passage 1]].]]
[(if: $optionalPath contains 2)[You may also go [[$leftOnScreen-&gt;room 6]]($toThePhrase: 6).]]
[(unless: $optionalPath contains 4)[An alternative is to go [[$upOnScreen-&gt;room 9]]($toThePhrase: 9).]]]

</tw-passagedata><tw-passagedata pid="7" name="passage 2" tags="" position="1702,872" size="100,100">{(set: $thisRoomsNumber to 12)
(set: $thisYear to 10000)}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence2. From here you may go [[$rightOnScreen-&gt;room 3]]($toThePhrase: 3) or [[$leftOnScreen-&gt;room 5]]($toThePhrase: 5). [(unless: $optionalPath contains 2)[You may also go [[$upOnScreen2-&gt;room 6]]($toThePhrase: 6).]]]

</tw-passagedata><tw-passagedata pid="8" name="room 7" tags="" position="2154,733" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 7)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
($refreshSentences:)}(border-color: green) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence.

[(if: $optionalPath contains 0)[You may go [[$upOnScreen-&gt;passage 8]] from here.](else:)[You may go [[$leftOnScreen2-&gt;passage 1]] from here.]]
[(unless: $optionalPath contains 3)[You may also go [[$rightOnScreen-&gt;passage 3]]or [[$downOnScreen-&gt;passage 7]]]]]</tw-passagedata><tw-passagedata pid="9" name="room 8" tags="" position="2295,588" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 8)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
(if: $place is &quot;Merv&quot;)[&lt;script&gt;CustomScripts.updateBackground(1291);&lt;/script&gt;]
(if: $place is &quot;York&quot;)[&lt;script&gt;CustomScripts.updateBackground(1411);&lt;/script&gt;]
(if: $place is &quot;Istanbul&quot;)[&lt;script&gt;CustomScripts.updateBackground(1451);&lt;/script&gt;]
(if: $place is &quot;London&quot;)[&lt;script&gt;CustomScripts.updateBackground(1461);&lt;/script&gt;]
($refreshSentences:)
} 
(border-color: yellow)+(border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence. [(if: $optionalPath contains 3)[You may go [[$leftOnScreen-&gt;passage 8]].](else:)[You may go [[$downOnScreen-&gt;passage 3]].]]
(if: $startRoom is &quot;room 8&quot;)[$returnText]]
</tw-passagedata><tw-passagedata pid="10" name="room 5" tags="" position="1531,872" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 5)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
(if: $place is &quot;York&quot;)[&lt;script&gt;CustomScripts.updateBackground(1411);&lt;/script&gt;]
(if: $place is &quot;Seville&quot;)[&lt;script&gt;CustomScripts.updateBackground(1481);&lt;/script&gt;]
($refreshSentences:)
}(border-color: blue) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{
$complexSentence. 

(if: $thisYear is 1135)[There is a blue knight here [[to whom you may speak-&gt;Stephen of Blois]].]

From here you may go [[$rightOnScreen-&gt;passage 2]]. [(if: $optionalPath contains 6)[An alternative is to go [[$upOnScreen2-&gt;passage 5]].]]

(if: $startRoom is &quot;room 5&quot;)[$returnText]
}]</tw-passagedata><tw-passagedata pid="11" name="room 6" tags="" position="1697,728" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 6)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
($refreshSentences:)}(border-color: (rgb: 0, 255, 255)) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{
$complexSentence. 

[(if: $optionalPath contains 2)[You may go [[$rightOnScreen-&gt;passage 6]] from here.](else:)[You may go [[$downOnScreen2-&gt;passage 2]] from here.]]
[(if: $optionalPath contains 5)[You may also go [[$upOnScreen-&gt;passage 4]].]]
[(if: $optionalPath contains 6)[An alternative is to go [[$leftOnScreen-&gt;passage 5]].]]
}]</tw-passagedata><tw-passagedata pid="12" name="definitions test" tags="" position="126,521" size="100,100">{
(set: $fixOptionalPaths to 
(macro: [
	(set: $optionalPath to (a:))
	($addPath:)($addPath:)($addPath:)($addPath:)($addPath:)($addPath:)
	(output-data:&quot;&quot;)
	]
	)
	)
	
(set: $addPath to 
(macro: [	
	(set: _x to (random: 6)) 
	(set: $optionalPath to it + (a:_x))
	(output-data:&quot;&quot;)
	]
	)
	)

(set: $levelDirection to (a: 
	(a: &quot;north&quot;, &quot;south&quot;),
	(a: &quot;east&quot;, &quot;west&quot;),
	(a: &quot;northeast&quot;, &quot;southwest&quot;), 
	(a: &quot;northwest&quot;, &quot;southeast&quot;)))

(set: $getLevelDirection to 
(macro: [
	(set: _length to length of $levelDirection)
	(set: _x to (random:1, _length))
	(set: _y to (_x) of $levelDirection)
	(set: $levelDirection to it - (_y))
	(output-data: _y)]))

(set: $generate3dDirection to 
(macro: [
	(set: _x to (random: 3))
	(if: _x is 2)[(output-data: (a: &quot;up a ladder&quot;, &quot;down a ladder&quot;))]
	(else:) [(set: $direc to ($getLevelDirection:))]
	(if: _x is 3)[
		(set: _z to (random:1))
		(if: _z is 0)[(set: _output to (a: &quot;up some steps to the &quot; + 1st of $direc, &quot;down some steps to the &quot; + 2nd of $direc))]
		(else:)[(set: $output3dDirection to (a: &quot;up some steps to the &quot; + 2nd of $direc, &quot;down some steps to the &quot; + 1st of $direc))]
		(output-data: $output3dDirection)]
	(else:) [(output-data: ($getLevelDirection:))]
	]
	))
	
(set: $firstDirection to ($generate3dDirection:))
(set: $secondDirection to ($generate3dDirection:))

(set: $setDirections to 
(macro: [
	(set: _x to (random: 1))
		(if: _x is 0) [
		(set: $upOnScreen to 1st of $firstDirection )
		(set: $downOnScreen to 2nd of $firstDirection )
		]
	(else:) [
		(set: $upOnScreen to 2nd of $firstDirection )
		(set: $downOnScreen to 1st of $firstDirection )
		]
	(set: _y to (random: 1))
		(if: _y is 0) [
		(set: $rightOnScreen to 1st of $secondDirection )
		(set: $leftOnScreen to 2nd of $secondDirection )
		]
	(else:) [
		(set: $leftOnScreen to 1st of $secondDirection )
		(set: $rightOnScreen to 2nd of $secondDirection )
		]
	(output-data:&quot;&quot;)
	]))
		
	
}

	
</tw-passagedata><tw-passagedata pid="13" name="passage 3" tags="" position="2296,733" size="100,100">{(set: $thisRoomsNumber to 13)
(set: $thisYear to 10000)}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence2. (unless: $optionalPath contains 3)[From here you may go [[$leftOnScreen-&gt;room 7]]($toThePhrase: 7).] (unless: $optionalPath contains 3)[From here you may go [[$upOnScreen-&gt;room 8]]($toThePhrase: 8).]]

</tw-passagedata><tw-passagedata pid="14" name="room 9" tags="" position="1853,587" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 9)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
($refreshSentences:)}
(border-color: (rgb: 155, 100, 0)) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence. [(if: $optionalPath contains 4)[You may also go [[$rightOnScreen-&gt;room 0]]($toThePhrase: 0).](else:)[You may also go [[$downOnScreen-&gt;passage 6]]. ]]
[(if: $optionalPath contains 5)[An alternative is to go [[$leftOnScreen-&gt;passage 4]].]]]</tw-passagedata><tw-passagedata pid="15" name="passage 4" tags="" position="1695,589" size="100,100">{(set: $thisRoomsNumber to 14)
(set: $thisYear to 10000)}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4) + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence2. From here you may go [[$rightOnScreen-&gt;room 9]]($toThePhrase: 9) or [[$downOnScreen-&gt;room 6]]($toThePhrase: 6).[]]</tw-passagedata><tw-passagedata pid="16" name="passage 5" tags="" position="1535,728" size="100,100">{(set: $thisRoomsNumber to 15)
(set: $thisYear to 10000)}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence2. From here you may go [[$downOnScreen2-&gt;room 5]]($toThePhrase: 5). (if: $optionalPath contains 6)[An alternative is to go [[$rightOnScreen-&gt;room 6]]($toThePhrase: 6).]]

</tw-passagedata><tw-passagedata pid="17" name="direction functions" tags="startup" position="58,675" size="100,100">{
&lt;!-- Settings: 
Flat: Scrambles NSEW but no vertical directions
Hilly: As Flat but may have occasional slopes. No direct vertical moves.
2storey: May have occasional slopes and vertical moves, but no more than two storeys. 
wall: Has no slopes and only one axis on the flat plane, but straight vertical moves in 3 storeys.
castle: As wall but with occasional moves in the perpendicular flat plane. 
crypt: as castle but heading downwards. 
tower: As castle but six storeys. 
pit: as tower but down
--&gt;

&lt;!-- This decides, based on the flatness variable, whether to (a) set the adjustable directions to randomly include hills and ladders, or (b) just include hills or (c) be entirely flat. --&gt;

(set: $setAdjustableDirections to 
(macro: [
	($setUpDownDirections:)
	(if: $flatness is &quot;flat&quot;)[($setFlatVariables:)]
	(if: $flatness is &quot;hilly&quot;)[($setHillyVariables:)]
	(if: $flatness is &quot;2storey&quot;)[($set3Dvariables:)]
	(if: $flatness is &quot;wall&quot;)[($setWallVariables:)]
	(if: $flatness is &quot;towery&quot;)[($setTowerVariables:)]
	(output-data:&quot;&quot;)
	]
	))

&lt;!-- This replaces the complex directions &quot;up and to the north&quot; with &quot;north&quot;, etc.--&gt; 

(set: $flatten to 
(macro: [
	(set: $downOnScreen2 to &quot;south&quot;)
	(set: $upOnScreen2 to &quot;north&quot;)
	(set: $rightOnScreen2 to &quot;east&quot;)
	(set: $leftOnScreen2 to &quot;west&quot;)
	(output-data:&quot;&quot;)
	]
	))

&lt;!-- The following two commands randomly decide whether to include optional connections between locations in the map. The map itself is set up to ensure that if one of these optional paths does not lead to a location, a different one will.--&gt; 

(set: $fixOptionalPaths to 
(macro: [
	(set: $optionalPath to (a:))
	($addPath:)($addPath:)($addPath:)($addPath:)($addPath:)($addPath:)
	(output-data:&quot;&quot;)
	]
	)
	)
	
(set: $addPath to 
(macro: [	
	(set: _x to ($srandom: 6)) 
	(set: $optionalPath to it + (a:_x))
	(output-data:&quot;&quot;)
	]
	)
	)

&lt;!-- This determines whether to randomly rotate the flat NSEW map 90 degrees and whether (by calling flipFlatDirections) to flip either of the axes.--&gt; 
(set: $setFlatDirections to 
(macro: [
	(set: _x to ($srandom: 1))
	(if: _x is 0)[
		(set: $upOnScreen to &quot;north&quot;)
		(set: $downOnScreen to &quot;south&quot;) 
		(set: $rightOnScreen to &quot;east&quot;) 
		(set: $leftOnScreen to &quot;west&quot;)
		]
	(else:) [
		(set: $upOnScreen to &quot;east&quot;)
		(set: $downOnScreen to &quot;west&quot;) 
		(set: $rightOnScreen to &quot;north&quot;) 
		(set: $leftOnScreen to &quot;south&quot;)
		]
	($flipFlatDirections:)
	(output-data: &quot;&quot;)
	]))

&lt;!-- This randomly decides whether to flip a NS or EW axis--&gt; 
(set: $flipFlatDirections to 
(macro: [
	(set: _x to ($srandom: 1))
	(set: _y to ($srandom: 1))
	(if: _x is 0)[
		(set: _temp to $downOnScreen)
		(set: $downOnScreen to $upOnScreen)
		(set: $upOnScreen to _temp)
		]
	(if: _y is 0)[
		(set: _temp to $leftOnScreen)
		(set: $leftOnScreen to $rightOnScreen)
		(set: $rightOnScreen to _temp)
		]
	(output-data: &quot;&quot;)
	]))

&lt;!-- REMOVE: The next two functions are called when the map is flipped, and they flip the extreme start rooms accordingly.--&gt; 

(set: $flipNSstarts to 
(macro: [
	(if: 1st of $startRooms is &quot;room 0&quot;)
		[(set: 1st of $startRooms to &quot;passage 2&quot;)
		(set: 3rd of $startRooms to &quot;room 0&quot;)
		]
	(else:)
		[(set: 4th of $startRooms to &quot;passage 2&quot;)
		(set: 2nd of $startRooms to &quot;room 0&quot;)
		]
	(output-data:&quot;&quot;)
	]))
	
(set: $flipEWstarts to 
(macro: [
	(if: 1st of $startRooms is &quot;room 0&quot;)
		[(set: 2nd of $startRooms to &quot;passage 5&quot;)
		(set: 4th of $startRooms to &quot;passage 3&quot;)
		]
	(else:)
		[(set: 1st of $startRooms to &quot;passage 5&quot;)
		(set: 3rd of $startRooms to &quot;passage 3&quot;)
		]
	(output-data:&quot;&quot;)
	]))	

&lt;!-- This decides randomly whether to flip the up down axes.--&gt; 
(set: $setUpDownDirections to 
(macro: [
	(set: _x to ($srandom: 1))
	(if: _x is 0)[
		(set: $upVariable to &quot;up&quot;)
		(set: $downVariable to &quot;down&quot;)
		]
	(else:) [
		(set: $upVariable to &quot;down&quot;)
		(set: $downVariable to &quot;up&quot;)
		]
	(output-data: &quot;&quot;)
	]))



&lt;!-- This randomly replaces the adjustable directions with some more interesting points on the compass.--&gt; 

(set: $setFlatVariables to 
(macro: [
	(set: $upOnScreen2 to $upOnScreen)
	(set: $downOnScreen2 to $downOnScreen)
	(set: $rightOnScreen2 to $rightOnScreen)
	(set: $leftOnScreen2 to $leftOnScreen)
	(set: _x to ($srandom: 3))
	(if: _x is even)[
		(set: $upOnScreen2 to ($rotate45: $upOnScreen))
		(set: $downOnScreen2 to ($rotate45: $downOnScreen))
		]
	(if: _x &gt; 1) [
		(set: $rightOnScreen2 to ($rotate45: $rightOnScreen))
		(set: $leftOnScreen2 to ($rotate45: $leftOnScreen))
		]

	(output-data: &quot;&quot;)
	]))

&lt;!-- This rotates directions through 45 degrees cw.--&gt; 

(set: $rotate45 to 
	(macro: str-type _direction, [
		(set: _output to (cond: 
			_direction is &quot;north&quot;, &quot;northeast&quot;,
			_direction is &quot;northeast&quot;, &quot;east&quot;,
			_direction is &quot;east&quot;, &quot;southeast&quot;,
			_direction is &quot;southeast&quot;, &quot;south &quot;,
			_direction is &quot;south &quot;, &quot;southwest&quot;,
			_direction is &quot;southwest&quot;, &quot;west&quot;,
			_direction is &quot;west&quot;, &quot;northwest&quot;,
			_direction is &quot;northwest&quot;, &quot;north&quot;,
			&quot;error: rotate45 received direction of wrong form&quot;
			))
		(output-data: _output)
		]
		))
		
&lt;!-- This rotates directions through 90 degrees cw.--&gt; 

(set: $rotate90 to 
	(macro: str-type _direction, [
		(set: _output to (cond: 
			_direction is &quot;north&quot;, &quot;east&quot;,
			_direction is &quot;northeast&quot;, &quot;southeast&quot;,
			_direction is &quot;east&quot;, &quot;south&quot;,
			_direction is &quot;southeast&quot;, &quot;southwest&quot;,
			_direction is &quot;south&quot;, &quot;west&quot;,
			_direction is &quot;southwest&quot;, &quot;northwest&quot;,
			_direction is &quot;west&quot;, &quot;north&quot;,
			_direction is &quot;northwest&quot;, &quot;northeast&quot;,
			&quot;error: rotate90 received direction of wrong form&quot;
			))
		(output-data: _output)
		]
		))
		
&lt;!-- This rotates the given direction through 90 degrees in the NS vertical plane (leaving east and west as they are).--&gt; 

(set: $rotate90Up to 
	(macro: str-type _direction, [
		(set: _output to (cond: 
			_direction is &quot;north&quot;, &quot;up&quot;,
			_direction is &quot;up&quot;, &quot;south&quot;,
			_direction is &quot;south&quot;, &quot;down&quot;,
			_direction is &quot;down&quot;, &quot;north&quot;,
			_direction is &quot;east&quot;, &quot;east&quot;,
			_direction is &quot;west&quot;, &quot;west&quot;,
			&quot;error: rotate90 received direction of wrong form&quot;
			))
		(output-data: _output)
		]
		))
			
&lt;!-- This randomly replaces the adjustable directions with hilled directions.--&gt; 

(set: $setHillyVariables to 
(macro: [
	(set: $upOnScreen2 to $upOnScreen)
	(set: $downOnScreen2 to $downOnScreen)
	(set: $rightOnScreen2 to $rightOnScreen)
	(set: $leftOnScreen2 to $leftOnScreen)
	(set: _x to ($srandom: 3))
	(if: _x &gt; 1)[
		(set: $rightOnScreen2 to 
			$upVariable +  &quot; &quot; +
			$stairTerm + 
			&quot; to the &quot; + 
			$rightOnScreen)
		(set: $leftOnScreen2 to 
			$downVariable +  &quot; &quot; +
			$stairTerm + 
			&quot; to the &quot; + 
			$leftOnScreen)]
	(if: _x is even) [
		(set: $upOnScreen2 to 
			$upVariable + &quot; &quot; +
			$stairTerm + 
			&quot; to the &quot; +
			$upOnScreen)
		(set: $downOnScreen2 to 
			$downVariable +  &quot; &quot; +
			$stairTerm +
			&quot; to the &quot; + 
			$downOnScreen)]
	(output-data: &quot;&quot;)
	]))
	

&lt;!-- The next three functions decide randomly whether to have ladders or steps in a NSEW direction.--&gt; 

(set: $set3Dvariables to 
(macro: [
	($setDownWestVariables:)
	($setDownSouthVariables:)
	(output-data:&quot;&quot;)
	]
	))

(set: $setDownWestVariables to 
(macro: [
	(set: _x to ($srandom: 1))
	(if: _x is 0)[
		(set: $rightOnScreen2 to 
			$upVariable +  &quot; &quot; +
			$stairTerm + 
			&quot; to the &quot; + 
			$rightOnScreen)
		(set: $leftOnScreen2 to 
			$downVariable +  &quot; &quot; +
			$stairTerm + 
			&quot; to the &quot; + 
			$leftOnScreen)
		]
	(else:) [
		(set: $rightOnScreen2 to $upVariable + &quot; &quot; + $ladderTerm)
		(set: $leftOnScreen2 to $downVariable + &quot; &quot; + $ladderTerm)
		]
	(output-data: &quot;&quot;)
	]))
	

(set: $setDownSouthVariables to 
(macro: [
	(set: _x to ($srandom: 1))
	(if: _x is 0)[
		(set: $upOnScreen2 to 
			$upVariable + &quot; &quot; +
			$stairTerm + 
			&quot; to the &quot; +
			$upOnScreen)
		(set: $downOnScreen2 to 
			$downVariable +  &quot; &quot; +
			$stairTerm +
			&quot; to the &quot; + 
			$downOnScreen)
		]
	(else:) [
		(set: $upOnScreen2 to $upVariable + &quot; &quot; + $ladderTerm)
		(set: $downOnScreen2 to $downVariable + &quot; &quot; + $ladderTerm)
		]
	(output-data: &quot;&quot;)
	]))

&lt;!-- This switches the frequent direction &quot;north&quot; for the rare direction &quot;up and to the north&quot;, ditto for E, W and S. Creates map with many slopes. --&gt;

(set: $setWallVariables to 
(macro: [
	($setDownWestVariables:)
	($setDownSouthVariables:)
	(set: _x to $upOnScreen2)
	(set: $upOnScreen2 to $upOnScreen)
	(set: $upOnScreen to _x)
	(set: _y to $downOnScreen2)
	(set: $downOnScreen2 to $downOnScreen)
	(set: $downOnScreen to _y)
	(set: _z to $rightOnScreen2)
	(set: $rightOnScreen2 to $rightOnScreen)
	(set: $rightOnScreen to _z)
	(set: _w to $leftOnScreen2)
	(set: $leftOnScreen2 to $leftOnScreen)
	(set: $leftOnScreen to _w)
	(output-data: &quot;&quot;)
	]))


	
(set: $setTowerVariables to 
(macro: [
	(set: _x to ($srandom: 1))
	(if: _x is 0)[
		(set: $startRoom to &quot;room 8&quot;)
		(set: $leftOnScreen to &quot;up&quot;)
		(set: $rightOnScreen to &quot;down&quot;)
		]
	(if: _x is 1)[
		(set: $startRoom to &quot;room 5&quot;)
		(set: $leftOnScreen to &quot;down&quot;)
		(set: $rightOnScreen to &quot;up&quot;)
		]
	(output-data: &quot;&quot;)
	]))
	
(set: $setPitVariables to 
(macro: [
	(set: _x to ($srandom: 1))
	(if: _x is 0)[
		(set: $startRoom to &quot;room 5&quot;)
		(set: $leftOnScreen to &quot;up&quot;)
		(set: $rightOnScreen to &quot;down&quot;)
		]
	(if: _x is 1)[
		(set: $startRoom to &quot;room 8&quot;)
		(set: $leftOnScreen to &quot;down&quot;)
		(set: $rightOnScreen to &quot;up&quot;)
		]
	(output-data: &quot;&quot;)
	]))
	
(set: $setFortVariables to 
(macro: [
	(set: _x to ($srandom: 1))
	(if: _x is 0)[
		(set: $startRoom to &quot;room 0&quot;)
		(set: $downOnScreen to &quot;up&quot;)
		(set: $upOnScreen to &quot;down&quot;)
		]
	(if: _x is 1)[
		(set: $startRoom to &quot;room 3&quot;)
		(set: $downOnScreen to &quot;down&quot;)
		(set: $upOnScreen to &quot;up&quot;)
		]
	(output-data: &quot;&quot;)
	]))
	
(set: $setCryptVariables to 
(macro: [
	(set: _x to ($srandom: 1))
	(if: _x is 0)[
		(set: $startRoom to &quot;room 3&quot;)
		(set: $downOnScreen to &quot;up&quot;)
		(set: $upOnScreen to &quot;down&quot;)
		]
	(if: _x is 1)[
		(set: $startRoom to &quot;room 0&quot;)
		(set: $downOnScreen to &quot;down&quot;)
		(set: $upOnScreen to &quot;up&quot;)
		]
	(output-data: &quot;&quot;)
	]))

(set: $zeroMarker to &quot;a barrel&quot;)
(set: $oneMarker to &quot;a suit of armor&quot;)
(set: $twoMarker to &quot;a crystal swan&quot;)
(set: $threeMarker to &quot;a statue of a buxom woman&quot;)
(set: $fourMarker to &quot;a golf club&quot;)
(set: $fiveMarker to &quot;a collection of gold rings&quot;)
(set: $sixMarker to &quot;a cane&quot;)
(set: $sevenMarker to &quot;a severed head in a box&quot;)
(set: $eightMarker to &quot;a gateway to infinity&quot;)
(set: $nineMarker to &quot;a Nazgul&quot;)
}

</tw-passagedata><tw-passagedata pid="18" name="top left" tags="" position="485,1080" size="100,100">{(set: $place to &quot;&quot;)
(set: $decadeNum to 0)
(set: $imageType to 0) 
}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[$mainSentence. You can either $head [[$rightOnNexusMap-&gt;top middle]] or [[$downOnNexusMap-&gt;four fifths up]]. (if: $floorInt is 6)[A ladder inside a cupola leads [[down-&gt;complex zero]] from here.] (else:)[(if: $floorInt is 14)[The coast to the $upOnNexusMap opens into an estuary, via which you can [[sail inland-&gt;complex zero]].] (else:) [You may also $head $upOnNexusMap (print: (1) of $doorTypes) (print: (either: &quot;&quot;, (2) of $doorTypes)) (print: (3) of $doorTypes) $exitPhrase [[$complexWord-&gt;complex zero]].]] Another option is to step into the [[elevator]]. 
]


($setImage:)</tw-passagedata><tw-passagedata pid="19" name="top middle" tags="" position="641,1081" size="100,100">{(set: $place to &quot;&quot;)
(set: $decadeNum to 0)
(set: $imageType to 0) }
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[$mainSentence. You may $head [[$rightOnNexusMap-&gt;top right]] or [[$leftOnNexusMap-&gt;top left]] from here. There is also (if: $floorInt is 6)[a rooftop entrance, from which a [[ladder descends-&gt;complex two]] into the building below.] (else:) [(if: $floorInt is 14)[the mouth of a river to the $downOnNexusMap, via which you can [[sail inland-&gt;complex two]].](else:) [a (print: (3) of $doorTypes) to the $downOnNexusMap which goes $exitPhrase [[$complexWord-&gt;complex two]].] ]
]

($setImage:)</tw-passagedata><tw-passagedata pid="20" name="four fifths up" tags="" position="490,1353" size="100,100">{(set: $place to &quot;&quot;)
(set: $decadeNum to 0)
(set: $imageType to 0) 
(set: $homeCity to &quot;Bishop&#39;s Lynn&quot;)
(set: $foreignCity to &quot;La Rochelle&quot;)}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[$mainSentence. You may $head [[$upOnNexusMap-&gt;top left]] or [[$downOnNexusMap-&gt;three fifths up]] from here. (if: $floorInt is 6)[A ladder inside a cupola leads [[down-&gt;complex three]] from here.] (else:)[(if: $floorInt is 14)[To the $rightOnNexusMap you can see the coast opens up into an estuary, via which you can [[sail inland -&gt;complex three]].] (else:) [To the $rightOnNexusMap is [[a (print: (3) of $doorTypes) via which you can $head $exitPhrase $complexWord-&gt;complex three]].] ]
]

($setImage:)</tw-passagedata><tw-passagedata pid="21" name="top right" tags="" position="805,1083" size="100,100">{(set: $place to &quot;&quot;)
(set: $decadeNum to 0)
(set: $imageType to 0) }
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[$mainSentence, (if: $floorInt is 6)[at the $rightOnNexusMap most end, which ends with a cupola, inside which is a ladder that leads [[down-&gt;complex one]]. Alternatively, you may $head to the [[$leftOnNexusMap-&gt;top middle]].] (else:)[(if: $floorInt is 14)[at the $rightOnNexusMap end of a closed sea. From here, you may $head into a estuary to the $rightOnNexusMap, via which you can access a river and [[sail inland-&gt;complex one]], or you can $head [[$leftOnNexusMap-&gt;top middle]].] (else:) [at the $rightOnNexusMap most end, which ends in a (print: (3) of $doorTypes). You may [[take the (print: (3) of $doorTypes)-&gt;complex one]], or head to the [[$leftOnNexusMap-&gt;top middle]].]]
]

($setImage:)</tw-passagedata><tw-passagedata pid="22" name="three fifths up" tags="" position="488,1623" size="100,100">{(set: $place to &quot;&quot;)
(set: $decadeNum to 0)
(set: $imageType to 0) }
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[$mainSentence. (if: $floorInt is 14)[Though passage to the $leftOnNexusMap is blocked by a coastal cliffs, you may chart a course [[$upOnNexusMap-&gt;four fifths up]], [[$rightOnNexusMap-&gt;middle middle]] or [[$downOnNexusMap-&gt;two fifths up]] from here.] (else:) [A $secondaryPassage branches off to the [[$rightOnNexusMap-&gt;middle middle]]. Or you may take the main $secondaryPassage to the [[$upOnNexusMap-&gt;four fifths up]] or to the [[$downOnNexusMap-&gt;two fifths up]].]
]

($setImage:)</tw-passagedata><tw-passagedata pid="23" name="middle middle" tags="" position="643,1626" size="100,100">{(set: $place to &quot;&quot;)
(set: $decadeNum to 0)
(set: $imageType to 0) }
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[$mainSentence. You may $head [[$leftOnNexusMap-&gt;three fifths up]] or [[$rightOnNexusMap-&gt;middle right]] from here. (if: $floorInt is 6)[A ladder inside a cupola leads [[down-&gt;complex four]] from here.] (else:)[ (if: $floorInt is 14)[The coast to the $upOnNexusMap opens up into an estuary, via which you can [[sail inland-&gt;complex four]].] (else:) [There is also [[a way to the $upOnNexusMap-&gt;complex four]] to a $complexWord.]]
]

($setImage:)</tw-passagedata><tw-passagedata pid="24" name="two fifths up" tags="" position="486,1776" size="100,100">{(set: $mervDirection to &quot;inbound&quot;)
(set: $imageType to 0) 
(set: $decadeNum to 0)
(set: $place to &quot;&quot;)}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[$mainSentence(if: $floorInt is 14)[, sailing down a narrow sea between two lands]. You may $head [[$upOnNexusMap-&gt;three fifths up]] or [[$downOnNexusMap-&gt;bottom]] from here. (if: $floorInt is 6)[There are also twin cupolas here, in which ladders descend into the buildings below. You may take the [[one to the $rightOnNexusMap -&gt;complex seven]] or the [[one to the $leftOnNexusMap -&gt;complex nine]].](else:)[ (if: $floorInt is 14)[To the [[$rightOnNexusMap-&gt;complex seven]] and [[$leftOnNexusMap-&gt;complex nine]] are coastal estuaries via which you can sail inland.](else:) [Alternatively, you might take [[a (print: (3) of $doorTypes) to the $rightOnNexusMap -&gt;complex seven]], or a (print: (3) of $doorTypes) to the [[$leftOnNexusMap -&gt;complex nine]].]]
]

($setImage:)
(print: $imageRef)
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1400.1);&lt;/script&gt;]
</tw-passagedata><tw-passagedata pid="25" name="bottom" tags="" position="488,1926" size="100,100">{(set: $place to &quot;&quot;)
(set: $decadeNum to 0)
(set: $imageType to 0) }
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[$mainSentence, (if: $floorInt is 6)[at the $downOnNexusMap most end, which ends with a cupola, inside which is a ladder that leads [[down-&gt;complex eight]]. You may take it,] (else:)[(if: $floorInt is 14)[at the $downOnNexusMap end of a closed sea. From here, you may $head into a river mouth to the $downOnNexusMap, via which you can [[sail inland-&gt;complex eight]],](else:) [at the $downOnNexusMap most end, which ends in a (print: (3) of $doorTypes). You may [[take the (print: (3) of $doorTypes)-&gt;complex eight]],]] or $head to the [[$upOnNexusMap-&gt;two fifths up]]. 
]

(set: $japanBattle to &quot;outbound&quot;)
($setImage:)</tw-passagedata><tw-passagedata pid="26" name="middle right" tags="" position="803,1628" size="100,100">{(set: $place to &quot;&quot;)
(set: $decadeNum to 0)
(set: $imageType to 0) }
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[$mainSentence (if: $floorInt is 6)[, at the $rightOnNexusMap most end. There are two rooftop entrances here, via which you can descend by rope into the buildings below. You may take [[the one to the $rightOnNexusMap-&gt;complex five]] or [[the one to the $downOnNexusMap -&gt;complex six]]. You also have the option of heading [[$leftOnNexusMap-&gt;middle middle]] along the rooftop.](else:)[(if: $floorInt is 14)[at the $rightOnNexusMap end of a closed sea. From here, you may $head into a delta to the $rightOnNexusMap, via which you can [[sail inland-&gt;complex five]], or $head into a different estuary to the [[$downOnNexusMap-&gt;complex six]]. Alternatively, you can $head [[$leftOnNexusMap-&gt;middle middle]].] (else:) [, at the $rightOnNexusMap most end, which ends in a (print: (3) of $doorTypes). You may [[take the (print: (3) of $doorTypes)-&gt;complex five]], take [[another (print: (3) of $doorTypes) to the $downOnNexusMap -&gt;complex six]] or $head to the [[$leftOnNexusMap-&gt;middle middle]].] ]
]

($setImage:)</tw-passagedata><tw-passagedata pid="27" name="complex zero" tags="" position="486,933" size="100,100">{
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
(set: $imageType to 1) 
(set: $decadeNum to 0) 
(set: $decadeNumber to $hundredNumber + $decadeNum)
(set: $decadeString to (str: $decadeNum))
(set: $decadeReference to $hundredNumber + $decadeNum + 1) 
(set: $referenceString to (str: $decadeReference))
(set: $seedIndex to 1)
(set: $randomSeed to (str: $decadeReference - 1) of $randomMaps)
(set: $roomAdjective to &quot;a &quot;)

($refreshSentences:) 

&lt;!--IMAGES--&gt;
($setImage:)
&lt;!--END IMAGES--&gt;


($setFlatDirections:)
($setUpDownDirections:)
(set: $flatness to &quot;2storey&quot;)
($setArchitecture:)  

&lt;!--$downOnNexusMap is the direction pointing back to the main nexus, after rotation. Find which of the variables in the complex matches it, and use that to choose the appropriate starting room --&gt;
(set:$wayOut to $downOnNexusMap)
(set: $directionIn to $upOnNexusMap)


($setAdjustableDirections:)
($fixOptionalPaths:)

(set: $returnText to &quot;A different possibility is to head back to the $downOnNexusMap towards [[$nexusWord-&gt;complex zero]].&quot;) 

}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{
(if: $floorInt is 6)[You are in one of the gatehouses to the city of Aleppo. A road leads [[$upOnNexusMap-&gt;$startRoom]] from here to the hanging farms. Alternatively you can go [[up a ladder-&gt;top left]] to $nexusWord.] 
(else:)[
	(if: $floorInt is 14)[You are anchored in a wide, tropical river on an unexplored island in the new world. To explore the island, you must head [[$upOnNexusMap-&gt;$startRoom]] on foot. Alternatively you can $head [[$downOnNexusMap-&gt;top left]] to $nexusWord.] 
	(else:)[$complexSentence3. From here you can go $downOnNexusMap to [[$nexusWord-&gt;top left]]. Alternatively, you may go [[$upOnNexusMap-&gt;$startRoom]].] 
		]
		}]





</tw-passagedata><tw-passagedata pid="28" name="complex two" tags="" position="638,1215" size="100,100">{
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
(set: $imageType to 1) 
(set: $decadeNum to 20) 
(set: $decadeNumber to $hundredNumber + $decadeNum)

(set: $decadeString to (str: $decadeNum))
(set: $decadeReference to $hundredNumber + $decadeNum + 1) 
(set: $referenceString to (str: $decadeReference))
(set: $seedIndex to 1)
(set: $randomSeed to (str: $decadeReference - 1) of $randomMaps)
(set: $roomAdjective to &quot;a &quot;)
(set: $complexLanguage to (str: $decadeReference) of $generalLanguage)
($refreshSentences:) 

($setImage:)
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1422);&lt;/script&gt;]



	
(set: $zeroMarker to &quot;a barrel&quot;)
(set: $oneMarker to &quot;a suit of armor&quot;)
(set: $twoMarker to &quot;a crystal swan&quot;)
(set: $threeMarker to &quot;a statue of a buxom woman&quot;)
(set: $fourMarker to &quot;a golf club&quot;)
(set: $fiveMarker to &quot;a collection of gold rings&quot;)
(set: $sixMarker to &quot;a cane&quot;)
(set: $sevenMarker to &quot;a severed head in a box&quot;)
(set: $eightMarker to &quot;a gateway to infinity&quot;)
(set: $nineMarker to &quot;a Nazgul&quot;)

($setFlatDirections:)
($setUpDownDirections:)
(set: $flatness to &quot;2storey&quot;)
(if: (a: ) contains $floorInt)[(set: $flatness to &quot;hilly&quot;)]
(if: (a: ) contains $floorInt)[(set: $flatness to &quot;flat&quot;)]


(if: $downOnScreen is $upOnNexusMap)[(set: $startRoom to &quot;room 3&quot;)]
(if: $upOnScreen is $upOnNexusMap)[(set: $startRoom to &quot;room 0&quot;)]
(if: $rightOnScreen is $upOnNexusMap)[(set: $startRoom to &quot;room 8&quot;)]
(if: $leftOnScreen is $upOnNexusMap)[(set: $startRoom to &quot;room 5&quot;)]

($setAdjustableDirections:)
($fixOptionalPaths:)

(set: $returnText to &quot;A different possibility is to head back to the $upOnNexusMap towards [[$nexusWord-&gt;complex two]].&quot;) 

}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[{
(if: $floorInt is 6)[You are in the library of the hashashins in the city of Aleppo. To explore the library, you must head [[$downOnNexusMap-&gt;$startRoom]]. You can leave the library by heading [[up-&gt;top middle]] to $nexusWord.] 
(else:)[
	(if: $floorInt is 14)[(set: $place to &quot;Strasbourg&quot;)You are at a port in the city of Strasbourg, where Johannes Gutenberg has invented his printing press. To explore the city, you must head [[$downOnNexusMap-&gt;$startRoom]] on foot. Alternatively you can $head [[$upOnNexusMap-&gt;top middle]] to $nexusWord.]	
	(else:)[$complexSentence3. From here you can go $upOnNexusMap to [[$nexusWord-&gt;top middle]]. Alternatively, you may go [[$downOnNexusMap-&gt;$startRoom]].]
	]
}]




</tw-passagedata><tw-passagedata pid="29" name="complex one" tags="" position="993,1082" size="100,100">{
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
(set: $imageType to 1) 
(set: $decadeNum to 10) 
(set: $decadeNumber to $hundredNumber + $decadeNum)

(set: $decadeString to (str: $decadeNum))
(set: $decadeReference to $hundredNumber + $decadeNum + 1) 
(set: $referenceString to (str: $decadeReference))
(set: $seedIndex to 1)
(set: $randomSeed to (str: $decadeReference - 1) of $randomMaps)
(set: $roomAdjective to &quot;a &quot;)
(set: $complexLanguage to (str: $decadeReference) of $generalLanguage)
($refreshSentences:) 

($setImage:)
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1412);&lt;/script&gt;]



	
(set: $zeroMarker to &quot;a barrel&quot;)
(set: $oneMarker to &quot;a suit of armor&quot;)
(set: $twoMarker to &quot;a crystal swan&quot;)
(set: $threeMarker to &quot;a statue of a buxom woman&quot;)
(set: $fourMarker to &quot;a golf club&quot;)
(set: $fiveMarker to &quot;a collection of gold rings&quot;)
(set: $sixMarker to &quot;a cane&quot;)
(set: $sevenMarker to &quot;a severed head in a box&quot;)
(set: $eightMarker to &quot;a gateway to infinity&quot;)
(set: $nineMarker to &quot;a Nazgul&quot;)
($setFlatDirections:)
($setUpDownDirections:)
(set: $flatness to &quot;2storey&quot;)
(if: (a: 5,6,8,11) contains $floorInt)[(set: $flatness to &quot;hilly&quot;)]
(if: (a: 0,1,2,4,7) contains $floorInt)[(set: $flatness to &quot;flat&quot;)]
(if: (a: 10) contains $floorInt)[(set: $flatness to &quot;towery&quot;)]

(if: $downOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 3&quot;)]
(if: $upOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 0&quot;)]
(if: $rightOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 8&quot;)]
(if: $leftOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 5&quot;)]

($setAdjustableDirections:)
($fixOptionalPaths:)

(set: $returnText to &quot;A different possibility is to head back to the $leftOnNexusMap towards [[$nexusWord-&gt;complex one]].&quot;) 

}


(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[{
(if: $floorInt is 6)[You are in a labyrinth of smoky hashish bars somewhere in the seedier quarter of the city of Aleppo. You can explore the quarter by heading [[$rightOnNexusMap-&gt;$startRoom]]. Alternatively you can go [[up a ladder-&gt;top right]] to $nexusWord.] 
(else:)[
	(if: $floorInt is 14)[(set: $place to &quot;York&quot;)You are at a port in the city of York. To explore the city, you must head [[$rightOnNexusMap-&gt;$startRoom]] on foot. Alternatively you can $head [[$leftOnNexusMap-&gt;top right]] to $nexusWord.]	(else:)[$complexSentence3.
From here you can go $leftOnNexusMap to [[$nexusWord-&gt;top right]]. Alternatively, you may go [[$rightOnNexusMap-&gt;$startRoom]].] 
]
}]





</tw-passagedata><tw-passagedata pid="30" name="complex three" tags="" position="683,1352" size="100,100">{
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
(set: $imageType to 1) 
(set: $decadeNum to 30) 
(set: $decadeNumber to $hundredNumber + $decadeNum)

(set: $decadeString to (str: $decadeNum))
(set: $decadeReference to $hundredNumber + $decadeNum + 1) 
(set: $referenceString to (str: $decadeReference))
(set: $seedIndex to 1)
(set: $randomSeed to (str: $decadeReference - 1) of $randomMaps)
(set: $roomAdjective to &quot;a &quot;)
(set: $complexLanguage to (str: $decadeReference) of $generalLanguage)
($refreshSentences:) 

($setImage:)
(if: $floorInt is 11)[&lt;script&gt;CustomScripts.updateBackground(1135);&lt;/script&gt;]
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1432);&lt;/script&gt;]



	
(set: $zeroMarker to &quot;a barrel&quot;)
(set: $oneMarker to &quot;a suit of armor&quot;)
(set: $twoMarker to &quot;a crystal swan&quot;)
(set: $threeMarker to &quot;a statue of a buxom woman&quot;)
(set: $fourMarker to &quot;a golf club&quot;)
(set: $fiveMarker to &quot;a collection of gold rings&quot;)
(set: $sixMarker to &quot;a cane&quot;)
(set: $sevenMarker to &quot;a severed head in a box&quot;)
(set: $eightMarker to &quot;a gateway to infinity&quot;)
(set: $nineMarker to &quot;a Nazgul&quot;)

($setFlatDirections:)
($setUpDownDirections:)
(set: $flatness to &quot;2storey&quot;)
(if: (a:5) contains $floorInt)[(set: $flatness to &quot;hilly&quot;)]
(if: (a: ) contains $floorInt)[(set: $flatness to &quot;flat&quot;)]
(if: (a:11) contains $floorInt)[(set: $flatness to &quot;towery&quot;)]


(if: $downOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 3&quot;)]
(if: $upOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 0&quot;)]
(if: $rightOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 8&quot;)]
(if: $leftOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 5&quot;)]

($setAdjustableDirections:)
($fixOptionalPaths:)

(if: $floorInt is 11)[(set: $returnText to &quot;If you tire of France you may head $leftOnNexusMap to [[La Rochelle-&gt;port2]] to seek a ship back to England.&quot;)](else:)[(set: $returnText to &quot;A different possibility is to head back to the $leftOnNexusMap towards [[$nexusWord-&gt;complex three]].&quot;)]

}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[{
(if: $floorInt is 11)[You are on a high and windy path overlooking the port town of Bishop&#39;s Lynn. From here, you can head inland towards [[Sherwood Forest-&gt;four fifths up]] or make your way down into the [[port city-&gt;port1]].]
	(else:)[ 
(if: $floorInt is 6)[You are in the Sultan&#39;s palace in the city of Aleppo, where exotic belly dancers put on a show for the Sultan&#39;s many guests. To explore the palace, you must head [[$rightOnNexusMap-&gt;$startRoom]]. to leave, you may head [[up-&gt;four fifths up]] to $nexusWord.] 
(else:)[
	(if: $floorInt is 14)[(set: $place to &quot;Orleans&quot;)You are docked at the city of Orleans, which is under siege from the forces of Joan of Arc. To explore, you must head [[$rightOnNexusMap-&gt;$startRoom]] on foot. Alternatively you can $head [[$leftOnNexusMap-&gt;four fifths up]] to $nexusWord.]
	(else:)[$complexSentence3 From here you can go $leftOnNexusMap to the [[$nexusWord-&gt;four fifths up]]. Alternatively, you may go [[$rightOnNexusMap-&gt;$startRoom]].]
	]]
	}]





</tw-passagedata><tw-passagedata pid="31" name="complex four" tags="" position="640,1486" size="100,100">{
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
(set: $imageType to 1) 
(set: $decadeNum to 40) 
(set: $decadeNumber to $hundredNumber + $decadeNum)

(set: $decadeString to (str: $decadeNum))
(set: $decadeReference to $hundredNumber + $decadeNum + 1) 
(set: $referenceString to (str: $decadeReference))
(set: $seedIndex to 1)
(set: $randomSeed to (str: $decadeReference - 1) of $randomMaps)
(set: $roomAdjective to &quot;a &quot;)
(set: $complexLanguage to (str: $decadeReference) of $generalLanguage)
($refreshSentences:) 

($setImage:)
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1442);&lt;/script&gt;]



	
(set: $zeroMarker to &quot;a barrel&quot;)
(set: $oneMarker to &quot;a suit of armor&quot;)
(set: $twoMarker to &quot;a crystal swan&quot;)
(set: $threeMarker to &quot;a statue of a buxom woman&quot;)
(set: $fourMarker to &quot;a golf club&quot;)
(set: $fiveMarker to &quot;a collection of gold rings&quot;)
(set: $sixMarker to &quot;a cane&quot;)
(set: $sevenMarker to &quot;a severed head in a box&quot;)
(set: $eightMarker to &quot;a gateway to infinity&quot;)
(set: $nineMarker to &quot;a Nazgul&quot;)

($setFlatDirections:)
($setUpDownDirections:)
(set: $flatness to &quot;2storey&quot;)
(if: (a: 0, 6,11) contains $floorInt)[(set: $flatness to &quot;hilly&quot;)]
(if: (a: ) contains $floorInt)[(set: $flatness to &quot;flat&quot;)]


(if: $downOnScreen is $downOnNexusMap)[(set: $startRoom to &quot;room 3&quot;)]
(if: $upOnScreen is $downOnNexusMap)[(set: $startRoom to &quot;room 0&quot;)]
(if: $rightOnScreen is $downOnNexusMap)[(set: $startRoom to &quot;room 8&quot;)]
(if: $leftOnScreen is $downOnNexusMap)[(set: $startRoom to &quot;room 5&quot;)]

($setAdjustableDirections:)
($fixOptionalPaths:)

(set: $returnText to &quot;A different possibility is to head back to the $downOnNexusMap towards [[$nexusWord-&gt;complex four]].&quot;) 

}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[{(if: $floorInt is 6)[You are in the bustling souk of Al-Madina, where vendors from far and wide peddle their wares to the busy city. The souk heads [[$upOnNexusMap-&gt;$startRoom]] from here. Alternatively you can exit the souk by [[climbing up-&gt;middle middle]] to $nexusWord.]
(else:)[
	(if: $floorInt is 14)[(set: $place to &quot;Aztec&quot;)You are on a river to an unknown port in the new world. To dock at a magnificent city of pyramids and explore the city, you must head [[$upOnNexusMap-&gt;$startRoom]]. Alternatively you can $head [[$downOnNexusMap-&gt;middle middle]] to $nexusWord.]
	(else:)[ $complexSentence3. From here you can go $downOnNexusMap to the [[$nexusWord-&gt;middle middle]]. Alternatively, you may go [[$upOnNexusMap-&gt;$startRoom]].]
	]
	}]





</tw-passagedata><tw-passagedata pid="32" name="complex five" tags="" position="986,1626" size="100,100">{
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
(set: $imageType to 1) 
(set: $decadeNum to 50) 
(set: $decadeNumber to $hundredNumber + $decadeNum)

(set: $decadeString to (str: $decadeNum))
(set: $decadeReference to $hundredNumber + $decadeNum + 1) 
(set: $referenceString to (str: $decadeReference))
(set: $seedIndex to 1)
(set: $randomSeed to (str: $decadeReference - 1) of $randomMaps)
(set: $roomAdjective to &quot;a &quot;)
(set: $complexLanguage to (str: $decadeReference) of $generalLanguage)
($refreshSentences:) 

($setImage:)
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1452);&lt;/script&gt;]


	
(set: $zeroMarker to &quot;a barrel&quot;)
(set: $oneMarker to &quot;a suit of armor&quot;)
(set: $twoMarker to &quot;a crystal swan&quot;)
(set: $threeMarker to &quot;a statue of a buxom woman&quot;)
(set: $fourMarker to &quot;a golf club&quot;)
(set: $fiveMarker to &quot;a collection of gold rings&quot;)
(set: $sixMarker to &quot;a cane&quot;)
(set: $sevenMarker to &quot;a severed head in a box&quot;)
(set: $eightMarker to &quot;a gateway to infinity&quot;)
(set: $nineMarker to &quot;a Nazgul&quot;)

($setFlatDirections:)
($setUpDownDirections:)
(set: $flatness to &quot;2storey&quot;)
(if: (a: 0, 3, 5,11) contains $floorInt)[(set: $flatness to &quot;hilly&quot;)]
(if: (a: 1) contains $floorInt)[(set: $flatness to &quot;flat&quot;)]


(if: $downOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 3&quot;)]
(if: $upOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 0&quot;)]
(if: $rightOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 8&quot;)]
(if: $leftOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 5&quot;)]

($setAdjustableDirections:)
($fixOptionalPaths:)

(set: $returnText to &quot;A different possibility is to head back to the $leftOnNexusMap towards [[$nexusWord-&gt;complex five]].&quot;) 


}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[{
(if: $floorInt is 6)[You are in the inner gatehouse to the Citadel of Aleppo. The doors to the city are locked and unopenable, but you can explore the citadel by heading [[$rightOnNexusMap-&gt;$startRoom]]. Alternatively you can leave the citadel by [[climbing up a ladder-&gt;middle right]] to $nexusWord.] 
(else:)[
	(if: $floorInt is 14)[(set: $place to &quot;Istanbul&quot;)You are at a port in the city of Istanbul, which is under siege from the forces of Mehmet II. To explore the city, you must head [[$rightOnNexusMap-&gt;$startRoom]] on foot. Alternatively you can $head [[$leftOnNexusMap-&gt;middle right]] to $nexusWord.]
	(else:)[$complexSentence3. From here you can go $leftOnNexusMap to [[$nexusWord-&gt;middle right]]. Alternatively, you may go [[$rightOnNexusMap-&gt;$startRoom]].]
]
}]




</tw-passagedata><tw-passagedata pid="33" name="complex six" tags="" position="891,1776" size="100,100">{
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
(set: $imageType to 1) 
(set: $decadeNum to 60) 
(set: $decadeNumber to $hundredNumber + $decadeNum)

(set: $decadeString to (str: $decadeNum))
(set: $decadeReference to $hundredNumber + $decadeNum + 1) 
(set: $referenceString to (str: $decadeReference))
(set: $seedIndex to 1)
(set: $randomSeed to (str: $decadeReference - 1) of $randomMaps)
(set: $roomAdjective to &quot;a &quot;)
(set: $complexLanguage to (str: $decadeReference) of $generalLanguage)
($refreshSentences:) 

($setImage:)
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1462);&lt;/script&gt;]



	
(set: $zeroMarker to &quot;a barrel&quot;)
(set: $oneMarker to &quot;a suit of armor&quot;)
(set: $twoMarker to &quot;a crystal swan&quot;)
(set: $threeMarker to &quot;a statue of a buxom woman&quot;)
(set: $fourMarker to &quot;a golf club&quot;)
(set: $fiveMarker to &quot;a collection of gold rings&quot;)
(set: $sixMarker to &quot;a cane&quot;)
(set: $sevenMarker to &quot;a severed head in a box&quot;)
(set: $eightMarker to &quot;a gateway to infinity&quot;)
(set: $nineMarker to &quot;a Nazgul&quot;)

($setFlatDirections:)
($setUpDownDirections:)
(set: $flatness to &quot;2storey&quot;)
(if: (a: 0,1,2,6,7,8) contains $floorInt)[(set: $flatness to &quot;hilly&quot;)]
(if: (a: ) contains $floorInt)[(set: $flatness to &quot;flat&quot;)]

(if: $downOnScreen is $upOnNexusMap)[(set: $startRoom to &quot;room 3&quot;)]
(if: $upOnScreen is $upOnNexusMap)[(set: $startRoom to &quot;room 0&quot;)]
(if: $rightOnScreen is $upOnNexusMap)[(set: $startRoom to &quot;room 8&quot;)]
(if: $leftOnScreen is $upOnNexusMap)[(set: $startRoom to &quot;room 5&quot;)]

($setAdjustableDirections:)
($fixOptionalPaths:)

(set: $returnText to &quot;A different possibility is to head back to the $upOnNexusMap towards [[$nexusWord-&gt;complex six]].&quot;) 

}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[{
(if: $floorInt is 6)[You are in the Jewish quarter of the ancient city of Aleppo. To explore the quarter, you must head [[$downOnNexusMap-&gt;$startRoom]]. You can leave the quarter by climbing [[up-&gt;middle right]] to $nexusWord.] 
(else:)[
	(if: $floorInt is 14)[(set:$place to &quot;London&quot;)You are at a port in the city of London, where the Lollards are imprisoned. To explore the city, you must head [[$downOnNexusMap-&gt;$startRoom]] on foot. Alternatively you can $head [[$upOnNexusMap-&gt;middle right]] to $nexusWord.]
	(else:)[$complexSentence3. From here you can go $upOnNexusMap to [[$nexusWord-&gt;middle right]]. Alternatively, you may go [[$downOnNexusMap-&gt;$startRoom]].]
	]
	}]





</tw-passagedata><tw-passagedata pid="34" name="complex seven" tags="" position="673,1777" size="100,100">{
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
(set: $imageType to 1) 
(set: $decadeNum to 70) 
(set: $decadeNumber to $hundredNumber + $decadeNum)

(set: $decadeString to (str: $decadeNum))
(set: $decadeReference to $hundredNumber + $decadeNum + 1) 
(set: $referenceString to (str: $decadeReference))
(set: $seedIndex to 1)
(set: $randomSeed to (str: $decadeReference - 1) of $randomMaps)
(set: $roomAdjective to &quot;a &quot;)
(set: $complexLanguage to (str: $decadeReference) of $generalLanguage)
($refreshSentences:) 

($setImage:)


	
(set: $zeroMarker to &quot;a barrel&quot;)
(set: $oneMarker to &quot;a suit of armor&quot;)
(set: $twoMarker to &quot;a crystal swan&quot;)
(set: $threeMarker to &quot;a statue of a buxom woman&quot;)
(set: $fourMarker to &quot;a golf club&quot;)
(set: $fiveMarker to &quot;a collection of gold rings&quot;)
(set: $sixMarker to &quot;a cane&quot;)
(set: $sevenMarker to &quot;a severed head in a box&quot;)
(set: $eightMarker to &quot;a gateway to infinity&quot;)
(set: $nineMarker to &quot;a Nazgul&quot;)

($setFlatDirections:)
($setUpDownDirections:)
(set: $flatness to &quot;2storey&quot;)
(if: (a: 2,3,4) contains $floorInt)[(set: $flatness to &quot;hilly&quot;)]
(if: (a: ) contains $floorInt)[(set: $flatness to &quot;flat&quot;)]


(if: $downOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 3&quot;)]
(if: $upOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 0&quot;)]
(if: $rightOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 8&quot;)]
(if: $leftOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 5&quot;)]

($setAdjustableDirections:)
($fixOptionalPaths:)

(set: $returnText to &quot;A different possibility is to head back to the $leftOnNexusMap towards [[$nexusWord-&gt;complex seven]].&quot;) 

}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[{
(if: $floorInt is 6)[You are in the great mosque in the city of Aleppo. You can explore the mosque by heading [[$rightOnNexusMap-&gt;$startRoom]]. Alternatively you can leave the mosque by [[climbing up a ladder-&gt;two fifths up]] to $nexusWord.] 
(else:)[
	(if: $floorInt is 14)[You are at a port in the Vatican city, which suffers under the corrupt Papacy of Rodrigo Borgia. To explore the Vatican, you must head [[$rightOnNexusMap-&gt;$startRoom]] on foot. Alternatively you can $head [[$leftOnNexusMap-&gt;two fifths up]] to $nexusWord.]
	(else:)[$complexSentence3. From here you can go $leftOnNexusMap to [[$nexusWord-&gt;two fifths up]]. Alternatively, you may go [[$rightOnNexusMap-&gt;$startRoom]].]
	]
	}]





</tw-passagedata><tw-passagedata pid="35" name="complex nine" tags="" position="292,1778" size="100,100">{
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
(set: $imageType to 1) 
(set: $decadeNum to 90) 
(set: $decadeString to (str: $decadeNum))
(set: $decadeNumber to $hundredNumber + $decadeNum)

(set: $decadeReference to $hundredNumber + $decadeNum + 1) 
(set: $referenceString to (str: $decadeReference))
(set: $seedIndex to 1)
(set: $randomSeed to (str: $decadeReference - 1) of $randomMaps)
(set: $roomAdjective to &quot;a &quot;)
(set: $complexLanguage to (str: $decadeReference) of $generalLanguage)
($refreshSentences:) 

($setImage:)
(if: $floorInt is 12 and $mervDirection is &quot;inbound&quot;)[&lt;script&gt;CustomScripts.updateBackground(1292);&lt;/script&gt;]
(if: $floorInt is 12 and $mervDirection is &quot;outbound&quot;)[&lt;script&gt;CustomScripts.updateBackground(1294);&lt;/script&gt;]
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1492);&lt;/script&gt;]

	
(set: $zeroMarker to &quot;a barrel&quot;)
(set: $oneMarker to &quot;a suit of armor&quot;)
(set: $twoMarker to &quot;a crystal swan&quot;)
(set: $threeMarker to &quot;a statue of a buxom woman&quot;)
(set: $fourMarker to &quot;a golf club&quot;)
(set: $fiveMarker to &quot;a collection of gold rings&quot;)
(set: $sixMarker to &quot;a cane&quot;)
(set: $sevenMarker to &quot;a severed head in a box&quot;)
(set: $eightMarker to &quot;a gateway to infinity&quot;)
(set: $nineMarker to &quot;a Nazgul&quot;)

($setFlatDirections:)
($setUpDownDirections:)
(set: $flatness to &quot;2storey&quot;)
(if: (a: 1, 2, 5, 6, 7) contains $floorInt)[(set: $flatness to &quot;hilly&quot;)]
(if: (a: 3, 4, 8) contains $floorInt)[(set: $flatness to &quot;flat&quot;)]


(if: $downOnScreen is $rightOnNexusMap)[(set: $startRoom to &quot;room 3&quot;)]
(if: $upOnScreen is $rightOnNexusMap)[(set: $startRoom to &quot;room 0&quot;)]
(if: $rightOnScreen is $rightOnNexusMap)[(set: $startRoom to &quot;room 8&quot;)]
(if: $leftOnScreen is $rightOnNexusMap)[(set: $startRoom to &quot;room 5&quot;)]

($setAdjustableDirections:)
($fixOptionalPaths:)

(set: $returnText to &quot;A different possibility is to head back to the $rightOnNexusMap towards [[$nexusWord-&gt;complex nine]].&quot;) 
 

}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[{
(if: $floorInt is 12)[(set: $place to &quot;Merv&quot;)
(if: $mervDirection is &quot;inbound&quot;)[You find a boatway towards the central Asian city of Merv. The skyline is breathtaking. However, a family hurriedly rowing in the opposite direction shouts a warning. &quot;Turn back!&quot; they warn, calling out over the water. &quot;The Mongols have taken the city and are killing everyone, man, woman and child!&quot; You can ignore the warning and [[head into the city anyway-&gt;burning merv]]. Or you can [[turn back-&gt;two fifths up]] to $nexusWord.]
(else:)[You escape, coughing from the smoke, from the blazing inferno and out through the gates of the city. You have no option but to [[head back-&gt;two fifths up]] to $nexusWord. ]] 
(else:)[
(if: $floorInt is 6)[You are at one of the gatehouses to the city of Aleppo. From here, a road leads to the forgotten cities to the $leftOnNexusMap. You may [[take the road $leftOnNexusMap-&gt;$startRoom]] if you like, or [[climb up-&gt;two fifths up]] to $nexusWord.] 
(else:)[
	(if: $floorInt is 14)[(set: $place to &quot;Wallachia&quot;)You are up river near the city of Trgovite, where Vlad the Impaler rules with an iron fist. Outside the city, fields of impaled bodies send an ominous message to the enemies of Wallachia. To head towards the fields, you must head [[$leftOnNexusMap-&gt;$startRoom]] on foot. Alternatively you can $head [[$rightOnNexusMap-&gt;two fifths up]] to $nexusWord.] 
	(else:) [(if: $floorInt is 8)[You wade among the dead, killed at the recent battle between the Anglo Saxons and the Vikings. From here you can wade $rightOnNexusMap to the [[$nexusWord-&gt;two fifths up]]. Alternatively, you may wade [[$leftOnNexusMap-&gt;$startRoom]].]
			(else:)[$complexSentence3. (if: $floorInt is 11)[There is an old butcher here, [[with whom you make speak-&gt;Berold of Rouen]].]  From here you can go $rightOnNexusMap to the [[$nexusWord-&gt;two fifths up]]. Alternatively, you may go [[$leftOnNexusMap-&gt;$startRoom]].]
	]]]
	}]





</tw-passagedata><tw-passagedata pid="36" name="complex eight" tags="" position="488,2069" size="100,100">{
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
(set: $imageType to 1) 
(set: $decadeNum to 80) 
(set: $decadeNumber to $hundredNumber + $decadeNum)

(set: $decadeString to (str: $decadeNum))
(set: $decadeReference to $hundredNumber + $decadeNum + 1) 
(set: $referenceString to (str: $decadeReference))
(set: $seedIndex to 1)
(set: $randomSeed to (str: $decadeReference - 1) of $randomMaps)
(set: $roomAdjective to &quot;a &quot;)
(set: $complexLanguage to (str: $decadeReference) of $generalLanguage)
($refreshSentences:) 

($setImage:)
(if: $floorInt is 12)[&lt;script&gt;CustomScripts.updateBackground(1282);&lt;/script&gt;]
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1482);&lt;/script&gt;]


	
(set: $zeroMarker to &quot;a barrel&quot;)
(set: $oneMarker to &quot;a suit of armor&quot;)
(set: $twoMarker to &quot;a crystal swan&quot;)
(set: $threeMarker to &quot;a statue of a buxom woman&quot;)
(set: $fourMarker to &quot;a golf club&quot;)
(set: $fiveMarker to &quot;a collection of gold rings&quot;)
(set: $sixMarker to &quot;a cane&quot;)
(set: $sevenMarker to &quot;a severed head in a box&quot;)
(set: $eightMarker to &quot;a gateway to infinity&quot;)
(set: $nineMarker to &quot;a Nazgul&quot;)

($setFlatDirections:)
($setUpDownDirections:)
(set: $flatness to &quot;2storey&quot;)
(if: (a:2, 5, 6) contains $floorInt)[(set: $flatness to &quot;hilly&quot;)]
(if: (a: ) contains $floorInt)[(set: $flatness to &quot;flat&quot;)]


(if: $downOnScreen is $upOnNexusMap)[(set: $startRoom to &quot;room 3&quot;)]
(if: $upOnScreen is $upOnNexusMap)[(set: $startRoom to &quot;room 0&quot;)]
(if: $rightOnScreen is $upOnNexusMap)[(set: $startRoom to &quot;room 8&quot;)]
(if: $leftOnScreen is $upOnNexusMap)[(set: $startRoom to &quot;room 5&quot;)]

($setAdjustableDirections:)
($fixOptionalPaths:)

(set: $returnText to &quot;A different possibility is to head back to the $upOnNexusMap towards [[$nexusWord-&gt;complex eight]].&quot;) 

}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[{
(if: $floorInt is 12)[
	(if: $japanBattle is &quot;outbound&quot;)[You come to what appears to be an empty beach. Suddenly, however, you see a ship peeping out from behind a large rock and heavy hands fall on your shoulders. You are being pressed into service into the Mongol fleet! You slip from their grasp and you may take your one chance to [[escape-&gt;bottom]]. Alternatively, you can surrender and [[see where this goes.-&gt;wreckStory]] ]
	(else:)[You wash up on the beach. From here you may head [[back-&gt;bottom]] to $nexusWord.]]
(else:)[(if: $floorInt is 6)[You are in the penal quarter of the ancient city of Aleppo, under the shadow of the citadel, where sinners and criminals are justly flogged, mutilated or executed. To explore the quarter, you must head [[$downOnNexusMap-&gt;$startRoom]]. You can leave the quarter by climbing [[up-&gt;bottom]] to $nexusWord.] 
(else:)[
	(if: $floorInt is 14)[(set: $place to &quot;Seville&quot;)You are at a riverside dock in the city of Seville, where the Inquisition roots out Jews, Muslims and heretics to be painfully converted to the one true faith. To explore the city, you must head [[$downOnNexusMap-&gt;$startRoom]] on foot. Alternatively you can head [[$upOnNexusMap-&gt;bottom]] to the $nexusWord.]
	(else:)[
	(if: $floorInt is 8)[You walk among the wounded Anglo Saxons, bloodied from their victory against the Viking raiders. You may head [[$downOnNexusMap-&gt;$startRoom]] from here. Alternatively you can $head [[$upOnNexusMap-&gt;bottom]] to $nexusWord.]
	(else:)[$complexSentence3. From here you can go $upOnNexusMap to [[$nexusWord-&gt;bottom]]. Alternatively, you may go [[$downOnNexusMap-&gt;$startRoom]].]  
	]]]
	}]





</tw-passagedata><tw-passagedata pid="37" name="Done" tags="" position="305,1080" size="100,100">At last the elevator comes to a halt.

{
(set: $floorInt to (num: $floorString))
(set: $hundredNumber to $floorInt*100)
(set: $floorString2 to (str: $hundredNumber))

(set: $head to (cond:
	$floorInt is 8, &quot;wade&quot;,
	$floorInt is 14, &quot;sail a course&quot;,
	(either: &quot;head&quot;, &quot;go&quot;)))

(set: $secondaryPassage to (cond: 
	$floorInt is 0, &#39;tunnel&#39;,
	$floorInt is 1, &#39;alley&#39;,
	$floorInt is 2, &#39;avenue&#39;,
	$floorInt is 3, &#39;corridor&#39;,
	$floorInt is 4, &#39;way&#39;,
	$floorInt is 5, &#39;passage&#39;,
	$floorInt is 6, &#39;rooftop&#39;,
	$floorInt is 7, &#39;palace complex&#39;,
	$floorInt is 8, &#39;waterway&#39;,
	$floorInt is 9, &#39;Strae&#39;,
	$floorInt is 10, &#39;path&#39;,
	$floorInt is 11, &#39;trail&#39;,
	$floorInt is 12, &#39;trail&#39;,
	$floorInt is 13, &#39;path&#39;,
	$floorInt is 14, &#39;deck&#39;,
	$floorInt is 15, &#39;lane&#39;,
	$floorInt is 16, &#39;channel&#39;,
	$floorInt is 17, &#39;couloir&#39;,
	$floorInt is 18, &#39;wynd&#39;,
	$floorInt is 19, &#39;lane&#39;,
	$floorInt is 20, &#39;back street&#39;,
	&quot;way&quot;))

(set: $doorTypes to (cond: 
	$floorInt is 0, (a: &quot;through a&quot;, &quot;&quot;, &quot;doorway&quot;, &quot;into a&quot;),
	$floorInt is 1, (a: &#39;through an&#39;, &#39;&#39;, &#39;archway&#39;, &quot;into a&quot;),
	$floorInt is 2, (a: &#39;through a&#39;, &#39;red and gold&#39;, &#39;arch&#39;, &quot;into a&quot;),
	$floorInt is 3, (a: &#39;through a&#39;, &#39;golden&#39;, &#39;exit&#39;, &quot;into&quot;),
	$floorInt is 4, (a: &#39;through a&#39;, &#39;collapsing&#39;, &#39;arch&#39;, &quot;into a&quot;),
	$floorInt is 5, (a: &#39;down a&#39;, &#39;long&#39;, &#39;road&#39;, &quot;to a&quot;),
	$floorInt is 6, (a: &#39;into a&#39;, &#39;rooftop&#39;,&#39;cupola&#39;, &quot;that provides access to a&quot;),
	$floorInt is 7, (a: &#39;down a&#39;, &#39;mud&#39;, &#39;lane&#39;, &quot;to a&quot;),
	$floorInt is 8, (a: &#39;up a&#39;, &#39;dry-earth&#39;, &#39;upgang&#39;, &quot;onto a&quot;),
	$floorInt is 9, (a: &#39;along a&#39;, &#39;narrow&#39;, &#39;Gasse&#39;, &quot;to a&quot;),
	$floorInt is 10, (a: &#39;down a&#39;, &#39;rarely trodden&#39;, &#39;path&#39;, &quot;to a&quot;),
	$floorInt is 11, (a: &#39;through a&#39;, &quot;farmer&#39;s&quot;,&#39;gate&#39;, &quot;into a&quot;),
	$floorInt is 12, (a: &#39;through a&#39;, &#39;&#39;, &#39;mountain pass&#39;, &quot;to a&quot;),
	$floorInt is 13, (a: &#39;through a&#39;, &#39;rotted&#39;, &#39;gate&#39;, &quot;into a&quot;),
	$floorInt is 14, (a: &#39;&#39;, &#39;&#39;, &#39;&#39;, &quot;to a&quot;),
	$floorInt is 15, (a: &#39;down a&#39;, &#39;&#39;, &#39;lane&#39;, &quot;to a&quot;),
	$floorInt is 16, (a: &#39;up a&#39;, &#39;&#39;, &#39;step&#39;, &quot;onto a&quot;),
	$floorInt is 17, (a: &#39;over a&#39;, &#39;narrow&#39;, &#39;bridge&#39;, &quot;to a different&quot;),
	$floorInt is 18, (a: &#39;down a&#39;, &#39;foggy&#39;, &#39;alley&#39;, &quot;to a different&quot;),
	$floorInt is 19, (a: &#39;through a&#39;, &#39;&#39;, &#39;hole in the wall&#39;, &quot;to a different&quot;),
	$floorInt is 20, (a: &#39;through an&#39;, &#39;&#39;, &#39;electronic turnstile&#39;, &quot;to a different&quot;),
	&quot;through a&quot;, &quot;&quot;, &quot;doorway&quot;, &quot;to a&quot;))

(set: $exitPhrase to (cond: 
	$floorInt is 9, &quot;to somewhere&quot;,
	$floorInt is 6, &quot;into the&quot;, 
	$floorInt is 8, &quot;onto an&quot;,
	$floorInt is 14, &quot;towards a&quot;,
	(4) of $doorTypes + &quot; different&quot;
	))

(set: $complexWord to (cond: 
	$floorInt is 0, &#39;part of the labyrinth&#39;,
	$floorInt is 1, &#39;quarter&#39;,
	$floorInt is 2, &#39;ward&#39;,
	$floorInt is 3, &#39;wing&#39;,
	$floorInt is 4, &#39;quarter&#39;,
	$floorInt is 5, &#39;realm&#39;,
	$floorInt is 6, &#39;building below&#39;,
	$floorInt is 7, &#39;quarter&#39;,
	$floorInt is 8, &#39;island&#39;,
	$floorInt is 9, &#39;unknown&#39;,
	$floorInt is 10, &#39;commune&#39;,
	$floorInt is 11, &#39;parish&#39;,
	$floorInt is 12, &#39;region&#39;,
	$floorInt is 13, &#39;parish&#39;,
	$floorInt is 14, &#39;nearby port&#39;,
	$floorInt is 15, &#39;hamlet&#39;,
	$floorInt is 16, &#39;district&#39;,
	$floorInt is 17, &#39;quarter&#39;,
	$floorInt is 18, &#39;neighborhood&#39;,
	$floorInt is 19, &#39;district&#39;,
	$floorInt is 20, &#39;sector&#39;,
	&quot;region&quot;))
	
(set: $nexusWord to (cond: 
	$floorInt is 0, &quot;the catacombs&quot;,
	$floorInt is 1, &quot;the forum&quot;,
	$floorInt is 2, &quot;the forbidden city&quot;,
	$floorInt is 3, &quot;the Byzantine palace&quot;,
	$floorInt is 4, &quot;the ruins of the Caput Mundi&quot;,
	$floorInt is 5, &quot;the olde pyke&quot;,
	$floorInt is 6, &quot;the rooftops of Aleppo&quot;,
	$floorInt is 7, &quot;the palace complex at Charlemagne&#39;s court&quot;,
	$floorInt is 8, &quot;the sulphurous waters of the Somerset levels&quot;,
	$floorInt is 9, &quot;die zentrale Stadt &quot;,
	$floorInt is 10, &quot;the pilgrim&#39;s path&quot;,
	$floorInt is 11, &quot;Sherwood Forest&quot;,
	$floorInt is 11 and $homeCity is &quot;La Rochelle&quot;, &quot;the exit to the tower&quot;,
	$floorInt is 12, &quot;the Asian steppes&quot;,
	$floorInt is 13, &quot;the slutchy wynds&quot;,
	$floorInt is 14, &quot;the sea&quot;,
	$floorInt is 15, &quot;undefined&quot;,
	$floorInt is 16, &quot;undefined&quot;,
	$floorInt is 17, &quot;undefined&quot;,
	$floorInt is 18, &quot;undefined&quot;,
	$floorInt is 19, &quot;undefined&quot;,
	$floorInt is 20, &quot;undefined&quot;))
	

	
(set: $nexusPassage to (cond: 
	$floorInt is 0, (a: &#39;in a&#39;, &#39;narrow&#39;, &#39;tunnel&#39;),
	$floorInt is 1, (a: &#39;on a&#39;, &#39;busy&#39;, &#39;street&#39;),
	$floorInt is 2, (a: &#39;on a&#39;, &#39;clay-brick&#39;, &#39;avenue&#39;),
	$floorInt is 3, (a: &#39;in a&#39;, &#39;high&#39;, &#39;hallway&#39;),
	$floorInt is 4, (a: &#39;on a&#39;, &#39;desolate&#39;, &#39;street&#39;),
	$floorInt is 5, (a: &#39;on a&#39;, &#39;grassy&#39;, &#39;path&#39;),
	$floorInt is 6, (a: &#39;on a&#39;, &#39;clay tiled&#39;,&#39;rooftop&#39;),
	$floorInt is 7, (a: &#39;on a&#39;, &#39;muddy&#39;, &#39;street&#39;),
	$floorInt is 8, (a: &#39;&#39;, &#39;&#39;, &#39;&#39;),
	$floorInt is 9, (a: &#39;on a&#39;, &#39;dark brick&#39;, &#39;Strae&#39;),
	$floorInt is 10, (a: &#39;on a&#39;, &quot;pilgrim&#39;s&quot;, &#39;trail&#39;),
	$floorInt is 11, (a: &#39;on a&#39;, &#39;drizzled&#39;,&#39;path&#39;),
	$floorInt is 12, (a: &#39;on a&#39;, &#39;wide open&#39;, &#39;trail&#39;),
	$floorInt is 13, (a: &#39;on a&#39;, &#39;slutchy&#39;, &#39;path&#39;),
	$floorInt is 14, (a: &#39;on a&#39;, &#39;wooden&#39;, &#39;frigate&#39;),
	$floorInt is 15, (a: &#39;on a&#39;, &#39;smoky&#39;, &#39;pike&#39;),
	$floorInt is 16, (a: &#39;on a&#39;, &#39;deep&#39;, &#39;canal&#39;),
	$floorInt is 17, (a: &#39;on a&#39;, &#39;cobbled&#39;, &#39;rue&#39;),
	$floorInt is 18, (a: &#39;on a&#39;, &#39;cobbled&#39;, &#39;street&#39;),
	$floorInt is 19, (a: &#39;on a&#39;, &#39;rubbled&#39;, &#39;street&#39;),
	$floorInt is 20, (a: &#39;on a&#39;, &#39;vibrant&#39;, &#39;street&#39;),
	&quot;way&quot;))
	
	(set: $nexusPhrase to (cond: 
	$floorInt is 0, (a: &#39;in the&#39;, &#39;dusty&#39;, &#39;catacombs&#39;, &#39;of Callixus&#39;),
	$floorInt is 1, (a: &#39;in the&#39;, &#39;bustling&#39;, &#39;forum&#39;, &#39;of ancient Rome&#39;),
	$floorInt is 2, (a: &#39;on the&#39;, &#39;opulent&#39;, &#39;avenues&#39;, &#39;of the Forbidden City&#39;),
	$floorInt is 3, (a: &#39;in a&#39;, &#39;glistening&#39;, &#39;palace&#39;, &#39;in ancient Byzantium&#39;),
	$floorInt is 4, (a: &#39;in the&#39;, &#39;ruins&#39;, &#39;&#39;, &#39;of ancient Rome&#39;),
	$floorInt is 5, (a: &#39;on the&#39;, &#39;olde&#39;, &#39;pyke&#39;, &#39;in Arthurian Britain&#39;),
	$floorInt is 6, (a: &#39;above the&#39;, &#39;bustling&#39;, &#39;city&#39;, &#39;of Aleppo&#39;),
	$floorInt is 7, (a: &quot;in Charlemagne&#39;s&quot;, &#39;&#39;, &#39;Palace Complex&#39;, &#39;at Aachen&#39;),
	$floorInt is 8, (a: &#39;wading through the&#39;, &#39;stinking&#39;, &#39;Somerset levels&#39;, &#39;, within the bells of the Athelney Abbey&#39;),
	$floorInt is 9, (a: &#39;in the&#39;, &#39;&#39;, &#39;First Reich&#39;, &#39;&#39;),
	$floorInt is 10, (a: &#39;near the&#39;, &#39;&#39;, &#39;twelve holy communities&#39;, &#39;of St Benedict&#39;),
	$floorInt is 11, (a: &#39;in&#39;, &#39;&#39;,&#39;Sherwood Forest&#39;, &#39;&#39;),
	$floorInt is 12, (a: &#39;on the&#39;, &#39;boundless&#39;, &#39;steppes&#39;, &#39;of Asia&#39;),
	$floorInt is 13, (a: &#39;in the&#39;, &#39;diseased&#39;, &#39;ditches&#39;, &#39;of medieval Scotland&#39;),
	$floorInt is 14, (a: &#39;in sight of&#39;, &#39;&#39;, &#39;unexplored shores&#39;, &#39;&#39;),
	$floorInt is 15, (a: &#39;in the&#39;, &#39;dark&#39;, &#39;valley&#39;, &#39;beneath the Apuseni mountains&#39;),
	$floorInt is 16, (a: &#39;on the&#39;, &#39;tranquil&#39;, &#39;waterways&#39;, &#39;of the Grachtengordel&#39;),
	$floorInt is 17, (a: &#39;on the&#39;, &#39;bloody&#39;, &#39;streets&#39;, &#39;of revolutionary Paris&#39;),
	$floorInt is 18, (a: &#39;on the&#39;, &#39;foggy&#39;, &#39;cobbles&#39;, &#39;of Victorian London&#39;),
	$floorInt is 19, (a: &#39;in the&#39;, &#39;dusty&#39;, &#39;rubble&#39;, &#39;of war torn Europe&#39;),
	$floorInt is 20, (a: &#39;within the&#39;, &#39;dense&#39;, &#39;cityscape&#39;, &#39;of neon lit Shanghai&#39;),
	(a: &quot;&quot;,&quot;&quot;,&quot;world&quot;,&quot;&quot;)))

(set: $hundredStrings to (dm: 
		&quot;0&quot;, &quot;the first century&quot;,
		&quot;1&quot;, &quot;the second century&quot;,
		&quot;2&quot;, &quot;the third century&quot;,
		&quot;3&quot;, &quot;the fourth century&quot;,
		&quot;4&quot;, &quot;the fifth century&quot;,
	  	&quot;5&quot;, &quot;the sixth century&quot;,
		&quot;6&quot;, &quot;the seventh century&quot;,
		&quot;7&quot;, &quot;the eighth century&quot;,
		&quot;8&quot;, &quot;the ninth century&quot;,
		&quot;9&quot;, &quot;the tenth century&quot;,
		&quot;10&quot;, &quot;the eleventh century&quot;,
		&quot;11&quot;, &quot;the twelfth century&quot;,
		&quot;12&quot;, &quot;the thirteenth century&quot;,
		&quot;13&quot;, &quot;the fourteenth century&quot;,
		&quot;14&quot;, &quot;the fifteenth century&quot;,
	  	&quot;15&quot;, &quot;the sixteenth century&quot;,
		&quot;16&quot;, &quot;the seventeenth century&quot;,
		&quot;17&quot;, &quot;the eighteenth century&quot;,
		&quot;18&quot;, &quot;the nineteenth century&quot;,
		&quot;19&quot;, &quot;the twentieth century&quot;,
		&quot;20&quot;, &quot;the twenty first century&quot;))

(set: $romanDecades to (dm: 
		&quot;0&quot;, &#39;&quot;Nulla Decennium&quot;&#39;,
		&quot;1&quot;, &#39;&quot;Decennium Unum&quot;&#39;,
		&quot;2&quot;, &#39;&quot;Decennium Duo&quot;&#39;,
		&quot;3&quot;, &#39;&quot;Decennium Tria&quot;&#39;,
		&quot;4&quot;, &#39;&quot;Decennium Quatuor&quot;&#39;,
	  	&quot;5&quot;, &#39;&quot;Decennium Quinque&quot;&#39;,
		&quot;6&quot;, &#39;&quot;Sex Decennium&quot;&#39;,
		&quot;7&quot;, &#39;&quot;Decennium Septem&quot;&#39;,
		&quot;8&quot;, &#39;&quot;Decennium Octo&quot;&#39;,
		&quot;9&quot;, &#39;&quot;Decennium Novem&quot;&#39;))

(set: $middleEnglishDecades to (dm: 
		&quot;0&quot;, &#39;&quot;ought tenne yeer&quot;&#39;,
		&quot;1&quot;, &#39;&quot;fyrst tenne yeer&quot;&#39;,
		&quot;2&quot;, &#39;&quot;secunde tenne yeer&quot;&#39;,
		&quot;3&quot;, &#39;&quot;thridde tenne yeer&quot;&#39;,
		&quot;4&quot;, &#39;&quot;ferthe tenne yeer&quot;&#39;,
	  	&quot;5&quot;, &#39;&quot;fifte tenne yeer&quot;&#39;,
		&quot;6&quot;, &#39;&quot;sixte tenne yeer&quot;&#39;,
		&quot;7&quot;, &#39;&quot;sevynte tenne yeer&quot;&#39;,
		&quot;8&quot;, &#39;&quot;eyghte tenne yeer&quot;&#39;,
		&quot;9&quot;, &#39;&quot;nynthe tenne yeer&quot;&#39;))

(set: $defaultDecades to (dm: 
		&quot;1&quot;, &#39;&quot;Decade One&quot;&#39;,
		&quot;2&quot;, &#39;&quot;Decade Two&quot;&#39;,
		&quot;3&quot;, &#39;&quot;Decade Three&quot;&#39;,
		&quot;4&quot;, &#39;&quot;Decade Four&quot;&#39;,
		&quot;5&quot;, &#39;&quot;Decade Five&quot;&#39;,
	  	&quot;6&quot;, &#39;&quot;Decade Six&quot;&#39;,
		&quot;7&quot;, &#39;&quot;Decade Seven&quot;&#39;,
		&quot;8&quot;, &#39;&quot;Decade Eight&quot;&#39;,
		&quot;9&quot;, &#39;&quot;Decade Nine&quot;&#39;,
		&quot;0&quot;, &#39;&quot;Decade Zero&quot;&#39;
	)
	)





(set: $decadeSigns to (cond: 
	$floorInt &lt; 5, $romanDecades,
	$floorInt &lt; 16, $middleEnglishDecades,
	$defaultDecades))







(set: $roomWord to (cond: 
	$floorInt is 0, &#39;vault&#39;,
	$floorInt is 1, &#39;plaza&#39;,
	$floorInt is 2, &#39;square&#39;,
	$floorInt is 3, &#39;room&#39;,
	$floorInt is 4, &#39;former plaza&#39;,
	$floorInt is 5, &#39;chamber&#39;,
	$floorInt is 6, &#39;stall&#39;,
	$floorInt is 7, &#39;grotto&#39;,
	$floorInt is 8, &#39;hummock&#39;,
	$floorInt is 9, &#39;hall&#39;,
	$floorInt is 10, &#39;abyss&#39;,
	$floorInt is 11, &#39;platform&#39;,
	$floorInt is 12, &#39;cockpit&#39;,
	$floorInt is 13, &#39;hall&#39;,
	$floorInt is 14, &#39;compartment&#39;,
	$floorInt is 15, &#39;hovel&#39;,
	$floorInt is 16, &#39;square&#39;,
	$floorInt is 17, &#39;courtyard&#39;,
	$floorInt is 18, &#39;dosshouse&#39;,
	$floorInt is 19, &#39;square&#39;,
	$floorInt is 20, &#39;cube&#39;,
	&quot;space&quot;))
	
	

(set: $somewhere to (cond: 
	$floorInt is 8, &quot; &quot;,
	(either: &quot; somewhere &quot;, &quot; &quot;)
	)
	)
	

(set: $mainSentence to &quot;You are &quot; 
	+ 1st of $nexusPassage 
	+ &quot; &quot; 
	+ 2nd of $nexusPassage
	+ &quot; &quot; 
	+ 3rd of $nexusPassage
	+ $somewhere 
	+ 1st of $nexusPhrase
	+ &quot; &quot; 
	+ 2nd of $nexusPhrase
	+ &quot; &quot;
	+ 3rd of $nexusPhrase
	+ &quot; &quot;
	+ 4th of $nexusPhrase
	)
	
(set: $fixDirection to 
	(macro: num-type _directionNum, 
	[
	(set: $directions to 
		(cond: 
		_directionNum is 0,(a:&#39;north&#39;,&#39;east&#39;,&#39;south&#39;,&#39;west&#39;),
		_directionNum is 1,(a: &#39;east&#39;,&#39;south&#39;,&#39;west&#39;,&#39;north&#39;),
		_directionNum is 2,(a: &#39;south&#39;,&#39;west&#39;,&#39;north&#39;,&#39;east&#39;),
		_directionNum is 3,(a: &#39;west&#39;,&#39;north&#39;,&#39;east&#39;,&#39;south&#39;),
		(a:&#39;fail&#39;)))
	(if: 1st of $directions is &#39;fail&#39;)
		[($fixDirection:_directionNum - 4)]
	(output-data: &quot;&quot;)
	]
	)
)

(set: $signIntro to &quot;with a sign that says &quot;)
(set: $hundredString to $floorString of $hundredStrings)
($fixDirection:$floorInt)
(set: $upOnNexusMap to 1st of $directions)
(set: $rightOnNexusMap to 2nd of $directions)
(set: $downOnNexusMap to 3rd of $directions)
(set: $leftOnNexusMap to 4th of $directions)




	}
	
The elevator doors open to the $rightOnNexusMap and you [[step out-&gt;top left]].</tw-passagedata><tw-passagedata pid="38" name="elevator" tags="" position="305,930" size="100,100">(border: &quot;solid&quot;)[You are in an elevator. The dial permits you to choose any floor from 0 through 20. Please input the floor you desire.]  
&lt;input type=&quot;text&quot; data-varname=&quot;floorString&quot;&gt;
&lt;script&gt;processInputElements();&lt;/script&gt;

(link-goto: &quot;Done&quot;)

&lt;script&gt;CustomScripts.updateBackground(-1);&lt;/script&gt;
</tw-passagedata><tw-passagedata pid="39" name="phrase builder" tags="startup" position="296,1361" size="100,100">{
(set: $wordIterator to 1)
(set: $directionText to &quot;oijo&quot;)

(set: $vectorDescription to 
(macro: array-type _vector, [
	(set: _eW to (cond:
		(1st of _vector) is 1, &quot;east&quot;,
		(1st of _vector) is -1, &quot;west&quot;,
		&quot;&quot;))
	(set: _nS to (cond:
		(2nd of _vector) is 1, &quot;north&quot;,
		(2nd of _vector) is -1, &quot;south&quot;,
		&quot;&quot;))
	(set: _uD to (cond:
		(3rd of _vector) is 1, &quot;up&quot;,
		(3rd of _vector) is -1, &quot;down&quot;,
		&quot;&quot;))
	(set: _output to _uD +_nS +_eW)
	(output-data: _output)
	]
	))
	
(set: $vectorDescription to (macro: array-type _vector,[
	(set: _through_way to ($elevation: _vector))
	(set: _eW to (cond:
		(1st of _vector) is 1, &quot;east&quot;,
		(1st of _vector) is -1, &quot;west&quot;,
		&quot;&quot;))
	(set: _nS to (cond:
		(2nd of _vector) is 1, &quot;north&quot;,
		(2nd of _vector) is -1, &quot;south&quot;,
		&quot;&quot;))
	(set: _uD to (cond:
		(3rd of _vector) is 1, &quot;up&quot;,
		(3rd of _vector) is -1, &quot;down&quot;,
		&quot;&quot;))
	(set: _conjunctionPhrase to (cond: 
		_through_way is &quot;a stairwell&quot;, &quot; and to the &quot;,
		&quot;&quot;))
	(set: _output to _uD + _conjunctionPhrase + _nS + _eW)
	(output-data: _output)
	]
	))
	
&lt;!--takes a list of vectors and calls writeDirection for each--&gt;
(set: $listExits to 
(macro: array-type _list, [
	(for: each _vector, ..._list)[
		($writeLink: _vector)
		(set: $wordIterator +=1)
		]
	(output-data:&quot;&quot;)
	]))
	

(set: $wordLink to 
(macro: array-type _vector, [
	($writeIntro:_vector) 
	(set: $directionText to $directionText 
	+ &quot; [[&quot; 
	+ ($getDirectionWords: _vector) 
	+ &quot;.&quot;
	+ &quot;-&gt;&quot; 
	+ ($getOtherRoomName:_vector) 
	+ &quot;]]&quot;)
	(output-data: &quot;&quot;)
	]
))

(set: $writeLink to 
(macro: array-type _vector, [
	($writeIntro:_vector) 
	(set: $directionText to $directionText 
	+ &quot; [[&quot; 
	+ ($vectorDescription: _vector) 
	+ &quot;.&quot;
	+ &quot;-&gt;&quot; 
	+ ($getOtherRoomName:_vector) 
	+ &quot;]]&quot;)
	(output-data: &quot;&quot;)
	]
))





&lt;!--takes an arc, adds it to the current coords to get the other rooms coords, then uses them to find out &amp; output the other room&#39;s number --&gt;

(set: $getOtherRoomsNumber to 
(macro: array-type _vector, [
	(set: _otherRoomCoords to ($vectorAdd3: $theseCoords, _vector))
	(set: _otherRoomNumber to ($getRoomFromCoords: _otherRoomCoords))
	(output-data: _otherRoomNumber)
	]))


(set: $getOtherRoomName to 
(macro: array-type _vector, [
	(set: _numberString to (str: ($getOtherRoomsNumber: _vector)))
	(output-data: _numberString)
	]))

	
(set: $writeIntro to 
(macro: array-type _vector, [	
	(set: _through_way to ($elevation: _vector))
	(if: $wordIterator is 1)
		[(set: $directionText to $directionText + (upperfirst: ($fromHere:)) + &quot; &quot; + _through_way + &quot; &quot; + ($goes:) )]
	(if: $wordIterator is 2)
		[(set: $directionText to $directionText + &quot; &quot; + (upperfirst: _through_way) + &quot; also &quot; + ($goes:))]
	(if: $wordIterator is 3)
		[(set: $directionText to $directionText + &quot; &quot; + (upperfirst: ($alternatively:)) + _through_way + &quot; &quot; + ($goes:) + &quot; &quot;)]
	(if: $wordIterator &gt; 3)
		[(set: $directionText to $directionText + &quot; &quot; + &quot;You &quot; + ($can:) + &quot; &quot; + ($go:) +&quot; via &quot; + _through_way)]
	(output-data: &quot;&quot;)
	]))

(set: $go to 
(macro: [
	(set: _output to (either: &quot;go&quot;, &quot;head&quot;))
	(output-data: _output) 
	]
	))
	
(set: $goes to 
(macro: [
	(set: _output to (either: &quot;goes&quot;, &quot;heads&quot;))
	(output-data: _output) 
	]
	))
	
(set: $alternatively to 
(macro: [
	(set: _output to (either: &quot;alternatively, &quot;))
	(output-data: _output) 
	]
	))
	
(set: $fromHere to 
(macro: [
	(set: _output to (either: &quot;from here&quot;))
	(output-data: _output) 
	]
	))
	
(set: $can to 
(macro: [
	(set: _output to (either: &quot; can&quot;, &quot; might&quot;, &quot; may&quot;, &quot; could&quot;))
	(output-data: _output) 
	]
	))
	
(set: $languageVariation to 
(macro: array-type _vector, string-type _through_way, [
	(set: _output to 
		&quot;You&quot; + 
		(either: &quot; can&quot;, &quot; might&quot;, &quot; may&quot;, &quot; could&quot;) + 
		(either: &quot; also&quot;, &quot; alternatively&quot;, &quot;&quot;, &quot; instead&quot;) + 
		(either: &quot; go&quot;, &quot; opt to go&quot;, &quot; head&quot;, &quot; opt to head&quot;, &quot; choose to go&quot;, &quot; choose to head&quot;, &quot; decide to go&quot;, &quot; decide to head&quot;) + 
		($vectorDescription: _vector) + 
		&quot; via a &quot; + 
		_through_way 
		+ &quot;.&quot;)
		(output-data: _output)]))

(set: $getDirectionWords to (macro: array-type _vector,[
	(set: _through_way to ($elevation: _vector))
	(set: _eW to (cond:
		(1st of _vector) is 1, &quot;east&quot;,
		(1st of _vector) is -1, &quot;west&quot;,
		&quot;&quot;))
	(set: _nS to (cond:
		(2nd of _vector) is 1, &quot;north&quot;,
		(2nd of _vector) is -1, &quot;south&quot;,
		&quot;&quot;))
	(set: _uD to (cond:
		(3rd of _vector) is 1, &quot;up&quot;,
		(3rd of _vector) is -1, &quot;down&quot;,
		&quot;&quot;))
	(set: _conjunctionPhrase to (cond: 
		_through_way is &quot;a stairwell goes &quot;, &quot; and to the &quot;,
		&quot;&quot;))
	(set: _output to &quot;From here, &quot; + _through_way + _uD + _conjunctionPhrase + _nS + _eW)
	(output-data: _output)
	]
	))



&lt;!--from exit vector decides whether apt exit type is ladder, stairwell or passage--&gt;

(set: $elevation to (macro: array-type _vector, [
	(set: _throughway to (cond: 
		(3rd of _vector is 0), 0,
		(1st of _vector is 0) and (2nd of _vector is 0), 1,
		2))
	(set: _output to (cond: 
		_throughway is 0, &quot;a passage&quot;,
		_throughway is 1, &quot;a ladder&quot;,
		_throughway is 2, &quot;a stairwell&quot;,
		&quot;&quot;))
	(output-data: _output)
		]))
		


}



</tw-passagedata><tw-passagedata pid="40" name="old javascript" tags="" position="23,1541" size="100,100">window.Harlowe = { &#39;State&#39; : State };
window.processInputElements = function () {
    $(&#39;input[data-varname]&#39;).on(&#39;change&#39;, function () {
        var varName = $(this).attr(&#39;data-varname&#39;);
        Harlowe.State.variables[varName] = this.value;
        $(&quot;tw-story&quot;).css(&quot;background-size&quot;,&quot;cover&quot;);
        if(Harlowe.State.variables[varName] == 0)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://th.bing.com/th/id/Rf5fecfd0d9830aab6202cf747bd3ad01?rik=L2W1jbILOWUswA&amp;riu=http%3a%2f%2fak3.picdn.net%2fshutterstock%2fvideos%2f3933461%2fthumb%2f2.jpg&amp;ehk=Jj2vK1CpTF0Tkwwx8bW4RAHwBltP9rnWO4IfZTCfsMY%3d&amp;risl=&amp;pid=ImgRaw)&quot;);
        			}
			else if(Harlowe.State.variables[varName] == 1)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/4f/0b/88/4f0b88df6b723ffda1fb80629884521a.jpg)&quot;);
							}
			else if(Harlowe.State.variables[varName] == 2)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/5e/89/86/5e898666ee18812c14868b1d609a64f0.jpg)&quot;);
							}
			else if(Harlowe.State.variables[varName] == 3)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://www.realmofhistory.com/wp-content/uploads/2016/05/3D_Animations_Layout_Roman_Domus_House_1-770x437.jpg)&quot;);
							}
						else if(Harlowe.State.variables[varName] == 4)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://images.fineartamerica.com/images/artworkimages/mediumlarge/1/roman-ruin-architecture-with-predigendem-st-paul-giovanni-paolo-panini.jpg)&quot;);
							}
			else if(Harlowe.State.variables[varName] == 5)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://images.alphacoders.com/266/266013.jpg)&quot;);
							}
			else if(Harlowe.State.variables[varName] == 6)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://vignette.wikia.nocookie.net/assassinscreed/images/b/b8/Damascus-depth.jpg/revision/latest?cb=20100918105609)&quot;);
							}
			else if(Harlowe.State.variables[varName] == 7)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://www.ancient-origins.net/sites/default/files/field/image/viking-tar.jpg)&quot;);
							}
						else if(Harlowe.State.variables[varName] == 8)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(file:///private/var/folders/kl/xdjgclbs2rd7j83lrx2kjygr0000gp/T/6f3dc60b-15c8-438b-b96d-458185d4b829.html)&quot;);
							}
				else if(Harlowe.State.variables[varName] == 9)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://vignette.wikia.nocookie.net/lotrfanon/images/6/6a/Mordor.png/revision/latest?cb=20170724095433)&quot;);
							}
			else if(Harlowe.State.variables[varName] == 10)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://4.bp.blogspot.com/-H7YcbEPiqH4/VbisGV8F-8I/AAAAAAAEtBs/sQETZ8PgdVM/s1600/John%2BMartin%2BTutt%2527Art%2540%2B%252825%2529.jpg)&quot;);
							}
			else if(Harlowe.State.variables[varName] == 11)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/32/d1/2d/32d12d3eb111ccb5065073c181007cc3.jpg)&quot;);
							}
			else if(Harlowe.State.variables[varName] == 12)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/98/82/b2/9882b2685e23b81832d9b8a3258fa65a.jpg)&quot;);
							}
			else if(Harlowe.State.variables[varName] == 13)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/ea/31/23/ea31239d3f7eba975360f044906a3aba.jpg)&quot;);
							}		
			else if(Harlowe.State.variables[varName] == 14)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.ytimg.com/vi/2QUYYOXUF4o/maxresdefault.jpg)&quot;);
							}	
			else if(Harlowe.State.variables[varName] == 15)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://upload.wikimedia.org/wikipedia/commons/e/ef/Avvakum_by_Pyotr_Yevgenyevich_Myasoyedov.jpg)&quot;);
							}	
			else if(Harlowe.State.variables[varName] == 16)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.postimg.cc/j5Gr8x8r/artwork-fantasy-city-town-digital-river-bridge-boat-medieval-1743259.jpg)&quot;);
							}	
			else if(Harlowe.State.variables[varName] == 17)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.postimg.cc/tgkQHd2D/heads-On-Pikes.jpg)&quot;);
							}	
			else if(Harlowe.State.variables[varName] == 18)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/cd/41/30/cd413085d15e1fbf4ef0f18b8ddbcdf1.jpg)&quot;);
							}	
			else if(Harlowe.State.variables[varName] == 19)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://w-dog.pw/android-wallpapers/7/16/532616445160923/art-war-france-saint-lo-street-us-troops-men-uniforms-shop-rifles-m1903a3-and-m1903a4-shots-smoke-ruins-ww2-picture.jpg)&quot;);
							}
			else if(Harlowe.State.variables[varName] == 20)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://cdnb.artstation.com/p/assets/images/images/006/670/547/large/ricardo-garcia-hernanz-proyecto-final-concept-art-definitivo.jpg?1500361155)&quot;);
							}
			
					
    });
};


if (typeof window.CustomScripts == &quot;undefined&quot;) {
	window.CustomScripts = {
		updateBackground(myBackground){
			// if it&#39;s always going to be cover, you can put it outside the if statement
			$(&quot;tw-story&quot;).css(&quot;background-size&quot;,&quot;cover&quot;);
			
			// check the functions parameter for which background image to use
			if(myBackground == 0) //century backgrounds take nos 0, 100, 200 etc.
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://th.bing.com/th/id/Rf5fecfd0d9830aab6202cf747bd3ad01?rik=L2W1jbILOWUswA&amp;riu=http%3a%2f%2fak3.picdn.net%2fshutterstock%2fvideos%2f3933461%2fthumb%2f2.jpg&amp;ehk=Jj2vK1CpTF0Tkwwx8bW4RAHwBltP9rnWO4IfZTCfsMY%3d&amp;risl=&amp;pid=ImgRaw)&quot;);
			}
			else if(myBackground == -1) // 
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/08/b2/5a/08b25ac76c7c0c5571e0b98af8bd53f5.jpg)&quot;);
			}
			else if(myBackground == 1) // decade nos end in 1
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.ibb.co/zJvFgQF/mushroom-Catacombs.jpg)&quot;);
			}
			else if(myBackground == 11)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/3b/a6/7c/3ba67c68c69aa5ff049e70af3e1398be.jpg)&quot;);
			}
			else if(myBackground == 21)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.ibb.co/hCsSZw0/CREATOR-gd-jpeg-v1-0-using-IJG-JPEG-v80-quality-80.jpg)&quot;);
			}
			else if(myBackground == 31)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://farm4.staticflickr.com/3881/14548118871_9a25db8f3b_k.jpg)&quot;);
			}
			else if(myBackground == 41)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/2c/6a/6d/2c6a6da05c9ba99228068306657fbf82.jpg)&quot;);
			}
			else if(myBackground == 51)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/224cf4fa-33d8-4223-974d-67aecc72bd2c/d32esvm-fab667ec-f070-4610-baf7-d1f993c43768.jpg/v1/fill/w_800,h_600,q_75,strp/the_armory_by_rytango-d32esvm.jpg?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwic3ViIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsImF1ZCI6WyJ1cm46c2VydmljZTppbWFnZS5vcGVyYXRpb25zIl0sIm9iaiI6W1t7InBhdGgiOiIvZi8yMjRjZjRmYS0zM2Q4LTQyMjMtOTc0ZC02N2FlY2M3MmJkMmMvZDMyZXN2bS1mYWI2NjdlYy1mMDcwLTQ2MTAtYmFmNy1kMWY5OTNjNDM3NjguanBnIiwid2lkdGgiOiI8PTgwMCIsImhlaWdodCI6Ijw9NjAwIn1dXX0.eOpCwc84GDmV-LB1ltAyddWpeuwIVVH9qw4oPJeQbKM)&quot;);
			}
			else if(myBackground == 61)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/60/f9/69/60f969f538253f68ec5be1b5846a2568.jpg)&quot;);
			}
			else if(myBackground == 71)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.ibb.co/g9hVkhF/catacombs-Chapel4.jpg)&quot;);
			}
			else if(myBackground == 81)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.ibb.co/yf9SCJJ/leper-Colony2.jpg)&quot;);
			}
			else if(myBackground == 91)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/7f/64/42/7f64421b6c16a31104cba0471dd5daca.jpg)&quot;);
			}
			else if(myBackground == 100)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/4f/0b/88/4f0b88df6b723ffda1fb80629884521a.jpg)&quot;);
			}
			else if(myBackground == 101)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/5b/c7/19/5bc719f84cfc170ff0558702b2c97876.jpg)&quot;);
			}
			else if(myBackground == 111)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/84/77/ea/8477eac606801135e48e2208305f3914.jpg)&quot;);
			}
			else if(myBackground == 121)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://th.bing.com/th/id/Rde8b516f69680e4a2a7243c2ec81a701?rik=FLjo2Zvd6dVPyw&amp;riu=http%3a%2f%2fimages4.wikia.nocookie.net%2f__cb20130419200553%2fspartacus%2fimages%2f5%2f59%2fSpartacus_Legends_Ludus_fight.png&amp;ehk=YzsHyiOKeH38%2fusktTVJv%2beUid2DYSentQ23hcClX98%3d&amp;risl=&amp;pid=ImgRaw)&quot;);
			}
			else if(myBackground == 131)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/736x/ce/51/f7/ce51f7c230d6e0bafabd04862133349a.jpg)&quot;);
			}
			else if(myBackground == 141)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://www.thesimsresource.com/scaled/2599/w-800h-600-2599642.jpg)&quot;);
			}
			else if(myBackground == 151)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/6a/7f/c1/6a7fc16f23671dc5bd0bed4c462eccc4.jpg)&quot;);
			}
			else if(myBackground == 161)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.ibb.co/0F4cX5y/roman-Slave-Marke5.jpg)&quot;);
			}
			else if(myBackground == 171)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/736x/d2/e4/c1/d2e4c197c68fe2cb4d2e7de5f4143e2b.jpg)&quot;);
			}
			else if(myBackground == 181)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/b4/39/a8/b439a87560b02424c656b1120e29740d.jpg)&quot;);
			}
			else if(myBackground == 191)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/4c/ae/c0/4caec06d6814e915a3c32affa4123800.jpg)&quot;);
			}
			else if(myBackground == 200)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/5b/c7/19/5bc719f84cfc170ff0558702b2c97876.jpg)&quot;);
			}
			else if(myBackground == 201)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://th.bing.com/th/id/R2cae1fcbbabcb57451c68fc47571a351?rik=leu7YgYWctPMsg&amp;riu=http%3a%2f%2faidanmoher.com%2fblog%2fwp-content%2fuploads%2f2014%2f07%2ftwilight_garden_by_alextooth-d5t47sa.jpg&amp;ehk=3knU%2fwpIey%2b%2bQT8LlaYoJrnuJ36TOKBVgzJHM3SAHtA%3d&amp;risl=&amp;pid=ImgRaw)&quot;);
			}
			else if(myBackground == 211)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/5f/00/3f/5f003fc16b10572cfe4c34c313beec70.jpg)&quot;);
			}
			else if(myBackground == 221)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/9c/99/54/9c9954bc49514aafb47624cbb3c2a993.jpg)&quot;);
			}
			else if(myBackground == 231)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/9c/85/32/9c853217e910c978b24ed75ac63e923f.jpg)&quot;);
			}
			else if(myBackground == 241)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/67/f0/8b/67f08bbc42a27c9da1011532332c1fe5.jpg)&quot;);
			}
			else if(myBackground == 251)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://gcdn.daz3d.com/p/56851/i/chinese-temple-gate-05-daz3d.jpg)&quot;);
			}
			else if(myBackground == 261)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://gcdn.daz3d.com/p/63811/i/china-houses-04-daz3d.jpg)&quot;);
			}
			else if(myBackground == 271)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/14/10/2a/14102a474694c64c8f3779901390effc.jpg)&quot;);
			}
			else if(myBackground == 281)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://c4.wallpaperflare.com/wallpaper/49/579/585/jungle-fantasy-art-asian-architecture-artwork-wallpaper-preview.jpg)&quot;);
			}
			else if(myBackground == 291)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://c4.wallpaperflare.com/wallpaper/672/517/150/nature-digital-art-water-artwork-wallpaper-preview.jpg)&quot;);
			}
			else if(myBackground == 2071)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(http://www.scififantasyhorror.co.uk/wp-content/gallery/Su-Jian/su-jian-scifi-art-11.jpg)&quot;);
			}
			else
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;none&quot;);
			}
		}
	}
}

</tw-passagedata><tw-passagedata pid="41" name="refresh sentences" tags="startup" position="158,1081" size="100,100">{
&lt;!-- sets some basic terms for the sentences, calls the sentence builder setComplexSentences
Presupposes: the complexLanguage and generalLanguage databases are set up.  
Called By: called in individual passages to generate a new sentence on the spot. 
--&gt;
(set: $refreshSentences to
(macro: [
	(set: $complexLanguage to (str: $decadeReference) of $generalLanguage)
	(set: $ladderTerm to 5th of $complexLanguage)
	(set: $stairTerm to 6th of $complexLanguage)
	(set: $roomNumber to $thisRoomsNumber)
	($setComplexSentences:)
	(output-data:&quot;&quot;)
	]))

&lt;!-- builds the introductory sentences for each type of passage. 
Presupposes: roomPhrase and passagePhrase builders already produce part of the sentence. .  
Called By: refreshSentences
--&gt;
(set: $setComplexSentences to 
(macro: [
	(set: $MFS to ($mansionFloorSentence:))
	(set: $complexSentence to &quot;You are &quot;
		+ ($setRoomPhrase:)
		+ &quot; somewhere &quot; 
		+ $MFS
		+ &quot; &quot; 
		+ 2nd of $complexLanguage
		+ &quot; &quot;
		+ 3rd of $complexLanguage
		+ &quot; &quot;
		+ 4th of $complexLanguage
		)
	(set: $complexSentence2 to &quot;You are &quot;
		+ ($setPassagePhrase:)
		+ &quot; somewhere &quot; 
		+ 1st of $complexLanguage
		+ &quot; &quot; 
		+ 2nd of $complexLanguage
		+ &quot; &quot;
		+ 3rd of $complexLanguage
		+ &quot; &quot;
		+ 4th of $complexLanguage
	)
	(set: $complexSentence3 to &quot;You are &quot;
		+ ($setRoomPhrase2:)
		+ &quot; somewhere &quot; 
		+ 1st of $complexLanguage
		+ &quot; &quot; 
		+ 2nd of $complexLanguage
		+ &quot; &quot;
		+ 3rd of $complexLanguage
		+ &quot; &quot;
		+ 4th of $complexLanguage
	)
	(output-data:&quot;&quot;)
	]))

(set: $mansionFloorSentence to 
(macro: [
	(set: $mansionLevel to &quot;what the fuck you looking at?&quot;)
	(if: $architecture is not &quot;mansion&quot;)[
		(set: $mansionLevel to 1st of $complexLanguage)
		]
	(else:)[
		(set: $mansionLevel to ($mansionFloor:) + &quot; of the&quot;)
		]
	(output-data: $mansionLevel)
		]))
	


	}</tw-passagedata><tw-passagedata pid="42" name="general language" tags="startup" position="153,1222" size="100,100">{
(set: $generalLanguage to (dm: 
	&quot;1&quot;, (a: &quot;in an&quot;, &quot;&quot;, &quot;underground mushroom garden&quot;,&quot;&quot;, &quot;a mushroom stalk&quot;,&quot;a dirt slope&quot;),
	&quot;11&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Hypogeum&quot;, &quot;beneath the colosseum&quot;,&quot;a crank elevator&quot;,&quot;some steps&quot;), 
	&quot;21&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;underground spy complex of the Frumentarii&quot;, &quot;beneath the Roman senate&quot;, &quot;some winding steps&quot;, &quot;some steps&quot;),
	&quot;31&quot;, (a: &quot;in a&quot;, &quot;subterranean&quot;, &quot;brewery&quot;, &quot;beneath the city&quot;,&quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;41&quot;, (a: &quot;in the&quot;, &quot;hidden&quot;, &quot;underground hideouts&quot;, &quot;of the persecuted Christians&quot;,&quot;some winding sandstone steps&quot;, &quot;some sandstone steps&quot;),
	&quot;51&quot;, (a: &quot;in a&quot;, &quot;hidden&quot;, &quot;armory&quot;, &quot;beneath the city&quot;,&quot;a ladder&quot;,&quot;some sandstone steps&quot;),
	&quot;61&quot;, (a: &quot;in an&quot;, &quot;&quot;, &quot;underground dungeon&quot;, &quot;where the convicted await execution&quot;,&quot;some winding sandstone steps&quot;, &quot;some sandstone steps&quot;),
	&quot;71&quot;, (a: &quot;in an&quot;, &quot;&quot;, &quot;underground chapel&quot;,&quot;where Christians worship their forbidden god&quot;,&quot;some winding sandstone steps&quot;, &quot;some sandstone steps&quot;),
	&quot;81&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;leper colony&quot;, &quot;in an abandoned part of the underground city&quot;, &quot;some winding sandstone steps&quot;, &quot;some sandstone steps&quot;),
	&quot;91&quot;, (a: &quot;in a&quot;, &quot;cobwebbed&quot;, &quot;crypt&quot;, &quot;in a quiet part of the underground city&quot;, &quot;some winding steps&quot;, &quot;some steps&quot;),
	&quot;101&quot;, (a: &quot;in the&quot;, &quot;tranquil&quot;, &quot;garden of Lucullus&quot;,&quot;&quot;, &quot;a steep, tangled slope&quot;, &quot;a gentle slope&quot;),
	&quot;111&quot;, (a: &quot;in the&quot;, &quot;dusty&quot;, &quot;gladitorial arenas&quot;, &quot;&quot;,&quot;some winding sandstone steps&quot;, &quot;some steps&quot;), 
	&quot;121&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;ludus&quot;, &quot;at which gladiators are trained&quot;,&quot;some winding sandstone steps&quot;, &quot;some steps&quot;),
	&quot;131&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;college of the Vestals&quot;, &quot;&quot;,&quot;a thinly carpeted, spiral staircase&quot;, &quot;some threadbare stairs&quot;),
	&quot;141&quot;, (a: &quot;in the&quot;, &quot;opulent&quot;, &quot;house of Augustus and Livia&quot;, &quot;&quot;,&quot;a spiral staircase&quot;, &quot;a magnificent wooden staircase&quot;),
	&quot;151&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;Roman barracks&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;161&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;slave market&quot;, &quot;where slaves are tethered like animals&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;171&quot;, (a: &quot;in the&quot;, &quot;sacred&quot;, &quot;temple of Juno&quot;, &quot;&quot;, &quot;a spiraling flight of marble steps&quot;, &quot;some ornate marble steps&quot;),
	&quot;181&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;surgery of Galen&quot;, &quot;&quot;, &quot;some winding sandstone steps&quot;, &quot;some steps&quot;),
	&quot;191&quot;, (a: &quot;in the&quot;, &quot;shadowy&quot;, &quot;necropolis&quot;, &quot;outside the walls of Rome&quot;, &quot;a steep, roughly gardened slope&quot;, &quot;a gentle, flowered slope&quot;),
	&quot;201&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Garden of General Liang Ji&quot;, &quot;&quot;, &quot;a steep, flowered slope&quot;, &quot;a gently sloping path&quot;),
	&quot;211&quot;, (a: &quot;within the&quot;, &quot;exciting&quot;, &quot;carnival of a hundred shows,&quot;,&quot;amidst music, dance and demonstrations of cuju, wrestling and acrobatic prowess&quot;,&quot;a steep dirt bank&quot;, &quot;a muddy slope&quot;), 
	&quot;221&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Imperial Academy&quot;, &quot;among the disputes of the scholars of Confucius&quot;,&quot;a stone stairwell&quot;, &quot;a flight of steps&quot;), 
	&quot;231&quot;, (a: &quot;in a&quot;, &quot;floating&quot;, &quot;brothel&quot;, &quot;on the Huangpu River, where the Shuyu attend to the needs of the city&#39;s elite&quot;,&quot;a ladder&quot;, &quot;some wooden steps&quot;),
	&quot;241&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;Siheyuan&quot;, &quot;courtyard-house&quot;,&quot;a stone stairwell&quot;, &quot;some slate steps&quot;),
	&quot;251&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;gate house&quot;, &quot;guarded by the Huben () imperial guard&quot;, &quot;a stone stairwell&quot;, &quot;some slate steps&quot;),
	&quot;261&quot;, (a: &quot;among the&quot;, &quot;&quot;, &quot;huts of the ten eunuchs&quot;, &quot;&quot;, &quot;a climbable rock-brick wall&quot;, &quot;some dirt steps&quot;),
	&quot;271&quot;, (a: &quot;in the&quot;, &quot;sacred&quot;, &quot;White Horse buddhist temple&quot;, &quot;&quot;, &quot;an ornate stairwell&quot;, &quot;some humble clay steps&quot;),
	&quot;281&quot;, (a: &quot;in the&quot;, &quot;abandoned&quot;, &quot;surgery of Hua Tuo&quot;, &quot;&quot;, &quot;a stairwell&quot;, &quot;some clay steps&quot;),
	&quot;291&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Dabaozi Cemetery&quot;, &quot;&quot;, &quot;a steep, roughly gardened slope&quot;, &quot;a gentle, flowered slope&quot;),
	&quot;301&quot;, (a: &quot;on the&quot;, &quot;pastoral&quot;, &quot;farms&quot;, &quot;surrounding ancient Byzantium&quot;, &quot;a steep soil bank&quot;, &quot;a gentle bank&quot;),
	&quot;311&quot;, (a: &quot;in the&quot;, &quot;many garish&quot;, &quot;theaters of the Hippdromos ts Knstantinouples&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;321&quot;, (a: &quot;in the&quot;, &quot;echoey&quot;, &quot;halls of the Magnaura&quot;, &quot;where senators discuss and debate the issues of the day&quot;, &quot;a spiral staircase&quot;, &quot;stone steps&quot;),
	&quot;331&quot;, (a: &quot;in the&quot;, &quot;dim&quot;, &quot;Triclinium of the Nineteen Couches&quot;, &quot;where romantic couples lounge on sigmas&quot;, &quot;a winding wooden staircase&quot;, &quot;some oak steps&quot;),
	&quot;341&quot;, (a: &quot;in an&quot;, &quot;elaborate&quot;, &quot;home&quot;, &quot;in old Byzantium&quot;, &quot;a chimney&quot;, &quot;a staircase&quot;),
	&quot;351&quot;, (a: &quot;in the ditches of a&quot;, &quot;bloody&quot;, &quot;battleground&quot;, &quot;near ancient Byzantium&quot;, &quot;a ladder&quot;, &quot;an incline&quot;),
	&quot;361&quot;, (a: &quot;in the depths of a&quot;, &quot;forced labor&quot;, &quot;mine&quot;, &quot;under ancient Byzantium&quot;, &quot;a ladder&quot;, &quot;rickety wooden stairs&quot;),
	&quot;371&quot;, (a: &quot;in a&quot;, &quot;serpentine&quot;, &quot;labyrinth&quot;, &quot;in the gardens of ancient Byzantium&quot;, &quot;a ladder&quot;, &quot;mossy steps&quot;),
	&quot;381&quot;, (a: &quot;in the&quot;, &quot;mystical&quot;, &quot;basilica of St John the Forerunner&quot;, &quot;, where St Artemios is believed to cure the sick and cursed.&quot;, &quot;winding steps&quot;, &quot;sandstone stairs&quot;),
	&quot;391&quot;, (a: &quot;in the&quot;, &quot;watery&quot;, &quot;crypt of Constantine&quot;, &quot;, beneath the church of the twelve apostles.&quot;, &quot;a rotten ladder&quot;, &quot;slimy steps&quot;),
	&quot;401&quot;, (a: &quot;in a&quot;, &quot;lush&quot;, &quot;forest&quot;, &quot;that nature has reclaimed from the ruins of Rome&quot;, &quot;a rope ladder&quot;, &quot;broken, overgrown steps&quot;),
	&quot;411&quot;, (a: &quot;in the&quot;, &quot;remains of the&quot;, &quot;Circus Maximus,&quot;, &quot;amid the skeletons of show animals.&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;421&quot;, (a: &quot;in the&quot;, &quot;abandoned&quot;, &quot;Bibliotheca Octaviana at the overgrown Porticus Octavia&quot;, &quot;, where scrolls of ancient wisdom perish in the rains&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;431&quot;, (a: &quot;in the&quot;, &quot;ruined&quot;, &quot;temple of Venus&quot;, &quot;&quot;, &quot;a broken, climbable wall&quot;, &quot;stone steps&quot;),
	&quot;441&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;block of abandoned insulae&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;451&quot;, (a: &quot;in a&quot;, &quot;looted&quot;, &quot;armory&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;461&quot;, (a: &quot;in a&quot;, &quot;derelict&quot;, &quot;jail&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;471&quot;, (a: &quot;in what used to be&quot;, &quot;&quot;, &quot;Emperor Nero&#39;s park&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;481&quot;, (a: &quot;in the&quot;, &quot;derelict&quot;, &quot;surgery of Asclepiades&quot;, &quot;&quot;, &quot;a copper ladder&quot;, &quot;tiled steps&quot;),
	&quot;491&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;mass burial pits&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;501&quot;, (a: &quot;in the&quot;, &quot;enchanted&quot;, &quot;forest of Brocliande&quot;, &quot;&quot;, &quot;a steep dirt bank&quot;, &quot;a slope&quot;),
	&quot;511&quot;, (a: &quot;at a&quot;, &quot;&quot;, &quot;jousting tournament&quot;, &quot;&quot;, &quot;a steep dirt bank&quot;, &quot;a slope&quot;),
	&quot;521&quot;, (a: &quot;in the&quot;, &quot;hidden&quot;, &quot;coastal cave of Merlin the wizard,&quot;, &quot;beneath the castle at Tintagel&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;531&quot;, (a: &quot;by&quot;, &quot;&quot;, &quot;Llyn Ogwen,&quot;, &quot;where the lady of the lake keeps Excalibur&quot;, &quot;a steep dirt bank&quot;, &quot;a gentle slope&quot;),
	&quot;541&quot;, (a: &quot;within the keep of&quot;, &quot;&quot;, &quot;Camelot&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;551&quot;, (a: &quot;at the&quot;, &quot;bloody&quot;, &quot;battlefield at Camlann&quot;, &quot;where Arthur faced Mordredd&quot;, &quot;a dirt bank&quot;, &quot;a trampled slope&quot;),
	&quot;561&quot;, (a: &quot;under the&quot;, &quot;mysterious&quot;, &quot;Bryn Myrddin&quot;, &quot;where the bard Merlin was trapped.&quot;, &quot;a shaft&quot;, &quot;some boulders&quot;),
	&quot;571&quot;, (a: &quot;within the bailey of the&quot;, &quot;mystical&quot;, &quot;castle of Corbenic,&quot;, &quot;where the Holy Grail is rumored to be kept&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;581&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;walled up town&quot;, &quot;where sufferers of the plague are trapped&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;591&quot;, (a: &quot;among the&quot;, &quot;stinking&quot;, &quot;barrows&quot;, &quot;where the Justinian plague&#39;s victims are hurled to their final resting place.&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;601&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;hanging farms&quot;, &quot;where hashish grows abundantly over a thousand clay containers perched on tiered plots&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;611&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;hashish quarter&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;621&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;hashashin&#39;s library&quot;, &quot;where hashashin&#39;s gather and conspire&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;631&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Sultan&#39;s palace&quot;, &quot;where exotic belly dancers entertain the Sultan&#39;s many guests&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;641&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;bustling souk of Al-Madina&quot;, &quot;where vendors from far and wide peddle their wares to the busy city&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;651&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Citadel of Aleppo&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;661&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Jewish quarter&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;671&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;great mosque of Aleppo&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;681&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;penal quarter of the ancient city of Aleppo&quot;, &quot;where sinners and criminals are righteously flogged, mutilated or executed beneath the shadow of the great citadel&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;691&quot;, (a: &quot;in an&quot;, &quot;&quot;, &quot;abandoned town&quot;, &quot;one of many forgotten cities that orbit great Aleppo&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;701&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;emperor&#39;s menagerie at Aachen&quot;, &quot;where strange beasts from far and wide are displayed&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;711&quot;, (a: &quot;in a&quot;, &quot;partly constructed&quot;, &quot;bath house&quot;, &quot;built around the hot springs at Aachen&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;721&quot;, (a: &quot;in the&quot;, &quot;great&quot;, &quot;library at Charlemagne&#39;s court&quot;, &quot;where Peter of Pisa, Paulinus of Aquileia, Paul the Deacon, Theodulf of Orlans, Alcuin of York and Joseph Scottus lead the Carolingian renaissance&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;731&quot;, (a: &quot;in the&quot;, &quot;private&quot;, &quot;gynaeceum&quot;, &quot;where women weave and spin&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;741&quot;, (a: &quot;in the&quot;, &quot;partly constructed&quot;, &quot;Palace of Aachen&quot;, &quot;at the center of the Holy Roman Empire&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;751&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;soldier&#39;s barracks&quot;, &quot;in the city of Aachen&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;761&quot;, (a: &quot;at the&quot;, &quot;&quot;, &quot;dockside on the Wurm,&quot;, &quot;where Vikings bring captives from Venice and Byzantium to sell as casati servi, and captured Slavs, Avars, Saxons and Danes are sold into slavery in turn&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;771&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Palatine chapel&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;781&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;hospice&quot;, &quot;in the palatial complex at Aachen&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;791&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;crypt beneath the Palatine chapel&quot;, &quot;where Charlemagne will one day be buried&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;801&quot;, (a: &quot;in an&quot;, &quot;overgrown&quot;, &quot;part of the marsh near the Athelney abbey&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;811&quot;, (a: &quot;in the&quot;, &quot;swimming&quot;, &quot;wood&quot;, &quot;near the Athelney abbey&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;821&quot;, (a: &quot;in a&quot;, &quot;flooded&quot;, &quot;library&quot;, &quot;near the abbey at Athelney&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;831&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;hall of the enchantress Dame Brusen,&quot;, &quot;where potions of love are boiled and bottled.&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;841&quot;, (a: &quot;in&quot;, &quot;&quot;, &quot;Ethelingaeigge&quot;, &quot;, the fort at Athelney&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;851&quot;, (a: &quot;in a&quot;, &quot;partially submerged&quot;, &quot;tower&quot;, &quot;in the Bristol channel&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;861&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;trapper&#39;s wood&quot;, &quot;near the swamps at Athelney&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;871&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;abbey at Athelney&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;881&quot;, (a: &quot;in the&quot;, &quot;lower&quot;, &quot;marshes&quot;, &quot;near the Bristol Channel&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;891&quot;, (a: &quot;in the&quot;, &quot;lower&quot;, &quot;marshes&quot;, &quot;near the Bristol Channel&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;901&quot;, (a: &quot;in a&quot;, &quot;thorny&quot;, &quot;forest&quot;, &quot;in the First Reich&quot;, &quot;a dirt cliff&quot;, &quot;a slope&quot;),	
	&quot;911&quot;, (a: &quot;at a&quot;, &quot;&quot;, &quot;racing event&quot;, &quot;in the First Reich&quot;, &quot;a ladder&quot;, &quot;metal stairs&quot;),
	&quot;921&quot;, (a: &quot;at a&quot;, &quot;cold mountain&quot;, &quot;training exercise&quot;, &quot;for the German military&quot;, &quot;a ladder&quot;, &quot;a snowy slope&quot;),
	&quot;931&quot;, (a: &quot;at a&quot;, &quot;&quot;, &quot;nunnery&quot;, &quot;in the First Reich&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;941&quot;, (a: &quot;in a&quot;, &quot;luxury&quot;, &quot;skyscraper&quot;, &quot;in the First Reich&quot;, &quot;an elevator&quot;, &quot;some steps&quot;),
	&quot;951&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;courthouse&quot;, &quot;in the First Reich&quot;, &quot;an elevator&quot;, &quot;some steps&quot;),
	&quot;961&quot;, (a: &quot;in a&quot;, &quot;wintry&quot;, &quot;forced labor camp&quot;, &quot;in the First Reich&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;971&quot;, (a: &quot;in an&quot;, &quot;imposing&quot;, &quot;gothic cathedral&quot;, &quot;in the First Reich&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;981&quot;, (a: &quot;in a&quot;, &quot;white tile&quot;, &quot;clinic&quot;, &quot;where grim human experiments take place&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;991&quot;, (a: &quot;by the&quot;, &quot;horrifying&quot;, &quot;death pits&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;a slope&quot;),
	&quot;1001&quot;, (a: &quot;in the&quot;, &quot;glacial&quot;, &quot;cathedral of St Nicolas&quot;, &quot;, the patron saint of children&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1011&quot;, (a: &quot;in the&quot;, &quot;bewildering&quot;, &quot;rectory of Teresa of vila&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1021&quot;, (a: &quot;in the&quot;, &quot;ivory&quot;, &quot;towers of the Albertus Magnus basilica&quot;, &quot;, the church devoted to the patron of students and philosophers&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1031&quot;, (a: &quot;in the&quot;, &quot;austere&quot;, &quot;mountain convent&quot;, &quot;of the Magdalene&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1041&quot;, (a: &quot;in the&quot;, &quot;towering&quot;, &quot;city chapel of Homobonus&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1051&quot;, (a: &quot;in the&quot;, &quot;demanding&quot;, &quot;warrior&#39;s priory&quot;, &quot;of Adrian of Nicomedia&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1061&quot;, (a: &quot;in the&quot;, &quot;remote&quot;, &quot;cenobium of St Leonard the hermit&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1071&quot;, (a: &quot;in the&quot;, &quot;lush&quot;, &quot;abbey of Saint Phocas the gardener&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1081&quot;, (a: &quot;in the&quot;, &quot;rivered&quot;, &quot;ruin of Raphael the Archangel&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1091&quot;, (a: &quot;in the&quot;, &quot;eerie&quot;, &quot;grounds of St Joseph of Arimathea&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1101&quot;, (a: &quot;in the&quot;, &quot;same&quot;, &quot;New Forest&quot;, &quot;where the king lies dead&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1111&quot;, (a: &quot;at an&quot;, &quot;&quot;, &quot;archery tournament&quot;, &quot;near the New Forest&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1121&quot;, (a: &quot;in&quot;, &quot;&quot;, &quot;London&#39;s New Temple&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1131&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Maubergeonne Tower in Poitiers&quot;, &quot;, where Eleanor of Aquitaine presides over matters of fidelity and marriage&quot;, &quot;some spiral steps&quot;, &quot;some steps&quot;),
	&quot;1141&quot;, (a: &quot;at the&quot;, &quot;&quot;, &quot;camp of Robin Hood&quot;, &quot;in Sherwood forest&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1151&quot;, (a: &quot;at a&quot;, &quot;&quot;, &quot;garrison&quot;, &quot;of defeated knights, returning from the crusades&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1161&quot;, (a: &quot;in the&quot;, &quot;dingy&quot;, &quot;gaol of the Sheriff, beneath Nottingham castle&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1171&quot;, (a: &quot;in the&quot;, &quot;magnificent&quot;, &quot;cathedral at Canterbury, where Thomas Beckett was murdered by the king&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1181&quot;, (a: &quot;in the&quot;, &quot;abandoned&quot;, &quot;motte of Robert of Lockley&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1191&quot;, (a: &quot;at the&quot;, &quot;&quot;, &quot;wreckage of the white ship&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1201&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;city of Yinchuan&quot;, &quot;, which is rebuilding after being flooded and conquered by the Mongol hordes&quot;, &quot;spiraling steps&quot;, &quot;some steps&quot;),
	&quot;1211&quot;, (a: &quot;in the&quot;, &quot;flourishing&quot;, &quot;middle eastern city of Damascus&quot;, &quot;, where no-one has yet heard of the murderous Mongol hordes that thunder beyond the horizon&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1221&quot;, (a: &quot;in the&quot;, &quot;grandiose&quot;, &quot;quarters of the Khan&#39;s emissary in Chennai&quot;, &quot;, where the shelves are filled with maps and books&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1231&quot;, (a: &quot;in the&quot;, &quot;sacked&quot;, &quot;city of Bukhara&quot;, &quot;, where only women remain after the males were slaughtered by the Mongols&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1241&quot;, (a: &quot;in the caravan of the&quot;, &quot;&quot;, &quot;Mongol hordes&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1251&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;city of Lahore&quot;, &quot;, where Persians and Mongols fight against the locals and one another for control&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1261&quot;, (a: &quot;in the&quot;, &quot;bitterly cold&quot;, &quot;city of Kiev&quot;, &quot;, where the Mongols have enslaved the local populace&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1271&quot;, (a: &quot;on the&quot;, &quot;&quot;, &quot;slopes of Khan Tengri&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1281&quot;, (a: &quot;amongst the&quot;, &quot;&quot;, &quot;storm tossed wreckage of the Mongol fleet off Japan&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1291&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;inferno of Merv&quot;, &quot;, which the Mongols have razed after slaughtering its inhabitants&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1301&quot;, (a: &quot;on a&quot;, &quot;bucolic&quot;, &quot;manor&quot;, &quot;in Northumbria&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1311&quot;, (a: &quot;in the&quot;, &quot;fairy&quot;, &quot;palace&quot;, &quot;of Piers Gaveston&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1321&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;devil&#39;s wood&quot;, &quot;, where witches tell the news of places far aflung&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1331&quot;, (a: &quot;at the&quot;, &quot;rebel&quot;, &quot;camp&quot;, &quot;of Isabella and her son the Prince Edward&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1341&quot;, (a: &quot;at a&quot;, &quot;peaceful&quot;, &quot;village&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1351&quot;, (a: &quot;at the&quot;, &quot;bloody&quot;, &quot;battle of Bannockburn&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1361&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;house of William de Leyrer&quot;, &quot;, where the infernal howling and banging of the imprisoned devil William Wallace thunders up from the basement, shuddering the house to its foundations&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1371&quot;, (a: &quot;in the&quot;, &quot;modest&quot;, &quot;St Mary the Virgin church at Ludgershall&quot;, &quot;, where the heretic John Wycliffe translates the bible into English&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1381&quot;, (a: &quot;in the&quot;, &quot;putrid&quot;, &quot;practice&quot;, &quot;of a plague doctor&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1391&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;cathedral city of Canterbury&quot;, &quot;where the peasant followers of Wat Tyler hang royal officals by their necks&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1401&quot;, (a: &quot;in the&quot;, &quot;humid, sticky&quot;, &quot;jungles of the new world&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1411&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;bear pits&quot;, &quot;of York&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1421&quot;, (a: &quot;in the&quot;, &quot;busy&quot;, &quot;city of Strasbourg&quot;, &quot;, where bibles printed on Guttenberg&#39;s press are sold for a penny at every street corner&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1431&quot;, (a: &quot;in the&quot;, &quot;pious&quot;, &quot;ranks of Joan of Arc&#39;s army&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1441&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Aztec capital&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1451&quot;, (a: &quot;in the&quot;, &quot;besieged&quot;, &quot;city of Constantinople&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1461&quot;, (a: &quot;in&quot;, &quot;&quot;, &quot;Lambeth palace&quot;, &quot;, where the Lollards are held prisoner&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1471&quot;, (a: &quot;in&quot;, &quot;&quot;, &quot;St Peter&#39;s basilica&quot;, &quot;in the Vatican City&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1481&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Carcel de la Inquisicion in Seville&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1491&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;forest of corpses surrounding Trgovite, Wallachia&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1501&quot;, (a: &quot;undefined&quot;, &quot;1501&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1511&quot;, (a: &quot;undefined&quot;, &quot;1511&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1521&quot;, (a: &quot;undefined&quot;, &quot;1521&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1531&quot;, (a: &quot;undefined&quot;, &quot;1531&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1541&quot;, (a: &quot;undefined&quot;, &quot;1541&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1551&quot;, (a: &quot;undefined&quot;, &quot;1551&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1561&quot;, (a: &quot;undefined&quot;, &quot;1561&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1571&quot;, (a: &quot;undefined&quot;, &quot;1571&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1581&quot;, (a: &quot;undefined&quot;, &quot;1581&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1591&quot;, (a: &quot;undefined&quot;, &quot;1591&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1601&quot;, (a: &quot;undefined&quot;, &quot;1601&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1611&quot;, (a: &quot;undefined&quot;, &quot;1611&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1621&quot;, (a: &quot;undefined&quot;, &quot;1621&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1631&quot;, (a: &quot;undefined&quot;, &quot;1631&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1641&quot;, (a: &quot;undefined&quot;, &quot;1641&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1651&quot;, (a: &quot;undefined&quot;, &quot;1651&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1661&quot;, (a: &quot;undefined&quot;, &quot;1661&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1671&quot;, (a: &quot;undefined&quot;, &quot;1671&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1681&quot;, (a: &quot;undefined&quot;, &quot;1681&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1691&quot;, (a: &quot;undefined&quot;, &quot;1691&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1701&quot;, (a: &quot;undefined&quot;, &quot;1701&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1711&quot;, (a: &quot;undefined&quot;, &quot;1711&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1721&quot;, (a: &quot;undefined&quot;, &quot;1721&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1731&quot;, (a: &quot;undefined&quot;, &quot;1731&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1741&quot;, (a: &quot;undefined&quot;, &quot;1741&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1751&quot;, (a: &quot;undefined&quot;, &quot;1751&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1761&quot;, (a: &quot;undefined&quot;, &quot;1761&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1771&quot;, (a: &quot;undefined&quot;, &quot;1771&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1781&quot;, (a: &quot;undefined&quot;, &quot;1781&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1791&quot;, (a: &quot;undefined&quot;, &quot;1791&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1801&quot;, (a: &quot;undefined&quot;, &quot;1801&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1811&quot;, (a: &quot;undefined&quot;, &quot;1811&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1821&quot;, (a: &quot;undefined&quot;, &quot;1821&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1831&quot;, (a: &quot;undefined&quot;, &quot;1831&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1841&quot;, (a: &quot;in the&quot;, &quot;plush&quot;, &quot;town house&quot;, &quot;of Dorian Gray&quot;, &quot;some steps&quot;, &quot;some steps&quot;),
	&quot;1851&quot;, (a: &quot;undefined&quot;, &quot;1851&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1861&quot;, (a: &quot;undefined&quot;, &quot;1861&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1871&quot;, (a: &quot;undefined&quot;, &quot;1871&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1881&quot;, (a: &quot;undefined&quot;, &quot;1881&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1891&quot;, (a: &quot;undefined&quot;, &quot;1891&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1901&quot;, (a: &quot;undefined&quot;, &quot;1901&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1911&quot;, (a: &quot;undefined&quot;, &quot;1911&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1921&quot;, (a: &quot;undefined&quot;, &quot;1921&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1931&quot;, (a: &quot;undefined&quot;, &quot;1931&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1941&quot;, (a: &quot;undefined&quot;, &quot;1941&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1951&quot;, (a: &quot;undefined&quot;, &quot;1951&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1961&quot;, (a: &quot;undefined&quot;, &quot;1961&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1971&quot;, (a: &quot;undefined&quot;, &quot;1971&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1981&quot;, (a: &quot;undefined&quot;, &quot;1981&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1991&quot;, (a: &quot;undefined&quot;, &quot;1991&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;2001&quot;, (a: &quot;undefined&quot;, &quot;2001&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;2011&quot;, (a: &quot;undefined&quot;, &quot;2011&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;2021&quot;, (a: &quot;undefined&quot;, &quot;2021&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;2031&quot;, (a: &quot;undefined&quot;, &quot;2031&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;2041&quot;, (a: &quot;undefined&quot;, &quot;2041&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;2051&quot;, (a: &quot;undefined&quot;, &quot;2051&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;2061&quot;, (a: &quot;undefined&quot;, &quot;2061&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;2071&quot;, (a: &quot;undefined&quot;, &quot;2071&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;2081&quot;, (a: &quot;undefined&quot;, &quot;2081&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;2091&quot;, (a: &quot;undefined&quot;, &quot;2091&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;)
	))
	
	}</tw-passagedata><tw-passagedata pid="43" name="terminology" tags="startup" position="151,1363" size="100,100">{
(set: $decadeRef to  
(macro: [
	(set: $decadeReference to 1 + $floorInt * 100 + $decadeNum * 10)
	(output-data: &quot;&quot;)
	]
	))
	

(set: $locusWord to 
(macro: [
	(set: 
	(if: $thisRoomNumber &gt; 9)[(output-data: &quot;passage&quot;)]
	(else:)[(output-data: &quot;room&quot;)]
	]
	))

(set: $fixComplexVocab to 
(macro: [
	(if: $floorString is &quot;0&quot;)[(output-data:$catacombComplexes)]
	(if: $floorString is &quot;1&quot;)[(output-data:$romanComplexes)]
	(if: $floorString is &quot;2&quot;)[(output-data: $unknown)] 
		]
		))
		
		
&lt;!--the main sentence says &quot;you are on a __A___ somewhere ___B___&quot;. This provides the language for A.--&gt; 

(set: $firstLetterIsVowel to
(macro: string-type _word, [
	(set: _firstLetter to (1) of _word)
	(set: _firstLetterIsVowel to (cond: 
		_firstLetter is &quot;a&quot;, true,
		_firstLetter is &quot;e&quot;, true,
		_firstLetter is &quot;i&quot;, true,
		_firstLetter is &quot;o&quot;, true,
		_firstLetter is &quot;u&quot;, true, false))
		(output-data: _firstLetterIsVowel)
		]))

(set: $lociPreps to (dm: 
	&quot;abode&quot;, &quot;in&quot;, 
	&quot;aisle&quot;, &quot;on&quot;,
	&quot;alley&quot;, &quot;in&quot;,
	&quot;apse&quot;, &quot;in&quot;,
	&quot;arcade&quot;, &quot;in&quot;,
	&quot;avenue&quot;, &quot;on&quot;,
	&quot;bank&quot;,&quot;on&quot;,
	&quot;battlement&quot;, &quot;on&quot;,
	&quot;bayou&quot;, &quot;on&quot;, 
	&quot;boudoir&quot;, &quot;in&quot;,
	&quot;bowl&quot;, &quot;in&quot;,
	&quot;building&quot;, &quot;in&quot;,
	&quot;canal&quot;, &quot;on&quot;,
	&quot;cell&quot;, &quot;in&quot;,	
	&quot;chamber&quot;, &quot;in&quot;,
	&quot;copse&quot;, &quot;in&quot;,
	&quot;corridor&quot;, &quot;on&quot;,
	&quot;cottage&quot;, &quot;in&quot;,
	&quot;courtyard&quot;, &quot;in&quot;,
	&quot;deck&quot;, &quot;on&quot;,
	&quot;depot&quot;, &quot;in&quot;,
	&quot;display&quot;, &quot;at&quot;,
	&quot;ditch full of bodies&quot;, &quot;by&quot;,
	&quot;dormitory&quot;, &quot;in&quot;,
	&quot;dungeon&quot;, &quot;in&quot;,
	&quot;field tower&quot;, &quot;at&quot;,
	&quot;gazebo&quot;, &quot;under&quot;,
	&quot;gangway&quot;, &quot;on&quot;,
	&quot;Gebetsraum&quot;, &quot;in&quot;,
	&quot;Gerichtssaal&quot;, &quot;in&quot;,
	&quot;hall&quot;, &quot;in&quot;,
	&quot;hollow&quot;, &quot;in&quot;,
	&quot;lane&quot;, &quot;on&quot;,
	&quot;lab&quot;,&quot;in&quot;,
	&quot;mausoleum&quot;,&quot;in&quot;,
	&quot;mountainside&quot;,&quot;on&quot;,
	&quot;nave&quot;,&quot;in&quot;,
	&quot;opening&quot;, &quot;in&quot;,
	&quot;orchard&quot;, &quot;in&quot;,
	&quot;ossuary&quot;, &quot;in&quot;,
	&quot;pass&quot;, &quot;on&quot;,
	&quot;passage&quot;, &quot;in&quot;,
	&quot;passageway&quot;, &quot;in&quot;,
	&quot;path&quot;, &quot;on&quot;,
	&quot;path through the reeds&quot;, &quot;on&quot;,
	&quot;pathway&quot;, &quot;on&quot;,
	&quot;penthouse&quot;, &quot;in&quot;,
	&quot;pit garage&quot;, &quot;in&quot;,
	&quot;plateau&quot;, &quot;on&quot;, 
	&quot;platform&quot;, &quot;on&quot;,
	&quot;plaza&quot;, &quot;in&quot;,
	&quot;plot&quot;, &quot;on&quot;, 
	&quot;pond&quot;, &quot;by&quot;,
	&quot;post&quot;, &quot;at&quot;,
	&quot;pyramid&quot;, &quot;in&quot;,
	&quot;quayside&quot;, &quot;on&quot;,
	&quot;raft&quot;, &quot;on&quot;,
	&quot;rampart&quot;, &quot;on&quot;,
	&quot;roadway&quot;, &quot;on&quot;,
	&quot;room&quot;, &quot;in&quot;,
	&quot;sanctum&quot;, &quot;in&quot;,
	&quot;schiltron&quot;, &quot;in&quot;,
	&quot;septum&quot;, &quot;in&quot;,
	&quot;shelter&quot;,&quot;under&quot;,
	&quot;square&quot;, &quot;in&quot;,
	&quot;stage&quot;, &quot;by&quot;,
	&quot;street&quot;, &quot;on&quot;,
	&quot;tent&quot;, &quot;in&quot;,
	&quot;theater&quot;, &quot;in&quot;,
	&quot;tower&quot;, &quot;in&quot;,
	&quot;tunnel&quot;, &quot;in&quot;,
	&quot;track&quot;, &quot;on&quot;,
	&quot;vault&quot;, &quot;in&quot;,
	&quot;vulitsa&quot;, &quot;on&quot;,
	&quot;wagon&quot;, &quot;in&quot;,
	&quot;walkway&quot;, &quot;on&quot;,
	&quot;Wohnblock&quot;, &quot;in&quot;,
	&quot;yard&quot;, &quot;in&quot;,
	))


	
	
(set: $passageTerms to (dm: 
	&quot;0&quot;, (a: &quot;humid&quot;, &quot;tunnel&quot;),
	&quot;1&quot;, (a: &quot;earthy&quot;, &quot;path&quot;),
	&quot;11&quot;, (a: &quot;baking hot&quot;, &quot;corridor&quot;),
	&quot;21&quot;, (a: &quot;dim&quot;, &quot;passage&quot;),
	&quot;31&quot;, (a: &quot;cool&quot;, &quot;tunnel&quot;),
	&quot;41&quot;, (a: &quot;sandy&quot;, &quot;tunnel&quot;),
	&quot;51&quot;, (a: &quot;stone&quot;, &quot;corridor&quot;),
	&quot;61&quot;, (a: &quot;forbidding&quot;, &quot;corridor&quot;),
	&quot;71&quot;, (a: &quot;quiet&quot;, &quot;aisle&quot;),
	&quot;81&quot;, (a: &quot;neglected&quot;, &quot;tunnel&quot;),
	&quot;91&quot;, (a: &quot;cool&quot;, &quot;corridor&quot;),
	&quot;100&quot;, (a: &quot;busy&quot;, &quot;street&quot;),
	&quot;101&quot;, (a: &quot;rock brick&quot;, &quot;path&quot;),
	&quot;111&quot;, (a: &quot;sandy&quot;, &quot;passageway&quot;),
	&quot;121&quot;, (a: &quot;sandy&quot;, &quot;passageway&quot;),
	&quot;131&quot;, (a: &quot;curtained&quot;, &quot;hall&quot;),
	&quot;141&quot;, (a: &quot;sumptuous&quot;, &quot;corridor&quot;),
	&quot;151&quot;, (a: &quot;brick&quot;, &quot;alley&quot;),
	&quot;161&quot;, (a: &quot;bustling&quot;, &quot;aisle&quot;),
	&quot;171&quot;, (a: &quot;tranquil&quot;, &quot;aisle&quot;),
	&quot;181&quot;, (a: &quot;tiled&quot;, &quot;corridor&quot;),
	&quot;191&quot;, (a: &quot;cobbled&quot;, &quot;path&quot;),
	&quot;201&quot;, (a: &quot;raised wooden&quot;, &quot;path&quot;),
	&quot;211&quot;, (a: &quot;candlelit&quot;, &quot;path&quot;),
	&quot;221&quot;, (a: &quot;vaulted&quot;, &quot;corridor&quot;),
	&quot;231&quot;, (a: &quot;wooden&quot;, &quot;passage&quot;),
	&quot;241&quot;, (a: &quot;airy&quot;, &quot;corridor&quot;),
	&quot;251&quot;, (a: &quot;rock wall&quot;, &quot;passage&quot;),
	&quot;261&quot;, (a: &quot;dirt&quot;, &quot;roadway&quot;),
	&quot;271&quot;, (a: &quot;tiled&quot;, &quot;path&quot;),
	&quot;281&quot;, (a: &quot;ruined&quot;, &quot;corridor&quot;),
	&quot;291&quot;, (a: &quot;silent&quot;, &quot;path&quot;),
	&quot;301&quot;, (a: &quot;country&quot;, &quot;lane&quot;),
	&quot;311&quot;, (a: &quot;backstage&quot;, &quot;passage&quot;),
	&quot;321&quot;, (a: &quot;pillared&quot;, &quot;arcade&quot;),
	&quot;331&quot;, (a: &quot;moonlit&quot;, &quot;aisle&quot;),
	&quot;341&quot;, (a: &quot;paneled&quot;, &quot;passage&quot;),
	&quot;351&quot;, (a: &quot;muddy&quot;, &quot;trench&quot;),
	&quot;361&quot;, (a: &quot;wooden&quot;, &quot;walkway&quot;),
	&quot;371&quot;, (a: &quot;enclosed&quot;, &quot;path&quot;),
	&quot;381&quot;, (a: &quot;glassy&quot;, &quot;corridor&quot;),
	&quot;391&quot;, (a: &quot;damp&quot;, &quot;passage&quot;),
	&quot;401&quot;, (a: &quot;brambly&quot;, &quot;path&quot;),
	&quot;411&quot;, (a: &quot;dirt&quot;, &quot;thoroughfare&quot;),
	&quot;421&quot;, (a: &quot;&quot;, &quot;aisle of shelves&quot;),
	&quot;431&quot;, (a: &quot;draughty&quot;, &quot;corridor&quot;),
	&quot;441&quot;, (a: &quot;crumbling&quot;, &quot;hallway&quot;),
	&quot;451&quot;, (a: &quot;&quot;, &quot;passage&quot;),
	&quot;461&quot;, (a: &quot;&quot;, &quot;passage&quot;),
	&quot;471&quot;, (a: &quot;abundant and overgrown&quot;, &quot;path&quot;),
	&quot;481&quot;, (a: &quot;trash strewn&quot;, &quot;corridor&quot;),
	&quot;491&quot;, (a: &quot;bone lined&quot;, &quot;passage&quot;),
	&quot;501&quot;, (a: &quot;leafy&quot;, &quot;path&quot;),
	&quot;511&quot;, (a: &quot;muddy&quot;, &quot;thoroughfare&quot;),
	&quot;521&quot;, (a: &quot;cavernous&quot;, &quot;passage&quot;),
	&quot;531&quot;, (a: &quot;glimmering&quot;, &quot;path&quot;),
	&quot;541&quot;, (a: &quot;stone&quot;, &quot;corridor&quot;),
	&quot;551&quot;, (a: &quot;bloody&quot;, &quot;path&quot;),
	&quot;561&quot;, (a: &quot;cavernous&quot;, &quot;passage&quot;),
	&quot;571&quot;, (a: &quot;stone&quot;, &quot;walkway&quot;),
	&quot;581&quot;, (a: &quot;dirty&quot;, &quot;mud-street&quot;),
	&quot;591&quot;, (a: &quot;stinking&quot;, &quot;passage&quot;),
	&quot;601&quot;, (a: &quot;leafy&quot;, &quot;path&quot;),
	&quot;611&quot;, (a: &quot;pungent&quot;, &quot;alley&quot;),
	&quot;621&quot;, (a: &quot;whispering&quot;, &quot;aisle&quot;),
	&quot;631&quot;, (a: &quot;raucous&quot;, &quot;colonade&quot;),
	&quot;641&quot;, (a: &quot;teaming&quot;, &quot;arcade&quot;),
	&quot;651&quot;, (a: &quot;limestone&quot;, &quot;passageway&quot;),
	&quot;661&quot;, (a: &quot;narrow&quot;, &quot;street&quot;),
	&quot;671&quot;, (a: &quot;solemn&quot;, &quot;aisle&quot;),
	&quot;681&quot;, (a: &quot;shadowy&quot;, &quot;alley&quot;),
	&quot;691&quot;, (a: &quot;windy&quot;, &quot;street&quot;),
	&quot;701&quot;, (a: &quot;&quot;, &quot;passage&quot;),
	&quot;711&quot;, (a: &quot;puddled&quot;, &quot;walkway&quot;),
	&quot;721&quot;, (a: &quot;quiet&quot;, &quot;aisle&quot;),
	&quot;731&quot;, (a: &quot;wild&quot;, &quot;path&quot;),
	&quot;741&quot;, (a: &quot;marble&quot;, &quot;corridor&quot;),
	&quot;751&quot;, (a: &quot;functional&quot;, &quot;yard&quot;),
	&quot;761&quot;, (a: &quot;wooden&quot;, &quot;jetty&quot;),
	&quot;771&quot;, (a: &quot;&quot;, &quot;corridor&quot;),
	&quot;781&quot;, (a: &quot;well maintained&quot;, &quot;corridor&quot;),
	&quot;791&quot;, (a: &quot;dark&quot;, &quot;passage&quot;),
	&quot;801&quot;, (a: &quot;swamped&quot;, &quot;path&quot;),
	&quot;811&quot;, (a: &quot;mossy&quot;, &quot;path&quot;),
	&quot;821&quot;, (a: &quot;flooded&quot;, &quot;corridor&quot;),
	&quot;831&quot;, (a: &quot;crooked&quot;, &quot;hallway&quot;),
	&quot;841&quot;, (a: &quot;stone brick&quot;, &quot;passage&quot;),
	&quot;851&quot;, (a: &quot;salty&quot;, &quot;passage&quot;),
	&quot;861&quot;, (a: &quot;misty&quot;, &quot;trail&quot;),
	&quot;871&quot;, (a: &quot;chilly&quot;, &quot;passage&quot;),
	&quot;881&quot;, (a: &quot;brush&quot;, &quot;path&quot;),
	&quot;891&quot;, (a: &quot;putrid&quot;, &quot;canal&quot;),
	&quot;901&quot;, (a: &quot;tortuous&quot;, &quot;path&quot;),
	&quot;911&quot;, (a: &quot;skid marked&quot;, &quot;track&quot;),
	&quot;921&quot;, (a: &quot;snow packed&quot;, &quot;track&quot;),
	&quot;931&quot;, (a: &quot;well tended&quot;, &quot;path&quot;),
	&quot;941&quot;, (a: &quot;vacuumed&quot;, &quot;hallway&quot;),
	&quot;951&quot;, (a: &quot;polished&quot;, &quot;corridor&quot;),
	&quot;961&quot;, (a: &quot;dirt&quot;, &quot;thoroughfare&quot;),
	&quot;971&quot;, (a: &quot;towering&quot;, &quot;aisle&quot;),
	&quot;981&quot;, (a: &quot;striplight&quot;, &quot;corridor&quot;),
	&quot;991&quot;, (a: &quot;&quot;, &quot;ditch&quot;),
	&quot;1001&quot;, (a: &quot;wintry&quot;, &quot;cloister&quot;),
	&quot;1011&quot;, (a: &quot;checkered&quot;, &quot;aisle&quot;),
	&quot;1021&quot;, (a: &quot;ivory&quot;, &quot;corridor&quot;),
	&quot;1031&quot;, (a: &quot;simple&quot;, &quot;passage&quot;),
	&quot;1041&quot;, (a: &quot;vacuumed&quot;, &quot;corridor&quot;),
	&quot;1051&quot;, (a: &quot;clay tiled&quot;, &quot;passage&quot;),
	&quot;1061&quot;, (a: &quot;cold stone&quot;, &quot;passageway&quot;),
	&quot;1071&quot;, (a: &quot;gardened&quot;, &quot;cloister&quot;),
	&quot;1081&quot;, (a: &quot;ruined, overgrown&quot;, &quot;aisle&quot;),
	&quot;1091&quot;, (a: &quot;ominous&quot;, &quot;path&quot;),
	&quot;1101&quot;, (a: &quot;winding&quot;, &quot;path&quot;),
	&quot;1111&quot;, (a: &quot;temporary&quot;, &quot;thoroughfare&quot;),
	&quot;1121&quot;, (a: &quot;echoey&quot;, &quot;corridor&quot;),
	&quot;1131&quot;, (a: &quot;suffocating&quot;, &quot;passageway&quot;),
	&quot;1141&quot;, (a: &quot;temporary&quot;, &quot;thoroughfare&quot;),
	&quot;1151&quot;, (a: &quot;temporary&quot;, &quot;thoroughfare&quot;),
	&quot;1161&quot;, (a: &quot;damp&quot;, &quot;passage&quot;),
	&quot;1171&quot;, (a: &quot;silent&quot;, &quot;passage&quot;),
	&quot;1181&quot;, (a: &quot;forsaken&quot;, &quot;passageway&quot;),
	&quot;1191&quot;, (a: &quot;brittle&quot;, &quot;gangway&quot;),
	&quot;1201&quot;, (a: &quot;flooded&quot;, &quot;waterway&quot;),
	&quot;1211&quot;, (a: &quot;sunny&quot;, &quot;alley&quot;),
	&quot;1221&quot;, (a: &quot;dusty&quot;, &quot;passageway&quot;),
	&quot;1231&quot;, (a: &quot;rubbled&quot;, &quot;street&quot;),
	&quot;1241&quot;, (a: &quot;dirt&quot;, &quot;thoroughfare&quot;),
	&quot;1251&quot;, (a: &quot;anarchic&quot;, &quot;boulevard&quot;),
	&quot;1261&quot;, (a: &quot;defeated&quot;, &quot;vulitsa&quot;),
	&quot;1271&quot;, (a: &quot;snowy&quot;, &quot;pass&quot;),
	&quot;1281&quot;, (a: &quot;makeshift&quot;, &quot;raft&quot;),
	&quot;1291&quot;, (a: &quot;fiery&quot;, &quot;avenue&quot;),
	&quot;1301&quot;, (a: &quot;sunny&quot;, &quot;lane&quot;),
	&quot;1311&quot;, (a: &quot;opulent&quot;, &quot;passage&quot;),
	&quot;1321&quot;, (a: &quot;weathered&quot;, &quot;track&quot;),
	&quot;1331&quot;, (a: &quot;dirt&quot;, &quot;thoroughfare&quot;),
	&quot;1341&quot;, (a: &quot;bumpy&quot;, &quot;lane&quot;),
	&quot;1351&quot;, (a: &quot;grassy&quot;, &quot;opening&quot;),
	&quot;1361&quot;, (a: &quot;narrow&quot;, &quot;hallway&quot;),
	&quot;1371&quot;, (a: &quot;gloomy&quot;, &quot;passage&quot;),
	&quot;1381&quot;, (a: &quot;grimy&quot;, &quot;passage&quot;),
	&quot;1391&quot;, (a: &quot;bloody&quot;, &quot;street&quot;),
	&quot;1401&quot;, (a: &quot;humid&quot;, &quot;trail&quot;),
	&quot;1411&quot;, (a: &quot;rowdy&quot;, &quot;alley&quot;),
	&quot;1421&quot;, (a: &quot;busy&quot;, &quot;street&quot;),
	&quot;1431&quot;, (a: &quot;muddy&quot;, &quot;thoroughfare&quot;),
	&quot;1441&quot;, (a: &quot;angular&quot;, &quot;walkway&quot;),
	&quot;1451&quot;, (a: &quot;smoky&quot;, &quot;rampart&quot;),
	&quot;1461&quot;, (a: &quot;damp&quot;, &quot;corridor&quot;),
	&quot;1471&quot;, (a: &quot;bejeweled&quot;, &quot;hallway&quot;),
	&quot;1481&quot;, (a: &quot;dolorous&quot;, &quot;passage&quot;),
	&quot;1491&quot;, (a: &quot;macabre&quot;, &quot;path&quot;),
	&quot;1501&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1511&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1521&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1531&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1541&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1551&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1561&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1571&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1581&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1591&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1601&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1611&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1621&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1631&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1641&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1651&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1661&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1671&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1681&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1691&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1701&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1711&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1721&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1731&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1741&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1751&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1761&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1771&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1781&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1791&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1801&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1811&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1821&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1831&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1841&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1851&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1861&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1871&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1881&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1891&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1901&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1911&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1921&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1931&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1941&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1951&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1961&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1971&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1981&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1991&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;2001&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;2011&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;2021&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;2031&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;2041&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;2051&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;2061&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;2071&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;2081&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;2091&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;)
	)
	)
	
(set: $roomTerms to (dm: 
	&quot;1&quot;, (a: &quot;fecund&quot;, &quot;plot&quot;),
	&quot;11&quot;, (a: &quot;busy&quot;, &quot;chamber&quot;),
	&quot;21&quot;, (a: &quot;quiet&quot;, &quot;room&quot;),
	&quot;31&quot;, (a: &quot;barrel filled&quot;, &quot;vault&quot;),
	&quot;41&quot;, (a: &quot;sparsely furnished&quot;, &quot;abode&quot;),
	&quot;51&quot;, (a: &quot;well stocked&quot;, &quot;depot&quot;),
	&quot;61&quot;, (a: &quot;uncomfortable&quot;, &quot;cell&quot;),
	&quot;71&quot;, (a: &quot;tranquil&quot;, &quot;sanctum&quot;),
	&quot;81&quot;, (a: &quot;scruffy&quot;, &quot;abode&quot;),
	&quot;91&quot;, (a: &quot;ancient&quot;, &quot;ossuary&quot;),
	&quot;101&quot;, (a: &quot;quiet&quot;, &quot;orchard&quot;),
	&quot;111&quot;, (a: &quot;scorching&quot;, &quot;bowl&quot;),
	&quot;121&quot;, (a: &quot;dusty&quot;, &quot;courtyard&quot;),
	&quot;131&quot;, (a: &quot;lush&quot;, &quot;boudoir&quot;),
	&quot;141&quot;, (a: &quot;palatial&quot;, &quot;room&quot;),
	&quot;151&quot;, (a: &quot;training&quot;, &quot;yard&quot;),
	&quot;161&quot;, (a: &quot;noisy&quot;, &quot;square&quot;),
	&quot;171&quot;, (a: &quot;echoey&quot;, &quot;sanctum&quot;),
	&quot;181&quot;, (a: &quot;operating&quot;, &quot;theater&quot;),
	&quot;191&quot;, (a: &quot;stone&quot;, &quot;mausoleum&quot;),
	&quot;201&quot;, (a: &quot;serene&quot;, &quot;pond&quot;),
	&quot;211&quot;, (a: &quot;babbling&quot;, &quot;square&quot;),
	&quot;221&quot;, (a: &quot;debating&quot;, &quot;hall&quot;),
	&quot;231&quot;, (a: &quot;dancing&quot;, &quot;deck&quot;),
	&quot;241&quot;, (a: &quot;shady&quot;, &quot;room&quot;),
	&quot;251&quot;, (a: &quot;rock brick&quot;, &quot;post&quot;),
	&quot;261&quot;, (a: &quot;dirt&quot;, &quot;square&quot;),
	&quot;271&quot;, (a: &quot;draughty&quot;, &quot;gazebo&quot;),
	&quot;281&quot;, (a: &quot;dilapidated&quot;, &quot;dormitory&quot;),
	&quot;291&quot;, (a: &quot;noiseless&quot;, &quot;plot&quot;),
	&quot;301&quot;, (a: &quot;&quot;, &quot;field tower&quot;),
	&quot;311&quot;, (a: &quot;rehearsal&quot;, &quot;stage&quot;),
	&quot;321&quot;, (a: &quot;marble&quot;, &quot;hall&quot;),
	&quot;331&quot;, (a: &quot;discreet&quot;, &quot;apse&quot;),
	&quot;341&quot;, (a: &quot;musty&quot;, &quot;room&quot;),
	&quot;351&quot;, (a: &quot;blood soaked&quot;, &quot;clearing&quot;),
	&quot;361&quot;, (a: &quot;raised&quot;, &quot;platform&quot;),
	&quot;371&quot;, (a: &quot;hedged&quot;, &quot;yard&quot;),
	&quot;381&quot;, (a: &quot;domed, polished stone&quot;, &quot;shrine&quot;),
	&quot;391&quot;, (a: &quot;half submerged&quot;, &quot;vault&quot;),
	&quot;401&quot;, (a: &quot;verdant&quot;, &quot;clearing&quot;),
	&quot;411&quot;, (a: &quot;ragged&quot;, &quot;tent&quot;),
	&quot;421&quot;, (a: &quot;dilapidated&quot;, &quot;reading room&quot;),
	&quot;431&quot;, (a: &quot;derelict&quot;, &quot;hall&quot;),
	&quot;441&quot;, (a: &quot;dusty&quot;, &quot;room&quot;),
	&quot;451&quot;, (a: &quot;abandoned&quot;, &quot;magazine&quot;),
	&quot;461&quot;, (a: &quot;ruined&quot;, &quot;cell&quot;),
	&quot;471&quot;, (a: &quot;lush and fecund&quot;, &quot;grove&quot;),
	&quot;481&quot;, (a: &quot;disintegrating&quot;, &quot;ward&quot;),
	&quot;491&quot;, (a: &quot;deep&quot;, &quot;shaft&quot;),
	&quot;501&quot;, (a: &quot;shady&quot;, &quot;clearing&quot;),
	&quot;511&quot;, (a: &quot;&quot;, &quot;knight&#39;s tent&quot;),
	&quot;521&quot;, (a: &quot;odorous&quot;, &quot;cavern&quot;),
	&quot;531&quot;, (a: &quot;misty&quot;, &quot;bank&quot;),
	&quot;541&quot;, (a: &quot;stone&quot;, &quot;hall&quot;),
	&quot;551&quot;, (a: &quot;&quot;, &quot;clearing&quot;),
	&quot;561&quot;, (a: &quot;claustrophobic&quot;, &quot;cavern&quot;),
	&quot;571&quot;, (a: &quot;solemn&quot;, &quot;hall&quot;),
	&quot;581&quot;, (a: &quot;dirty&quot;, &quot;square&quot;),
	&quot;591&quot;, (a: &quot;deathly&quot;, &quot;pit&quot;),
	&quot;601&quot;, (a: &quot;aromatic&quot;, &quot;garden&quot;),
	&quot;611&quot;, (a: &quot;smoky&quot;, &quot;bar&quot;),
	&quot;621&quot;, (a: &quot;hidden&quot;, &quot;meeting room&quot;),
	&quot;631&quot;, (a: &quot;rowdy&quot;, &quot;salon&quot;),
	&quot;641&quot;, (a: &quot;bounteous&quot;, &quot;market stall&quot;),
	&quot;651&quot;, (a: &quot;limestone&quot;, &quot;room&quot;),
	&quot;661&quot;, (a: &quot;small&quot;, &quot;shop&quot;),
	&quot;671&quot;, (a: &quot;private&quot;, &quot;musalla&quot;),
	&quot;681&quot;, (a: &quot;silent&quot;, &quot;square&quot;),
	&quot;691&quot;, (a: &quot;crumbling&quot;, &quot;building&quot;),
	&quot;701&quot;, (a: &quot;fearsome&quot;, &quot;display&quot;),
	&quot;711&quot;, (a: &quot;&quot;, &quot;bathing room&quot;),
	&quot;721&quot;, (a: &quot;&quot;, &quot;hall&quot;),
	&quot;731&quot;, (a: &quot;gardened&quot;, &quot;courtyard&quot;),
	&quot;741&quot;, (a: &quot;high&quot;, &quot;chamber&quot;),
	&quot;751&quot;, (a: &quot;basic&quot;, &quot;dormitorium&quot;),
	&quot;761&quot;, (a: &quot;carpented&quot;, &quot;wharf&quot;),
	&quot;771&quot;, (a: &quot;&quot;, &quot;prayer chamber&quot;),
	&quot;781&quot;, (a: &quot;small&quot;, &quot;ward&quot;),
	&quot;791&quot;, (a: &quot;dim&quot;, &quot;chamber&quot;),
	&quot;801&quot;, (a: &quot;&quot;, &quot;clearing in the reeds&quot;),
	&quot;811&quot;, (a: &quot;&quot;, &quot;pond&quot;),
	&quot;821&quot;, (a: &quot;sodden&quot;, &quot;study&quot;),
	&quot;831&quot;, (a: &quot;mysterious&quot;, &quot;study&quot;),
	&quot;841&quot;, (a: &quot;firelit&quot;, &quot;hall&quot;),
	&quot;851&quot;, (a: &quot;draughty&quot;, &quot;hall&quot;),
	&quot;861&quot;, (a: &quot;wild&quot;, &quot;clearing&quot;),
	&quot;871&quot;, (a: &quot;shivery&quot;, &quot;chapel&quot;),
	&quot;881&quot;, (a: &quot;dry&quot;, &quot;island&quot;),
	&quot;891&quot;, (a: &quot;fetid&quot;, &quot;lagoon&quot;),
	&quot;901&quot;, (a: &quot;jagged&quot;, &quot;clearing&quot;),
	&quot;911&quot;, (a: &quot;oily&quot;, &quot;pit garage&quot;),
	&quot;921&quot;, (a: &quot;snowy&quot;, &quot;mountainside&quot;),
	&quot;931&quot;, (a: &quot;flowery&quot;, &quot;courtyard&quot;),
	&quot;941&quot;, (a: &quot;plush&quot;, &quot;penthouse&quot;),
	&quot;951&quot;, (a: &quot;ominous&quot;, &quot;Gerichtssaal&quot;),
	&quot;961&quot;, (a: &quot;spartan&quot;, &quot;Wohnblock&quot;),
	&quot;971&quot;, (a: &quot;tranquil&quot;, &quot;Gebetsraum&quot;),
	&quot;981&quot;, (a: &quot;&quot;, &quot;lab&quot;),
	&quot;991&quot;, (a: &quot;&quot;, &quot;ditch full of bodies&quot;),
	&quot;1001&quot;, (a: &quot;frosty&quot;, &quot;hall&quot;),
	&quot;1011&quot;, (a: &quot;geometrical&quot;, &quot;tower&quot;),
	&quot;1021&quot;, (a: &quot;isolated&quot;, &quot;study&quot;),
	&quot;1031&quot;, (a: &quot;spartan&quot;, &quot;cell&quot;),
	&quot;1041&quot;, (a: &quot;plush&quot;, &quot;prayer room&quot;),
	&quot;1051&quot;, (a: &quot;kata&quot;, &quot;yard&quot;),
	&quot;1061&quot;, (a: &quot;ascetic&quot;, &quot;cell&quot;),
	&quot;1071&quot;, (a: &quot;grassed and flowered&quot;, &quot;courtyard&quot;),
	&quot;1081&quot;, (a: &quot;ruined&quot;, &quot;chapel&quot;),
	&quot;1091&quot;, (a: &quot;baleful&quot;, &quot;arbor&quot;),
	&quot;1101&quot;, (a: &quot;verdant&quot;, &quot;hollow&quot;),
	&quot;1111&quot;, (a: &quot;grassy&quot;, &quot;opening&quot;),
	&quot;1121&quot;, (a: &quot;musty&quot;, &quot;room&quot;),
	&quot;1131&quot;, (a: &quot;small&quot;, &quot;room&quot;),
	&quot;1141&quot;, (a: &quot;makeshift&quot;, &quot;shelter&quot;),
	&quot;1151&quot;, (a: &quot;battered&quot;, &quot;tent&quot;),
	&quot;1161&quot;, (a: &quot;dirty&quot;, &quot;cell&quot;),
	&quot;1171&quot;, (a: &quot;holy&quot;, &quot;septum&quot;),
	&quot;1181&quot;, (a: &quot;deserted&quot;, &quot;hall&quot;),
	&quot;1191&quot;, (a: &quot;broken&quot;, &quot;deck&quot;),
	&quot;1201&quot;, (a: &quot;waterlogged&quot;, &quot;hall&quot;),
	&quot;1211&quot;, (a: &quot;bustling&quot;, &quot;square&quot;),
	&quot;1221&quot;, (a: &quot;dim&quot;, &quot;room&quot;),
	&quot;1231&quot;, (a: &quot;quiet&quot;, &quot;plaza&quot;),
	&quot;1241&quot;, (a: &quot;&quot;, &quot;wagon&quot;),
	&quot;1251&quot;, (a: &quot;warring&quot;, &quot;square&quot;),
	&quot;1261&quot;, (a: &quot;frost kissed&quot;, &quot;square&quot;),
	&quot;1271&quot;, (a: &quot;blizzardy&quot;, &quot;plateau&quot;),
	&quot;1281&quot;, (a: &quot;sinking&quot;, &quot;ship&quot;),
	&quot;1291&quot;, (a: &quot;blazing&quot;, &quot;building&quot;),
	&quot;1301&quot;, (a: &quot;small market&quot;, &quot;square&quot;),
	&quot;1311&quot;, (a: &quot;fabulous&quot;, &quot;hall&quot;),
	&quot;1321&quot;, (a: &quot;misty&quot;, &quot;hollow&quot;),
	&quot;1331&quot;, (a: &quot;draughty&quot;, &quot;tent&quot;),
	&quot;1341&quot;, (a: &quot;small&quot;, &quot;cottage&quot;),
	&quot;1351&quot;, (a: &quot;Scottish&quot;, &quot;schiltron&quot;),
	&quot;1361&quot;, (a: &quot;modest&quot;, &quot;room&quot;),
	&quot;1371&quot;, (a: &quot;simple&quot;, &quot;prayer room&quot;),
	&quot;1381&quot;, (a: &quot;examination&quot;, &quot;room&quot;),
	&quot;1391&quot;, (a: &quot;rowdy&quot;, &quot;square&quot;),
	&quot;1401&quot;, (a: &quot;densely overgrown&quot;, &quot;pond&quot;),
	&quot;1411&quot;, (a: &quot;betting&quot;, &quot;pit&quot;),
	&quot;1421&quot;, (a: &quot;printing&quot;, &quot;room&quot;),
	&quot;1431&quot;, (a: &quot;&quot;, &quot;tent&quot;),
	&quot;1441&quot;, (a: &quot;stepped&quot;, &quot;pyramid&quot;),
	&quot;1451&quot;, (a: &quot;battered&quot;, &quot;tower&quot;),
	&quot;1461&quot;, (a: &quot;cramped&quot;, &quot;cell&quot;),
	&quot;1471&quot;, (a: &quot;opulent&quot;, &quot;nave&quot;),
	&quot;1481&quot;, (a: &quot;dank&quot;, &quot;dungeon&quot;),
	&quot;1491&quot;, (a: &quot;grisly&quot;, &quot;copse&quot;),
	&quot;1501&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1511&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1521&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1531&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1541&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1551&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1561&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1571&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1581&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1591&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1601&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1611&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1621&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1631&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1641&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1651&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1661&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1671&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1681&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1691&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1701&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1711&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1721&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1731&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1741&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1751&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1761&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1771&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1781&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1791&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1801&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1811&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1821&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1831&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1841&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1851&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1861&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1871&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1881&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1891&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1901&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1911&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1921&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1931&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1941&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1951&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1961&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1971&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1981&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1991&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;2001&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;2011&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;2021&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;2031&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;2041&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;2051&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;2061&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;2071&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;2081&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;2091&quot;, (a: &quot;undefined&quot;, &quot;room&quot;)
	)
	)
	

&lt;!--the main sentence says &quot;you are on a __A___ somewhere ___B___&quot;. This provides the language for B. --&gt; 

	
(set: $setLocusPhrase to 
(macro: [
	(if: $thisRoomsNumber &gt; 9)[
		(set: $pathNoun to 2nd of (str: $decadeReference) of $passageTerms)
		(set: $pathAdj to 1st of (str: $decadeReference) of $passageTerms)]
	(else:) [
		(set: $pathNoun to 2nd of (str: $decadeReference) of $roomTerms)
		(set: $pathAdj to 1st of (str: $decadeReference) of $roomTerms)
		]
	(if: $pathAdj is &quot;&quot;) [(set: $pathArticle to (cond: 
		($firstLetterIsVowel:$pathNoun), &quot;an&quot;,
		&quot;a&quot;))]
	(else:)[(set: $pathArticle to (cond: 
		($firstLetterIsVowel:$pathNoun),&quot;an&quot;,
		&quot;a&quot;))]
	($setPathPrep:)
	(output-data: $pathPrep + &quot; &quot; + $pathArticle + &quot; &quot; + $pathAdj + &quot; &quot; + $pathNoun)
	]))
	
&lt;!--encases the locipreps dm to give it a default value of &quot;in&quot; if nothing is specified --&gt; 

(set: $setPathPrep to
(macro: [
	(if: $lociPreps contains $pathNoun)
		[(set: $pathPrep to $pathNoun of $lociPreps)]
	(else:)[(set: $pathPrep to &quot;in&quot;)]
	(output-data: &quot;&quot;)
	]))

&lt;!--______--&gt;
(set: $setRoomPhrase2 to 
(macro: [
	(set: $pathNoun to 2nd of (str: $decadeReference) of $roomTerms)
	(set: $pathAdj to 1st of (str: $decadeReference) of $roomTerms)
	(if: $pathAdj is &quot;&quot;) [(set: $pathArticle to (cond: 
		($firstLetterIsVowel:$pathNoun), &quot;an&quot;,
		&quot;a&quot;))]
	(else:)[(set: $pathArticle to (cond: 
		($firstLetterIsVowel:$pathNoun),&quot;an&quot;,
		&quot;a&quot;))]
	($setPathPrep:)
	(output-data: $pathPrep + &quot; &quot; + $pathArticle + &quot; &quot; + $pathAdj + &quot; &quot; + $pathNoun)
	]))

(set: $setRoomPhrase to 
(macro: [
	($field:)
	(if: $decadeNumber is in $parks)[($park:)]
	(if: $decadeNumber is in $camps)[($camp:)]
	(if: $decadeNumber is in $villages)[($village:)]
	(if: $decadeNumber is in $battlefields)[($battlefield:)]
	(if: $decadeNumber is in $farms)[($farm:)]
	(if: $decadeNumber is in $forests)[($forest:)]
	(if: $decadeNumber is in $mountainsides)[($mountainside:)]
	(if: $decadeNumber is in $cemeteries)[($cemetery:)]
	(if: $decadeNumber is in $barrows)[($barrow:)]
	(if: $decadeNumber is in $caves)[($cave:)]
	(if: $decadeNumber is in $buildings)[($building:)]
	(if: $decadeNumber is in $churches)[($church:)]
	(if: $decadeNumber is in $temples)[($temple:)]
	(if: $decadeNumber is in $mosques)[($mosque:)]
	(if: $decadeNumber is in $mushrooms)[($mushroom:)]
	(if: $decadeNumber is in $brothels)[($brothel:)]
	(if: $decadeNumber is in $jungles)[($jungle:)]
	(if: $decadeNumber is in $hashishQuarters)[($hashishQuarter:)]
	(if: $decadeNumber is in $houses)[($house:)]
	(if: $decadeNumber is in $penalQuarters)[($penalQuarter:)]
	(if: $decadeNumber is in $markets)[($market:)]
	(if: $decadeNumber is in $slaveMarkets)[($slaveMarkets:)]
	(if: $decadeNumber is in $churches)[($church:)]
	(if: $decadeNumber is in $swamps)[($swamp:)]
	(if: $decadeNumber is in $arbors)[($arbor:)]
	(if: $decadeNumber is in $monasteries)[($monastery:)]
		(if: $decadeNumber is in $vestals)[($vestal:)]
	(if: $decadeNumber is in $palaces)[($palace:)]
	(if: $decadeNumber is in $barracks)[($barrack:)]
	(if: $decadeNumber is in $castles)[($castle:)]
	(if: $decadeNumber is in $jails)[($jail:)]
	(if: $decadeNumber is in $inquisitors)[($inquisitor:)]
	(if: $decadeNumber is in $surgeries)[($surgery:)]
	(if: $decadeNumber is in $crypts)[($crypt:)]
	(if: $decadeNumber is in $libraries)[($library:)]
	(if: $decadeNumber is in $schools)[($school:)]
		(if: $decadeNumber is in $courthouses)[($courthouse:)]
			(if: $decadeNumber is in $lakesides)[($lakeside:)]
	(if: $decadeNumber is in $armories)[($armory:)]
	(if: $decadeNumber is in $ships)[($ship:)]
	(if: $decadeNumber is in $hypogea)[($hypogeum:)]
	(if: $decadeNumber is in $menageries)[($menagerie:)]
	(if: $decadeNumber is in $arenas)[($arena:)]
		(if: $decadeNumber is in $fruments)[($frument:)]
			(if: $decadeNumber is in $breweries)[($brewery:)]
				(if: $decadeNumber is in $triclinia)[($triclinium:)]
					(if: $decadeNumber is in $mines)[($mine:)]
	(if: $decadeNumber is in $plaguePits)[($plaguePit:)]
	(output-data: $phrase) 
	]))
	
(set: $setPassagePhrase to 
(macro: [
	(set: $pathNoun to 2nd of (str: $decadeReference) of $passageTerms)
	(set: $pathAdj to 1st of (str: $decadeReference) of $passageTerms)
	(if: $pathAdj is &quot;&quot;) [(set: $pathArticle to (cond: 
		($firstLetterIsVowel:$pathNoun), &quot;an&quot;,
		&quot;a&quot;))]
	(else:)[(set: $pathArticle to (cond: 
		($firstLetterIsVowel:$pathNoun),&quot;an&quot;,
		&quot;a&quot;))]
	($setPathPrep:)
	(output-data: $pathPrep + &quot; &quot; + $pathArticle + &quot; &quot; + $pathAdj + &quot; &quot; + $pathNoun)
	]))
	

	}
</tw-passagedata><tw-passagedata pid="44" name="random numbers database" tags="startup" position="299,1535" size="100,100">{
&lt;!--Because we need the system to generate the same random palace every time, the random values from one initial run must be stored in a database. This is that database.   --&gt;

(set: $randomMaps to (dm: 
&quot;0&quot;,	(a:13,0,25,22,21,17,0,9,10,19,3,9,16,7,15,14,17,7,4,13,25,12,4,17,4),
&quot;10&quot;,	(a:8,5,24,22,4,8,12,2,0,15,5,0,20,14,8,25,12,19,2,8,11,3,5,21,7),
&quot;20&quot;,	(a:14,20,23,7,22,21,0,0,21,1,15,0,8,24,12,20,0,22,25,7,24,16,24,3,2),
&quot;30&quot;,	(a:17,23,22,23,23,4,19,12,0,4,10,11,21,11,16,1,8,7,4,24,11,4,12,13,15),
&quot;40&quot;,	(a:16,10,7,22,7,23,21,24,21,14,10,0,2,17,23,24,19,20,2,8,11,9,25,16,2),
&quot;50&quot;,	(a:23,2,21,23,9,8,0,17,4,15,17,9,13,24,14,17,20,11,17,15,6,22,2,7,22),
&quot;60&quot;,	(a:14,23,15,0,4,6,15,10,8,11,9,22,15,20,12,21,4,7,10,21,20,7,24,0,12),
&quot;70&quot;,	(a:4,1,17,15,16,24,9,6,23,1,5,16,19,16,12,17,4,10,16,15,1,17,13,18,1),
&quot;80&quot;,	(a:5,18,6,23,4,1,4,11,3,1,15,9,3,20,18,7,13,2,18,16,9,21,12,11,16),
&quot;90&quot;,	(a:3,8,13,7,7,21,3,0,15,5,19,3,16,20,10,17,24,18,24,22,22,13,4,6,25),
&quot;100&quot;,	(a:20,8,10,8,18,2,22,9,11,4,20,3,12,17,20,13,3,5,20,10,8,25,17,22,1),
&quot;110&quot;,	(a:18,16,11,24,15,3,19,5,19,20,20,18,4,16,13,11,2,9,13,22,1,14,25,20,11),
&quot;120&quot;,	(a:6,21,5,15,1,15,7,4,1,17,20,18,12,1,4,3,0,9,12,14,13,22,15,6,11),
&quot;130&quot;,	(a:25,19,19,16,8,20,21,11,3,11,21,20,25,3,6,7,20,5,16,22,21,3,2,13,12),
&quot;140&quot;,	(a:12,25,2,0,1,11,14,22,10,22,17,11,3,17,1,24,21,6,8,17,17,21,19,18,22),
&quot;150&quot;,	(a:17,0,9,14,0,16,15,6,1,23,7,6,24,25,5,6,13,10,14,6,18,23,15,12,5),
&quot;160&quot;,	(a:5,15,10,15,14,2,18,0,14,25,20,17,23,8,11,10,2,14,24,8,1,22,1,22,23),
&quot;170&quot;,	(a:6,13,4,1,6,12,22,22,5,8,6,4,19,16,19,10,13,17,23,19,1,25,1,22,10),
&quot;180&quot;,	(a:13,11,17,0,12,7,24,17,9,4,8,3,13,20,20,10,19,21,5,6,14,18,6,5,19),
&quot;190&quot;,	(a:16,18,25,21,17,15,9,6,16,22,15,21,25,8,7,6,8,23,17,23,7,0,20,15,12),&quot;200&quot;,	(a:20,10,21,6,10,12,14,11,10,23,7,15,22,7,13,11,13,1,0,15,16,1,23,16,6),
&quot;210&quot;,	(a:23,4,4,22,21,1,16,16,19,10,7,24,9,13,7,25,22,16,10,3,18,9,19,18,25),
&quot;220&quot;,	(a:6,1,25,22,0,17,21,18,24,14,14,11,12,17,19,13,6,21,7,15,15,3,21,13,14),
&quot;230&quot;,	(a:23,25,21,23,12,8,2,16,23,4,0,24,21,13,8,16,18,4,2,24,0,1,13,18,6),
&quot;240&quot;,	(a:16,1,9,2,12,23,24,8,14,25,24,14,2,7,2,21,18,11,19,12,8,8,5,19,21),
&quot;250&quot;,	(a:2,6,19,14,21,0,5,17,15,13,13,1,8,25,13,23,4,10,11,11,2,5,2,15,14),
&quot;260&quot;,	(a:3,25,16,22,0,19,13,20,14,12,16,19,23,23,16,0,17,13,12,9,8,16,25,1,25),
&quot;270&quot;,	(a:12,16,16,13,2,13,10,11,21,7,24,2,21,7,15,12,16,3,4,11,5,20,6,2,24),
&quot;280&quot;,	(a:4,21,15,0,9,19,9,25,20,4,3,3,10,3,14,16,22,17,3,13,7,8,22,21,4),
&quot;290&quot;,	(a:9,10,3,15,19,17,24,0,6,13,25,12,3,18,20,3,9,10,21,25,23,22,1,24,9),
&quot;300&quot;,	(a:18,17,21,16,0,25,10,7,0,15,19,20,4,25,8,2,1,10,12,1,21,6,2,21,2),
&quot;310&quot;,	(a:14,24,9,9,7,18,23,21,5,19,20,6,0,21,3,12,15,0,0,20,20,13,10,21,0),
&quot;320&quot;,	(a:10,24,10,14,22,2,17,4,22,2,8,23,24,10,8,3,17,24,19,6,15,9,17,2,6),
&quot;330&quot;,	(a:8,0,1,11,4,12,9,1,3,2,17,11,7,11,18,13,23,2,11,19,18,12,16,20,22),
&quot;340&quot;,	(a:2,2,6,22,13,21,3,12,22,11,25,4,11,2,1,23,14,9,6,0,16,1,16,9,2),
&quot;350&quot;,	(a:5,23,23,16,1,12,24,20,5,18,7,18,6,14,2,6,10,2,4,24,9,7,8,18,0),
&quot;360&quot;,	(a:12,1,25,1,11,0,4,7,3,20,18,7,23,3,5,15,20,9,7,12,22,15,16,11,18),
&quot;370&quot;,	(a:24,14,8,19,11,16,20,13,23,13,3,9,5,21,5,17,22,19,20,9,25,2,23,18,11),
&quot;380&quot;,	(a:18,21,3,25,14,25,20,13,5,1,11,2,3,25,19,2,10,11,17,1,21,1,8,1,11),
&quot;390&quot;,	(a:18,9,24,19,13,0,20,9,25,3,13,0,7,16,0,1,19,12,4,8,12,12,10,18,10),&quot;400&quot;,	(a:15,4,19,17,9,3,5,22,2,2,13,9,8,6,14,19,8,14,3,5,16,19,25,10,2),
&quot;410&quot;,	(a:15,6,22,20,25,23,12,2,4,15,11,11,13,1,8,14,18,16,24,25,13,19,6,21,20),
&quot;420&quot;,	(a:22,23,12,9,9,25,12,9,22,19,23,3,8,25,16,24,24,5,2,23,21,5,20,8,2),
&quot;430&quot;,	(a:14,18,15,8,20,13,1,23,4,3,18,22,12,19,23,12,11,14,1,5,9,22,21,6,17),
&quot;440&quot;,	(a:8,19,7,25,19,21,12,9,12,9,18,23,16,10,17,5,17,2,11,4,12,4,7,23,15),
&quot;450&quot;,	(a:18,5,12,3,22,2,6,23,18,21,24,2,9,25,16,2,13,15,17,22,22,10,10,14,6),
&quot;460&quot;,	(a:5,9,5,23,1,18,22,0,10,1,8,24,17,11,13,25,8,13,14,12,1,21,10,13,24),
&quot;470&quot;,	(a:3,21,24,10,12,3,12,12,1,22,14,17,1,18,23,6,10,10,20,21,4,23,4,18,15),
&quot;480&quot;,	(a:12,7,22,10,17,21,22,18,8,4,6,8,16,3,0,12,5,19,0,6,2,2,3,19,8),
&quot;490&quot;,	(a:5,22,18,8,5,5,7,18,14,2,13,17,22,14,11,21,25,10,1,21,9,7,24,9,21),
&quot;500&quot;,	(a:19,15,7,14,7,12,17,14,20,15,24,4,5,10,3,18,5,7,4,22,20,12,11,12,21),
&quot;510&quot;,	(a:19,14,18,11,10,2,11,11,19,22,3,19,23,6,0,12,9,4,9,20,22,10,5,13,20),
&quot;520&quot;,	(a:23,25,7,5,17,8,0,3,3,17,1,7,14,13,11,17,17,21,18,20,13,20,10,2,15),
&quot;530&quot;,	(a:6,18,25,16,5,24,21,12,21,12,0,4,8,3,15,11,9,14,12,6,14,9,20,14,23),
&quot;540&quot;,	(a:9,25,17,25,1,3,12,20,8,0,1,1,14,8,2,9,18,2,2,19,7,0,6,6,16),
&quot;550&quot;,	(a:11,1,23,25,19,18,1,3,25,12,24,8,24,8,18,20,14,10,17,23,15,6,23,18,24),
&quot;560&quot;,	(a:1,6,22,14,23,1,12,5,13,14,16,4,14,6,25,23,21,20,19,12,2,4,21,15,25),
&quot;570&quot;,	(a:23,13,18,9,16,3,25,13,18,15,13,5,8,6,22,7,9,16,24,1,12,3,7,2,11),
&quot;580&quot;,	(a:18,17,3,5,12,4,25,15,7,24,1,2,0,11,11,9,15,18,9,15,22,20,10,1,5),
&quot;590&quot;,	(a:2,14,8,19,17,23,4,8,4,9,14,24,5,7,4,3,7,2,25,8,13,25,0,5,0),&quot;600&quot;,	(a:3,1,15,22,16,20,2,4,20,25,1,11,9,0,9,3,25,7,11,14,13,8,17,6,0),
&quot;610&quot;,	(a:19,12,25,17,21,16,11,23,14,11,1,5,6,19,19,3,12,10,17,0,15,7,24,9,21),
&quot;620&quot;,	(a:5,15,20,5,19,2,25,20,13,11,25,3,11,13,9,21,2,0,8,19,18,12,19,5,25),
&quot;630&quot;,	(a:20,18,25,18,1,1,6,22,22,20,21,6,15,22,10,18,3,14,13,20,17,15,3,4,25),
&quot;640&quot;,	(a:22,8,12,2,0,18,8,6,23,22,9,18,3,10,17,7,10,1,6,14,0,15,18,20,18),
&quot;650&quot;,	(a:16,20,2,7,6,8,11,2,15,18,16,24,24,7,23,21,25,18,25,17,3,9,23,5,4),
&quot;660&quot;,	(a:21,4,8,25,17,16,14,8,14,5,15,11,9,4,25,1,2,4,9,13,14,5,22,2,16),
&quot;670&quot;,	(a:21,20,15,15,21,2,19,22,13,1,7,2,25,0,7,4,2,22,6,22,16,6,16,13,1),
&quot;680&quot;,	(a:7,24,13,19,25,21,5,9,22,6,10,0,1,20,22,0,20,24,11,11,13,5,13,9,25),
&quot;690&quot;,	(a:6,24,20,11,14,7,21,25,24,15,20,20,15,19,20,1,2,7,18,13,8,14,7,5,22),
&quot;700&quot;,	(a:1,19,21,8,9,23,18,2,13,18,13,21,7,6,25,11,13,4,21,22,6,4,2,20,2),
&quot;710&quot;,	(a:8,22,12,4,1,24,7,15,5,8,10,11,21,17,18,17,1,23,14,21,12,15,21,22,4),
&quot;720&quot;,	(a:7,5,18,24,10,0,25,18,3,2,21,10,22,15,21,25,23,0,8,7,17,22,15,6,7),
&quot;730&quot;,	(a:3,6,12,1,10,2,13,23,14,16,10,11,19,7,0,10,24,10,0,9,0,17,1,20,15),
&quot;740&quot;,	(a:17,19,21,17,4,8,5,19,4,20,3,1,2,6,1,19,11,18,22,22,7,7,18,20,17),
&quot;750&quot;,	(a:4,15,14,23,11,0,0,19,22,7,15,18,0,8,25,4,6,25,8,4,12,1,4,4,23),
&quot;760&quot;,	(a:25,2,2,12,4,5,3,11,1,25,2,3,23,6,25,5,19,12,15,7,9,21,3,1,4),
&quot;770&quot;,	(a:19,12,4,5,22,17,24,18,22,16,2,7,11,3,9,2,1,9,22,10,17,10,23,10,1),
&quot;780&quot;,	(a:4,0,5,13,6,18,2,22,6,12,0,4,13,25,24,0,6,9,2,2,5,19,5,17,16),
&quot;790&quot;,	(a:23,15,24,6,22,1,6,12,7,20,16,24,2,14,14,2,24,25,25,9,24,11,25,3,4),&quot;800&quot;,	(a:24,20,12,11,22,24,12,23,23,0,19,19,21,1,21,11,3,19,17,7,12,21,19,18,23),
&quot;810&quot;,	(a:2,14,16,24,0,21,2,8,23,10,16,17,5,15,7,5,1,12,16,14,9,24,19,11,15),
&quot;820&quot;,	(a:9,17,25,20,0,21,15,9,3,25,19,8,22,19,0,20,2,1,16,20,16,5,23,9,10),
&quot;830&quot;,	(a:19,13,15,13,15,7,15,14,3,19,11,2,22,0,17,10,9,22,17,11,25,18,25,23,24),
&quot;840&quot;,	(a:1,25,3,22,5,15,17,2,12,14,13,13,9,22,13,12,11,17,23,0,24,6,21,8,25),
&quot;850&quot;,	(a:1,14,7,18,10,6,11,20,15,22,20,11,10,18,2,19,11,12,11,14,0,6,17,25,9),
&quot;860&quot;,	(a:5,12,10,19,12,4,6,20,20,18,22,6,14,21,16,9,1,1,16,4,14,10,6,11,15),
&quot;870&quot;,	(a:20,0,6,18,9,24,1,23,9,15,20,9,15,16,19,21,21,8,17,18,25,1,22,1,16),
&quot;880&quot;,	(a:23,16,4,23,4,20,12,16,3,22,12,2,1,18,16,14,8,1,1,0,12,22,25,11,15),
&quot;890&quot;,	(a:5,6,2,11,22,2,6,1,12,16,0,10,11,24,8,3,12,13,3,25,4,21,11,6,1),
&quot;900&quot;,	(a:2,11,11,16,9,20,7,10,3,4,15,5,24,20,5,8,10,18,8,6,12,8,21,9,3),
&quot;910&quot;,	(a:22,6,20,21,22,4,19,11,22,18,19,11,25,10,9,0,9,22,24,14,23,14,23,16,13),
&quot;920&quot;,	(a:7,5,21,6,7,13,19,8,13,12,13,5,13,21,7,11,2,25,12,0,14,23,7,3,11),
&quot;930&quot;,	(a:11,24,16,23,18,20,4,13,5,17,22,18,25,13,2,5,14,25,2,22,2,19,9,21,4),
&quot;940&quot;,	(a:7,8,4,24,24,0,9,24,6,24,18,16,7,5,10,14,23,15,16,5,24,15,5,1,10),
&quot;950&quot;,	(a:22,25,5,20,18,20,12,17,16,5,0,0,18,13,23,18,2,5,6,9,19,24,17,12,25),
&quot;960&quot;,	(a:5,16,13,0,7,8,1,13,9,16,8,22,22,2,17,21,18,24,9,10,2,2,14,18,18),
&quot;970&quot;,	(a:1,24,23,15,21,21,18,8,23,5,18,1,22,24,25,10,20,20,25,23,8,6,21,20,13),
&quot;980&quot;,	(a:9,1,4,3,0,15,6,14,17,5,8,18,3,16,6,7,22,9,20,22,25,19,18,9,9),
&quot;990&quot;,	(a:25,5,23,11,7,7,23,22,12,12,13,3,13,2,10,13,22,7,16,0,21,19,3,9,5),&quot;1000&quot;,	(a:21,19,20,14,8,0,25,15,15,10,22,24,12,20,7,16,3,14,18,24,1,9,17,17,5),
&quot;1010&quot;,	(a:8,18,22,16,11,13,1,12,0,4,25,13,12,8,4,21,15,16,15,0,5,12,22,17,22),
&quot;1020&quot;,	(a:17,13,21,21,8,11,17,3,9,23,4,10,22,19,4,7,21,3,0,18,7,24,16,5,12),
&quot;1030&quot;,	(a:21,16,6,17,21,8,10,23,6,7,20,13,8,11,0,24,6,2,12,9,17,7,7,7,22),
&quot;1040&quot;,	(a:13,2,8,3,22,15,5,1,5,25,1,11,5,23,6,24,11,17,15,7,19,7,17,20,9),
&quot;1050&quot;,	(a:7,6,5,22,5,7,5,25,5,6,4,8,2,9,22,21,16,15,2,19,0,5,25,4,2),
&quot;1060&quot;,	(a:14,23,18,9,21,17,25,13,15,17,17,3,5,3,23,24,23,23,5,18,23,11,21,4,10),
&quot;1070&quot;,	(a:19,17,10,11,22,7,16,15,9,24,24,17,12,20,5,14,8,7,12,7,5,20,13,2,16),
&quot;1080&quot;,	(a:13,21,20,16,11,17,10,0,20,0,5,17,7,23,1,11,20,9,11,12,8,3,18,4,19),
&quot;1090&quot;,	(a:25,14,0,7,8,14,11,18,25,3,24,8,18,0,11,7,20,10,5,6,1,11,2,12,17),
&quot;1100&quot;,	(a:22,15,7,12,1,7,9,2,2,19,20,22,20,11,22,11,12,24,3,6,23,10,9,10,17),
&quot;1110&quot;,	(a:0,6,12,12,14,4,23,23,2,23,1,10,20,0,6,17,4,22,9,3,1,18,16,4,6),
&quot;1120&quot;,	(a:7,0,0,14,10,22,3,20,11,11,6,25,17,25,8,20,18,17,2,14,2,15,25,23,19),
&quot;1130&quot;,	(a:9,6,6,15,17,14,10,12,18,4,4,24,12,8,25,5,18,6,1,19,18,24,0,19,11),
&quot;1140&quot;,	(a:23,7,1,23,18,17,20,23,12,19,3,9,24,13,15,14,14,4,14,1,8,23,20,5,6),
&quot;1150&quot;,	(a:14,13,5,19,12,5,10,25,9,5,8,9,7,12,11,6,0,25,12,25,4,14,24,6,8),
&quot;1160&quot;,	(a:14,18,14,23,21,15,16,1,24,16,16,4,21,6,22,15,14,14,5,1,24,10,5,16,4),
&quot;1170&quot;,	(a:13,8,18,11,21,11,11,23,17,22,25,20,10,8,17,12,5,1,10,4,10,21,9,1,5),
&quot;1180&quot;,	(a:12,8,3,19,0,0,5,3,16,12,24,1,13,4,7,4,16,9,13,11,18,8,3,8,17),
&quot;1190&quot;,	(a:18,18,10,20,13,25,8,8,12,16,20,21,21,13,17,6,11,13,12,13,2,11,22,7,0),&quot;1200&quot;,	(a:3,23,3,19,13,2,11,14,12,2,9,17,16,22,13,17,10,4,4,7,4,20,9,15,14),
&quot;1210&quot;,	(a:0,6,4,14,21,6,24,23,5,6,15,8,4,9,6,9,22,19,17,21,10,4,7,11,5),
&quot;1220&quot;,	(a:3,7,13,4,23,16,13,20,6,2,8,6,1,21,10,15,11,10,11,24,15,16,5,5,13),
&quot;1230&quot;,	(a:11,23,24,20,10,15,3,21,6,11,3,15,16,16,20,0,20,15,15,10,24,14,16,17,17),
&quot;1240&quot;,	(a:22,7,17,13,19,0,11,3,22,5,22,19,24,14,20,17,22,15,24,21,6,5,19,19,23),
&quot;1250&quot;,	(a:0,5,17,5,23,8,19,4,13,22,21,3,18,23,14,18,25,2,15,6,16,20,18,23,8),
&quot;1260&quot;,	(a:20,14,16,10,16,11,14,3,16,15,3,25,0,6,0,8,18,3,4,15,14,12,1,5,9),
&quot;1270&quot;,	(a:14,6,24,5,14,9,12,3,19,17,6,23,7,9,21,18,22,3,5,21,25,20,24,21,25),
&quot;1280&quot;,	(a:9,10,9,6,18,4,12,23,5,3,14,3,9,0,4,2,6,1,9,3,24,5,14,23,22),
&quot;1290&quot;,	(a:9,13,19,23,20,5,5,8,18,19,1,8,2,8,8,4,7,17,18,10,9,25,24,1,13),
&quot;1300&quot;,	(a:15,0,5,22,17,9,12,3,9,0,23,8,4,6,2,7,25,15,15,4,19,8,3,3,5),
&quot;1310&quot;,	(a:7,15,5,25,1,12,2,15,1,7,19,7,14,1,22,17,2,15,14,23,7,23,19,21,14),
&quot;1320&quot;,	(a:16,8,5,5,15,0,8,16,14,23,20,23,12,1,1,7,21,11,22,14,16,14,10,17,18),
&quot;1330&quot;,	(a:13,16,19,21,8,6,25,14,8,1,22,9,5,6,10,20,7,10,23,5,25,15,10,19,24),
&quot;1340&quot;,	(a:10,17,20,6,15,25,3,14,21,8,3,5,15,18,16,16,17,6,16,3,13,25,8,5,4),
&quot;1350&quot;,	(a:4,6,8,10,18,15,17,5,2,21,16,14,12,3,12,10,2,4,4,7,7,12,9,5,20),
&quot;1360&quot;,	(a:0,0,9,23,8,8,17,17,2,3,25,18,15,18,19,22,14,0,0,21,3,16,7,1,15),
&quot;1370&quot;,	(a:12,11,25,6,16,2,1,13,11,4,2,22,23,4,11,12,21,25,23,11,12,24,19,10,22),
&quot;1380&quot;,	(a:18,15,17,0,24,15,23,22,8,20,25,17,3,1,15,14,9,9,25,11,7,17,18,23,7),
&quot;1390&quot;,	(a:13,22,11,17,21,21,8,11,22,12,15,2,19,9,23,7,3,1,12,13,19,9,0,18,10),&quot;1400&quot;,	(a:15,20,16,23,6,5,2,5,1,8,24,1,23,24,15,1,17,14,0,6,1,6,0,24,11),
&quot;1410&quot;,	(a:6,16,25,1,11,8,19,18,24,24,14,20,2,18,20,23,8,23,3,16,23,11,23,21,13),
&quot;1420&quot;,	(a:0,5,21,16,16,25,25,22,25,13,1,13,3,6,8,11,13,24,12,9,18,16,21,17,18),
&quot;1430&quot;,	(a:19,14,19,18,24,19,21,9,13,20,17,16,22,0,6,23,11,9,8,9,17,21,5,9,12),
&quot;1440&quot;,	(a:10,1,22,24,12,5,12,19,25,17,14,4,9,0,21,5,8,1,0,8,21,22,24,6,3),
&quot;1450&quot;,	(a:0,25,17,24,21,16,21,5,13,4,5,15,8,17,4,10,10,24,15,5,10,4,6,14,1),
&quot;1460&quot;,	(a:25,7,16,8,17,9,4,20,11,25,3,10,10,20,21,22,8,5,13,2,19,1,23,18,25),
&quot;1470&quot;,	(a:19,15,16,6,1,4,10,22,9,16,8,8,10,20,11,6,24,14,19,15,9,25,12,3,6),
&quot;1480&quot;,	(a:3,2,21,14,19,19,10,9,3,10,16,23,17,20,24,3,14,19,1,24,1,12,4,13,7),
&quot;1490&quot;,	(a:23,19,24,21,14,18,21,17,6,4,3,14,16,19,19,21,19,13,23,1,5,13,2,20,5),
&quot;1500&quot;,	(a:9,2,9,9,1,13,1,7,1,18,15,7,6,0,3,13,14,3,1,2,7,0,12,9,15),
&quot;1510&quot;,	(a:13,10,16,16,20,0,16,0,3,14,5,17,22,16,12,17,14,0,25,12,10,14,11,21,10),
&quot;1520&quot;,	(a:9,10,7,19,1,17,12,10,10,19,19,8,5,25,19,21,13,1,12,18,1,17,2,15,25),
&quot;1530&quot;,	(a:11,12,11,17,8,16,9,19,1,25,9,12,1,24,3,12,1,24,6,9,7,22,25,17,23),
&quot;1540&quot;,	(a:7,19,25,2,24,12,11,1,16,7,18,11,12,16,17,24,22,0,2,6,25,22,2,11,4),
&quot;1550&quot;,	(a:20,15,12,20,15,5,10,17,13,25,13,18,22,25,5,12,4,19,11,6,7,22,11,13,23),
&quot;1560&quot;,	(a:19,11,13,13,12,23,21,10,24,23,4,6,16,13,16,10,7,19,0,21,15,4,23,8,0),
&quot;1570&quot;,	(a:22,0,14,16,24,22,23,3,17,17,16,13,19,24,0,7,10,10,25,2,22,14,3,6,7),
&quot;1580&quot;,	(a:4,6,12,25,24,12,1,24,1,9,1,9,12,15,16,9,0,0,8,9,18,11,17,5,22),
&quot;1590&quot;,	(a:7,22,14,8,4,17,21,0,9,1,23,13,17,9,22,14,24,9,3,15,8,5,5,2,0),&quot;1600&quot;,	(a:2,20,20,22,11,17,5,2,11,22,0,12,18,6,7,12,7,16,19,2,23,9,24,17,23),
&quot;1610&quot;,	(a:15,24,25,3,15,11,21,15,10,23,21,25,13,24,2,13,17,3,7,18,4,15,13,12,11),
&quot;1620&quot;,	(a:18,24,6,11,25,4,19,4,13,9,4,20,2,22,18,6,22,19,12,12,2,14,5,16,0),
&quot;1630&quot;,	(a:18,24,20,4,16,3,22,13,8,17,6,16,12,23,15,13,3,10,10,7,14,4,13,25,7),
&quot;1640&quot;,	(a:2,9,23,10,12,2,21,16,20,14,14,13,8,19,18,16,2,5,22,16,17,22,9,16,0),
&quot;1650&quot;,	(a:9,19,12,4,6,20,21,20,18,13,11,15,20,23,23,15,15,20,3,0,17,3,20,9,0),
&quot;1660&quot;,	(a:7,15,7,15,7,5,0,19,24,6,10,22,23,5,12,9,0,8,7,18,19,22,7,22,13),
&quot;1670&quot;,	(a:8,25,7,17,24,18,22,17,3,5,6,5,19,8,16,24,12,12,2,24,24,25,20,10,25),
&quot;1680&quot;,	(a:18,2,6,23,0,18,21,23,18,15,22,16,7,25,4,1,20,24,20,7,8,18,1,16,25),
&quot;1690&quot;,	(a:23,23,19,7,18,19,15,7,2,21,17,2,24,7,19,7,23,0,20,1,12,18,22,19,4),
&quot;1700&quot;,	(a:22,0,21,24,1,3,3,18,23,23,24,18,13,3,14,11,1,20,5,20,7,19,19,12,2),
&quot;1710&quot;,	(a:1,2,22,16,9,7,7,8,8,10,17,17,8,1,17,20,6,11,12,25,4,23,21,13,23),
&quot;1720&quot;,	(a:25,5,24,14,5,3,19,6,22,1,16,6,14,24,8,24,0,14,19,12,1,19,3,8,12),
&quot;1730&quot;,	(a:17,4,1,7,20,11,15,1,13,15,21,14,10,10,0,2,9,17,0,17,10,6,22,23,10),
&quot;1740&quot;,	(a:0,14,15,15,20,7,19,15,10,24,2,10,0,13,24,24,7,5,2,13,20,0,1,7,20),
&quot;1750&quot;,	(a:16,4,2,7,14,14,17,25,21,16,10,9,24,8,5,0,7,17,2,0,0,25,1,5,4),
&quot;1760&quot;,	(a:16,14,16,16,1,4,19,12,19,15,2,18,0,3,17,7,0,5,1,7,7,19,1,21,24),
&quot;1770&quot;,	(a:2,17,14,12,25,1,20,21,4,13,9,24,12,25,10,24,7,14,6,15,20,11,7,2,16),
&quot;1780&quot;,	(a:16,12,4,17,12,24,9,17,15,16,5,1,19,3,20,1,24,25,14,1,1,13,20,5,7),
&quot;1790&quot;,	(a:2,22,19,24,24,16,0,16,10,10,19,2,18,19,25,4,12,10,5,3,7,14,17,10,7),
&quot;1800&quot;,	(a:20,25,21,8,13,0,23,1,17,9,20,11,1,23,9,20,15,16,13,15,20,15,11,12,5),
&quot;1810&quot;,	(a:17,9,19,14,15,5,13,0,4,6,14,13,23,9,23,3,7,11,11,8,6,11,25,18,15),
&quot;1820&quot;,	(a:25,18,11,12,25,13,8,14,13,4,23,25,16,25,0,0,19,22,17,6,21,14,9,10,4),
&quot;1830&quot;,	(a:11,14,6,0,17,4,2,21,18,25,15,8,10,14,0,21,23,8,7,21,22,24,23,6,24),
&quot;1840&quot;,	(a:16,9,19,11,23,3,18,11,2,2,25,8,4,12,1,17,25,21,6,13,5,15,13,19,18),
&quot;1850&quot;,	(a:23,23,9,20,14,4,16,9,10,8,24,20,10,3,3,19,20,22,23,9,6,12,16,12,21),
&quot;1860&quot;,	(a:3,2,5,15,6,17,23,7,12,12,18,16,13,14,19,13,1,11,1,8,5,7,4,20,9),
&quot;1870&quot;,	(a:21,19,8,1,5,22,20,7,11,11,14,8,15,13,9,3,18,20,13,13,1,20,10,0,6),
&quot;1880&quot;,	(a:18,4,5,5,6,11,16,22,6,11,8,7,17,19,18,3,1,5,22,12,2,14,25,9,17),
&quot;1890&quot;,	(a:18,16,0,7,25,0,20,5,15,9,24,2,9,4,17,22,15,1,24,13,0,11,10,12,21),
&quot;1900&quot;,	(a:16,18,18,7,1,15,1,24,14,25,10,3,5,8,23,22,23,4,11,22,9,21,13,6,19),
&quot;1910&quot;,	(a:19,1,23,17,21,21,16,3,22,24,21,11,24,8,17,7,14,17,6,20,18,23,16,8,6),
&quot;1920&quot;,	(a:2,11,2,15,3,2,12,8,22,22,13,4,5,25,3,1,3,6,11,6,5,17,11,17,11),
&quot;1930&quot;,	(a:7,17,6,7,13,0,21,14,6,6,17,10,13,20,13,10,21,10,4,16,22,8,0,25,5),
&quot;1940&quot;,	(a:11,17,2,21,9,16,7,2,24,17,18,21,16,11,13,21,12,2,22,0,3,25,13,1,3),
&quot;1950&quot;,	(a:16,22,20,3,18,14,4,12,9,3,0,11,9,4,3,24,21,18,24,15,14,15,17,8,21),
&quot;1960&quot;,	(a:15,2,0,4,14,9,16,3,22,4,15,11,14,15,13,18,15,22,17,12,10,25,5,0,20),
&quot;1970&quot;,	(a:4,5,11,3,23,4,23,20,9,7,13,25,9,5,10,18,14,12,21,19,0,7,19,20,9),
&quot;1980&quot;,	(a:20,12,24,20,9,11,21,11,15,15,23,1,11,23,2,20,9,13,21,6,12,8,0,15,0),
&quot;1990&quot;,	(a:20,13,5,7,6,21,9,25,4,17,13,23,0,2,18,13,20,24,5,0,24,20,7,20,0),&quot;2000&quot;,	(a:10,15,15,9,17,15,14,23,19,25,13,1,22,14,4,13,18,1,25,6,4,2,13,24,20),
&quot;2010&quot;,	(a:14,19,7,24,19,0,0,0,22,24,10,20,19,18,16,5,8,14,18,18,21,3,6,10,19),
&quot;2020&quot;,	(a:23,8,24,10,13,0,9,13,24,11,11,16,10,14,13,2,14,21,2,23,10,17,12,0,7),
&quot;2030&quot;,	(a:17,4,4,10,14,13,9,22,5,25,14,5,23,12,19,9,14,10,17,2,11,4,11,4,23),
&quot;2040&quot;,	(a:10,15,17,0,4,23,18,9,25,13,0,20,20,22,4,9,14,0,11,13,21,1,23,4,6),
&quot;2050&quot;,	(a:10,2,9,16,9,12,17,11,1,9,3,1,22,2,2,21,11,21,14,23,10,12,0,8,12),
&quot;2060&quot;,	(a:19,24,8,4,2,20,7,19,18,9,4,10,16,0,21,25,5,22,4,19,18,25,3,11,21),
&quot;2070&quot;,	(a:24,9,18,19,2,11,25,3,8,4,23,1,8,23,22,9,2,18,4,23,12,16,3,14,21),
&quot;2080&quot;,	(a:17,15,11,6,9,14,0,1,8,10,10,24,5,9,24,25,11,3,15,5,16,9,5,15,2),
&quot;2090&quot;,	(a:22,20,18,6,12,6,15,1,7,2,1,1,22,10,14,3,15,3,22,19,1,7,20,3,24)
))

}
</tw-passagedata><tw-passagedata pid="45" name="random number ops" tags="startup" position="163,1536" size="100,100">{
(set: $seedIndex to 1)
(set: $seedIndex20 to 1)
(set: $seedIndex25 to 1)

&lt;!--the system needs &quot;stable random numbers&quot;, i.e. randomly generated numbers that return the same numbers every run time.--&gt;

&lt;!--returns a stable random value using the argument as a limit. essentially replaces the random function from Harlowe--&gt;	
	
(set: $srandom to 
(macro: num-type _limit, [
	(if: _limit &gt; 19)
		[(error:&quot;$srandom cannot accept argument &gt;19&quot;)]
	(set: _starter to (nth: $seedIndex, ...$randomSeed))
	(if: $seedIndex &gt; 40) [(set: $seedIndex to 1)]
	(else:) [(set: $seedIndex +=1)]
	(set: _x to _limit +1)
	($mod: _starter, _x)
	(output-data: $modulus)
	]))	
	
(set: $getBinaryValue to (macro: [
	(set: _output to (nth: $seedIndex, 0,1,0,0,1,0,1,0,0,0,1,1,1,0,1,0,0))
	(if: $seedIndex &gt; 20) [(set: $seedIndex to 1)]
	(else:) [(set: $seedIndex +=1)]
	(output-data: _output)]))

(set: $getStableRandom20 to (macro: [
	(set: _output to (nth: $seedIndex20, ...$randomSeed))
	(if: $seedIndex &gt; 20) [(set: $seedIndex to 1)]
	(set: $seedIndex20 +=1)
	(output-data: _output)]))
	

(set: $mod to 
(macro: num-type _dividend, num-type _divisor, [
	(if: _divisor &lt; 0) [(error: &quot;divisor less than 0&quot;)]
	(if: _dividend &lt; 0) [(error: &quot;dividend less than 0&quot;)]
	(if: _divisor is 0) [(set: $modulus to 0)] 
	(else:)[
	(if: _divisor &gt; _dividend)[(set: $modulus to _dividend)]
	(else:) [($mod: _dividend - _divisor, _divisor)]
	]
	(output-data:&quot;&quot;) 
	]))
	
	


	

	
&lt;!--sets a stable random value from the range -1, 0, 1.--&gt;
(set: $getTernaryValue to (macro: [
	(set: _output to (nth: $seedIndex, 0,-1,0,1,-1,0,1,1,0,-1,1,1,-1,1,1,1,0))
	(if: $seedIndex &gt; 20) [(set: $seedIndex to 1)]
	(else:) [(set: $seedIndex +=1)]
	(output-data: _output)]))
		

}</tw-passagedata><tw-passagedata pid="46" name="srandom test" tags="" position="74,1680" size="100,100">(set: $randomSeed to (str: 30) of $randomMaps)
(set: $xoij to ($srandom: 1))
$xoij
(set: $xoij to ($srandom: 1))
$xoij
(set: $xoij to ($srandom: 1))
$xoij
(set: $xoij to ($srandom: 1))
$xoij
(set: $xoij to ($srandom: 1))
$xoij
(set: $xoij to ($srandom: 1))
$xoij
(set: $xoij to ($srandom: 1))
$xoij
(set: $xoij to ($srandom: 1))
$xoij
(set: $xoij to ($srandom: 1))
$xoij
(set: $xoij to ($srandom: 1))
$xoij
(set: $xoij to ($srandom: 1))
$xoij
(set: $xoij to ($srandom: 1))
$xoij
(set: $xoij to ($srandom: 1))
$xoij
(set: $xoij to ($srandom: 1))
$xoij
(set: $xoij to ($srandom: 1))
$xoij
(set: $xoij to ($srandom: 1))
$xoij
(set: $xoij to ($srandom: 1))
$xoij</tw-passagedata><tw-passagedata pid="47" name="port2" tags="" position="1130,1357" size="100,100">{
(if: $floorInt is 11)[&lt;script&gt;CustomScripts.updateBackground(1133);&lt;/script&gt;]
}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[You arrive at the buzzing port of La Rochelle, where merchants sail to England and points south. Fishermen carry teeming baskets of fish from the ocean and the sea air is skewered by the shrieks of hungry gulls. (if: $homeCity is &quot;Bishop&#39;s Lynn&quot;)[Before you can even find your bearings, rough men bundle you into a prison carriage. You learn you have been summoned to the court of Eleanor of Aquitaine at [[Poitiers-&gt;Poitiers]].(set: $homeCity to &quot;La Rochelle&quot;)(set: $foreignCity to &quot;Bishop&#39;s Lynn&quot;)] (else:) [A ship is sailing for Bishop&#39;s Lynn in The Wash. You may [[take it-&gt;atSea]] if you wish, or head back to [[Poitiers-&gt;Poitiers]].]
]</tw-passagedata><tw-passagedata pid="48" name="Poitiers" tags="" position="1262,1357" size="100,100">{(if: $floorInt is 11)[&lt;script&gt;CustomScripts.updateBackground(1131);&lt;/script&gt;]
(if: $downOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 3&quot;)]
(if: $upOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 0&quot;)]
(if: $rightOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 8&quot;)]
(if: $leftOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 5&quot;)]
}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[(if: $floorInt is 11)[You are somewhere in the Maubergeonne Tower in Poitiers, where Eleanor of Aquitaine presides over matters of fidelity and marriage. To [[explore the tower-&gt;$startRoom]] you must go $rightOnNexusMap. Or you may head [[back to La Rochelle-&gt;port2]] to seek a ship back to England.]
]</tw-passagedata><tw-passagedata pid="49" name="atSea" tags="" position="995,1355" size="100,100">(if: $floorInt is 11)[&lt;script&gt;CustomScripts.updateBackground(1134);&lt;/script&gt;]
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[(if: $floorInt is 11) [You are sailing the rough seas from $homeCity to $foreignCity. At last, after three days of travel, you weigh anchor at (if: $foreignCity is &quot;La Rochelle&quot;)[[[La Rochelle-&gt;port2]].](else:)[[[Bishop&#39;s Lynn-&gt;port1]](set: $homeCity to &quot;Bishop&#39;s Lynn&quot;)(set: $foreignCity to &quot;La Rochelle&quot;).]]
]</tw-passagedata><tw-passagedata pid="50" name="port1" tags="" position="849,1349" size="100,100">(if: $floorInt is 11)[&lt;script&gt;CustomScripts.updateBackground(1132);&lt;/script&gt;]
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[(if: $floorInt is 11) [You are at the dockside at the murky port of Bishop&#39;s Lynn. It is late. The fishermen and merchants have long since unloaded their boats and only thieves prowl the streets beside the wharf. You may climb aboard [[a lonely ship-&gt;atSea]] that has been unexpectedly delayed and which soon sets sail for La Rochelle. Alternatively, you may head inland towards [[Sherwood Forest-&gt;complex three]].]
]</tw-passagedata><tw-passagedata pid="51" name="Untitled Passage" tags="" position="38,938" size="100,100">(set: $rotate90up to 
	(macro: str-type _direction, [
		(set: _output to (cond: 
			_direction is $upOnScreen, $upVariable,
			_direction is $upVariable, $downOnScreen,
			_direction is $downOnScreen, $downVariable,
			_direction is $downVariable, $upOnScreen,
			&quot;error: rotate90up received direction of wrong form&quot;
			))
		(output-data: _output)
		]
		))
		
(set: $setTowerVariables to 
(macro: [
	(set: $upOnScreen to $upOnScreen)
	(set: $downOnScreen2 to $downOnScreen)
	(set: $rightOnScreen2 to $rightOnScreen)
	(set: $leftOnScreen2 to $leftOnScreen)
	(set: _x to ($srandom: 3))
	(if: _x is even)[
		(set: $upOnScreen2 to ($rotate45: $upOnScreen))
		(set: $downOnScreen2 to ($rotate45: $downOnScreen))
		]
	(if: _x &gt; 1) [
		(set: $rightOnScreen2 to ($rotate45: $rightOnScreen))
		(set: $leftOnScreen2 to ($rotate45: $leftOnScreen))
		]

	(output-data: &quot;&quot;)
	]))


(set: $setTowerVariables to 
(macro: [
	(set: $upOnScreen2 to $upOnScreen)
	(set: $downOnScreen2 to $downOnScreen)
	(set: $rightOnScreen2 to $rightOnScreen)
	(set: $leftOnScreen2 to $leftOnScreen)
	(set: _x to ($srandom: 1))
	(if: _x is 0)[
		(set: $upVariable to $upOnScreen)
		(set: $upOnScreen to $downVariable)
		(set: $downVariable to $downOnScreen)
		(set: $downOnScreen to $upVariable)
		]
	(if: _x is 1)[
		(set: $upVariable to $rightOnScreen)
		(set: $rightOnScreen to $downVariable)
		(set: $downVariable to $leftOnScreen)
		(set: $leftOnScreen to $upVariable)
		]
	(output-data: &quot;&quot;)
	]))</tw-passagedata><tw-passagedata pid="52" name="wreckStory" tags="" position="488,2226" size="100,100">{(set: $japanBattle to &quot;inbound&quot;)
(if: $floorInt is 12)[&lt;script&gt;CustomScripts.updateBackground(1281);&lt;/script&gt;]}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[The battle off the coast of Japan is going well for the Mongols when, unexpectedly, a typhoon sweeps in. Tempest tossed, your ship is breaking into pieces! You can [[swim for another boat-&gt;$startRoom]] or [[swim back to the coast-&gt;complex eight]]. 
]</tw-passagedata><tw-passagedata pid="53" name="burning merv" tags="" position="290,1919" size="100,100">{(set: $mervDirection to &quot;outbound&quot;)
(if: $floorInt is 12)[&lt;script&gt;CustomScripts.updateBackground(1293);&lt;/script&gt;]
}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[You enter the city. At first it seems deserted, but then you see a dead body, and another, and another. A moment later you smell burning. Turning, you see several buildings on fire, and more fiery arrows tracing arcs through the sky. You may turn to [[hurry back-&gt;complex nine]] the way you came, or you can [[continue to explore-&gt;$startRoom]] despite the fires.  
]</tw-passagedata><tw-passagedata pid="54" name="environments" tags="" position="67,803" size="100,100">{
(set: $roomAdjective to &quot;a &quot;)
(set: $forests to (a:400,500,860,900,1100,1320,1490))
(set: $jungles to (a:1400))
(set: $mountainsides to (a: 920,1270))
(set: $villages to (a: 260,580,660,690,1200,1210,1230,1250,1260,1290,1340,1390,1420,1440))
(set: $hashishQuarters to (a:610))
(set: $penalQuarters to (a: 680))
(set: $markets to (a:640))
(set: $slaveMarkets to (a:160,760))
(set: $churches to (a: 70,380,770,870,970,1000,1010,1020,1030,1040,1060,1070,1080,1170,1370,1470))
(set: $camps to (a:210,410,510,960,990,1110,1140,1150,1240,1330,1430))
(set: $swamps to (a:800,810,880,890))
(set: $parks to (a: 0,100,200,370,470))
(set: $arbors to (a:1090))
(set: $caves to (a: 560))
(set: $cemeteries to (a: 190,290))
(set: $barrows to (a:590))
(set: $battlefields to (a: 350,550,1350,1450))
(set: $farms to (a:300,600,1300)) 
(set: $buildings to (a:40,80,140,240,340,440,520,730,830,940,1220,1360))
(set: $temples to (a:170,270,430))
(set: $mosques to (a:670))
(set: $monasteries to (a:930,1030))
(set: $vestals to (a:130))

(set: $brothels to (a:230))
(set: $palaces to (a:570,630,740,850,1130,1310))
(set: $barracks to (a: 120,150,250,750,1050,1120))
(set: $castles to (a:540,650,840,1180))
(set: $jails to (a:60,460,1160,1460))
(set: $inquisitors to (a:1480))
(set: $surgeries to (a:180,280,480,780,980,1380))
(set: $crypts to (a:90,390,490,790))
(set: $libraries to (a:420,620,720,820))
(set: $schools to (a:220,320))
(set: $courthouses to (a:950))
(set: $lakesides to (a:530))
(set: $armories to (a: 50,450))
(set: $ships to (a: 1190,1280))
(set: $hypogea to (a:10))
(set: $menageries to (a:700))
(set: $arenas to (a:110,310,910,1110,1410))
(set: $fruments to (a:20))
(set: $breweries to (a:30))
(set: $triclinia to (a:330))
(set: $mines to(a:360))
(set: $plaguePits to(a:490))

(set: $hypogeum to 
(macro: [	
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;the &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;winch room&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;chamber of the balatrones&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $roomAdjective to &quot;the &quot;)(set: $phrase to _prep + $roomAdjective + &quot;chamber of the master of ceremonies&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;chamber of the Pantomimi&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;basement area&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;gladiator&#39;s chamber&quot;)]
		(if: $thisRoomsNumber is 6) [(set: _prep to &quot;amongst &quot;)(set: $phrase to _prep + $roomAdjective + &quot;caged beasts&quot;)]
		(if: $thisRoomsNumber is 7) [(set: _prep to &quot;amongst &quot;)(set: $phrase to _prep + $roomAdjective + &quot;shackled Christians&quot;)]
		(if: $thisRoomsNumber is 8) [(set: _prep to &quot;amongst &quot;)(set: $phrase to _prep + $roomAdjective + &quot;wounded gladiators&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;morgue&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $brewery to 
(macro: [	
	($building:)
	(set: _prep to &quot;by &quot;)
	(set: $roomAdjective to &quot;the &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;stills&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;wine barrels&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;beer barrels&quot;)]
		(if: $thisRoomsNumber is 6) [(set: _prep to &quot;amongst &quot;)(set: $phrase to _prep + $roomAdjective + &quot;secret brew&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;slop bucket&quot;)]
		(output-data: &quot;&quot;)
		]
		))

(set: $arena to 
(macro: [	
	(set: _prep to &quot;at &quot;)
	(set: $roomAdjective to &quot;the &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;beginner&#39;s competition area&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;practice area&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;coach&#39;s bench&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;cheerleader&#39;s bench&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;competitor&#39;s bench&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;competition space&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;sin bin&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;religious shrine&quot;)]
		(if: $thisRoomsNumber is 8) [(set: _prep to &quot;in &quot;)(set: $phrase to _prep + $roomAdjective + &quot;injury tent&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;morgue&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $armory to 
(macro: [	
	(set: _prep to &quot;in &quot;)
	(if: $decadeNumber is 400)[(set: $roomAdjective to &quot;a looted &quot;)]
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;dormitory&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;practice yard&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;military library&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;heraldry room&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;armor and light weaponry magazine&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;heavy weaponry magazine&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;brig&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;prayer room&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;repair shop&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;decommissioning room&quot;)]
		(output-data: &quot;&quot;)
		]
		))

(set: $field to 
(macro: [	
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;blackened, burned field&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;meadow of white flowers&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;pasture of pink carnations&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;red poppy field&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;field of purple lilacs&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;bluebell field&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;field of cyan lotus flowers&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;meadow of green grass&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;yellow field of wheat&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;muddy field&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $plaguePit to 
(macro: [	
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 0) [(set: _prep to &quot;within &quot;)(set: $roomAdjective to &quot;&quot;)(set: $phrase to _prep + $roomAdjective + &quot;walls of fungus covered corpses&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;buried play-park&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;buried school for children&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;chamber of dead nuns&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;buried market&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;chamber of dead soldiers&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + &quot;subterranean, walled-up&quot; + &quot;street&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + &quot;collapsed, subterranean&quot; + &quot;chapel&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;chamber of partial bodies&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;repository for random bones and partial human remains&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $ship to 
(macro: [	
	(set: _prep to &quot;on &quot;)
	(set: $roomAdjective to &quot;the &quot;)
		(if: $thisRoomsNumber is 0) [(set: _prep to &quot;below &quot;)(set: $roomAdjective to &quot; &quot;)(set: $phrase to _prep + $roomAdjective + &quot;deck&quot;)]
		(if: $thisRoomsNumber is 1) [(set: _prep to &quot;in &quot;)(set: $phrase to _prep + $roomAdjective + &quot;crow&#39;s nest&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;navigation deck&quot;)]
		(if: $thisRoomsNumber is 3) [(set: _prep to &quot;at &quot;)(set: $phrase to _prep + $roomAdjective + &quot;mast head&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;aft deck&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;stern deck&quot;)]
		(if: $thisRoomsNumber is 6) [(set: _prep to &quot;in &quot;)(set: $phrase to _prep + $roomAdjective + &quot;brig&quot;)]
		(if: $thisRoomsNumber is 7) [(set: _prep to &quot;in &quot;)(set: $phrase to _prep + $roomAdjective + &quot;Chaplain&#39;s quarters&quot;)]
		(if: $thisRoomsNumber is 8) [(set: _prep to &quot;in &quot;)(set: $roomAdjective to &quot;the cramped &quot;)(set: $phrase to _prep + $roomAdjective + &quot;sick bay&quot;)]
		(if: $thisRoomsNumber is 9) [(set: _prep to &quot;in &quot;)(set: $roomAdjective to &quot; &quot;)(set: $phrase to _prep + $roomAdjective + &quot;cold storage&quot;)]
		(output-data: &quot;&quot;)
		]
		))


(set: $swamp to 
(macro: [	
	(set: _prep to &quot;wading through &quot;)
	(set: $roomAdjective to &quot;some &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;black mud&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;white algae&quot;)]
		(if: $thisRoomsNumber is 2) [(set: _prep to &quot;among &quot;)(set: $phrase to _prep + $roomAdjective + &quot;pink thistles&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;red grass&quot;)]
		(if: $thisRoomsNumber is 4) [(set: _prep to &quot;among &quot;)(set: $phrase to _prep + $roomAdjective + &quot;purple thorn bushes&quot;)]
		(if: $thisRoomsNumber is 5) [(set: _prep to &quot;among &quot;)(set: $phrase to _prep + $roomAdjective + &quot;blueberry bushes&quot;)]
		(if: $thisRoomsNumber is 6) [(set: _prep to &quot;under &quot;)(set: $roomAdjective to &quot;a &quot;)(set: $phrase to _prep + $roomAdjective + &quot;clear blue-green sky&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;green grass&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;yellow grass&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;brown mud&quot;)]
		(output-data: &quot;&quot;)
		]
		))

(set: $battlefield to 
(macro: [	
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a smoky, noisy &quot;)
	($field:)
		(if: $thisRoomsNumber is 2) [(set: $phrase to it + &quot;, where horsed generals decide on their next move&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to it + &quot;, across which deserters are making their escape&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to it + &quot;, in the thick of the fighting&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to it + &quot;, where a priest comforts the dying&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to it + &quot;, amongst the screaming and wounded&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to it + &quot;, amongst the throngs of the glorious dead&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $park to 
(macro: [
	(if: $decadeNumber is 470)[(set: $roomAdjective to &quot;an overgrown &quot;)]
	(set: _prep to &quot;by &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;bed of black shale&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;plot of white flowers&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;bed of pink carnations&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;bed of red poppies&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;display of purple lilacs&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;display of bluebells&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;display of cyan lotus flowers&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;grassy allotment&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;circle of yellow sunflowers&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;brown wooden bench&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $arbor to 
(macro: [
	($park:)
	(set: _prep to &quot;by &quot;)
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;shrine&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;monument and sarcophagus&quot;)]
		(output-data: &quot;&quot;)
		]
		))

(set: $camp to 
(macro: [
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;tent for playing dice&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;tent for putting on armor&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;tent for prisoners&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;tent for the wounded&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;tent for the dead&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $menagerie to 
(macro: [
	($camp:)
	(set: _prep to &quot;by &quot;)
	(set: $roomAdjective to &quot;a &quot;)
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;display of African monkeys&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;display of hanging sloths&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;chained tiger&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;sickly rhinocerous&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;dead elephant&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		

(set: $village to 
(macro: [	
	(set: _prep to &quot;in &quot;)
	(if: $decadeNumber is 690)[(set: $roomAdjective to &quot;an abandoned &quot;)]
	(if: $decadeNumber is 1200)[(set: $roomAdjective to &quot;a flooded &quot;)]
	(if: $decadeNumber is 1250)[(set: $roomAdjective to &quot;an abandoned, looted &quot;)]
	(if: $decadeNumber is 1290)[(set: $roomAdjective to &quot;the blazing remains of a &quot;)]
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;blacksmith&#39;s&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;tavern&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;school&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;brothel&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;market&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;courthouse&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;sheriff&#39;s jailhouse&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;church&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;apothecary&#39;s&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;mortician&#39;s&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $market to 
(macro: [	
	($village:)
	(set: _prep to &quot;at &quot;)
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;beer brewer&#39;s&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;book seller&#39;s&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;dressmaker&#39;s&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;grocer&#39;s&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;armorer&#39;s&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;locksmith&#39;s&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;psychic&#39;s&quot;)]
		(set: $phrase to it + &quot; stall&quot;)
		(output-data: &quot;&quot;)
		]
		))

(set: $slaveMarket to 
(macro: [	
	($market:)
	(set: _prep to &quot;at &quot;)
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;beer brewer&#39;s&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;book seller&#39;s&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;sex slave auction&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;house slave auction&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;gladiator&#39;s auction&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;locksmith&#39;s&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;psychic&#39;s&quot;)]
		(set: $phrase to it + &quot; stall&quot;)
		(output-data: &quot;&quot;)
		]
		))
		
(set: $penalQuarter to 
(macro: [	
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;blacksmith&#39;s&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;witness&#39;s space, for watching the punishments&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;children&#39;s prison&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;women&#39;s prison&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;execution square&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;gaol&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;whipping post&quot;)]
		(output-data: &quot;&quot;)
		]
		))

(set: $hashishQuarter to 
(macro: [
	($village:)
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;hashish grower&#39;s&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;hashish bar&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;grower&#39;s bookshop&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;gang den&quot;)]
		(output-data: &quot;&quot;)
		]
		))

(set: $forest to 
(macro: [	
	(set: _prep to &quot;by &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;gnarly oak&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;rope swing&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;brook&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;tree, around which nymph lights shine&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $roomAdjective to &quot;some&quot;)(set: $phrase to _prep + $roomAdjective + &quot;cliffs&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;mine shaft&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;burned out campfire&quot;)]
		(if: $thisRoomsNumber is 7) [(set: _prep to &quot;in &quot;)(set: $phrase to _prep + $roomAdjective + &quot;sacred grove&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;fallen tree&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;carcass&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $lakeside to 
(macro: [	
	($forest:)
	(set: _prep to &quot;by &quot;)
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;rope swing&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;warning sign&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;nymph&#39;s lagoon&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;boat&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $roomAdjective to &quot;&quot;)(set: $phrase to _prep + $roomAdjective + &quot;marshes&quot;)]
		(if: $thisRoomsNumber is 7) [(set: _prep to &quot;in &quot;)(set: $phrase to _prep + $roomAdjective + &quot;ruined chapel&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;shore of dead fish&quot;)]
		(output-data: &quot;&quot;)
		]
		))

(set: $jungle to 
(macro: [	
	($forest:)
	(set: _prep to &quot;by &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;twisting vine&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;river&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;a golden statue of some naked goddess&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;clearing filled with snakes&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;pit trap&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $mountainside to 
(macro: [	
	($forest:)
	(set: _prep to &quot;by &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;pine tree&quot;)]
		(if: $thisRoomsNumber is 2) [(set: _prep to &quot;at &quot;)(set: $phrase to _prep + $roomAdjective + &quot;plateau with a breathtaking view over the valley below&quot;)]
		(if: $thisRoomsNumber is 3) [(set: _prep to &quot;in &quot;)(set: $phrase to _prep + $roomAdjective + &quot;lair of a mountain hag&quot;)]
		(if: $thisRoomsNumber is 7) [(set: _prep to &quot;near &quot;)(set: $phrase to _prep + $roomAdjective + &quot;high point above the clouds&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;pile of boulders, left from a rockfall&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;carcass&quot;)]
		(output-data: &quot;&quot;)
		]
		))
	
(set: $cemetery to 
(macro: [	
	(set: _prep to &quot;by &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;willow&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;statue&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;mausoleum&quot;)]
		(if: $thisRoomsNumber is 3) [(set: _prep to &quot;on &quot;)(set: $phrase to _prep + $roomAdjective + &quot;unconsecrated ground&quot;)]
		(if: $thisRoomsNumber is 4) [(set: _prep to &quot;in &quot;)(set: $phrase to _prep + $roomAdjective + &quot;gravedigger&#39;s cottage&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;warrior&#39;s cenotaph&quot;)]
		(if: $thisRoomsNumber is 6) [(set: _prep to &quot;in &quot;)(set: $phrase to _prep + $roomAdjective + &quot;charnel&quot;)]
		(if: $thisRoomsNumber is 7) [(set: _prep to &quot;in &quot;)(set: $phrase to _prep + $roomAdjective + &quot;chapel of rest&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;pillaged grave&quot;)]
		(if: $thisRoomsNumber is 9) [(set: _prep to &quot;in &quot;)(set: $phrase to _prep + $roomAdjective + &quot;columbarium&quot;)]
		(output-data: &quot;&quot;)
		]
		))

(set: $barrow to 
(macro: [	
	($cemetery:)
	(set: _prep to &quot;by &quot;)
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;wickerman&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;mound&quot;)]
		(if: $thisRoomsNumber is 3) [(set: _prep to &quot;on &quot;)(set: $phrase to _prep + $roomAdjective + &quot;bitter ground&quot;)]
		(if: $thisRoomsNumber is 4) [(set: _prep to &quot;in &quot;)(set: $phrase to _prep + $roomAdjective + &quot;gravedigger&#39;s hut&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;megalith&quot;)]
		(if: $thisRoomsNumber is 6) [(set: _prep to &quot;in &quot;)(set: $phrase to _prep + $roomAdjective + &quot;charnel&quot;)]
		(if: $thisRoomsNumber is 7) [(set: _prep to &quot;in &quot;)(set: $phrase to _prep + $roomAdjective + &quot;circle of stones&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;pillaged mound&quot;)]
		(if: $thisRoomsNumber is 9) [(set: _prep to &quot;in &quot;)(set: $phrase to _prep + $roomAdjective + &quot;burned down pyre&quot;)]
		(output-data: &quot;&quot;)
		]
		))

(set: $cave to 
(macro: [	
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 0) [(set: _prep to &quot;beneath &quot;)(set: $phrase to _prep + $roomAdjective + &quot;tangle of tree roots&quot;)]
		(if: $thisRoomsNumber is 1) [(set: _prep to &quot;by &quot;)(set: $phrase to _prep + $roomAdjective + &quot;waterfall&quot;)]
		(if: $thisRoomsNumber is 2) [(set: _prep to &quot;by &quot;)(set: $phrase to _prep + $roomAdjective + &quot;rock wall encrusted with crystals&quot;)]
		(if: $thisRoomsNumber is 3) [(set: _prep to &quot;on &quot;)(set: $phrase to _prep + $roomAdjective + &quot;lair of a cave hag&quot;)]
		(if: $thisRoomsNumber is 4) [(set: _prep to &quot;in &quot;)(set: $phrase to _prep + $roomAdjective + &quot;grotto&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;cavern filled with bats&quot;)]
		(if: $thisRoomsNumber is 6) [(set: _prep to &quot;in &quot;)(set: $phrase to _prep + $roomAdjective + &quot;cavern with shackles dangling from the walls&quot;)]
		(if: $thisRoomsNumber is 7) [(set: _prep to &quot;in &quot;)(set: $phrase to _prep + $roomAdjective + &quot;slab of rock, which might be an altar&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;collapsed cavern&quot;)]
		(if: $thisRoomsNumber is 9) [(set: _prep to &quot;by &quot;)(set: $phrase to _prep + $roomAdjective + &quot;deep hole that descends as far as Hades itself&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		

(set: $mine to 
(macro: [	
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 0) [(set: _prep to &quot;amongst &quot;)(set: $phrase to _prep + $roomAdjective + &quot;child laborers&quot;)]
		(if: $thisRoomsNumber is 3) [(set: _prep to &quot;amongst &quot;)(set: $phrase to _prep + $roomAdjective + &quot;female miners&quot;)]
		(if: $thisRoomsNumber is 7) [(set: _prep to &quot;by &quot;)(set: $phrase to _prep + $roomAdjective + &quot;shaft of light&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;collapsed mine face&quot;)]
		(output-data: &quot;&quot;)
		]
		))

(set: $farm to 
(macro: [	
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;vegetable field&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;paddock, where white stallions graze&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;pig pen&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;rooster&#39;s yard&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;farm house&quot;)]
		(if: $thisRoomsNumber is 5) [(set: _prep to &quot;by &quot;)(set: $phrase to _prep + $roomAdjective + &quot;water trough&quot;)]
		(if: $thisRoomsNumber is 6) [(set: _prep to &quot;by &quot;)(set: $phrase to _prep + $roomAdjective + &quot;fox trap&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;grazing pasture&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;field of yellow corn&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;freshly ploughed field&quot;)]
		(output-data: &quot;&quot;)
		]
		))

(set: $building to 
(macro: [	
	(set: _prep to &quot;in &quot;)
		(if: $decadeNumber is 520)[(set: $roomAdjective to &quot;a cavernous &quot;)]
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;mess hall&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;nursery&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;study&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;kitchen&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;lounge&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;safe room&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;courtyard&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;chapel&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;latrine&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;garbage disposal&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $frument to 
(macro: [	
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;chess room&quot;)]
		(if: $thisRoomsNumber is 5) [(set: _prep to &quot;by &quot;)(set: $phrase to _prep + $roomAdjective + &quot;spy holes&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;documents room&quot;)]
		(if: $thisRoomsNumber is 7) [(set: _prep to &quot;by &quot;)(set: $phrase to _prep + $roomAdjective + &quot;prayer mat&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $library to 
(macro: [	
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;the&quot;)
	(if: $decadeNumber is 820)[(set: $roomAdjective to &quot;the flooded &quot;)]
	(if: $decadeNumber is 420)[(set: $roomAdjective to &quot;the ruins of the &quot;)]
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;cosmology section&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;light reading section&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;science section&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;women&#39;s section&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;reading room&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;military section&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;law and penology section&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;religion section&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;book restoration room&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;necromancy section&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $school to 
(macro: [	
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;the &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;neophyte&#39;s quarters&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;chess room&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;study hall&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;women&#39;s quarters&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;scholar&#39;s lounge&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;examination hall&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;cloister&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;chapel&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;remediation hall&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;emeritus chambers&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $crypt to 
(macro: [	
	(set: _prep to &quot;in &quot;)
		(if: $decadeNumber is 390)[(set: $roomAdjective to &quot;a lightly flooded &quot;)]
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;pitch black tomb&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;child&#39;s tomb&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;chamber of steles, inscribed with epitaphs&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;wives&#39; tomb&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;treasury&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;funereal weapons repository&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;skeleton-filled immurement chamber&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;shrine&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;partially collapsed chamber&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;main tomb&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		

		
(set: $surgery to 
(macro: [	
	($building:)
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;medicine closet&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;examination room&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;constraint room&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $jail to 
(macro: [	
	($building:)
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;pitch black cell&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;well lit cell&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;purple cell for distinguished personae&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;cold cell&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;prison yard&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $courthouse to 
(macro: [	
	($jail:)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;the &quot;)
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;accused&#39;s cell&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;counsellor&#39;s library&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;judge&#39;s chambers&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;courtroom&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;scaffold&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $inquisitor to 
(macro: [	
	($jail:)
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;torture chamber&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $palace to 
(macro: [	
	($building:)
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;court room&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;armory&quot;)]
		(output-data: &quot;&quot;)
		]
		))

(set: $barrack to 
(macro: [	
	($building:)
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;dining room&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;mess&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;practice yard&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;dormitory&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;armory&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $castle to 
(macro: [	
	($barrack:)
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;court room&quot;)]
		(output-data: &quot;&quot;)
		]
		))

(set: $church to 
(macro: [	
	($building:)
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;function room&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;choir&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;nave&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;confessional&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;penance cell&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;spire&quot;)]

		(output-data: &quot;&quot;)
		]
		))
		
(set: $monastery to 
(macro: [	
	($church:)
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;cloister&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;workroom&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;chapel&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $vestal to 
(macro: [	
	($monastery:)
	($set: $phrase to it + &quot; in the Atrium Vestiae&quot;)
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;choral chamber in the Atrium Vestiae&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;chamber of the sacred spring in the temple of Vesta&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;sacred flame chamber in the temple of Vesta &quot;)]
		(output-data: &quot;&quot;)
		]
		))

(set: $temple to 
(macro: [	
	($church:)
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;bema&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;forum&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;private prayer room&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;tower&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $mosque to 
(macro: [	
	($church:)
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;function room&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;choir&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;musalla&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;confessional&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;ablution area&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;minaret&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $brothel to 
(macro: [	
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;private lounge&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;boudoir&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;peeping closet&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;backyard&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;bondage room&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;changing room&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;medical room&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $triclinium to 
(macro: [	
	($building:)
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + &quot;a dark, shady &quot; + &quot;private apse&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + &quot;a well lit &quot; + &quot;lover&#39;s apse&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;peeper&#39;s balcony&quot;)]
		(if: $thisRoomsNumber is 5) [(set: _prep to &quot;by &quot;)(set: $phrase to _prep + $roomAdjective + &quot;chaperone&#39;s seat&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;courtyard&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;statue of Venus&quot;)]
		(output-data: &quot;&quot;)
		]
		))
}

		</tw-passagedata><tw-passagedata pid="55" name="Berold of Rouen" tags="" position="168,1919" size="100,100">[&lt;script&gt;CustomScripts.updateBackground(-2);&lt;/script&gt;]
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[&quot;Bonjour,&quot; says the butcher, &quot;I am Berold of Rouen, the only survivor of the wreck of the white ship. But that was a long time ago, when I was much younger. (link: &#39;Shall we cast our minds back to when it happened?&quot;&#39;)[==&quot;The year was 1120. The passengers included King Henry I&#39;s son and heir, William Adelin, Duke of Normandy, as well as the King&#39;s bastard son Richard of Lincoln and his bastard daughter Matilda FitzRoy, Countess of Perche. I was only there to collect debts owed to me by the passengers.&quot;] 

When you are done speaking with the butcher, you may [[go back to exploring the ship-&gt;complex nine]]. 
]</tw-passagedata><tw-passagedata pid="56" name="William Adelin" tags="" position="1996,307" size="100,100">[&lt;script&gt;CustomScripts.updateBackground(-3);&lt;/script&gt;]
(border-color: black) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[
The corpse stirs in its black shroud. It&#39;s eyes flicker open and it speaks. &quot;Who are you stranger?&quot; it asks, &quot;And why do you disturb my peace?&quot; You demand that it reveal its name to you. &quot;I am William Adelin,&quot; the corpse replies, &quot;Heir to Henry I. Wait a minute. I never became King, did I? I was on a ship... I died on the white ship.&quot; Sobbing, the corpse falls back into eternal rest. You may go back to exploring [[the New Temple.-&gt;room 0]].[]
]</tw-passagedata><tw-passagedata pid="57" name="Stephen of Blois" tags="" position="1282,874" size="100,100">[&lt;script&gt;CustomScripts.updateBackground(-4);&lt;/script&gt;]
(border-color: blue) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[&quot;Hail Sir Knight!&quot; you say. &quot;I am no knight,&quot; the blue warrior replies, &quot;I am a King, and this is the year I seized the throne. The crowds of London chanted my name, you know? They recognized Stephen their king. And my younger brother, Henry, Bishop of Winchester, secured the support of the church. By right, then, did I take the throne of England!&quot; If you are satisfied you may go back to exploring [[the Maubergeonne Tower-&gt;room 5]].[]
]</tw-passagedata><tw-passagedata pid="58" name="Stephen&#39;s death" tags="" position="1290,596" size="100,100">[&lt;script&gt;CustomScripts.updateBackground(-5);&lt;/script&gt;]
(set: $Stephen to &quot;dead&quot;)
(border-color: purple) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[
The once mighty King squints at you. &quot;Eustace? My son, is that you? No, no, it can&#39;t be. My heir is dead. And now a Henry replaces me, as I replaced a Henry. I should never have agreed to it, but what was left to fight for, after the death of my beloved Eustace?&quot; 

The old man&#39;s eyes fall shut. He snorts once, mocking the arrogance of mortal kings, and departs. Quietly, you may go back to exploring [[the crusader&#39;s camp-&gt;room 4]].
]</tw-passagedata><tw-passagedata pid="59" name="Treaty of Wallingford" tags="" position="1673,1028" size="100,100">[&lt;script&gt;CustomScripts.updateBackground(-6);&lt;/script&gt;]
(border-color: red) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[
You read the document, which is inked in Latin. It it the Treaty of Wallingford, also known as the Treaty of Winchester or the Treaty of Westminster. It states that the aging Stephen, King, is to keep the throne of England until his death, and that he will be succeeded by Henry FitzEmpress, the Empress Matilda&#39;s son, who will be styled Henry II.

When you are finished reading it you may (if: $Eustace is not &quot;dead&quot;)[[[speak to the ailing nobleman-&gt;Eustace IV]], or] go back to exploring [[the crusader&#39;s camp-&gt;room 3]].
]</tw-passagedata><tw-passagedata pid="60" name="Eustace IV" tags="" position="1803,1026" size="100,100">[&lt;script&gt;CustomScripts.updateBackground(-7);&lt;/script&gt;]
(set: $Eustace to &quot;dead&quot;)
(border-color: red) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[
&quot;I am Eustace IV,&quot; the red nobleman says, &quot;Count of Boulogne and son and heir to the rightful King, Stephen. I die so young... perhaps I am murdered.&quot; You ask him who would want him dead. &quot;Everyone!&quot;, he laughs cynically, before breaking down into a coughing spasm. &quot;The Peterborough Chronicle says I am evil, a man who despoils the land and taxes the people til they bleed. With my death my father will parley for peace and the people will celebrate the end of this vicious anarchy. And most happy of all will be the ruthless usurper Henry Curtmantle. His will be the throne, and his obedient scribes will surely unwrite the history of my murder.&quot; 

With that, the young nobleman dies. You may [[read the document-&gt;Treaty of Wallingford]] that hangs from his loose fingers, or go back to exploring [[the crusader&#39;s camp-&gt;room 3]].
]</tw-passagedata><tw-passagedata pid="61" name="Henry II birth" tags="" position="1913,1026" size="100,100">[&lt;script&gt;CustomScripts.updateBackground(-8);&lt;/script&gt;]
(set: $henrysDragon to &quot;hatched&quot;)
(border-color: red) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[
You pull at the pieces of shell, and the head of a baby red dragon emerges. You know that a dragon hatches whenever a king is born, but here in the year of 1133, which King does this red dragon&#39;s birth commemorate? As you lean in, the dragon speaks its riddle.
&quot;My mother an Empress
Shall be denied her throne
A king and queen I&#39;ll fight
But as king I&#39;ll rule alone
My own queen will desert me
She shares my iron will 
My sons revolt against me
And my best friend I&#39;ll kill
Who am I?&quot; 

After contemplating the dragon&#39;s riddle, you may go back to exploring [[the Maubergeonne Tower-&gt;room 3]].
]</tw-passagedata><tw-passagedata pid="62" name="Becket murdered" tags="" position="2114,310" size="100,100">{[&lt;script&gt;CustomScripts.updateBackground(-11);&lt;/script&gt;]
}
(border-color: black) + (border:&quot;solid&quot;) + (b4r-size:4) + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[&quot;I am Thomas Becket,&quot; the window says, &quot;Best friend to King Henry II. Or so I thought, until he sent his knights here to kill me, on the altar of this very cathedral. It happened in this very year. But what year is it?&quot; 

To your horror, you realize you are blinded. You try to feel your way free, but every direction seems to be blocked. You cannot leave until you answer the question. (link: &#39;You must try to answer.&#39;)[==  

(set: $becketsDeath to (prompt: &quot;What year was Becket murdered?&quot;, &quot;&quot;, &quot;Don&#39;t care&quot;, &quot;Confirm&quot;))

(if: $becketsDeath is &quot;&quot;)[&quot;You will answer,&quot; the window wails, &quot;if you ever want to leave this place.&quot; You have no option but to [[try to answer-&gt;Becket murdered]].] 
(else:) [
(if: $becketsDeath is &quot;1170&quot;) [ [&lt;script&gt;CustomScripts.updateBackground(-9);&lt;/script&gt;]The spell is released, your vision returns, and you are free to go. When you are ready, you may go back to exploring [[Canterbury cathedral-&gt;room 0]].]] (else:) [&quot;You must give me the correct answer,&quot; the window says, &quot;or you will never be permitted to leave!&quot; You have no option but to [[try again-&gt;Becket murdered]].]]</tw-passagedata><tw-passagedata pid="63" name="Untitled Passage 1" tags="" position="1183,314" size="100,100">{(set: $hundredNumber to 0)}
($setImage:)
</tw-passagedata><tw-passagedata pid="64" name="Charlemagnes Death." tags="" position="1448,436" size="100,100">[&lt;script&gt;CustomScripts.updateBackground(-10);&lt;/script&gt;]
(border-color: purple) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{
A steel clad knight hovers in the air above you, wrapped in a purple dragon. &quot;I am Charlemagne,&quot; the voice booms, &quot;Who disturbs the year of my final rest?&quot; The purple dragon uncoils itself from the hovering king and wraps itself around the clearing, closing off every exit. &quot;If you wish to leave,&quot; the dragon roars, (link: &#39;&quot;you must state the year in which my master dies.&quot;&#39;)[==(set: $charlemagnesDeath to (prompt: &quot;What year did Charlemagne die?&quot;, &quot;&quot;, &quot;Stay silent&quot;, &quot;Confirm&quot;)) 

(if: $charlemagnesDeath is &quot;814&quot;) [&quot;That answer is correct,&quot; the purple dragon hisses, unslithering itself from around the clearing. You are free to go back to exploring [[the swimming wood.-&gt;room 4]].]
(else:)[&quot;You will answer correctly or die,&quot; the dragon roars. You have no choice but to [[try again-&gt;Charlemagnes Death.]]]
}]</tw-passagedata><tw-passagedata pid="65" name="environ assignment" tags="startup start-up" position="185,805" size="100,100">{

		
(set: $roomAdjective to &quot;a &quot;)
(set: $houses to (a:140,1840))
(set: $forests to (a:400,500,860,900,1100,1320,1490))
(set: $jungles to (a:1400))
(set: $mountainsides to (a: 920,1270))
(set: $villages to (a: 260,580,660,690,1200,1210,1230,1250,1260,1290,1340,1390,1420,1440))
(set: $hashishQuarters to (a:610))
(set: $penalQuarters to (a: 680))
(set: $markets to (a:640))
(set: $mushrooms to (a:0))
(set: $slaveMarkets to (a:160,760))
(set: $churches to (a: 70,380,770,870,970,1000,1010,1020,1030,1040,1060,1070,1080,1170,1370,1470))
(set: $camps to (a:210,410,510,960,990,1110,1140,1150,1240,1330,1430))
(set: $swamps to (a:800,810,880,890))
(set: $parks to (a: 100,200,370,470))
(set: $arbors to (a:1090))
(set: $caves to (a: 560))
(set: $cemeteries to (a: 190,290))
(set: $barrows to (a:590))
(set: $battlefields to (a: 350,550,1350,1450))
(set: $farms to (a:300,600,1300)) 
(set: $buildings to (a:40,80,240,340,440,520,730,830,940,1220,1360))
(set: $temples to (a:170,270,430))
(set: $mosques to (a:670))
(set: $monasteries to (a:930,1030))
(set: $vestals to (a:130))

(set: $brothels to (a:230))
(set: $palaces to (a:570,630,740,850,1130,1310))
(set: $barracks to (a: 120,150,250,750,1050,1120))
(set: $castles to (a:540,650,840,1180))
(set: $jails to (a:60,460,1160,1460))
(set: $inquisitors to (a:1480))
(set: $surgeries to (a:180,280,480,780,980,1380))
(set: $crypts to (a:90,390,490,790))
(set: $libraries to (a:420,620,720,820))
(set: $schools to (a:220,320))
(set: $courthouses to (a:950))
(set: $lakesides to (a:530))
(set: $armories to (a: 50,450))
(set: $ships to (a: 1190,1280))
(set: $hypogea to (a:10))
(set: $menageries to (a:700))
(set: $arenas to (a:110,310,910,1110,1410))
(set: $fruments to (a:20))
(set: $breweries to (a:30))
(set: $triclinia to (a:330))
(set: $mines to(a:360))
(set: $plaguePits to(a:490))

	

}

		</tw-passagedata><tw-passagedata pid="66" name="environ database 1" tags="" position="632,716" size="100,100">{

		
(set: $arbor to 
(macro: [
	(set: $architecture to &quot;hilly&quot;)
	(set: $roomAdjective to &quot;a &quot;)
	(set: _prep to &quot;by &quot;)
	($park:)
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;shrine&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;monument and sarcophagus&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))


(set: $arena to 
(macro: [	
	(set: $architecture to &quot;flat&quot;)
	(set: _prep to &quot;at &quot;)
	(set: $roomAdjective to &quot;the &quot;)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;beginner&#39;s competition area&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;practice area&quot;)]
		(if: $roomNumber is 2) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;squire&#39;s tent&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;ladies&#39; pavilion&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;competitor&#39;s tent&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;arena&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;sin bin&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;prayer tent&quot;)]
		(if: $roomNumber is 8) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;injury tent&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;morgue&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
(set: $armory to 
(macro: [	
	(set: $architecture to &quot;castle&quot;)
	(set: $roomAdjective to &quot;a &quot;)
	(set: _prep to &quot;in &quot;)
	(if: $decadeNumber is 400)[(set: $roomAdjective to &quot;a looted &quot;)]
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;dormitory&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;practice yard&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;military library&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;heraldry room&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;armor and light weaponry magazine&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;heavy weaponry magazine&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;brig&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;prayer room&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;repair shop&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;decommissioning room&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
	
(set: $barrack to 
(macro: [	
	(set: $architecture to &quot;castle&quot;)
	(set: $roomAdjective to &quot;a &quot;)
	(set: _prep to &quot;in &quot;)
	($building:)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;granary&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;mess&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;map room&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;dormitory&quot;)]
		(if: $roomNumber is 5) [(set: $roomAdjective to &quot;an &quot;)(set: $roomNoun to &quot;armory&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;morgue&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))

(set: $barrow to 
(macro: [	
	(set: $architecture to &quot;crypt&quot;)
	(set: $roomAdjective to &quot;a &quot;)
	(set: _prep to &quot;by &quot;)
	($cemetery:)
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;wickerman&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;mound&quot;)]
		(if: $roomNumber is 3) [(set: _prep to &quot;on &quot;)(set: $roomNoun to &quot;bitter ground&quot;)]
		(if: $roomNumber is 4) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;gravedigger&#39;s hut&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;megalith&quot;)]
		(if: $roomNumber is 6) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;charnel&quot;)]
		(if: $roomNumber is 7) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;circle of stones&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;pillaged mound&quot;)]
		(if: $roomNumber is 9) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;burned down pyre&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))


(set: $battlefield to 
(macro: [	
	(set: $architecture to &quot;flat&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a smoky, noisy &quot;)
	($field:)
		(if: $roomNumber is 2) [(set: $phrase to it + &quot;, where horsed generals decide on their next move&quot;)]
		(if: $roomNumber is 3) [(set: $phrase to it + &quot;, across which deserters are making their escape&quot;)]
		(if: $roomNumber is 5) [(set: $phrase to it + &quot;, in the thick of the fighting&quot;)]
		(if: $roomNumber is 7) [(set: $phrase to it + &quot;, where a priest comforts the dying&quot;)]
		(if: $roomNumber is 8) [(set: $phrase to it + &quot;, amongst the screaming and wounded&quot;)]
		(if: $roomNumber is 9) [(set: $phrase to it + &quot;, amongst the throngs of the glorious dead&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
(set: $brewery to 
(macro: [	
	(set: $architecture to &quot;house&quot;)
	(set: _prep to &quot;by &quot;)
	(set: $roomAdjective to &quot;the &quot;)
	($building:)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;stills&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;wine barrels&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;beer barrels&quot;)]
		(if: $roomNumber is 6) [(set: _prep to &quot;amongst &quot;)(set: $roomNoun to &quot;secret brew&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;slop bucket&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))

(set: $brothel to 
(macro: [	
	(set: $architecture to &quot;house&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;private lounge&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;boudoir&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;peeping closet&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;backyard&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;bondage room&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;changing room&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;medical room&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))

(set: $building to 
(macro: [	
	(set: $architecture to &quot;house&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
		(if: $decadeNumber is 520)[(set: $roomAdjective to &quot;a cavernous &quot;)]
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;mess hall&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;nursery&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;study&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;kitchen&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;lounge&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;weapons closet&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;courtyard&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;chapel&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;latrine&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;garbage disposal&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))

(set: $camp to 
(macro: [
	(set: $architecture to &quot;flat&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;tent for playing dice&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;tent for putting on armor&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;tent for prisoners&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;tent for the wounded&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;tent for the dead&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
(set: $castle to 
(macro: [	
	(set: $architecture to &quot;castle&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($barrack:)
	(if: $roomNumber is 2) [(set: $roomNoun to &quot;book room&quot;)]
	(if: $roomNumber is 8) [(set: $roomNoun to &quot;ruined sick hall&quot;)]
	(set: $phrase to _prep + $roomAdjective + $roomNoun)
	(output-data: &quot;&quot;)
		]
		))
		
(set: $cave to 
(macro: [	
	(set: $architecture to &quot;pit&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
		(if: $roomNumber is 0) [(set: _prep to &quot;beneath &quot;)(set: $roomNoun to &quot;tangle of tree roots&quot;)]
		(if: $roomNumber is 1) [(set: _prep to &quot;by &quot;)(set: $roomNoun to &quot;waterfall&quot;)]
		(if: $roomNumber is 2) [(set: _prep to &quot;by &quot;)(set: $roomNoun to &quot;rock wall encrusted with crystals&quot;)]
		(if: $roomNumber is 3) [(set: _prep to &quot;on &quot;)(set: $roomNoun to &quot;lair of a cave hag&quot;)]
		(if: $roomNumber is 4) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;grotto&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;cavern filled with bats&quot;)]
		(if: $roomNumber is 6) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;cavern with shackles dangling from the walls&quot;)]
		(if: $roomNumber is 7) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;slab of rock, which might be an altar&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;collapsed cavern&quot;)]
		(if: $roomNumber is 9) [(set: _prep to &quot;by &quot;)(set: $roomNoun to &quot;pile of human bones&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
(set: $cemetery to 
(macro: [	
	(set: $architecture to &quot;flat&quot;)
	(set: _prep to &quot;by &quot;)
	(set: $roomAdjective to &quot;a &quot;)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;willow&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;statue&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;mausoleum&quot;)]
		(if: $roomNumber is 3) [(set: _prep to &quot;on &quot;)(set: $roomNoun to &quot;unconsecrated ground&quot;)]
		(if: $roomNumber is 4) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;gravedigger&#39;s cottage&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;warrior&#39;s cenotaph&quot;)]
		(if: $roomNumber is 6) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;charnel&quot;)]
		(if: $roomNumber is 7) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;chapel of rest&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;pillaged grave&quot;)]
		(if: $roomNumber is 9) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;columbarium&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))

		
(set: $church to 
(macro: [	
	(set: $architecture to &quot;church&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($building:)
		(if: $roomNumber is 0) [(set: _prep to &quot;by &quot;)(set: $roomAdjective to &quot;an onyx &quot;)(set: $roomNoun to &quot;font&quot;)]
		(if: $roomNumber is 1) [(set: $roomAdjective to &quot;an &quot;)(set: $roomNoun to &quot;altarboys&#39; choir&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;nave&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;confessional&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;penance cell&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;spire&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
(set: $courthouse to 
(macro: [	
	(set: $architecture to &quot;house&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;the &quot;)
	($jail:)
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;accused&#39;s cell&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;counsellor&#39;s library&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;judge&#39;s chambers&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;courtroom&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;scaffold&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
(set: $crypt to 
(macro: [	
	(set: $architecture to &quot;crypt&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
		(if: $decadeNumber is 390)[(set: $roomAdjective to &quot;a lightly flooded &quot;)]
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;pitch black tomb&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;child&#39;s tomb&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;chamber of steles, inscribed with epitaphs&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;wives&#39; tomb&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;treasury&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;funereal weapons repository&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;skeleton-filled immurement chamber&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;shrine&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;partially collapsed chamber&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;main tomb&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))	
		
(set: $farm to 
(macro: [	
	(set: $architecture to &quot;flat&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;vegetable field&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;paddock, where white stallions graze&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;pig pen&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;rooster&#39;s yard&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;farm house&quot;)]
		(if: $roomNumber is 5) [(set: _prep to &quot;by &quot;)(set: $roomNoun to &quot;water trough&quot;)]
		(if: $roomNumber is 6) [(set: _prep to &quot;by &quot;)(set: $roomNoun to &quot;fox trap&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;grazing pasture&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;field of yellow corn&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;freshly ploughed field&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))

(set: $field to 
(macro: [	
	(set: $architecture to &quot;flat&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;blackened, burned field&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;meadow of white flowers&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;pasture of pink carnations&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;red poppy field&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;field of purple lilacs&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;bluebell field&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;field of cyan lotus flowers&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;meadow of green grass&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;yellow field of wheat&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;muddy field&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
(set: $forest to 
(macro: [	
	(set: $architecture to &quot;hilly&quot;)
	(set: _prep to &quot;by &quot;)
	(set: $roomAdjective to &quot;a &quot;)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;gnarly oak&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;rope swing&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;brook&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;tree, around which nymph lights shine&quot;)]
		(if: $roomNumber is 4) [(set: $roomAdjective to &quot;some&quot;)(set: $roomNoun to &quot;cliffs&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;mine shaft&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;burned out campfire&quot;)]
		(if: $roomNumber is 7) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;sacred grove&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;fallen tree&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;carcass&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
(set: $frument to 
(macro: [	
	(set: $architecture to &quot;crypt&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;chess room&quot;)]
		(if: $roomNumber is 5) [(set: _prep to &quot;by &quot;)(set: $roomNoun to &quot;spy holes&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;documents room&quot;)]
		(if: $roomNumber is 7) [(set: _prep to &quot;by &quot;)(set: $roomNoun to &quot;prayer mat&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))

(set: $hashishQuarter to 
(macro: [	
	(set: $architecture to &quot;city&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($village:)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;hashish grower&#39;s&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;hashish bar&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;grower&#39;s bookshop&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;gang den&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))

(set: $house to 
(macro: [
	(set: $architecture to &quot;house&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($building:)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;dining room&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;gun closet&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;conservatory&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;prayer room&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;bathroom&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;remembrance room&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
(set: $hypogeum to 
(macro: [	
	(set: $architecture to &quot;flat&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;the &quot;)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;winch room&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;chamber of the balatrones&quot;)]
		(if: $roomNumber is 2) [(set: $roomAdjective to &quot;the &quot;)(set: $roomNoun to &quot;chamber of the master of ceremonies&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;chamber of the Pantomimi&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;basement area&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;gladiator&#39;s chamber&quot;)]
		(if: $roomNumber is 6) [(set: _prep to &quot;amongst &quot;)(set: $roomNoun to &quot;caged beasts&quot;)]
		(if: $roomNumber is 7) [(set: _prep to &quot;amongst &quot;)(set: $roomNoun to &quot;shackled Christians&quot;)]
		(if: $roomNumber is 8) [(set: _prep to &quot;amongst &quot;)(set: $roomNoun to &quot;wounded gladiators&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;morgue&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
}





		



		</tw-passagedata><tw-passagedata pid="67" name="set images" tags="startup start-up" position="342,702" size="100,100">{
(set: $setImage to 
(macro: [	
	(set: $imageRef to (str: $hundredNumber + $decadeNum + $imageType))
	(set: $imgScript to &quot;&lt;script&gt;CustomScripts.updateBackground(&quot; + $imageRef +&quot;);&lt;/script&gt;&quot;)
		(output-data: $imgScript)
		]
		))
		}

</tw-passagedata><tw-passagedata pid="68" name="Direction Functions 2" tags="startup" position="186,676" size="100,100">{

&lt;!-- the calling functions from each complex entry point are setAdjustableDirections and fixOptionalPaths--&gt;

&lt;!-- There are eight screen directions, with a variable for each: upOnScreen, downOnScreen, rightOnScreen and leftOnScreen, which correspond to directions in the complex map, and rightOnNexusMap, downOnNexusMap, upOnNexusMap and leftOnNexusMap, which correspond to directions in the main nexus. We have two sets of variables in order to permit the values to differ between the central nexus and the complexes, while still being able to coordinate the transition.--&gt; 

&lt;!-- the screen directions usually take string values from the set &lt;&quot;north&quot;, &quot;east&quot;, &quot;south&quot;, &quot;west&quot;&gt; but can occasionally take &#39;northeast&quot;, &quot;northwest&#39;, &#39;southeast&#39;, &quot;southwest&#39;, &quot;up&quot;, &quot;down&quot;, &quot;up and to the ...&quot; (north, east, south, west) or &quot;down and to the ... &#39;(north south east or west).--&gt; 

&lt;!-- Normally, directions other than north south east and west are handled by Exception variables, upOnScreen2, downOnScreen2, leftOnScreen2 and rightOnScreen2. Strictly speaking, the rule is merely that the standard screen directions take the opposite kind of value to the exception variables. So if the latter take the standard compass point directions then the former will take some unusual directions. This is permitted because, for some architectures, we want the usual directions to be exceptions. E.g. in a tower we want &quot;up&quot; to be more common than &quot;north&quot;. --&gt; 

&lt;!-- setAdjustableDirections decides, based on the flatness variable, what the rough geometry of the complex will be. This mainly means deciding how much verticality there is. --&gt;
&lt;!-- Settings: 
	Flat: May flips/rotate NSEW but no slopes or vertical directions
	Hilly: As Flat, no vertical, but may have occasional slopes. 
	2storey: Max 2 storeys with occasional slopes and vertical moves.
	noSlopes: As flat with vertical but no slopes. 
	wall: As flat but rotated around left/right axis = 3 storey depth 1.  
	castle: As noSlopes, but rotated around left/right axis on screen
	tower: As noSlopes, but rotated around up/down axis on screen
	pit: as tower but with entry point placed at top. 
	crypt: as castle but with entry point placed at top. 
--&gt;

(set: $setAdjustableDirections to 
(macro: [
	($initializeDirections:) 
	($setFlatVariables:)
	(if: $flatness is &quot;hilly&quot;)[($setHillyVariables:)]
	(if: $flatness is &quot;2storey&quot;)[($set3Dvariables:)]
	(if: $flatness is &quot;wall&quot;)[($setWallVariables:)]
	(if: $flatness is &quot;towery&quot;)[($setTowerVariables:)]
	(output-data:&quot;&quot;)
	]
	))
	
	
&lt;!-- northVariable is the direction up on the screen diagram, eastVariable is to the right on the screen, etc. But northVariable can take values other than north. To begin with, however, we map all diagram directions, including the exception variables, onto the intuitive compass points.
--&gt;
(set: $initializeDirections to 
(macro: [
	(set: $upOnScreen to &quot;north&quot;)
	(set: $downOnScreen to &quot;south&quot;)
	(set: $rightOnScreen to &quot;east&quot;)
	(set: $leftOnScreen to &quot;west&quot;)
	(set: $upOnScreen2 to &quot;north&quot;)
	(set: $downOnScreen2 to &quot;south&quot;)
	(set: $rightOnScreen2 to &quot;east&quot;)
	(set: $leftOnScreen2 to &quot;west&quot;)
	(output-data:&quot;&quot;)
	]
	))

&lt;!-- OPERATIONS 1: ROTATIONS, FLIPS --&gt;

&lt;!-- The following reassigns each screen direction variable to the value previously held by its clockwise orthogonal.--&gt;

(set: $rotate90CW to 
(macro: [
	(set: _n to $upOnScreen)
	(set: _e to $rightOnScreen)
	(set: _s to $downOnScreen)
	(set: _w to $leftOnScreen)
	(set: $upOnScreen to _e)
	(set: $rightOnScreen to _s)
	(set: $downOnScreen to _w)
	(set: $leftOnScreen to _n)
	(output-data: &quot;&quot;)
	]))

&lt;!-- The following rotates the map around the LR axis, i.e. up on the screen comes to represent vertical up (rather than north).--&gt;

(set: $rotate90aroundLR to 
(macro: [
	(set: $upOnScreen to &quot;up&quot;)
	(set: $downOnScreen to &quot;down&quot;)
	(set: $upOnScreen2 to ($rotateAroundLR: $upOnScreen2))
	(set: $downOnScreen2 to ($rotateAroundLR: $downOnScreen2))
	(output-data: &quot;&quot;)
	]))

&lt;!-- The following rotates the map around the UD axis, i.e. left on the screen comes to represent vertical up (rather than west).--&gt;

(set: $rotate90aroundUD to 
(macro: [
	(set: $leftOnScreen to &quot;up&quot;)
	(set: $rightOnScreen to &quot;down&quot;)
	(set: $leftOnScreen2 to ($rotateAroundUD: $leftOnScreen2))
	(set: $rightOnScreen2 to ($rotateAroundUD: $rightOnScreen2))
	(output-data: &quot;&quot;)
	]))

&lt;!-- The following rotates a particular value by 90 degrees around LR. Useful for the exception directions, whose prior value may or may not already be vertical .--&gt;

(set: $rotateAroundLR to 
(macro: str-type _direction, [
	(if: _direction is &quot;down&quot;)[(output-data: &quot;north&quot;)]
	(if: _direction is &quot;north&quot;)[(output-data: &quot;up&quot;)]
	(if: _direction is &quot;up&quot;)[(output-data: &quot;south&quot;)]
	(if: _direction is &quot;south&quot;)[(output-data: &quot;down&quot;)]
	(output-data: &quot;&quot;)
	]))

&lt;!-- The following rotates a particular value by 90 degrees around UD. Useful for the exception directions, whose prior value may or may not already be vertical .--&gt;

(set: $rotateAroundUD to 
(macro: str-type _direction, [
	(if: _direction is &quot;up&quot;)[(output-data: &quot;east&quot;)]
	(if: _direction is &quot;east&quot;)[(output-data: &quot;down&quot;)]
	(if: _direction is &quot;down&quot;)[(output-data: &quot;west&quot;)]
	(if: _direction is &quot;west&quot;)[(output-data: &quot;up&quot;)]
	(output-data: &quot;&quot;)
	]))

&lt;!-- Flips the assignment of compass points to the map left to right.--&gt;

(set: $flipLR to
(macro: [
	(set: _e to $leftOnScreen)
	(set: _w to $rightOnScreen)
	(set: $leftOnScreen to _w)
	(set: $rightOnScreen to _e)
	(output-data: &quot;&quot;)
	]))

&lt;!-- Flips the assignment of compass points to the map up to down.--&gt;

(set: $flipUD to
(macro: [
	(set: _e to $upOnScreen)
	(set: _w to $downOnScreen)
	(set: $upOnScreen to _w)
	(set: $downOnScreen to _e)
	(output-data: &quot;&quot;)
	]))

&lt;!-- OPERATIONS 2: FLIPPING/ROTATING START ROOMS--&gt;

&lt;!--The following functions are called by architecture functions to flip/rotate the startRoom along with the map.--&gt;

(set: $flipStartRoomLR to
(macro: str-type _direction, [
	(set: _x to (cond:
		$startRoom is &quot;room 8&quot;,&quot;room 4&quot;,
		$startRoom is &quot;room 4&quot;,&quot;room 8&quot;,
		$startRoom is &quot;room 5&quot;,&quot;room 2&quot;,
		$startRoom is &quot;room 2&quot;,&quot;room 5&quot;,
		$startRoom))
	(set: $startRoom to _x)
	(output-data:&quot;&quot;)
	]
	))
	
(set: $flipStartRoomUD to
(macro: str-type _direction, [
	(set: _x to (cond:
		$startRoom is &quot;room 4&quot;,&quot;room 5&quot;,
		$startRoom is &quot;room 5&quot;,&quot;room 4&quot;,
		$startRoom is &quot;room 8&quot;,&quot;room 2&quot;,
		$startRoom is &quot;room 2&quot;,&quot;room 8&quot;,
		$startRoom))
	(set: $startRoom to _x)
	(output-data:&quot;&quot;)
	]
	))
	
(set: $rotateStartRoom to
(macro: str-type _direction, [
	(set: _x to (cond:
		$startRoom is &quot;room 4&quot;,&quot;room 8&quot;,
		$startRoom is &quot;room 8&quot;,&quot;room 2&quot;,
		$startRoom is &quot;room 2&quot;,&quot;room 5&quot;,
		&quot;room 4&quot;))
	(set: $startRoom to _x)
	(output-data:&quot;&quot;)
	]
	))


(set: $towerStart to 
(macro: str-type _startRoom, [
	(if: $startRoom is in (a:4,5))[($flipStartRoomLR:)]
	(output-data: &quot;&quot;)
	]))	
	
(set: $pitStart to 
(macro: str-type _startRoom, [
	(if: $startRoom is in (a:8,2))[($flipStartRoomLR:)]
	(output-data: &quot;&quot;)
	]))	
	
(set: $wallStart to 
(macro: str-type _startRoom, [
	(if: $startRoom is in (a:4,8))[($flipStartRoomUD:)]
	(output-data: &quot;&quot;)
	]))	
	
(set: $cryptStart to 
(macro: str-type _startRoom, [
	(if: $startRoom is in (a:5,2))[($flipStartRoomUD:)]
	(output-data: &quot;&quot;)
	]))	
	

	
&lt;!-- OPERATIONS 3: FIXING EXCEPTION VARIABLES  --&gt;

&lt;!-- Randomly chooses wheether to set the assignment of UD exception variables to directed slopes.--&gt;

(set: $UDOnScreenToSlopes to
(macro: [
	(set: _x to ($srandom: 1))
	(if: _x is 0)[
		(set: $upOnScreen2 to &quot;up and to the &quot; + $upOnScreen2)
		(set: $downOnScreen2 to &quot;down and to the &quot; + $downOnScreen2)
		]
	(else:) [
		(set: $upOnScreen2 to &quot;down and to the &quot; + $upOnScreen2)
		(set: $downOnScreen2 to &quot;up and to the &quot; + $downOnScreen2)
		]
	(output-data: &quot;&quot;)
	]))

&lt;!-- Randomly chooses wheether to set the assignment of LR exception variables to directed slopes.--&gt;

(set: $LROnScreenToSlopes to
(macro: [
	(set: _x to ($srandom: 1))
	(if: _x is 0)[
		(set: $rightOnScreen2 to &quot;up and to the &quot; + $upOnScreen2)
		(set: $leftOnScreen2 to &quot;down and to the &quot; + $downOnScreen2)
		]
	(else:) [
		(set: $rightOnScreen2 to &quot;down and to the &quot; + $upOnScreen2)
		(set: $leftOnScreen2 to &quot;up and to the &quot; + $downOnScreen2)
		]
	(output-data: &quot;&quot;)
	]))
	
&lt;!-- Randomly chooses whether to set the UD exception variables to vertical directions.--&gt;

(set: $UDOnScreenToVertical to
(macro: [
	(set: _x to ($srandom: 1))
	(if: _x is 0)[
		(set: $upOnScreen2 to &quot;up&quot;)
		(set: $downOnScreen2 to &quot;down&quot;)
		]
	(else:) [
		(set: $upOnScreen2 to &quot;down&quot;)
		(set: $downOnScreen2 to &quot;up&quot;)
		]
	(output-data: &quot;&quot;)
	]))
	
&lt;!-- Randomly chooses wheether to set the LR exception variables to vertical directions.--&gt;

(set: $LROnScreenToVertical to
(macro: [
	(set: _x to ($srandom: 1))
	(if: _x is 0)[
		(set: $rightOnScreen2 to &quot;up&quot;)
		(set: $leftOnScreen2 to &quot;down&quot;)
		]
	(else:) [
		(set: $rightOnScreen2 to &quot;down&quot;)
		(set: $leftOnScreen2 to &quot;up&quot;)
		]
	(output-data: &quot;&quot;)
	]))

&lt;!-- Randomly chooses wheether to set the UD exception variables to directly vertical directions or to slopes.--&gt;

(set: $UDOnScreenToNonFlat to
(macro: [
	(set: _x to ($srandom: 1))
	(if: _x is 0)[
		($UDOnScreenToVertical:)
		]
	(else:) [
		($UDOnScreenToSlopes:)
		]
	(output-data: &quot;&quot;)
	]))

&lt;!-- Randomly chooses wheether to set the LR exception variables to directly vertical directions or to slopes.--&gt;

(set: $LROnScreenToNonFlat to
(macro: [
	(set: _x to ($srandom: 1))
	(if: _x is 0)[
		($LROnScreenToVertical:)
		]
	(else:) [
		($LROnScreenToSlopes:)
		]
	(output-data: &quot;&quot;)
	]))
	
&lt;!-- ARCHITECTURAL STYLE FUNCTIONS --&gt;

&lt;!-- This decides randomly whether to flip the axes and rotate.--&gt; 

(set: $setFlatVariables to 
(macro: [
	(set: _x to ($srandom: 7))
	(if: _x is even)[
		($flipLR:)
		($flipStartRoomLR:)]
	(if: _x &lt; 4)[
		($flipUD:)
		($flipStartRoomUD:)]
	(if: _x is in (a: 0,2,5,7)[
		($rotate90CW:)
		($rotateStartRoom:)]
	(output-data: &quot;&quot;)
	]))
	
&lt;!-- Calls the above then decides randomly whether to make the exception variables into slopes.--&gt; 

(set: $setHillyVariables to 
(macro: [
	($setFlatVariables:)
	(set: _x to ($srandom: 3))
	(if: _x is even)[($UDOnScreenToSlopes:)]
	(if: _x &lt; 2)[($LROnScreenToSlopes:)]
	(output-data: &quot;&quot;)
	]))
	
&lt;!-- Calls the flatness scrambler then decides randomly whether to make the exception variables into slopes or vertical shifts.--&gt; 

(set: $set2storeyVariables to 
(macro: [
	($setFlatVariables:)
	(set: _x to ($srandom: 3))
	(if: _x is even)[($UDOnScreenToSlopes:)]
	(else:)[($UDOnScreenToVertical:)]
	(if: _x &lt; 2)[($LROnScreenToSlopes:)]
	(else:)[($LROnScreenToVertical:)]
	(output-data: &quot;&quot;)
	]))
	
&lt;!-- Calls the flatness scrambler then decides randomly whether to make the exception variables into vertical shifts.--&gt; 

(set: $setNoSlopesVariables to 
(macro: [
	($setFlatVariables:)
	(set: _x to ($srandom: 3))
	(if: _x is even)[($UDOnScreenToVertical:)]
	(if: _x &lt; 2)[($LROnScreenToVertical:)]
	(output-data: &quot;&quot;)
	]))	
	
&lt;!-- Calls the flatness scrambler then rotates around LR axis.--&gt; 

(set: $setWallVariables to 
(macro: [
	($setFlatVariables:)
	($rotate90aroundLR:)
	(set: $startRoom to &quot;room 3&quot;)
	(output-data: &quot;&quot;)
	]))
	
&lt;!-- Calls the noSlopes builder then rotates around LR axis.--&gt; 

(set: $setCastleVariables to 
(macro: [
	($setNoSlopesVariables:)
	($rotate90aroundLR:)
	(set: $startRoom to &quot;room 3&quot;)
	(output-data: &quot;&quot;)
	]))
	
&lt;!-- Calls the noSlopes builder then rotates around UD axis.--&gt; 

(set: $setTowerVariables to 
(macro: [
	($setNoSlopesVariables:)
	($rotate90aroundUD:)
	(set: $startRoom to ($towerStart: $startRoom))
	(output-data: &quot;&quot;)
	]))
	

	
	
	
	
	
	
	
	
	
	
	
	
	
	
}

</tw-passagedata><tw-passagedata pid="69" name="room 4" tags="" position="1536,590" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 4)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
($refreshSentences:)}(border-color: purple) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{

$complexSentence. 

(if: $thisYear is 1154 and $Stephen is not &quot;dead&quot;)[There is an old king here, about to die. [[You may hear his last words-&gt;Stephen&#39;s death]].](if: $thisYear is 1154 and $Stephen is &quot;dead&quot;)[There is a dead king here. Even in death his face looks tired and sad.]
(if: $thisYear is 814)[There is a pond here, in which there shimmers a bright light from above. If you wish you may [[look up at the light-&gt;Charlemagnes Death.]].]

From here you may go [[$rightOnScreen-&gt;passage 4]] or [[$downOnScreen-&gt;passage 5]]. 

(if: $startRoom is &quot;room 4&quot;)[$returnText]

}]</tw-passagedata><tw-passagedata pid="70" name="passage 7" tags="" position="2153,875" size="100,100">{(set: $thisRoomsNumber to 17)
(set: $thisYear to 10000)}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence2. 
From here you may go [[$rightOnScreen-&gt;room 2]]($toThePhrase: 2), [[$upOnScreen-&gt;room 7]]($toThePhrase: 7) or [[$leftOnScreen-&gt;room 1]]($toThePhrase: 1). </tw-passagedata><tw-passagedata pid="71" name="room 1" tags="" position="2006,872" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 1)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
($refreshSentences:)
}(border-color: (white) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence. 

From here you may go [[$upOnScreen2-&gt;passage 1]], [[$leftOnScreen-&gt;room 3]]($toThePhrase: 3) or [[$rightOnScreen-&gt;passage 7]].
(if: $startRoom is &quot;room 2&quot;)[$returnText]]</tw-passagedata><tw-passagedata pid="72" name="entrance6" tags="" position="2059,1497" size="100,100">{
(set: $thisRoomsNumber to 13)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[

(if: $startRoom is &quot;entrance6&quot;)[You are $inTheEntranceHall
	(if: $architecture is &quot;castle&quot;)[ in the ($directionJoined: $leftOnScreen,$forward) turret].]
(else:)[
	(if: $architecture is &quot;castle&quot;)
		[(if: $upOnScreenAB is &quot;up&quot;)[You are standing atop the  ($directionJoined: $forward, $leftOnScreen)  turret.]
		(else:)[You are on the ground floor of the ($directionJoined: $forward, $leftOnScreen) turret.]]
		]
(if: $architecture is &quot;tower&quot;) [You are $onAstairway2.]
(if: $architecture is &quot;crypt&quot;) [You are in a chamber at the (joined:&quot;&quot;, $forward,$leftOnScreen) corner of the crypt.]
(if: $architecture is in (a:&quot;house&quot;,&quot;mansion&quot;))[$complexSentence2 at the (joined:&quot;&quot;, $forward,$leftOnScreen) corner of the building.] 

From here you may go [[$rightOnScreen-&gt;room0]]$ladder ($toThePhrase: 0)  or ($downAB: &quot;room5&quot;). 
(if: $architecture is in (a: &quot;tower&quot;, &quot;flat&quot;, &quot;hilly&quot;))[You may also go [[$DUandToThe $leftOnScreen-&gt;stair2]]$ladder.]
(if: $architecture is &quot;tower&quot;)[You may also go [[$downRound-&gt;entrance2]].]
(if: $architecture is in (a: &quot;castle&quot;))[You may also go [[$backward-&gt;castleWall2]].]
(if: $architecture is in (a: &quot;crypt&quot;))[You may also go [[$backward-&gt;room9]]($toThePhrase:9).]

(if: $architecture is in (a: &quot;mansion&quot;) and $upOnScreenAB is &quot;up&quot;)[You may also go [[$upToAttic-&gt;castleWall2]].]
(if: $architecture is in (a: &quot;mansion&quot;) and $upOnScreenAB is &quot;down&quot;)[You may also go [[$secretPassage3-&gt;castleWall2]].]

]
}

</tw-passagedata><tw-passagedata pid="73" name="room0" tags="" position="2201,1499" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 0)
($refreshSentences:)
}
{
(border-color: black) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence. From here you can go [[$leftOnScreen-&gt;entrance6]] ($toStairsOrEntrance:&quot;entrance2&quot;) or ($downAB: &quot;room4&quot;).
(if: $architecture is in (a: &quot;house&quot;))[You may also take a $ladder [[$specialDown1-&gt;entrance5]].]
(if: $architecture is &quot;tower&quot;)[An alternative way goes [[$downRound-&gt;room3]]($toThePhrase: 3).]]
}</tw-passagedata><tw-passagedata pid="74" name="room1" tags="" position="2343,1497" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 1)
($refreshSentences:)
}
{
(border-color: white) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence 
(if: $architecture is &quot;castle&quot;)
	[(if: $upOnScreenAB is &quot;up&quot;)[, in the topmost room in the ($directionJoined: $forward, $rightOnScreen) turret.]
	(else:)[, on the ground floor of the ($directionJoined: $forward, $rightOnScreen) turret.]
	]
(else:)[.] 
From here you may go ($downAB: &quot;entrance1&quot;). 
(if: $architecture is in (a: &quot;house&quot;))[You may also head $UDandToThe [[$leftOnScreen-&gt;stair2]] via $stairway.]
(if: $architecture is &quot;tower&quot;)
	[An alternative way goes [[$downRound-&gt;room2]]($toThePhrase: 2).]
(if: $architecture is in (a: &quot;castle&quot;))
	[An alternative way goes [[$backward-&gt;castleWall3]].]
(if: $architecture is in (a: &quot;crypt&quot;))[An alternative way goes ($downAB: &quot;room6&quot;) or [[$backward-&gt;stair2]].]

(if: $architecture is in (a: &quot;mansion&quot;) and $upOnScreenAB is &quot;up&quot;)[You may also go [[$upToAttic-&gt;castleWall3]].]
(if: $architecture is in (a: &quot;mansion&quot;) and $upOnScreenAB is &quot;down&quot;)[You may also go [[$secretPassage4-&gt;castleWall3]].]

]}
</tw-passagedata><tw-passagedata pid="75" name="entrance1" tags="" position="2345,1641" size="100,100">{
(set: $thisRoomsNumber to 17)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[
(if: $startRoom is &quot;entrance1&quot;)[You are $inTheEntranceHall.] (else:)[You are on a $passageNoun ($goingFromTo: $upOnScreenAB, $downOnScreenBC).] From here you may go ($upAB: &quot;room1&quot;) or ($downBC: &quot;room2&quot;). Or you may head [[$leftOnScreen-&gt;room4]] $ladder ($toThePhrase: 4).
]
}</tw-passagedata><tw-passagedata pid="76" name="room2" tags="" position="2348,1799" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 2)
($refreshSentences:)
}
{(border-color: (rgb: 255, 100, 100)) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[
$complexSentence
(if: $architecture is &quot;castle&quot;)
	[(if: $upOnScreen is &quot;down&quot;)[, atop the ($directionJoined: $forward, $rightOnScreen) turret.]
	(else:)[, on the ground floor of the ($directionJoined: $forward, $rightOnScreen) turret.]
	]
(else:)[.]
You may go ($upBC: &quot;entrance1&quot;) from here. 
(if: $architecture is in (a: &quot;house&quot;))[An alternative is to go [[$downTerm-&gt;entrance3]] via $stairway.] 
(if: $architecture is &quot;tower&quot;)[You may also go [[$upRound-&gt;room1]]($toThePhrase: 1).]
(if: $architecture is &quot;castle&quot;)[You may also go [[$backward-&gt;castleWall1]].]
(if: $architecture is in (a: &quot;crypt&quot;))[You may also go [[$backward-&gt;entrance3]].]
(if: $architecture is in (a: &quot;mansion&quot;) and $upOnScreenAB is &quot;up&quot;)[You may also go [[$secretPassage4-&gt;castleWall1]].]
(if: $architecture is in (a: &quot;mansion&quot;) and $upOnScreenAB is &quot;down&quot;)[You may also go [[$upToAttic-&gt;castleWall1]].]

]
}</tw-passagedata><tw-passagedata pid="77" name="room4" tags="" position="2198,1646" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 4)
($refreshSentences:)
}
{
(border-color: purple) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence. From here you may go [[$leftOnScreen-&gt;room5]] $ladder ($toThePhrase: 5) or ($downBC: &quot;room3&quot;). Alternatively, you may go ($upAB: &quot;room0&quot;) or [[$rightOnScreen-&gt;entrance1]] $ladder.]
}</tw-passagedata><tw-passagedata pid="78" name="room3" tags="" position="2206,1801" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 3)
($refreshSentences:)
}
{
(border-color: red) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[
$complexSentence. From here you can go ($upBC: &quot;room4&quot;) or [[$leftOnScreen-&gt;entrance2]]$ladder ($toStairsOrEntrance:&quot;entrance2&quot;). 
(if: $architecture is &quot;tower&quot;)[You may also go [[$upRound-&gt;room0]]($toThePhrase: 0).]
(if: $architecture is &quot;castle&quot;)[You may also go [[$backward-&gt;bailey]] to the bailey.]
]
}</tw-passagedata><tw-passagedata pid="79" name="room5" tags="" position="2059,1650" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 5)
($refreshSentences:)
}
{
(border-color: blue) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence. From here you can go ($upAB: &quot;entrance6&quot;) ($toStairsOrEntrance:&quot;entrance6&quot;), ($downAB: &quot;entrance2&quot;) ($toStairsOrEntrance:&quot;entrance2&quot;) or [[$rightOnScreen-&gt;room4]]$ladder ($toThePhrase:4). ]
}</tw-passagedata><tw-passagedata pid="80" name="room6" tags="" position="1763,1651" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 6)
($refreshSentences:)
}
{
(border-color: (rgb: 0, 255, 255)) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence. From here you can go ($upAB:&quot;stair2&quot;) (unless: $architecture is in (a: &quot;mansion&quot;, &quot;hilly&quot;)) [via $stairway2] $forceSpace or (if: $architecture is &quot;hilly&quot;)[up and to the][[$leftOnScreen-&gt;passage5]] $ladder. ]
}</tw-passagedata><tw-passagedata pid="81" name="room7" tags="" position="1621,1801" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 7)
($refreshSentences:)
}
{
(border-color: green) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[
$complexSentence. (if: $optionalPath contains 4)[From here you may go ($upBC: &quot;passage5&quot;), [[$leftOnScreen-&gt;room8]] $ladder ($toThePhrase: 8) (print: &quot; &quot;) or  [[$rightOnScreen-&gt;entrance3]] $ladder (unless: $architecture is &quot;castle&quot;) [($toStairsOrEntrance: &quot;entrance3&quot;).]]
(else:)[From here you can go ($upBC: &quot;passage5&quot;) or  [[$rightOnScreen-&gt;entrance3]] $forceSpace (unless: $architecture is &quot;castle&quot;) [($toStairsOrEntrance: &quot;entrance3&quot;)]]
(if: $architecture is &quot;tower&quot;)[You may also go [[$upRound-&gt;entrance5]].]
(if: $architecture is &quot;castle&quot;)[You may also go [[$forward-&gt;bailey]] to the bailey.]
]
}</tw-passagedata><tw-passagedata pid="82" name="room8" tags="" position="1475,1798" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 8)
($refreshSentences:)
}
{
(border-color: yellow) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[
$complexSentence 
(if: $architecture is &quot;castle&quot;) + (if: $upOnScreen is &quot;down&quot;)[, standing atop the ($directionJoined: $backward, $leftOnScreen) turret]
(if: $architecture is &quot;castle&quot;) + (if: $upOnScreen is &quot;up&quot;)[, on the ground floor of the ($directionJoined: $backward, $leftOnScreen) turret]
. 
(if: $optionalPath contains 4)[From here you may go ($upBC: &quot;entrance4&quot;)  or [[$rightOnScreen-&gt;room7]] $ladder ($toThePhrase: 7).](else:)[You may go ($upBC: &quot;entrance4&quot;) from here.]
(if: $architecture is &quot;tower&quot;)[You may also go [[$upRound-&gt;room9]]($toThePhrase: 9).]
(if: $architecture is in (a: &quot;castle&quot;))[You may also go [[$forward-&gt;castleWall4]].]
(if: $architecture is in (a: &quot;crypt&quot;))[You may also go [[$forward-&gt;entrance2]] ($toStairsOrEntrance: &quot;entrance2&quot;).]
(if: $architecture is in (a: &quot;mansion&quot;) and $upOnScreenAB is &quot;up&quot;)[You may also go [[$secretPassage1-&gt;castleWall4]].]
(if: $architecture is in (a: &quot;mansion&quot;) and $upOnScreenAB is &quot;down&quot;)[You may also go [[$upToAttic-&gt;castleWall4]].

]]
}
</tw-passagedata><tw-passagedata pid="83" name="room9" tags="" position="1476,1498" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 9)
($refreshSentences:)
}
{
(border-color: (rgb: 155, 100, 0)) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[
$complexSentence 
(if: $architecture is &quot;castle&quot;)
	[(if: $upOnScreenAB is &quot;up&quot;)[, which has been built atop the ($directionJoined: $backward, $leftOnScreen) turret.]
	(else:)[, on the ground floor of the ($directionJoined: $backward, $leftOnScreen) turret.]
	]
	(else:)[.]
From here, you may head ($downAB: &quot;entrance4&quot;) or [[$rightOnScreen-&gt;entrance5]] ($toAnyOrEntrance: &quot;entrance5&quot;). 
(if: $architecture is &quot;tower&quot;)[You may also go [[$downRound-&gt;room8]]($toThePhrase: 8).]
(if: $architecture is in (a: &quot;castle&quot;))[An alternative is to head [[$forward-&gt;castleWall2]].]
(if: $architecture is in (a: &quot;mansion&quot;) and $upOnScreenAB is &quot;up&quot;)[You may also go [[$upToAttic-&gt;castleWall2]].]
(if: $architecture is in (a: &quot;mansion&quot;) and $upOnScreenAB is &quot;down&quot;)[You may also go [[$secretPassage1-&gt;castleWall2]].]

]
}</tw-passagedata><tw-passagedata pid="84" name="entrance5" tags="" position="1625,1496" size="100,100">{
(set: $thisRoomsNumber to 11)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[
(if: $startRoom is &quot;entrance5&quot;)[You are $inTheEntranceHall.]
(else:)[
	(if: $architecture is &quot;castle&quot; and $upOnScreenAB is &quot;up&quot;)[You are standing on top of a castle wall, where a crisp wind blows.]
	] 
	(else:)[$complexSentence2 $mansionFloor]

From here you can go ($downAB: &quot;passage5&quot;) or [[$leftOnScreen-&gt;room9]]($toThePhrase: 9). (if: $architecture is in (a: &quot;house&quot;))[You may also take a $ladder [[$specialup1-&gt;room0]] ($toThePhrase: 0).](if: $architecture is &quot;tower&quot;)[An alternative way goes [[$downRound-&gt;room7]]($toThePhrase: 7).]
]
}</tw-passagedata><tw-passagedata pid="85" name="entrance2" tags="" position="2061,1800" size="100,100">{(set: $thisRoomsNumber to 19)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[
(if: $startRoom is &quot;entrance2&quot;)[You are $inTheEntranceHall(if: $architecture is &quot;castle&quot;)[ in the ($directionJoined: $leftOnScreen,$forward) turret].] 
(else:)[
	(if: $architecture is &quot;castle&quot;)
		[(if: $upOnScreen is &quot;down&quot;)[You are standing atop the ($directionJoined: $forward, $rightOnScreen) turret.]
		(else:)[You are on the ground floor of the ($directionJoined: $forward, $rightOnScreen) turret.]
		]
(else:)[You are $onAstairway.]
	]
From here you may go ($upBC: &quot;room5&quot;) or [[$rightOnScreen-&gt;room3]]$ladder ($toThePhrase: 3). 
(if: $architecture is in (a: &quot;tower&quot;, &quot;flat&quot;, &quot;hilly&quot;))[You may also go [[$DUandToThe $leftOnScreen-&gt;entrance3]] $ladder ($toStairsOrEntrance: &quot;entrance3&quot;).]
(if: $architecture is &quot;tower&quot;)[You may also go [[$upRound-&gt;entrance6]].]
(if: $architecture is in (a: &quot;castle&quot;))[You may also go [[$backward-&gt;castleWall4]].]
(if: $architecture is in (a: &quot;crypt&quot;))[You may also go [[$backward-&gt;room8]] ($toThePhrase: 8).]
(if: $architecture is in (a: &quot;mansion&quot;) and $upOnScreenAB is &quot;up&quot;)[You may also go [[$secretPassage3-&gt;castleWall4]].]
(if: $architecture is in (a: &quot;mansion&quot;) and $upOnScreenAB is &quot;down&quot;)[You may also go [[$upToAttic-&gt;castleWall4]]
]]
}</tw-passagedata><tw-passagedata pid="86" name="entrance3" tags="" position="1758,1798" size="100,100">{
(set: $thisRoomsNumber to 18)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[
(if: $startRoom is &quot;entrance3&quot;)[You are $inTheEntranceHall(if: $architecture is &quot;castle&quot;)[ in the ($directionJoined: $rightOnScreen,$backward) turret].] 
(else:)[
	(if: $architecture is &quot;castle&quot;)
		[(if: $upOnScreen is &quot;down&quot;)[You are standing atop the ($directionJoined: $backward, $rightOnScreen) turret.]
		(else:)[You are on the ground floor of the ($directionJoined: $backward, $rightOnScreen) turret.]
		]
(else:)[You are $onAstairway]
	]
(if: $architecture is in (a: &quot;house&quot;))[From here you may go $UDandToThe [[$rightOnScreen-&gt;room7]] ($toThePhrase: 7) or $DUandToThe [[$rightOnScreen-&gt;room2]] ($toThePhrase: 2).]
(if: $architecture is in (a: &quot;tower&quot;, &quot;flat&quot;, &quot;hilly&quot;))[From here you may go [[$leftOnScreen-&gt;room7]] $ladder ($toThePhrase: 7) or [[$UDandToThe $rightOnScreen-&gt;entrance2]] $ladder ($toStairsOrEntrance: &quot;entrance2&quot;).]
(if: $architecture is in (a: &quot;castle&quot;))[From here you may go [[$leftOnScreen-&gt;room7]] ($toThePhrase: 7) or [[$forward-&gt;castleWall1]] ($towardsThePhrase: 2)][.]
(if: $architecture is in (a: &quot;crypt&quot;))[From here you may go [[$leftOnScreen-&gt;room7]] ($toThePhrase: 7) or [[$forward-&gt;room2]] ($toThePhrase: 2).]
(if: $architecture is in (a: &quot;mansion&quot;) and $upOnScreenAB is &quot;up&quot;)[From here you may go [[$leftOnScreen-&gt;room7]] ($toThePhrase: 7). You may also go [[$secretPassage2-&gt;castleWall1]].]
(if: $architecture is in (a: &quot;mansion&quot;) and $upOnScreenAB is &quot;down&quot;)[From here you may go [[$leftOnScreen-&gt;room7]] ($toThePhrase: 7).You may also go [[$upToAttic-&gt;castleWall1]].]

]
}

</tw-passagedata><tw-passagedata pid="87" name="passage5" tags="" position="1623,1651" size="100,100">{
(set: $thisRoomsNumber to 15)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[
(if: $architecture is &quot;mansion&quot;)[You are in the opulent entrance hall.]
(else:) [You are at a place where several (joined: &quot;&quot;,$passageNoun, &quot;s&quot;) meet.] From here you may go ($upAB:&quot;entrance5&quot;) ($toAnyOrEntrance: &quot;entrance5&quot;), $downAndToThe [[$rightOnScreen-&gt;room6]] $ladder ($toThePhrase: 6), or ($downBC: &quot;room7&quot;). An alternative is to go [[$leftOnScreen-&gt;entrance4]] $ladder. (if: $architecture is &quot;mansion&quot;)[Or you might head $forward [[($towardsThePhrase: 4) at the back of the house-&gt;room4]].]
]
}</tw-passagedata><tw-passagedata pid="88" name="entrance4" tags="" position="1376,1653" size="100,100">{
(set: $thisRoomsNumber to 14)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[
(if: $startRoom is &quot;entrance4&quot;)[You are $inTheEntranceHall.] 
(else:)[You are on 
	(unless: $architecture is &quot;castle&quot;)[a $passageNoun  heading from $upOnScreenAB  to $downOnScreenBC.] 
	(else:) [a stairwell.]]
From here you may go ($upAB: &quot;room9&quot;) or ($downBC: &quot;room8&quot;). Or you may head [[$rightOnScreen-&gt;passage5]] $ladder.
]
}</tw-passagedata><tw-passagedata pid="89" name="stair2" tags="" position="1764,1496" size="100,100">{
(set: $thisRoomsNumber to 12)
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[
(if: $architecture is &quot;castle&quot;) + (if: $upOnScreenAB is &quot;up&quot;)[You are standing atop the ($directionJoined: $backward, $rightOnScreen) turret.]
(if: $architecture is &quot;castle&quot;) + (if: $upOnScreenAB is &quot;down&quot;)[You are on the ground floor of the ($directionJoined: $backward, $rightOnScreen) turret.]
(unless:$architecture is &quot;castle&quot;)[You are $onAstairway2]
(if: $architecture is &quot;house&quot;)[ landing]. 
(if: $architecture is in (a: &quot;house&quot;))[From here $stairway in one direction goes $UDandToThe [[$downOnScreenAB-&gt;room6]] ($toThePhrase: 6), while in the other it turns $DUandToThe [[$rightOnScreen-&gt;room1]]$ladder ($toThePhrase: 1).]
(if: $architecture is in (a: &quot;tower&quot;, &quot;flat&quot;, &quot;hilly&quot;))[From here you may go ($downAB: &quot;room6&quot;) ($toThePhrase: 6) or $UDandToThe [[$rightOnScreen-&gt;entrance6]]$ladder ($toStairsOrEntrance:).]
(if: $architecture is in (a: &quot;castle&quot;))[From here you can go ($downAB: &quot;room6&quot;) ($toThePhrase: 6) or [[$forward-&gt;castleWall3]] ($towardsThePhrase: 1).]
(if: $architecture is in (a: &quot;crypt&quot;))[From here you can go ($downAB: &quot;room6&quot;) ($toThePhrase: 6) or [[$forward-&gt;room1]] ($toThePhrase: 1).]
(if: $architecture is in (a: &quot;mansion&quot;) and $upOnScreenAB is &quot;up&quot;)[From here you can go ($downAB: &quot;room6&quot;). You may also go [[$upToAttic-&gt;castleWall3]].]
(if: $architecture is in (a: &quot;mansion&quot;) and $upOnScreenAB is &quot;down&quot;)[From here you can go ($downAB: &quot;room6&quot;). You may also go [[$secretPassage2-&gt;castleWall3]].]
]
}</tw-passagedata><tw-passagedata pid="90" name="architecture general functions" tags="startup" position="379,2381" size="100,100">{
(if: $architecture is &quot;2storey&quot;)[(set: $stairway to &quot;stairway&quot;)]
(if: $architecture is in (a:&quot;flat&quot;,&quot;hilly&quot;,&quot;castle&quot;))[(set: $stairway to 2nd of (str: $decadeReference) of $passageTerms)]
(if: $architecture is in (a:&quot;tower&quot;))[(set: $stairway to 5th of (str: $decadeReference) of $generalLanguage)]

&lt;!-- GENERAL FUNCTIONS --&gt;
&lt;!-- rotates a given compass point by 45 degrees, turning north to northeast, etc.  
Presupposes: it receives a compass point as argument
Called By: various
--&gt;
(set: $rotateCompass45 to 
(macro: str-type _direction, [
	(set: _x to (cond: 
		_direction is &quot;north&quot;,&quot;northeast&quot;,
		_direction is &quot;northeast&quot;,&quot;east&quot;,
		_direction is &quot;east&quot;,&quot;southeast&quot;,
		_direction is &quot;southeast&quot;,&quot;south&quot;,
		_direction is &quot;south&quot;,&quot;southwest&quot;,
		_direction is &quot;southwest&quot;,&quot;west&quot;,
		_direction is &quot;west&quot;,&quot;northwest&quot;,
		_direction is &quot;northwest&quot;,&quot;north&quot;,
		&quot;error: rotatecompass45 not given a compass direction&quot;))
	(output-data:_x)
	]))
	
&lt;!-- further rotation functions.  
Presupposes: they receive a compass point as argument
Called By: various
--&gt;
(set: $rotateCompass90 to 
(macro: str-type _direction, [
	(set: _rotate90 to ($rotateCompass45: ($rotateCompass45: _direction)))
	(output-data:_rotate90)
	]))

(set: $rotateCompass180 to 
(macro: str-type _direction, [
	(set: _rotate180 to ($rotateCompass90: ($rotateCompass90: _direction)))
	(output-data:_rotate180)
	]))
	
(set: $rotateCompass270 to 
(macro: str-type _direction, [
	(set: _rotate270 to ($rotateCompass90: ($rotateCompass180: _direction)))
	(output-data:_rotate270)
	]))

&lt;!-- flips a given compass point, turning north to south, etc.  
Presupposes: it receives a compass point as argument
Called By: flipFlatIfRandom
--&gt;
(set: $flipCompass to 
(macro: str-type _direction, [
	(set: _x to (cond: 
		_direction is &quot;north&quot;,&quot;south&quot;,
		_direction is &quot;northeast&quot;,&quot;southwest&quot;,
		_direction is &quot;east&quot;,&quot;west&quot;,
		_direction is &quot;southeast&quot;,&quot;northwest&quot;,
		_direction is &quot;south&quot;,&quot;north&quot;,
		_direction is &quot;southwest&quot;,&quot;northeast&quot;,
		_direction is &quot;west&quot;,&quot;east&quot;,
		_direction is &quot;northwest&quot;,&quot;southeast&quot;,
		&quot;error: flipCompass not given a compass direction&quot;))
	(output-data:_x)
	]))
	
&lt;!-- For testing. Sets directionIn to one of four random compass points. 
Presupposes: it receives a compass point as argument
Called By: Called directly in testing passages. 
--&gt;
(set: $randomWayIn to 
(macro: [
	(set: _x to ($srandom: 3))
	(set: $directionIn to (cond:
		_x is 0, &quot;north&quot;,
		_x is 1, &quot;east&quot;,
		_x is 2, &quot;south&quot;,	
		_x is 3, &quot;west&quot;,
		&quot;error: variable for $randomWayIn out of range.&quot;))
	(output-data:&quot;&quot;)
	]))
	


}</tw-passagedata><tw-passagedata pid="91" name="test tower" tags="" position="612,2389" size="100,100">(set: $decadeNum to 30) 
(set: $decadeNumber to 1130)
(set: $palaces to (a:1130))
(set: $hundredNumber to 1100)
(set: $floorInt to 11)
(set: $decadeString to (str: $decadeNum))
(set: $decadeReference to $hundredNumber + $decadeNum + 1) 
(set: $referenceString to (str: $decadeReference))
(set: $seedIndex to 1)
(set: $randomSeed to (str: $decadeReference - 1) of $randomMaps)
(set: $architecture to &quot;tower&quot;)
($randomWayIn:)
($buildTower:)
($fixOptionalPaths:)


($refreshSentences:) 

The startRoom is $startRoom
You are heading $directionIn [[into a tower-&gt;$startRoom]]. </tw-passagedata><tw-passagedata pid="92" name="test hills" tags="" position="766,2391" size="100,100">(set: $decadeNum to 0) 
(set: $decadeNumber to 1100)
(set: $forests to (a:1100))
(set: $hundredNumber to 1100)
(set: $floorInt to 11)
(set: $decadeString to (str: $decadeNum))
(set: $decadeReference to $hundredNumber + $decadeNum + 1) 
(set: $referenceString to (str: $decadeReference))
(set: $seedIndex to 1)
(set: $randomSeed to (str: $decadeReference - 1) of $randomMaps)
(set: $architecture to &quot;hilly&quot;)
($randomWayIn:)
($buildHills:)
($setLadder:)
($setUpAndToThe:)
($setDownAndToThe:)
($fixOptionalPaths:)
(set: $stairway to &quot;hill&quot;)
(set: $inTheEntranceHall to &quot;at the entrance to a forest&quot;)
($refreshSentences:) 

The startRoom is $startRoom
You are heading $directionIn [[into a wood-&gt;$startRoom]]. </tw-passagedata><tw-passagedata pid="93" name="test flat" tags="" position="901,2389" size="100,100">(set: $decadeNum to 0) 
(set: $hundredNumber to 800)
(set: $decadeNumber to $hundredNumber + $decadeNum)

(set: $swamps to (a:800))
(set: $floorInt to 8)
(set: $decadeString to (str: $decadeNum))
(set: $decadeReference to $hundredNumber + $decadeNum + 1) 
(set: $referenceString to (str: $decadeReference))
(set: $seedIndex to 1)
(set: $randomSeed to (str: $decadeReference - 1) of $randomMaps)
(set: $architecture to &quot;flat&quot;)
($randomWayIn:)
($buildFlat:)
($setLadder:)
($setUpAndToThe:)
($setDownAndToThe:)
($fixOptionalPaths:)
(set: $passageAdj to 1st of $referenceString of $passageTerms)
(set: $passageNoun to 2nd of $referenceString of $passageTerms)
(set: $stairway to &quot;on a long &quot; + $passageAdj + &quot; &quot; + $passageNoun)
(set: $stairway2 to &quot;on a windswept &quot; + $passageNoun)
(set: $inTheEntranceHall to &quot;at the entrance to a swamp&quot;)
($refreshSentences:) 
($setStairDirections:)

The direction in is $directionIn
The startRoom is $startRoom
You are heading $directionIn [[into a wood-&gt;$startRoom]]. 

The startRoomLog is $strtLOG</tw-passagedata><tw-passagedata pid="94" name="test house" tags="" position="1054,2381" size="100,100">(set: $floorInt to 1)
(set: $hundredNumber to $floorInt*100)

(set: $imageType to 1) 
(set: $decadeNum to 40) 
(set: $decadeNumber to $hundredNumber + $decadeNum)

(set: $decadeString to (str: $decadeNum))
(set: $decadeReference to $hundredNumber + $decadeNum + 1) 
(set: $referenceString to (str: $decadeReference))
(set: $seedIndex to 1)
(set: $randomSeed to (str: $decadeReference - 1) of $randomMaps)
(set: $roomAdjective to &quot;a &quot;)
(set: $complexLanguage to (str: $decadeReference) of $generalLanguage)
($refreshSentences:) 

($setImage:)
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1442);&lt;/script&gt;]



(set: $buildings to (a:140))



($randomWayIn:)
($buildHouse:)
($fixOptionalPaths:)

($refreshSentences:) 

The direction in is $directionIn
The startRoom is $startRoom
You are heading $directionIn [[into a house-&gt;$startRoom]]. 

</tw-passagedata><tw-passagedata pid="95" name="test crypt" tags="" position="1480,2380" size="100,100">{(set: $floorInt to 7)
(set: $hundredNumber to $floorInt*100)

(set: $imageType to 1) 
(set: $decadeNum to 90) 
(set: $decadeNumber to $hundredNumber + $decadeNum)

(set: $decadeString to (str: $decadeNum))
(set: $decadeReference to $hundredNumber + $decadeNum + 1) 
(set: $referenceString to (str: $decadeReference))
(set: $seedIndex to 1)
(set: $randomSeed to (str: $decadeReference - 1) of $randomMaps)
(set: $roomAdjective to &quot;a &quot;)
(set: $complexLanguage to (str: $decadeReference) of $generalLanguage)
($refreshSentences:) 

($setImage:)
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1442);&lt;/script&gt;]



(set: $crypts to (a:790))



($randomWayIn:)
($buildCrypt:)

($fixOptionalPaths:)
($refreshSentences:) 
}
The direction in is $directionIn
The startRoom is $startRoom
You are heading $directionIn [[into a castle-&gt;$startRoom]]. 

</tw-passagedata><tw-passagedata pid="96" name="test pit" tags="" position="1346,2381" size="100,100">(set: $floorInt to 3)
(set: $hundredNumber to $floorInt*100)

(set: $imageType to 1) 
(set: $decadeNum to 60) 
(set: $decadeNumber to $hundredNumber + $decadeNum)

(set: $decadeString to (str: $decadeNum))
(set: $decadeReference to $hundredNumber + $decadeNum + 1) 
(set: $referenceString to (str: $decadeReference))
(set: $seedIndex to 1)
(set: $randomSeed to (str: $decadeReference - 1) of $randomMaps)
(set: $roomAdjective to &quot;a &quot;)
(set: $complexLanguage to (str: $decadeReference) of $generalLanguage)
($refreshSentences:) 

($setImage:)
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1442);&lt;/script&gt;]



(set: $mines to (a:360))
(set: $architecture to &quot;tower&quot;)



($randomWayIn:)
($buildPit:)
($setLadder:)
($setUpAndToThe:)
($setDownAndToThe:)
($fixOptionalPaths:)
(set: $passageAdj to 1st of $referenceString of $passageTerms)
(set: $passageNoun to 2nd of $referenceString of $passageTerms)
(set: $stairway to &quot;in the main shaft&quot;)
(set: $stairway2 to &quot;in a narrow shaft&quot;)
(set: $inTheEntranceHall to &quot;at the mine head&quot;)
($setStairDirections:)

The direction in is $directionIn
The startRoom is $startRoom
You are heading $directionIn [[into a pit-&gt;$startRoom]]. 

</tw-passagedata><tw-passagedata pid="97" name="flat architecture" tags="" position="379,2496" size="100,100">{&lt;!-- SET UP FLAT ARCHITECTURE--&gt;
(set: $setScreenValuesForFlat to 
(macro: [
	(set: $upOnScreenAB to &quot;north&quot;)
	(set: $upOnScreenBC to &quot;north&quot;)
	(set: $downOnScreenAB to &quot;south&quot;)
	(set: $downOnScreenBC to &quot;south&quot;)
	(set: $upRound to &quot;N/A&quot;)
	(set: $downRound to &quot;N/A&quot;)
	(set: $rightOnScreen to &quot;east&quot;)
	(set: $leftOnScreen to &quot;west&quot;)
	(output-data:&quot;&quot;)
	]))
	
&lt;!-- rotates flat by 45 degrees, turning north to northeast, etc.  
Presupposes: setScreenValuesForFlat has been called, fixing values for upScreen downScreen etc
Called By: none, chose rotate90 instead. 
--&gt;
(set: $rotateFlat45 to 
(macro: [
	(set: $downOnScreenAB to ($rotateCompass45: $downOnScreenAB))
	(set: $downOnScreenBC to ($rotateCompass45: $downOnScreenBC))
	(set: $upOnScreenAB to ($rotateCompass45: $upOnScreenAB))
	(set: $upOnScreenBC to ($rotateCompass45: $upOnScreenBC))
	(set: $rightOnScreen to ($rotateCompass45: $rightOnScreen))
	(set: $leftOnScreen to ($rotateCompass45: $leftOnScreen))
	(output-data:&quot;&quot;)
	]))
	
&lt;!-- rotates flat by 90 degrees, turning north to east, etc. Rotates the startRoom in the opposite direction to compensate.   
Presupposes: values have been assigned
Called By: rotateFlatByRandom45 (legacy), rotateFlatByRandom90
--&gt;
(set: $rotateFlat90 to 
(macro: [
	(set: $downOnScreenAB to ($rotateCompass90: $downOnScreenAB))
	(set: $downOnScreenBC to ($rotateCompass90: $downOnScreenBC))
	(set: $upOnScreenAB to ($rotateCompass90: $upOnScreenAB))
	(set: $upOnScreenBC to ($rotateCompass90: $upOnScreenBC))
	(set: $rightOnScreen to ($rotateCompass90: $rightOnScreen))
	(set: $leftOnScreen to ($rotateCompass90: $leftOnScreen))
	($rotateStartBy270:)
	(output-data:&quot;&quot;)
	]))

&lt;!-- reassigns startRoom to one that is on the CW perpendicular side of the map. When there are two entrances on that side, decides at random. Note that the startRoom cannot be higher than ground level, so the startRoom is later used to determined ground level.   
Presupposes: setScreenValuesForFlat has been called, fixing values for upScreen downScreen etc
Presupposes: startRoom has been assigned. 
Called By: none, legacy. rotateFlatByRandom45 (not used), rotateFlatByRandom90
--&gt;
(set: $rotateStartBy90 to 
(macro: [
	(set: _x to (cond: 
		$startRoom is &quot;entrance4&quot;, ($randomStart: &quot;entrance5&quot;, &quot;entrance6&quot;),
		$startRoom is &quot;entrance5&quot;, &quot;entrance1&quot;,
		$startRoom is &quot;entrance6&quot;, &quot;entrance1&quot;,
		$startRoom is &quot;entrance1&quot;, ($randomStart: &quot;entrance2&quot;, &quot;entrance3&quot;),
		$startRoom is &quot;entrance2&quot;, &quot;entrance4&quot;,
		$startRoom is &quot;entrance3&quot;, &quot;entrance4&quot;,
		&quot;error: flipStartUD did not recognize entrance&quot;))
	(set: $startRoom to _x)
	(output-data:&quot;&quot;)
	]))
	
&lt;!-- reassigns startRoom to one that is on the CW perpendicular side of the map. When there are two entrances on that side, decides at random. Note that the startRoom cannot be higher than ground level, so the startRoom is later used to determined ground level.   
Presupposes: setScreenValuesForFlat has been called, fixing values for upScreen downScreen etc
Presupposes: startRoom has been assigned. 
Called By: rotateFlatByRandom45 (not used), rotateFlatByRandom90
--&gt;
(set: $rotateStartBy270 to 
(macro: [
	(set: _x to (cond: 
		$startRoom is &quot;entrance4&quot;, ($randomStart: &quot;entrance2&quot;, &quot;entrance3&quot;),
		$startRoom is &quot;entrance5&quot;, &quot;entrance4&quot;,
		$startRoom is &quot;entrance6&quot;, &quot;entrance4&quot;,
		$startRoom is &quot;entrance1&quot;, ($randomStart: &quot;entrance5&quot;, &quot;entrance6&quot;),
		$startRoom is &quot;entrance2&quot;, &quot;entrance1&quot;,
		$startRoom is &quot;entrance3&quot;, &quot;entrance1&quot;,
		&quot;error: flipStartUD did not recognize entrance&quot;))
	(set: $startRoom to _x)
	(output-data:&quot;&quot;)
	]))
	
(set: $randomStart to 
(macro: str-type _entrance1, str-type _entrance2, [
	(set: _x to ($srandom: 1))
	(set: _randomStart to (cond:
		_x is 0, _entrance1,
		_x is 1, _entrance2,
		&quot;NA&quot;))
	(output-data:_randomStart)
	]))
	
	
&lt;!-- rotates flat by random amount, 45 degree increments. Calls random number and does a series of &lt; tests on it, rotating the flat by 45 degrees for each one it passes. 
Presupposes: setScreenValuesForFlat has been called, fixing values for upScreen and downScreen etc
Called By: none. Chose rotate by 90 instead. 
--&gt;
(set: $rotateFlatByRandom45 to 
(macro: [
	(set: _x to ($srandom: 7))
	(if: _x &lt; 1) [($rotateFlat45:)]
	(if: _x &lt; 2) [($rotateFlat45:)]
	(if: _x &lt; 3) [($rotateFlat45:)]
	(if: _x &lt; 4) [($rotateFlat45:)]
	(if: _x &lt; 5) [($rotateFlat45:)]
	(if: _x &lt; 6) [($rotateFlat45:)]
	(if: _x &lt; 7) [($rotateFlat45:)]
	(output-data:_x)
	]))
	
	
&lt;!-- rotates flat by random amount, 90 degree increments. Calls random number and does a series of &lt; tests on it, rotating the flat by 45 degrees for each one it passes. 
Presupposes: setScreenValuesForFlat has been called, fixing values for upScreen and downScreen etc
Called By: buildFlat
--&gt;
(set: $rotateFlatByRandom90 to 
(macro: [
	(set: _x to ($srandom: 3))
	(if: _x &lt; 1) [($rotateFlat90:)]
	(if: _x &lt; 2) [($rotateFlat90:)]
	(if: _x &lt; 3) [($rotateFlat90:)]
	(output-data:_x)
	]))

&lt;!-- decides whether to flip the map left to right.  
Presupposes: setScreenValuesForFlat has been called, fixing values for upScreen and downScreen etc
Called By: buildFlat
--&gt;
(set: $randomFlipLR to 
(macro: [
	(set: _x to ($srandom: 1))
	(if: _x is 1) [
		(set: $rightOnScreen to ($flipCompass: $rightOnScreen))
		(set: $leftOnScreen to ($flipCompass: $leftOnScreen))
		($flipStartLR:)
		]
	(output-data:&quot;&quot;)
	]))
	
&lt;!-- decides whether to flip the map up to down.  
Presupposes: setScreenValuesForFlat has been called, fixing values for upScreen and downScreen etc
Called By: buildFlat
--&gt;
(set: $randomFlipUD to 
(macro: [
	(set: _x to ($srandom: 1))
	(if: _x is 1) [
		(set: $downOnScreenAB to ($flipCompass: $downOnScreenAB))
		(set: $downOnScreenBC to ($flipCompass: $downOnScreenBC))
		(set: $upOnScreenAB to ($flipCompass: $upOnScreenAB))
		(set: $upOnScreenBC to ($flipCompass: $upOnScreenBC))
		($flipStartUD:)
		]
	(output-data:&quot;&quot;)
	]))

&lt;!-- maps a start room onto its nearest opposite start room at the otherr side of the map.  
Presupposes: startRoom has been assigned. The entrances listed are opposite.  
Called By: randomFlipUD
--&gt;

(set: $flipStartUD to 
(macro: [
	(set: _x to (cond: 
		$startRoom is &quot;entrance3&quot;, &quot;entrance5&quot;,
		$startRoom is &quot;entrance2&quot;, &quot;entrance6&quot;,
		$startRoom is &quot;entrance5&quot;, &quot;entrance3&quot;,
		$startRoom is &quot;entrance6&quot;, &quot;entrance2&quot;,
		$startRoom))
	(set: $startRoom to _x)
	(output-data:&quot;&quot;)
	]))


&lt;!-- maps a start room onto its nearest opposite start room at the otherr side of the map.  
Presupposes: startRoom has been assigned. The entrances listed are opposite.  
Called By: randomFlipLR
--&gt;
(set: $flipStartLR to 
(macro: [
	(set: _x to (cond: 
		$startRoom is &quot;entrance3&quot;, &quot;entrance2&quot;,
		$startRoom is &quot;entrance2&quot;, &quot;entrance3&quot;,
		$startRoom is &quot;entrance5&quot;, &quot;entrance6&quot;,
		$startRoom is &quot;entrance6&quot;, &quot;entrance5&quot;,
		$startRoom is &quot;entrance1&quot;, &quot;entrance4&quot;,
		$startRoom is &quot;entrance4&quot;, &quot;entrance1&quot;,
		$startRoom))
	(set: $startRoom to _x)
	(output-data:&quot;&quot;)
	]))


(set: $setStartRoomForFlat to 
(macro: [
	(if: $directionIn is &quot;north&quot;)[
		(set: _x to ($srandom: 1))
		(if: _x is 0)[(set: $startRoom to &quot;entrance2&quot;)]
		(else:)[(set: $startRoom to &quot;entrance3&quot;)]
												($startRoomLog2:1)
		]
	(if: $directionIn is &quot;east&quot;)[
		(set: $startRoom to &quot;entrance4&quot;)
		]	
	(if: $directionIn is &quot;south&quot;)[
		(set: _x to ($srandom: 1))
		(if: _x is 0)[(set: $startRoom to &quot;entrance5&quot;)]
		(else:)[(set: $startRoom to &quot;entrance6&quot;)]
		]
	(if: $directionIn is &quot;west&quot;)[
		(set: $startRoom to &quot;entrance1&quot;)
		]
	(output-data:&quot;&quot;)
	]))

(set: $buildFlat to 
(macro: [
	($setStartRoomForFlat:)
	($setScreenValuesForFlat:)
	($rotateFlatByRandom90:)
	($randomFlipLR:)
	($randomFlipUD:)
	($setFlatVocab:)
	(output-data:&quot;&quot;)
	]))
	
(set: $setFlatVocab to 
(macro: [
	(set: $castleSteps to &quot;&quot;)
	(set: $inTheEntranceHall to &quot;in a gatehouse beneath a heavy portcullis&quot;)
	($setLadder:)
	($setUpAndToThe:)
	($setDownAndToThe:)
	(set: $passageNoun to &quot;stairwell&quot;)
	(output-data:&quot;&quot;)
	]
	))

}</tw-passagedata><tw-passagedata pid="98" name="error checkers" tags="" position="377,2619" size="100,100">{&lt;!-- ERROR CHECKER--&gt;

(set: $startRoomChecker to 
(macro: num-type _index, [
	(set: $errorNum to (str: _index))
	(if: $startRoom is in (a:&quot;entrance5&quot;, &quot;entrance6&quot;) and $downOnScreenAB is not &quot;east&quot;)[(error: &quot;$startRoom is &quot; + $startRoom + &quot; but dAB is &quot; + $downOnScreenAB + &quot;; &quot; + $errorNum)] 
	(if: $startRoom is in (a:&quot;entrance4&quot;) and $rightOnScreen is not &quot;east&quot;)[(error: &quot;$startRoom is &quot; + $startRoom + &quot; but RoS is &quot; + $rightOnScreen + &quot;; &quot; + $errorNum)]
	(if: $startRoom is in (a:&quot;entrance1&quot;) and $leftOnScreen is not &quot;east&quot;)[(error: &quot;$startRoom is &quot; + $startRoom + &quot; but LoS is &quot; + $leftOnScreen + &quot;; &quot; + $errorNum)]
	(if: $startRoom is in (a:&quot;entrance2&quot;, &quot;entrance3&quot;) and $upOnScreenAB is not &quot;east&quot;)[(error: &quot;$startRoom is &quot; + $startRoom + &quot; but UoS is &quot; + $upOnScreenAB + &quot;; &quot; + $errorNum)] 
	(output-data:&quot;&quot;)
	]))

(set: $strtLOG to (a:&quot;initiated&quot;))

(set: $startRoomLog to 
(macro: num-type _index, [
	(set: $errorNum to (str: _index))
	(if: $startRoom is in (a:&quot;entrance5&quot;, &quot;entrance6&quot;) and $downOnScreenAB is not &quot;east&quot;)[(set: $strtLOG to it + (a:&quot;startRoom is &quot; + $startRoom + &quot; but dAB is &quot; + $downOnScreenAB + &quot;; &quot; + $errorNum))] 
	(if: $startRoom is in (a:&quot;entrance4&quot;) and $rightOnScreen is not &quot;east&quot;)[(set: $strtLOG to it + (a:&quot;startRoom is &quot; + $startRoom + &quot; but RoS is &quot; + $rightOnScreen + &quot;; &quot; + $errorNum))]
	(if: $startRoom is in (a:&quot;entrance1&quot;) and $leftOnScreen is not &quot;east&quot;)[(set: $strtLOG to it + (a:&quot;startRoom is &quot; + $startRoom + &quot; but LoS is &quot; + $leftOnScreen + &quot;; &quot; + $errorNum))]
	(if: $startRoom is in (a:&quot;entrance2&quot;, &quot;entrance3&quot;) and $upOnScreenAB is not &quot;east&quot;)[(set: $strtLOG to it + (a:&quot;startRoom is &quot; + $startRoom + &quot; but UoS is &quot; + $upOnScreenAB + &quot;; &quot; + $errorNum))] 
	(output-data:&quot;&quot;)
	]))

(set: $startRoomLog2 to 
(macro: num-type _index, [
	(set: $errorNum to (str: _index))
	(set: $strtLOG to it + (a:&quot;::: &quot; + $startRoom + &quot;::: &quot; + &quot;( &quot; + $errorNum + &quot; )&quot;))
	(output-data:&quot;&quot;)
	]))
	
	}</tw-passagedata><tw-passagedata pid="99" name="house architecture" tags="startup" position="532,2571" size="100,100">{(set: $buildHouse to 
(macro: [
	($buildFlat:)
	(if: $startRoom is in (a:&quot;entrance3&quot;,&quot;entrance4&quot;,&quot;entrance5&quot;))
		[(set: $downstairs to &quot;left&quot;)]
	(else:) [(set: $downstairs to &quot;right&quot;)]
	(set: $architecture to &quot;house&quot;)
	($setHouseVocab:)
	(output-data:&quot;&quot;)
	]))

(set: $setStairDirections to 
(macro: [
	(if: $downstairs is &quot;left&quot;)[
		(set: $DUandToThe to &quot;down and to the&quot;)
		(set: $UDandToThe to &quot;up and to the&quot;)
		(set: $upTerm to &quot;up&quot;)
		(set: $downTerm to &quot;down&quot;)
		(set: $leftStairs to &quot;on the ground floor&quot;)
		(set: $rightStairs to &quot;on the upstairs floor&quot;)
		(set: $inTheEntranceHall to &quot;at the servant&#39;s entrance&quot;)
		]
	(else:) [
		(set: $DUandToThe to &quot;up and to the&quot;)
		(set: $UDandToThe to &quot;down and to the&quot;)
		(set: $upTerm to &quot;down&quot;)
		(set: $downTerm to &quot;up&quot;)
		(set: $leftStairs to &quot;on the upstairs floor&quot;)
		(set: $rightStairs to &quot;on the ground floor&quot;)
		(set: $inTheEntranceHall to &quot;in an entrance hall&quot;)
		]
	(unless: $architecture is &quot;house&quot;)[
		(set: $DUandToThe to &quot;&quot;)
		(set: $UDandToThe to &quot;&quot;)
		(set: $upTerm to &quot;&quot;)
		(set: $downTerm to &quot;&quot;)
		(set: $upstairs to &quot;&quot;)
		(set: $downstairs to &quot;&quot;)
	]
	(output-data:&quot;&quot;)
	]
		))
		
(set: $setHouseVocab to 
(macro: [
	($setStairDirections:)
	($setLadder:)
	($setUpAndToThe:)
	($setDownAndToThe:)
	(set: $passageAdj to 1st of $referenceString of $passageTerms)
	(set: $passageNoun to 2nd of $referenceString of $passageTerms)
	(set: $stairway to &quot;on a wide staircase&quot;)
	(set: $stairway2 to &quot;on a narrow rear staircase&quot;)
	(output-data:&quot;&quot;)
	]
	))
		
}</tw-passagedata><tw-passagedata pid="100" name="test castle" tags="" position="1212,2382" size="100,100">{(set: $floorInt to 11)
(set: $hundredNumber to $floorInt*100)

(set: $imageType to 1) 
(set: $decadeNum to 80) 
(set: $decadeNumber to $hundredNumber + $decadeNum)

(set: $decadeString to (str: $decadeNum))
(set: $decadeReference to $hundredNumber + $decadeNum + 1) 
(set: $referenceString to (str: $decadeReference))
(set: $seedIndex to 1)
(set: $randomSeed to (str: $decadeReference - 1) of $randomMaps)
(set: $roomAdjective to &quot;a &quot;)
(set: $complexLanguage to (str: $decadeReference) of $generalLanguage)
($refreshSentences:) 

($setImage:)
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1442);&lt;/script&gt;]



(set: $barracks to (a:1180))



($randomWayIn:)
($buildCastle:)

($fixOptionalPaths:)
($refreshSentences:) 
}
The direction in is $directionIn
The startRoom is $startRoom
You are heading $directionIn [[into a castle-&gt;$startRoom]]. 

</tw-passagedata><tw-passagedata pid="101" name="tower architecture" tags="startup" position="532,2702" size="100,100">{&lt;!-- TOWER --&gt;

&lt;!-- decides randomly whether downOnScreen corresponds to clockwise or counterclockwise around the tower 
Presupposes: nothing
Called By: nothing. Legacy. 
--&gt;

(set: $towerWise to 
(macro: [
	(set: _x to ($srandom: 1))
	(if: _x is 0)[
		(set: $downOnScreenAB to &quot;west&quot;)
		(set: $downOnScreenBC to &quot;northeast&quot;)
		(set: $downRound to &quot;southeast&quot;)
		]
	(else:)[
		(set: $downOnScreenAB to &quot;east&quot;)
		(set: $downOnScreenBC to &quot;northwest&quot;)
		(set: $downRound to &quot;southwest&quot;)
		]
	(output-data:&quot;&quot;)
	]))



&lt;!-- rotates tower by 45 degrees, turning north to northeast, etc.  
Presupposes: towerwise and setScreenValuesForTower have been called, fixing values for upScreen and downScreen
Called By: nothing. Legacy. 
--&gt;
(set: $rotateTower45 to 
(macro: [
	(set: $downOnScreenAB to ($rotateCompass45: $downOnScreenAB))
	(set: $downOnScreenBC to ($rotateCompass45: $downOnScreenBC))
	(set: $downRound to ($rotateCompass45: $downRound))
	(set: $upOnScreenAB to ($rotateCompass45: $upOnScreenAB))
	(set: $upOnScreenBC to ($rotateCompass45: $upOnScreenBC))
	(set: $upRound to ($rotateCompass45: $upRound))
	(output-data:&quot;&quot;)
	]))

&lt;!-- rotates tower by random amount. Calls random number and does a series of &lt; tests on it, rotating the tower by 45 degrees for each one it passes. 
Presupposes: towerwise and setScreenValuesForTower have been called, fixing values for upScreen and downScreen
Called By: nothing. Legacy. 
--&gt;
(set: $rotateTowerByRandom to 
(macro: [
	(set: _x to ($srandom: 7))
	(if: _x &lt; 1) [($rotateTower45:)]
	(if: _x &lt; 2) [($rotateTower45:)]
	(if: _x &lt; 3) [($rotateTower45:)]
	(if: _x &lt; 4) [($rotateTower45:)]
	(if: _x &lt; 5) [($rotateTower45:)]
	(if: _x &lt; 6) [($rotateTower45:)]
	(if: _x &lt; 7) [($rotateTower45:)]
	(output-data:_x)
	]))

&lt;!-- sets startRoom to be a room at the bottom of the tower, i.e. extreme right or left of map, to be determined randomly. Then decides whiich way is up, accordingly. 
Presupposes: directionIn has been set.  
Called By: buildTower
--&gt;
(set: $setTowerStartroom to 
(macro: [
	(set: _x to ($srandom: 1))
	(if: _x is 0)[
		(set:$startRoom to &quot;entrance1&quot;)
		(set:$leftOnScreen to &quot;up&quot;)
		(set:$rightOnScreen to &quot;down&quot;)		
		]
	(if: _x is 1)[
		(set:$startRoom to &quot;entrance4&quot;)
		(set: $leftOnScreen to &quot;down&quot;)
		(set:$rightOnScreen to &quot;up&quot;)	
		]
	(output-data:&quot;&quot;)
	]))
	
&lt;!-- sets upOnScreen, downOnScreen and upRound, downRound to take one around a level of the tower. Assigns compass values to (three of) them based on directionIn. Randomly decides whether to reverse them. Then fixes the others accordingly. 
Presupposes: directionIn has been set, $setTowerStartroom has already been called. 
Called By: buildTower
--&gt;

(set: $setScreenValuesForTower to 
(macro: [
	(set: $downOnScreenBC to ($rotateCompass45: $directionIn))
	(set: $upOnScreenAB to ($rotateCompass270: $downOnScreenBC))
	(set: $downRound to ($rotateCompass90: $directionIn))
	(set: _x to ($srandom: 1))
	(if: _x is 0)[
		(set: _y to $upOnScreenAB)
		(set: $upOnScreenAB to $downOnScreenBC)
		(set: $downOnScreenBC to _y)
		(set: $downRound to ($flipCompass: $downRound))]
	(set: $downOnScreenAB to ($flipCompass: $upOnScreenAB))
	(set: $upOnScreenBC to ($flipCompass: $downOnScreenBC))
	(set: $upRound to ($flipCompass: $downRound))
	(output-data:&quot;&quot;)
	]))

	
(set: $buildTower to 
(macro: [
	($setTowerStartroom:)
	($setScreenValuesForTower:)
	($setTowerVocab:)
	(output-data:&quot;&quot;)
	]))
	
(set: $setLadder to
(macro: [
	(set: $ladder to &quot;&quot;)
	(if: $architecture is &quot;tower&quot;)[(set: $ladder to &quot; &quot; + 5th of $referenceString of $generalLanguage)]
	(output-data: &quot;&quot;)
	]))
	
(set: $setTowerVocab to 
(macro: [
	(set: $onAstairway to &quot;on a wide stairwell&quot;)
	(set: $onAstairway2 to &quot;on a narrow stairwell&quot;)
	(set: $stairWay to &quot;stairwell&quot;)
	($setLadder:)
	($setUpAndToThe:)
	($setDownAndToThe:)
	(set: $inTheEntranceHall to &quot;in an entrance hall&quot;)
	(output-data:&quot;&quot;)
	]
	))
	}</tw-passagedata><tw-passagedata pid="102" name="pit architecture" tags="startup" position="696,2574" size="100,100">{&lt;!-- sets startRoom to be a room at the top of the pit, i.e. extreme right or left of map, to be determined randomly. Then decides which way is up, accordingly. 
Presupposes: directionIn has been set.  
Called By: buildPit
--&gt;
(set: $setPitStartroom to 
(macro: [
	(set: _x to ($srandom: 1))
	(if: _x is 0)[
		(set:$startRoom to &quot;entrance1&quot;)
		(set:$leftOnScreen to &quot;down&quot;)
		(set:$rightOnScreen to &quot;up&quot;)		
		]
	(if: _x is 1)[
		(set:$startRoom to &quot;entrance4&quot;)
		(set: $leftOnScreen to &quot;up&quot;)
		(set:$rightOnScreen to &quot;down&quot;)	
		]
	(output-data:&quot;&quot;)
	]))
	
(set: $buildPit to 
(macro: [
	($setPitStartroom:)
	($setScreenValuesForTower:)
	(output-data:&quot;&quot;)
	]))
	}</tw-passagedata><tw-passagedata pid="103" name="architecture vocab" tags="startup" position="687,2696" size="100,100">{
(set: $setUpAndToThe to
(macro: [
	(set: $upAndToThe to &quot;&quot;)
	(if: $architecture is &quot;hilly&quot;)[(set: $upAndToThe to &quot;up and to the&quot;)]
	(output-data: &quot;&quot;)
	]))
	
(set: $setDownAndToThe to
(macro: [
	(set: $downAndToThe to &quot;&quot;)
	(if: $architecture is &quot;hilly&quot;)[(set: $downAndToThe to &quot;down and to the&quot;)]
	(output-data: &quot;&quot;)
	]))


(set: $directionJoined to
(macro: str-type _firstDir, str-type _secondDir, [
	(if: _firstDir is in (a: &quot;north&quot;, &quot;south&quot;))
		[(output-data: (joined: &quot;&quot;,_firstDir,_secondDir))]
	(else:) [(output-data: (joined: &quot;&quot;,_secondDir,_firstDir))]
	(output-data: &quot;&quot;)
	]))

&lt;!-- tells the player durinng game time what a direction link leads to. E.g. instead of just &quot;east&quot;, the game prints out &quot;east to an armory&quot;. Works by temporarily changing the roomNumber to the roomNumber of the distal location, then evaluatinig for vocab. 
Presupposes: receives distal room number as argument
Called By: Either called directly in passages or by setToTheWords. 
--&gt;
(set: $toThePhrase to 
(macro: num-type _roomNumber, [	
	(set: _originalNumber to $roomNumber)
	(set: $roomNumber to _roomNumber)
	($setRoomPhrase:)
	(set: _phrase to &quot; to &quot; +
		$roomAdjective +
		$roomNoun)
	(set: $roomNumber to _originalNumber)
	(output-data: _phrase)
		]
		))

&lt;!-- as toThePhrase but with &quot;towards&quot; 
--&gt;
(set: $towardsThePhrase to 
(macro: num-type _roomNumber, [	
	(set: _originalNumber to $roomNumber)
	(set: $roomNumber to _roomNumber)
	($setRoomPhrase:)
	(set: _phrase to &quot; towards &quot; +
		$roomAdjective +
		$roomNoun)
	(set: $roomNumber to _originalNumber)
	(output-data: _phrase)
		]
		))

&lt;!-- when given just the room name of the distal location, extracts a number from it and uses it to query toThePhrase. 
Presupposes: receives distal room name as argument
Called By: Either called directly in passages or called by a summary function like downAB. 
--&gt;
(set: $setToTheWords to
(macro: str-type _room, [
	(if: (substring: _room, 1, 4) is &quot;room&quot;)
		[
		(set: $nextRoom to (substring: _room, 5, 5))
		(set: $toTheWords to ($toThePhrase: (num: $nextRoom)))
		]
	(else:)[(set: $toTheWords to &quot;&quot;)]
	(output-data:&quot;&quot;)
	]))

&lt;!-- A summary function that eliminates the need for repetitive code in passages. Combines the optional downAndToThe modifier, the link producing code, the optional castlesteps modifier and the distal descriptor toTheWords.
Presupposes: the pieces combined have been defined. 
Called By: Called directly in passages. 
--&gt;
(set: $downAB to
(macro: str-type _room, [
	($setToTheWords: _room)
	(output-data: &quot;$downAndToThe [[$downOnScreenAB-&gt;&quot; + _room + &quot;]] $castleSteps&quot; + $toTheWords)
	]))
	
&lt;!-- As down AB but for connections from the second to the third tier of map.  
Presupposes: the pieces combined have been defined. 
Called By: Called directly in passages. 
--&gt;
(set: $downBC to
(macro: str-type _room, [
	($setToTheWords: _room)
	(output-data: &quot;$downAndToThe [[$downOnScreenBC-&gt;&quot; + _room + &quot;]] $castleSteps&quot; + $toTheWords)
	]))

&lt;!-- As down AB but for connections in the opposite direction.  
Presupposes: the pieces combined have been defined. 
Called By: Called directly in passages. 
--&gt;
(set: $upAB to
(macro: str-type _room, [
	($setToTheWords: _room)
	(output-data: &quot;$upAndToThe [[$upOnScreenAB-&gt;&quot; + _room + &quot;]] $castleSteps&quot; + $toTheWords)
	]))
	
&lt;!-- As up AB but for connections from the third to the second tier of map. 
Presupposes: the pieces combined have been defined. 
Called By: Called directly in passages. 
--&gt;
(set: $upBC to
(macro: str-type _room, [
	($setToTheWords: _room)
	(output-data: &quot;$upAndToThe [[$upOnScreenBC-&gt;&quot; + _room + &quot;]] $castleSteps&quot; + $toTheWords)
	]))
	
(set: $toStairsOrEntrance to 
(macro: str-type _roomName, [
	(if: $startRoom is _roomName)[(output-data:&quot;to the entrance&quot;)]
	(else:) [
		(if: $architecture is in (a: &quot;crypt&quot;, &quot;mansion&quot;, &quot;castle&quot;))[(output-data:&quot;&quot;)]
		(else:)[(output-data:&quot;to a &quot; + $stairway)]]
	]
	))

(set: $toAnyOrEntrance to 
(macro: str-type _roomName, [
	(if: $startRoom is _roomName)[(output-data:&quot;to the entrance&quot;)]
	(else:) [(output-data:&quot;&quot;)]
	]
	))

(set: $goingFromTo to 
(macro: str-type _direction1, str-type _direction2, [
	(set: _goingFromTo to (cond:
	_direction1 is &quot;north&quot; and _direction2 is &quot;south&quot;, &quot;going from north to south&quot;,
	_direction1 is &quot;south&quot; and _direction2 is &quot;north&quot;, &quot;going from north to south&quot;,
	_direction1 is &quot;east&quot; and _direction2 is &quot;west&quot;, &quot;going from east to west&quot;,
	_direction1 is &quot;west&quot; and _direction2 is &quot;east&quot;, &quot;going from east to west&quot;,
	_direction1 is &quot;up&quot; and _direction2 is &quot;down&quot;, &quot;&quot;,
	_direction1 is &quot;down&quot; and _direction2 is &quot;up&quot;, &quot;&quot;,
	&quot;going from &quot; + _direction1 + &quot;to &quot; + _direction2))
	(output-data:_goingFromTo)
	]
	))	

(set: $forceSpace to &quot; &quot;)
	
}


	</tw-passagedata><tw-passagedata pid="104" name="castle architecture" tags="startup" position="842,2572" size="100,100">{
(set: $setUpDownValuesForCastle to 
(macro: [
	(set: $randomForSetUpDownValuesForCastle to ($srandom: 1))
	(if: $randomForSetUpDownValuesForCastle is 0)[
		(set: $downOnScreenAB to &quot;down&quot;)
		(set: $downOnScreenBC to &quot;down&quot;)
		(set: $upOnScreenAB to &quot;up&quot;)
		(set: $upOnScreenBC to &quot;up&quot;)
		]
	(else:)
		[
		(set: $downOnScreenAB to &quot;up&quot;)
		(set: $downOnScreenBC to &quot;up&quot;)
		(set: $upOnScreenAB to &quot;down&quot;)
		(set: $upOnScreenBC to &quot;down&quot;)
		]
	(output-data:&quot;&quot;)
	]))


	

(set: $setForwardBackwardValuesForCastle to 
(macro: [
	(set: _x to ($srandom: 1))
	(if: _x is 0)
		[(set: $forward to $directionIn)
		(set: $backward to ($flipCompass: $forward))]
	(else:)
		[(set: $backward to $directionIn)
		(set: $forward to ($flipCompass: $backward))]
	(output-data:&quot;&quot;)
	]))
	
(set: $setLeftRightValuesForCastle to 
(macro: [
	(set: _x to ($srandom: 1))
	(if: _x is 0)[
		(set: $leftOnScreen to ($rotateCompass90: $forward))
		(set: $rightOnScreen to ($flipCompass: $leftOnScreen))
		]
	(else:)[
		(set: $leftOnScreen to ($rotateCompass90: $backward))
		(set: $rightOnScreen to ($flipCompass: $leftOnScreen))
		]
	(output-data:&quot;&quot;)
	]))
		

(set: $setCastleVocab to 
(macro: [
	(set: $onAstairway to &quot;on a wide stairwell&quot;)
	(set: $onAstairway2 to &quot;on a narrow stairwell&quot;)
	(set: $stairWay to &quot;stairwell&quot;)
	($setLadder:)
	($setUpAndToThe:)
	($setDownAndToThe:)
	(set: $stairway to &quot;passageway&quot;)
	(set: $passageNoun to &quot;stairwell&quot;)
	(set: $inTheEntranceHall to &quot;in a gatehouse beneath a heavy portcullis&quot;)
	(set: $castleSteps to &quot;some &quot; + (either: &quot;stone &quot;, &quot;&quot;) + &quot;steps&quot;)
	(if: $upOnScreenAB is &quot;up&quot;)
		[
		(set: $upOnTheBattlements to &quot;on the battlements&quot;)
		(set: $onTheBattlements to &quot;inside&quot;)
		]
	(else:)
		[
		(set: $onTheBattlements to &quot;on the battlements&quot;)
		(set: $upOnTheBattlements to &quot;inside&quot;)
		]
	(output-data:&quot;&quot;)
	]
	))
	
(set: $setCastleStartRoom to 
(macro: [
	(set: $startRoom to (cond:
		$forward is $directionIn and $upOnScreenAB is &quot;up&quot;, &quot;entrance3&quot;,
		$forward is $directionIn and $upOnScreenAB is &quot;down&quot;, &quot;entrance5&quot;,
		$backward is $directionIn and $upOnScreenAB is &quot;up&quot;, &quot;entrance2&quot;,
		$backward is $directionIn and $upOnScreenAB is &quot;down&quot;, &quot;entrance6&quot;,		&quot;error in setCastleStartroom&quot;))	
	(output-data:&quot;&quot;)
	]
	))
	
(set: $buildCastle to 
(macro: [
	($setUpDownValuesForCastle:)
	($setForwardBackwardValuesForCastle:)
	($setLeftRightValuesForCastle:)
	($setCastleVocab:)
	($setCastleStartRoom:) 
	(set: $architecture to &quot;castle&quot;)
	(output-data:&quot;&quot;)
	]))
	}</tw-passagedata><tw-passagedata pid="105" name="mansion architecture" tags="startup" position="1051,2650" size="100,100"> {
 
(set: $buildMansion to 
(macro: [
	($buildCastle:)
	(set: $architecture to &quot;mansion&quot;)
	($setMansionVocab:)
	(set: $startRoom to &quot;passage5&quot;)
	(output-data:&quot;&quot;)
	]))

(set: $carpetAdjective to 
(macro: [
	(output-data: (either: &quot;luxurious&quot;, &quot;luxury&quot;, &quot;sumptuous&quot;, &quot;palatial&quot;, &quot;lavish&quot;, &quot;opulent&quot;, &quot;magnificent&quot;, &quot;lush&quot;, &quot;expensive&quot;, &quot;grand&quot;))
	]
	))
	
(set: $mansionFloor to
(macro: [
	(set: $mansionFlr to &quot;Error: mansionFlr matches no if clause &quot;)
	(if: $architecture is not &quot;mansion&quot;)[(set:$mansionFlr to &quot;&quot;)]
	(else:)[
		(if: $thisRoomsNumber is in (a: 0,1,9,11,12,13) and $upOnScreenAB is &quot;up&quot;) [(set:$mansionFlr to &quot;on the upstairs floor&quot;)]
		(if: $thisRoomsNumber is in (a: 4, 5, 6, 14, 15, 17))[(set:$mansionFlr to &quot;on the ground floor&quot;)]
		(if: $thisRoomsNumber is in (a: 2, 3, 7, 8, 18, 19) and $upOnScreenAB is &quot;up&quot;)[(set:$mansionFlr to &quot;on the basement floor&quot;)]
		(if: $thisRoomsNumber is in (a: 0,1,9,11,12,13) and $upOnScreenAB is &quot;down&quot;)[(set:$mansionFlr to  &quot;on the basement floor&quot;)]
		(if: $thisRoomsNumber is in (a: 2, 3, 7, 8, 18, 19) and $upOnScreenAB is &quot;down&quot;)[(set:$mansionFlr to &quot;on the upstairs floor&quot;)]
		]
	(output-data: $mansionFlr)
	]))

	
(set: $setMansionVocab to 
(macro: [
	(set: $upToAttic to &quot;through a narrow wooden side door and up to the attic&quot;)
	(set: $secretPassage1 to &quot;through a bookcase into a secret passage&quot;) 
	(set: $secretPassage2 to &quot;through a suit or armor into a secret tunnel&quot;) 
	(set: $secretPassage3 to &quot;through a fireplace into a secret passage&quot;) 
	(set: $secretPassage4 to &quot;through a drinks cabinet into a secret passage&quot;) 
	(set: $onAstairway2 to &quot;on a narrow stairwell&quot;)
	(set: $stairWay to &quot;the main staircase&quot;)
	(set: $stairWay2 to &quot;s flight of narrow stairs&quot;)
	($setLadder:)
	($setUpAndToThe:)
	($setDownAndToThe:)
	(set: $castleSteps to &quot;some &quot; + (either: ($carpetAdjective:) + &quot; carpeted &quot;, &quot;carpeted &quot;, &quot;&quot;) + &quot;stairs&quot;)
	(set: $passageNoun to &quot;stairwell&quot;)
	(output-data:&quot;&quot;)
	]
	))

}</tw-passagedata><tw-passagedata pid="106" name="castleWall1" tags="" position="2003,2001" size="100,100">{
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[
(if: $architecture is &quot;castle&quot;)[You are $onTheBattlements of the castle wall. You can go [[$backward-&gt;entrance3]] or [[$forward-&gt;room2]] ($toThePhrase: 2). 
(if: $upOnScreenAB is &quot;up&quot;)[You may also exit via a doorway $leftOnScreen into the [[open bailey-&gt;bailey]].]
]
(if: $architecture is in (a: &quot;mansion&quot;) and $upOnScreenAB is &quot;up&quot;)
[You step down into a cavernous secret passage ($goingFromTo:$forward, $backward) that passes beneath the basement of the house. You can go [[up and to the $backward-&gt;entrance3]]  or [[up and to the $forward-&gt;room2]]($toThePhrase: 2) from here.] 
(if: $architecture is in (a: &quot;mansion&quot;) and $upOnScreenAB is &quot;down&quot;)
[You are in a narrow, dusty passage ($goingFromTo:$forward, $backward) that passes through the attic of the house. You can go [[down and to the $backward-&gt;entrance3]] or [[down and to the $forward-&gt;room2]]($toThePhrase: 2) (print: &quot; &quot;) from here.] 
]
}</tw-passagedata><tw-passagedata pid="107" name="castleWall3" tags="" position="2058,1302" size="100,100">{
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[
(if: $architecture is &quot;castle&quot;)[You are $upOnTheBattlements of the castle wall.(if: $upOnTheBattlements is &quot;inside&quot;)[You may also exit via a doorway $leftOnScreen into the [[open bailey-&gt;bailey]].]]
(if: $architecture is &quot;mansion&quot; and $upOnScreenAB is &quot;up&quot;)[You are in a narrow passageway ($goingFromTo:$forward, $backward) that threads through the attic.]
(if: $architecture is &quot;mansion&quot; and $upOnScreenAB is &quot;down&quot;)[You step down into a narrow secret cavern ($goingFromTo:$forward, $backward) that winds beneath the basement of the house.]

(if: $architecture is &quot;castle&quot;)[From here, you can go [[$backward-&gt;stair2]]  or [[$forward-&gt;room1]] ($toThePhrase: 1).]
(if: $architecture is &quot;mansion&quot; and $upOnScreenAB is &quot;up&quot;)[From here, you can go [[down and to the $backward-&gt;stair2]] ($toThePhrase: 9) or [[down and to the $forward-&gt;room1]] ($toThePhrase: 1).]
(if: $architecture is &quot;mansion&quot; and $upOnScreenAB is &quot;down&quot;)[From here, you can go [[up and to the $backward-&gt;stair2]]  or [[up and to the $forward-&gt;room1]] ($toThePhrase: 1).]
]
}</tw-passagedata><tw-passagedata pid="108" name="castleWall2" tags="" position="1761,1298" size="100,100">{
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[
(if: $architecture is &quot;castle&quot;)[You are $upOnTheBattlements of the castle wall.(if: $upOnTheBattlements is &quot;inside&quot;)[You may also exit via a doorway $rightOnScreen into the [[open bailey-&gt;bailey]].]]
(if: $architecture is &quot;mansion&quot; and $upOnScreenAB is &quot;up&quot;)[You are in an attic passageway ($goingFromTo:$forward, $backward).]
(if: $architecture is &quot;mansion&quot; and $upOnScreenAB is &quot;down&quot;)[You step down into a secret passage ($goingFromTo: $forward, $backward) carved through the rocks beneath the basement of the house.]

(if: $architecture is &quot;castle&quot;)[From here, you can go [[$backward-&gt;room9]] ($toThePhrase: 9) or [[$forward-&gt;entrance6]].]
(if: $architecture is &quot;mansion&quot; and $upOnScreenAB is &quot;up&quot;)[From here, you can go [[down and to the $backward-&gt;room9]] ($toThePhrase: 9) or [[down and to the $forward-&gt;entrance6]].]
(if: $architecture is &quot;mansion&quot; and $upOnScreenAB is &quot;down&quot;)[From here, you can go [[up and to the $backward-&gt;room9]] ($toThePhrase: 9) or [[up and to the $forward-&gt;entrance6]].]
]
}</tw-passagedata><tw-passagedata pid="109" name="bailey" tags="" position="1905,1648" size="100,100">{
(set: $thisRoomsNumber to 16)
(if: $architecture is &quot;castle&quot;)[
(if: $upOnScreenAB is &quot;up&quot;)
	[
	(set: $baileyExitRight to &quot;castleWall1&quot;)
	(set: $baileyExitLeft to &quot;castleWall4&quot;)
	(set: $baileyExitForward to &quot;room3&quot;)
	(set: $bForward to &quot;($toThePhrase: 3)&quot;)
	(set: $baileyExitBackward to &quot;room7&quot;)
	(set: $bBackward to &quot;($toThePhrase: 7)&quot;)
	]
	(else:)
	[
	(set: $baileyExitRight to &quot;castleWall3&quot;)
	(set: $baileyExitLeft to &quot;castleWall2&quot;)
	(set: $baileyExitForward to &quot;room0&quot;)
	(set: $bForward to &quot;($toThePhrase: 0)&quot;)
	(set: $baileyExitBackward to &quot;entrance5&quot;)
	(set: $bBackward to &quot;&quot;)
	] 
	
You are in the bailey of the castle, beneath an open sky. From here you can enter the castle to the [[$rightOnScreen-&gt;$baileyExitRight]], to the [[$leftOnScreen-&gt;$baileyExitLeft]], by heading [[$backward-&gt;$baileyExitBackward]] $bBackward or by proceeding [[$forward-&gt;$baileyExitForward]] $bForward. 

]



}</tw-passagedata><tw-passagedata pid="110" name="castleWall4" tags="" position="1701,2000" size="100,100">{
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[
(if: $architecture is &quot;castle&quot;)[
You are $onTheBattlements of the castle wall. You can go [[$backward-&gt;room8]] ($toThePhrase: 8) or [[$forward-&gt;entrance2]] from here. (if: $upOnScreenAB is &quot;up&quot;)[You may also exit via a doorway $rightOnScreen into the [[open bailey-&gt;bailey]].]]
(if: $architecture is in (a: &quot;mansion&quot;) and $upOnScreenAB is &quot;up&quot;)
[You step down into a cavernous secret passage ($goingFromTo:$forward, $backward) that passes beneath the basement of the house. You can go [[up and to the $backward-&gt;room8]] ($toThePhrase: 8) or [[up and to the $forward-&gt;entrance2]] from here.] 
(if: $architecture is in (a: &quot;mansion&quot;) and $upOnScreenAB is &quot;down&quot;)
[You are in a narrow, dusty passage ($goingFromTo:$forward, $backward) that passes through the attic of the house. You can go [[down and to the $backward-&gt;room8]] ($toThePhrase: 8) $forceSpace or [[down and to the $forward-&gt;entrance2]] $forceSpace from here.] 

]
}</tw-passagedata><tw-passagedata pid="111" name="crypt architecture" tags="startup" position="871,2696" size="100,100">{
(set: $buildCrypt to 
(macro: [
	($setUpDownValuesForCastle:)
	($setForwardBackwardValuesForCastle:)
	($setLeftRightValuesForCastle:)
	($setCryptVocab:)
	($setCryptStartRoom:) 
	(set: $architecture to &quot;crypt&quot;)
	(output-data:&quot;&quot;)
	]))
	
(set: $setCryptStartRoom to 
(macro: [
	(set: $startRoom to (cond:
		$forward is $directionIn and $upOnScreenAB is &quot;up&quot;, &quot;entrance5&quot;,
		$forward is $directionIn and $upOnScreenAB is &quot;down&quot;, &quot;entrance3&quot;,
		$backward is $directionIn and $upOnScreenAB is &quot;up&quot;, &quot;entrance6&quot;,
		$backward is $directionIn and $upOnScreenAB is &quot;down&quot;, &quot;entrance2&quot;,		&quot;error in setCastleStartroom&quot;))	
	(output-data:&quot;&quot;)
	]
	))
	
(set: $setCryptVocab to 
(macro: [
	(set: $onAstairway to &quot;on a wide stairwell&quot;)
	(set: $onAstairway2 to &quot;on a narrow stairwell&quot;)
	(set: $stairWay to &quot;stairwell&quot;)
	($setLadder:)
	($setUpAndToThe:)
	($setDownAndToThe:)
	(set: $passageNoun to &quot;stairwell&quot;)
	(set: $inTheEntranceHall to &quot;at a portico at the entrance to the crypt&quot;)
	(set: $castleSteps to &quot;some &quot; + (either: &quot;marble &quot;, &quot;&quot;) + &quot;steps&quot;)
	(output-data:&quot;&quot;)
	]
	))



}</tw-passagedata><tw-passagedata pid="112" name="test mansion" tags="" position="1655,2385" size="100,100">(set: $floorInt to 18)
(set: $hundredNumber to $floorInt*100)

(set: $imageType to 1) 
(set: $decadeNum to 40) 
(set: $decadeNumber to $hundredNumber + $decadeNum)

(set: $decadeString to (str: $decadeNum))
(set: $decadeReference to $hundredNumber + $decadeNum + 1) 
(set: $referenceString to (str: $decadeReference))
(set: $seedIndex to 1)
(set: $randomSeed to (str: $decadeReference - 1) of $randomMaps)
(set: $roomAdjective to &quot;a &quot;)
(set: $complexLanguage to (str: $decadeReference) of $generalLanguage)
 

($setImage:)
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1442);&lt;/script&gt;]



(set: $houses to (a:1840))



($randomWayIn:)
($buildMansion:)
($fixOptionalPaths:)



The direction in is $directionIn
The startRoom is $startRoom
You are heading $directionIn [[into a mansion-&gt;$startRoom]]. 

</tw-passagedata><tw-passagedata pid="113" name="hills architecture" tags="startup" position="1201,2650" size="100,100">{
(set: $buildHills to 
(macro: [
	($buildHouse:)
	($setHillDirections:)
	($setHillVocabulary:)
	(set: $architecture to &quot;hilly&quot;)
	(output-data:&quot;&quot;)
	]))
	
(set: $setHillDirections to 
(macro: [
	(if: $downstairs is &quot;left&quot;)[
		(set: $DUandToThe to &quot;down and to the&quot;)
		(set: $UDandToThe to &quot;up and to the&quot;)
		(set: $upTerm to &quot;up&quot;)
		(set: $downTerm to &quot;down&quot;)
		(set: $leftStairs to &quot;down in a valley&quot;)
		(set: $rightStairs to &quot;up on a hill&quot;)
		]
	(else:) [
		(set: $DUandToThe to &quot;up and to the&quot;)
		(set: $UDandToThe to &quot;down and to the&quot;)
		(set: $upTerm to &quot;down&quot;)
		(set: $downTerm to &quot;up&quot;)
		(set: $leftStairs to &quot;up on a hill&quot;)
		(set: $rightStairs to &quot;down in a valley&quot;)
		]
	(unless: $architecture is &quot;house, hilly&quot;)[
		(set: $DUandToThe to &quot;&quot;)
		(set: $UDandToThe to &quot;&quot;)
		(set: $upTerm to &quot;&quot;)
		(set: $downTerm to &quot;&quot;)
		(set: $upstairs to &quot;&quot;)
		(set: $downstairs to &quot;&quot;)
	]
	(output-data:&quot;&quot;)
	]
		))
		
(set: $setHillVocabulary to 
(macro: [
	(set: $onAstairway to &quot;on a hill&quot;)
	(output-data:&quot;&quot;)

	]
		))
		
}</tw-passagedata><tw-passagedata pid="114" name="setArchitecture" tags="" position="1148,2223" size="100,100">(set: $setArchitecture to
(macro: [
	(set: $architecture to (cond: 
	$decadeReference is in 
	(a: 231), &quot;boat&quot;,
	$decadeReference is in 
	(a: 121,221,321,421,621,721,821,631,541,741,841,), &quot;castle&quot;,
	$decadeReference is in 
	(a: 1001,1011,131,431,1041, ), &quot;church&quot;,
	$decadeReference is in 
	(a: 611,1211,1421,1231,641), &quot;city&quot;,
	$decadeReference is in 
	(a: 11,711,21,31,41), &quot;crypt&quot;,
	$decadeReference is in 
	(a: 801,1201,111,211,311,411,511,811,911,1111,1411,531,1331,1431,441,1141), &quot;flat&quot;,
	$decadeReference is in 
	(a: 1,101,201,301,401,501,601,701,901,1101,1301,1401,1321,331), &quot;hilly&quot;,
	$decadeReference is in 
	(a: 1221,731,831,931,1031,141,241,341, ), &quot;house&quot;,
	$decadeReference is in 
	(a: 1121), &quot;mansion&quot;,
	$decadeReference is in 
	(a: 921), &quot;mountainside&quot;,
	$decadeReference is in 
	(a: 521), &quot;pit&quot;,
	$decadeReference is in 
	(a: 1311,1021,1131,941, ), &quot;tower&quot;,
	&quot;error&quot;)
	)
	(if: $architecture is &quot;error&quot;)[(error: &quot;architecture not specified&quot;)]
	(output-data: &quot;&quot;)
	]))
	
</tw-passagedata><tw-passagedata pid="115" name="altar" tags="" position="2796,1355" size="100,100">You are on the altar of the $church. From here you may go [[$downOnScreenAB-&gt;crossing]] to the crossing of the $church. </tw-passagedata><tw-passagedata pid="116" name="crossing" tags="" position="2794,1500" size="100,100">You are at the crossing of the church. From here you may head [[$leftOnScreen-&gt;left transept]] to the $leftOnScreen transept, [[$rightOnScreen-&gt;right transept]] to the $rightOnScreen transept, [[$upOnScreenAB-&gt;altar]] to the altar or [[$downOnScreenBC-&gt;nave]] to the nave. </tw-passagedata><tw-passagedata pid="117" name="nave" tags="" position="2800,1655" size="100,100">You are in the nave of the $church. From here you can go [[$upOnScreenAB-&gt;crossing]] to the crossing or [[$downOnScreen-&gt;narthex]] to the narthex. </tw-passagedata><tw-passagedata pid="118" name="narthex" tags="" position="2800,1800" size="100,100">You are in the narthex of the $church. From here you can go [[$upOnScreen-&gt;nave]] to the nave. </tw-passagedata><tw-passagedata pid="119" name="left transept" tags="" position="2627,1498" size="100,100">You are in the $leftOnScreen transept of the $church. From here you can go $rightOnScreen to the crossing. Alternatively, you can [[step through a small door-&gt;stair2]]. </tw-passagedata><tw-passagedata pid="120" name="right transept" tags="" position="2960,1500" size="100,100">You are in the $rightOnScreen transept of the $church. From here you can go [[$leftOnScreen-&gt;crossing]] to the crossing. Alternatively, you can [[step through a small door-&gt;entrance6]]. </tw-passagedata><tw-passagedata pid="121" name="temporary excised text" tags="" position="506,485" size="100,100">(set: $mushroom to 
(macro: [
	(set: $architecture to &quot;hilly&quot;)
	(set: $roomNoun to (either: &quot;toadstools&quot;,&quot;toadstools&quot;,&quot;toadstools&quot;,&quot;fairy rings&quot;))
	(set: _prep to &quot;by &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	(set: $mushroomAdj to (either: &quot;, fruiting &quot;, &quot;, gilled &quot;,&quot;, umbrellaed  &quot;,&quot; stemmed &quot;, &quot;, fleshy &quot;,&quot;, long-stemmed &quot;,&quot;, thin-stemmed &quot;,&quot;, wide-hatted &quot;,&quot; dotted &quot;,&quot; speckled &quot;, &quot;, wispy &quot;, &quot;, tabular &quot;))
		(if: $roomNumber is 0) [(set: $roomAdjective to &quot;a bed of black&quot; + $mushroomAdj)(set:$roomNoun to &quot;deathcaps&quot;)]
		(if: $roomNumber is 1) [(set: $roomAdjective to &quot;a plot of white&quot; + $mushroomAdj)(set: $roomNoun to &quot;portobellos&quot;)]
		(if: $roomNumber is 2) [(set: $roomAdjective to &quot;a bed of pink&quot; + $mushroomAdj)]
		(if: $roomNumber is 3) [(set: $roomAdjective to &quot;a bed of red&quot; + $mushroomAdj)]
		(if: $roomNumber is 4) [(set: $roomAdjective to &quot;a display of purple&quot; + $mushroomAdj)]
		(if: $roomNumber is 5) [(set: $roomAdjective to &quot;a display of blue&quot; + $mushroomAdj)]
		(if: $roomNumber is 6) [(set: $roomAdjective to &quot;a display of turquoise&quot; + $mushroomAdj)]
		(if: $roomNumber is 7) [(set: $roomAdjective to &quot;a grassy &quot;)(set: $roomNoun to &quot;fungus patch&quot;)]
		(if: $roomNumber is 8) [(set: $roomAdjective to &quot;a circle of yellow&quot; + $mushroomAdj)(set: $roomNoun to &quot;creminis&quot;)]
		(if: $roomNumber is 9) [(set: $roomAdjective to &quot;a brown &quot;)(set: $roomNoun to &quot;wooden bench&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
	
(set: $palace to 
(macro: [	
	(set: $architecture to &quot;castle&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($castle:)
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;audience chamber&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;armory&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
	
(set: $park to 
(macro: [
	(set: $architecture to &quot;hilly&quot;)
	(if: $decadeNumber is 470)[(set: $roomAdjective to &quot;an overgrown &quot;)]
	(set: _prep to &quot;by &quot;)
	(set: $roomAdjective to &quot;a &quot;)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;bed of black shale&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;plot of white flowers&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;bed of pink carnations&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;bed of red poppies&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;display of purple lilacs&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;display of bluebells&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;display of cyan lotus flowers&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;grassy allotment&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;circle of yellow sunflowers&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;brown wooden bench&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		

(set: $penalQuarter to 
(macro: [	
	(set: $architecture to &quot;city&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;blacksmith&#39;s&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;witness&#39;s space, for watching the punishments&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;children&#39;s prison&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;women&#39;s prison&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;execution square&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;gaol&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;whipping post&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
(set: $plaguePit to 
(macro: [	
	(set: $architecture to &quot;pit&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
		(if: $roomNumber is 0) [(set: _prep to &quot;within &quot;)(set: $roomAdjective to &quot;&quot;)(set: $roomNoun to &quot;walls of fungus covered corpses&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;buried play-park&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;buried school for children&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;chamber of dead nuns&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;buried market&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;chamber of dead soldiers&quot;)]
		(if: $roomNumber is 6) [(set: $phrase to _prep + &quot;subterranean, walled-up&quot; + &quot;street&quot;)]
		(if: $roomNumber is 7) [(set: $phrase to _prep + &quot;collapsed, subterranean&quot; + &quot;chapel&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;chamber of partial bodies&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;repository for random bones and partial human remains&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		</tw-passagedata><tw-passagedata pid="122" name="environ database 2" tags="" position="753,711" size="100,100">{(set: $inquisitor to 
(macro: [	
	(set: $architecture to &quot;castle&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($jail:)
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;torture chamber&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))

(set: $jail to 
(macro: [	
	(set: $architecture to &quot;castle&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($building:)
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;pitch black cell&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;well lit cell&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;purple cell for distinguished personae&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;cold cell&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;prison yard&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))	


(set: $jungle to 
(macro: [	
	(set: $architecture to &quot;hilly&quot;)
	(set: _prep to &quot;by &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($forest:)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;twisting vine&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;river&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;a golden statue of some naked goddess&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;clearing filled with snakes&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;pit trap&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
(set: $lakeside to 
(macro: [	
	(set: $architecture to &quot;flat&quot;)
	(set: _prep to &quot;by &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($forest:)
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;rope swing&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;warning sign&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;nymph&#39;s lagoon&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;boat&quot;)]
		(if: $roomNumber is 5) [(set: $roomAdjective to &quot;&quot;)(set: $roomNoun to &quot;marshes&quot;)]
		(if: $roomNumber is 7) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;ruined chapel&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;shore of dead fish&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))

(set: $library to 
(macro: [	
	(set: $architecture to &quot;mansion&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;the&quot;)
	(if: $decadeNumber is 820)[(set: $roomAdjective to &quot;the flooded &quot;)]
	(if: $decadeNumber is 420)[(set: $roomAdjective to &quot;the ruins of the &quot;)]
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;cosmology section&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;light reading section&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;science section&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;women&#39;s section&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;reading room&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;military section&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;law and penology section&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;religion section&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;book restoration room&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;necromancy section&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
	
			
(set: $market to 
(macro: [
	(set: $architecture to &quot;city&quot;)
	(set: _prep to &quot;at &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($village:)
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;beer brewer&#39;s&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;book seller&#39;s&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;dressmaker&#39;s&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;grocer&#39;s&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;armorer&#39;s&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;locksmith&#39;s&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;psychic&#39;s&quot;)]
		(set: $phrase to it + &quot; stall&quot;)
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
(set: $menagerie to 
(macro: [
	(set: $architecture to &quot;flat&quot;)
	(set: _prep to &quot;by &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($camp:)
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;display of African monkeys&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;display of hanging sloths&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;chained tiger&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;sickly rhinocerous&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;dead elephant&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
(set: $mine to 
(macro: [	
	(set: $architecture to &quot;pit&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($cave:)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;dark pit&quot;)]
		(if: $roomNumber is 1) [(set: _prep to &quot;at &quot;)(set: $roomNoun to &quot;a mine cart roller coaster&quot;)]		
		(if: $roomNumber is 2) [(set: _prep to &quot;at &quot;)(set: $roomNoun to &quot;a geologist&#39;s cubby&quot;)]
		(if: $roomNumber is 3) [(set: _prep to &quot;at &quot;)(set: $roomNoun to &quot;diamond face&quot;)]
		(if: $roomNumber is 4) [(set: _prep to &quot;by &quot;)(set: $roomNoun to &quot;bucket hoist&quot;)]
		(if: $roomNumber is 5) [(set: _prep to &quot;near &quot;)(set: $roomAdj to &quot;some&quot;)(set: $roomNoun to &quot;explosives&quot;)]
		(if: $roomNumber is 6) [(set: _prep to &quot;by &quot;)(set: $roomNoun to &quot;cramped seam&quot;)]
		(if: $roomNumber is 7) [(set: _prep to &quot;by &quot;)(set: $roomNoun to &quot;shaft of light&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;collapsed mine face&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
(set: $monastery to 
(macro: [	
	(set: $architecture to &quot;house&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($church:)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;cloister&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;workroom&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;chapel&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
	
(set: $mountainside to 
(macro: [	
	(set: $architecture to &quot;mountainside&quot;)
	(set: _prep to &quot;by &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($forest:)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;pine tree&quot;)]
		(if: $roomNumber is 2) [(set: _prep to &quot;at &quot;)(set: $roomNoun to &quot;plateau with a breathtaking view over the valley below&quot;)]
		(if: $roomNumber is 3) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;lair of a mountain hag&quot;)]
		(if: $roomNumber is 7) [(set: _prep to &quot;near &quot;)(set: $roomNoun to &quot;high point above the clouds&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;pile of boulders, left from a rockfall&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;carcass&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
	

(set: $mosque to 
(macro: [	
	(set: $architecture to &quot;church&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($church:)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;function room&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;choir&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;musalla&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;confessional&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;ablution area&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;minaret&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))	
		


(set: $mushroom to 
(macro: [
	(set: $architecture to &quot;hilly&quot;)
	(set: $roomNoun to (either: &quot;toadstools&quot;,&quot;toadstools&quot;,&quot;toadstools&quot;,&quot;fairy rings&quot;))
	(set: _prep to &quot;by &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	(set: $mushroomAdj to (either: &quot;, fruiting &quot;, &quot;, gilled &quot;,&quot;, umbrellaed  &quot;,&quot; stemmed &quot;, &quot;, fleshy &quot;,&quot;, long-stemmed &quot;,&quot;, thin-stemmed &quot;,&quot;, wide-hatted &quot;,&quot; dotted &quot;,&quot; speckled &quot;, &quot;, wispy &quot;, &quot;, tabular &quot;))
		(if: $roomNumber is 0) [(set: $roomAdjective to &quot;a bed of black&quot; + $mushroomAdj)(set:$roomNoun to &quot;deathcaps&quot;)]
		(if: $roomNumber is 1) [(set: $roomAdjective to &quot;a plot of white&quot; + $mushroomAdj)(set: $roomNoun to &quot;portobellos&quot;)]
		(if: $roomNumber is 2) [(set: $roomAdjective to &quot;a bed of pink&quot; + $mushroomAdj)]
		(if: $roomNumber is 3) [(set: $roomAdjective to &quot;a bed of red&quot; + $mushroomAdj)]
		(if: $roomNumber is 4) [(set: $roomAdjective to &quot;a display of purple&quot; + $mushroomAdj)]
		(if: $roomNumber is 5) [(set: $roomAdjective to &quot;a display of blue&quot; + $mushroomAdj)]
		(if: $roomNumber is 6) [(set: $roomAdjective to &quot;a display of turquoise&quot; + $mushroomAdj)]
		(if: $roomNumber is 7) [(set: $roomAdjective to &quot;a grassy &quot;)(set: $roomNoun to &quot;fungus patch&quot;)]
		(if: $roomNumber is 8) [(set: $roomAdjective to &quot;a circle of yellow&quot; + $mushroomAdj)(set: $roomNoun to &quot;creminis&quot;)]
		(if: $roomNumber is 9) [(set: $roomAdjective to &quot;a brown &quot;)(set: $roomNoun to &quot;wooden bench&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
	
(set: $palace to 
(macro: [	
	(set: $architecture to &quot;castle&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($castle:)
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;audience chamber&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;armory&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
	
(set: $park to 
(macro: [
	(set: $architecture to &quot;hilly&quot;)
	(if: $decadeNumber is 470)[(set: $roomAdjective to &quot;an overgrown &quot;)]
	(set: _prep to &quot;by &quot;)
	(set: $roomAdjective to &quot;a &quot;)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;bed of black shale&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;plot of white flowers&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;bed of pink carnations&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;bed of red poppies&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;display of purple lilacs&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;display of bluebells&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;display of cyan lotus flowers&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;grassy allotment&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;circle of yellow sunflowers&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;brown wooden bench&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		

(set: $penalQuarter to 
(macro: [	
	(set: $architecture to &quot;city&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;blacksmith&#39;s&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;witness&#39;s space, for watching the punishments&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;children&#39;s prison&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;women&#39;s prison&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;execution square&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;gaol&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;whipping post&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
(set: $plaguePit to 
(macro: [	
	(set: $architecture to &quot;pit&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
		(if: $roomNumber is 0) [(set: _prep to &quot;within &quot;)(set: $roomAdjective to &quot;&quot;)(set: $roomNoun to &quot;walls of fungus covered corpses&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;buried play-park&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;buried school for children&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;chamber of dead nuns&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;buried market&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;chamber of dead soldiers&quot;)]
		(if: $roomNumber is 6) [(set: $phrase to _prep + &quot;subterranean, walled-up&quot; + &quot;street&quot;)]
		(if: $roomNumber is 7) [(set: $phrase to _prep + &quot;collapsed, subterranean&quot; + &quot;chapel&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;chamber of partial bodies&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;repository for random bones and partial human remains&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		

		
		
(set: $school to 
(macro: [	
	(set: $architecture to &quot;castle&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;the &quot;)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;neophyte&#39;s quarters&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;chess room&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;study hall&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;women&#39;s quarters&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;scholar&#39;s lounge&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;examination hall&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;cloister&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;chapel&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;remediation hall&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;emeritus chambers&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		

(set: $ship to 
(macro: [	
	(set: $architecture to &quot;boat&quot;)
	(set: _prep to &quot;on &quot;)
	(set: $roomAdjective to &quot;the &quot;)
		(if: $roomNumber is 0) [(set: _prep to &quot;below &quot;)(set: $roomAdjective to &quot; &quot;)(set: $roomNoun to &quot;deck&quot;)]
		(if: $roomNumber is 1) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;crow&#39;s nest&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;navigation deck&quot;)]
		(if: $roomNumber is 3) [(set: _prep to &quot;at &quot;)(set: $roomNoun to &quot;mast head&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;aft deck&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;stern deck&quot;)]
		(if: $roomNumber is 6) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;brig&quot;)]
		(if: $roomNumber is 7) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;Chaplain&#39;s quarters&quot;)]
		(if: $roomNumber is 8) [(set: _prep to &quot;in &quot;)(set: $roomAdjective to &quot;the cramped &quot;)(set: $roomNoun to &quot;sick bay&quot;)]
		(if: $roomNumber is 9) [(set: _prep to &quot;in &quot;)(set: $roomAdjective to &quot; &quot;)(set: $roomNoun to &quot;cold storage&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))

		
(set: $slaveMarket to 
(macro: [	
	(set: $architecture to &quot;city&quot;)
	(set: _prep to &quot;at &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($market:)
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;beer brewer&#39;s&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;book seller&#39;s&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;sex slave auction&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;house slave auction&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;gladiator&#39;s auction&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;locksmith&#39;s&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;psychic&#39;s&quot;)]
		(set: $phrase to it + &quot; stall&quot;)
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))	

(set: $surgery to 
(macro: [	
	(set: $architecture to &quot;house&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($building:)
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;medicine closet&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;examination room&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;triage room&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))

(set: $swamp to 
(macro: [	
	(set: $architecture to &quot;flat&quot;)
	(set: _prep to &quot;wading through &quot;)
	(set: $roomAdjective to &quot;&quot;)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;black mud&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;white algae&quot;)]
		(if: $roomNumber is 2) [(set: _prep to &quot;among &quot;)(set: $roomNoun to &quot;pink thistles&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;red grass&quot;)]
		(if: $roomNumber is 4) [(set: _prep to &quot;among &quot;)(set: $roomNoun to &quot;purple thorn berries&quot;)]
		(if: $roomNumber is 5) [(set: _prep to &quot;among &quot;)(set: $roomNoun to &quot;blueberry bushes&quot;)]
		(if: $roomNumber is 6) [(set: _prep to &quot;under &quot;)(set: $roomAdjective to &quot;a &quot;)(set: $roomNoun to &quot;clear blue-green sky&quot;)]
		(if: $roomNumber is 7) [(set: _prep to &quot;walking through &quot;) (set: $roomNoun to &quot;long green grass&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;yellow grass&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;brown mud&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))		
		
(set: $temple to 
(macro: [	
	(set: $architecture to &quot;church&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($church:)
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;bema&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;forum&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;private prayer room&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;tower&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
(set: $triclinium to 
(macro: [	
	(set: $architecture to &quot;hilly&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($building:)
		(if: $roomNumber is 0) [(set: $phrase to _prep + &quot;a dark, shady &quot; + &quot;private apse&quot;)]
		(if: $roomNumber is 1) [(set: $phrase to _prep + &quot;a well lit &quot; + &quot;lover&#39;s apse&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;peeper&#39;s balcony&quot;)]
		(if: $roomNumber is 5) [(set: _prep to &quot;by &quot;)(set: $roomNoun to &quot;chaperone&#39;s seat&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;courtyard&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;statue of Venus&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
(set: $vestal to 
(macro: [	
	(set: $architecture to &quot;church&quot;)
	($set: $phrase to it + &quot; in the Atrium Vestiae&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	($monastery:)
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;choral chamber in the Atrium Vestiae&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;chamber of the sacred spring in the temple of Vesta&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;sacred flame chamber in the temple of Vesta &quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))		
	

(set: $village to 
(macro: [	
	(set: $architecture to &quot;city&quot;)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
	(if: $decadeNumber is 690)[(set: $roomAdjective to &quot;an abandoned &quot;)]
	(if: $decadeNumber is 1200)[(set: $roomAdjective to &quot;a flooded &quot;)]
	(if: $decadeNumber is 1250)[(set: $roomAdjective to &quot;an abandoned, looted &quot;)]
	(if: $decadeNumber is 1290)[(set: $roomAdjective to &quot;the blazing remains of a &quot;)]
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;blacksmith&#39;s&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;tavern&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;school&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;brothel&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;market&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;courthouse&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;sheriff&#39;s jailhouse&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;church&quot;)]
		(if: $roomNumber is 8) [(set: $roomAdjective to &quot;an&quot;)(set: $roomNoun to &quot;apothecary&#39;s&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;mortician&#39;s&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
}


		
</tw-passagedata></tw-storydata>

<tw-storydata name="russian verb conjugations 2" startnode="1" creator="Twine" creator-version="2.3.12" ifid="3FD2BE1B-DAF5-4572-BC68-521E3CD083B3" zoom="0.6" format="Harlowe" format-version="3.2.1" options="" hidden><style role="stylesheet" id="twine-user-stylesheet" type="text/twine-css"></style><script role="script" id="twine-user-script" type="text/twine-javascript">window.Harlowe = { 'State' : State };
window.processInputElements = function () {
    $('input[data-varname]').on('change', function () {
        var varName = $(this).attr('data-varname');
        Harlowe.State.variables[varName] = this.value;
        $("tw-story").css("height","100%");
				$("tw-story").css("background-repeat","no-repeat");	
    });
};


if (typeof window.CustomScripts == "undefined") {
	window.CustomScripts = {
		updateBackground(myBackground){
			// if it's always going to be cover, you can put it outside the if statement
			$("tw-story").css("background-size","contain");
			$("tw-story").css("background-repeat","no-repeat");					
			$("tw-story").css("background-position","center");	
			// check the functions parameter for which background image to use
			if(myBackground == 0) //century backgrounds take nos 0, 100, 200 etc.
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/f2vTfnH/tunnels.jpg)");
			}
			else if(myBackground == 1) // 
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/Q9TZwZY/pink-Castle.jpg)");
			}
			else if(myBackground == 2) // 
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/JjnQBXs/fairytale-castle.jpg)");
			}
			else if(myBackground == 3) // 
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/sCsyfdK/Goblin-Castle.png)");
			}
			else if(myBackground == 4) // 
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/tpsLyqH/baradDur.jpg)");
			}
			else if(myBackground == 5) // 
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/k3S0BrY/Cloud-Castle.jpg)");
			}
		}
	}
}

</script><tw-passagedata pid="1" name="Start" tags="" position="1984,1132" size="100,100">There are five beings here, ready to lead you on. You may follow [[the man-&gt;man]], [[the woman-&gt;woman]], [[the monster-&gt;monster]], [[the floating eye-&gt;eye]] or [[the ewe-&gt;ewe]]. </tw-passagedata><tw-passagedata pid="2" name="man" tags="" position="1698,1127" size="100,100">&quot;Do you wish to [[see my castle-&gt;mansCastle]],&quot; the man asks, &quot;or [[my village-&gt;mansVillage]]?&quot; </tw-passagedata><tw-passagedata pid="3" name="woman" tags="" position="1781,806" size="100,100">&quot;Do you wish to [[see my castle-&gt;womansCastle]],&quot; the woman asks, &quot;or [[my village-&gt;womansVillage]]?&quot; 

</tw-passagedata><tw-passagedata pid="4" name="monster" tags="" position="2219,780" size="100,100">&quot;Do you wish to [[see my castle-&gt;monstersCastle]],&quot; the monster asks, &quot;or [[my village-&gt;monstersVillage]]?&quot; 
</tw-passagedata><tw-passagedata pid="5" name="eye" tags="" position="1980,1389" size="100,100">($setImage: 4)</tw-passagedata><tw-passagedata pid="6" name="ewe" tags="" position="2299,1126" size="100,100">($setImage:5) &quot;Do you wish to see [[my castle-&gt;ewesCastle]]&quot;, the ewe asks, &quot;or my [[village-&gt;ewesVillage]]?&quot; </tw-passagedata><tw-passagedata pid="7" name="set image" tags="startup" position="2089,1056" size="100,100">(set: $setImage to 
(macro: num-type _number, [	
	(set: $imageText to (str:_number))
	(set: $imgScript to &quot;&lt;script&gt;CustomScripts.updateBackground(&quot; + $imageText +&quot;);&lt;/script&gt;&quot;)
		(output-data: $imgScript)
		]
		))
		
</tw-passagedata><tw-passagedata pid="8" name="mansCastle" tags="" position="1474,1174" size="100,100">($setImage:2)</tw-passagedata><tw-passagedata pid="9" name="mansVillage" tags="" position="1463,967" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="10" name="womansCastle" tags="" position="1586,719" size="100,100">($setImage:1)

You are at the woman&#39;s castle.</tw-passagedata><tw-passagedata pid="11" name="womansVillage" tags="" position="1788,635" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="12" name="monstersCastle" tags="" position="2146,623" size="100,100">($setImage: 3)</tw-passagedata><tw-passagedata pid="13" name="monstersVillage" tags="" position="2319,620" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="14" name="ewesCastle" tags="" position="2473,1116" size="100,100"> From here you can go [[downstairs-&gt;youInformal]] to the servants quarters, or [[upstairs-&gt;youFormal]] to the main castle. </tw-passagedata><tw-passagedata pid="15" name="youInformal" tags="" position="2810,1311" size="100,100">From here, you can go to [[old fashioned uptown-&gt;youInformal oldFashionedUptown]], [[modern uptown-&gt;youInformal modernUptown]], [[future uptown-&gt;youInformal futureUptown]] or [[steampunk uptown-&gt;youInformal steampunkUptown]]. </tw-passagedata><tw-passagedata pid="16" name="youFormal" tags="" position="2781,866" size="100,100">From here, you can go to [[old fashioned uptown-&gt;youFormal oldFashionedUptown]], [[modern uptown-&gt;youFormal modernUptown]], [[future uptown-&gt;youFormal futureUptown]] or [[steampunk uptown-&gt;youFormal steampunkUptown]]. </tw-passagedata><tw-passagedata pid="17" name="ewesVillage" tags="" position="2299,1276" size="100,100"> From here you can go [[east-&gt;youPluralInformal]] to the poor district, or [[west-&gt;youPluralFormal]] to the upmarket district. </tw-passagedata><tw-passagedata pid="18" name="youPluralInformal" tags="" position="2290,1432" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="19" name="youPluralFormal" tags="" position="2467,1434" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="20" name="youFormal oldFashionedUptown" tags="" position="2790,994" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="21" name="youFormal modernUptown" tags="" position="2928,865" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="22" name="youFormal futureUptown" tags="" position="2633,871" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="23" name="youFormal steampunkUptown" tags="" position="2781,715" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="24" name="youInformal oldFashionedUptown" tags="" position="2630,1319" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="25" name="youInformal modernUptown" tags="" position="2801,1469" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="26" name="youInformal futureUptown" tags="" position="2798,1157" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="27" name="youInformal steampunkUptown" tags="" position="2968,1317" size="100,100">Double-click this passage to edit it.</tw-passagedata></tw-storydata>

<tw-storydata name="decade template 2.0" startnode="38" creator="Twine" creator-version="2.3.12" ifid="BD7BF4E8-3EEC-49C6-98F2-764135C7EE18" zoom="0.6" format="Harlowe" format-version="3.2.1" options="" hidden><style role="stylesheet" id="twine-user-stylesheet" type="text/twine-css"></style><script role="script" id="twine-user-script" type="text/twine-javascript">window.Harlowe = { 'State' : State };
window.processInputElements = function () {
    $('input[data-varname]').on('change', function () {
        var varName = $(this).attr('data-varname');
        Harlowe.State.variables[varName] = this.value;
        $("tw-story").css("height","100%");
				$("tw-story").css("background-repeat","no-repeat");	
    });
};


if (typeof window.CustomScripts == "undefined") {
	window.CustomScripts = {
		updateBackground(myBackground){
			// if it's always going to be cover, you can put it outside the if statement
			$("tw-story").css("background-size","contain");
			$("tw-story").css("background-repeat","no-repeat");					
			$("tw-story").css("background-position","center");	
			// check the functions parameter for which background image to use
			if(myBackground == 0) //century backgrounds take nos 0, 100, 200 etc.
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/f2vTfnH/tunnels.jpg)");
			}
			else if(myBackground == -11) // 
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/wKZ7YhN/thomas-Becket-Blinded.jpg)");
			}
			else if(myBackground == -10) // 
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/yVNS2QL/charlemagnes-Death.jpg)");
			}
			else if(myBackground == -9) // 
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/hyzKg9M/thomas-Becket-Window-Invert.jpg)");
			}
			else if(myBackground == -8) // 
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/Kw4PqNq/baby-Dragon.jpg)");
			}
			else if(myBackground == -7) // 
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/10Ss8Vp/eustace-Red.jpg)");
			}
			else if(myBackground == -6) // 
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/BK35wdS/treaty-Of-Winchester-Bloody.png)");
			}
			else if(myBackground == -5) // 
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/zPXS9fj/king2-Purple.jpg)");
			}
			else if(myBackground == -4) // 
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/yfz3mc2/Stephen-Blue.jpg)");
			}
			else if(myBackground == -3) // 
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/Lp6SFJ9/prince-Corpse.jpg)");
			}
			else if(myBackground == -2) // 
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/FwnDHCw/butcher2.jpg)");
			}
			else if(myBackground == -1) // 
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/08/b2/5a/08b25ac76c7c0c5571e0b98af8bd53f5.jpg)");
			}
			else if(myBackground == 1) // decade nos end in 1
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/zJvFgQF/mushroom-Catacombs.jpg)");
			}
			else if(myBackground == 11)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/3b/a6/7c/3ba67c68c69aa5ff049e70af3e1398be.jpg)");
			}
			else if(myBackground == 21)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/hCsSZw0/CREATOR-gd-jpeg-v1-0-using-IJG-JPEG-v80-quality-80.jpg)");
			}
			else if(myBackground == 31)
			{
				$("tw-story").css("background-image","url(https://farm4.staticflickr.com/3881/14548118871_9a25db8f3b_k.jpg)");
			}
			else if(myBackground == 41)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/2c/6a/6d/2c6a6da05c9ba99228068306657fbf82.jpg)");
			}
			else if(myBackground == 51)
			{
				$("tw-story").css("background-image","url(https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/224cf4fa-33d8-4223-974d-67aecc72bd2c/d32esvm-fab667ec-f070-4610-baf7-d1f993c43768.jpg/v1/fill/w_800,h_600,q_75,strp/the_armory_by_rytango-d32esvm.jpg?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwic3ViIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsImF1ZCI6WyJ1cm46c2VydmljZTppbWFnZS5vcGVyYXRpb25zIl0sIm9iaiI6W1t7InBhdGgiOiIvZi8yMjRjZjRmYS0zM2Q4LTQyMjMtOTc0ZC02N2FlY2M3MmJkMmMvZDMyZXN2bS1mYWI2NjdlYy1mMDcwLTQ2MTAtYmFmNy1kMWY5OTNjNDM3NjguanBnIiwid2lkdGgiOiI8PTgwMCIsImhlaWdodCI6Ijw9NjAwIn1dXX0.eOpCwc84GDmV-LB1ltAyddWpeuwIVVH9qw4oPJeQbKM)");
			}
			else if(myBackground == 61)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/60/f9/69/60f969f538253f68ec5be1b5846a2568.jpg)");
			}
			else if(myBackground == 71)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/g9hVkhF/catacombs-Chapel4.jpg)");
			}
			else if(myBackground == 81)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/yf9SCJJ/leper-Colony2.jpg)");
			}
			else if(myBackground == 91)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/88/92/e1/8892e11f0ae9128001380264179ffd88.jpg)");
			}
			else if(myBackground == 100)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/4f/0b/88/4f0b88df6b723ffda1fb80629884521a.jpg)");
			}
			else if(myBackground == 101)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/5b/c7/19/5bc719f84cfc170ff0558702b2c97876.jpg)");
			}
			else if(myBackground == 111)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/84/77/ea/8477eac606801135e48e2208305f3914.jpg)");
			}
			else if(myBackground == 121)
			{
				$("tw-story").css("background-image","url(https://th.bing.com/th/id/Rde8b516f69680e4a2a7243c2ec81a701?rik=FLjo2Zvd6dVPyw&riu=http%3a%2f%2fimages4.wikia.nocookie.net%2f__cb20130419200553%2fspartacus%2fimages%2f5%2f59%2fSpartacus_Legends_Ludus_fight.png&ehk=YzsHyiOKeH38%2fusktTVJv%2beUid2DYSentQ23hcClX98%3d&risl=&pid=ImgRaw)");
			}
			else if(myBackground == 131)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/YW02YJF/temple-Of-Vesta.jpg)");
			}
			else if(myBackground == 141)
			{
				$("tw-story").css("background-image","url(https://www.thesimsresource.com/scaled/2599/w-800h-600-2599642.jpg)");
			}
			else if(myBackground == 151)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/6a/7f/c1/6a7fc16f23671dc5bd0bed4c462eccc4.jpg)");
			}
			else if(myBackground == 161)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/0F4cX5y/roman-Slave-Marke5.jpg)");
			}
			else if(myBackground == 171)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/736x/d2/e4/c1/d2e4c197c68fe2cb4d2e7de5f4143e2b.jpg)");
			}
			else if(myBackground == 181)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/b4/39/a8/b439a87560b02424c656b1120e29740d.jpg)");
			}
			else if(myBackground == 191)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/4c/ae/c0/4caec06d6814e915a3c32affa4123800.jpg)");
			}
			else if(myBackground == 200)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/QP3FV3P/forbidden-City.jpg)");
			}
			else if(myBackground == 201)
			{
				$("tw-story").css("background-image","url(https://th.bing.com/th/id/R2cae1fcbbabcb57451c68fc47571a351?rik=leu7YgYWctPMsg&riu=http%3a%2f%2faidanmoher.com%2fblog%2fwp-content%2fuploads%2f2014%2f07%2ftwilight_garden_by_alextooth-d5t47sa.jpg&ehk=3knU%2fwpIey%2b%2bQT8LlaYoJrnuJ36TOKBVgzJHM3SAHtA%3d&risl=&pid=ImgRaw)");
			}
			else if(myBackground == 211)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/5f/00/3f/5f003fc16b10572cfe4c34c313beec70.jpg)");
			}
			else if(myBackground == 221)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/9c/99/54/9c9954bc49514aafb47624cbb3c2a993.jpg)");
			}
			else if(myBackground == 231)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/9c/85/32/9c853217e910c978b24ed75ac63e923f.jpg)");
			}
			else if(myBackground == 241)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/67/f0/8b/67f08bbc42a27c9da1011532332c1fe5.jpg)");
			}
			else if(myBackground == 251)
			{
				$("tw-story").css("background-image","url(https://gcdn.daz3d.com/p/56851/i/chinese-temple-gate-05-daz3d.jpg)");
			}
			else if(myBackground == 261)
			{
				$("tw-story").css("background-image","url(https://gcdn.daz3d.com/p/63811/i/china-houses-04-daz3d.jpg)");
			}
			else if(myBackground == 271)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/14/10/2a/14102a474694c64c8f3779901390effc.jpg)");
			}
			else if(myBackground == 281)
			{
				$("tw-story").css("background-image","url(https://c4.wallpaperflare.com/wallpaper/49/579/585/jungle-fantasy-art-asian-architecture-artwork-wallpaper-preview.jpg)");
			}
			else if(myBackground == 291)
			{
				$("tw-story").css("background-image","url(https://c4.wallpaperflare.com/wallpaper/672/517/150/nature-digital-art-water-artwork-wallpaper-preview.jpg)");
			}
			else if(myBackground == 300)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/1a/b3/ef/1ab3ef0450478c4305701a2361add0a1.jpg)");
			}
			else if(myBackground == 301)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/BGgLGn6/farm.png)");
			}
			else if(myBackground == 311)
			{
				$("tw-story").css("background-image","url(https://farm4.staticflickr.com/3385/3496684667_b8f76dc6c1_z.jpg)");
			}
			else if(myBackground == 321)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/32/13/9d/32139df326afc0e39257f8494d345830.jpg)");
			}	
			else if(myBackground == 331)
			{
				$("tw-story").css("background-image","url(			https://i.pinimg.com/originals/a9/ed/9e/a9ed9efa3644d7d499d97e07395a55c6.jpg)");
			}
			else if(myBackground == 341)
			{
				$("tw-story").css("background-image","url(			https://i.pinimg.com/originals/42/ef/59/42ef592a42eb7cb19dfbadb818d73b3e.jpg)");
			}	
			else if(myBackground == 351)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/af/ea/b4/afeab4b55f09b86fd10b5cb7eeb1da14.jpg)");
			}
			else if(myBackground == 361)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/crJ8skB/under-Ground-Mine.jpg)");
			}
			else if(myBackground == 371)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/q09vQgb/The-Hedge-Maze.jpg)");
			}
			else if(myBackground == 381)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/YD4Gczm/st-John-The-Forerunner.jpg)");
			}
			else if(myBackground == 391)
			{
				$("tw-story").css("background-image","url(https://cdn.staticneo.com/n/1/hellraidtease.jpg)");
			}	
			else if(myBackground == 400)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/mqnHtMw/romeRuin.jpg)");
			}		
			else if(myBackground == 401)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/69/b6/28/69b6284a11d4bb26dabb4b5b181eeac6.jpg)");
			}
			else if(myBackground == 411)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/6HTWp0p/circus.jpg)");
			}
			else if(myBackground == 421)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/cc/a4/3f/cca43f0d9a53e1df81cda400000101dd.jpg)");
			}
			else if(myBackground == 431)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/33/33/b9/3333b98d98b9445d71b78a6b284cfe99.jpg)");
			}
			else if(myBackground == 441)
			{
				$("tw-story").css("background-image","url(https://cdna.artstation.com/p/assets/images/images/002/303/018/large/dongmin-shin-templar-ruinedtown-wip9.jpg?1459996240)");
			}	
			else if(myBackground == 451)
			{
				$("tw-story").css("background-image","url(https://www.wallpaperup.com/uploads/wallpapers/2013/07/20/120965/89b86219a5d4290deb3ff8c0da5b1a36.jpg)");
			}
			else if(myBackground == 461)
			{
				$("tw-story").css("background-image","url(https://i2-prod.mirror.co.uk/incoming/article5552145.ece/ALTERNATES/s1227b/PAY-Holmesburg-Prison.jpg)");
			}
			else if(myBackground == 471)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/ngYfvzq/garden.jpg)");
			}
			else if(myBackground == 481)
			{
				$("tw-story").css("background-image","url(https://cdna.artstation.com/p/assets/images/images/000/119/916/large/klaus-wittmann-asylum22.jpg?1443927398)");
			}
			else if(myBackground == 491)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/MZhYCtM/deathPit.jpg)");
			}
			else if(myBackground == 500)
			{
				$("tw-story").css("background-image","url(https://3.bp.blogspot.com/-79MN6Y6He4s/VHdEsATzIGI/AAAAAAADkaM/kQwDbXhJiLg/s1600/David%2BJermann-www.kaifineart.com-3.jpg)");
			}
			else if(myBackground == 501)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/f9pKJcb/enchanted-Wood2.jpg)");
			}	
			else if(myBackground == 511)
			{
				$("tw-story").css("background-image","url(http://coolvibe.com/wp-content/uploads/2012/08/2D-Art-Marcel-Mercado-Joust.jpg)");
			}	
			else if(myBackground == 521)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/68/7c/00/687c000923c080f9dc0c5e1c3cd0d0fa.jpg)");
			}				
			else if(myBackground == 531)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/1bZykJc/lake-by-glooh2.jpg)");
			}	
			else if(myBackground == 541)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/3d/c5/5d/3dc55d3812b254ac0c046f2eac668d91.jpg)");
			}	
			else if(myBackground == 551)
			{
				$("tw-story").css("background-image","url(https://images8.alphacoders.com/911/911883.jpg)");
			}	
			else if(myBackground == 561)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/f5/3e/3e/f53e3eb5bdd368ca60a01f157dc101d7.jpg)");
			}			
			else if(myBackground == 571)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/b2/67/39/b26739e37de690d1f43a6879cc5310f9.jpg)");
			}		
			else if(myBackground == 581)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/e2/53/5b/e2535b15f700f58515d548d7dd2aed27.jpg)");
			}				
			else if(myBackground == 591)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/KDCTZB2/plague-Barrow.jpg)");
			}	
			else if(myBackground == 600)
			{
				$("tw-story").css("background-image","url(http://vignette3.wikia.nocookie.net/assassinscreed/images/b/b8/Damascus-depth.jpg/revision/latest?cb=20100918105609)");
			}	
			else if(myBackground == 601)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/f1/20/1b/f1201baf2cec354672609d02d7ad4302.jpg)");
			}	
			else if(myBackground == 611)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/1dvz7wZ/hashish-Den4.jpg)");
			}
			else if(myBackground == 621)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/e9/2c/4c/e92c4caa1d93e7e015875de38ba6a16f.jpg)");
			}
			else if(myBackground == 631)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/69/9b/77/699b77b9295494ee80e77b84b98c0f7d.jpg)");
			}	
			else if(myBackground == 641)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/X29k7Xs/bazaar.jpg)");
			}	
			else if(myBackground == 651)
			{
				$("tw-story").css("background-image","url(https://static.thousandwonders.net/Citadel.of.Aleppo.original.36222.jpg)");
			}
			else if(myBackground == 661)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/2a/a6/a9/2aa6a900e767e36825a32d0a90d8b461.jpg)");
			}
			else if(myBackground == 671)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/a1/04/08/a10408cce174ca470a2341ad74755010.jpg)");
			}
			else if(myBackground == 681)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/3e/9c/40/3e9c40a4b3bd04ed44f843d22363ab48.jpg)");
			}
			else if(myBackground == 691)
			{
				$("tw-story").css("background-image","url(https://aidanmoher.com/blog/wp-content/uploads/2014/07/desert_village_by_crs1009-d5zij53.jpg)");
			}
			else if(myBackground == 700)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/9Hyc6dz/gothic-Street.png)");
			}
			else if(myBackground == 701)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/hVYjhGq/CREATOR-gd-jpeg-v1-0-using-IJG-JPEG-v80-quality-90.jpg)");
			}
			else if(myBackground == 711)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/cxY4RWS/thermae.jpg)");
			}
			else if(myBackground == 721)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/dmRYrMT/holy-Library3.jpg)");
			}
			else if(myBackground == 731)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/vY7jChx/womensewing-Twilight.jpg)");
			}
			else if(myBackground == 741)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/24/e7/26/24e726a009e9c0905cbaf1ed8772caf1.jpg)");
			}
			else if(myBackground == 751)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/1rbyYTq/barracks4.png)");
			}
			else if(myBackground == 761)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/c7/60/28/c76028bc15bd6698b329980f7470cf49.jpg)");
			}
			else if(myBackground == 771)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/6c/25/76/6c2576e3bc81bc621c99980232d5c689.jpg)");
			}
			else if(myBackground == 781)
			{
				$("tw-story").css("background-image","url(https://uploads6.wikiart.org/images/francisco-goya/plague-hospital-1800.jpg!Large.jpg)");
			}
			else if(myBackground == 791)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/25/ee/e0/25eee032d448a0eec4b745e5a7a56aa8.jpg)");
			}
			else if(myBackground == 800)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/6c/fe/8c/6cfe8c56f9c18de0e14e98c531cde07a.jpg)");
			}
			else if(myBackground == 801)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/yWhgVjT/swamp4.jpg)");
			}		
			else if(myBackground == 811)
			{
				$("tw-story").css("background-image","url(https://jkroots.com/wp-content/uploads/2017/08/MysticPondPrint-scaled.jpg)");
			}	
			else if(myBackground == 821)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/6b9LMjn/flooded-Library.png)");
			}			
			else if(myBackground == 831)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/fa/6c/fd/fa6cfd32e3239cdf71f5331a95a9746b.jpg)");
			}	
			else if(myBackground == 841)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/ea/e1/65/eae16566315c05e3c623e4c3c7c06862.jpg)");
			}	
			else if(myBackground == 851)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/bm5QH4c/sunken-Castle2.jpg)");
			}	
			else if(myBackground == 861)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/Tg6YH9v/pit-trap.jpg)");
			}				
			else if(myBackground == 871)
			{
				$("tw-story").css("background-image","url(https://www.wallpaperflare.com/static/208/667/589/church-fantasy-art-birds-artwork-wallpaper.jpg)");
			}			
			else if(myBackground == 881)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/37/00/be/3700be067e2732b411d950946ea44a4a.jpg)");
			}	
			else if(myBackground == 891)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/95/16/cf/9516cf9c7a517d5980c3453c1544617e.jpg)");
			}	
			else if(myBackground == 900)
			{
				$("tw-story").css("background-image","url(https://www.tfw2005.com/boards/attachments/james-paick-e-nazihq-20160503-wip-v6-jpaick-jpg.27755109/)");
			}		
			else if(myBackground == 901)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/da/5a/2c/da5a2ca8a224e52b14e10db82a280bff.jpg");
			}
			else if(myBackground == 911)
			{
				$("tw-story").css("background-image","url(https://th.bing.com/th/id/R.d2eeafba8c707986349e8deab24dc0ce?rik=GEWQecIHPeqzrg&riu=http%3a%2f%2fimg12.deviantart.net%2fcffe%2fi%2f2015%2f061%2f1%2fb%2fnazi_future_racing_1_by_heavytransit-d8k6966.jpg&ehk=0DxZbmpxcUQabWysj1CxFL%2f4U3EFAsYG4kMOSb3uXzs%3d&risl=&pid=ImgRaw&r=0)");
			}		
			else if(myBackground == 921)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/db0RsT8/snow-Troopers.jpg");
			}	
			else if(myBackground == 931)
			{
				$("tw-story").css("background-image","url(https://boyofbow13.files.wordpress.com/2010/11/nuns-with-guns.jpg)");
			}
			else if(myBackground == 941)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/vYhnyQZ/nazi-skyscraper.jpg");
			}
			else if(myBackground == 951)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/378VjDC/nazi-Court2.jpg)");
			}
			else if(myBackground == 961)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/wSHvdT9/camp.jpg)");
			}
			else if(myBackground == 971)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/6XVbmG4/cathedral.jpg)");
			}
			else if(myBackground == 981)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/736x/d4/ef/aa/d4efaa62a2ca4706ce8245148c137903--space-lab-sci-fi-environment.jpg)");
			}
			else if(myBackground == 991)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/mhYWKTX/belsen.jpg)");
			}
			else if(myBackground == 1000)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/DQkNrW7/pilgrims-Trail.jpg)");
			}
			else if(myBackground == 1001)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/BqZyxTX/st-Nicolas.jpg)");
			}
			else if(myBackground == 1011)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/R4kJzyb/st-Teresa-Of-Avila.jpg)");
			}
			else if(myBackground == 1021)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/QPFc64g/st-Albertus-Maximus.jpg)");
			}
			else if(myBackground == 1031)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/4PfQXty/magdalene5.jpg)");
			}
			else if(myBackground == 1041)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/dWXxXbr/homobonus.jpg)");
			}
			else if(myBackground == 1051)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/fdkMXJQ/adrian.jpg)");
			}
			else if(myBackground == 1061)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/thDKRxq/st-Leonard2.jpg)");
			}
			else if(myBackground == 1071)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/M8Nbr1Z/alternate0.jpg)");
			}
			else if(myBackground == 1081)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/4J59P6M/stPhocas.jpg)");
			}
			else if(myBackground == 1091)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/q7T8Rt4/stJoseph.jpg)");
			}
						else if(myBackground == 1100)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/smKnV4H/forest.jpg)");
			}
						else if(myBackground == 1101)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/Ydny0bF/rufus.jpg)");
			}
						else if(myBackground == 1111)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/e1/d8/29/e1d829d8e27c1abb7f96c0963ace5448.jpg)");
			}
						else if(myBackground == 1121)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/g96g93X/templars-Aye.jpg)");
			}
						else if(myBackground == 1131)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/cb/06/5c/cb065c9a70c70d8025fbb6521cf9f4b5.jpg)");
			}
						else if(myBackground == 1132)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/x8g9Fsh/kings-Lynn.jpg)");
			}
			else if(myBackground == 1133)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/dL267Bm/la-Rochelle.jpg)");
			}
						else if(myBackground == 1134)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/kXJt9d4/sailing.jpg)");
			}
						else if(myBackground == 1135)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/NW3MZTw/high-Cliffs.jpg)");
			}
						else if(myBackground == 1141)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/85/c4/63/85c463290b20c10ecf25e86a8778921e.jpg)");
			}
						else if(myBackground == 1151)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/d1/f9/f6/d1f9f6da0f13f78af4e53fb9b4bd0639.jpg)");
			}
						else if(myBackground == 1161)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/58/86/96/588696aa555c578e99d44a75d0bf4172.jpg)");
			}
						else if(myBackground == 1171)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/XxzSJxp/canterbury2.jpg)");
			}
						else if(myBackground == 1181)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/33/24/bc/3324bc30dc9c7902ce768d49febb1bc2.jpg)");
			}
						else if(myBackground == 1191)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/FDwV42T/ship-Wreck.jpg)");
			}			
						else if(myBackground == 1200)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/d71Wcy1/steppe.jpg)");
			}
									else if(myBackground == 1201)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/L1XyfqN/after-Flood3.jpg)");
			}
									else if(myBackground == 1211)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/BwPjCVP/festival.jpg)");
			}
									else if(myBackground == 1221)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/DtZp1Dn/polos-Quarters.jpg)");
			}
									else if(myBackground == 1231)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/B4W3c8C/women-City-Final.png)");
			}
									else if(myBackground == 1241)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/3dVJPLL/mongols-Moving.jpg)");
			}
									else if(myBackground == 1251)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/K02xW4b/civil-War2.jpg)");
			}
									else if(myBackground == 1261)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/FmfB7zf/kiev5.jpg)");
			}
									else if(myBackground == 1271)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/JnpvjDB/khan-Tengri.jpg)");
			}
									else if(myBackground == 1281)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/bNxhZ3X/wrecked-Fleet2.jpg)");
			}
									else if(myBackground == 1282)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/yXF5qV6/beach.jpg)");
			}
									else if(myBackground == 1291)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/XsFW0kg/burning-City.jpg)");
			}
									else if(myBackground == 1292)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/bRff5V1/beautiful-Middle-Eastern-City.jpg)");
			}
									else if(myBackground == 1293)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/M5V6q84/CREATOR-gd-jpeg-v1-0-using-IJG-JPEG-v62-quality-90.jpg)");
			}
									else if(myBackground == 1294)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/fQNRpqB/burning-Gates.jpg)");
			}
									else if(myBackground == 1300)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/ZffKypZ/plague-Swamps.jpg)");
			}
									else if(myBackground == 1301)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/wCMRF0W/manor3.jpg)");
			}
									else if(myBackground == 1311)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/zR8jK9h/fairy-Castle3.jpg)");
			}
									else if(myBackground == 1321)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/bHwYN2B/wiitch.jpg)");
			}
									else if(myBackground == 1331)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/DwP9sTy/tentCamp.jpg)");
			}
									else if(myBackground == 1341)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/sCjPVzW/village-Life.jpg)");
			}
									else if(myBackground == 1351)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/MhCbQ61/Schiltron.png)");
			}
									else if(myBackground == 1361)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/W287qzg/prison-Cellar.png)");
			}
									else if(myBackground == 1371)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/QcS7C6s/wycliffe3.jpg)");
			}
									else if(myBackground == 1381)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/4W4r6Y1/wallup-net.jpg)");
			}
									else if(myBackground == 1391)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/5sC5W6C/hanging-Bodies.jpg)");
			}
			else if(myBackground == 1400)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/bvCrvx9/shipPOV6.png)");
			}	
			else if(myBackground == 1400.1)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/Zm1FTqj/narrowstraits.jpg)");
			}	
			else if(myBackground == 1401)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/sQ4rVkX/island2.jpg)");
			}	
			else if(myBackground == 1411)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/8M37Vcr/bearPits.jpg)");
			}	
			else if(myBackground == 1412)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/2PJrvHf/medieval-Port3.jpg)");
			}	
			else if(myBackground == 1421)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/VS73Qj4/renaissance-Street3.jpg)");
			}		
			else if(myBackground == 1422)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/LPG2fw0/renaissance-Port3.jpg)");
			}	
			else if(myBackground == 1431)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/6ZDwZZz/siege-Camp.jpg)");
			}	
			else if(myBackground == 1432)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/Snwxrfm/sailing-To-Orleans.jpg)");
			}	
			else if(myBackground == 1441)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/ssWNSGg/alexander-skold-alexander-skold-aztec-empire-1.jpg)");
			}	
			else if(myBackground == 1442)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/y6PmmV1/sailing-Upriver3.jpg)");
			}	
			else if(myBackground == 1451)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/H7zSzwK/sieged-City3.jpg)");
			}	
						else if(myBackground == 1452)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/tqBPV0N/sailing-Up-River6.jpg)");
			}	
			else if(myBackground == 1461)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/c7/21/d9/c721d9fc92848c2419b43c670a25f15f.jpg)");
			}		
			else if(myBackground == 1462)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/R0yLRQR/london-Port3.jpg)");
			}	
			else if(myBackground == 1471)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/9gdQzqF/cathedral.jpg)");
			}			
			else if(myBackground == 1481)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/QKnCzFy/torture-Hall.jpg)");
			}	
			else if(myBackground == 1482)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/Zz0GkGZ/spanish-Port.jpg)");
			}				
			else if(myBackground == 1491)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/60792FM/impaled-Fields.jpg)");
			}	
			else if(myBackground == 1492)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/cw1xwgL/sailing-Up-River5.jpg)");
			}	
			else if(myBackground == 2071)
			{
				$("tw-story").css("background-image","url(http://www.scififantasyhorror.co.uk/wp-content/gallery/Su-Jian/su-jian-scifi-art-11.jpg)");
			}
			else
			{
				$("tw-story").css("background-image","none");
			}
		}
	}
}

</script><tw-passagedata pid="1" name="room 0" tags="" position="2005,584" size="100,100">{
($setImage:)
(set: $thisRoomsNumber to 0)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
(if: $floorInt is 12)[&lt;script&gt;CustomScripts.updateBackground(1291);&lt;/script&gt;]
(if: $place is &quot;Aztec&quot;)[&lt;script&gt;CustomScripts.updateBackground(1441);&lt;/script&gt;]
($refreshSentences:)
}
(border-color: black) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{
$complexSentence. 

(if: $thisYear is 1170)[There is a stained glass window here which (link: &#39;you may examine more closely.&#39;)[==[&lt;script&gt;CustomScripts.updateBackground(-9);&lt;/script&gt;]you lean in to examine more closely. The colored pieces of glass are arranged to depict a bishop, robed in black, looking paradoxically both sad and serene as a sword protrudes from his head. As you gaze upon it, the bishop&#39;s lips begin to move! Shocked, you stagger back. The stained glass window is speaking! 

After recovering your wits, [[you may lean in to listen to what it has to say-&gt;Becket murdered]].]
(if: $thisYear is 1120)[There is a corpse here, shrouded in black, which using necromancy [[you may bring briefly back to life-&gt;William Adelin]]. ]

If you are not interested in lingering in this place, you may go [[$rightOnScreen2-&gt;passage 8]] ($toThePhrase: 1) or go [[$downOnScreen-&gt;passage 1]]. [(if: $optionalPath contains 4)[You may also go [[$leftOnScreen-&gt;room 9]]($toThePhrase: 9).]]

(if: $startRoom is &quot;room 0&quot;)[$returnText]
}]</tw-passagedata><tw-passagedata pid="2" name="passage 8" tags="" position="2155,584" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 18)
($refreshSentences:)
} (border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence. From here you may go [[$leftOnScreen2-&gt;room 0]]($toThePhrase: 0). [(if: $optionalPath contains 0)[You may also go [[$downOnScreen-&gt;room 7]]($toThePhrase: 7).]]
[(if: $optionalPath contains 3)[An alternative is to go [[$rightOnScreen-&gt;room 8]] ($toThePhrase: 8).]]]</tw-passagedata><tw-passagedata pid="3" name="passage 1" tags="" position="2006,731" size="100,100">{(set: $thisRoomsNumber to 11)
(set: $thisYear to 10000)}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence2. From here you may go [[$upOnScreen-&gt;room 0]]($toThePhrase: 0) or [[$downOnScreen2-&gt;room 1]]($toThePhrase: 1). [(unless: $optionalPath contains 0)[You may also go [[$rightOnScreen2-&gt;room 7]]($toThePhrase: 7).]][(unless: $optionalPath contains 1)[An alternative is to go [[$leftOnScreen-&gt;passage 6]].]]]
</tw-passagedata><tw-passagedata pid="4" name="room 2" tags="" position="2298,876" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 2)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
($refreshSentences:)
}(border-color: (rgb: 255, 100, 100)) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence. 

From here you may go [[$upOnScreen2-&gt;passage 3]] or [[$leftOnScreen-&gt;passage 7]].
(if: $startRoom is &quot;room 2&quot;)[$returnText]]</tw-passagedata><tw-passagedata pid="5" name="room 3" tags="" position="1855,872" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 3)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
(if: $place is &quot;Strasbourg&quot;)[&lt;script&gt;CustomScripts.updateBackground(1421);&lt;/script&gt;]
(if: $place is &quot;Orleans&quot;)[&lt;script&gt;CustomScripts.updateBackground(1431);&lt;/script&gt;]
(if: $place is &quot;Wallachia&quot;)[&lt;script&gt;CustomScripts.updateBackground(1491);&lt;/script&gt;]
($refreshSentences:)
}
(border-color: red) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{
$complexSentence. 

(if: $thisYear is 1133 and $henrysDragon is not &quot;hatched&quot;)[In a pan on the stove is a huge red egg. Suddenly, cracks appear in it. Something is trying to hatch out! You may [[help it-&gt;Henry II birth]] if you wish.]
(if: $thisYear is 1133 and $henrysDragon is &quot;hatched&quot;)[There is a huge red egg in a pan on the stove. It appears that something recently hatched from it.]
(if: $thisYear is 1153 and $Eustace is not &quot;dead&quot;)[There is a young, fire haired nobleman here, gasping as the life leaves him. &quot;It is written in my blood!&quot; he croaks, holding out a piece of parchment. You can take the parchment and [[read it-&gt;Treaty of Wallingford]], or [[talk to the red nobleman-&gt;Eustace IV]].](if: $thisYear is 1153 and $Eustace is &quot;dead&quot;)[There is a dead nobleman here, with a parchment in his cold and bony grip. You can [[read it-&gt;Treaty of Wallingford]] if you like.]

From here you may go [[$rightOnScreen-&gt;room 1]]($toThePhrase: 1) or [[$leftOnScreen-&gt;passage 2]]. [(if: $optionalPath contains 1)[An alternative is to go [[$upOnScreen2-&gt;passage 6]].]]

(if: $startRoom is &quot;room 3&quot;)[$returnText]
}]</tw-passagedata><tw-passagedata pid="6" name="passage 6" tags="" position="1860,731" size="100,100">{(set: $thisRoomsNumber to 16)
(set: $thisYear to 10000)}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence2. 
From here you may go 
[(if: $optionalPath contains 1)[[[$downOnScreen2-&gt;room 3]]($toThePhrase: 3).](else:)[[[$rightOnScreen-&gt;passage 1]].]]
[(if: $optionalPath contains 2)[You may also go [[$leftOnScreen-&gt;room 6]]($toThePhrase: 6).]]
[(unless: $optionalPath contains 4)[An alternative is to go [[$upOnScreen-&gt;room 9]]($toThePhrase: 9).]]]

</tw-passagedata><tw-passagedata pid="7" name="passage 2" tags="" position="1702,872" size="100,100">{(set: $thisRoomsNumber to 12)
(set: $thisYear to 10000)}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence2. From here you may go [[$rightOnScreen-&gt;room 3]]($toThePhrase: 3) or [[$leftOnScreen-&gt;room 5]]($toThePhrase: 5). [(unless: $optionalPath contains 2)[You may also go [[$upOnScreen2-&gt;room 6]]($toThePhrase: 6).]]]

</tw-passagedata><tw-passagedata pid="8" name="room 7" tags="" position="2154,733" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 7)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
($refreshSentences:)}(border-color: green) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence.

[(if: $optionalPath contains 0)[You may go [[$upOnScreen-&gt;passage 8]] from here.](else:)[You may go [[$leftOnScreen2-&gt;passage 1]] from here.]]
[(unless: $optionalPath contains 3)[You may also go [[$rightOnScreen-&gt;passage 3]]or [[$downOnScreen-&gt;passage 7]]]]]</tw-passagedata><tw-passagedata pid="9" name="room 8" tags="" position="2295,588" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 8)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
(if: $place is &quot;Merv&quot;)[&lt;script&gt;CustomScripts.updateBackground(1291);&lt;/script&gt;]
(if: $place is &quot;York&quot;)[&lt;script&gt;CustomScripts.updateBackground(1411);&lt;/script&gt;]
(if: $place is &quot;Istanbul&quot;)[&lt;script&gt;CustomScripts.updateBackground(1451);&lt;/script&gt;]
(if: $place is &quot;London&quot;)[&lt;script&gt;CustomScripts.updateBackground(1461);&lt;/script&gt;]
($refreshSentences:)
} 
(border-color: yellow)+(border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence. [(if: $optionalPath contains 3)[You may go [[$leftOnScreen-&gt;passage 8]].](else:)[You may go [[$downOnScreen-&gt;passage 3]].]]
(if: $startRoom is &quot;room 8&quot;)[$returnText]]
</tw-passagedata><tw-passagedata pid="10" name="room 5" tags="" position="1531,872" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 5)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
(if: $place is &quot;York&quot;)[&lt;script&gt;CustomScripts.updateBackground(1411);&lt;/script&gt;]
(if: $place is &quot;Seville&quot;)[&lt;script&gt;CustomScripts.updateBackground(1481);&lt;/script&gt;]
($refreshSentences:)
}(border-color: blue) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{
$complexSentence. 

(if: $thisYear is 1135)[There is a blue knight here [[to whom you may speak-&gt;Stephen of Blois]].]

From here you may go [[$rightOnScreen-&gt;passage 2]]. [(if: $optionalPath contains 6)[An alternative is to go [[$upOnScreen2-&gt;passage 5]].]]

(if: $startRoom is &quot;room 5&quot;)[$returnText]
}]</tw-passagedata><tw-passagedata pid="11" name="room 6" tags="" position="1697,728" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 6)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
($refreshSentences:)}(border-color: (rgb: 0, 255, 255)) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{
$complexSentence. 

[(if: $optionalPath contains 2)[You may go [[$rightOnScreen-&gt;passage 6]] from here.](else:)[You may go [[$downOnScreen2-&gt;passage 2]] from here.]]
[(if: $optionalPath contains 5)[You may also go [[$upOnScreen-&gt;passage 4]].]]
[(if: $optionalPath contains 6)[An alternative is to go [[$leftOnScreen-&gt;passage 5]].]]
}]</tw-passagedata><tw-passagedata pid="12" name="definitions test" tags="" position="126,521" size="100,100">{
(set: $fixOptionalPaths to 
(macro: [
	(set: $optionalPath to (a:))
	($addPath:)($addPath:)($addPath:)($addPath:)($addPath:)($addPath:)
	(output-data:&quot;&quot;)
	]
	)
	)
	
(set: $addPath to 
(macro: [	
	(set: _x to (random: 6)) 
	(set: $optionalPath to it + (a:_x))
	(output-data:&quot;&quot;)
	]
	)
	)

(set: $levelDirection to (a: 
	(a: &quot;north&quot;, &quot;south&quot;),
	(a: &quot;east&quot;, &quot;west&quot;),
	(a: &quot;northeast&quot;, &quot;southwest&quot;), 
	(a: &quot;northwest&quot;, &quot;southeast&quot;)))

(set: $getLevelDirection to 
(macro: [
	(set: _length to length of $levelDirection)
	(set: _x to (random:1, _length))
	(set: _y to (_x) of $levelDirection)
	(set: $levelDirection to it - (_y))
	(output-data: _y)]))

(set: $generate3dDirection to 
(macro: [
	(set: _x to (random: 3))
	(if: _x is 2)[(output-data: (a: &quot;up a ladder&quot;, &quot;down a ladder&quot;))]
	(else:) [(set: $direc to ($getLevelDirection:))]
	(if: _x is 3)[
		(set: _z to (random:1))
		(if: _z is 0)[(set: _output to (a: &quot;up some steps to the &quot; + 1st of $direc, &quot;down some steps to the &quot; + 2nd of $direc))]
		(else:)[(set: $output3dDirection to (a: &quot;up some steps to the &quot; + 2nd of $direc, &quot;down some steps to the &quot; + 1st of $direc))]
		(output-data: $output3dDirection)]
	(else:) [(output-data: ($getLevelDirection:))]
	]
	))
	
(set: $firstDirection to ($generate3dDirection:))
(set: $secondDirection to ($generate3dDirection:))

(set: $setDirections to 
(macro: [
	(set: _x to (random: 1))
		(if: _x is 0) [
		(set: $upOnScreen to 1st of $firstDirection )
		(set: $downOnScreen to 2nd of $firstDirection )
		]
	(else:) [
		(set: $upOnScreen to 2nd of $firstDirection )
		(set: $downOnScreen to 1st of $firstDirection )
		]
	(set: _y to (random: 1))
		(if: _y is 0) [
		(set: $rightOnScreen to 1st of $secondDirection )
		(set: $leftOnScreen to 2nd of $secondDirection )
		]
	(else:) [
		(set: $leftOnScreen to 1st of $secondDirection )
		(set: $rightOnScreen to 2nd of $secondDirection )
		]
	(output-data:&quot;&quot;)
	]))
		
	
}

	
</tw-passagedata><tw-passagedata pid="13" name="passage 3" tags="" position="2296,733" size="100,100">{(set: $thisRoomsNumber to 13)
(set: $thisYear to 10000)}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence2. (unless: $optionalPath contains 3)[From here you may go [[$leftOnScreen-&gt;room 7]]($toThePhrase: 7).] (unless: $optionalPath contains 3)[From here you may go [[$upOnScreen-&gt;room 8]]($toThePhrase: 8).]]

</tw-passagedata><tw-passagedata pid="14" name="room 9" tags="" position="1853,587" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 9)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
($refreshSentences:)}
(border-color: (rgb: 155, 100, 0)) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence. [(if: $optionalPath contains 4)[You may also go [[$rightOnScreen-&gt;room 0]]($toThePhrase: 0).](else:)[You may also go [[$downOnScreen-&gt;passage 6]]. ]]
[(if: $optionalPath contains 5)[An alternative is to go [[$leftOnScreen-&gt;passage 4]].]]]</tw-passagedata><tw-passagedata pid="15" name="passage 4" tags="" position="1695,589" size="100,100">{(set: $thisRoomsNumber to 14)
(set: $thisYear to 10000)}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4) + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence2. From here you may go [[$rightOnScreen-&gt;room 9]]($toThePhrase: 9) or [[$downOnScreen-&gt;room 6]]($toThePhrase: 6).[]]</tw-passagedata><tw-passagedata pid="16" name="passage 5" tags="" position="1535,728" size="100,100">{(set: $thisRoomsNumber to 15)
(set: $thisYear to 10000)}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence2. From here you may go [[$downOnScreen2-&gt;room 5]]($toThePhrase: 5). (if: $optionalPath contains 6)[An alternative is to go [[$rightOnScreen-&gt;room 6]]($toThePhrase: 6).]]

</tw-passagedata><tw-passagedata pid="17" name="direction functions" tags="" position="58,675" size="100,100">{
&lt;!-- Settings: 
Flat: Scrambles NSEW but no vertical directions
Hilly: As Flat but may have occasional slopes. No direct vertical moves.
2storey: May have occasional slopes and vertical moves, but no more than two storeys. 
wall: Has no slopes and only one axis on the flat plane, but straight vertical moves in 3 storeys.
castle: As wall but with occasional moves in the perpendicular flat plane. 
crypt: as castle but heading downwards. 
tower: As castle but six storeys. 
pit: as tower but down
--&gt;

&lt;!-- This decides, based on the flatness variable, whether to (a) set the adjustable directions to randomly include hills and ladders, or (b) just include hills or (c) be entirely flat. --&gt;

(set: $setAdjustableDirections to 
(macro: [
	($setUpDownDirections:)
	(if: $flatness is &quot;flat&quot;)[($setFlatVariables:)]
	(if: $flatness is &quot;hilly&quot;)[($setHillyVariables:)]
	(if: $flatness is &quot;2storey&quot;)[($set3Dvariables:)]
	(if: $flatness is &quot;wall&quot;)[($setWallVariables:)]
	(if: $flatness is &quot;towery&quot;)[($setTowerVariables:)]
	(output-data:&quot;&quot;)
	]
	))

&lt;!-- This replaces the complex directions &quot;up and to the north&quot; with &quot;north&quot;, etc.--&gt; 

(set: $flatten to 
(macro: [
	(set: $downOnScreen2 to &quot;south&quot;)
	(set: $upOnScreen2 to &quot;north&quot;)
	(set: $rightOnScreen2 to &quot;east&quot;)
	(set: $leftOnScreen2 to &quot;west&quot;)
	(output-data:&quot;&quot;)
	]
	))

&lt;!-- The following two commands randomly decide whether to include optional connections between locations in the map. The map itself is set up to ensure that if one of these optional paths does not lead to a location, a different one will.--&gt; 

(set: $fixOptionalPaths to 
(macro: [
	(set: $optionalPath to (a:))
	($addPath:)($addPath:)($addPath:)($addPath:)($addPath:)($addPath:)
	(output-data:&quot;&quot;)
	]
	)
	)
	
(set: $addPath to 
(macro: [	
	(set: _x to ($srandom: 6)) 
	(set: $optionalPath to it + (a:_x))
	(output-data:&quot;&quot;)
	]
	)
	)

&lt;!-- This determines whether to randomly rotate the flat NSEW map 90 degrees and whether (by calling flipFlatDirections) to flip either of the axes.--&gt; 
(set: $setFlatDirections to 
(macro: [
	(set: _x to ($srandom: 1))
	(if: _x is 0)[
		(set: $upOnScreen to &quot;north&quot;)
		(set: $downOnScreen to &quot;south&quot;) 
		(set: $rightOnScreen to &quot;east&quot;) 
		(set: $leftOnScreen to &quot;west&quot;)
		]
	(else:) [
		(set: $upOnScreen to &quot;east&quot;)
		(set: $downOnScreen to &quot;west&quot;) 
		(set: $rightOnScreen to &quot;north&quot;) 
		(set: $leftOnScreen to &quot;south&quot;)
		]
	($flipFlatDirections:)
	(output-data: &quot;&quot;)
	]))

&lt;!-- This randomly decides whether to flip a NS or EW axis--&gt; 
(set: $flipFlatDirections to 
(macro: [
	(set: _x to ($srandom: 1))
	(set: _y to ($srandom: 1))
	(if: _x is 0)[
		(set: _temp to $downOnScreen)
		(set: $downOnScreen to $upOnScreen)
		(set: $upOnScreen to _temp)
		]
	(if: _y is 0)[
		(set: _temp to $leftOnScreen)
		(set: $leftOnScreen to $rightOnScreen)
		(set: $rightOnScreen to _temp)
		]
	(output-data: &quot;&quot;)
	]))

&lt;!-- REMOVE: The next two functions are called when the map is flipped, and they flip the extreme start rooms accordingly.--&gt; 

(set: $flipNSstarts to 
(macro: [
	(if: 1st of $startRooms is &quot;room 0&quot;)
		[(set: 1st of $startRooms to &quot;passage 2&quot;)
		(set: 3rd of $startRooms to &quot;room 0&quot;)
		]
	(else:)
		[(set: 4th of $startRooms to &quot;passage 2&quot;)
		(set: 2nd of $startRooms to &quot;room 0&quot;)
		]
	(output-data:&quot;&quot;)
	]))
	
(set: $flipEWstarts to 
(macro: [
	(if: 1st of $startRooms is &quot;room 0&quot;)
		[(set: 2nd of $startRooms to &quot;passage 5&quot;)
		(set: 4th of $startRooms to &quot;passage 3&quot;)
		]
	(else:)
		[(set: 1st of $startRooms to &quot;passage 5&quot;)
		(set: 3rd of $startRooms to &quot;passage 3&quot;)
		]
	(output-data:&quot;&quot;)
	]))	

&lt;!-- This decides randomly whether to flip the up down axes.--&gt; 
(set: $setUpDownDirections to 
(macro: [
	(set: _x to ($srandom: 1))
	(if: _x is 0)[
		(set: $upVariable to &quot;up&quot;)
		(set: $downVariable to &quot;down&quot;)
		]
	(else:) [
		(set: $upVariable to &quot;down&quot;)
		(set: $downVariable to &quot;up&quot;)
		]
	(output-data: &quot;&quot;)
	]))



&lt;!-- This randomly replaces the adjustable directions with some more interesting points on the compass.--&gt; 

(set: $setFlatVariables to 
(macro: [
	(set: $upOnScreen2 to $upOnScreen)
	(set: $downOnScreen2 to $downOnScreen)
	(set: $rightOnScreen2 to $rightOnScreen)
	(set: $leftOnScreen2 to $leftOnScreen)
	(set: _x to ($srandom: 3))
	(if: _x is even)[
		(set: $upOnScreen2 to ($rotate45: $upOnScreen))
		(set: $downOnScreen2 to ($rotate45: $downOnScreen))
		]
	(if: _x &gt; 1) [
		(set: $rightOnScreen2 to ($rotate45: $rightOnScreen))
		(set: $leftOnScreen2 to ($rotate45: $leftOnScreen))
		]

	(output-data: &quot;&quot;)
	]))

&lt;!-- This rotates directions through 45 degrees cw.--&gt; 

(set: $rotate45 to 
	(macro: str-type _direction, [
		(set: _output to (cond: 
			_direction is &quot;north&quot;, &quot;northeast&quot;,
			_direction is &quot;northeast&quot;, &quot;east&quot;,
			_direction is &quot;east&quot;, &quot;southeast&quot;,
			_direction is &quot;southeast&quot;, &quot;south &quot;,
			_direction is &quot;south &quot;, &quot;southwest&quot;,
			_direction is &quot;southwest&quot;, &quot;west&quot;,
			_direction is &quot;west&quot;, &quot;northwest&quot;,
			_direction is &quot;northwest&quot;, &quot;north&quot;,
			&quot;error: rotate45 received direction of wrong form&quot;
			))
		(output-data: _output)
		]
		))
		
&lt;!-- This rotates directions through 90 degrees cw.--&gt; 

(set: $rotate90 to 
	(macro: str-type _direction, [
		(set: _output to (cond: 
			_direction is &quot;north&quot;, &quot;east&quot;,
			_direction is &quot;northeast&quot;, &quot;southeast&quot;,
			_direction is &quot;east&quot;, &quot;south&quot;,
			_direction is &quot;southeast&quot;, &quot;southwest&quot;,
			_direction is &quot;south&quot;, &quot;west&quot;,
			_direction is &quot;southwest&quot;, &quot;northwest&quot;,
			_direction is &quot;west&quot;, &quot;north&quot;,
			_direction is &quot;northwest&quot;, &quot;northeast&quot;,
			&quot;error: rotate90 received direction of wrong form&quot;
			))
		(output-data: _output)
		]
		))
		
&lt;!-- This rotates the given direction through 90 degrees in the NS vertical plane (leaving east and west as they are).--&gt; 

(set: $rotate90Up to 
	(macro: str-type _direction, [
		(set: _output to (cond: 
			_direction is &quot;north&quot;, &quot;up&quot;,
			_direction is &quot;up&quot;, &quot;south&quot;,
			_direction is &quot;south&quot;, &quot;down&quot;,
			_direction is &quot;down&quot;, &quot;north&quot;,
			_direction is &quot;east&quot;, &quot;east&quot;,
			_direction is &quot;west&quot;, &quot;west&quot;,
			&quot;error: rotate90 received direction of wrong form&quot;
			))
		(output-data: _output)
		]
		))
			
&lt;!-- This randomly replaces the adjustable directions with hilled directions.--&gt; 

(set: $setHillyVariables to 
(macro: [
	(set: $upOnScreen2 to $upOnScreen)
	(set: $downOnScreen2 to $downOnScreen)
	(set: $rightOnScreen2 to $rightOnScreen)
	(set: $leftOnScreen2 to $leftOnScreen)
	(set: _x to ($srandom: 3))
	(if: _x &gt; 1)[
		(set: $rightOnScreen2 to 
			$upVariable +  &quot; &quot; +
			$stairTerm + 
			&quot; to the &quot; + 
			$rightOnScreen)
		(set: $leftOnScreen2 to 
			$downVariable +  &quot; &quot; +
			$stairTerm + 
			&quot; to the &quot; + 
			$leftOnScreen)]
	(if: _x is even) [
		(set: $upOnScreen2 to 
			$upVariable + &quot; &quot; +
			$stairTerm + 
			&quot; to the &quot; +
			$upOnScreen)
		(set: $downOnScreen2 to 
			$downVariable +  &quot; &quot; +
			$stairTerm +
			&quot; to the &quot; + 
			$downOnScreen)]
	(output-data: &quot;&quot;)
	]))
	

&lt;!-- The next three functions decide randomly whether to have ladders or steps in a NSEW direction.--&gt; 

(set: $set3Dvariables to 
(macro: [
	($setDownWestVariables:)
	($setDownSouthVariables:)
	(output-data:&quot;&quot;)
	]
	))

(set: $setDownWestVariables to 
(macro: [
	(set: _x to ($srandom: 1))
	(if: _x is 0)[
		(set: $rightOnScreen2 to 
			$upVariable +  &quot; &quot; +
			$stairTerm + 
			&quot; to the &quot; + 
			$rightOnScreen)
		(set: $leftOnScreen2 to 
			$downVariable +  &quot; &quot; +
			$stairTerm + 
			&quot; to the &quot; + 
			$leftOnScreen)
		]
	(else:) [
		(set: $rightOnScreen2 to $upVariable + &quot; &quot; + $ladderTerm)
		(set: $leftOnScreen2 to $downVariable + &quot; &quot; + $ladderTerm)
		]
	(output-data: &quot;&quot;)
	]))
	

(set: $setDownSouthVariables to 
(macro: [
	(set: _x to ($srandom: 1))
	(if: _x is 0)[
		(set: $upOnScreen2 to 
			$upVariable + &quot; &quot; +
			$stairTerm + 
			&quot; to the &quot; +
			$upOnScreen)
		(set: $downOnScreen2 to 
			$downVariable +  &quot; &quot; +
			$stairTerm +
			&quot; to the &quot; + 
			$downOnScreen)
		]
	(else:) [
		(set: $upOnScreen2 to $upVariable + &quot; &quot; + $ladderTerm)
		(set: $downOnScreen2 to $downVariable + &quot; &quot; + $ladderTerm)
		]
	(output-data: &quot;&quot;)
	]))

&lt;!-- This switches the frequent direction &quot;north&quot; for the rare direction &quot;up and to the north&quot;, ditto for E, W and S. Creates map with many slopes. --&gt;

(set: $setWallVariables to 
(macro: [
	($setDownWestVariables:)
	($setDownSouthVariables:)
	(set: _x to $upOnScreen2)
	(set: $upOnScreen2 to $upOnScreen)
	(set: $upOnScreen to _x)
	(set: _y to $downOnScreen2)
	(set: $downOnScreen2 to $downOnScreen)
	(set: $downOnScreen to _y)
	(set: _z to $rightOnScreen2)
	(set: $rightOnScreen2 to $rightOnScreen)
	(set: $rightOnScreen to _z)
	(set: _w to $leftOnScreen2)
	(set: $leftOnScreen2 to $leftOnScreen)
	(set: $leftOnScreen to _w)
	(output-data: &quot;&quot;)
	]))


	
(set: $setTowerVariables to 
(macro: [
	(set: _x to ($srandom: 1))
	(if: _x is 0)[
		(set: $startRoom to &quot;room 8&quot;)
		(set: $leftOnScreen to &quot;up&quot;)
		(set: $rightOnScreen to &quot;down&quot;)
		]
	(if: _x is 1)[
		(set: $startRoom to &quot;room 5&quot;)
		(set: $leftOnScreen to &quot;down&quot;)
		(set: $rightOnScreen to &quot;up&quot;)
		]
	(output-data: &quot;&quot;)
	]))
	
(set: $setPitVariables to 
(macro: [
	(set: _x to ($srandom: 1))
	(if: _x is 0)[
		(set: $startRoom to &quot;room 5&quot;)
		(set: $leftOnScreen to &quot;up&quot;)
		(set: $rightOnScreen to &quot;down&quot;)
		]
	(if: _x is 1)[
		(set: $startRoom to &quot;room 8&quot;)
		(set: $leftOnScreen to &quot;down&quot;)
		(set: $rightOnScreen to &quot;up&quot;)
		]
	(output-data: &quot;&quot;)
	]))
	
(set: $setFortVariables to 
(macro: [
	(set: _x to ($srandom: 1))
	(if: _x is 0)[
		(set: $startRoom to &quot;room 0&quot;)
		(set: $downOnScreen to &quot;up&quot;)
		(set: $upOnScreen to &quot;down&quot;)
		]
	(if: _x is 1)[
		(set: $startRoom to &quot;room 3&quot;)
		(set: $downOnScreen to &quot;down&quot;)
		(set: $upOnScreen to &quot;up&quot;)
		]
	(output-data: &quot;&quot;)
	]))
	
(set: $setCryptVariables to 
(macro: [
	(set: _x to ($srandom: 1))
	(if: _x is 0)[
		(set: $startRoom to &quot;room 3&quot;)
		(set: $downOnScreen to &quot;up&quot;)
		(set: $upOnScreen to &quot;down&quot;)
		]
	(if: _x is 1)[
		(set: $startRoom to &quot;room 0&quot;)
		(set: $downOnScreen to &quot;down&quot;)
		(set: $upOnScreen to &quot;up&quot;)
		]
	(output-data: &quot;&quot;)
	]))

(set: $zeroMarker to &quot;a barrel&quot;)
(set: $oneMarker to &quot;a suit of armor&quot;)
(set: $twoMarker to &quot;a crystal swan&quot;)
(set: $threeMarker to &quot;a statue of a buxom woman&quot;)
(set: $fourMarker to &quot;a golf club&quot;)
(set: $fiveMarker to &quot;a collection of gold rings&quot;)
(set: $sixMarker to &quot;a cane&quot;)
(set: $sevenMarker to &quot;a severed head in a box&quot;)
(set: $eightMarker to &quot;a gateway to infinity&quot;)
(set: $nineMarker to &quot;a Nazgul&quot;)
}

</tw-passagedata><tw-passagedata pid="18" name="top left" tags="" position="485,1080" size="100,100">{(set: $place to &quot;&quot;)
(set: $decadeNum to 0)
(set: $imageType to 0) 
}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[$mainSentence. You can either $head [[$rightOnNexusMap-&gt;top middle]] or [[$downOnNexusMap-&gt;four fifths up]]. (if: $floorInt is 6)[A ladder inside a cupola leads [[down-&gt;complex zero]] from here.] (else:)[(if: $floorInt is 14)[The coast to the $upOnNexusMap opens into an estuary, via which you can [[sail inland-&gt;complex zero]].] (else:) [You may also $head $upOnNexusMap (print: (1) of $doorTypes) (print: (either: &quot;&quot;, (2) of $doorTypes)) (print: (3) of $doorTypes) $exitPhrase [[$complexWord-&gt;complex zero]].]] Another option is to step into the [[elevator]]. 
]


($setImage:)</tw-passagedata><tw-passagedata pid="19" name="top middle" tags="" position="641,1081" size="100,100">{(set: $place to &quot;&quot;)
(set: $decadeNum to 0)
(set: $imageType to 0) }
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[$mainSentence. You may $head [[$rightOnNexusMap-&gt;top right]] or [[$leftOnNexusMap-&gt;top left]] from here. There is also (if: $floorInt is 6)[a rooftop entrance, from which a [[ladder descends-&gt;complex two]] into the building below.] (else:) [(if: $floorInt is 14)[the mouth of a river to the $downOnNexusMap, via which you can [[sail inland-&gt;complex two]].](else:) [a (print: (3) of $doorTypes) to the $downOnNexusMap which goes $exitPhrase [[$complexWord-&gt;complex two]].] ]
]

($setImage:)</tw-passagedata><tw-passagedata pid="20" name="four fifths up" tags="" position="490,1353" size="100,100">{(set: $place to &quot;&quot;)
(set: $decadeNum to 0)
(set: $imageType to 0) 
(set: $homeCity to &quot;Bishop&#39;s Lynn&quot;)
(set: $foreignCity to &quot;La Rochelle&quot;)}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[$mainSentence. You may $head [[$upOnNexusMap-&gt;top left]] or [[$downOnNexusMap-&gt;three fifths up]] from here. (if: $floorInt is 6)[A ladder inside a cupola leads [[down-&gt;complex three]] from here.] (else:)[(if: $floorInt is 14)[To the $rightOnNexusMap you can see the coast opens up into an estuary, via which you can [[sail inland -&gt;complex three]].] (else:) [To the $rightOnNexusMap is [[a (print: (3) of $doorTypes) via which you can $head $exitPhrase $complexWord-&gt;complex three]].] ]
]

($setImage:)</tw-passagedata><tw-passagedata pid="21" name="top right" tags="" position="805,1083" size="100,100">{(set: $place to &quot;&quot;)
(set: $decadeNum to 0)
(set: $imageType to 0) }
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[$mainSentence, (if: $floorInt is 6)[at the $rightOnNexusMap most end, which ends with a cupola, inside which is a ladder that leads [[down-&gt;complex one]]. Alternatively, you may $head to the [[$leftOnNexusMap-&gt;top middle]].] (else:)[(if: $floorInt is 14)[at the $rightOnNexusMap end of a closed sea. From here, you may $head into a estuary to the $rightOnNexusMap, via which you can access a river and [[sail inland-&gt;complex one]], or you can $head [[$leftOnNexusMap-&gt;top middle]].] (else:) [at the $rightOnNexusMap most end, which ends in a (print: (3) of $doorTypes). You may [[take the (print: (3) of $doorTypes)-&gt;complex one]], or head to the [[$leftOnNexusMap-&gt;top middle]].]]
]

($setImage:)</tw-passagedata><tw-passagedata pid="22" name="three fifths up" tags="" position="488,1623" size="100,100">{(set: $place to &quot;&quot;)
(set: $decadeNum to 0)
(set: $imageType to 0) }
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[$mainSentence. (if: $floorInt is 14)[Though passage to the $leftOnNexusMap is blocked by a coastal cliffs, you may chart a course [[$upOnNexusMap-&gt;four fifths up]], [[$rightOnNexusMap-&gt;middle middle]] or [[$downOnNexusMap-&gt;two fifths up]] from here.] (else:) [A $secondaryPassage branches off to the [[$rightOnNexusMap-&gt;middle middle]]. Or you may take the main $secondaryPassage to the [[$upOnNexusMap-&gt;four fifths up]] or to the [[$downOnNexusMap-&gt;two fifths up]].]
]

($setImage:)</tw-passagedata><tw-passagedata pid="23" name="middle middle" tags="" position="643,1626" size="100,100">{(set: $place to &quot;&quot;)
(set: $decadeNum to 0)
(set: $imageType to 0) }
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[$mainSentence. You may $head [[$leftOnNexusMap-&gt;three fifths up]] or [[$rightOnNexusMap-&gt;middle right]] from here. (if: $floorInt is 6)[A ladder inside a cupola leads [[down-&gt;complex four]] from here.] (else:)[ (if: $floorInt is 14)[The coast to the $upOnNexusMap opens up into an estuary, via which you can [[sail inland-&gt;complex four]].] (else:) [There is also [[a way to the $upOnNexusMap-&gt;complex four]] to a $complexWord.]]
]

($setImage:)</tw-passagedata><tw-passagedata pid="24" name="two fifths up" tags="" position="486,1776" size="100,100">{(set: $mervDirection to &quot;inbound&quot;)
(set: $imageType to 0) 
(set: $decadeNum to 0)
(set: $place to &quot;&quot;)}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[$mainSentence(if: $floorInt is 14)[, sailing down a narrow sea between two lands]. You may $head [[$upOnNexusMap-&gt;three fifths up]] or [[$downOnNexusMap-&gt;bottom]] from here. (if: $floorInt is 6)[There are also twin cupolas here, in which ladders descend into the buildings below. You may take the [[one to the $rightOnNexusMap -&gt;complex seven]] or the [[one to the $leftOnNexusMap -&gt;complex nine]].](else:)[ (if: $floorInt is 14)[To the [[$rightOnNexusMap-&gt;complex seven]] and [[$leftOnNexusMap-&gt;complex nine]] are coastal estuaries via which you can sail inland.](else:) [Alternatively, you might take [[a (print: (3) of $doorTypes) to the $rightOnNexusMap -&gt;complex seven]], or a (print: (3) of $doorTypes) to the [[$leftOnNexusMap -&gt;complex nine]].]]
]

($setImage:)
(print: $imageRef)
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1400.1);&lt;/script&gt;]
</tw-passagedata><tw-passagedata pid="25" name="bottom" tags="" position="488,1926" size="100,100">{(set: $place to &quot;&quot;)
(set: $decadeNum to 0)
(set: $imageType to 0) }
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[$mainSentence, (if: $floorInt is 6)[at the $downOnNexusMap most end, which ends with a cupola, inside which is a ladder that leads [[down-&gt;complex eight]]. You may take it,] (else:)[(if: $floorInt is 14)[at the $downOnNexusMap end of a closed sea. From here, you may $head into a river mouth to the $downOnNexusMap, via which you can [[sail inland-&gt;complex eight]],](else:) [at the $downOnNexusMap most end, which ends in a (print: (3) of $doorTypes). You may [[take the (print: (3) of $doorTypes)-&gt;complex eight]],]] or $head to the [[$upOnNexusMap-&gt;two fifths up]]. 
]

(set: $japanBattle to &quot;outbound&quot;)
($setImage:)</tw-passagedata><tw-passagedata pid="26" name="middle right" tags="" position="803,1628" size="100,100">{(set: $place to &quot;&quot;)
(set: $decadeNum to 0)
(set: $imageType to 0) }
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[$mainSentence (if: $floorInt is 6)[, at the $rightOnNexusMap most end. There are two rooftop entrances here, via which you can descend by rope into the buildings below. You may take [[the one to the $rightOnNexusMap-&gt;complex five]] or [[the one to the $downOnNexusMap -&gt;complex six]]. You also have the option of heading [[$leftOnNexusMap-&gt;middle middle]] along the rooftop.](else:)[(if: $floorInt is 14)[at the $rightOnNexusMap end of a closed sea. From here, you may $head into a delta to the $rightOnNexusMap, via which you can [[sail inland-&gt;complex five]], or $head into a different estuary to the [[$downOnNexusMap-&gt;complex six]]. Alternatively, you can $head [[$leftOnNexusMap-&gt;middle middle]].] (else:) [, at the $rightOnNexusMap most end, which ends in a (print: (3) of $doorTypes). You may [[take the (print: (3) of $doorTypes)-&gt;complex five]], take [[another (print: (3) of $doorTypes) to the $downOnNexusMap -&gt;complex six]] or $head to the [[$leftOnNexusMap-&gt;middle middle]].] ]
]

($setImage:)</tw-passagedata><tw-passagedata pid="27" name="complex zero" tags="" position="486,933" size="100,100">{
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
(set: $imageType to 1) 
(set: $decadeNum to 0) 
(set: $decadeNumber to $hundredNumber + $decadeNum)
(set: $decadeString to (str: $decadeNum))
(set: $decadeReference to $hundredNumber + $decadeNum + 1) 
(set: $referenceString to (str: $decadeReference))
(set: $seedIndex to 1)
(set: $randomSeed to (str: $decadeReference - 1) of $randomMaps)
(set: $roomAdjective to &quot;a &quot;)

($refreshSentences:) 

&lt;!--IMAGES--&gt;
($setImage:)
&lt;!--END IMAGES--&gt;

&lt;!--ROOM MARKERS--&gt;
(set: $zeroMarker to &quot;a barrel&quot;)
(set: $oneMarker to &quot;a suit of armor&quot;)
(set: $twoMarker to &quot;a crystal swan&quot;)
(set: $threeMarker to &quot;a statue of a buxom woman&quot;)
(set: $fourMarker to &quot;a golf club&quot;)
(set: $fiveMarker to &quot;a collection of gold rings&quot;)
(set: $sixMarker to &quot;a cane&quot;)
(set: $sevenMarker to &quot;a severed head in a box&quot;)
(set: $eightMarker to &quot;a gateway to infinity&quot;)
(set: $nineMarker to &quot;a Nazgul&quot;)
&lt;!--END ROOM MARKERS--&gt;


($setFlatDirections:)
($setUpDownDirections:)
(set: $flatness to &quot;2storey&quot;)
(if: (a: 0,1,2,3,4,5,6,11,14) contains $floorInt)[(set: $flatness to &quot;hilly&quot;)]
(if: (a: 8) contains $floorInt)[(set: $flatness to &quot;flat&quot;)]

&lt;!--$downOnNexusMap is the direction pointing back to the main nexus, after rotation. Find which of the variables in the complex matches it, and use that to choose the appropriate starting room --&gt;
(set:$wayOut to $downOnNexusMap)
(if: $downOnScreen is $wayOut)[(set: $startRoom to &quot;room 3&quot;)]
(if: $upOnScreen is $wayOut)[(set: $startRoom to &quot;room 0&quot;)]
(if: $rightOnScreen is $wayOut)[(set: $startRoom to &quot;room 8&quot;)]
(if: $leftOnScreen is $wayOut)[(set: $startRoom to &quot;room 5&quot;)]

($setAdjustableDirections:)
($fixOptionalPaths:)

(set: $returnText to &quot;A different possibility is to head back to the $downOnNexusMap towards [[$nexusWord-&gt;complex zero]].&quot;) 

}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{
(if: $floorInt is 6)[You are in one of the gatehouses to the city of Aleppo. A road leads [[$upOnNexusMap-&gt;$startRoom]] from here to the hanging farms. Alternatively you can go [[up a ladder-&gt;top left]] to $nexusWord.] 
(else:)[
	(if: $floorInt is 14)[You are anchored in a wide, tropical river on an unexplored island in the new world. To explore the island, you must head [[$upOnNexusMap-&gt;$startRoom]] on foot. Alternatively you can $head [[$downOnNexusMap-&gt;top left]] to $nexusWord.] 
	(else:)[$complexSentence3. From here you can go $downOnNexusMap to [[$nexusWord-&gt;top left]]. Alternatively, you may go [[$upOnNexusMap-&gt;$startRoom]].] 
		]
		}]





</tw-passagedata><tw-passagedata pid="28" name="complex two" tags="" position="638,1215" size="100,100">{
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
(set: $imageType to 1) 
(set: $decadeNum to 20) 
(set: $decadeNumber to $hundredNumber + $decadeNum)

(set: $decadeString to (str: $decadeNum))
(set: $decadeReference to $hundredNumber + $decadeNum + 1) 
(set: $referenceString to (str: $decadeReference))
(set: $seedIndex to 1)
(set: $randomSeed to (str: $decadeReference - 1) of $randomMaps)
(set: $roomAdjective to &quot;a &quot;)
(set: $complexLanguage to (str: $decadeReference) of $generalLanguage)
($refreshSentences:) 

($setImage:)
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1422);&lt;/script&gt;]



	
(set: $zeroMarker to &quot;a barrel&quot;)
(set: $oneMarker to &quot;a suit of armor&quot;)
(set: $twoMarker to &quot;a crystal swan&quot;)
(set: $threeMarker to &quot;a statue of a buxom woman&quot;)
(set: $fourMarker to &quot;a golf club&quot;)
(set: $fiveMarker to &quot;a collection of gold rings&quot;)
(set: $sixMarker to &quot;a cane&quot;)
(set: $sevenMarker to &quot;a severed head in a box&quot;)
(set: $eightMarker to &quot;a gateway to infinity&quot;)
(set: $nineMarker to &quot;a Nazgul&quot;)

($setFlatDirections:)
($setUpDownDirections:)
(set: $flatness to &quot;2storey&quot;)
(if: (a: ) contains $floorInt)[(set: $flatness to &quot;hilly&quot;)]
(if: (a: ) contains $floorInt)[(set: $flatness to &quot;flat&quot;)]


(if: $downOnScreen is $upOnNexusMap)[(set: $startRoom to &quot;room 3&quot;)]
(if: $upOnScreen is $upOnNexusMap)[(set: $startRoom to &quot;room 0&quot;)]
(if: $rightOnScreen is $upOnNexusMap)[(set: $startRoom to &quot;room 8&quot;)]
(if: $leftOnScreen is $upOnNexusMap)[(set: $startRoom to &quot;room 5&quot;)]

($setAdjustableDirections:)
($fixOptionalPaths:)

(set: $returnText to &quot;A different possibility is to head back to the $upOnNexusMap towards [[$nexusWord-&gt;complex two]].&quot;) 

}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[{
(if: $floorInt is 6)[You are in the library of the hashashins in the city of Aleppo. To explore the library, you must head [[$downOnNexusMap-&gt;$startRoom]]. You can leave the library by heading [[up-&gt;top middle]] to $nexusWord.] 
(else:)[
	(if: $floorInt is 14)[(set: $place to &quot;Strasbourg&quot;)You are at a port in the city of Strasbourg, where Johannes Gutenberg has invented his printing press. To explore the city, you must head [[$downOnNexusMap-&gt;$startRoom]] on foot. Alternatively you can $head [[$upOnNexusMap-&gt;top middle]] to $nexusWord.]	
	(else:)[$complexSentence3. From here you can go $upOnNexusMap to [[$nexusWord-&gt;top middle]]. Alternatively, you may go [[$downOnNexusMap-&gt;$startRoom]].]
	]
}]




</tw-passagedata><tw-passagedata pid="29" name="complex one" tags="" position="993,1082" size="100,100">{
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
(set: $imageType to 1) 
(set: $decadeNum to 10) 
(set: $decadeNumber to $hundredNumber + $decadeNum)

(set: $decadeString to (str: $decadeNum))
(set: $decadeReference to $hundredNumber + $decadeNum + 1) 
(set: $referenceString to (str: $decadeReference))
(set: $seedIndex to 1)
(set: $randomSeed to (str: $decadeReference - 1) of $randomMaps)
(set: $roomAdjective to &quot;a &quot;)
(set: $complexLanguage to (str: $decadeReference) of $generalLanguage)
($refreshSentences:) 

($setImage:)
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1412);&lt;/script&gt;]



	
(set: $zeroMarker to &quot;a barrel&quot;)
(set: $oneMarker to &quot;a suit of armor&quot;)
(set: $twoMarker to &quot;a crystal swan&quot;)
(set: $threeMarker to &quot;a statue of a buxom woman&quot;)
(set: $fourMarker to &quot;a golf club&quot;)
(set: $fiveMarker to &quot;a collection of gold rings&quot;)
(set: $sixMarker to &quot;a cane&quot;)
(set: $sevenMarker to &quot;a severed head in a box&quot;)
(set: $eightMarker to &quot;a gateway to infinity&quot;)
(set: $nineMarker to &quot;a Nazgul&quot;)
($setFlatDirections:)
($setUpDownDirections:)
(set: $flatness to &quot;2storey&quot;)
(if: (a: 5,6,8,11) contains $floorInt)[(set: $flatness to &quot;hilly&quot;)]
(if: (a: 0,1,2,4,7) contains $floorInt)[(set: $flatness to &quot;flat&quot;)]
(if: (a: 10) contains $floorInt)[(set: $flatness to &quot;towery&quot;)]

(if: $downOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 3&quot;)]
(if: $upOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 0&quot;)]
(if: $rightOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 8&quot;)]
(if: $leftOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 5&quot;)]

($setAdjustableDirections:)
($fixOptionalPaths:)

(set: $returnText to &quot;A different possibility is to head back to the $leftOnNexusMap towards [[$nexusWord-&gt;complex one]].&quot;) 

}


(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[{
(if: $floorInt is 6)[You are in a labyrinth of smoky hashish bars somewhere in the seedier quarter of the city of Aleppo. You can explore the quarter by heading [[$rightOnNexusMap-&gt;$startRoom]]. Alternatively you can go [[up a ladder-&gt;top right]] to $nexusWord.] 
(else:)[
	(if: $floorInt is 14)[(set: $place to &quot;York&quot;)You are at a port in the city of York. To explore the city, you must head [[$rightOnNexusMap-&gt;$startRoom]] on foot. Alternatively you can $head [[$leftOnNexusMap-&gt;top right]] to $nexusWord.]	(else:)[$complexSentence3.
From here you can go $leftOnNexusMap to [[$nexusWord-&gt;top right]]. Alternatively, you may go [[$rightOnNexusMap-&gt;$startRoom]].] 
]
}]





</tw-passagedata><tw-passagedata pid="30" name="complex three" tags="" position="683,1352" size="100,100">{
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
(set: $imageType to 1) 
(set: $decadeNum to 30) 
(set: $decadeNumber to $hundredNumber + $decadeNum)

(set: $decadeString to (str: $decadeNum))
(set: $decadeReference to $hundredNumber + $decadeNum + 1) 
(set: $referenceString to (str: $decadeReference))
(set: $seedIndex to 1)
(set: $randomSeed to (str: $decadeReference - 1) of $randomMaps)
(set: $roomAdjective to &quot;a &quot;)
(set: $complexLanguage to (str: $decadeReference) of $generalLanguage)
($refreshSentences:) 

($setImage:)
(if: $floorInt is 11)[&lt;script&gt;CustomScripts.updateBackground(1135);&lt;/script&gt;]
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1432);&lt;/script&gt;]



	
(set: $zeroMarker to &quot;a barrel&quot;)
(set: $oneMarker to &quot;a suit of armor&quot;)
(set: $twoMarker to &quot;a crystal swan&quot;)
(set: $threeMarker to &quot;a statue of a buxom woman&quot;)
(set: $fourMarker to &quot;a golf club&quot;)
(set: $fiveMarker to &quot;a collection of gold rings&quot;)
(set: $sixMarker to &quot;a cane&quot;)
(set: $sevenMarker to &quot;a severed head in a box&quot;)
(set: $eightMarker to &quot;a gateway to infinity&quot;)
(set: $nineMarker to &quot;a Nazgul&quot;)

($setFlatDirections:)
($setUpDownDirections:)
(set: $flatness to &quot;2storey&quot;)
(if: (a:5) contains $floorInt)[(set: $flatness to &quot;hilly&quot;)]
(if: (a: ) contains $floorInt)[(set: $flatness to &quot;flat&quot;)]
(if: (a:11) contains $floorInt)[(set: $flatness to &quot;towery&quot;)]


(if: $downOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 3&quot;)]
(if: $upOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 0&quot;)]
(if: $rightOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 8&quot;)]
(if: $leftOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 5&quot;)]

($setAdjustableDirections:)
($fixOptionalPaths:)

(if: $floorInt is 11)[(set: $returnText to &quot;If you tire of France you may head $leftOnNexusMap to [[La Rochelle-&gt;port2]] to seek a ship back to England.&quot;)](else:)[(set: $returnText to &quot;A different possibility is to head back to the $leftOnNexusMap towards [[$nexusWord-&gt;complex three]].&quot;)]

}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[{
(if: $floorInt is 11)[You are on a high and windy path overlooking the port town of Bishop&#39;s Lynn. From here, you can head inland towards [[Sherwood Forest-&gt;four fifths up]] or make your way down into the [[port city-&gt;port1]].]
	(else:)[ 
(if: $floorInt is 6)[You are in the Sultan&#39;s palace in the city of Aleppo, where exotic belly dancers put on a show for the Sultan&#39;s many guests. To explore the palace, you must head [[$rightOnNexusMap-&gt;$startRoom]]. to leave, you may head [[up-&gt;four fifths up]] to $nexusWord.] 
(else:)[
	(if: $floorInt is 14)[(set: $place to &quot;Orleans&quot;)You are docked at the city of Orleans, which is under siege from the forces of Joan of Arc. To explore, you must head [[$rightOnNexusMap-&gt;$startRoom]] on foot. Alternatively you can $head [[$leftOnNexusMap-&gt;four fifths up]] to $nexusWord.]
	(else:)[$complexSentence3 From here you can go $leftOnNexusMap to the [[$nexusWord-&gt;four fifths up]]. Alternatively, you may go [[$rightOnNexusMap-&gt;$startRoom]].]
	]]
	}]





</tw-passagedata><tw-passagedata pid="31" name="complex four" tags="" position="640,1486" size="100,100">{
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
(set: $imageType to 1) 
(set: $decadeNum to 40) 
(set: $decadeNumber to $hundredNumber + $decadeNum)

(set: $decadeString to (str: $decadeNum))
(set: $decadeReference to $hundredNumber + $decadeNum + 1) 
(set: $referenceString to (str: $decadeReference))
(set: $seedIndex to 1)
(set: $randomSeed to (str: $decadeReference - 1) of $randomMaps)
(set: $roomAdjective to &quot;a &quot;)
(set: $complexLanguage to (str: $decadeReference) of $generalLanguage)
($refreshSentences:) 

($setImage:)
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1442);&lt;/script&gt;]



	
(set: $zeroMarker to &quot;a barrel&quot;)
(set: $oneMarker to &quot;a suit of armor&quot;)
(set: $twoMarker to &quot;a crystal swan&quot;)
(set: $threeMarker to &quot;a statue of a buxom woman&quot;)
(set: $fourMarker to &quot;a golf club&quot;)
(set: $fiveMarker to &quot;a collection of gold rings&quot;)
(set: $sixMarker to &quot;a cane&quot;)
(set: $sevenMarker to &quot;a severed head in a box&quot;)
(set: $eightMarker to &quot;a gateway to infinity&quot;)
(set: $nineMarker to &quot;a Nazgul&quot;)

($setFlatDirections:)
($setUpDownDirections:)
(set: $flatness to &quot;2storey&quot;)
(if: (a: 0, 6,11) contains $floorInt)[(set: $flatness to &quot;hilly&quot;)]
(if: (a: ) contains $floorInt)[(set: $flatness to &quot;flat&quot;)]


(if: $downOnScreen is $downOnNexusMap)[(set: $startRoom to &quot;room 3&quot;)]
(if: $upOnScreen is $downOnNexusMap)[(set: $startRoom to &quot;room 0&quot;)]
(if: $rightOnScreen is $downOnNexusMap)[(set: $startRoom to &quot;room 8&quot;)]
(if: $leftOnScreen is $downOnNexusMap)[(set: $startRoom to &quot;room 5&quot;)]

($setAdjustableDirections:)
($fixOptionalPaths:)

(set: $returnText to &quot;A different possibility is to head back to the $downOnNexusMap towards [[$nexusWord-&gt;complex four]].&quot;) 

}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[{(if: $floorInt is 6)[You are in the bustling souk of Al-Madina, where vendors from far and wide peddle their wares to the busy city. The souk heads [[$upOnNexusMap-&gt;$startRoom]] from here. Alternatively you can exit the souk by [[climbing up-&gt;middle middle]] to $nexusWord.]
(else:)[
	(if: $floorInt is 14)[(set: $place to &quot;Aztec&quot;)You are on a river to an unknown port in the new world. To dock at a magnificent city of pyramids and explore the city, you must head [[$upOnNexusMap-&gt;$startRoom]]. Alternatively you can $head [[$downOnNexusMap-&gt;middle middle]] to $nexusWord.]
	(else:)[ $complexSentence3. From here you can go $downOnNexusMap to the [[$nexusWord-&gt;middle middle]]. Alternatively, you may go [[$upOnNexusMap-&gt;$startRoom]].]
	]
	}]





</tw-passagedata><tw-passagedata pid="32" name="complex five" tags="" position="986,1626" size="100,100">{
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
(set: $imageType to 1) 
(set: $decadeNum to 50) 
(set: $decadeNumber to $hundredNumber + $decadeNum)

(set: $decadeString to (str: $decadeNum))
(set: $decadeReference to $hundredNumber + $decadeNum + 1) 
(set: $referenceString to (str: $decadeReference))
(set: $seedIndex to 1)
(set: $randomSeed to (str: $decadeReference - 1) of $randomMaps)
(set: $roomAdjective to &quot;a &quot;)
(set: $complexLanguage to (str: $decadeReference) of $generalLanguage)
($refreshSentences:) 

($setImage:)
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1452);&lt;/script&gt;]


	
(set: $zeroMarker to &quot;a barrel&quot;)
(set: $oneMarker to &quot;a suit of armor&quot;)
(set: $twoMarker to &quot;a crystal swan&quot;)
(set: $threeMarker to &quot;a statue of a buxom woman&quot;)
(set: $fourMarker to &quot;a golf club&quot;)
(set: $fiveMarker to &quot;a collection of gold rings&quot;)
(set: $sixMarker to &quot;a cane&quot;)
(set: $sevenMarker to &quot;a severed head in a box&quot;)
(set: $eightMarker to &quot;a gateway to infinity&quot;)
(set: $nineMarker to &quot;a Nazgul&quot;)

($setFlatDirections:)
($setUpDownDirections:)
(set: $flatness to &quot;2storey&quot;)
(if: (a: 0, 3, 5,11) contains $floorInt)[(set: $flatness to &quot;hilly&quot;)]
(if: (a: 1) contains $floorInt)[(set: $flatness to &quot;flat&quot;)]


(if: $downOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 3&quot;)]
(if: $upOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 0&quot;)]
(if: $rightOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 8&quot;)]
(if: $leftOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 5&quot;)]

($setAdjustableDirections:)
($fixOptionalPaths:)

(set: $returnText to &quot;A different possibility is to head back to the $leftOnNexusMap towards [[$nexusWord-&gt;complex five]].&quot;) 


}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[{
(if: $floorInt is 6)[You are in the inner gatehouse to the Citadel of Aleppo. The doors to the city are locked and unopenable, but you can explore the citadel by heading [[$rightOnNexusMap-&gt;$startRoom]]. Alternatively you can leave the citadel by [[climbing up a ladder-&gt;middle right]] to $nexusWord.] 
(else:)[
	(if: $floorInt is 14)[(set: $place to &quot;Istanbul&quot;)You are at a port in the city of Istanbul, which is under siege from the forces of Mehmet II. To explore the city, you must head [[$rightOnNexusMap-&gt;$startRoom]] on foot. Alternatively you can $head [[$leftOnNexusMap-&gt;middle right]] to $nexusWord.]
	(else:)[$complexSentence3. From here you can go $leftOnNexusMap to [[$nexusWord-&gt;middle right]]. Alternatively, you may go [[$rightOnNexusMap-&gt;$startRoom]].]
]
}]




</tw-passagedata><tw-passagedata pid="33" name="complex six" tags="" position="891,1776" size="100,100">{
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
(set: $imageType to 1) 
(set: $decadeNum to 60) 
(set: $decadeNumber to $hundredNumber + $decadeNum)

(set: $decadeString to (str: $decadeNum))
(set: $decadeReference to $hundredNumber + $decadeNum + 1) 
(set: $referenceString to (str: $decadeReference))
(set: $seedIndex to 1)
(set: $randomSeed to (str: $decadeReference - 1) of $randomMaps)
(set: $roomAdjective to &quot;a &quot;)
(set: $complexLanguage to (str: $decadeReference) of $generalLanguage)
($refreshSentences:) 

($setImage:)
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1462);&lt;/script&gt;]



	
(set: $zeroMarker to &quot;a barrel&quot;)
(set: $oneMarker to &quot;a suit of armor&quot;)
(set: $twoMarker to &quot;a crystal swan&quot;)
(set: $threeMarker to &quot;a statue of a buxom woman&quot;)
(set: $fourMarker to &quot;a golf club&quot;)
(set: $fiveMarker to &quot;a collection of gold rings&quot;)
(set: $sixMarker to &quot;a cane&quot;)
(set: $sevenMarker to &quot;a severed head in a box&quot;)
(set: $eightMarker to &quot;a gateway to infinity&quot;)
(set: $nineMarker to &quot;a Nazgul&quot;)

($setFlatDirections:)
($setUpDownDirections:)
(set: $flatness to &quot;2storey&quot;)
(if: (a: 0,1,2,6,7,8) contains $floorInt)[(set: $flatness to &quot;hilly&quot;)]
(if: (a: ) contains $floorInt)[(set: $flatness to &quot;flat&quot;)]

(if: $downOnScreen is $upOnNexusMap)[(set: $startRoom to &quot;room 3&quot;)]
(if: $upOnScreen is $upOnNexusMap)[(set: $startRoom to &quot;room 0&quot;)]
(if: $rightOnScreen is $upOnNexusMap)[(set: $startRoom to &quot;room 8&quot;)]
(if: $leftOnScreen is $upOnNexusMap)[(set: $startRoom to &quot;room 5&quot;)]

($setAdjustableDirections:)
($fixOptionalPaths:)

(set: $returnText to &quot;A different possibility is to head back to the $upOnNexusMap towards [[$nexusWord-&gt;complex six]].&quot;) 

}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[{
(if: $floorInt is 6)[You are in the Jewish quarter of the ancient city of Aleppo. To explore the quarter, you must head [[$downOnNexusMap-&gt;$startRoom]]. You can leave the quarter by climbing [[up-&gt;middle right]] to $nexusWord.] 
(else:)[
	(if: $floorInt is 14)[(set:$place to &quot;London&quot;)You are at a port in the city of London, where the Lollards are imprisoned. To explore the city, you must head [[$downOnNexusMap-&gt;$startRoom]] on foot. Alternatively you can $head [[$upOnNexusMap-&gt;middle right]] to $nexusWord.]
	(else:)[$complexSentence3. From here you can go $upOnNexusMap to [[$nexusWord-&gt;middle right]]. Alternatively, you may go [[$downOnNexusMap-&gt;$startRoom]].]
	]
	}]





</tw-passagedata><tw-passagedata pid="34" name="complex seven" tags="" position="673,1777" size="100,100">{
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
(set: $imageType to 1) 
(set: $decadeNum to 70) 
(set: $decadeNumber to $hundredNumber + $decadeNum)

(set: $decadeString to (str: $decadeNum))
(set: $decadeReference to $hundredNumber + $decadeNum + 1) 
(set: $referenceString to (str: $decadeReference))
(set: $seedIndex to 1)
(set: $randomSeed to (str: $decadeReference - 1) of $randomMaps)
(set: $roomAdjective to &quot;a &quot;)
(set: $complexLanguage to (str: $decadeReference) of $generalLanguage)
($refreshSentences:) 

($setImage:)


	
(set: $zeroMarker to &quot;a barrel&quot;)
(set: $oneMarker to &quot;a suit of armor&quot;)
(set: $twoMarker to &quot;a crystal swan&quot;)
(set: $threeMarker to &quot;a statue of a buxom woman&quot;)
(set: $fourMarker to &quot;a golf club&quot;)
(set: $fiveMarker to &quot;a collection of gold rings&quot;)
(set: $sixMarker to &quot;a cane&quot;)
(set: $sevenMarker to &quot;a severed head in a box&quot;)
(set: $eightMarker to &quot;a gateway to infinity&quot;)
(set: $nineMarker to &quot;a Nazgul&quot;)

($setFlatDirections:)
($setUpDownDirections:)
(set: $flatness to &quot;2storey&quot;)
(if: (a: 2,3,4) contains $floorInt)[(set: $flatness to &quot;hilly&quot;)]
(if: (a: ) contains $floorInt)[(set: $flatness to &quot;flat&quot;)]


(if: $downOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 3&quot;)]
(if: $upOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 0&quot;)]
(if: $rightOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 8&quot;)]
(if: $leftOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 5&quot;)]

($setAdjustableDirections:)
($fixOptionalPaths:)

(set: $returnText to &quot;A different possibility is to head back to the $leftOnNexusMap towards [[$nexusWord-&gt;complex seven]].&quot;) 

}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[{
(if: $floorInt is 6)[You are in the great mosque in the city of Aleppo. You can explore the mosque by heading [[$rightOnNexusMap-&gt;$startRoom]]. Alternatively you can leave the mosque by [[climbing up a ladder-&gt;two fifths up]] to $nexusWord.] 
(else:)[
	(if: $floorInt is 14)[You are at a port in the Vatican city, which suffers under the corrupt Papacy of Rodrigo Borgia. To explore the Vatican, you must head [[$rightOnNexusMap-&gt;$startRoom]] on foot. Alternatively you can $head [[$leftOnNexusMap-&gt;two fifths up]] to $nexusWord.]
	(else:)[$complexSentence3. From here you can go $leftOnNexusMap to [[$nexusWord-&gt;two fifths up]]. Alternatively, you may go [[$rightOnNexusMap-&gt;$startRoom]].]
	]
	}]





</tw-passagedata><tw-passagedata pid="35" name="complex nine" tags="" position="292,1778" size="100,100">{
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
(set: $imageType to 1) 
(set: $decadeNum to 90) 
(set: $decadeString to (str: $decadeNum))
(set: $decadeNumber to $hundredNumber + $decadeNum)

(set: $decadeReference to $hundredNumber + $decadeNum + 1) 
(set: $referenceString to (str: $decadeReference))
(set: $seedIndex to 1)
(set: $randomSeed to (str: $decadeReference - 1) of $randomMaps)
(set: $roomAdjective to &quot;a &quot;)
(set: $complexLanguage to (str: $decadeReference) of $generalLanguage)
($refreshSentences:) 

($setImage:)
(if: $floorInt is 12 and $mervDirection is &quot;inbound&quot;)[&lt;script&gt;CustomScripts.updateBackground(1292);&lt;/script&gt;]
(if: $floorInt is 12 and $mervDirection is &quot;outbound&quot;)[&lt;script&gt;CustomScripts.updateBackground(1294);&lt;/script&gt;]
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1492);&lt;/script&gt;]

	
(set: $zeroMarker to &quot;a barrel&quot;)
(set: $oneMarker to &quot;a suit of armor&quot;)
(set: $twoMarker to &quot;a crystal swan&quot;)
(set: $threeMarker to &quot;a statue of a buxom woman&quot;)
(set: $fourMarker to &quot;a golf club&quot;)
(set: $fiveMarker to &quot;a collection of gold rings&quot;)
(set: $sixMarker to &quot;a cane&quot;)
(set: $sevenMarker to &quot;a severed head in a box&quot;)
(set: $eightMarker to &quot;a gateway to infinity&quot;)
(set: $nineMarker to &quot;a Nazgul&quot;)

($setFlatDirections:)
($setUpDownDirections:)
(set: $flatness to &quot;2storey&quot;)
(if: (a: 1, 2, 5, 6, 7) contains $floorInt)[(set: $flatness to &quot;hilly&quot;)]
(if: (a: 3, 4, 8) contains $floorInt)[(set: $flatness to &quot;flat&quot;)]


(if: $downOnScreen is $rightOnNexusMap)[(set: $startRoom to &quot;room 3&quot;)]
(if: $upOnScreen is $rightOnNexusMap)[(set: $startRoom to &quot;room 0&quot;)]
(if: $rightOnScreen is $rightOnNexusMap)[(set: $startRoom to &quot;room 8&quot;)]
(if: $leftOnScreen is $rightOnNexusMap)[(set: $startRoom to &quot;room 5&quot;)]

($setAdjustableDirections:)
($fixOptionalPaths:)

(set: $returnText to &quot;A different possibility is to head back to the $rightOnNexusMap towards [[$nexusWord-&gt;complex nine]].&quot;) 
 

}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[{
(if: $floorInt is 12)[(set: $place to &quot;Merv&quot;)
(if: $mervDirection is &quot;inbound&quot;)[You find a boatway towards the central Asian city of Merv. The skyline is breathtaking. However, a family hurriedly rowing in the opposite direction shouts a warning. &quot;Turn back!&quot; they warn, calling out over the water. &quot;The Mongols have taken the city and are killing everyone, man, woman and child!&quot; You can ignore the warning and [[head into the city anyway-&gt;burning merv]]. Or you can [[turn back-&gt;two fifths up]] to $nexusWord.]
(else:)[You escape, coughing from the smoke, from the blazing inferno and out through the gates of the city. You have no option but to [[head back-&gt;two fifths up]] to $nexusWord. ]] 
(else:)[
(if: $floorInt is 6)[You are at one of the gatehouses to the city of Aleppo. From here, a road leads to the forgotten cities to the $leftOnNexusMap. You may [[take the road $leftOnNexusMap-&gt;$startRoom]] if you like, or [[climb up-&gt;two fifths up]] to $nexusWord.] 
(else:)[
	(if: $floorInt is 14)[(set: $place to &quot;Wallachia&quot;)You are up river near the city of Trgovite, where Vlad the Impaler rules with an iron fist. Outside the city, fields of impaled bodies send an ominous message to the enemies of Wallachia. To head towards the fields, you must head [[$leftOnNexusMap-&gt;$startRoom]] on foot. Alternatively you can $head [[$rightOnNexusMap-&gt;two fifths up]] to $nexusWord.] 
	(else:) [(if: $floorInt is 8)[You wade among the dead, killed at the recent battle between the Anglo Saxons and the Vikings. From here you can wade $rightOnNexusMap to the [[$nexusWord-&gt;two fifths up]]. Alternatively, you may wade [[$leftOnNexusMap-&gt;$startRoom]].]
			(else:)[$complexSentence3. (if: $floorInt is 11)[There is an old butcher here, [[with whom you make speak-&gt;Berold of Rouen]].]  From here you can go $rightOnNexusMap to the [[$nexusWord-&gt;two fifths up]]. Alternatively, you may go [[$leftOnNexusMap-&gt;$startRoom]].]
	]]]
	}]





</tw-passagedata><tw-passagedata pid="36" name="complex eight" tags="" position="488,2069" size="100,100">{
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
(set: $imageType to 1) 
(set: $decadeNum to 80) 
(set: $decadeNumber to $hundredNumber + $decadeNum)

(set: $decadeString to (str: $decadeNum))
(set: $decadeReference to $hundredNumber + $decadeNum + 1) 
(set: $referenceString to (str: $decadeReference))
(set: $seedIndex to 1)
(set: $randomSeed to (str: $decadeReference - 1) of $randomMaps)
(set: $roomAdjective to &quot;a &quot;)
(set: $complexLanguage to (str: $decadeReference) of $generalLanguage)
($refreshSentences:) 

($setImage:)
(if: $floorInt is 12)[&lt;script&gt;CustomScripts.updateBackground(1282);&lt;/script&gt;]
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1482);&lt;/script&gt;]


	
(set: $zeroMarker to &quot;a barrel&quot;)
(set: $oneMarker to &quot;a suit of armor&quot;)
(set: $twoMarker to &quot;a crystal swan&quot;)
(set: $threeMarker to &quot;a statue of a buxom woman&quot;)
(set: $fourMarker to &quot;a golf club&quot;)
(set: $fiveMarker to &quot;a collection of gold rings&quot;)
(set: $sixMarker to &quot;a cane&quot;)
(set: $sevenMarker to &quot;a severed head in a box&quot;)
(set: $eightMarker to &quot;a gateway to infinity&quot;)
(set: $nineMarker to &quot;a Nazgul&quot;)

($setFlatDirections:)
($setUpDownDirections:)
(set: $flatness to &quot;2storey&quot;)
(if: (a:2, 5, 6) contains $floorInt)[(set: $flatness to &quot;hilly&quot;)]
(if: (a: ) contains $floorInt)[(set: $flatness to &quot;flat&quot;)]


(if: $downOnScreen is $upOnNexusMap)[(set: $startRoom to &quot;room 3&quot;)]
(if: $upOnScreen is $upOnNexusMap)[(set: $startRoom to &quot;room 0&quot;)]
(if: $rightOnScreen is $upOnNexusMap)[(set: $startRoom to &quot;room 8&quot;)]
(if: $leftOnScreen is $upOnNexusMap)[(set: $startRoom to &quot;room 5&quot;)]

($setAdjustableDirections:)
($fixOptionalPaths:)

(set: $returnText to &quot;A different possibility is to head back to the $upOnNexusMap towards [[$nexusWord-&gt;complex eight]].&quot;) 

}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[{
(if: $floorInt is 12)[
	(if: $japanBattle is &quot;outbound&quot;)[You come to what appears to be an empty beach. Suddenly, however, you see a ship peeping out from behind a large rock and heavy hands fall on your shoulders. You are being pressed into service into the Mongol fleet! You slip from their grasp and you may take your one chance to [[escape-&gt;bottom]]. Alternatively, you can surrender and [[see where this goes.-&gt;wreckStory]] ]
	(else:)[You wash up on the beach. From here you may head [[back-&gt;bottom]] to $nexusWord.]]
(else:)[(if: $floorInt is 6)[You are in the penal quarter of the ancient city of Aleppo, under the shadow of the citadel, where sinners and criminals are justly flogged, mutilated or executed. To explore the quarter, you must head [[$downOnNexusMap-&gt;$startRoom]]. You can leave the quarter by climbing [[up-&gt;bottom]] to $nexusWord.] 
(else:)[
	(if: $floorInt is 14)[(set: $place to &quot;Seville&quot;)You are at a riverside dock in the city of Seville, where the Inquisition roots out Jews, Muslims and heretics to be painfully converted to the one true faith. To explore the city, you must head [[$downOnNexusMap-&gt;$startRoom]] on foot. Alternatively you can head [[$upOnNexusMap-&gt;bottom]] to the $nexusWord.]
	(else:)[
	(if: $floorInt is 8)[You walk among the wounded Anglo Saxons, bloodied from their victory against the Viking raiders. You may head [[$downOnNexusMap-&gt;$startRoom]] from here. Alternatively you can $head [[$upOnNexusMap-&gt;bottom]] to $nexusWord.]
	(else:)[$complexSentence3. From here you can go $upOnNexusMap to [[$nexusWord-&gt;bottom]]. Alternatively, you may go [[$downOnNexusMap-&gt;$startRoom]].]  
	]]]
	}]





</tw-passagedata><tw-passagedata pid="37" name="Done" tags="" position="305,1080" size="100,100">At last the elevator comes to a halt.

{
(set: $floorInt to (num: $floorString))
(set: $hundredNumber to $floorInt*100)
(set: $floorString2 to (str: $hundredNumber))

(set: $head to (cond:
	$floorInt is 8, &quot;wade&quot;,
	$floorInt is 14, &quot;sail a course&quot;,
	(either: &quot;head&quot;, &quot;go&quot;)))

(set: $secondaryPassage to (cond: 
	$floorInt is 0, &#39;tunnel&#39;,
	$floorInt is 1, &#39;alley&#39;,
	$floorInt is 2, &#39;avenue&#39;,
	$floorInt is 3, &#39;corridor&#39;,
	$floorInt is 4, &#39;way&#39;,
	$floorInt is 5, &#39;passage&#39;,
	$floorInt is 6, &#39;rooftop&#39;,
	$floorInt is 7, &#39;palace complex&#39;,
	$floorInt is 8, &#39;waterway&#39;,
	$floorInt is 9, &#39;Strae&#39;,
	$floorInt is 10, &#39;path&#39;,
	$floorInt is 11, &#39;trail&#39;,
	$floorInt is 12, &#39;trail&#39;,
	$floorInt is 13, &#39;path&#39;,
	$floorInt is 14, &#39;deck&#39;,
	$floorInt is 15, &#39;lane&#39;,
	$floorInt is 16, &#39;channel&#39;,
	$floorInt is 17, &#39;couloir&#39;,
	$floorInt is 18, &#39;wynd&#39;,
	$floorInt is 19, &#39;lane&#39;,
	$floorInt is 20, &#39;back street&#39;,
	&quot;way&quot;))

(set: $doorTypes to (cond: 
	$floorInt is 0, (a: &quot;through a&quot;, &quot;&quot;, &quot;doorway&quot;, &quot;into a&quot;),
	$floorInt is 1, (a: &#39;through an&#39;, &#39;&#39;, &#39;archway&#39;, &quot;into a&quot;),
	$floorInt is 2, (a: &#39;through a&#39;, &#39;red and gold&#39;, &#39;arch&#39;, &quot;into a&quot;),
	$floorInt is 3, (a: &#39;through a&#39;, &#39;golden&#39;, &#39;exit&#39;, &quot;into&quot;),
	$floorInt is 4, (a: &#39;through a&#39;, &#39;collapsing&#39;, &#39;arch&#39;, &quot;into a&quot;),
	$floorInt is 5, (a: &#39;down a&#39;, &#39;long&#39;, &#39;road&#39;, &quot;to a&quot;),
	$floorInt is 6, (a: &#39;into a&#39;, &#39;rooftop&#39;,&#39;cupola&#39;, &quot;that provides access to a&quot;),
	$floorInt is 7, (a: &#39;down a&#39;, &#39;mud&#39;, &#39;lane&#39;, &quot;to a&quot;),
	$floorInt is 8, (a: &#39;up a&#39;, &#39;dry-earth&#39;, &#39;upgang&#39;, &quot;onto a&quot;),
	$floorInt is 9, (a: &#39;along a&#39;, &#39;narrow&#39;, &#39;Gasse&#39;, &quot;to a&quot;),
	$floorInt is 10, (a: &#39;down a&#39;, &#39;rarely trodden&#39;, &#39;path&#39;, &quot;to a&quot;),
	$floorInt is 11, (a: &#39;through a&#39;, &quot;farmer&#39;s&quot;,&#39;gate&#39;, &quot;into a&quot;),
	$floorInt is 12, (a: &#39;through a&#39;, &#39;&#39;, &#39;mountain pass&#39;, &quot;to a&quot;),
	$floorInt is 13, (a: &#39;through a&#39;, &#39;rotted&#39;, &#39;gate&#39;, &quot;into a&quot;),
	$floorInt is 14, (a: &#39;&#39;, &#39;&#39;, &#39;&#39;, &quot;to a&quot;),
	$floorInt is 15, (a: &#39;down a&#39;, &#39;&#39;, &#39;lane&#39;, &quot;to a&quot;),
	$floorInt is 16, (a: &#39;up a&#39;, &#39;&#39;, &#39;step&#39;, &quot;onto a&quot;),
	$floorInt is 17, (a: &#39;over a&#39;, &#39;narrow&#39;, &#39;bridge&#39;, &quot;to a different&quot;),
	$floorInt is 18, (a: &#39;down a&#39;, &#39;foggy&#39;, &#39;alley&#39;, &quot;to a different&quot;),
	$floorInt is 19, (a: &#39;through a&#39;, &#39;&#39;, &#39;hole in the wall&#39;, &quot;to a different&quot;),
	$floorInt is 20, (a: &#39;through an&#39;, &#39;&#39;, &#39;electronic turnstile&#39;, &quot;to a different&quot;),
	&quot;through a&quot;, &quot;&quot;, &quot;doorway&quot;, &quot;to a&quot;))

(set: $exitPhrase to (cond: 
	$floorInt is 9, &quot;to somewhere&quot;,
	$floorInt is 6, &quot;into the&quot;, 
	$floorInt is 8, &quot;onto an&quot;,
	$floorInt is 14, &quot;towards a&quot;,
	(4) of $doorTypes + &quot; different&quot;
	))

(set: $complexWord to (cond: 
	$floorInt is 0, &#39;part of the labyrinth&#39;,
	$floorInt is 1, &#39;quarter&#39;,
	$floorInt is 2, &#39;ward&#39;,
	$floorInt is 3, &#39;wing&#39;,
	$floorInt is 4, &#39;quarter&#39;,
	$floorInt is 5, &#39;realm&#39;,
	$floorInt is 6, &#39;building below&#39;,
	$floorInt is 7, &#39;quarter&#39;,
	$floorInt is 8, &#39;island&#39;,
	$floorInt is 9, &#39;unknown&#39;,
	$floorInt is 10, &#39;commune&#39;,
	$floorInt is 11, &#39;parish&#39;,
	$floorInt is 12, &#39;region&#39;,
	$floorInt is 13, &#39;parish&#39;,
	$floorInt is 14, &#39;nearby port&#39;,
	$floorInt is 15, &#39;hamlet&#39;,
	$floorInt is 16, &#39;district&#39;,
	$floorInt is 17, &#39;quarter&#39;,
	$floorInt is 18, &#39;neighborhood&#39;,
	$floorInt is 19, &#39;district&#39;,
	$floorInt is 20, &#39;sector&#39;,
	&quot;region&quot;))
	
(set: $nexusWord to (cond: 
	$floorInt is 0, &quot;the catacombs&quot;,
	$floorInt is 1, &quot;the forum&quot;,
	$floorInt is 2, &quot;the forbidden city&quot;,
	$floorInt is 3, &quot;the Byzantine palace&quot;,
	$floorInt is 4, &quot;the ruins of the Caput Mundi&quot;,
	$floorInt is 5, &quot;the olde pyke&quot;,
	$floorInt is 6, &quot;the rooftops of Aleppo&quot;,
	$floorInt is 7, &quot;the palace complex at Charlemagne&#39;s court&quot;,
	$floorInt is 8, &quot;the sulphurous waters of the Somerset levels&quot;,
	$floorInt is 9, &quot;die zentrale Stadt &quot;,
	$floorInt is 10, &quot;the pilgrim&#39;s path&quot;,
	$floorInt is 11, &quot;Sherwood Forest&quot;,
	$floorInt is 11 and $homeCity is &quot;La Rochelle&quot;, &quot;the exit to the tower&quot;,
	$floorInt is 12, &quot;the Asian steppes&quot;,
	$floorInt is 13, &quot;the slutchy wynds&quot;,
	$floorInt is 14, &quot;the sea&quot;,
	$floorInt is 15, &quot;undefined&quot;,
	$floorInt is 16, &quot;undefined&quot;,
	$floorInt is 17, &quot;undefined&quot;,
	$floorInt is 18, &quot;undefined&quot;,
	$floorInt is 19, &quot;undefined&quot;,
	$floorInt is 20, &quot;undefined&quot;))
	

	
(set: $nexusPassage to (cond: 
	$floorInt is 0, (a: &#39;in a&#39;, &#39;narrow&#39;, &#39;tunnel&#39;),
	$floorInt is 1, (a: &#39;on a&#39;, &#39;busy&#39;, &#39;street&#39;),
	$floorInt is 2, (a: &#39;on a&#39;, &#39;clay-brick&#39;, &#39;avenue&#39;),
	$floorInt is 3, (a: &#39;in a&#39;, &#39;high&#39;, &#39;hallway&#39;),
	$floorInt is 4, (a: &#39;on a&#39;, &#39;desolate&#39;, &#39;street&#39;),
	$floorInt is 5, (a: &#39;on a&#39;, &#39;grassy&#39;, &#39;path&#39;),
	$floorInt is 6, (a: &#39;on a&#39;, &#39;clay tiled&#39;,&#39;rooftop&#39;),
	$floorInt is 7, (a: &#39;on a&#39;, &#39;muddy&#39;, &#39;street&#39;),
	$floorInt is 8, (a: &#39;&#39;, &#39;&#39;, &#39;&#39;),
	$floorInt is 9, (a: &#39;on a&#39;, &#39;dark brick&#39;, &#39;Strae&#39;),
	$floorInt is 10, (a: &#39;on a&#39;, &quot;pilgrim&#39;s&quot;, &#39;trail&#39;),
	$floorInt is 11, (a: &#39;on a&#39;, &#39;drizzled&#39;,&#39;path&#39;),
	$floorInt is 12, (a: &#39;on a&#39;, &#39;wide open&#39;, &#39;trail&#39;),
	$floorInt is 13, (a: &#39;on a&#39;, &#39;slutchy&#39;, &#39;path&#39;),
	$floorInt is 14, (a: &#39;on a&#39;, &#39;wooden&#39;, &#39;frigate&#39;),
	$floorInt is 15, (a: &#39;on a&#39;, &#39;smoky&#39;, &#39;pike&#39;),
	$floorInt is 16, (a: &#39;on a&#39;, &#39;deep&#39;, &#39;canal&#39;),
	$floorInt is 17, (a: &#39;on a&#39;, &#39;cobbled&#39;, &#39;rue&#39;),
	$floorInt is 18, (a: &#39;on a&#39;, &#39;cobbled&#39;, &#39;street&#39;),
	$floorInt is 19, (a: &#39;on a&#39;, &#39;rubbled&#39;, &#39;street&#39;),
	$floorInt is 20, (a: &#39;on a&#39;, &#39;vibrant&#39;, &#39;street&#39;),
	&quot;way&quot;))
	
	(set: $nexusPhrase to (cond: 
	$floorInt is 0, (a: &#39;in the&#39;, &#39;dusty&#39;, &#39;catacombs&#39;, &#39;of Callixus&#39;),
	$floorInt is 1, (a: &#39;in the&#39;, &#39;bustling&#39;, &#39;forum&#39;, &#39;of ancient Rome&#39;),
	$floorInt is 2, (a: &#39;on the&#39;, &#39;opulent&#39;, &#39;avenues&#39;, &#39;of the Forbidden City&#39;),
	$floorInt is 3, (a: &#39;in a&#39;, &#39;glistening&#39;, &#39;palace&#39;, &#39;in ancient Byzantium&#39;),
	$floorInt is 4, (a: &#39;in the&#39;, &#39;ruins&#39;, &#39;&#39;, &#39;of ancient Rome&#39;),
	$floorInt is 5, (a: &#39;on the&#39;, &#39;olde&#39;, &#39;pyke&#39;, &#39;in Arthurian Britain&#39;),
	$floorInt is 6, (a: &#39;above the&#39;, &#39;bustling&#39;, &#39;city&#39;, &#39;of Aleppo&#39;),
	$floorInt is 7, (a: &quot;in Charlemagne&#39;s&quot;, &#39;&#39;, &#39;Palace Complex&#39;, &#39;at Aachen&#39;),
	$floorInt is 8, (a: &#39;wading through the&#39;, &#39;stinking&#39;, &#39;Somerset levels&#39;, &#39;, within the bells of the Athelney Abbey&#39;),
	$floorInt is 9, (a: &#39;in the&#39;, &#39;&#39;, &#39;First Reich&#39;, &#39;&#39;),
	$floorInt is 10, (a: &#39;near the&#39;, &#39;&#39;, &#39;twelve holy communities&#39;, &#39;of St Benedict&#39;),
	$floorInt is 11, (a: &#39;in&#39;, &#39;&#39;,&#39;Sherwood Forest&#39;, &#39;&#39;),
	$floorInt is 12, (a: &#39;on the&#39;, &#39;boundless&#39;, &#39;steppes&#39;, &#39;of Asia&#39;),
	$floorInt is 13, (a: &#39;in the&#39;, &#39;diseased&#39;, &#39;ditches&#39;, &#39;of medieval Scotland&#39;),
	$floorInt is 14, (a: &#39;in sight of&#39;, &#39;&#39;, &#39;unexplored shores&#39;, &#39;&#39;),
	$floorInt is 15, (a: &#39;in the&#39;, &#39;dark&#39;, &#39;valley&#39;, &#39;beneath the Apuseni mountains&#39;),
	$floorInt is 16, (a: &#39;on the&#39;, &#39;tranquil&#39;, &#39;waterways&#39;, &#39;of the Grachtengordel&#39;),
	$floorInt is 17, (a: &#39;on the&#39;, &#39;bloody&#39;, &#39;streets&#39;, &#39;of revolutionary Paris&#39;),
	$floorInt is 18, (a: &#39;on the&#39;, &#39;foggy&#39;, &#39;cobbles&#39;, &#39;of Victorian London&#39;),
	$floorInt is 19, (a: &#39;in the&#39;, &#39;dusty&#39;, &#39;rubble&#39;, &#39;of war torn Europe&#39;),
	$floorInt is 20, (a: &#39;within the&#39;, &#39;dense&#39;, &#39;cityscape&#39;, &#39;of neon lit Shanghai&#39;),
	(a: &quot;&quot;,&quot;&quot;,&quot;world&quot;,&quot;&quot;)))

(set: $hundredStrings to (dm: 
		&quot;0&quot;, &quot;the first century&quot;,
		&quot;1&quot;, &quot;the second century&quot;,
		&quot;2&quot;, &quot;the third century&quot;,
		&quot;3&quot;, &quot;the fourth century&quot;,
		&quot;4&quot;, &quot;the fifth century&quot;,
	  	&quot;5&quot;, &quot;the sixth century&quot;,
		&quot;6&quot;, &quot;the seventh century&quot;,
		&quot;7&quot;, &quot;the eighth century&quot;,
		&quot;8&quot;, &quot;the ninth century&quot;,
		&quot;9&quot;, &quot;the tenth century&quot;,
		&quot;10&quot;, &quot;the eleventh century&quot;,
		&quot;11&quot;, &quot;the twelfth century&quot;,
		&quot;12&quot;, &quot;the thirteenth century&quot;,
		&quot;13&quot;, &quot;the fourteenth century&quot;,
		&quot;14&quot;, &quot;the fifteenth century&quot;,
	  	&quot;15&quot;, &quot;the sixteenth century&quot;,
		&quot;16&quot;, &quot;the seventeenth century&quot;,
		&quot;17&quot;, &quot;the eighteenth century&quot;,
		&quot;18&quot;, &quot;the nineteenth century&quot;,
		&quot;19&quot;, &quot;the twentieth century&quot;,
		&quot;20&quot;, &quot;the twenty first century&quot;))

(set: $romanDecades to (dm: 
		&quot;0&quot;, &#39;&quot;Nulla Decennium&quot;&#39;,
		&quot;1&quot;, &#39;&quot;Decennium Unum&quot;&#39;,
		&quot;2&quot;, &#39;&quot;Decennium Duo&quot;&#39;,
		&quot;3&quot;, &#39;&quot;Decennium Tria&quot;&#39;,
		&quot;4&quot;, &#39;&quot;Decennium Quatuor&quot;&#39;,
	  	&quot;5&quot;, &#39;&quot;Decennium Quinque&quot;&#39;,
		&quot;6&quot;, &#39;&quot;Sex Decennium&quot;&#39;,
		&quot;7&quot;, &#39;&quot;Decennium Septem&quot;&#39;,
		&quot;8&quot;, &#39;&quot;Decennium Octo&quot;&#39;,
		&quot;9&quot;, &#39;&quot;Decennium Novem&quot;&#39;))

(set: $middleEnglishDecades to (dm: 
		&quot;0&quot;, &#39;&quot;ought tenne yeer&quot;&#39;,
		&quot;1&quot;, &#39;&quot;fyrst tenne yeer&quot;&#39;,
		&quot;2&quot;, &#39;&quot;secunde tenne yeer&quot;&#39;,
		&quot;3&quot;, &#39;&quot;thridde tenne yeer&quot;&#39;,
		&quot;4&quot;, &#39;&quot;ferthe tenne yeer&quot;&#39;,
	  	&quot;5&quot;, &#39;&quot;fifte tenne yeer&quot;&#39;,
		&quot;6&quot;, &#39;&quot;sixte tenne yeer&quot;&#39;,
		&quot;7&quot;, &#39;&quot;sevynte tenne yeer&quot;&#39;,
		&quot;8&quot;, &#39;&quot;eyghte tenne yeer&quot;&#39;,
		&quot;9&quot;, &#39;&quot;nynthe tenne yeer&quot;&#39;))

(set: $defaultDecades to (dm: 
		&quot;1&quot;, &#39;&quot;Decade One&quot;&#39;,
		&quot;2&quot;, &#39;&quot;Decade Two&quot;&#39;,
		&quot;3&quot;, &#39;&quot;Decade Three&quot;&#39;,
		&quot;4&quot;, &#39;&quot;Decade Four&quot;&#39;,
		&quot;5&quot;, &#39;&quot;Decade Five&quot;&#39;,
	  	&quot;6&quot;, &#39;&quot;Decade Six&quot;&#39;,
		&quot;7&quot;, &#39;&quot;Decade Seven&quot;&#39;,
		&quot;8&quot;, &#39;&quot;Decade Eight&quot;&#39;,
		&quot;9&quot;, &#39;&quot;Decade Nine&quot;&#39;,
		&quot;0&quot;, &#39;&quot;Decade Zero&quot;&#39;
	)
	)





(set: $decadeSigns to (cond: 
	$floorInt &lt; 5, $romanDecades,
	$floorInt &lt; 16, $middleEnglishDecades,
	$defaultDecades))







(set: $roomWord to (cond: 
	$floorInt is 0, &#39;vault&#39;,
	$floorInt is 1, &#39;plaza&#39;,
	$floorInt is 2, &#39;square&#39;,
	$floorInt is 3, &#39;room&#39;,
	$floorInt is 4, &#39;former plaza&#39;,
	$floorInt is 5, &#39;chamber&#39;,
	$floorInt is 6, &#39;stall&#39;,
	$floorInt is 7, &#39;grotto&#39;,
	$floorInt is 8, &#39;hummock&#39;,
	$floorInt is 9, &#39;hall&#39;,
	$floorInt is 10, &#39;abyss&#39;,
	$floorInt is 11, &#39;platform&#39;,
	$floorInt is 12, &#39;cockpit&#39;,
	$floorInt is 13, &#39;hall&#39;,
	$floorInt is 14, &#39;compartment&#39;,
	$floorInt is 15, &#39;hovel&#39;,
	$floorInt is 16, &#39;square&#39;,
	$floorInt is 17, &#39;courtyard&#39;,
	$floorInt is 18, &#39;dosshouse&#39;,
	$floorInt is 19, &#39;square&#39;,
	$floorInt is 20, &#39;cube&#39;,
	&quot;space&quot;))
	
	

(set: $somewhere to (cond: 
	$floorInt is 8, &quot; &quot;,
	(either: &quot; somewhere &quot;, &quot; &quot;)
	)
	)
	

(set: $mainSentence to &quot;You are &quot; 
	+ 1st of $nexusPassage 
	+ &quot; &quot; 
	+ 2nd of $nexusPassage
	+ &quot; &quot; 
	+ 3rd of $nexusPassage
	+ $somewhere 
	+ 1st of $nexusPhrase
	+ &quot; &quot; 
	+ 2nd of $nexusPhrase
	+ &quot; &quot;
	+ 3rd of $nexusPhrase
	+ &quot; &quot;
	+ 4th of $nexusPhrase
	)
	
(set: $fixDirection to 
	(macro: num-type _directionNum, 
	[
	(set: $directions to 
		(cond: 
		_directionNum is 0,(a:&#39;north&#39;,&#39;east&#39;,&#39;south&#39;,&#39;west&#39;),
		_directionNum is 1,(a: &#39;east&#39;,&#39;south&#39;,&#39;west&#39;,&#39;north&#39;),
		_directionNum is 2,(a: &#39;south&#39;,&#39;west&#39;,&#39;north&#39;,&#39;east&#39;),
		_directionNum is 3,(a: &#39;west&#39;,&#39;north&#39;,&#39;east&#39;,&#39;south&#39;),
		(a:&#39;fail&#39;)))
	(if: 1st of $directions is &#39;fail&#39;)
		[($fixDirection:_directionNum - 4)]
	(output-data: &quot;&quot;)
	]
	)
)

(set: $signIntro to &quot;with a sign that says &quot;)
(set: $hundredString to $floorString of $hundredStrings)
($fixDirection:$floorInt)
(set: $upOnNexusMap to 1st of $directions)
(set: $rightOnNexusMap to 2nd of $directions)
(set: $downOnNexusMap to 3rd of $directions)
(set: $leftOnNexusMap to 4th of $directions)




	}
	
The elevator doors open to the $rightOnNexusMap and you [[step out-&gt;top left]].</tw-passagedata><tw-passagedata pid="38" name="elevator" tags="" position="305,930" size="100,100">(border: &quot;solid&quot;)[You are in an elevator. The dial permits you to choose any floor from 0 through 20. Please input the floor you desire.]  
&lt;input type=&quot;text&quot; data-varname=&quot;floorString&quot;&gt;
&lt;script&gt;processInputElements();&lt;/script&gt;

(link-goto: &quot;Done&quot;)

&lt;script&gt;CustomScripts.updateBackground(-1);&lt;/script&gt;
</tw-passagedata><tw-passagedata pid="39" name="phrase builder" tags="startup" position="296,1361" size="100,100">{
(set: $wordIterator to 1)
(set: $directionText to &quot;oijo&quot;)

(set: $vectorDescription to 
(macro: array-type _vector, [
	(set: _eW to (cond:
		(1st of _vector) is 1, &quot;east&quot;,
		(1st of _vector) is -1, &quot;west&quot;,
		&quot;&quot;))
	(set: _nS to (cond:
		(2nd of _vector) is 1, &quot;north&quot;,
		(2nd of _vector) is -1, &quot;south&quot;,
		&quot;&quot;))
	(set: _uD to (cond:
		(3rd of _vector) is 1, &quot;up&quot;,
		(3rd of _vector) is -1, &quot;down&quot;,
		&quot;&quot;))
	(set: _output to _uD +_nS +_eW)
	(output-data: _output)
	]
	))
	
(set: $vectorDescription to (macro: array-type _vector,[
	(set: _through_way to ($elevation: _vector))
	(set: _eW to (cond:
		(1st of _vector) is 1, &quot;east&quot;,
		(1st of _vector) is -1, &quot;west&quot;,
		&quot;&quot;))
	(set: _nS to (cond:
		(2nd of _vector) is 1, &quot;north&quot;,
		(2nd of _vector) is -1, &quot;south&quot;,
		&quot;&quot;))
	(set: _uD to (cond:
		(3rd of _vector) is 1, &quot;up&quot;,
		(3rd of _vector) is -1, &quot;down&quot;,
		&quot;&quot;))
	(set: _conjunctionPhrase to (cond: 
		_through_way is &quot;a stairwell&quot;, &quot; and to the &quot;,
		&quot;&quot;))
	(set: _output to _uD + _conjunctionPhrase + _nS + _eW)
	(output-data: _output)
	]
	))
	
&lt;!--takes a list of vectors and calls writeDirection for each--&gt;
(set: $listExits to 
(macro: array-type _list, [
	(for: each _vector, ..._list)[
		($writeLink: _vector)
		(set: $wordIterator +=1)
		]
	(output-data:&quot;&quot;)
	]))
	

(set: $wordLink to 
(macro: array-type _vector, [
	($writeIntro:_vector) 
	(set: $directionText to $directionText 
	+ &quot; [[&quot; 
	+ ($getDirectionWords: _vector) 
	+ &quot;.&quot;
	+ &quot;-&gt;&quot; 
	+ ($getOtherRoomName:_vector) 
	+ &quot;]]&quot;)
	(output-data: &quot;&quot;)
	]
))

(set: $writeLink to 
(macro: array-type _vector, [
	($writeIntro:_vector) 
	(set: $directionText to $directionText 
	+ &quot; [[&quot; 
	+ ($vectorDescription: _vector) 
	+ &quot;.&quot;
	+ &quot;-&gt;&quot; 
	+ ($getOtherRoomName:_vector) 
	+ &quot;]]&quot;)
	(output-data: &quot;&quot;)
	]
))





&lt;!--takes an arc, adds it to the current coords to get the other rooms coords, then uses them to find out &amp; output the other room&#39;s number --&gt;

(set: $getOtherRoomsNumber to 
(macro: array-type _vector, [
	(set: _otherRoomCoords to ($vectorAdd3: $theseCoords, _vector))
	(set: _otherRoomNumber to ($getRoomFromCoords: _otherRoomCoords))
	(output-data: _otherRoomNumber)
	]))


(set: $getOtherRoomName to 
(macro: array-type _vector, [
	(set: _numberString to (str: ($getOtherRoomsNumber: _vector)))
	(output-data: _numberString)
	]))

	
(set: $writeIntro to 
(macro: array-type _vector, [	
	(set: _through_way to ($elevation: _vector))
	(if: $wordIterator is 1)
		[(set: $directionText to $directionText + (upperfirst: ($fromHere:)) + &quot; &quot; + _through_way + &quot; &quot; + ($goes:) )]
	(if: $wordIterator is 2)
		[(set: $directionText to $directionText + &quot; &quot; + (upperfirst: _through_way) + &quot; also &quot; + ($goes:))]
	(if: $wordIterator is 3)
		[(set: $directionText to $directionText + &quot; &quot; + (upperfirst: ($alternatively:)) + _through_way + &quot; &quot; + ($goes:) + &quot; &quot;)]
	(if: $wordIterator &gt; 3)
		[(set: $directionText to $directionText + &quot; &quot; + &quot;You &quot; + ($can:) + &quot; &quot; + ($go:) +&quot; via &quot; + _through_way)]
	(output-data: &quot;&quot;)
	]))

(set: $go to 
(macro: [
	(set: _output to (either: &quot;go&quot;, &quot;head&quot;))
	(output-data: _output) 
	]
	))
	
(set: $goes to 
(macro: [
	(set: _output to (either: &quot;goes&quot;, &quot;heads&quot;))
	(output-data: _output) 
	]
	))
	
(set: $alternatively to 
(macro: [
	(set: _output to (either: &quot;alternatively, &quot;))
	(output-data: _output) 
	]
	))
	
(set: $fromHere to 
(macro: [
	(set: _output to (either: &quot;from here&quot;))
	(output-data: _output) 
	]
	))
	
(set: $can to 
(macro: [
	(set: _output to (either: &quot; can&quot;, &quot; might&quot;, &quot; may&quot;, &quot; could&quot;))
	(output-data: _output) 
	]
	))
	
(set: $languageVariation to 
(macro: array-type _vector, string-type _through_way, [
	(set: _output to 
		&quot;You&quot; + 
		(either: &quot; can&quot;, &quot; might&quot;, &quot; may&quot;, &quot; could&quot;) + 
		(either: &quot; also&quot;, &quot; alternatively&quot;, &quot;&quot;, &quot; instead&quot;) + 
		(either: &quot; go&quot;, &quot; opt to go&quot;, &quot; head&quot;, &quot; opt to head&quot;, &quot; choose to go&quot;, &quot; choose to head&quot;, &quot; decide to go&quot;, &quot; decide to head&quot;) + 
		($vectorDescription: _vector) + 
		&quot; via a &quot; + 
		_through_way 
		+ &quot;.&quot;)
		(output-data: _output)]))

(set: $getDirectionWords to (macro: array-type _vector,[
	(set: _through_way to ($elevation: _vector))
	(set: _eW to (cond:
		(1st of _vector) is 1, &quot;east&quot;,
		(1st of _vector) is -1, &quot;west&quot;,
		&quot;&quot;))
	(set: _nS to (cond:
		(2nd of _vector) is 1, &quot;north&quot;,
		(2nd of _vector) is -1, &quot;south&quot;,
		&quot;&quot;))
	(set: _uD to (cond:
		(3rd of _vector) is 1, &quot;up&quot;,
		(3rd of _vector) is -1, &quot;down&quot;,
		&quot;&quot;))
	(set: _conjunctionPhrase to (cond: 
		_through_way is &quot;a stairwell goes &quot;, &quot; and to the &quot;,
		&quot;&quot;))
	(set: _output to &quot;From here, &quot; + _through_way + _uD + _conjunctionPhrase + _nS + _eW)
	(output-data: _output)
	]
	))



&lt;!--from exit vector decides whether apt exit type is ladder, stairwell or passage--&gt;

(set: $elevation to (macro: array-type _vector, [
	(set: _throughway to (cond: 
		(3rd of _vector is 0), 0,
		(1st of _vector is 0) and (2nd of _vector is 0), 1,
		2))
	(set: _output to (cond: 
		_throughway is 0, &quot;a passage&quot;,
		_throughway is 1, &quot;a ladder&quot;,
		_throughway is 2, &quot;a stairwell&quot;,
		&quot;&quot;))
	(output-data: _output)
		]))
		


}



</tw-passagedata><tw-passagedata pid="40" name="old javascript" tags="" position="23,1541" size="100,100">window.Harlowe = { &#39;State&#39; : State };
window.processInputElements = function () {
    $(&#39;input[data-varname]&#39;).on(&#39;change&#39;, function () {
        var varName = $(this).attr(&#39;data-varname&#39;);
        Harlowe.State.variables[varName] = this.value;
        $(&quot;tw-story&quot;).css(&quot;background-size&quot;,&quot;cover&quot;);
        if(Harlowe.State.variables[varName] == 0)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://th.bing.com/th/id/Rf5fecfd0d9830aab6202cf747bd3ad01?rik=L2W1jbILOWUswA&amp;riu=http%3a%2f%2fak3.picdn.net%2fshutterstock%2fvideos%2f3933461%2fthumb%2f2.jpg&amp;ehk=Jj2vK1CpTF0Tkwwx8bW4RAHwBltP9rnWO4IfZTCfsMY%3d&amp;risl=&amp;pid=ImgRaw)&quot;);
        			}
			else if(Harlowe.State.variables[varName] == 1)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/4f/0b/88/4f0b88df6b723ffda1fb80629884521a.jpg)&quot;);
							}
			else if(Harlowe.State.variables[varName] == 2)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/5e/89/86/5e898666ee18812c14868b1d609a64f0.jpg)&quot;);
							}
			else if(Harlowe.State.variables[varName] == 3)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://www.realmofhistory.com/wp-content/uploads/2016/05/3D_Animations_Layout_Roman_Domus_House_1-770x437.jpg)&quot;);
							}
						else if(Harlowe.State.variables[varName] == 4)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://images.fineartamerica.com/images/artworkimages/mediumlarge/1/roman-ruin-architecture-with-predigendem-st-paul-giovanni-paolo-panini.jpg)&quot;);
							}
			else if(Harlowe.State.variables[varName] == 5)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://images.alphacoders.com/266/266013.jpg)&quot;);
							}
			else if(Harlowe.State.variables[varName] == 6)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://vignette.wikia.nocookie.net/assassinscreed/images/b/b8/Damascus-depth.jpg/revision/latest?cb=20100918105609)&quot;);
							}
			else if(Harlowe.State.variables[varName] == 7)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://www.ancient-origins.net/sites/default/files/field/image/viking-tar.jpg)&quot;);
							}
						else if(Harlowe.State.variables[varName] == 8)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(file:///private/var/folders/kl/xdjgclbs2rd7j83lrx2kjygr0000gp/T/6f3dc60b-15c8-438b-b96d-458185d4b829.html)&quot;);
							}
				else if(Harlowe.State.variables[varName] == 9)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://vignette.wikia.nocookie.net/lotrfanon/images/6/6a/Mordor.png/revision/latest?cb=20170724095433)&quot;);
							}
			else if(Harlowe.State.variables[varName] == 10)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://4.bp.blogspot.com/-H7YcbEPiqH4/VbisGV8F-8I/AAAAAAAEtBs/sQETZ8PgdVM/s1600/John%2BMartin%2BTutt%2527Art%2540%2B%252825%2529.jpg)&quot;);
							}
			else if(Harlowe.State.variables[varName] == 11)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/32/d1/2d/32d12d3eb111ccb5065073c181007cc3.jpg)&quot;);
							}
			else if(Harlowe.State.variables[varName] == 12)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/98/82/b2/9882b2685e23b81832d9b8a3258fa65a.jpg)&quot;);
							}
			else if(Harlowe.State.variables[varName] == 13)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/ea/31/23/ea31239d3f7eba975360f044906a3aba.jpg)&quot;);
							}		
			else if(Harlowe.State.variables[varName] == 14)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.ytimg.com/vi/2QUYYOXUF4o/maxresdefault.jpg)&quot;);
							}	
			else if(Harlowe.State.variables[varName] == 15)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://upload.wikimedia.org/wikipedia/commons/e/ef/Avvakum_by_Pyotr_Yevgenyevich_Myasoyedov.jpg)&quot;);
							}	
			else if(Harlowe.State.variables[varName] == 16)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.postimg.cc/j5Gr8x8r/artwork-fantasy-city-town-digital-river-bridge-boat-medieval-1743259.jpg)&quot;);
							}	
			else if(Harlowe.State.variables[varName] == 17)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.postimg.cc/tgkQHd2D/heads-On-Pikes.jpg)&quot;);
							}	
			else if(Harlowe.State.variables[varName] == 18)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/cd/41/30/cd413085d15e1fbf4ef0f18b8ddbcdf1.jpg)&quot;);
							}	
			else if(Harlowe.State.variables[varName] == 19)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://w-dog.pw/android-wallpapers/7/16/532616445160923/art-war-france-saint-lo-street-us-troops-men-uniforms-shop-rifles-m1903a3-and-m1903a4-shots-smoke-ruins-ww2-picture.jpg)&quot;);
							}
			else if(Harlowe.State.variables[varName] == 20)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://cdnb.artstation.com/p/assets/images/images/006/670/547/large/ricardo-garcia-hernanz-proyecto-final-concept-art-definitivo.jpg?1500361155)&quot;);
							}
			
					
    });
};


if (typeof window.CustomScripts == &quot;undefined&quot;) {
	window.CustomScripts = {
		updateBackground(myBackground){
			// if it&#39;s always going to be cover, you can put it outside the if statement
			$(&quot;tw-story&quot;).css(&quot;background-size&quot;,&quot;cover&quot;);
			
			// check the functions parameter for which background image to use
			if(myBackground == 0) //century backgrounds take nos 0, 100, 200 etc.
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://th.bing.com/th/id/Rf5fecfd0d9830aab6202cf747bd3ad01?rik=L2W1jbILOWUswA&amp;riu=http%3a%2f%2fak3.picdn.net%2fshutterstock%2fvideos%2f3933461%2fthumb%2f2.jpg&amp;ehk=Jj2vK1CpTF0Tkwwx8bW4RAHwBltP9rnWO4IfZTCfsMY%3d&amp;risl=&amp;pid=ImgRaw)&quot;);
			}
			else if(myBackground == -1) // 
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/08/b2/5a/08b25ac76c7c0c5571e0b98af8bd53f5.jpg)&quot;);
			}
			else if(myBackground == 1) // decade nos end in 1
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.ibb.co/zJvFgQF/mushroom-Catacombs.jpg)&quot;);
			}
			else if(myBackground == 11)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/3b/a6/7c/3ba67c68c69aa5ff049e70af3e1398be.jpg)&quot;);
			}
			else if(myBackground == 21)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.ibb.co/hCsSZw0/CREATOR-gd-jpeg-v1-0-using-IJG-JPEG-v80-quality-80.jpg)&quot;);
			}
			else if(myBackground == 31)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://farm4.staticflickr.com/3881/14548118871_9a25db8f3b_k.jpg)&quot;);
			}
			else if(myBackground == 41)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/2c/6a/6d/2c6a6da05c9ba99228068306657fbf82.jpg)&quot;);
			}
			else if(myBackground == 51)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/224cf4fa-33d8-4223-974d-67aecc72bd2c/d32esvm-fab667ec-f070-4610-baf7-d1f993c43768.jpg/v1/fill/w_800,h_600,q_75,strp/the_armory_by_rytango-d32esvm.jpg?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwic3ViIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsImF1ZCI6WyJ1cm46c2VydmljZTppbWFnZS5vcGVyYXRpb25zIl0sIm9iaiI6W1t7InBhdGgiOiIvZi8yMjRjZjRmYS0zM2Q4LTQyMjMtOTc0ZC02N2FlY2M3MmJkMmMvZDMyZXN2bS1mYWI2NjdlYy1mMDcwLTQ2MTAtYmFmNy1kMWY5OTNjNDM3NjguanBnIiwid2lkdGgiOiI8PTgwMCIsImhlaWdodCI6Ijw9NjAwIn1dXX0.eOpCwc84GDmV-LB1ltAyddWpeuwIVVH9qw4oPJeQbKM)&quot;);
			}
			else if(myBackground == 61)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/60/f9/69/60f969f538253f68ec5be1b5846a2568.jpg)&quot;);
			}
			else if(myBackground == 71)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.ibb.co/g9hVkhF/catacombs-Chapel4.jpg)&quot;);
			}
			else if(myBackground == 81)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.ibb.co/yf9SCJJ/leper-Colony2.jpg)&quot;);
			}
			else if(myBackground == 91)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/7f/64/42/7f64421b6c16a31104cba0471dd5daca.jpg)&quot;);
			}
			else if(myBackground == 100)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/4f/0b/88/4f0b88df6b723ffda1fb80629884521a.jpg)&quot;);
			}
			else if(myBackground == 101)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/5b/c7/19/5bc719f84cfc170ff0558702b2c97876.jpg)&quot;);
			}
			else if(myBackground == 111)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/84/77/ea/8477eac606801135e48e2208305f3914.jpg)&quot;);
			}
			else if(myBackground == 121)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://th.bing.com/th/id/Rde8b516f69680e4a2a7243c2ec81a701?rik=FLjo2Zvd6dVPyw&amp;riu=http%3a%2f%2fimages4.wikia.nocookie.net%2f__cb20130419200553%2fspartacus%2fimages%2f5%2f59%2fSpartacus_Legends_Ludus_fight.png&amp;ehk=YzsHyiOKeH38%2fusktTVJv%2beUid2DYSentQ23hcClX98%3d&amp;risl=&amp;pid=ImgRaw)&quot;);
			}
			else if(myBackground == 131)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/736x/ce/51/f7/ce51f7c230d6e0bafabd04862133349a.jpg)&quot;);
			}
			else if(myBackground == 141)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://www.thesimsresource.com/scaled/2599/w-800h-600-2599642.jpg)&quot;);
			}
			else if(myBackground == 151)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/6a/7f/c1/6a7fc16f23671dc5bd0bed4c462eccc4.jpg)&quot;);
			}
			else if(myBackground == 161)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.ibb.co/0F4cX5y/roman-Slave-Marke5.jpg)&quot;);
			}
			else if(myBackground == 171)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/736x/d2/e4/c1/d2e4c197c68fe2cb4d2e7de5f4143e2b.jpg)&quot;);
			}
			else if(myBackground == 181)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/b4/39/a8/b439a87560b02424c656b1120e29740d.jpg)&quot;);
			}
			else if(myBackground == 191)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/4c/ae/c0/4caec06d6814e915a3c32affa4123800.jpg)&quot;);
			}
			else if(myBackground == 200)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/5b/c7/19/5bc719f84cfc170ff0558702b2c97876.jpg)&quot;);
			}
			else if(myBackground == 201)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://th.bing.com/th/id/R2cae1fcbbabcb57451c68fc47571a351?rik=leu7YgYWctPMsg&amp;riu=http%3a%2f%2faidanmoher.com%2fblog%2fwp-content%2fuploads%2f2014%2f07%2ftwilight_garden_by_alextooth-d5t47sa.jpg&amp;ehk=3knU%2fwpIey%2b%2bQT8LlaYoJrnuJ36TOKBVgzJHM3SAHtA%3d&amp;risl=&amp;pid=ImgRaw)&quot;);
			}
			else if(myBackground == 211)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/5f/00/3f/5f003fc16b10572cfe4c34c313beec70.jpg)&quot;);
			}
			else if(myBackground == 221)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/9c/99/54/9c9954bc49514aafb47624cbb3c2a993.jpg)&quot;);
			}
			else if(myBackground == 231)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/9c/85/32/9c853217e910c978b24ed75ac63e923f.jpg)&quot;);
			}
			else if(myBackground == 241)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/67/f0/8b/67f08bbc42a27c9da1011532332c1fe5.jpg)&quot;);
			}
			else if(myBackground == 251)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://gcdn.daz3d.com/p/56851/i/chinese-temple-gate-05-daz3d.jpg)&quot;);
			}
			else if(myBackground == 261)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://gcdn.daz3d.com/p/63811/i/china-houses-04-daz3d.jpg)&quot;);
			}
			else if(myBackground == 271)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/14/10/2a/14102a474694c64c8f3779901390effc.jpg)&quot;);
			}
			else if(myBackground == 281)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://c4.wallpaperflare.com/wallpaper/49/579/585/jungle-fantasy-art-asian-architecture-artwork-wallpaper-preview.jpg)&quot;);
			}
			else if(myBackground == 291)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://c4.wallpaperflare.com/wallpaper/672/517/150/nature-digital-art-water-artwork-wallpaper-preview.jpg)&quot;);
			}
			else if(myBackground == 2071)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(http://www.scififantasyhorror.co.uk/wp-content/gallery/Su-Jian/su-jian-scifi-art-11.jpg)&quot;);
			}
			else
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;none&quot;);
			}
		}
	}
}

</tw-passagedata><tw-passagedata pid="41" name="refresh sentences" tags="startup" position="158,1081" size="100,100">{
(set: $refreshSentences to
(macro: [
	(set: $complexLanguage to (str: $decadeReference) of $generalLanguage)
	(set: $ladderTerm to 5th of $complexLanguage)
	(set: $stairTerm to 6th of $complexLanguage)
	(set: $roomNumber to $thisRoomsNumber)
	(set: $complexSentence to &quot;You are &quot;
		+ ($setRoomPhrase:)
		+ &quot; somewhere &quot; 
		+ 1st of $complexLanguage
		+ &quot; &quot; 
		+ 2nd of $complexLanguage
		+ &quot; &quot;
		+ 3rd of $complexLanguage
		+ &quot; &quot;
		+ 4th of $complexLanguage
		)
	(set: $complexSentence2 to &quot;You are &quot;
		+ ($setPassagePhrase:)
		+ &quot; somewhere &quot; 
		+ 1st of $complexLanguage
		+ &quot; &quot; 
		+ 2nd of $complexLanguage
		+ &quot; &quot;
		+ 3rd of $complexLanguage
		+ &quot; &quot;
		+ 4th of $complexLanguage
	)
	(set: $complexSentence3 to &quot;You are &quot;
		+ ($setRoomPhrase2:)
		+ &quot; somewhere &quot; 
		+ 1st of $complexLanguage
		+ &quot; &quot; 
		+ 2nd of $complexLanguage
		+ &quot; &quot;
		+ 3rd of $complexLanguage
		+ &quot; &quot;
		+ 4th of $complexLanguage
	)
	(output-data:&quot;&quot;)
	]))
	
	}</tw-passagedata><tw-passagedata pid="42" name="general language" tags="startup" position="153,1222" size="100,100">{
(set: $generalLanguage to (dm: 
	&quot;1&quot;, (a: &quot;in an&quot;, &quot;&quot;, &quot;underground mushroom garden&quot;,&quot;&quot;, &quot;a mushroom stalk&quot;,&quot;a dirt slope&quot;),
	&quot;11&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Hypogeum&quot;, &quot;beneath the colosseum&quot;,&quot;a crank elevator&quot;,&quot;some steps&quot;), 
	&quot;21&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;underground spy complex of the Frumentarii&quot;, &quot;beneath the Roman senate&quot;, &quot;some winding steps&quot;, &quot;some steps&quot;),
	&quot;31&quot;, (a: &quot;in a&quot;, &quot;subterranean&quot;, &quot;brewery&quot;, &quot;beneath the city&quot;,&quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;41&quot;, (a: &quot;in the&quot;, &quot;hidden&quot;, &quot;underground hideouts&quot;, &quot;of the persecuted Christians&quot;,&quot;some winding sandstone steps&quot;, &quot;some sandstone steps&quot;),
	&quot;51&quot;, (a: &quot;in a&quot;, &quot;hidden&quot;, &quot;armory&quot;, &quot;beneath the city&quot;,&quot;a ladder&quot;,&quot;some sandstone steps&quot;),
	&quot;61&quot;, (a: &quot;in an&quot;, &quot;&quot;, &quot;underground dungeon&quot;, &quot;where the convicted await execution&quot;,&quot;some winding sandstone steps&quot;, &quot;some sandstone steps&quot;),
	&quot;71&quot;, (a: &quot;in an&quot;, &quot;&quot;, &quot;underground chapel&quot;,&quot;where Christians worship their forbidden god&quot;,&quot;some winding sandstone steps&quot;, &quot;some sandstone steps&quot;),
	&quot;81&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;leper colony&quot;, &quot;in an abandoned part of the underground city&quot;, &quot;some winding sandstone steps&quot;, &quot;some sandstone steps&quot;),
	&quot;91&quot;, (a: &quot;in a&quot;, &quot;cobwebbed&quot;, &quot;crypt&quot;, &quot;in a quiet part of the underground city&quot;, &quot;some winding steps&quot;, &quot;some steps&quot;),
	&quot;101&quot;, (a: &quot;in the&quot;, &quot;tranquil&quot;, &quot;garden of Lucullus&quot;,&quot;&quot;, &quot;a steep, tangled slope&quot;, &quot;a gentle slope&quot;),
	&quot;111&quot;, (a: &quot;in the&quot;, &quot;dusty&quot;, &quot;gladitorial arenas&quot;, &quot;&quot;,&quot;some winding sandstone steps&quot;, &quot;some steps&quot;), 
	&quot;121&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;ludus&quot;, &quot;at which gladiators are trained&quot;,&quot;some winding sandstone steps&quot;, &quot;some steps&quot;),
	&quot;131&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;college of the Vestals&quot;, &quot;&quot;,&quot;a thinly carpeted, spiral staircase&quot;, &quot;some threadbare stairs&quot;),
	&quot;141&quot;, (a: &quot;in the&quot;, &quot;opulent&quot;, &quot;house of Augustus and Livia&quot;, &quot;&quot;,&quot;a spiral staircase&quot;, &quot;a magnificent wooden staircase&quot;),
	&quot;151&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;Roman barracks&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;161&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;slave market&quot;, &quot;where slaves are tethered like animals&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;171&quot;, (a: &quot;in the&quot;, &quot;sacred&quot;, &quot;temple of Juno&quot;, &quot;&quot;, &quot;a spiraling flight of marble steps&quot;, &quot;some ornate marble steps&quot;),
	&quot;181&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;surgery of Galen&quot;, &quot;&quot;, &quot;some winding sandstone steps&quot;, &quot;some steps&quot;),
	&quot;191&quot;, (a: &quot;in the&quot;, &quot;shadowy&quot;, &quot;necropolis&quot;, &quot;outside the walls of Rome&quot;, &quot;a steep, roughly gardened slope&quot;, &quot;a gentle, flowered slope&quot;),
	&quot;201&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Garden of General Liang Ji&quot;, &quot;&quot;, &quot;a steep, flowered slope&quot;, &quot;a gently sloping path&quot;),
	&quot;211&quot;, (a: &quot;within the&quot;, &quot;exciting&quot;, &quot;carnival of a hundred shows,&quot;,&quot;amidst music, dance and demonstrations of cuju, wrestling and acrobatic prowess&quot;,&quot;a steep dirt bank&quot;, &quot;a muddy slope&quot;), 
	&quot;221&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Imperial Academy&quot;, &quot;among the disputes of the scholars of Confucius&quot;,&quot;a stone stairwell&quot;, &quot;a flight of steps&quot;), 
	&quot;231&quot;, (a: &quot;in a&quot;, &quot;floating&quot;, &quot;brothel&quot;, &quot;on the Huangpu River, where the Shuyu attend to the needs of the city&#39;s elite&quot;,&quot;a ladder&quot;, &quot;some wooden steps&quot;),
	&quot;241&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;Siheyuan&quot;, &quot;courtyard-house&quot;,&quot;a stone stairwell&quot;, &quot;some slate steps&quot;),
	&quot;251&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;gate house&quot;, &quot;guarded by the Huben () imperial guard&quot;, &quot;a stone stairwell&quot;, &quot;some slate steps&quot;),
	&quot;261&quot;, (a: &quot;among the&quot;, &quot;&quot;, &quot;huts of the ten eunuchs&quot;, &quot;&quot;, &quot;a climbable rock-brick wall&quot;, &quot;some dirt steps&quot;),
	&quot;271&quot;, (a: &quot;in the&quot;, &quot;sacred&quot;, &quot;White Horse buddhist temple&quot;, &quot;&quot;, &quot;an ornate stairwell&quot;, &quot;some humble clay steps&quot;),
	&quot;281&quot;, (a: &quot;in the&quot;, &quot;abandoned&quot;, &quot;surgery of Hua Tuo&quot;, &quot;&quot;, &quot;a stairwell&quot;, &quot;some clay steps&quot;),
	&quot;291&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Dabaozi Cemetery&quot;, &quot;&quot;, &quot;a steep, roughly gardened slope&quot;, &quot;a gentle, flowered slope&quot;),
	&quot;301&quot;, (a: &quot;on the&quot;, &quot;pastoral&quot;, &quot;farms&quot;, &quot;surrounding ancient Byzantium&quot;, &quot;a steep soil bank&quot;, &quot;a gentle bank&quot;),
	&quot;311&quot;, (a: &quot;in the&quot;, &quot;many garish&quot;, &quot;theaters of the Hippdromos ts Knstantinouples&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;321&quot;, (a: &quot;in the&quot;, &quot;echoey&quot;, &quot;halls of the Magnaura&quot;, &quot;where senators discuss and debate the issues of the day&quot;, &quot;a spiral staircase&quot;, &quot;stone steps&quot;),
	&quot;331&quot;, (a: &quot;in the&quot;, &quot;dim&quot;, &quot;Triclinium of the Nineteen Couches&quot;, &quot;where romantic couples lounge on sigmas&quot;, &quot;a winding wooden staircase&quot;, &quot;some oak steps&quot;),
	&quot;341&quot;, (a: &quot;in an&quot;, &quot;elaborate&quot;, &quot;home&quot;, &quot;in old Byzantium&quot;, &quot;a chimney&quot;, &quot;a staircase&quot;),
	&quot;351&quot;, (a: &quot;in the ditches of a&quot;, &quot;bloody&quot;, &quot;battleground&quot;, &quot;near ancient Byzantium&quot;, &quot;a ladder&quot;, &quot;an incline&quot;),
	&quot;361&quot;, (a: &quot;in the depths of a&quot;, &quot;forced labor&quot;, &quot;mine&quot;, &quot;under ancient Byzantium&quot;, &quot;a ladder&quot;, &quot;rickety wooden stairs&quot;),
	&quot;371&quot;, (a: &quot;in a&quot;, &quot;serpentine&quot;, &quot;labyrinth&quot;, &quot;in the gardens of ancient Byzantium&quot;, &quot;a ladder&quot;, &quot;mossy steps&quot;),
	&quot;381&quot;, (a: &quot;in the&quot;, &quot;mystical&quot;, &quot;basilica of St John the Forerunner&quot;, &quot;, where St Artemios is believed to cure the sick and cursed.&quot;, &quot;winding steps&quot;, &quot;sandstone stairs&quot;),
	&quot;391&quot;, (a: &quot;in the&quot;, &quot;watery&quot;, &quot;crypt of Constantine&quot;, &quot;, beneath the church of the twelve apostles.&quot;, &quot;a rotten ladder&quot;, &quot;slimy steps&quot;),
	&quot;401&quot;, (a: &quot;in a&quot;, &quot;lush&quot;, &quot;forest&quot;, &quot;that nature has reclaimed from the ruins of Rome&quot;, &quot;a rope ladder&quot;, &quot;broken, overgrown steps&quot;),
	&quot;411&quot;, (a: &quot;in the&quot;, &quot;remains of the&quot;, &quot;Circus Maximus,&quot;, &quot;amid the skeletons of show animals.&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;421&quot;, (a: &quot;in the&quot;, &quot;abandoned&quot;, &quot;Bibliotheca Octaviana at the overgrown Porticus Octavia&quot;, &quot;, where scrolls of ancient wisdom perish in the rains&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;431&quot;, (a: &quot;in the&quot;, &quot;ruined&quot;, &quot;temple of Venus&quot;, &quot;&quot;, &quot;a broken, climbable wall&quot;, &quot;stone steps&quot;),
	&quot;441&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;block of abandoned insulae&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;451&quot;, (a: &quot;in a&quot;, &quot;looted&quot;, &quot;armory&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;461&quot;, (a: &quot;in a&quot;, &quot;derelict&quot;, &quot;jail&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;471&quot;, (a: &quot;in what used to be&quot;, &quot;&quot;, &quot;Emperor Nero&#39;s park&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;481&quot;, (a: &quot;in the&quot;, &quot;derelict&quot;, &quot;surgery of Asclepiades&quot;, &quot;&quot;, &quot;a copper ladder&quot;, &quot;tiled steps&quot;),
	&quot;491&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;mass burial pits&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;501&quot;, (a: &quot;in the&quot;, &quot;enchanted&quot;, &quot;forest of Brocliande&quot;, &quot;&quot;, &quot;a steep dirt bank&quot;, &quot;a slope&quot;),
	&quot;511&quot;, (a: &quot;at a&quot;, &quot;&quot;, &quot;jousting tournament&quot;, &quot;&quot;, &quot;a steep dirt bank&quot;, &quot;a slope&quot;),
	&quot;521&quot;, (a: &quot;in the&quot;, &quot;hidden&quot;, &quot;coastal cave of Merlin the wizard,&quot;, &quot;beneath the castle at Tintagel&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;531&quot;, (a: &quot;by&quot;, &quot;&quot;, &quot;Llyn Ogwen,&quot;, &quot;where the lady of the lake keeps Excalibur&quot;, &quot;a steep dirt bank&quot;, &quot;a gentle slope&quot;),
	&quot;541&quot;, (a: &quot;within the keep of&quot;, &quot;&quot;, &quot;Camelot&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;551&quot;, (a: &quot;at the&quot;, &quot;bloody&quot;, &quot;battlefield at Camlann&quot;, &quot;where Arthur faced Mordredd&quot;, &quot;a dirt bank&quot;, &quot;a trampled slope&quot;),
	&quot;561&quot;, (a: &quot;under the&quot;, &quot;mysterious&quot;, &quot;Bryn Myrddin&quot;, &quot;where the bard Merlin was trapped.&quot;, &quot;a shaft&quot;, &quot;some boulders&quot;),
	&quot;571&quot;, (a: &quot;within the bailey of the&quot;, &quot;mystical&quot;, &quot;castle of Corbenic,&quot;, &quot;where the Holy Grail is rumored to be kept&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;581&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;walled up town&quot;, &quot;where sufferers of the plague are trapped&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;591&quot;, (a: &quot;among the&quot;, &quot;stinking&quot;, &quot;barrows&quot;, &quot;where the Justinian plague&#39;s victims are hurled to their final resting place.&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;601&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;hanging farms&quot;, &quot;where hashish grows abundantly over a thousand clay containers perched on tiered plots&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;611&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;hashish quarter&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;621&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;hashashin&#39;s library&quot;, &quot;where hashashin&#39;s gather and conspire&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;631&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Sultan&#39;s palace&quot;, &quot;where exotic belly dancers entertain the Sultan&#39;s many guests&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;641&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;bustling souk of Al-Madina&quot;, &quot;where vendors from far and wide peddle their wares to the busy city&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;651&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Citadel of Aleppo&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;661&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Jewish quarter&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;671&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;great mosque of Aleppo&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;681&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;penal quarter of the ancient city of Aleppo&quot;, &quot;where sinners and criminals are righteously flogged, mutilated or executed beneath the shadow of the great citadel&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;691&quot;, (a: &quot;in an&quot;, &quot;&quot;, &quot;abandoned town&quot;, &quot;one of many forgotten cities that orbit great Aleppo&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;701&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;emperor&#39;s menagerie at Aachen&quot;, &quot;where strange beasts from far and wide are displayed&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;711&quot;, (a: &quot;in a&quot;, &quot;partly constructed&quot;, &quot;bath house&quot;, &quot;built around the hot springs at Aachen&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;721&quot;, (a: &quot;in the&quot;, &quot;great&quot;, &quot;library at Charlemagne&#39;s court&quot;, &quot;where Peter of Pisa, Paulinus of Aquileia, Paul the Deacon, Theodulf of Orlans, Alcuin of York and Joseph Scottus lead the Carolingian renaissance&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;731&quot;, (a: &quot;in the&quot;, &quot;private&quot;, &quot;gynaeceum&quot;, &quot;where women weave and spin&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;741&quot;, (a: &quot;in the&quot;, &quot;partly constructed&quot;, &quot;Palace of Aachen&quot;, &quot;at the center of the Holy Roman Empire&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;751&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;soldier&#39;s barracks&quot;, &quot;in the city of Aachen&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;761&quot;, (a: &quot;at the&quot;, &quot;&quot;, &quot;dockside on the Wurm,&quot;, &quot;where Vikings bring captives from Venice and Byzantium to sell as casati servi, and captured Slavs, Avars, Saxons and Danes are sold into slavery in turn&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;771&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Palatine chapel&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;781&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;hospice&quot;, &quot;in the palatial complex at Aachen&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;791&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;crypt beneath the Palatine chapel&quot;, &quot;where Charlemagne will one day be buried&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;801&quot;, (a: &quot;in an&quot;, &quot;overgrown&quot;, &quot;part of the marsh near the Athelney abbey&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;811&quot;, (a: &quot;in the&quot;, &quot;swimming&quot;, &quot;wood&quot;, &quot;near the Athelney abbey&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;821&quot;, (a: &quot;in a&quot;, &quot;flooded&quot;, &quot;library&quot;, &quot;near the abbey at Athelney&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;831&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;hall of the enchantress Dame Brusen,&quot;, &quot;where potions of love are boiled and bottled.&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;841&quot;, (a: &quot;in&quot;, &quot;&quot;, &quot;Ethelingaeigge&quot;, &quot;, the fort at Athelney&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;851&quot;, (a: &quot;in a&quot;, &quot;partially submerged&quot;, &quot;tower&quot;, &quot;in the Bristol channel&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;861&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;trapper&#39;s wood&quot;, &quot;near the swamps at Athelney&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;871&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;abbey at Athelney&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;881&quot;, (a: &quot;in the&quot;, &quot;lower&quot;, &quot;marshes&quot;, &quot;near the Bristol Channel&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;891&quot;, (a: &quot;in the&quot;, &quot;lower&quot;, &quot;marshes&quot;, &quot;near the Bristol Channel&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;901&quot;, (a: &quot;in a&quot;, &quot;thorny&quot;, &quot;forest&quot;, &quot;in the First Reich&quot;, &quot;a dirt cliff&quot;, &quot;a slope&quot;),	
	&quot;911&quot;, (a: &quot;at a&quot;, &quot;&quot;, &quot;racing event&quot;, &quot;in the First Reich&quot;, &quot;a ladder&quot;, &quot;metal stairs&quot;),
	&quot;921&quot;, (a: &quot;at a&quot;, &quot;cold mountain&quot;, &quot;training exercise&quot;, &quot;for the German military&quot;, &quot;a ladder&quot;, &quot;a snowy slope&quot;),
	&quot;931&quot;, (a: &quot;at a&quot;, &quot;&quot;, &quot;nunnery&quot;, &quot;in the First Reich&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;941&quot;, (a: &quot;in a&quot;, &quot;luxury&quot;, &quot;skyscraper&quot;, &quot;in the First Reich&quot;, &quot;an elevator&quot;, &quot;some steps&quot;),
	&quot;951&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;courthouse&quot;, &quot;in the First Reich&quot;, &quot;an elevator&quot;, &quot;some steps&quot;),
	&quot;961&quot;, (a: &quot;in a&quot;, &quot;wintry&quot;, &quot;forced labor camp&quot;, &quot;in the First Reich&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;971&quot;, (a: &quot;in an&quot;, &quot;imposing&quot;, &quot;gothic cathedral&quot;, &quot;in the First Reich&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;981&quot;, (a: &quot;in a&quot;, &quot;white tile&quot;, &quot;clinic&quot;, &quot;where grim human experiments take place&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;991&quot;, (a: &quot;by the&quot;, &quot;horrifying&quot;, &quot;death pits&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;a slope&quot;),
	&quot;1001&quot;, (a: &quot;in the&quot;, &quot;glacial&quot;, &quot;cathedral of St Nicolas&quot;, &quot;, the patron saint of children&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1011&quot;, (a: &quot;in the&quot;, &quot;bewildering&quot;, &quot;rectory of Teresa of vila&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1021&quot;, (a: &quot;in the&quot;, &quot;ivory&quot;, &quot;towers of the Albertus Magnus basilica&quot;, &quot;, the church devoted to the patron of students and philosophers&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1031&quot;, (a: &quot;in the&quot;, &quot;austere&quot;, &quot;mountain convent&quot;, &quot;of the Magdalene&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1041&quot;, (a: &quot;in the&quot;, &quot;towering&quot;, &quot;city chapel of Homobonus&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1051&quot;, (a: &quot;in the&quot;, &quot;demanding&quot;, &quot;warrior&#39;s priory&quot;, &quot;of Adrian of Nicomedia&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1061&quot;, (a: &quot;in the&quot;, &quot;remote&quot;, &quot;cenobium of St Leonard the hermit&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1071&quot;, (a: &quot;in the&quot;, &quot;lush&quot;, &quot;abbey of Saint Phocas the gardener&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1081&quot;, (a: &quot;in the&quot;, &quot;rivered&quot;, &quot;ruin of Raphael the Archangel&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1091&quot;, (a: &quot;in the&quot;, &quot;eerie&quot;, &quot;grounds of St Joseph of Arimathea&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1101&quot;, (a: &quot;in the&quot;, &quot;same&quot;, &quot;New Forest&quot;, &quot;where the king lies dead&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1111&quot;, (a: &quot;at an&quot;, &quot;&quot;, &quot;archery tournament&quot;, &quot;near the New Forest&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1121&quot;, (a: &quot;in&quot;, &quot;&quot;, &quot;London&#39;s New Temple&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1131&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Maubergeonne Tower in Poitiers&quot;, &quot;, where Eleanor of Aquitaine presides over matters of fidelity and marriage&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1141&quot;, (a: &quot;at the&quot;, &quot;&quot;, &quot;camp of Robin Hood&quot;, &quot;in Sherwood forest&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1151&quot;, (a: &quot;at a&quot;, &quot;&quot;, &quot;garrison&quot;, &quot;of defeated knights, returning from the crusades&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1161&quot;, (a: &quot;in the&quot;, &quot;dingy&quot;, &quot;gaol of the Sheriff, beneath Nottingham castle&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1171&quot;, (a: &quot;in the&quot;, &quot;magnificent&quot;, &quot;cathedral at Canterbury, where Thomas Beckett was murdered by the king&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1181&quot;, (a: &quot;in the&quot;, &quot;abandoned&quot;, &quot;motte of Robert of Lockley&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1191&quot;, (a: &quot;at the&quot;, &quot;&quot;, &quot;wreckage of the white ship&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1201&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;city of Yinchuan&quot;, &quot;, which is rebuilding after being flooded and conquered by the Mongol hordes&quot;, &quot;spiraling steps&quot;, &quot;some steps&quot;),
	&quot;1211&quot;, (a: &quot;in the&quot;, &quot;flourishing&quot;, &quot;middle eastern city of Damascus&quot;, &quot;, where no-one has yet heard of the murderous Mongol hordes that thunder beyond the horizon&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1221&quot;, (a: &quot;in the&quot;, &quot;grandiose&quot;, &quot;quarters of the Khan&#39;s emissary in Chennai&quot;, &quot;, where the shelves are filled with maps and books&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1231&quot;, (a: &quot;in the&quot;, &quot;sacked&quot;, &quot;city of Bukhara&quot;, &quot;, where only women remain after the males were slaughtered by the Mongols&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1241&quot;, (a: &quot;in the caravan of the&quot;, &quot;&quot;, &quot;Mongol hordes&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1251&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;city of Lahore&quot;, &quot;, where Persians and Mongols fight against the locals and one another for control&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1261&quot;, (a: &quot;in the&quot;, &quot;bitterly cold&quot;, &quot;city of Kiev&quot;, &quot;, where the Mongols have enslaved the local populace&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1271&quot;, (a: &quot;on the&quot;, &quot;&quot;, &quot;slopes of Khan Tengri&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1281&quot;, (a: &quot;amongst the&quot;, &quot;&quot;, &quot;storm tossed wreckage of the Mongol fleet off Japan&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1291&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;inferno of Merv&quot;, &quot;, which the Mongols have razed after slaughtering its inhabitants&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1301&quot;, (a: &quot;on a&quot;, &quot;bucolic&quot;, &quot;manor&quot;, &quot;in Northumbria&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1311&quot;, (a: &quot;in the&quot;, &quot;fairy&quot;, &quot;palace&quot;, &quot;of Piers Gaveston&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1321&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;devil&#39;s wood&quot;, &quot;, where witches tell the news of places far aflung&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1331&quot;, (a: &quot;at the&quot;, &quot;rebel&quot;, &quot;camp&quot;, &quot;of Isabella and her son the Prince Edward&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1341&quot;, (a: &quot;at a&quot;, &quot;peaceful&quot;, &quot;village&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1351&quot;, (a: &quot;at the&quot;, &quot;bloody&quot;, &quot;battle of Bannockburn&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1361&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;house of William de Leyrer&quot;, &quot;, where the infernal howling and banging of the imprisoned devil William Wallace thunders up from the basement, shuddering the house to its foundations&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1371&quot;, (a: &quot;in the&quot;, &quot;modest&quot;, &quot;St Mary the Virgin church at Ludgershall&quot;, &quot;, where the heretic John Wycliffe translates the bible into English&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1381&quot;, (a: &quot;in the&quot;, &quot;putrid&quot;, &quot;practice&quot;, &quot;of a plague doctor&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1391&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;cathedral city of Canterbury&quot;, &quot;where the peasant followers of Wat Tyler hang royal officals by their necks&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1401&quot;, (a: &quot;in the&quot;, &quot;humid, sticky&quot;, &quot;jungles of the new world&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1411&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;bear pits&quot;, &quot;of York&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1421&quot;, (a: &quot;in the&quot;, &quot;busy&quot;, &quot;city of Strasbourg&quot;, &quot;, where bibles printed on Guttenberg&#39;s press are sold for a penny at every street corner&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1431&quot;, (a: &quot;in the&quot;, &quot;pious&quot;, &quot;ranks of Joan of Arc&#39;s army&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1441&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Aztec capital&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1451&quot;, (a: &quot;in the&quot;, &quot;besieged&quot;, &quot;city of Constantinople&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1461&quot;, (a: &quot;in&quot;, &quot;&quot;, &quot;Lambeth palace&quot;, &quot;, where the Lollards are held prisoner&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1471&quot;, (a: &quot;in&quot;, &quot;&quot;, &quot;St Peter&#39;s basilica&quot;, &quot;in the Vatican City&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1481&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Carcel de la Inquisicion in Seville&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1491&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;forest of corpses surrounding Trgovite, Wallachia&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1501&quot;, (a: &quot;undefined&quot;, &quot;1501&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1511&quot;, (a: &quot;undefined&quot;, &quot;1511&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1521&quot;, (a: &quot;undefined&quot;, &quot;1521&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1531&quot;, (a: &quot;undefined&quot;, &quot;1531&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1541&quot;, (a: &quot;undefined&quot;, &quot;1541&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1551&quot;, (a: &quot;undefined&quot;, &quot;1551&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1561&quot;, (a: &quot;undefined&quot;, &quot;1561&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1571&quot;, (a: &quot;undefined&quot;, &quot;1571&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1581&quot;, (a: &quot;undefined&quot;, &quot;1581&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1591&quot;, (a: &quot;undefined&quot;, &quot;1591&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1601&quot;, (a: &quot;undefined&quot;, &quot;1601&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1611&quot;, (a: &quot;undefined&quot;, &quot;1611&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1621&quot;, (a: &quot;undefined&quot;, &quot;1621&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1631&quot;, (a: &quot;undefined&quot;, &quot;1631&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1641&quot;, (a: &quot;undefined&quot;, &quot;1641&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1651&quot;, (a: &quot;undefined&quot;, &quot;1651&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1661&quot;, (a: &quot;undefined&quot;, &quot;1661&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1671&quot;, (a: &quot;undefined&quot;, &quot;1671&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1681&quot;, (a: &quot;undefined&quot;, &quot;1681&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1691&quot;, (a: &quot;undefined&quot;, &quot;1691&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1701&quot;, (a: &quot;undefined&quot;, &quot;1701&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1711&quot;, (a: &quot;undefined&quot;, &quot;1711&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1721&quot;, (a: &quot;undefined&quot;, &quot;1721&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1731&quot;, (a: &quot;undefined&quot;, &quot;1731&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1741&quot;, (a: &quot;undefined&quot;, &quot;1741&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1751&quot;, (a: &quot;undefined&quot;, &quot;1751&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1761&quot;, (a: &quot;undefined&quot;, &quot;1761&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1771&quot;, (a: &quot;undefined&quot;, &quot;1771&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1781&quot;, (a: &quot;undefined&quot;, &quot;1781&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1791&quot;, (a: &quot;undefined&quot;, &quot;1791&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1801&quot;, (a: &quot;undefined&quot;, &quot;1801&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1811&quot;, (a: &quot;undefined&quot;, &quot;1811&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1821&quot;, (a: &quot;undefined&quot;, &quot;1821&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1831&quot;, (a: &quot;undefined&quot;, &quot;1831&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1841&quot;, (a: &quot;undefined&quot;, &quot;1841&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1851&quot;, (a: &quot;undefined&quot;, &quot;1851&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1861&quot;, (a: &quot;undefined&quot;, &quot;1861&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1871&quot;, (a: &quot;undefined&quot;, &quot;1871&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1881&quot;, (a: &quot;undefined&quot;, &quot;1881&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1891&quot;, (a: &quot;undefined&quot;, &quot;1891&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1901&quot;, (a: &quot;undefined&quot;, &quot;1901&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1911&quot;, (a: &quot;undefined&quot;, &quot;1911&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1921&quot;, (a: &quot;undefined&quot;, &quot;1921&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1931&quot;, (a: &quot;undefined&quot;, &quot;1931&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1941&quot;, (a: &quot;undefined&quot;, &quot;1941&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1951&quot;, (a: &quot;undefined&quot;, &quot;1951&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1961&quot;, (a: &quot;undefined&quot;, &quot;1961&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1971&quot;, (a: &quot;undefined&quot;, &quot;1971&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1981&quot;, (a: &quot;undefined&quot;, &quot;1981&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1991&quot;, (a: &quot;undefined&quot;, &quot;1991&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;2001&quot;, (a: &quot;undefined&quot;, &quot;2001&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;2011&quot;, (a: &quot;undefined&quot;, &quot;2011&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;2021&quot;, (a: &quot;undefined&quot;, &quot;2021&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;2031&quot;, (a: &quot;undefined&quot;, &quot;2031&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;2041&quot;, (a: &quot;undefined&quot;, &quot;2041&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;2051&quot;, (a: &quot;undefined&quot;, &quot;2051&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;2061&quot;, (a: &quot;undefined&quot;, &quot;2061&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;2071&quot;, (a: &quot;undefined&quot;, &quot;2071&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;2081&quot;, (a: &quot;undefined&quot;, &quot;2081&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;2091&quot;, (a: &quot;undefined&quot;, &quot;2091&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;)
	))
	
	}</tw-passagedata><tw-passagedata pid="43" name="terminology" tags="startup" position="151,1363" size="100,100">{
&lt;!--
0 Place to grow. Farm or forest. Gaia. 
1 Place to have fun. Ampitheatre. Opium den. Loki. 
2 Place to learn, like a school, library, university or observatory. Ultron. 
3 Place of love and exploration. A dance hall, boudoir, brothel, etc. Or a dock, onboard ship. Venus. 
4 Place to live. Hestia. 
5 Place of conflict. Judgment. Ares. 
6 Place of confinement and work, like a jail or labor camp. Hades. 
7 Place of spirituality, peace &amp; contemplation. Garden, temple, shrine or church. Buddha. 
8 Place to be sick. Florence Nightingale. 
9 Place of the dead. Death.  --&gt;



(set: $decadeRef to  
(macro: [
	(set: $decadeReference to 1 + $floorInt * 100 + $decadeNum * 10)
	(output-data: &quot;&quot;)
	]
	))
	

(set: $locusWord to 
(macro: [
	(set: 
	(if: $thisRoomNumber &gt; 9)[(output-data: &quot;passage&quot;)]
	(else:)[(output-data: &quot;room&quot;)]
	]
	))

(set: $fixComplexVocab to 
(macro: [
	(if: $floorString is &quot;0&quot;)[(output-data:$catacombComplexes)]
	(if: $floorString is &quot;1&quot;)[(output-data:$romanComplexes)]
	(if: $floorString is &quot;2&quot;)[(output-data: $unknown)] 
		]
		))
		
		
&lt;!--the main sentence says &quot;you are on a __A___ somewhere ___B___&quot;. This provides the language for A.--&gt; 

(set: $firstLetterIsVowel to
(macro: string-type _word, [
	(set: _firstLetter to (1) of _word)
	(set: _firstLetterIsVowel to (cond: 
		_firstLetter is &quot;a&quot;, true,
		_firstLetter is &quot;e&quot;, true,
		_firstLetter is &quot;i&quot;, true,
		_firstLetter is &quot;o&quot;, true,
		_firstLetter is &quot;u&quot;, true, false))
		(output-data: _firstLetterIsVowel)
		]))

(set: $lociPreps to (dm: 
	&quot;abode&quot;, &quot;in&quot;, 
	&quot;aisle&quot;, &quot;on&quot;,
	&quot;alley&quot;, &quot;in&quot;,
	&quot;apse&quot;, &quot;in&quot;,
	&quot;arcade&quot;, &quot;in&quot;,
	&quot;avenue&quot;, &quot;on&quot;,
	&quot;bank&quot;,&quot;on&quot;,
	&quot;battlement&quot;, &quot;on&quot;,
	&quot;bayou&quot;, &quot;on&quot;, 
	&quot;boudoir&quot;, &quot;in&quot;,
	&quot;bowl&quot;, &quot;in&quot;,
	&quot;building&quot;, &quot;in&quot;,
	&quot;canal&quot;, &quot;on&quot;,
	&quot;cell&quot;, &quot;in&quot;,	
	&quot;chamber&quot;, &quot;in&quot;,
	&quot;copse&quot;, &quot;in&quot;,
	&quot;corridor&quot;, &quot;on&quot;,
	&quot;cottage&quot;, &quot;in&quot;,
	&quot;courtyard&quot;, &quot;in&quot;,
	&quot;deck&quot;, &quot;on&quot;,
	&quot;depot&quot;, &quot;in&quot;,
	&quot;display&quot;, &quot;at&quot;,
	&quot;ditch full of bodies&quot;, &quot;by&quot;,
	&quot;dormitory&quot;, &quot;in&quot;,
	&quot;dungeon&quot;, &quot;in&quot;,
	&quot;field tower&quot;, &quot;at&quot;,
	&quot;gazebo&quot;, &quot;under&quot;,
	&quot;gangway&quot;, &quot;on&quot;,
	&quot;Gebetsraum&quot;, &quot;in&quot;,
	&quot;Gerichtssaal&quot;, &quot;in&quot;,
	&quot;hall&quot;, &quot;in&quot;,
	&quot;hollow&quot;, &quot;in&quot;,
	&quot;lane&quot;, &quot;on&quot;,
	&quot;lab&quot;,&quot;in&quot;,
	&quot;mausoleum&quot;,&quot;in&quot;,
	&quot;mountainside&quot;,&quot;on&quot;,
	&quot;nave&quot;,&quot;in&quot;,
	&quot;opening&quot;, &quot;in&quot;,
	&quot;orchard&quot;, &quot;in&quot;,
	&quot;ossuary&quot;, &quot;in&quot;,
	&quot;pass&quot;, &quot;on&quot;,
	&quot;passage&quot;, &quot;in&quot;,
	&quot;passageway&quot;, &quot;in&quot;,
	&quot;path&quot;, &quot;on&quot;,
	&quot;path through the reeds&quot;, &quot;on&quot;,
	&quot;pathway&quot;, &quot;on&quot;,
	&quot;penthouse&quot;, &quot;in&quot;,
	&quot;pit garage&quot;, &quot;in&quot;,
	&quot;plateau&quot;, &quot;on&quot;, 
	&quot;platform&quot;, &quot;on&quot;,
	&quot;plaza&quot;, &quot;in&quot;,
	&quot;plot&quot;, &quot;on&quot;, 
	&quot;pond&quot;, &quot;by&quot;,
	&quot;post&quot;, &quot;at&quot;,
	&quot;pyramid&quot;, &quot;in&quot;,
	&quot;quayside&quot;, &quot;on&quot;,
	&quot;raft&quot;, &quot;on&quot;,
	&quot;rampart&quot;, &quot;on&quot;,
	&quot;roadway&quot;, &quot;on&quot;,
	&quot;room&quot;, &quot;in&quot;,
	&quot;sanctum&quot;, &quot;in&quot;,
	&quot;schiltron&quot;, &quot;in&quot;,
	&quot;septum&quot;, &quot;in&quot;,
	&quot;shelter&quot;,&quot;under&quot;,
	&quot;square&quot;, &quot;in&quot;,
	&quot;stage&quot;, &quot;by&quot;,
	&quot;street&quot;, &quot;on&quot;,
	&quot;tent&quot;, &quot;in&quot;,
	&quot;theater&quot;, &quot;in&quot;,
	&quot;tower&quot;, &quot;in&quot;,
	&quot;tunnel&quot;, &quot;in&quot;,
	&quot;track&quot;, &quot;on&quot;,
	&quot;vault&quot;, &quot;in&quot;,
	&quot;vulitsa&quot;, &quot;on&quot;,
	&quot;wagon&quot;, &quot;in&quot;,
	&quot;walkway&quot;, &quot;on&quot;,
	&quot;Wohnblock&quot;, &quot;in&quot;,
	&quot;yard&quot;, &quot;in&quot;,
	))


	
	
(set: $passageTerms to (dm: 
	&quot;0&quot;, (a: &quot;humid&quot;, &quot;tunnel&quot;),
	&quot;1&quot;, (a: &quot;earthy&quot;, &quot;path&quot;),
	&quot;11&quot;, (a: &quot;baking hot&quot;, &quot;corridor&quot;),
	&quot;21&quot;, (a: &quot;dim&quot;, &quot;passage&quot;),
	&quot;31&quot;, (a: &quot;cool&quot;, &quot;tunnel&quot;),
	&quot;41&quot;, (a: &quot;sandy&quot;, &quot;tunnel&quot;),
	&quot;51&quot;, (a: &quot;stone&quot;, &quot;corridor&quot;),
	&quot;61&quot;, (a: &quot;forbidding&quot;, &quot;corridor&quot;),
	&quot;71&quot;, (a: &quot;quiet&quot;, &quot;aisle&quot;),
	&quot;81&quot;, (a: &quot;neglected&quot;, &quot;tunnel&quot;),
	&quot;91&quot;, (a: &quot;cool&quot;, &quot;corridor&quot;),
	&quot;100&quot;, (a: &quot;busy&quot;, &quot;street&quot;),
	&quot;101&quot;, (a: &quot;rock brick&quot;, &quot;path&quot;),
	&quot;111&quot;, (a: &quot;sandy&quot;, &quot;passageway&quot;),
	&quot;121&quot;, (a: &quot;sandy&quot;, &quot;passageway&quot;),
	&quot;131&quot;, (a: &quot;curtained&quot;, &quot;hall&quot;),
	&quot;141&quot;, (a: &quot;sumptuous&quot;, &quot;corridor&quot;),
	&quot;151&quot;, (a: &quot;brick&quot;, &quot;alley&quot;),
	&quot;161&quot;, (a: &quot;bustling&quot;, &quot;aisle&quot;),
	&quot;171&quot;, (a: &quot;tranquil&quot;, &quot;aisle&quot;),
	&quot;181&quot;, (a: &quot;tiled&quot;, &quot;corridor&quot;),
	&quot;191&quot;, (a: &quot;cobbled&quot;, &quot;path&quot;),
	&quot;201&quot;, (a: &quot;raised wooden&quot;, &quot;path&quot;),
	&quot;211&quot;, (a: &quot;candlelit&quot;, &quot;path&quot;),
	&quot;221&quot;, (a: &quot;vaulted&quot;, &quot;corridor&quot;),
	&quot;231&quot;, (a: &quot;wooden&quot;, &quot;passage&quot;),
	&quot;241&quot;, (a: &quot;airy&quot;, &quot;corridor&quot;),
	&quot;251&quot;, (a: &quot;rock wall&quot;, &quot;passage&quot;),
	&quot;261&quot;, (a: &quot;dirt&quot;, &quot;roadway&quot;),
	&quot;271&quot;, (a: &quot;tiled&quot;, &quot;path&quot;),
	&quot;281&quot;, (a: &quot;ruined&quot;, &quot;corridor&quot;),
	&quot;291&quot;, (a: &quot;silent&quot;, &quot;path&quot;),
	&quot;301&quot;, (a: &quot;country&quot;, &quot;lane&quot;),
	&quot;311&quot;, (a: &quot;backstage&quot;, &quot;passage&quot;),
	&quot;321&quot;, (a: &quot;pillared&quot;, &quot;arcade&quot;),
	&quot;331&quot;, (a: &quot;moonlit&quot;, &quot;aisle&quot;),
	&quot;341&quot;, (a: &quot;paneled&quot;, &quot;passage&quot;),
	&quot;351&quot;, (a: &quot;muddy&quot;, &quot;trench&quot;),
	&quot;361&quot;, (a: &quot;wooden&quot;, &quot;walkway&quot;),
	&quot;371&quot;, (a: &quot;enclosed&quot;, &quot;path&quot;),
	&quot;381&quot;, (a: &quot;glassy&quot;, &quot;corridor&quot;),
	&quot;391&quot;, (a: &quot;damp&quot;, &quot;passage&quot;),
	&quot;401&quot;, (a: &quot;brambly&quot;, &quot;path&quot;),
	&quot;411&quot;, (a: &quot;dirt&quot;, &quot;thoroughfare&quot;),
	&quot;421&quot;, (a: &quot;&quot;, &quot;aisle of shelves&quot;),
	&quot;431&quot;, (a: &quot;draughty&quot;, &quot;corridor&quot;),
	&quot;441&quot;, (a: &quot;crumbling&quot;, &quot;hallway&quot;),
	&quot;451&quot;, (a: &quot;&quot;, &quot;passage&quot;),
	&quot;461&quot;, (a: &quot;&quot;, &quot;passage&quot;),
	&quot;471&quot;, (a: &quot;abundant and overgrown&quot;, &quot;path&quot;),
	&quot;481&quot;, (a: &quot;trash strewn&quot;, &quot;corridor&quot;),
	&quot;491&quot;, (a: &quot;bone lined&quot;, &quot;passage&quot;),
	&quot;501&quot;, (a: &quot;leafy&quot;, &quot;path&quot;),
	&quot;511&quot;, (a: &quot;muddy&quot;, &quot;thoroughfare&quot;),
	&quot;521&quot;, (a: &quot;cavernous&quot;, &quot;passage&quot;),
	&quot;531&quot;, (a: &quot;glimmering&quot;, &quot;path&quot;),
	&quot;541&quot;, (a: &quot;stone&quot;, &quot;corridor&quot;),
	&quot;551&quot;, (a: &quot;bloody&quot;, &quot;path&quot;),
	&quot;561&quot;, (a: &quot;cavernous&quot;, &quot;passage&quot;),
	&quot;571&quot;, (a: &quot;stone&quot;, &quot;walkway&quot;),
	&quot;581&quot;, (a: &quot;dirty&quot;, &quot;mud-street&quot;),
	&quot;591&quot;, (a: &quot;stinking&quot;, &quot;passage&quot;),
	&quot;601&quot;, (a: &quot;leafy&quot;, &quot;path&quot;),
	&quot;611&quot;, (a: &quot;pungent&quot;, &quot;alley&quot;),
	&quot;621&quot;, (a: &quot;whispering&quot;, &quot;aisle&quot;),
	&quot;631&quot;, (a: &quot;raucous&quot;, &quot;colonade&quot;),
	&quot;641&quot;, (a: &quot;teaming&quot;, &quot;arcade&quot;),
	&quot;651&quot;, (a: &quot;limestone&quot;, &quot;passageway&quot;),
	&quot;661&quot;, (a: &quot;narrow&quot;, &quot;street&quot;),
	&quot;671&quot;, (a: &quot;solemn&quot;, &quot;aisle&quot;),
	&quot;681&quot;, (a: &quot;shadowy&quot;, &quot;alley&quot;),
	&quot;691&quot;, (a: &quot;windy&quot;, &quot;street&quot;),
	&quot;701&quot;, (a: &quot;&quot;, &quot;passage&quot;),
	&quot;711&quot;, (a: &quot;puddled&quot;, &quot;walkway&quot;),
	&quot;721&quot;, (a: &quot;quiet&quot;, &quot;aisle&quot;),
	&quot;731&quot;, (a: &quot;wild&quot;, &quot;path&quot;),
	&quot;741&quot;, (a: &quot;marble&quot;, &quot;corridor&quot;),
	&quot;751&quot;, (a: &quot;functional&quot;, &quot;yard&quot;),
	&quot;761&quot;, (a: &quot;wooden&quot;, &quot;jetty&quot;),
	&quot;771&quot;, (a: &quot;&quot;, &quot;corridor&quot;),
	&quot;781&quot;, (a: &quot;well maintained&quot;, &quot;corridor&quot;),
	&quot;791&quot;, (a: &quot;dark&quot;, &quot;passage&quot;),
	&quot;801&quot;, (a: &quot;swamped&quot;, &quot;path&quot;),
	&quot;811&quot;, (a: &quot;mossy&quot;, &quot;path&quot;),
	&quot;821&quot;, (a: &quot;flooded&quot;, &quot;corridor&quot;),
	&quot;831&quot;, (a: &quot;crooked&quot;, &quot;hallway&quot;),
	&quot;841&quot;, (a: &quot;stone brick&quot;, &quot;passage&quot;),
	&quot;851&quot;, (a: &quot;salty&quot;, &quot;passage&quot;),
	&quot;861&quot;, (a: &quot;misty&quot;, &quot;trail&quot;),
	&quot;871&quot;, (a: &quot;chilly&quot;, &quot;passage&quot;),
	&quot;881&quot;, (a: &quot;brush&quot;, &quot;path&quot;),
	&quot;891&quot;, (a: &quot;putrid&quot;, &quot;canal&quot;),
	&quot;901&quot;, (a: &quot;tortuous&quot;, &quot;path&quot;),
	&quot;911&quot;, (a: &quot;skid marked&quot;, &quot;track&quot;),
	&quot;921&quot;, (a: &quot;snow packed&quot;, &quot;track&quot;),
	&quot;931&quot;, (a: &quot;well tended&quot;, &quot;path&quot;),
	&quot;941&quot;, (a: &quot;vacuumed&quot;, &quot;hallway&quot;),
	&quot;951&quot;, (a: &quot;polished&quot;, &quot;corridor&quot;),
	&quot;961&quot;, (a: &quot;dirt&quot;, &quot;thoroughfare&quot;),
	&quot;971&quot;, (a: &quot;towering&quot;, &quot;aisle&quot;),
	&quot;981&quot;, (a: &quot;striplight&quot;, &quot;corridor&quot;),
	&quot;991&quot;, (a: &quot;&quot;, &quot;ditch&quot;),
	&quot;1001&quot;, (a: &quot;wintry&quot;, &quot;cloister&quot;),
	&quot;1011&quot;, (a: &quot;checkered&quot;, &quot;aisle&quot;),
	&quot;1021&quot;, (a: &quot;ivory&quot;, &quot;corridor&quot;),
	&quot;1031&quot;, (a: &quot;simple&quot;, &quot;passage&quot;),
	&quot;1041&quot;, (a: &quot;vacuumed&quot;, &quot;corridor&quot;),
	&quot;1051&quot;, (a: &quot;clay tiled&quot;, &quot;passage&quot;),
	&quot;1061&quot;, (a: &quot;cold stone&quot;, &quot;passageway&quot;),
	&quot;1071&quot;, (a: &quot;gardened&quot;, &quot;cloister&quot;),
	&quot;1081&quot;, (a: &quot;ruined, overgrown&quot;, &quot;aisle&quot;),
	&quot;1091&quot;, (a: &quot;ominous&quot;, &quot;path&quot;),
	&quot;1101&quot;, (a: &quot;winding&quot;, &quot;path&quot;),
	&quot;1111&quot;, (a: &quot;temporary&quot;, &quot;thoroughfare&quot;),
	&quot;1121&quot;, (a: &quot;echoey&quot;, &quot;corridor&quot;),
	&quot;1131&quot;, (a: &quot;suffocating&quot;, &quot;passageway&quot;),
	&quot;1141&quot;, (a: &quot;temporary&quot;, &quot;thoroughfare&quot;),
	&quot;1151&quot;, (a: &quot;temporary&quot;, &quot;thoroughfare&quot;),
	&quot;1161&quot;, (a: &quot;damp&quot;, &quot;passage&quot;),
	&quot;1171&quot;, (a: &quot;silent&quot;, &quot;passage&quot;),
	&quot;1181&quot;, (a: &quot;forsaken&quot;, &quot;passageway&quot;),
	&quot;1191&quot;, (a: &quot;brittle&quot;, &quot;gangway&quot;),
	&quot;1201&quot;, (a: &quot;flooded&quot;, &quot;waterway&quot;),
	&quot;1211&quot;, (a: &quot;sunny&quot;, &quot;alley&quot;),
	&quot;1221&quot;, (a: &quot;dusty&quot;, &quot;passageway&quot;),
	&quot;1231&quot;, (a: &quot;rubbled&quot;, &quot;street&quot;),
	&quot;1241&quot;, (a: &quot;dirt&quot;, &quot;thoroughfare&quot;),
	&quot;1251&quot;, (a: &quot;anarchic&quot;, &quot;boulevard&quot;),
	&quot;1261&quot;, (a: &quot;defeated&quot;, &quot;vulitsa&quot;),
	&quot;1271&quot;, (a: &quot;snowy&quot;, &quot;pass&quot;),
	&quot;1281&quot;, (a: &quot;makeshift&quot;, &quot;raft&quot;),
	&quot;1291&quot;, (a: &quot;fiery&quot;, &quot;avenue&quot;),
	&quot;1301&quot;, (a: &quot;sunny&quot;, &quot;lane&quot;),
	&quot;1311&quot;, (a: &quot;opulent&quot;, &quot;passage&quot;),
	&quot;1321&quot;, (a: &quot;weathered&quot;, &quot;track&quot;),
	&quot;1331&quot;, (a: &quot;dirt&quot;, &quot;thoroughfare&quot;),
	&quot;1341&quot;, (a: &quot;bumpy&quot;, &quot;lane&quot;),
	&quot;1351&quot;, (a: &quot;grassy&quot;, &quot;opening&quot;),
	&quot;1361&quot;, (a: &quot;narrow&quot;, &quot;hallway&quot;),
	&quot;1371&quot;, (a: &quot;gloomy&quot;, &quot;passage&quot;),
	&quot;1381&quot;, (a: &quot;grimy&quot;, &quot;passage&quot;),
	&quot;1391&quot;, (a: &quot;bloody&quot;, &quot;street&quot;),
	&quot;1401&quot;, (a: &quot;humid&quot;, &quot;trail&quot;),
	&quot;1411&quot;, (a: &quot;rowdy&quot;, &quot;alley&quot;),
	&quot;1421&quot;, (a: &quot;busy&quot;, &quot;street&quot;),
	&quot;1431&quot;, (a: &quot;muddy&quot;, &quot;thoroughfare&quot;),
	&quot;1441&quot;, (a: &quot;angular&quot;, &quot;walkway&quot;),
	&quot;1451&quot;, (a: &quot;smoky&quot;, &quot;rampart&quot;),
	&quot;1461&quot;, (a: &quot;damp&quot;, &quot;corridor&quot;),
	&quot;1471&quot;, (a: &quot;bejeweled&quot;, &quot;hallway&quot;),
	&quot;1481&quot;, (a: &quot;dolorous&quot;, &quot;passage&quot;),
	&quot;1491&quot;, (a: &quot;macabre&quot;, &quot;path&quot;),
	&quot;1501&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1511&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1521&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1531&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1541&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1551&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1561&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1571&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1581&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1591&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1601&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1611&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1621&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1631&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1641&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1651&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1661&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1671&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1681&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1691&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1701&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1711&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1721&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1731&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1741&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1751&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1761&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1771&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1781&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1791&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1801&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1811&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1821&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1831&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1841&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1851&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1861&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1871&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1881&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1891&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1901&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1911&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1921&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1931&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1941&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1951&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1961&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1971&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1981&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1991&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;2001&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;2011&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;2021&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;2031&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;2041&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;2051&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;2061&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;2071&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;2081&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;2091&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;)
	)
	)
	
(set: $roomTerms to (dm: 
	&quot;1&quot;, (a: &quot;fecund&quot;, &quot;plot&quot;),
	&quot;11&quot;, (a: &quot;busy&quot;, &quot;chamber&quot;),
	&quot;21&quot;, (a: &quot;quiet&quot;, &quot;room&quot;),
	&quot;31&quot;, (a: &quot;barrel filled&quot;, &quot;vault&quot;),
	&quot;41&quot;, (a: &quot;sparsely furnished&quot;, &quot;abode&quot;),
	&quot;51&quot;, (a: &quot;well stocked&quot;, &quot;depot&quot;),
	&quot;61&quot;, (a: &quot;uncomfortable&quot;, &quot;cell&quot;),
	&quot;71&quot;, (a: &quot;tranquil&quot;, &quot;sanctum&quot;),
	&quot;81&quot;, (a: &quot;scruffy&quot;, &quot;abode&quot;),
	&quot;91&quot;, (a: &quot;ancient&quot;, &quot;ossuary&quot;),
	&quot;101&quot;, (a: &quot;quiet&quot;, &quot;orchard&quot;),
	&quot;111&quot;, (a: &quot;scorching&quot;, &quot;bowl&quot;),
	&quot;121&quot;, (a: &quot;dusty&quot;, &quot;courtyard&quot;),
	&quot;131&quot;, (a: &quot;lush&quot;, &quot;boudoir&quot;),
	&quot;141&quot;, (a: &quot;palatial&quot;, &quot;room&quot;),
	&quot;151&quot;, (a: &quot;training&quot;, &quot;yard&quot;),
	&quot;161&quot;, (a: &quot;noisy&quot;, &quot;square&quot;),
	&quot;171&quot;, (a: &quot;echoey&quot;, &quot;sanctum&quot;),
	&quot;181&quot;, (a: &quot;operating&quot;, &quot;theater&quot;),
	&quot;191&quot;, (a: &quot;stone&quot;, &quot;mausoleum&quot;),
	&quot;201&quot;, (a: &quot;serene&quot;, &quot;pond&quot;),
	&quot;211&quot;, (a: &quot;babbling&quot;, &quot;square&quot;),
	&quot;221&quot;, (a: &quot;debating&quot;, &quot;hall&quot;),
	&quot;231&quot;, (a: &quot;dancing&quot;, &quot;deck&quot;),
	&quot;241&quot;, (a: &quot;shady&quot;, &quot;room&quot;),
	&quot;251&quot;, (a: &quot;rock brick&quot;, &quot;post&quot;),
	&quot;261&quot;, (a: &quot;dirt&quot;, &quot;square&quot;),
	&quot;271&quot;, (a: &quot;draughty&quot;, &quot;gazebo&quot;),
	&quot;281&quot;, (a: &quot;dilapidated&quot;, &quot;dormitory&quot;),
	&quot;291&quot;, (a: &quot;noiseless&quot;, &quot;plot&quot;),
	&quot;301&quot;, (a: &quot;&quot;, &quot;field tower&quot;),
	&quot;311&quot;, (a: &quot;rehearsal&quot;, &quot;stage&quot;),
	&quot;321&quot;, (a: &quot;marble&quot;, &quot;hall&quot;),
	&quot;331&quot;, (a: &quot;discreet&quot;, &quot;apse&quot;),
	&quot;341&quot;, (a: &quot;musty&quot;, &quot;room&quot;),
	&quot;351&quot;, (a: &quot;blood soaked&quot;, &quot;clearing&quot;),
	&quot;361&quot;, (a: &quot;raised&quot;, &quot;platform&quot;),
	&quot;371&quot;, (a: &quot;hedged&quot;, &quot;yard&quot;),
	&quot;381&quot;, (a: &quot;domed, polished stone&quot;, &quot;shrine&quot;),
	&quot;391&quot;, (a: &quot;half submerged&quot;, &quot;vault&quot;),
	&quot;401&quot;, (a: &quot;verdant&quot;, &quot;clearing&quot;),
	&quot;411&quot;, (a: &quot;ragged&quot;, &quot;tent&quot;),
	&quot;421&quot;, (a: &quot;dilapidated&quot;, &quot;reading room&quot;),
	&quot;431&quot;, (a: &quot;derelict&quot;, &quot;hall&quot;),
	&quot;441&quot;, (a: &quot;dusty&quot;, &quot;room&quot;),
	&quot;451&quot;, (a: &quot;abandoned&quot;, &quot;magazine&quot;),
	&quot;461&quot;, (a: &quot;ruined&quot;, &quot;cell&quot;),
	&quot;471&quot;, (a: &quot;lush and fecund&quot;, &quot;grove&quot;),
	&quot;481&quot;, (a: &quot;disintegrating&quot;, &quot;ward&quot;),
	&quot;491&quot;, (a: &quot;deep&quot;, &quot;shaft&quot;),
	&quot;501&quot;, (a: &quot;shady&quot;, &quot;clearing&quot;),
	&quot;511&quot;, (a: &quot;&quot;, &quot;knight&#39;s tent&quot;),
	&quot;521&quot;, (a: &quot;odorous&quot;, &quot;cavern&quot;),
	&quot;531&quot;, (a: &quot;misty&quot;, &quot;bank&quot;),
	&quot;541&quot;, (a: &quot;stone&quot;, &quot;hall&quot;),
	&quot;551&quot;, (a: &quot;&quot;, &quot;clearing&quot;),
	&quot;561&quot;, (a: &quot;claustrophobic&quot;, &quot;cavern&quot;),
	&quot;571&quot;, (a: &quot;solemn&quot;, &quot;hall&quot;),
	&quot;581&quot;, (a: &quot;dirty&quot;, &quot;square&quot;),
	&quot;591&quot;, (a: &quot;deathly&quot;, &quot;pit&quot;),
	&quot;601&quot;, (a: &quot;aromatic&quot;, &quot;garden&quot;),
	&quot;611&quot;, (a: &quot;smoky&quot;, &quot;bar&quot;),
	&quot;621&quot;, (a: &quot;hidden&quot;, &quot;meeting room&quot;),
	&quot;631&quot;, (a: &quot;rowdy&quot;, &quot;salon&quot;),
	&quot;641&quot;, (a: &quot;bounteous&quot;, &quot;market stall&quot;),
	&quot;651&quot;, (a: &quot;limestone&quot;, &quot;room&quot;),
	&quot;661&quot;, (a: &quot;small&quot;, &quot;shop&quot;),
	&quot;671&quot;, (a: &quot;private&quot;, &quot;musalla&quot;),
	&quot;681&quot;, (a: &quot;silent&quot;, &quot;square&quot;),
	&quot;691&quot;, (a: &quot;crumbling&quot;, &quot;building&quot;),
	&quot;701&quot;, (a: &quot;fearsome&quot;, &quot;display&quot;),
	&quot;711&quot;, (a: &quot;&quot;, &quot;bathing room&quot;),
	&quot;721&quot;, (a: &quot;&quot;, &quot;hall&quot;),
	&quot;731&quot;, (a: &quot;gardened&quot;, &quot;courtyard&quot;),
	&quot;741&quot;, (a: &quot;high&quot;, &quot;chamber&quot;),
	&quot;751&quot;, (a: &quot;basic&quot;, &quot;dormitorium&quot;),
	&quot;761&quot;, (a: &quot;carpented&quot;, &quot;wharf&quot;),
	&quot;771&quot;, (a: &quot;&quot;, &quot;prayer chamber&quot;),
	&quot;781&quot;, (a: &quot;small&quot;, &quot;ward&quot;),
	&quot;791&quot;, (a: &quot;dim&quot;, &quot;chamber&quot;),
	&quot;801&quot;, (a: &quot;&quot;, &quot;clearing in the reeds&quot;),
	&quot;811&quot;, (a: &quot;&quot;, &quot;pond&quot;),
	&quot;821&quot;, (a: &quot;sodden&quot;, &quot;study&quot;),
	&quot;831&quot;, (a: &quot;mysterious&quot;, &quot;study&quot;),
	&quot;841&quot;, (a: &quot;firelit&quot;, &quot;hall&quot;),
	&quot;851&quot;, (a: &quot;draughty&quot;, &quot;hall&quot;),
	&quot;861&quot;, (a: &quot;wild&quot;, &quot;clearing&quot;),
	&quot;871&quot;, (a: &quot;shivery&quot;, &quot;chapel&quot;),
	&quot;881&quot;, (a: &quot;dry&quot;, &quot;island&quot;),
	&quot;891&quot;, (a: &quot;fetid&quot;, &quot;lagoon&quot;),
	&quot;901&quot;, (a: &quot;jagged&quot;, &quot;clearing&quot;),
	&quot;911&quot;, (a: &quot;oily&quot;, &quot;pit garage&quot;),
	&quot;921&quot;, (a: &quot;snowy&quot;, &quot;mountainside&quot;),
	&quot;931&quot;, (a: &quot;flowery&quot;, &quot;courtyard&quot;),
	&quot;941&quot;, (a: &quot;plush&quot;, &quot;penthouse&quot;),
	&quot;951&quot;, (a: &quot;ominous&quot;, &quot;Gerichtssaal&quot;),
	&quot;961&quot;, (a: &quot;spartan&quot;, &quot;Wohnblock&quot;),
	&quot;971&quot;, (a: &quot;tranquil&quot;, &quot;Gebetsraum&quot;),
	&quot;981&quot;, (a: &quot;&quot;, &quot;lab&quot;),
	&quot;991&quot;, (a: &quot;&quot;, &quot;ditch full of bodies&quot;),
	&quot;1001&quot;, (a: &quot;frosty&quot;, &quot;hall&quot;),
	&quot;1011&quot;, (a: &quot;geometrical&quot;, &quot;tower&quot;),
	&quot;1021&quot;, (a: &quot;isolated&quot;, &quot;study&quot;),
	&quot;1031&quot;, (a: &quot;spartan&quot;, &quot;cell&quot;),
	&quot;1041&quot;, (a: &quot;plush&quot;, &quot;prayer room&quot;),
	&quot;1051&quot;, (a: &quot;kata&quot;, &quot;yard&quot;),
	&quot;1061&quot;, (a: &quot;ascetic&quot;, &quot;cell&quot;),
	&quot;1071&quot;, (a: &quot;grassed and flowered&quot;, &quot;courtyard&quot;),
	&quot;1081&quot;, (a: &quot;ruined&quot;, &quot;chapel&quot;),
	&quot;1091&quot;, (a: &quot;baleful&quot;, &quot;arbor&quot;),
	&quot;1101&quot;, (a: &quot;verdant&quot;, &quot;hollow&quot;),
	&quot;1111&quot;, (a: &quot;grassy&quot;, &quot;opening&quot;),
	&quot;1121&quot;, (a: &quot;musty&quot;, &quot;room&quot;),
	&quot;1131&quot;, (a: &quot;small&quot;, &quot;room&quot;),
	&quot;1141&quot;, (a: &quot;makeshift&quot;, &quot;shelter&quot;),
	&quot;1151&quot;, (a: &quot;battered&quot;, &quot;tent&quot;),
	&quot;1161&quot;, (a: &quot;dirty&quot;, &quot;cell&quot;),
	&quot;1171&quot;, (a: &quot;holy&quot;, &quot;septum&quot;),
	&quot;1181&quot;, (a: &quot;deserted&quot;, &quot;hall&quot;),
	&quot;1191&quot;, (a: &quot;broken&quot;, &quot;deck&quot;),
	&quot;1201&quot;, (a: &quot;waterlogged&quot;, &quot;hall&quot;),
	&quot;1211&quot;, (a: &quot;bustling&quot;, &quot;square&quot;),
	&quot;1221&quot;, (a: &quot;dim&quot;, &quot;room&quot;),
	&quot;1231&quot;, (a: &quot;quiet&quot;, &quot;plaza&quot;),
	&quot;1241&quot;, (a: &quot;&quot;, &quot;wagon&quot;),
	&quot;1251&quot;, (a: &quot;warring&quot;, &quot;square&quot;),
	&quot;1261&quot;, (a: &quot;frost kissed&quot;, &quot;square&quot;),
	&quot;1271&quot;, (a: &quot;blizzardy&quot;, &quot;plateau&quot;),
	&quot;1281&quot;, (a: &quot;sinking&quot;, &quot;ship&quot;),
	&quot;1291&quot;, (a: &quot;blazing&quot;, &quot;building&quot;),
	&quot;1301&quot;, (a: &quot;small market&quot;, &quot;square&quot;),
	&quot;1311&quot;, (a: &quot;fabulous&quot;, &quot;hall&quot;),
	&quot;1321&quot;, (a: &quot;misty&quot;, &quot;hollow&quot;),
	&quot;1331&quot;, (a: &quot;draughty&quot;, &quot;tent&quot;),
	&quot;1341&quot;, (a: &quot;small&quot;, &quot;cottage&quot;),
	&quot;1351&quot;, (a: &quot;Scottish&quot;, &quot;schiltron&quot;),
	&quot;1361&quot;, (a: &quot;modest&quot;, &quot;room&quot;),
	&quot;1371&quot;, (a: &quot;simple&quot;, &quot;prayer room&quot;),
	&quot;1381&quot;, (a: &quot;examination&quot;, &quot;room&quot;),
	&quot;1391&quot;, (a: &quot;rowdy&quot;, &quot;square&quot;),
	&quot;1401&quot;, (a: &quot;densely overgrown&quot;, &quot;pond&quot;),
	&quot;1411&quot;, (a: &quot;betting&quot;, &quot;pit&quot;),
	&quot;1421&quot;, (a: &quot;printing&quot;, &quot;room&quot;),
	&quot;1431&quot;, (a: &quot;&quot;, &quot;tent&quot;),
	&quot;1441&quot;, (a: &quot;stepped&quot;, &quot;pyramid&quot;),
	&quot;1451&quot;, (a: &quot;battered&quot;, &quot;tower&quot;),
	&quot;1461&quot;, (a: &quot;cramped&quot;, &quot;cell&quot;),
	&quot;1471&quot;, (a: &quot;opulent&quot;, &quot;nave&quot;),
	&quot;1481&quot;, (a: &quot;dank&quot;, &quot;dungeon&quot;),
	&quot;1491&quot;, (a: &quot;grisly&quot;, &quot;copse&quot;),
	&quot;1501&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1511&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1521&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1531&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1541&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1551&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1561&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1571&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1581&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1591&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1601&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1611&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1621&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1631&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1641&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1651&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1661&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1671&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1681&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1691&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1701&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1711&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1721&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1731&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1741&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1751&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1761&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1771&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1781&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1791&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1801&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1811&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1821&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1831&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1841&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1851&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1861&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1871&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1881&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1891&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1901&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1911&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1921&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1931&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1941&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1951&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1961&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1971&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1981&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1991&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;2001&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;2011&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;2021&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;2031&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;2041&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;2051&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;2061&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;2071&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;2081&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;2091&quot;, (a: &quot;undefined&quot;, &quot;room&quot;)
	)
	)
	

&lt;!--the main sentence says &quot;you are on a __A___ somewhere ___B___&quot;. This provides the language for B. --&gt; 

	
(set: $setLocusPhrase to 
(macro: [
	(if: $thisRoomsNumber &gt; 9)[
		(set: $pathNoun to 2nd of (str: $decadeReference) of $passageTerms)
		(set: $pathAdj to 1st of (str: $decadeReference) of $passageTerms)]
	(else:) [
		(set: $pathNoun to 2nd of (str: $decadeReference) of $roomTerms)
		(set: $pathAdj to 1st of (str: $decadeReference) of $roomTerms)
		]
	(if: $pathAdj is &quot;&quot;) [(set: $pathArticle to (cond: 
		($firstLetterIsVowel:$pathNoun), &quot;an&quot;,
		&quot;a&quot;))]
	(else:)[(set: $pathArticle to (cond: 
		($firstLetterIsVowel:$pathNoun),&quot;an&quot;,
		&quot;a&quot;))]
	($setPathPrep:)
	(output-data: $pathPrep + &quot; &quot; + $pathArticle + &quot; &quot; + $pathAdj + &quot; &quot; + $pathNoun)
	]))
	
&lt;!--encases the locipreps dm to give it a default value of &quot;in&quot; if nothing is specified --&gt; 

(set: $setPathPrep to
(macro: [
	(if: $lociPreps contains $pathNoun)
		[(set: $pathPrep to $pathNoun of $lociPreps)]
	(else:)[(set: $pathPrep to &quot;in&quot;)]
	(output-data: &quot;&quot;)
	]))

&lt;!--______--&gt;
(set: $setRoomPhrase2 to 
(macro: [
	(set: $pathNoun to 2nd of (str: $decadeReference) of $roomTerms)
	(set: $pathAdj to 1st of (str: $decadeReference) of $roomTerms)
	(if: $pathAdj is &quot;&quot;) [(set: $pathArticle to (cond: 
		($firstLetterIsVowel:$pathNoun), &quot;an&quot;,
		&quot;a&quot;))]
	(else:)[(set: $pathArticle to (cond: 
		($firstLetterIsVowel:$pathNoun),&quot;an&quot;,
		&quot;a&quot;))]
	($setPathPrep:)
	(output-data: $pathPrep + &quot; &quot; + $pathArticle + &quot; &quot; + $pathAdj + &quot; &quot; + $pathNoun)
	]))

(set: $setRoomPhrase to 
(macro: [
	($field:)
	(if: $decadeNumber is in $parks)[($park:)]
	(if: $decadeNumber is in $camps)[($camp:)]
	(if: $decadeNumber is in $villages)[($village:)]
	(if: $decadeNumber is in $battlefields)[($battlefield:)]
	(if: $decadeNumber is in $farms)[($farm:)]
	(if: $decadeNumber is in $forests)[($forest:)]
	(if: $decadeNumber is in $mountainsides)[($mountainside:)]
	(if: $decadeNumber is in $cemeteries)[($cemetery:)]
	(if: $decadeNumber is in $barrows)[($barrow:)]
	(if: $decadeNumber is in $caves)[($cave:)]
	(if: $decadeNumber is in $buildings)[($building:)]
	(if: $decadeNumber is in $churches)[($church:)]
	(if: $decadeNumber is in $temples)[($temple:)]
	(if: $decadeNumber is in $mosques)[($mosque:)]
	(if: $decadeNumber is in $mushrooms)[($mushroom:)]
	(if: $decadeNumber is in $brothels)[($brothel:)]
	(if: $decadeNumber is in $jungles)[($jungle:)]
	(if: $decadeNumber is in $hashishQuarters)[($hashishQuarter:)]
	(if: $decadeNumber is in $penalQuarters)[($penalQuarter:)]
	(if: $decadeNumber is in $markets)[($market:)]
	(if: $decadeNumber is in $slaveMarkets)[($slaveMarkets:)]
	(if: $decadeNumber is in $churches)[($church:)]
	(if: $decadeNumber is in $swamps)[($swamp:)]
	(if: $decadeNumber is in $arbors)[($arbor:)]
	(if: $decadeNumber is in $monasteries)[($monastery:)]
		(if: $decadeNumber is in $vestals)[($vestal:)]
	(if: $decadeNumber is in $palaces)[($palace:)]
	(if: $decadeNumber is in $barracks)[($barrack:)]
	(if: $decadeNumber is in $castles)[($castle:)]
	(if: $decadeNumber is in $jails)[($jail:)]
	(if: $decadeNumber is in $inquisitors)[($inquisitor:)]
	(if: $decadeNumber is in $surgeries)[($surgery:)]
	(if: $decadeNumber is in $crypts)[($crypt:)]
	(if: $decadeNumber is in $libraries)[($library:)]
	(if: $decadeNumber is in $schools)[($school:)]
		(if: $decadeNumber is in $courthouses)[($courthouse:)]
			(if: $decadeNumber is in $lakesides)[($lakeside:)]
	(if: $decadeNumber is in $armories)[($armory:)]
	(if: $decadeNumber is in $ships)[($ship:)]
	(if: $decadeNumber is in $hypogea)[($hypogeum:)]
	(if: $decadeNumber is in $menageries)[($menagerie:)]
	(if: $decadeNumber is in $arenas)[($arena:)]
		(if: $decadeNumber is in $fruments)[($frument:)]
			(if: $decadeNumber is in $breweries)[($brewery:)]
				(if: $decadeNumber is in $triclinia)[($triclinium:)]
					(if: $decadeNumber is in $mines)[($mine:)]
	(if: $decadeNumber is in $plaguePits)[($plaguePit:)]
	(output-data: $phrase) 
	]))
	
(set: $setPassagePhrase to 
(macro: [
	(set: $pathNoun to 2nd of (str: $decadeReference) of $passageTerms)
	(set: $pathAdj to 1st of (str: $decadeReference) of $passageTerms)
	(if: $pathAdj is &quot;&quot;) [(set: $pathArticle to (cond: 
		($firstLetterIsVowel:$pathNoun), &quot;an&quot;,
		&quot;a&quot;))]
	(else:)[(set: $pathArticle to (cond: 
		($firstLetterIsVowel:$pathNoun),&quot;an&quot;,
		&quot;a&quot;))]
	($setPathPrep:)
	(output-data: $pathPrep + &quot; &quot; + $pathArticle + &quot; &quot; + $pathAdj + &quot; &quot; + $pathNoun)
	]))
	
(set: $toThePhrase to 
(macro: num-type _roomNumber, [	
	(set: _originalNumber to $roomNumber)
	(set: $roomNumber to _roomNumber)
	($setRoomPhrase:)
	(set: _phrase to &quot; to &quot; +
		$roomAdjective +
		$roomNoun)
	(set: $roomNumber to _originalNumber)
	(output-data: _phrase)
		]
		))
	}
</tw-passagedata><tw-passagedata pid="44" name="random numbers database" tags="startup" position="299,1535" size="100,100">{
&lt;!--Because we need the system to generate the same random palace every time, the random values from one initial run must be stored in a database. This is that database.   --&gt;

(set: $randomMaps to (dm: 
&quot;0&quot;,	(a:13,0,25,22,21,17,0,9,10,19,3,9,16,7,15,14,17,7,4,13,25,12,4,17,4),
&quot;10&quot;,	(a:8,5,24,22,4,8,12,2,0,15,5,0,20,14,8,25,12,19,2,8,11,3,5,21,7),
&quot;20&quot;,	(a:14,20,23,7,22,21,0,0,21,1,15,0,8,24,12,20,0,22,25,7,24,16,24,3,2),
&quot;30&quot;,	(a:17,23,22,23,23,4,19,12,0,4,10,11,21,11,16,1,8,7,4,24,11,4,12,13,15),
&quot;40&quot;,	(a:16,10,7,22,7,23,21,24,21,14,10,0,2,17,23,24,19,20,2,8,11,9,25,16,2),
&quot;50&quot;,	(a:23,2,21,23,9,8,0,17,4,15,17,9,13,24,14,17,20,11,17,15,6,22,2,7,22),
&quot;60&quot;,	(a:14,23,15,0,4,6,15,10,8,11,9,22,15,20,12,21,4,7,10,21,20,7,24,0,12),
&quot;70&quot;,	(a:4,1,17,15,16,24,9,6,23,1,5,16,19,16,12,17,4,10,16,15,1,17,13,18,1),
&quot;80&quot;,	(a:5,18,6,23,4,1,4,11,3,1,15,9,3,20,18,7,13,2,18,16,9,21,12,11,16),
&quot;90&quot;,	(a:3,8,13,7,7,21,3,0,15,5,19,3,16,20,10,17,24,18,24,22,22,13,4,6,25),
&quot;100&quot;,	(a:20,8,10,8,18,2,22,9,11,4,20,3,12,17,20,13,3,5,20,10,8,25,17,22,1),
&quot;110&quot;,	(a:18,16,11,24,15,3,19,5,19,20,20,18,4,16,13,11,2,9,13,22,1,14,25,20,11),
&quot;120&quot;,	(a:6,21,5,15,1,15,7,4,1,17,20,18,12,1,4,3,0,9,12,14,13,22,15,6,11),
&quot;130&quot;,	(a:25,19,19,16,8,20,21,11,3,11,21,20,25,3,6,7,20,5,16,22,21,3,2,13,12),
&quot;140&quot;,	(a:12,25,2,0,1,11,14,22,10,22,17,11,3,17,1,24,21,6,8,17,17,21,19,18,22),
&quot;150&quot;,	(a:17,0,9,14,0,16,15,6,1,23,7,6,24,25,5,6,13,10,14,6,18,23,15,12,5),
&quot;160&quot;,	(a:5,15,10,15,14,2,18,0,14,25,20,17,23,8,11,10,2,14,24,8,1,22,1,22,23),
&quot;170&quot;,	(a:6,13,4,1,6,12,22,22,5,8,6,4,19,16,19,10,13,17,23,19,1,25,1,22,10),
&quot;180&quot;,	(a:13,11,17,0,12,7,24,17,9,4,8,3,13,20,20,10,19,21,5,6,14,18,6,5,19),
&quot;190&quot;,	(a:16,18,25,21,17,15,9,6,16,22,15,21,25,8,7,6,8,23,17,23,7,0,20,15,12),&quot;200&quot;,	(a:20,10,21,6,10,12,14,11,10,23,7,15,22,7,13,11,13,1,0,15,16,1,23,16,6),
&quot;210&quot;,	(a:23,4,4,22,21,1,16,16,19,10,7,24,9,13,7,25,22,16,10,3,18,9,19,18,25),
&quot;220&quot;,	(a:6,1,25,22,0,17,21,18,24,14,14,11,12,17,19,13,6,21,7,15,15,3,21,13,14),
&quot;230&quot;,	(a:23,25,21,23,12,8,2,16,23,4,0,24,21,13,8,16,18,4,2,24,0,1,13,18,6),
&quot;240&quot;,	(a:16,1,9,2,12,23,24,8,14,25,24,14,2,7,2,21,18,11,19,12,8,8,5,19,21),
&quot;250&quot;,	(a:2,6,19,14,21,0,5,17,15,13,13,1,8,25,13,23,4,10,11,11,2,5,2,15,14),
&quot;260&quot;,	(a:3,25,16,22,0,19,13,20,14,12,16,19,23,23,16,0,17,13,12,9,8,16,25,1,25),
&quot;270&quot;,	(a:12,16,16,13,2,13,10,11,21,7,24,2,21,7,15,12,16,3,4,11,5,20,6,2,24),
&quot;280&quot;,	(a:4,21,15,0,9,19,9,25,20,4,3,3,10,3,14,16,22,17,3,13,7,8,22,21,4),
&quot;290&quot;,	(a:9,10,3,15,19,17,24,0,6,13,25,12,3,18,20,3,9,10,21,25,23,22,1,24,9),
&quot;300&quot;,	(a:18,17,21,16,0,25,10,7,0,15,19,20,4,25,8,2,1,10,12,1,21,6,2,21,2),
&quot;310&quot;,	(a:14,24,9,9,7,18,23,21,5,19,20,6,0,21,3,12,15,0,0,20,20,13,10,21,0),
&quot;320&quot;,	(a:10,24,10,14,22,2,17,4,22,2,8,23,24,10,8,3,17,24,19,6,15,9,17,2,6),
&quot;330&quot;,	(a:8,0,1,11,4,12,9,1,3,2,17,11,7,11,18,13,23,2,11,19,18,12,16,20,22),
&quot;340&quot;,	(a:2,2,6,22,13,21,3,12,22,11,25,4,11,2,1,23,14,9,6,0,16,1,16,9,2),
&quot;350&quot;,	(a:5,23,23,16,1,12,24,20,5,18,7,18,6,14,2,6,10,2,4,24,9,7,8,18,0),
&quot;360&quot;,	(a:12,1,25,1,11,0,4,7,3,20,18,7,23,3,5,15,20,9,7,12,22,15,16,11,18),
&quot;370&quot;,	(a:24,14,8,19,11,16,20,13,23,13,3,9,5,21,5,17,22,19,20,9,25,2,23,18,11),
&quot;380&quot;,	(a:18,21,3,25,14,25,20,13,5,1,11,2,3,25,19,2,10,11,17,1,21,1,8,1,11),
&quot;390&quot;,	(a:18,9,24,19,13,0,20,9,25,3,13,0,7,16,0,1,19,12,4,8,12,12,10,18,10),&quot;400&quot;,	(a:15,4,19,17,9,3,5,22,2,2,13,9,8,6,14,19,8,14,3,5,16,19,25,10,2),
&quot;410&quot;,	(a:15,6,22,20,25,23,12,2,4,15,11,11,13,1,8,14,18,16,24,25,13,19,6,21,20),
&quot;420&quot;,	(a:22,23,12,9,9,25,12,9,22,19,23,3,8,25,16,24,24,5,2,23,21,5,20,8,2),
&quot;430&quot;,	(a:14,18,15,8,20,13,1,23,4,3,18,22,12,19,23,12,11,14,1,5,9,22,21,6,17),
&quot;440&quot;,	(a:8,19,7,25,19,21,12,9,12,9,18,23,16,10,17,5,17,2,11,4,12,4,7,23,15),
&quot;450&quot;,	(a:18,5,12,3,22,2,6,23,18,21,24,2,9,25,16,2,13,15,17,22,22,10,10,14,6),
&quot;460&quot;,	(a:5,9,5,23,1,18,22,0,10,1,8,24,17,11,13,25,8,13,14,12,1,21,10,13,24),
&quot;470&quot;,	(a:3,21,24,10,12,3,12,12,1,22,14,17,1,18,23,6,10,10,20,21,4,23,4,18,15),
&quot;480&quot;,	(a:12,7,22,10,17,21,22,18,8,4,6,8,16,3,0,12,5,19,0,6,2,2,3,19,8),
&quot;490&quot;,	(a:5,22,18,8,5,5,7,18,14,2,13,17,22,14,11,21,25,10,1,21,9,7,24,9,21),
&quot;500&quot;,	(a:19,15,7,14,7,12,17,14,20,15,24,4,5,10,3,18,5,7,4,22,20,12,11,12,21),
&quot;510&quot;,	(a:19,14,18,11,10,2,11,11,19,22,3,19,23,6,0,12,9,4,9,20,22,10,5,13,20),
&quot;520&quot;,	(a:23,25,7,5,17,8,0,3,3,17,1,7,14,13,11,17,17,21,18,20,13,20,10,2,15),
&quot;530&quot;,	(a:6,18,25,16,5,24,21,12,21,12,0,4,8,3,15,11,9,14,12,6,14,9,20,14,23),
&quot;540&quot;,	(a:9,25,17,25,1,3,12,20,8,0,1,1,14,8,2,9,18,2,2,19,7,0,6,6,16),
&quot;550&quot;,	(a:11,1,23,25,19,18,1,3,25,12,24,8,24,8,18,20,14,10,17,23,15,6,23,18,24),
&quot;560&quot;,	(a:1,6,22,14,23,1,12,5,13,14,16,4,14,6,25,23,21,20,19,12,2,4,21,15,25),
&quot;570&quot;,	(a:23,13,18,9,16,3,25,13,18,15,13,5,8,6,22,7,9,16,24,1,12,3,7,2,11),
&quot;580&quot;,	(a:18,17,3,5,12,4,25,15,7,24,1,2,0,11,11,9,15,18,9,15,22,20,10,1,5),
&quot;590&quot;,	(a:2,14,8,19,17,23,4,8,4,9,14,24,5,7,4,3,7,2,25,8,13,25,0,5,0),&quot;600&quot;,	(a:3,1,15,22,16,20,2,4,20,25,1,11,9,0,9,3,25,7,11,14,13,8,17,6,0),
&quot;610&quot;,	(a:19,12,25,17,21,16,11,23,14,11,1,5,6,19,19,3,12,10,17,0,15,7,24,9,21),
&quot;620&quot;,	(a:5,15,20,5,19,2,25,20,13,11,25,3,11,13,9,21,2,0,8,19,18,12,19,5,25),
&quot;630&quot;,	(a:20,18,25,18,1,1,6,22,22,20,21,6,15,22,10,18,3,14,13,20,17,15,3,4,25),
&quot;640&quot;,	(a:22,8,12,2,0,18,8,6,23,22,9,18,3,10,17,7,10,1,6,14,0,15,18,20,18),
&quot;650&quot;,	(a:16,20,2,7,6,8,11,2,15,18,16,24,24,7,23,21,25,18,25,17,3,9,23,5,4),
&quot;660&quot;,	(a:21,4,8,25,17,16,14,8,14,5,15,11,9,4,25,1,2,4,9,13,14,5,22,2,16),
&quot;670&quot;,	(a:21,20,15,15,21,2,19,22,13,1,7,2,25,0,7,4,2,22,6,22,16,6,16,13,1),
&quot;680&quot;,	(a:7,24,13,19,25,21,5,9,22,6,10,0,1,20,22,0,20,24,11,11,13,5,13,9,25),
&quot;690&quot;,	(a:6,24,20,11,14,7,21,25,24,15,20,20,15,19,20,1,2,7,18,13,8,14,7,5,22),
&quot;700&quot;,	(a:1,19,21,8,9,23,18,2,13,18,13,21,7,6,25,11,13,4,21,22,6,4,2,20,2),
&quot;710&quot;,	(a:8,22,12,4,1,24,7,15,5,8,10,11,21,17,18,17,1,23,14,21,12,15,21,22,4),
&quot;720&quot;,	(a:7,5,18,24,10,0,25,18,3,2,21,10,22,15,21,25,23,0,8,7,17,22,15,6,7),
&quot;730&quot;,	(a:3,6,12,1,10,2,13,23,14,16,10,11,19,7,0,10,24,10,0,9,0,17,1,20,15),
&quot;740&quot;,	(a:17,19,21,17,4,8,5,19,4,20,3,1,2,6,1,19,11,18,22,22,7,7,18,20,17),
&quot;750&quot;,	(a:4,15,14,23,11,0,0,19,22,7,15,18,0,8,25,4,6,25,8,4,12,1,4,4,23),
&quot;760&quot;,	(a:25,2,2,12,4,5,3,11,1,25,2,3,23,6,25,5,19,12,15,7,9,21,3,1,4),
&quot;770&quot;,	(a:19,12,4,5,22,17,24,18,22,16,2,7,11,3,9,2,1,9,22,10,17,10,23,10,1),
&quot;780&quot;,	(a:4,0,5,13,6,18,2,22,6,12,0,4,13,25,24,0,6,9,2,2,5,19,5,17,16),
&quot;790&quot;,	(a:23,15,24,6,22,1,6,12,7,20,16,24,2,14,14,2,24,25,25,9,24,11,25,3,4),&quot;800&quot;,	(a:24,20,12,11,22,24,12,23,23,0,19,19,21,1,21,11,3,19,17,7,12,21,19,18,23),
&quot;810&quot;,	(a:2,14,16,24,0,21,2,8,23,10,16,17,5,15,7,5,1,12,16,14,9,24,19,11,15),
&quot;820&quot;,	(a:9,17,25,20,0,21,15,9,3,25,19,8,22,19,0,20,2,1,16,20,16,5,23,9,10),
&quot;830&quot;,	(a:19,13,15,13,15,7,15,14,3,19,11,2,22,0,17,10,9,22,17,11,25,18,25,23,24),
&quot;840&quot;,	(a:1,25,3,22,5,15,17,2,12,14,13,13,9,22,13,12,11,17,23,0,24,6,21,8,25),
&quot;850&quot;,	(a:1,14,7,18,10,6,11,20,15,22,20,11,10,18,2,19,11,12,11,14,0,6,17,25,9),
&quot;860&quot;,	(a:5,12,10,19,12,4,6,20,20,18,22,6,14,21,16,9,1,1,16,4,14,10,6,11,15),
&quot;870&quot;,	(a:20,0,6,18,9,24,1,23,9,15,20,9,15,16,19,21,21,8,17,18,25,1,22,1,16),
&quot;880&quot;,	(a:23,16,4,23,4,20,12,16,3,22,12,2,1,18,16,14,8,1,1,0,12,22,25,11,15),
&quot;890&quot;,	(a:5,6,2,11,22,2,6,1,12,16,0,10,11,24,8,3,12,13,3,25,4,21,11,6,1),
&quot;900&quot;,	(a:2,11,11,16,9,20,7,10,3,4,15,5,24,20,5,8,10,18,8,6,12,8,21,9,3),
&quot;910&quot;,	(a:22,6,20,21,22,4,19,11,22,18,19,11,25,10,9,0,9,22,24,14,23,14,23,16,13),
&quot;920&quot;,	(a:7,5,21,6,7,13,19,8,13,12,13,5,13,21,7,11,2,25,12,0,14,23,7,3,11),
&quot;930&quot;,	(a:11,24,16,23,18,20,4,13,5,17,22,18,25,13,2,5,14,25,2,22,2,19,9,21,4),
&quot;940&quot;,	(a:7,8,4,24,24,0,9,24,6,24,18,16,7,5,10,14,23,15,16,5,24,15,5,1,10),
&quot;950&quot;,	(a:22,25,5,20,18,20,12,17,16,5,0,0,18,13,23,18,2,5,6,9,19,24,17,12,25),
&quot;960&quot;,	(a:5,16,13,0,7,8,1,13,9,16,8,22,22,2,17,21,18,24,9,10,2,2,14,18,18),
&quot;970&quot;,	(a:1,24,23,15,21,21,18,8,23,5,18,1,22,24,25,10,20,20,25,23,8,6,21,20,13),
&quot;980&quot;,	(a:9,1,4,3,0,15,6,14,17,5,8,18,3,16,6,7,22,9,20,22,25,19,18,9,9),
&quot;990&quot;,	(a:25,5,23,11,7,7,23,22,12,12,13,3,13,2,10,13,22,7,16,0,21,19,3,9,5),&quot;1000&quot;,	(a:21,19,20,14,8,0,25,15,15,10,22,24,12,20,7,16,3,14,18,24,1,9,17,17,5),
&quot;1010&quot;,	(a:8,18,22,16,11,13,1,12,0,4,25,13,12,8,4,21,15,16,15,0,5,12,22,17,22),
&quot;1020&quot;,	(a:17,13,21,21,8,11,17,3,9,23,4,10,22,19,4,7,21,3,0,18,7,24,16,5,12),
&quot;1030&quot;,	(a:21,16,6,17,21,8,10,23,6,7,20,13,8,11,0,24,6,2,12,9,17,7,7,7,22),
&quot;1040&quot;,	(a:13,2,8,3,22,15,5,1,5,25,1,11,5,23,6,24,11,17,15,7,19,7,17,20,9),
&quot;1050&quot;,	(a:7,6,5,22,5,7,5,25,5,6,4,8,2,9,22,21,16,15,2,19,0,5,25,4,2),
&quot;1060&quot;,	(a:14,23,18,9,21,17,25,13,15,17,17,3,5,3,23,24,23,23,5,18,23,11,21,4,10),
&quot;1070&quot;,	(a:19,17,10,11,22,7,16,15,9,24,24,17,12,20,5,14,8,7,12,7,5,20,13,2,16),
&quot;1080&quot;,	(a:13,21,20,16,11,17,10,0,20,0,5,17,7,23,1,11,20,9,11,12,8,3,18,4,19),
&quot;1090&quot;,	(a:25,14,0,7,8,14,11,18,25,3,24,8,18,0,11,7,20,10,5,6,1,11,2,12,17),
&quot;1100&quot;,	(a:22,15,7,12,1,7,9,2,2,19,20,22,20,11,22,11,12,24,3,6,23,10,9,10,17),
&quot;1110&quot;,	(a:0,6,12,12,14,4,23,23,2,23,1,10,20,0,6,17,4,22,9,3,1,18,16,4,6),
&quot;1120&quot;,	(a:7,0,0,14,10,22,3,20,11,11,6,25,17,25,8,20,18,17,2,14,2,15,25,23,19),
&quot;1130&quot;,	(a:9,6,6,15,17,14,10,12,18,4,4,24,12,8,25,5,18,6,1,19,18,24,0,19,11),
&quot;1140&quot;,	(a:23,7,1,23,18,17,20,23,12,19,3,9,24,13,15,14,14,4,14,1,8,23,20,5,6),
&quot;1150&quot;,	(a:14,13,5,19,12,5,10,25,9,5,8,9,7,12,11,6,0,25,12,25,4,14,24,6,8),
&quot;1160&quot;,	(a:14,18,14,23,21,15,16,1,24,16,16,4,21,6,22,15,14,14,5,1,24,10,5,16,4),
&quot;1170&quot;,	(a:13,8,18,11,21,11,11,23,17,22,25,20,10,8,17,12,5,1,10,4,10,21,9,1,5),
&quot;1180&quot;,	(a:12,8,3,19,0,0,5,3,16,12,24,1,13,4,7,4,16,9,13,11,18,8,3,8,17),
&quot;1190&quot;,	(a:18,18,10,20,13,25,8,8,12,16,20,21,21,13,17,6,11,13,12,13,2,11,22,7,0),&quot;1200&quot;,	(a:3,23,3,19,13,2,11,14,12,2,9,17,16,22,13,17,10,4,4,7,4,20,9,15,14),
&quot;1210&quot;,	(a:0,6,4,14,21,6,24,23,5,6,15,8,4,9,6,9,22,19,17,21,10,4,7,11,5),
&quot;1220&quot;,	(a:3,7,13,4,23,16,13,20,6,2,8,6,1,21,10,15,11,10,11,24,15,16,5,5,13),
&quot;1230&quot;,	(a:11,23,24,20,10,15,3,21,6,11,3,15,16,16,20,0,20,15,15,10,24,14,16,17,17),
&quot;1240&quot;,	(a:22,7,17,13,19,0,11,3,22,5,22,19,24,14,20,17,22,15,24,21,6,5,19,19,23),
&quot;1250&quot;,	(a:0,5,17,5,23,8,19,4,13,22,21,3,18,23,14,18,25,2,15,6,16,20,18,23,8),
&quot;1260&quot;,	(a:20,14,16,10,16,11,14,3,16,15,3,25,0,6,0,8,18,3,4,15,14,12,1,5,9),
&quot;1270&quot;,	(a:14,6,24,5,14,9,12,3,19,17,6,23,7,9,21,18,22,3,5,21,25,20,24,21,25),
&quot;1280&quot;,	(a:9,10,9,6,18,4,12,23,5,3,14,3,9,0,4,2,6,1,9,3,24,5,14,23,22),
&quot;1290&quot;,	(a:9,13,19,23,20,5,5,8,18,19,1,8,2,8,8,4,7,17,18,10,9,25,24,1,13),
&quot;1300&quot;,	(a:15,0,5,22,17,9,12,3,9,0,23,8,4,6,2,7,25,15,15,4,19,8,3,3,5),
&quot;1310&quot;,	(a:7,15,5,25,1,12,2,15,1,7,19,7,14,1,22,17,2,15,14,23,7,23,19,21,14),
&quot;1320&quot;,	(a:16,8,5,5,15,0,8,16,14,23,20,23,12,1,1,7,21,11,22,14,16,14,10,17,18),
&quot;1330&quot;,	(a:13,16,19,21,8,6,25,14,8,1,22,9,5,6,10,20,7,10,23,5,25,15,10,19,24),
&quot;1340&quot;,	(a:10,17,20,6,15,25,3,14,21,8,3,5,15,18,16,16,17,6,16,3,13,25,8,5,4),
&quot;1350&quot;,	(a:4,6,8,10,18,15,17,5,2,21,16,14,12,3,12,10,2,4,4,7,7,12,9,5,20),
&quot;1360&quot;,	(a:0,0,9,23,8,8,17,17,2,3,25,18,15,18,19,22,14,0,0,21,3,16,7,1,15),
&quot;1370&quot;,	(a:12,11,25,6,16,2,1,13,11,4,2,22,23,4,11,12,21,25,23,11,12,24,19,10,22),
&quot;1380&quot;,	(a:18,15,17,0,24,15,23,22,8,20,25,17,3,1,15,14,9,9,25,11,7,17,18,23,7),
&quot;1390&quot;,	(a:13,22,11,17,21,21,8,11,22,12,15,2,19,9,23,7,3,1,12,13,19,9,0,18,10),&quot;1400&quot;,	(a:15,20,16,23,6,5,2,5,1,8,24,1,23,24,15,1,17,14,0,6,1,6,0,24,11),
&quot;1410&quot;,	(a:6,16,25,1,11,8,19,18,24,24,14,20,2,18,20,23,8,23,3,16,23,11,23,21,13),
&quot;1420&quot;,	(a:0,5,21,16,16,25,25,22,25,13,1,13,3,6,8,11,13,24,12,9,18,16,21,17,18),
&quot;1430&quot;,	(a:19,14,19,18,24,19,21,9,13,20,17,16,22,0,6,23,11,9,8,9,17,21,5,9,12),
&quot;1440&quot;,	(a:10,1,22,24,12,5,12,19,25,17,14,4,9,0,21,5,8,1,0,8,21,22,24,6,3),
&quot;1450&quot;,	(a:0,25,17,24,21,16,21,5,13,4,5,15,8,17,4,10,10,24,15,5,10,4,6,14,1),
&quot;1460&quot;,	(a:25,7,16,8,17,9,4,20,11,25,3,10,10,20,21,22,8,5,13,2,19,1,23,18,25),
&quot;1470&quot;,	(a:19,15,16,6,1,4,10,22,9,16,8,8,10,20,11,6,24,14,19,15,9,25,12,3,6),
&quot;1480&quot;,	(a:3,2,21,14,19,19,10,9,3,10,16,23,17,20,24,3,14,19,1,24,1,12,4,13,7),
&quot;1490&quot;,	(a:23,19,24,21,14,18,21,17,6,4,3,14,16,19,19,21,19,13,23,1,5,13,2,20,5),
&quot;1500&quot;,	(a:9,2,9,9,1,13,1,7,1,18,15,7,6,0,3,13,14,3,1,2,7,0,12,9,15),
&quot;1510&quot;,	(a:13,10,16,16,20,0,16,0,3,14,5,17,22,16,12,17,14,0,25,12,10,14,11,21,10),
&quot;1520&quot;,	(a:9,10,7,19,1,17,12,10,10,19,19,8,5,25,19,21,13,1,12,18,1,17,2,15,25),
&quot;1530&quot;,	(a:11,12,11,17,8,16,9,19,1,25,9,12,1,24,3,12,1,24,6,9,7,22,25,17,23),
&quot;1540&quot;,	(a:7,19,25,2,24,12,11,1,16,7,18,11,12,16,17,24,22,0,2,6,25,22,2,11,4),
&quot;1550&quot;,	(a:20,15,12,20,15,5,10,17,13,25,13,18,22,25,5,12,4,19,11,6,7,22,11,13,23),
&quot;1560&quot;,	(a:19,11,13,13,12,23,21,10,24,23,4,6,16,13,16,10,7,19,0,21,15,4,23,8,0),
&quot;1570&quot;,	(a:22,0,14,16,24,22,23,3,17,17,16,13,19,24,0,7,10,10,25,2,22,14,3,6,7),
&quot;1580&quot;,	(a:4,6,12,25,24,12,1,24,1,9,1,9,12,15,16,9,0,0,8,9,18,11,17,5,22),
&quot;1590&quot;,	(a:7,22,14,8,4,17,21,0,9,1,23,13,17,9,22,14,24,9,3,15,8,5,5,2,0),&quot;1600&quot;,	(a:2,20,20,22,11,17,5,2,11,22,0,12,18,6,7,12,7,16,19,2,23,9,24,17,23),
&quot;1610&quot;,	(a:15,24,25,3,15,11,21,15,10,23,21,25,13,24,2,13,17,3,7,18,4,15,13,12,11),
&quot;1620&quot;,	(a:18,24,6,11,25,4,19,4,13,9,4,20,2,22,18,6,22,19,12,12,2,14,5,16,0),
&quot;1630&quot;,	(a:18,24,20,4,16,3,22,13,8,17,6,16,12,23,15,13,3,10,10,7,14,4,13,25,7),
&quot;1640&quot;,	(a:2,9,23,10,12,2,21,16,20,14,14,13,8,19,18,16,2,5,22,16,17,22,9,16,0),
&quot;1650&quot;,	(a:9,19,12,4,6,20,21,20,18,13,11,15,20,23,23,15,15,20,3,0,17,3,20,9,0),
&quot;1660&quot;,	(a:7,15,7,15,7,5,0,19,24,6,10,22,23,5,12,9,0,8,7,18,19,22,7,22,13),
&quot;1670&quot;,	(a:8,25,7,17,24,18,22,17,3,5,6,5,19,8,16,24,12,12,2,24,24,25,20,10,25),
&quot;1680&quot;,	(a:18,2,6,23,0,18,21,23,18,15,22,16,7,25,4,1,20,24,20,7,8,18,1,16,25),
&quot;1690&quot;,	(a:23,23,19,7,18,19,15,7,2,21,17,2,24,7,19,7,23,0,20,1,12,18,22,19,4),
&quot;1700&quot;,	(a:22,0,21,24,1,3,3,18,23,23,24,18,13,3,14,11,1,20,5,20,7,19,19,12,2),
&quot;1710&quot;,	(a:1,2,22,16,9,7,7,8,8,10,17,17,8,1,17,20,6,11,12,25,4,23,21,13,23),
&quot;1720&quot;,	(a:25,5,24,14,5,3,19,6,22,1,16,6,14,24,8,24,0,14,19,12,1,19,3,8,12),
&quot;1730&quot;,	(a:17,4,1,7,20,11,15,1,13,15,21,14,10,10,0,2,9,17,0,17,10,6,22,23,10),
&quot;1740&quot;,	(a:0,14,15,15,20,7,19,15,10,24,2,10,0,13,24,24,7,5,2,13,20,0,1,7,20),
&quot;1750&quot;,	(a:16,4,2,7,14,14,17,25,21,16,10,9,24,8,5,0,7,17,2,0,0,25,1,5,4),
&quot;1760&quot;,	(a:16,14,16,16,1,4,19,12,19,15,2,18,0,3,17,7,0,5,1,7,7,19,1,21,24),
&quot;1770&quot;,	(a:2,17,14,12,25,1,20,21,4,13,9,24,12,25,10,24,7,14,6,15,20,11,7,2,16),
&quot;1780&quot;,	(a:16,12,4,17,12,24,9,17,15,16,5,1,19,3,20,1,24,25,14,1,1,13,20,5,7),
&quot;1790&quot;,	(a:2,22,19,24,24,16,0,16,10,10,19,2,18,19,25,4,12,10,5,3,7,14,17,10,7),
&quot;1800&quot;,	(a:20,25,21,8,13,0,23,1,17,9,20,11,1,23,9,20,15,16,13,15,20,15,11,12,5),
&quot;1810&quot;,	(a:17,9,19,14,15,5,13,0,4,6,14,13,23,9,23,3,7,11,11,8,6,11,25,18,15),
&quot;1820&quot;,	(a:25,18,11,12,25,13,8,14,13,4,23,25,16,25,0,0,19,22,17,6,21,14,9,10,4),
&quot;1830&quot;,	(a:11,14,6,0,17,4,2,21,18,25,15,8,10,14,0,21,23,8,7,21,22,24,23,6,24),
&quot;1840&quot;,	(a:16,9,19,11,23,3,18,11,2,2,25,8,4,12,1,17,25,21,6,13,5,15,13,19,18),
&quot;1850&quot;,	(a:23,23,9,20,14,4,16,9,10,8,24,20,10,3,3,19,20,22,23,9,6,12,16,12,21),
&quot;1860&quot;,	(a:3,2,5,15,6,17,23,7,12,12,18,16,13,14,19,13,1,11,1,8,5,7,4,20,9),
&quot;1870&quot;,	(a:21,19,8,1,5,22,20,7,11,11,14,8,15,13,9,3,18,20,13,13,1,20,10,0,6),
&quot;1880&quot;,	(a:18,4,5,5,6,11,16,22,6,11,8,7,17,19,18,3,1,5,22,12,2,14,25,9,17),
&quot;1890&quot;,	(a:18,16,0,7,25,0,20,5,15,9,24,2,9,4,17,22,15,1,24,13,0,11,10,12,21),
&quot;1900&quot;,	(a:16,18,18,7,1,15,1,24,14,25,10,3,5,8,23,22,23,4,11,22,9,21,13,6,19),
&quot;1910&quot;,	(a:19,1,23,17,21,21,16,3,22,24,21,11,24,8,17,7,14,17,6,20,18,23,16,8,6),
&quot;1920&quot;,	(a:2,11,2,15,3,2,12,8,22,22,13,4,5,25,3,1,3,6,11,6,5,17,11,17,11),
&quot;1930&quot;,	(a:7,17,6,7,13,0,21,14,6,6,17,10,13,20,13,10,21,10,4,16,22,8,0,25,5),
&quot;1940&quot;,	(a:11,17,2,21,9,16,7,2,24,17,18,21,16,11,13,21,12,2,22,0,3,25,13,1,3),
&quot;1950&quot;,	(a:16,22,20,3,18,14,4,12,9,3,0,11,9,4,3,24,21,18,24,15,14,15,17,8,21),
&quot;1960&quot;,	(a:15,2,0,4,14,9,16,3,22,4,15,11,14,15,13,18,15,22,17,12,10,25,5,0,20),
&quot;1970&quot;,	(a:4,5,11,3,23,4,23,20,9,7,13,25,9,5,10,18,14,12,21,19,0,7,19,20,9),
&quot;1980&quot;,	(a:20,12,24,20,9,11,21,11,15,15,23,1,11,23,2,20,9,13,21,6,12,8,0,15,0),
&quot;1990&quot;,	(a:20,13,5,7,6,21,9,25,4,17,13,23,0,2,18,13,20,24,5,0,24,20,7,20,0),&quot;2000&quot;,	(a:10,15,15,9,17,15,14,23,19,25,13,1,22,14,4,13,18,1,25,6,4,2,13,24,20),
&quot;2010&quot;,	(a:14,19,7,24,19,0,0,0,22,24,10,20,19,18,16,5,8,14,18,18,21,3,6,10,19),
&quot;2020&quot;,	(a:23,8,24,10,13,0,9,13,24,11,11,16,10,14,13,2,14,21,2,23,10,17,12,0,7),
&quot;2030&quot;,	(a:17,4,4,10,14,13,9,22,5,25,14,5,23,12,19,9,14,10,17,2,11,4,11,4,23),
&quot;2040&quot;,	(a:10,15,17,0,4,23,18,9,25,13,0,20,20,22,4,9,14,0,11,13,21,1,23,4,6),
&quot;2050&quot;,	(a:10,2,9,16,9,12,17,11,1,9,3,1,22,2,2,21,11,21,14,23,10,12,0,8,12),
&quot;2060&quot;,	(a:19,24,8,4,2,20,7,19,18,9,4,10,16,0,21,25,5,22,4,19,18,25,3,11,21),
&quot;2070&quot;,	(a:24,9,18,19,2,11,25,3,8,4,23,1,8,23,22,9,2,18,4,23,12,16,3,14,21),
&quot;2080&quot;,	(a:17,15,11,6,9,14,0,1,8,10,10,24,5,9,24,25,11,3,15,5,16,9,5,15,2),
&quot;2090&quot;,	(a:22,20,18,6,12,6,15,1,7,2,1,1,22,10,14,3,15,3,22,19,1,7,20,3,24)
))

}
</tw-passagedata><tw-passagedata pid="45" name="random number ops" tags="startup" position="163,1536" size="100,100">{
(set: $seedIndex to 1)
(set: $seedIndex20 to 1)
(set: $seedIndex25 to 1)

&lt;!--the system needs &quot;stable random numbers&quot;, i.e. randomly generated numbers that return the same numbers every run time.--&gt;

&lt;!--returns a stable random value using the argument as a limit. essentially replaces the random function from Harlowe--&gt;	
	
(set: $srandom to 
(macro: num-type _limit, [
	(if: _limit &gt; 19)
		[(error:&quot;$srandom cannot accept argument &gt;19&quot;)]
	(set: _starter to (nth: $seedIndex, ...$randomSeed))
	(if: $seedIndex &gt; 40) [(set: $seedIndex to 1)]
	(else:) [(set: $seedIndex +=1)]
	(set: _x to _limit +1)
	($mod: _starter, _x)
	(output-data: $modulus)
	]))	
	
(set: $getBinaryValue to (macro: [
	(set: _output to (nth: $seedIndex, 0,1,0,0,1,0,1,0,0,0,1,1,1,0,1,0,0))
	(if: $seedIndex &gt; 20) [(set: $seedIndex to 1)]
	(else:) [(set: $seedIndex +=1)]
	(output-data: _output)]))

(set: $getStableRandom20 to (macro: [
	(set: _output to (nth: $seedIndex20, ...$randomSeed))
	(if: $seedIndex &gt; 20) [(set: $seedIndex to 1)]
	(set: $seedIndex20 +=1)
	(output-data: _output)]))
	

(set: $mod to 
(macro: num-type _dividend, num-type _divisor, [
	(if: _divisor &lt; 0) [(error: &quot;divisor less than 0&quot;)]
	(if: _dividend &lt; 0) [(error: &quot;dividend less than 0&quot;)]
	(if: _divisor is 0) [(set: $modulus to 0)] 
	(else:)[
	(if: _divisor &gt; _dividend)[(set: $modulus to _dividend)]
	(else:) [($mod: _dividend - _divisor, _divisor)]
	]
	(output-data:&quot;&quot;) 
	]))
	
	


	

	
&lt;!--sets a stable random value from the range -1, 0, 1.--&gt;
(set: $getTernaryValue to (macro: [
	(set: _output to (nth: $seedIndex, 0,-1,0,1,-1,0,1,1,0,-1,1,1,-1,1,1,1,0))
	(if: $seedIndex &gt; 20) [(set: $seedIndex to 1)]
	(else:) [(set: $seedIndex +=1)]
	(output-data: _output)]))
		

}</tw-passagedata><tw-passagedata pid="46" name="srandom test" tags="" position="74,1680" size="100,100">(set: $randomSeed to (str: 30) of $randomMaps)
(set: $xoij to ($srandom: 1))
$xoij
(set: $xoij to ($srandom: 1))
$xoij
(set: $xoij to ($srandom: 1))
$xoij
(set: $xoij to ($srandom: 1))
$xoij
(set: $xoij to ($srandom: 1))
$xoij
(set: $xoij to ($srandom: 1))
$xoij
(set: $xoij to ($srandom: 1))
$xoij
(set: $xoij to ($srandom: 1))
$xoij
(set: $xoij to ($srandom: 1))
$xoij
(set: $xoij to ($srandom: 1))
$xoij
(set: $xoij to ($srandom: 1))
$xoij
(set: $xoij to ($srandom: 1))
$xoij
(set: $xoij to ($srandom: 1))
$xoij
(set: $xoij to ($srandom: 1))
$xoij
(set: $xoij to ($srandom: 1))
$xoij
(set: $xoij to ($srandom: 1))
$xoij
(set: $xoij to ($srandom: 1))
$xoij</tw-passagedata><tw-passagedata pid="47" name="port2" tags="" position="1130,1357" size="100,100">{
(if: $floorInt is 11)[&lt;script&gt;CustomScripts.updateBackground(1133);&lt;/script&gt;]
}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[You arrive at the buzzing port of La Rochelle, where merchants sail to England and points south. Fishermen carry teeming baskets of fish from the ocean and the sea air is skewered by the shrieks of hungry gulls. (if: $homeCity is &quot;Bishop&#39;s Lynn&quot;)[Before you can even find your bearings, rough men bundle you into a prison carriage. You learn you have been summoned to the court of Eleanor of Aquitaine at [[Poitiers-&gt;Poitiers]].(set: $homeCity to &quot;La Rochelle&quot;)(set: $foreignCity to &quot;Bishop&#39;s Lynn&quot;)] (else:) [A ship is sailing for Bishop&#39;s Lynn in The Wash. You may [[take it-&gt;atSea]] if you wish, or head back to [[Poitiers-&gt;Poitiers]].]
]</tw-passagedata><tw-passagedata pid="48" name="Poitiers" tags="" position="1262,1357" size="100,100">{(if: $floorInt is 11)[&lt;script&gt;CustomScripts.updateBackground(1131);&lt;/script&gt;]
(if: $downOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 3&quot;)]
(if: $upOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 0&quot;)]
(if: $rightOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 8&quot;)]
(if: $leftOnScreen is $leftOnNexusMap)[(set: $startRoom to &quot;room 5&quot;)]
}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[(if: $floorInt is 11)[You are somewhere in the Maubergeonne Tower in Poitiers, where Eleanor of Aquitaine presides over matters of fidelity and marriage. To [[explore the tower-&gt;$startRoom]] you must go $rightOnNexusMap. Or you may head [[back to La Rochelle-&gt;port2]] to seek a ship back to England.]
]</tw-passagedata><tw-passagedata pid="49" name="atSea" tags="" position="995,1355" size="100,100">(if: $floorInt is 11)[&lt;script&gt;CustomScripts.updateBackground(1134);&lt;/script&gt;]
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[(if: $floorInt is 11) [You are sailing the rough seas from $homeCity to $foreignCity. At last, after three days of travel, you weigh anchor at (if: $foreignCity is &quot;La Rochelle&quot;)[[[La Rochelle-&gt;port2]].](else:)[[[Bishop&#39;s Lynn-&gt;port1]](set: $homeCity to &quot;Bishop&#39;s Lynn&quot;)(set: $foreignCity to &quot;La Rochelle&quot;).]]
]</tw-passagedata><tw-passagedata pid="50" name="port1" tags="" position="849,1349" size="100,100">(if: $floorInt is 11)[&lt;script&gt;CustomScripts.updateBackground(1132);&lt;/script&gt;]
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[(if: $floorInt is 11) [You are at the dockside at the murky port of Bishop&#39;s Lynn. It is late. The fishermen and merchants have long since unloaded their boats and only thieves prowl the streets beside the wharf. You may climb aboard [[a lonely ship-&gt;atSea]] that has been unexpectedly delayed and which soon sets sail for La Rochelle. Alternatively, you may head inland towards [[Sherwood Forest-&gt;complex three]].]
]</tw-passagedata><tw-passagedata pid="51" name="Untitled Passage" tags="" position="38,938" size="100,100">(set: $rotate90up to 
	(macro: str-type _direction, [
		(set: _output to (cond: 
			_direction is $upOnScreen, $upVariable,
			_direction is $upVariable, $downOnScreen,
			_direction is $downOnScreen, $downVariable,
			_direction is $downVariable, $upOnScreen,
			&quot;error: rotate90up received direction of wrong form&quot;
			))
		(output-data: _output)
		]
		))
		
(set: $setTowerVariables to 
(macro: [
	(set: $upOnScreen to $upOnScreen)
	(set: $downOnScreen2 to $downOnScreen)
	(set: $rightOnScreen2 to $rightOnScreen)
	(set: $leftOnScreen2 to $leftOnScreen)
	(set: _x to ($srandom: 3))
	(if: _x is even)[
		(set: $upOnScreen2 to ($rotate45: $upOnScreen))
		(set: $downOnScreen2 to ($rotate45: $downOnScreen))
		]
	(if: _x &gt; 1) [
		(set: $rightOnScreen2 to ($rotate45: $rightOnScreen))
		(set: $leftOnScreen2 to ($rotate45: $leftOnScreen))
		]

	(output-data: &quot;&quot;)
	]))


(set: $setTowerVariables to 
(macro: [
	(set: $upOnScreen2 to $upOnScreen)
	(set: $downOnScreen2 to $downOnScreen)
	(set: $rightOnScreen2 to $rightOnScreen)
	(set: $leftOnScreen2 to $leftOnScreen)
	(set: _x to ($srandom: 1))
	(if: _x is 0)[
		(set: $upVariable to $upOnScreen)
		(set: $upOnScreen to $downVariable)
		(set: $downVariable to $downOnScreen)
		(set: $downOnScreen to $upVariable)
		]
	(if: _x is 1)[
		(set: $upVariable to $rightOnScreen)
		(set: $rightOnScreen to $downVariable)
		(set: $downVariable to $leftOnScreen)
		(set: $leftOnScreen to $upVariable)
		]
	(output-data: &quot;&quot;)
	]))</tw-passagedata><tw-passagedata pid="52" name="wreckStory" tags="" position="488,2226" size="100,100">{(set: $japanBattle to &quot;inbound&quot;)
(if: $floorInt is 12)[&lt;script&gt;CustomScripts.updateBackground(1281);&lt;/script&gt;]}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[The battle off the coast of Japan is going well for the Mongols when, unexpectedly, a typhoon sweeps in. Tempest tossed, your ship is breaking into pieces! You can [[swim for another boat-&gt;$startRoom]] or [[swim back to the coast-&gt;complex eight]]. 
]</tw-passagedata><tw-passagedata pid="53" name="burning merv" tags="" position="290,1919" size="100,100">{(set: $mervDirection to &quot;outbound&quot;)
(if: $floorInt is 12)[&lt;script&gt;CustomScripts.updateBackground(1293);&lt;/script&gt;]
}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[You enter the city. At first it seems deserted, but then you see a dead body, and another, and another. A moment later you smell burning. Turning, you see several buildings on fire, and more fiery arrows tracing arcs through the sky. You may turn to [[hurry back-&gt;complex nine]] the way you came, or you can [[continue to explore-&gt;$startRoom]] despite the fires.  
]</tw-passagedata><tw-passagedata pid="54" name="environments" tags="" position="67,803" size="100,100">{
(set: $roomAdjective to &quot;a &quot;)
(set: $forests to (a:400,500,860,900,1100,1320,1490))
(set: $jungles to (a:1400))
(set: $mountainsides to (a: 920,1270))
(set: $villages to (a: 260,580,660,690,1200,1210,1230,1250,1260,1290,1340,1390,1420,1440))
(set: $hashishQuarters to (a:610))
(set: $penalQuarters to (a: 680))
(set: $markets to (a:640))
(set: $slaveMarkets to (a:160,760))
(set: $churches to (a: 70,380,770,870,970,1000,1010,1020,1030,1040,1060,1070,1080,1170,1370,1470))
(set: $camps to (a:210,410,510,960,990,1110,1140,1150,1240,1330,1430))
(set: $swamps to (a:800,810,880,890))
(set: $parks to (a: 0,100,200,370,470))
(set: $arbors to (a:1090))
(set: $caves to (a: 560))
(set: $cemeteries to (a: 190,290))
(set: $barrows to (a:590))
(set: $battlefields to (a: 350,550,1350,1450))
(set: $farms to (a:300,600,1300)) 
(set: $buildings to (a:40,80,140,240,340,440,520,730,830,940,1220,1360))
(set: $temples to (a:170,270,430))
(set: $mosques to (a:670))
(set: $monasteries to (a:930,1030))
(set: $vestals to (a:130))

(set: $brothels to (a:230))
(set: $palaces to (a:570,630,740,850,1130,1310))
(set: $barracks to (a: 120,150,250,750,1050,1120))
(set: $castles to (a:540,650,840,1180))
(set: $jails to (a:60,460,1160,1460))
(set: $inquisitors to (a:1480))
(set: $surgeries to (a:180,280,480,780,980,1380))
(set: $crypts to (a:90,390,490,790))
(set: $libraries to (a:420,620,720,820))
(set: $schools to (a:220,320))
(set: $courthouses to (a:950))
(set: $lakesides to (a:530))
(set: $armories to (a: 50,450))
(set: $ships to (a: 1190,1280))
(set: $hypogea to (a:10))
(set: $menageries to (a:700))
(set: $arenas to (a:110,310,910,1110,1410))
(set: $fruments to (a:20))
(set: $breweries to (a:30))
(set: $triclinia to (a:330))
(set: $mines to(a:360))
(set: $plaguePits to(a:490))

(set: $hypogeum to 
(macro: [	
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;the &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;winch room&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;chamber of the balatrones&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $roomAdjective to &quot;the &quot;)(set: $phrase to _prep + $roomAdjective + &quot;chamber of the master of ceremonies&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;chamber of the Pantomimi&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;basement area&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;gladiator&#39;s chamber&quot;)]
		(if: $thisRoomsNumber is 6) [(set: _prep to &quot;amongst &quot;)(set: $phrase to _prep + $roomAdjective + &quot;caged beasts&quot;)]
		(if: $thisRoomsNumber is 7) [(set: _prep to &quot;amongst &quot;)(set: $phrase to _prep + $roomAdjective + &quot;shackled Christians&quot;)]
		(if: $thisRoomsNumber is 8) [(set: _prep to &quot;amongst &quot;)(set: $phrase to _prep + $roomAdjective + &quot;wounded gladiators&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;morgue&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $brewery to 
(macro: [	
	($building:)
	(set: _prep to &quot;by &quot;)
	(set: $roomAdjective to &quot;the &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;stills&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;wine barrels&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;beer barrels&quot;)]
		(if: $thisRoomsNumber is 6) [(set: _prep to &quot;amongst &quot;)(set: $phrase to _prep + $roomAdjective + &quot;secret brew&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;slop bucket&quot;)]
		(output-data: &quot;&quot;)
		]
		))

(set: $arena to 
(macro: [	
	(set: _prep to &quot;at &quot;)
	(set: $roomAdjective to &quot;the &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;beginner&#39;s competition area&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;practice area&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;coach&#39;s bench&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;cheerleader&#39;s bench&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;competitor&#39;s bench&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;competition space&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;sin bin&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;religious shrine&quot;)]
		(if: $thisRoomsNumber is 8) [(set: _prep to &quot;in &quot;)(set: $phrase to _prep + $roomAdjective + &quot;injury tent&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;morgue&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $armory to 
(macro: [	
	(set: _prep to &quot;in &quot;)
	(if: $decadeNumber is 400)[(set: $roomAdjective to &quot;a looted &quot;)]
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;dormitory&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;practice yard&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;military library&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;heraldry room&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;armor and light weaponry magazine&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;heavy weaponry magazine&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;brig&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;prayer room&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;repair shop&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;decommissioning room&quot;)]
		(output-data: &quot;&quot;)
		]
		))

(set: $field to 
(macro: [	
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;blackened, burned field&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;meadow of white flowers&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;pasture of pink carnations&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;red poppy field&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;field of purple lilacs&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;bluebell field&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;field of cyan lotus flowers&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;meadow of green grass&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;yellow field of wheat&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;muddy field&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $plaguePit to 
(macro: [	
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 0) [(set: _prep to &quot;within &quot;)(set: $roomAdjective to &quot;&quot;)(set: $phrase to _prep + $roomAdjective + &quot;walls of fungus covered corpses&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;buried play-park&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;buried school for children&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;chamber of dead nuns&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;buried market&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;chamber of dead soldiers&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + &quot;subterranean, walled-up&quot; + &quot;street&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + &quot;collapsed, subterranean&quot; + &quot;chapel&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;chamber of partial bodies&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;repository for random bones and partial human remains&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $ship to 
(macro: [	
	(set: _prep to &quot;on &quot;)
	(set: $roomAdjective to &quot;the &quot;)
		(if: $thisRoomsNumber is 0) [(set: _prep to &quot;below &quot;)(set: $roomAdjective to &quot; &quot;)(set: $phrase to _prep + $roomAdjective + &quot;deck&quot;)]
		(if: $thisRoomsNumber is 1) [(set: _prep to &quot;in &quot;)(set: $phrase to _prep + $roomAdjective + &quot;crow&#39;s nest&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;navigation deck&quot;)]
		(if: $thisRoomsNumber is 3) [(set: _prep to &quot;at &quot;)(set: $phrase to _prep + $roomAdjective + &quot;mast head&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;aft deck&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;stern deck&quot;)]
		(if: $thisRoomsNumber is 6) [(set: _prep to &quot;in &quot;)(set: $phrase to _prep + $roomAdjective + &quot;brig&quot;)]
		(if: $thisRoomsNumber is 7) [(set: _prep to &quot;in &quot;)(set: $phrase to _prep + $roomAdjective + &quot;Chaplain&#39;s quarters&quot;)]
		(if: $thisRoomsNumber is 8) [(set: _prep to &quot;in &quot;)(set: $roomAdjective to &quot;the cramped &quot;)(set: $phrase to _prep + $roomAdjective + &quot;sick bay&quot;)]
		(if: $thisRoomsNumber is 9) [(set: _prep to &quot;in &quot;)(set: $roomAdjective to &quot; &quot;)(set: $phrase to _prep + $roomAdjective + &quot;cold storage&quot;)]
		(output-data: &quot;&quot;)
		]
		))


(set: $swamp to 
(macro: [	
	(set: _prep to &quot;wading through &quot;)
	(set: $roomAdjective to &quot;some &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;black mud&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;white algae&quot;)]
		(if: $thisRoomsNumber is 2) [(set: _prep to &quot;among &quot;)(set: $phrase to _prep + $roomAdjective + &quot;pink thistles&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;red grass&quot;)]
		(if: $thisRoomsNumber is 4) [(set: _prep to &quot;among &quot;)(set: $phrase to _prep + $roomAdjective + &quot;purple thorn bushes&quot;)]
		(if: $thisRoomsNumber is 5) [(set: _prep to &quot;among &quot;)(set: $phrase to _prep + $roomAdjective + &quot;blueberry bushes&quot;)]
		(if: $thisRoomsNumber is 6) [(set: _prep to &quot;under &quot;)(set: $roomAdjective to &quot;a &quot;)(set: $phrase to _prep + $roomAdjective + &quot;clear blue-green sky&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;green grass&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;yellow grass&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;brown mud&quot;)]
		(output-data: &quot;&quot;)
		]
		))

(set: $battlefield to 
(macro: [	
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a smoky, noisy &quot;)
	($field:)
		(if: $thisRoomsNumber is 2) [(set: $phrase to it + &quot;, where horsed generals decide on their next move&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to it + &quot;, across which deserters are making their escape&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to it + &quot;, in the thick of the fighting&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to it + &quot;, where a priest comforts the dying&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to it + &quot;, amongst the screaming and wounded&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to it + &quot;, amongst the throngs of the glorious dead&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $park to 
(macro: [
	(if: $decadeNumber is 470)[(set: $roomAdjective to &quot;an overgrown &quot;)]
	(set: _prep to &quot;by &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;bed of black shale&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;plot of white flowers&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;bed of pink carnations&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;bed of red poppies&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;display of purple lilacs&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;display of bluebells&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;display of cyan lotus flowers&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;grassy allotment&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;circle of yellow sunflowers&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;brown wooden bench&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $arbor to 
(macro: [
	($park:)
	(set: _prep to &quot;by &quot;)
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;shrine&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;monument and sarcophagus&quot;)]
		(output-data: &quot;&quot;)
		]
		))

(set: $camp to 
(macro: [
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;tent for playing dice&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;tent for putting on armor&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;tent for prisoners&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;tent for the wounded&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;tent for the dead&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $menagerie to 
(macro: [
	($camp:)
	(set: _prep to &quot;by &quot;)
	(set: $roomAdjective to &quot;a &quot;)
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;display of African monkeys&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;display of hanging sloths&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;chained tiger&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;sickly rhinocerous&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;dead elephant&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		

(set: $village to 
(macro: [	
	(set: _prep to &quot;in &quot;)
	(if: $decadeNumber is 690)[(set: $roomAdjective to &quot;an abandoned &quot;)]
	(if: $decadeNumber is 1200)[(set: $roomAdjective to &quot;a flooded &quot;)]
	(if: $decadeNumber is 1250)[(set: $roomAdjective to &quot;an abandoned, looted &quot;)]
	(if: $decadeNumber is 1290)[(set: $roomAdjective to &quot;the blazing remains of a &quot;)]
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;blacksmith&#39;s&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;tavern&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;school&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;brothel&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;market&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;courthouse&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;sheriff&#39;s jailhouse&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;church&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;apothecary&#39;s&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;mortician&#39;s&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $market to 
(macro: [	
	($village:)
	(set: _prep to &quot;at &quot;)
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;beer brewer&#39;s&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;book seller&#39;s&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;dressmaker&#39;s&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;grocer&#39;s&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;armorer&#39;s&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;locksmith&#39;s&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;psychic&#39;s&quot;)]
		(set: $phrase to it + &quot; stall&quot;)
		(output-data: &quot;&quot;)
		]
		))

(set: $slaveMarket to 
(macro: [	
	($market:)
	(set: _prep to &quot;at &quot;)
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;beer brewer&#39;s&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;book seller&#39;s&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;sex slave auction&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;house slave auction&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;gladiator&#39;s auction&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;locksmith&#39;s&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;psychic&#39;s&quot;)]
		(set: $phrase to it + &quot; stall&quot;)
		(output-data: &quot;&quot;)
		]
		))
		
(set: $penalQuarter to 
(macro: [	
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;blacksmith&#39;s&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;witness&#39;s space, for watching the punishments&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;children&#39;s prison&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;women&#39;s prison&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;execution square&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;gaol&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;whipping post&quot;)]
		(output-data: &quot;&quot;)
		]
		))

(set: $hashishQuarter to 
(macro: [
	($village:)
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;hashish grower&#39;s&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;hashish bar&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;grower&#39;s bookshop&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;gang den&quot;)]
		(output-data: &quot;&quot;)
		]
		))

(set: $forest to 
(macro: [	
	(set: _prep to &quot;by &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;gnarly oak&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;rope swing&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;brook&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;tree, around which nymph lights shine&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $roomAdjective to &quot;some&quot;)(set: $phrase to _prep + $roomAdjective + &quot;cliffs&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;mine shaft&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;burned out campfire&quot;)]
		(if: $thisRoomsNumber is 7) [(set: _prep to &quot;in &quot;)(set: $phrase to _prep + $roomAdjective + &quot;sacred grove&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;fallen tree&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;carcass&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $lakeside to 
(macro: [	
	($forest:)
	(set: _prep to &quot;by &quot;)
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;rope swing&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;warning sign&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;nymph&#39;s lagoon&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;boat&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $roomAdjective to &quot;&quot;)(set: $phrase to _prep + $roomAdjective + &quot;marshes&quot;)]
		(if: $thisRoomsNumber is 7) [(set: _prep to &quot;in &quot;)(set: $phrase to _prep + $roomAdjective + &quot;ruined chapel&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;shore of dead fish&quot;)]
		(output-data: &quot;&quot;)
		]
		))

(set: $jungle to 
(macro: [	
	($forest:)
	(set: _prep to &quot;by &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;twisting vine&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;river&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;a golden statue of some naked goddess&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;clearing filled with snakes&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;pit trap&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $mountainside to 
(macro: [	
	($forest:)
	(set: _prep to &quot;by &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;pine tree&quot;)]
		(if: $thisRoomsNumber is 2) [(set: _prep to &quot;at &quot;)(set: $phrase to _prep + $roomAdjective + &quot;plateau with a breathtaking view over the valley below&quot;)]
		(if: $thisRoomsNumber is 3) [(set: _prep to &quot;in &quot;)(set: $phrase to _prep + $roomAdjective + &quot;lair of a mountain hag&quot;)]
		(if: $thisRoomsNumber is 7) [(set: _prep to &quot;near &quot;)(set: $phrase to _prep + $roomAdjective + &quot;high point above the clouds&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;pile of boulders, left from a rockfall&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;carcass&quot;)]
		(output-data: &quot;&quot;)
		]
		))
	
(set: $cemetery to 
(macro: [	
	(set: _prep to &quot;by &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;willow&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;statue&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;mausoleum&quot;)]
		(if: $thisRoomsNumber is 3) [(set: _prep to &quot;on &quot;)(set: $phrase to _prep + $roomAdjective + &quot;unconsecrated ground&quot;)]
		(if: $thisRoomsNumber is 4) [(set: _prep to &quot;in &quot;)(set: $phrase to _prep + $roomAdjective + &quot;gravedigger&#39;s cottage&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;warrior&#39;s cenotaph&quot;)]
		(if: $thisRoomsNumber is 6) [(set: _prep to &quot;in &quot;)(set: $phrase to _prep + $roomAdjective + &quot;charnel&quot;)]
		(if: $thisRoomsNumber is 7) [(set: _prep to &quot;in &quot;)(set: $phrase to _prep + $roomAdjective + &quot;chapel of rest&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;pillaged grave&quot;)]
		(if: $thisRoomsNumber is 9) [(set: _prep to &quot;in &quot;)(set: $phrase to _prep + $roomAdjective + &quot;columbarium&quot;)]
		(output-data: &quot;&quot;)
		]
		))

(set: $barrow to 
(macro: [	
	($cemetery:)
	(set: _prep to &quot;by &quot;)
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;wickerman&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;mound&quot;)]
		(if: $thisRoomsNumber is 3) [(set: _prep to &quot;on &quot;)(set: $phrase to _prep + $roomAdjective + &quot;bitter ground&quot;)]
		(if: $thisRoomsNumber is 4) [(set: _prep to &quot;in &quot;)(set: $phrase to _prep + $roomAdjective + &quot;gravedigger&#39;s hut&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;megalith&quot;)]
		(if: $thisRoomsNumber is 6) [(set: _prep to &quot;in &quot;)(set: $phrase to _prep + $roomAdjective + &quot;charnel&quot;)]
		(if: $thisRoomsNumber is 7) [(set: _prep to &quot;in &quot;)(set: $phrase to _prep + $roomAdjective + &quot;circle of stones&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;pillaged mound&quot;)]
		(if: $thisRoomsNumber is 9) [(set: _prep to &quot;in &quot;)(set: $phrase to _prep + $roomAdjective + &quot;burned down pyre&quot;)]
		(output-data: &quot;&quot;)
		]
		))

(set: $cave to 
(macro: [	
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 0) [(set: _prep to &quot;beneath &quot;)(set: $phrase to _prep + $roomAdjective + &quot;tangle of tree roots&quot;)]
		(if: $thisRoomsNumber is 1) [(set: _prep to &quot;by &quot;)(set: $phrase to _prep + $roomAdjective + &quot;waterfall&quot;)]
		(if: $thisRoomsNumber is 2) [(set: _prep to &quot;by &quot;)(set: $phrase to _prep + $roomAdjective + &quot;rock wall encrusted with crystals&quot;)]
		(if: $thisRoomsNumber is 3) [(set: _prep to &quot;on &quot;)(set: $phrase to _prep + $roomAdjective + &quot;lair of a cave hag&quot;)]
		(if: $thisRoomsNumber is 4) [(set: _prep to &quot;in &quot;)(set: $phrase to _prep + $roomAdjective + &quot;grotto&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;cavern filled with bats&quot;)]
		(if: $thisRoomsNumber is 6) [(set: _prep to &quot;in &quot;)(set: $phrase to _prep + $roomAdjective + &quot;cavern with shackles dangling from the walls&quot;)]
		(if: $thisRoomsNumber is 7) [(set: _prep to &quot;in &quot;)(set: $phrase to _prep + $roomAdjective + &quot;slab of rock, which might be an altar&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;collapsed cavern&quot;)]
		(if: $thisRoomsNumber is 9) [(set: _prep to &quot;by &quot;)(set: $phrase to _prep + $roomAdjective + &quot;deep hole that descends as far as Hades itself&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		

(set: $mine to 
(macro: [	
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 0) [(set: _prep to &quot;amongst &quot;)(set: $phrase to _prep + $roomAdjective + &quot;child laborers&quot;)]
		(if: $thisRoomsNumber is 3) [(set: _prep to &quot;amongst &quot;)(set: $phrase to _prep + $roomAdjective + &quot;female miners&quot;)]
		(if: $thisRoomsNumber is 7) [(set: _prep to &quot;by &quot;)(set: $phrase to _prep + $roomAdjective + &quot;shaft of light&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;collapsed mine face&quot;)]
		(output-data: &quot;&quot;)
		]
		))

(set: $farm to 
(macro: [	
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;vegetable field&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;paddock, where white stallions graze&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;pig pen&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;rooster&#39;s yard&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;farm house&quot;)]
		(if: $thisRoomsNumber is 5) [(set: _prep to &quot;by &quot;)(set: $phrase to _prep + $roomAdjective + &quot;water trough&quot;)]
		(if: $thisRoomsNumber is 6) [(set: _prep to &quot;by &quot;)(set: $phrase to _prep + $roomAdjective + &quot;fox trap&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;grazing pasture&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;field of yellow corn&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;freshly ploughed field&quot;)]
		(output-data: &quot;&quot;)
		]
		))

(set: $building to 
(macro: [	
	(set: _prep to &quot;in &quot;)
		(if: $decadeNumber is 520)[(set: $roomAdjective to &quot;a cavernous &quot;)]
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;mess hall&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;nursery&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;study&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;kitchen&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;lounge&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;safe room&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;courtyard&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;chapel&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;latrine&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;garbage disposal&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $frument to 
(macro: [	
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;chess room&quot;)]
		(if: $thisRoomsNumber is 5) [(set: _prep to &quot;by &quot;)(set: $phrase to _prep + $roomAdjective + &quot;spy holes&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;documents room&quot;)]
		(if: $thisRoomsNumber is 7) [(set: _prep to &quot;by &quot;)(set: $phrase to _prep + $roomAdjective + &quot;prayer mat&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $library to 
(macro: [	
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;the&quot;)
	(if: $decadeNumber is 820)[(set: $roomAdjective to &quot;the flooded &quot;)]
	(if: $decadeNumber is 420)[(set: $roomAdjective to &quot;the ruins of the &quot;)]
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;cosmology section&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;light reading section&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;science section&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;women&#39;s section&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;reading room&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;military section&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;law and penology section&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;religion section&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;book restoration room&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;necromancy section&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $school to 
(macro: [	
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;the &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;neophyte&#39;s quarters&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;chess room&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;study hall&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;women&#39;s quarters&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;scholar&#39;s lounge&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;examination hall&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;cloister&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;chapel&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;remediation hall&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;emeritus chambers&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $crypt to 
(macro: [	
	(set: _prep to &quot;in &quot;)
		(if: $decadeNumber is 390)[(set: $roomAdjective to &quot;a lightly flooded &quot;)]
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;pitch black tomb&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;child&#39;s tomb&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;chamber of steles, inscribed with epitaphs&quot;)]
		(if: $thisRoomsNumber is 3) [(set: $phrase to _prep + $roomAdjective + &quot;wives&#39; tomb&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;treasury&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;funereal weapons repository&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;skeleton-filled immurement chamber&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;shrine&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;partially collapsed chamber&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;main tomb&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		

		
(set: $surgery to 
(macro: [	
	($building:)
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;medicine closet&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;examination room&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;constraint room&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $jail to 
(macro: [	
	($building:)
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;pitch black cell&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;well lit cell&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;purple cell for distinguished personae&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;cold cell&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;prison yard&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $courthouse to 
(macro: [	
	($jail:)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;the &quot;)
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;accused&#39;s cell&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;counsellor&#39;s library&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;judge&#39;s chambers&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;courtroom&quot;)]
		(if: $thisRoomsNumber is 9) [(set: $phrase to _prep + $roomAdjective + &quot;scaffold&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $inquisitor to 
(macro: [	
	($jail:)
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;torture chamber&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $palace to 
(macro: [	
	($building:)
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;court room&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;armory&quot;)]
		(output-data: &quot;&quot;)
		]
		))

(set: $barrack to 
(macro: [	
	($building:)
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;dining room&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;mess&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;practice yard&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;dormitory&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;armory&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $castle to 
(macro: [	
	($barrack:)
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;court room&quot;)]
		(output-data: &quot;&quot;)
		]
		))

(set: $church to 
(macro: [	
	($building:)
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;function room&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;choir&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;nave&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;confessional&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;penance cell&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;spire&quot;)]

		(output-data: &quot;&quot;)
		]
		))
		
(set: $monastery to 
(macro: [	
	($church:)
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;cloister&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;workroom&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;chapel&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $vestal to 
(macro: [	
	($monastery:)
	($set: $phrase to it + &quot; in the Atrium Vestiae&quot;)
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;choral chamber in the Atrium Vestiae&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;chamber of the sacred spring in the temple of Vesta&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;sacred flame chamber in the temple of Vesta &quot;)]
		(output-data: &quot;&quot;)
		]
		))

(set: $temple to 
(macro: [	
	($church:)
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;bema&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;forum&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;private prayer room&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;tower&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $mosque to 
(macro: [	
	($church:)
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;function room&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;choir&quot;)]
		(if: $thisRoomsNumber is 4) [(set: $phrase to _prep + $roomAdjective + &quot;musalla&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;confessional&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;ablution area&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;minaret&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $brothel to 
(macro: [	
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + $roomAdjective + &quot;private lounge&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + $roomAdjective + &quot;boudoir&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;peeping closet&quot;)]
		(if: $thisRoomsNumber is 5) [(set: $phrase to _prep + $roomAdjective + &quot;backyard&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;bondage room&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;changing room&quot;)]
		(if: $thisRoomsNumber is 8) [(set: $phrase to _prep + $roomAdjective + &quot;medical room&quot;)]
		(output-data: &quot;&quot;)
		]
		))
		
(set: $triclinium to 
(macro: [	
	($building:)
	(set: _prep to &quot;in &quot;)
		(if: $thisRoomsNumber is 0) [(set: $phrase to _prep + &quot;a dark, shady &quot; + &quot;private apse&quot;)]
		(if: $thisRoomsNumber is 1) [(set: $phrase to _prep + &quot;a well lit &quot; + &quot;lover&#39;s apse&quot;)]
		(if: $thisRoomsNumber is 2) [(set: $phrase to _prep + $roomAdjective + &quot;peeper&#39;s balcony&quot;)]
		(if: $thisRoomsNumber is 5) [(set: _prep to &quot;by &quot;)(set: $phrase to _prep + $roomAdjective + &quot;chaperone&#39;s seat&quot;)]
		(if: $thisRoomsNumber is 6) [(set: $phrase to _prep + $roomAdjective + &quot;courtyard&quot;)]
		(if: $thisRoomsNumber is 7) [(set: $phrase to _prep + $roomAdjective + &quot;statue of Venus&quot;)]
		(output-data: &quot;&quot;)
		]
		))
}

		</tw-passagedata><tw-passagedata pid="55" name="Berold of Rouen" tags="" position="168,1919" size="100,100">[&lt;script&gt;CustomScripts.updateBackground(-2);&lt;/script&gt;]
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)
[&quot;Bonjour,&quot; says the butcher, &quot;I am Berold of Rouen, the only survivor of the wreck of the white ship. But that was a long time ago, when I was much younger. (link: &#39;Shall we cast our minds back to when it happened?&quot;&#39;)[==&quot;The year was 1120. The passengers included King Henry I&#39;s son and heir, William Adelin, Duke of Normandy, as well as the King&#39;s bastard son Richard of Lincoln and his bastard daughter Matilda FitzRoy, Countess of Perche. I was only there to collect debts owed to me by the passengers.&quot;] 

When you are done speaking with the butcher, you may [[go back to exploring the ship-&gt;complex nine]]. 
]</tw-passagedata><tw-passagedata pid="56" name="William Adelin" tags="" position="1996,307" size="100,100">[&lt;script&gt;CustomScripts.updateBackground(-3);&lt;/script&gt;]
(border-color: black) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[
The corpse stirs in its black shroud. It&#39;s eyes flicker open and it speaks. &quot;Who are you stranger?&quot; it asks, &quot;And why do you disturb my peace?&quot; You demand that it reveal its name to you. &quot;I am William Adelin,&quot; the corpse replies, &quot;Heir to Henry I. Wait a minute. I never became King, did I? I was on a ship... I died on the white ship.&quot; Sobbing, the corpse falls back into eternal rest. You may go back to exploring [[the New Temple.-&gt;room 0]].[]
]</tw-passagedata><tw-passagedata pid="57" name="Stephen of Blois" tags="" position="1282,874" size="100,100">[&lt;script&gt;CustomScripts.updateBackground(-4);&lt;/script&gt;]
(border-color: blue) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[&quot;Hail Sir Knight!&quot; you say. &quot;I am no knight,&quot; the blue warrior replies, &quot;I am a King, and this is the year I seized the throne. The crowds of London chanted my name, you know? They recognized Stephen their king. And my younger brother, Henry, Bishop of Winchester, secured the support of the church. By right, then, did I take the throne of England!&quot; If you are satisfied you may go back to exploring [[the Maubergeonne Tower-&gt;room 5]].[]
]</tw-passagedata><tw-passagedata pid="58" name="Stephen&#39;s death" tags="" position="1290,596" size="100,100">[&lt;script&gt;CustomScripts.updateBackground(-5);&lt;/script&gt;]
(set: $Stephen to &quot;dead&quot;)
(border-color: purple) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[
The once mighty King squints at you. &quot;Eustace? My son, is that you? No, no, it can&#39;t be. My heir is dead. And now a Henry replaces me, as I replaced a Henry. I should never have agreed to it, but what was left to fight for, after the death of my beloved Eustace?&quot; 

The old man&#39;s eyes fall shut. He snorts once, mocking the arrogance of mortal kings, and departs. Quietly, you may go back to exploring [[the crusader&#39;s camp-&gt;room 4]].
]</tw-passagedata><tw-passagedata pid="59" name="Treaty of Wallingford" tags="" position="1673,1028" size="100,100">[&lt;script&gt;CustomScripts.updateBackground(-6);&lt;/script&gt;]
(border-color: red) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[
You read the document, which is inked in Latin. It it the Treaty of Wallingford, also known as the Treaty of Winchester or the Treaty of Westminster. It states that the aging Stephen, King, is to keep the throne of England until his death, and that he will be succeeded by Henry FitzEmpress, the Empress Matilda&#39;s son, who will be styled Henry II.

When you are finished reading it you may (if: $Eustace is not &quot;dead&quot;)[[[speak to the ailing nobleman-&gt;Eustace IV]], or] go back to exploring [[the crusader&#39;s camp-&gt;room 3]].
]</tw-passagedata><tw-passagedata pid="60" name="Eustace IV" tags="" position="1803,1026" size="100,100">[&lt;script&gt;CustomScripts.updateBackground(-7);&lt;/script&gt;]
(set: $Eustace to &quot;dead&quot;)
(border-color: red) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[
&quot;I am Eustace IV,&quot; the red nobleman says, &quot;Count of Boulogne and son and heir to the rightful King, Stephen. I die so young... perhaps I am murdered.&quot; You ask him who would want him dead. &quot;Everyone!&quot;, he laughs cynically, before breaking down into a coughing spasm. &quot;The Peterborough Chronicle says I am evil, a man who despoils the land and taxes the people til they bleed. With my death my father will parley for peace and the people will celebrate the end of this vicious anarchy. And most happy of all will be the ruthless usurper Henry Curtmantle. His will be the throne, and his obedient scribes will surely unwrite the history of my murder.&quot; 

With that, the young nobleman dies. You may [[read the document-&gt;Treaty of Wallingford]] that hangs from his loose fingers, or go back to exploring [[the crusader&#39;s camp-&gt;room 3]].
]</tw-passagedata><tw-passagedata pid="61" name="Henry II birth" tags="" position="1913,1026" size="100,100">[&lt;script&gt;CustomScripts.updateBackground(-8);&lt;/script&gt;]
(set: $henrysDragon to &quot;hatched&quot;)
(border-color: red) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[
You pull at the pieces of shell, and the head of a baby red dragon emerges. You know that a dragon hatches whenever a king is born, but here in the year of 1133, which King does this red dragon&#39;s birth commemorate? As you lean in, the dragon speaks its riddle.
&quot;My mother an Empress
Shall be denied her throne
A king and queen I&#39;ll fight
But as king I&#39;ll rule alone
My own queen will desert me
She shares my iron will 
My sons revolt against me
And my best friend I&#39;ll kill
Who am I?&quot; 

After contemplating the dragon&#39;s riddle, you may go back to exploring [[the Maubergeonne Tower-&gt;room 3]].
]</tw-passagedata><tw-passagedata pid="62" name="Becket murdered" tags="" position="2114,310" size="100,100">{[&lt;script&gt;CustomScripts.updateBackground(-11);&lt;/script&gt;]
}
(border-color: black) + (border:&quot;solid&quot;) + (b4r-size:4) + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[&quot;I am Thomas Becket,&quot; the window says, &quot;Best friend to King Henry II. Or so I thought, until he sent his knights here to kill me, on the altar of this very cathedral. It happened in this very year. But what year is it?&quot; 

To your horror, you realize you are blinded. You try to feel your way free, but every direction seems to be blocked. You cannot leave until you answer the question. (link: &#39;You must try to answer.&#39;)[==  

(set: $becketsDeath to (prompt: &quot;What year was Becket murdered?&quot;, &quot;&quot;, &quot;Don&#39;t care&quot;, &quot;Confirm&quot;))

(if: $becketsDeath is &quot;&quot;)[&quot;You will answer,&quot; the window wails, &quot;if you ever want to leave this place.&quot; You have no option but to [[try to answer-&gt;Becket murdered]].] 
(else:) [
(if: $becketsDeath is &quot;1170&quot;) [ [&lt;script&gt;CustomScripts.updateBackground(-9);&lt;/script&gt;]The spell is released, your vision returns, and you are free to go. When you are ready, you may go back to exploring [[Canterbury cathedral-&gt;room 0]].]] (else:) [&quot;You must give me the correct answer,&quot; the window says, &quot;or you will never be permitted to leave!&quot; You have no option but to [[try again-&gt;Becket murdered]].]]</tw-passagedata><tw-passagedata pid="63" name="Untitled Passage 1" tags="" position="1183,314" size="100,100">{(set: $hundredNumber to 0)}
($setImage:)
</tw-passagedata><tw-passagedata pid="64" name="Charlemagnes Death." tags="" position="1448,436" size="100,100">[&lt;script&gt;CustomScripts.updateBackground(-10);&lt;/script&gt;]
(border-color: purple) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{
A steel clad knight hovers in the air above you, wrapped in a purple dragon. &quot;I am Charlemagne,&quot; the voice booms, &quot;Who disturbs the year of my final rest?&quot; The purple dragon uncoils itself from the hovering king and wraps itself around the clearing, closing off every exit. &quot;If you wish to leave,&quot; the dragon roars, (link: &#39;&quot;you must state the year in which my master dies.&quot;&#39;)[==(set: $charlemagnesDeath to (prompt: &quot;What year did Charlemagne die?&quot;, &quot;&quot;, &quot;Stay silent&quot;, &quot;Confirm&quot;)) 

(if: $charlemagnesDeath is &quot;814&quot;) [&quot;That answer is correct,&quot; the purple dragon hisses, unslithering itself from around the clearing. You are free to go back to exploring [[the swimming wood.-&gt;room 4]].]
(else:)[&quot;You will answer correctly or die,&quot; the dragon roars. You have no choice but to [[try again-&gt;Charlemagnes Death.]]]
}]</tw-passagedata><tw-passagedata pid="65" name="environ assignment" tags="startup start-up" position="185,805" size="100,100">{

		
(set: $roomAdjective to &quot;a &quot;)
(set: $forests to (a:400,500,860,900,1100,1320,1490))
(set: $jungles to (a:1400))
(set: $mountainsides to (a: 920,1270))
(set: $villages to (a: 260,580,660,690,1200,1210,1230,1250,1260,1290,1340,1390,1420,1440))
(set: $hashishQuarters to (a:610))
(set: $penalQuarters to (a: 680))
(set: $markets to (a:640))
(set: $mushrooms to (a:0))
(set: $slaveMarkets to (a:160,760))
(set: $churches to (a: 70,380,770,870,970,1000,1010,1020,1030,1040,1060,1070,1080,1170,1370,1470))
(set: $camps to (a:210,410,510,960,990,1110,1140,1150,1240,1330,1430))
(set: $swamps to (a:800,810,880,890))
(set: $parks to (a: 100,200,370,470))
(set: $arbors to (a:1090))
(set: $caves to (a: 560))
(set: $cemeteries to (a: 190,290))
(set: $barrows to (a:590))
(set: $battlefields to (a: 350,550,1350,1450))
(set: $farms to (a:300,600,1300)) 
(set: $buildings to (a:40,80,140,240,340,440,520,730,830,940,1220,1360))
(set: $temples to (a:170,270,430))
(set: $mosques to (a:670))
(set: $monasteries to (a:930,1030))
(set: $vestals to (a:130))

(set: $brothels to (a:230))
(set: $palaces to (a:570,630,740,850,1130,1310))
(set: $barracks to (a: 120,150,250,750,1050,1120))
(set: $castles to (a:540,650,840,1180))
(set: $jails to (a:60,460,1160,1460))
(set: $inquisitors to (a:1480))
(set: $surgeries to (a:180,280,480,780,980,1380))
(set: $crypts to (a:90,390,490,790))
(set: $libraries to (a:420,620,720,820))
(set: $schools to (a:220,320))
(set: $courthouses to (a:950))
(set: $lakesides to (a:530))
(set: $armories to (a: 50,450))
(set: $ships to (a: 1190,1280))
(set: $hypogea to (a:10))
(set: $menageries to (a:700))
(set: $arenas to (a:110,310,910,1110,1410))
(set: $fruments to (a:20))
(set: $breweries to (a:30))
(set: $triclinia to (a:330))
(set: $mines to(a:360))
(set: $plaguePits to(a:490))

	

}

		</tw-passagedata><tw-passagedata pid="66" name="environ database" tags="startup start-up" position="311,801" size="100,100">{




		
(set: $arbor to 
(macro: [
	($park:)
	(set: _prep to &quot;by &quot;)
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;shrine&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;monument and sarcophagus&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))


(set: $arena to 
(macro: [	
	(set: _prep to &quot;at &quot;)
	(set: $roomAdjective to &quot;the &quot;)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;beginner&#39;s competition area&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;practice area&quot;)]
		(if: $roomNumber is 2) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;squire&#39;s tent&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;ladies&#39; pavilion&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;competitor&#39;s tent&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;arena&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;sin bin&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;prayer tent&quot;)]
		(if: $roomNumber is 8) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;injury tent&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;morgue&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
(set: $armory to 
(macro: [	
	(set: _prep to &quot;in &quot;)
	(if: $decadeNumber is 400)[(set: $roomAdjective to &quot;a looted &quot;)]
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;dormitory&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;practice yard&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;military library&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;heraldry room&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;armor and light weaponry magazine&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;heavy weaponry magazine&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;brig&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;prayer room&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;repair shop&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;decommissioning room&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
	
(set: $barrack to 
(macro: [	
	($building:)
	(set: _prep to &quot;in &quot;)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;dining room&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;mess&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;practice yard&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;dormitory&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;armory&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;morgue&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))

(set: $barrow to 
(macro: [	
	($cemetery:)
	(set: _prep to &quot;by &quot;)
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;wickerman&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;mound&quot;)]
		(if: $roomNumber is 3) [(set: _prep to &quot;on &quot;)(set: $roomNoun to &quot;bitter ground&quot;)]
		(if: $roomNumber is 4) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;gravedigger&#39;s hut&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;megalith&quot;)]
		(if: $roomNumber is 6) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;charnel&quot;)]
		(if: $roomNumber is 7) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;circle of stones&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;pillaged mound&quot;)]
		(if: $roomNumber is 9) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;burned down pyre&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))


(set: $battlefield to 
(macro: [	
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a smoky, noisy &quot;)
	($field:)
		(if: $roomNumber is 2) [(set: $phrase to it + &quot;, where horsed generals decide on their next move&quot;)]
		(if: $roomNumber is 3) [(set: $phrase to it + &quot;, across which deserters are making their escape&quot;)]
		(if: $roomNumber is 5) [(set: $phrase to it + &quot;, in the thick of the fighting&quot;)]
		(if: $roomNumber is 7) [(set: $phrase to it + &quot;, where a priest comforts the dying&quot;)]
		(if: $roomNumber is 8) [(set: $phrase to it + &quot;, amongst the screaming and wounded&quot;)]
		(if: $roomNumber is 9) [(set: $phrase to it + &quot;, amongst the throngs of the glorious dead&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
(set: $brewery to 
(macro: [	
	($building:)
	(set: _prep to &quot;by &quot;)
	(set: $roomAdjective to &quot;the &quot;)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;stills&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;wine barrels&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;beer barrels&quot;)]
		(if: $roomNumber is 6) [(set: _prep to &quot;amongst &quot;)(set: $roomNoun to &quot;secret brew&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;slop bucket&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))

(set: $brothel to 
(macro: [	
	(set: _prep to &quot;in &quot;)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;private lounge&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;boudoir&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;peeping closet&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;backyard&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;bondage room&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;changing room&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;medical room&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))

(set: $building to 
(macro: [	
	(set: _prep to &quot;in &quot;)
		(if: $decadeNumber is 520)[(set: $roomAdjective to &quot;a cavernous &quot;)]
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;mess hall&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;nursery&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;study&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;kitchen&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;lounge&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;weapons closet&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;courtyard&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;chapel&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;latrine&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;garbage disposal&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))

(set: $camp to 
(macro: [
	(set: _prep to &quot;in &quot;)
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;tent for playing dice&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;tent for putting on armor&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;tent for prisoners&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;tent for the wounded&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;tent for the dead&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
(set: $castle to 
(macro: [	
	($barrack:)
	(set: _prep to &quot;in &quot;)
	(if: $roomNumber is 8) [(set: $roomNoun to &quot;ruined turret&quot;)]
	(set: $phrase to _prep + $roomAdjective + $roomNoun)
	(output-data: &quot;&quot;)
		]
		))
		
(set: $cave to 
(macro: [	
	(set: _prep to &quot;in &quot;)
		(if: $roomNumber is 0) [(set: _prep to &quot;beneath &quot;)(set: $roomNoun to &quot;tangle of tree roots&quot;)]
		(if: $roomNumber is 1) [(set: _prep to &quot;by &quot;)(set: $roomNoun to &quot;waterfall&quot;)]
		(if: $roomNumber is 2) [(set: _prep to &quot;by &quot;)(set: $roomNoun to &quot;rock wall encrusted with crystals&quot;)]
		(if: $roomNumber is 3) [(set: _prep to &quot;on &quot;)(set: $roomNoun to &quot;lair of a cave hag&quot;)]
		(if: $roomNumber is 4) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;grotto&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;cavern filled with bats&quot;)]
		(if: $roomNumber is 6) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;cavern with shackles dangling from the walls&quot;)]
		(if: $roomNumber is 7) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;slab of rock, which might be an altar&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;collapsed cavern&quot;)]
		(if: $roomNumber is 9) [(set: _prep to &quot;by &quot;)(set: $roomNoun to &quot;deep hole that descends as far as Hades itself&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
(set: $cemetery to 
(macro: [	
	(set: _prep to &quot;by &quot;)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;willow&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;statue&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;mausoleum&quot;)]
		(if: $roomNumber is 3) [(set: _prep to &quot;on &quot;)(set: $roomNoun to &quot;unconsecrated ground&quot;)]
		(if: $roomNumber is 4) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;gravedigger&#39;s cottage&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;warrior&#39;s cenotaph&quot;)]
		(if: $roomNumber is 6) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;charnel&quot;)]
		(if: $roomNumber is 7) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;chapel of rest&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;pillaged grave&quot;)]
		(if: $roomNumber is 9) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;columbarium&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))

		
(set: $church to 
(macro: [	
	($building:)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;a &quot;)
		(if: $roomNumber is 0) [(set: _prep to &quot;by &quot;)(set: $roomAdjective to &quot;an onyx &quot;)(set: $roomNoun to &quot;font&quot;)]
		(if: $roomNumber is 1) [(set: $roomAdjective to &quot;an &quot;)(set: $roomNoun to &quot;altarboys&#39; choir&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;nave&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;confessional&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;penance cell&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;spire&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
(set: $courthouse to 
(macro: [	
	($jail:)
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;the &quot;)
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;accused&#39;s cell&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;counsellor&#39;s library&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;judge&#39;s chambers&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;courtroom&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;scaffold&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
(set: $crypt to 
(macro: [	
	(set: _prep to &quot;in &quot;)
		(if: $decadeNumber is 390)[(set: $roomAdjective to &quot;a lightly flooded &quot;)]
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;pitch black tomb&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;child&#39;s tomb&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;chamber of steles, inscribed with epitaphs&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;wives&#39; tomb&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;treasury&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;funereal weapons repository&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;skeleton-filled immurement chamber&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;shrine&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;partially collapsed chamber&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;main tomb&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))	
		
(set: $farm to 
(macro: [	
	(set: _prep to &quot;in &quot;)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;vegetable field&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;paddock, where white stallions graze&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;pig pen&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;rooster&#39;s yard&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;farm house&quot;)]
		(if: $roomNumber is 5) [(set: _prep to &quot;by &quot;)(set: $roomNoun to &quot;water trough&quot;)]
		(if: $roomNumber is 6) [(set: _prep to &quot;by &quot;)(set: $roomNoun to &quot;fox trap&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;grazing pasture&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;field of yellow corn&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;freshly ploughed field&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))

(set: $field to 
(macro: [	
	(set: _prep to &quot;in &quot;)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;blackened, burned field&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;meadow of white flowers&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;pasture of pink carnations&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;red poppy field&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;field of purple lilacs&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;bluebell field&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;field of cyan lotus flowers&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;meadow of green grass&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;yellow field of wheat&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;muddy field&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
(set: $forest to 
(macro: [	
	(set: _prep to &quot;by &quot;)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;gnarly oak&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;rope swing&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;brook&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;tree, around which nymph lights shine&quot;)]
		(if: $roomNumber is 4) [(set: $roomAdjective to &quot;some&quot;)(set: $roomNoun to &quot;cliffs&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;mine shaft&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;burned out campfire&quot;)]
		(if: $roomNumber is 7) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;sacred grove&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;fallen tree&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;carcass&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
(set: $frument to 
(macro: [	
	(set: _prep to &quot;in &quot;)
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;chess room&quot;)]
		(if: $roomNumber is 5) [(set: _prep to &quot;by &quot;)(set: $roomNoun to &quot;spy holes&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;documents room&quot;)]
		(if: $roomNumber is 7) [(set: _prep to &quot;by &quot;)(set: $roomNoun to &quot;prayer mat&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))

(set: $hashishQuarter to 
(macro: [
	($village:)
	(set: _prep to &quot;in &quot;)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;hashish grower&#39;s&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;hashish bar&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;grower&#39;s bookshop&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;gang den&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))


		
(set: $hypogeum to 
(macro: [	
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;the &quot;)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;winch room&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;chamber of the balatrones&quot;)]
		(if: $roomNumber is 2) [(set: $roomAdjective to &quot;the &quot;)(set: $roomNoun to &quot;chamber of the master of ceremonies&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;chamber of the Pantomimi&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;basement area&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;gladiator&#39;s chamber&quot;)]
		(if: $roomNumber is 6) [(set: _prep to &quot;amongst &quot;)(set: $roomNoun to &quot;caged beasts&quot;)]
		(if: $roomNumber is 7) [(set: _prep to &quot;amongst &quot;)(set: $roomNoun to &quot;shackled Christians&quot;)]
		(if: $roomNumber is 8) [(set: _prep to &quot;amongst &quot;)(set: $roomNoun to &quot;wounded gladiators&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;morgue&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		

(set: $inquisitor to 
(macro: [	
	($jail:)
	(set: _prep to &quot;in &quot;)
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;torture chamber&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))

(set: $jail to 
(macro: [	
	($building:)
	(set: _prep to &quot;in &quot;)
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;pitch black cell&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;well lit cell&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;purple cell for distinguished personae&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;cold cell&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;prison yard&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))	


(set: $jungle to 
(macro: [	
	($forest:)
	(set: _prep to &quot;by &quot;)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;twisting vine&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;river&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;a golden statue of some naked goddess&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;clearing filled with snakes&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;pit trap&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
(set: $lakeside to 
(macro: [	
	($forest:)
	(set: _prep to &quot;by &quot;)
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;rope swing&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;warning sign&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;nymph&#39;s lagoon&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;boat&quot;)]
		(if: $roomNumber is 5) [(set: $roomAdjective to &quot;&quot;)(set: $roomNoun to &quot;marshes&quot;)]
		(if: $roomNumber is 7) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;ruined chapel&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;shore of dead fish&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))

(set: $library to 
(macro: [	
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;the&quot;)
	(if: $decadeNumber is 820)[(set: $roomAdjective to &quot;the flooded &quot;)]
	(if: $decadeNumber is 420)[(set: $roomAdjective to &quot;the ruins of the &quot;)]
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;cosmology section&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;light reading section&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;science section&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;women&#39;s section&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;reading room&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;military section&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;law and penology section&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;religion section&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;book restoration room&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;necromancy section&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
	
			
	(set: $market to 
(macro: [	
	($village:)
	(set: _prep to &quot;at &quot;)
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;beer brewer&#39;s&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;book seller&#39;s&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;dressmaker&#39;s&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;grocer&#39;s&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;armorer&#39;s&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;locksmith&#39;s&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;psychic&#39;s&quot;)]
		(set: $phrase to it + &quot; stall&quot;)
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
(set: $menagerie to 
(macro: [
	($camp:)
	(set: _prep to &quot;by &quot;)
	(set: $roomAdjective to &quot;a &quot;)
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;display of African monkeys&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;display of hanging sloths&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;chained tiger&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;sickly rhinocerous&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;dead elephant&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
(set: $monastery to 
(macro: [	
	($church:)
	(set: _prep to &quot;in &quot;)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;cloister&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;workroom&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;chapel&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
	
(set: $mountainside to 
(macro: [	
	($forest:)
	(set: _prep to &quot;by &quot;)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;pine tree&quot;)]
		(if: $roomNumber is 2) [(set: _prep to &quot;at &quot;)(set: $roomNoun to &quot;plateau with a breathtaking view over the valley below&quot;)]
		(if: $roomNumber is 3) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;lair of a mountain hag&quot;)]
		(if: $roomNumber is 7) [(set: _prep to &quot;near &quot;)(set: $roomNoun to &quot;high point above the clouds&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;pile of boulders, left from a rockfall&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;carcass&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
	

(set: $mine to 
(macro: [	
	(set: _prep to &quot;in &quot;)
		(if: $roomNumber is 0) [(set: _prep to &quot;amongst &quot;)(set: $roomNoun to &quot;child laborers&quot;)]
		(if: $roomNumber is 3) [(set: _prep to &quot;amongst &quot;)(set: $roomNoun to &quot;female miners&quot;)]
		(if: $roomNumber is 7) [(set: _prep to &quot;by &quot;)(set: $roomNoun to &quot;shaft of light&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;collapsed mine face&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))

(set: $mosque to 
(macro: [	
	($church:)
	(set: _prep to &quot;in &quot;)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;function room&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;choir&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;musalla&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;confessional&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;ablution area&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;minaret&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))	
		

(set: $mushroom to 
(macro: [
	(set: $roomNoun to (either: &quot;toadstools&quot;,&quot;toadstools&quot;,&quot;toadstools&quot;,&quot;fairy rings&quot;))
	(set: _prep to &quot;by &quot;)
	(set: $mushroomAdj to (either: &quot;, fruiting &quot;, &quot;, gilled &quot;,&quot;, umbrellaed  &quot;,&quot; stemmed &quot;, &quot;, fleshy &quot;,&quot;, long-stemmed &quot;,&quot;, thin-stemmed &quot;,&quot;, wide-hatted &quot;,&quot; dotted &quot;,&quot; speckled &quot;, &quot;, wispy &quot;, &quot;, tabular &quot;))
		(if: $roomNumber is 0) [(set: $roomAdjective to &quot;a bed of black&quot; + $mushroomAdj)(set:$roomNoun to &quot;deathcaps&quot;)]
		(if: $roomNumber is 1) [(set: $roomAdjective to &quot;a plot of white&quot; + $mushroomAdj)(set: $roomNoun to &quot;portobellos&quot;)]
		(if: $roomNumber is 2) [(set: $roomAdjective to &quot;a bed of pink&quot; + $mushroomAdj)]
		(if: $roomNumber is 3) [(set: $roomAdjective to &quot;a bed of red&quot; + $mushroomAdj)]
		(if: $roomNumber is 4) [(set: $roomAdjective to &quot;a display of purple&quot; + $mushroomAdj)]
		(if: $roomNumber is 5) [(set: $roomAdjective to &quot;a display of blue&quot; + $mushroomAdj)]
		(if: $roomNumber is 6) [(set: $roomAdjective to &quot;a display of turquoise&quot; + $mushroomAdj)]
		(if: $roomNumber is 7) [(set: $roomAdjective to &quot;a grassy &quot;)(set: $roomNoun to &quot;fungus patch&quot;)]
		(if: $roomNumber is 8) [(set: $roomAdjective to &quot;a circle of yellow&quot; + $mushroomAdj)(set: $roomNoun to &quot;creminis&quot;)]
		(if: $roomNumber is 9) [(set: $roomAdjective to &quot;a brown &quot;)(set: $roomNoun to &quot;wooden bench&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
	
(set: $palace to 
(macro: [	
	($castle:)
	(set: _prep to &quot;in &quot;)
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;audience chamber&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;armory&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
	
(set: $park to 
(macro: [
	(if: $decadeNumber is 470)[(set: $roomAdjective to &quot;an overgrown &quot;)]
	(set: _prep to &quot;by &quot;)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;bed of black shale&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;plot of white flowers&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;bed of pink carnations&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;bed of red poppies&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;display of purple lilacs&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;display of bluebells&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;display of cyan lotus flowers&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;grassy allotment&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;circle of yellow sunflowers&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;brown wooden bench&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		

(set: $penalQuarter to 
(macro: [	
	(set: _prep to &quot;in &quot;)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;blacksmith&#39;s&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;witness&#39;s space, for watching the punishments&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;children&#39;s prison&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;women&#39;s prison&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;execution square&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;gaol&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;whipping post&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
(set: $plaguePit to 
(macro: [	
	(set: _prep to &quot;in &quot;)
		(if: $roomNumber is 0) [(set: _prep to &quot;within &quot;)(set: $roomAdjective to &quot;&quot;)(set: $roomNoun to &quot;walls of fungus covered corpses&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;buried play-park&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;buried school for children&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;chamber of dead nuns&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;buried market&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;chamber of dead soldiers&quot;)]
		(if: $roomNumber is 6) [(set: $phrase to _prep + &quot;subterranean, walled-up&quot; + &quot;street&quot;)]
		(if: $roomNumber is 7) [(set: $phrase to _prep + &quot;collapsed, subterranean&quot; + &quot;chapel&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;chamber of partial bodies&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;repository for random bones and partial human remains&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		


		
		
(set: $school to 
(macro: [	
	(set: _prep to &quot;in &quot;)
	(set: $roomAdjective to &quot;the &quot;)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;neophyte&#39;s quarters&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;chess room&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;study hall&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;women&#39;s quarters&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;scholar&#39;s lounge&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;examination hall&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;cloister&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;chapel&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;remediation hall&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;emeritus chambers&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		

(set: $ship to 
(macro: [	
	(set: _prep to &quot;on &quot;)
	(set: $roomAdjective to &quot;the &quot;)
		(if: $roomNumber is 0) [(set: _prep to &quot;below &quot;)(set: $roomAdjective to &quot; &quot;)(set: $roomNoun to &quot;deck&quot;)]
		(if: $roomNumber is 1) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;crow&#39;s nest&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;navigation deck&quot;)]
		(if: $roomNumber is 3) [(set: _prep to &quot;at &quot;)(set: $roomNoun to &quot;mast head&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;aft deck&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;stern deck&quot;)]
		(if: $roomNumber is 6) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;brig&quot;)]
		(if: $roomNumber is 7) [(set: _prep to &quot;in &quot;)(set: $roomNoun to &quot;Chaplain&#39;s quarters&quot;)]
		(if: $roomNumber is 8) [(set: _prep to &quot;in &quot;)(set: $roomAdjective to &quot;the cramped &quot;)(set: $roomNoun to &quot;sick bay&quot;)]
		(if: $roomNumber is 9) [(set: _prep to &quot;in &quot;)(set: $roomAdjective to &quot; &quot;)(set: $roomNoun to &quot;cold storage&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))

		
(set: $slaveMarket to 
(macro: [	
	($market:)
	(set: _prep to &quot;at &quot;)
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;beer brewer&#39;s&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;book seller&#39;s&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;sex slave auction&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;house slave auction&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;gladiator&#39;s auction&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;locksmith&#39;s&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;psychic&#39;s&quot;)]
		(set: $phrase to it + &quot; stall&quot;)
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))	

(set: $surgery to 
(macro: [	
	($building:)
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;medicine closet&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;examination room&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;constraint room&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))

(set: $swamp to 
(macro: [	
	(set: _prep to &quot;wading through &quot;)
	(set: $roomAdjective to &quot;&quot;)
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;black mud&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;white algae&quot;)]
		(if: $roomNumber is 2) [(set: _prep to &quot;among &quot;)(set: $roomNoun to &quot;pink thistles&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;red grass&quot;)]
		(if: $roomNumber is 4) [(set: _prep to &quot;among &quot;)(set: $roomNoun to &quot;purple thorn berries&quot;)]
		(if: $roomNumber is 5) [(set: _prep to &quot;among &quot;)(set: $roomNoun to &quot;blueberry bushes&quot;)]
		(if: $roomNumber is 6) [(set: _prep to &quot;under &quot;)(set: $roomAdjective to &quot;a &quot;)(set: $roomNoun to &quot;clear blue-green sky&quot;)]
		(if: $roomNumber is 7) [(set: _prep to &quot;walking through &quot;) (set: $roomNoun to &quot;long green grass&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;yellow grass&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;brown mud&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))		
		
(set: $temple to 
(macro: [	
	($church:)
	(set: _prep to &quot;in &quot;)
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;bema&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;forum&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;private prayer room&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;tower&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
(set: $triclinium to 
(macro: [	
	($building:)
	(set: _prep to &quot;in &quot;)
		(if: $roomNumber is 0) [(set: $phrase to _prep + &quot;a dark, shady &quot; + &quot;private apse&quot;)]
		(if: $roomNumber is 1) [(set: $phrase to _prep + &quot;a well lit &quot; + &quot;lover&#39;s apse&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;peeper&#39;s balcony&quot;)]
		(if: $roomNumber is 5) [(set: _prep to &quot;by &quot;)(set: $roomNoun to &quot;chaperone&#39;s seat&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;courtyard&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;statue of Venus&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		
(set: $vestal to 
(macro: [	
	($monastery:)
	($set: $phrase to it + &quot; in the Atrium Vestiae&quot;)
	(set: _prep to &quot;in &quot;)
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;choral chamber in the Atrium Vestiae&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;chamber of the sacred spring in the temple of Vesta&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;sacred flame chamber in the temple of Vesta &quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))		
	

(set: $village to 
(macro: [	
	(set: _prep to &quot;in &quot;)
	(if: $decadeNumber is 690)[(set: $roomAdjective to &quot;an abandoned &quot;)]
	(if: $decadeNumber is 1200)[(set: $roomAdjective to &quot;a flooded &quot;)]
	(if: $decadeNumber is 1250)[(set: $roomAdjective to &quot;an abandoned, looted &quot;)]
	(if: $decadeNumber is 1290)[(set: $roomAdjective to &quot;the blazing remains of a &quot;)]
		(if: $roomNumber is 0) [(set: $roomNoun to &quot;blacksmith&#39;s&quot;)]
		(if: $roomNumber is 1) [(set: $roomNoun to &quot;tavern&quot;)]
		(if: $roomNumber is 2) [(set: $roomNoun to &quot;school&quot;)]
		(if: $roomNumber is 3) [(set: $roomNoun to &quot;brothel&quot;)]
		(if: $roomNumber is 4) [(set: $roomNoun to &quot;market&quot;)]
		(if: $roomNumber is 5) [(set: $roomNoun to &quot;courthouse&quot;)]
		(if: $roomNumber is 6) [(set: $roomNoun to &quot;sheriff&#39;s jailhouse&quot;)]
		(if: $roomNumber is 7) [(set: $roomNoun to &quot;church&quot;)]
		(if: $roomNumber is 8) [(set: $roomNoun to &quot;apothecary&#39;s&quot;)]
		(if: $roomNumber is 9) [(set: $roomNoun to &quot;mortician&#39;s&quot;)]
		(set: $phrase to _prep + $roomAdjective + $roomNoun)
		(output-data: &quot;&quot;)
		]
		))
		



		





		

		

		

}

		</tw-passagedata><tw-passagedata pid="67" name="set images" tags="startup start-up" position="471,796" size="100,100">(set: $setImage to 
(macro: [	
	(set: $imageRef to (str: $hundredNumber + $decadeNum + $imageType))
	(set: $imgScript to &quot;&lt;script&gt;CustomScripts.updateBackground(&quot; + $imageRef +&quot;);&lt;/script&gt;&quot;)
		(output-data: $imgScript)
		]
		))
		

</tw-passagedata><tw-passagedata pid="68" name="Direction Functions 2" tags="startup" position="186,676" size="100,100">{

&lt;!-- the calling functions from each complex entry point are setAdjustableDirections and fixOptionalPaths--&gt;

&lt;!-- There are eight screen directions, with a variable for each: upOnScreen, downOnScreen, rightOnScreen and leftOnScreen, which correspond to directions in the complex map, and rightOnNexusMap, downOnNexusMap, upOnNexusMap and leftOnNexusMap, which correspond to directions in the main nexus. We have two sets of variables in order to permit the values to differ between the central nexus and the complexes, while still being able to coordinate the transition.--&gt; 

&lt;!-- the screen directions usually take string values from the set &lt;&quot;north&quot;, &quot;east&quot;, &quot;south&quot;, &quot;west&quot;&gt; but can occasionally take &#39;northeast&quot;, &quot;northwest&#39;, &#39;southeast&#39;, &quot;southwest&#39;, &quot;up&quot;, &quot;down&quot;, &quot;up and to the ...&quot; (north, east, south, west) or &quot;down and to the ... &#39;(north south east or west).--&gt; 

&lt;!-- Normally, directions other than north south east and west are handled by Exception variables, upOnScreen2, downOnScreen2, leftOnScreen2 and rightOnScreen2. Strictly speaking, the rule is merely that the standard screen directions take the opposite kind of value to the exception variables. So if the latter take the standard compass point directions then the former will take some unusual directions. This is permitted because, for some architectures, we want the usual directions to be exceptions. E.g. in a tower we want &quot;up&quot; to be more common than &quot;north&quot;. --&gt; 

&lt;!-- setAdjustableDirections decides, based on the flatness variable, what the rough geometry of the complex will be. This mainly means deciding how much verticality there is. --&gt;
&lt;!-- Settings: 
	Flat: May flips/rotate NSEW but no slopes or vertical directions
	Hilly: As Flat, no vertical, but may have occasional slopes. 
	2storey: Max 2 storeys with occasional slopes and vertical moves.
	noSlopes: As flat with vertical but no slopes. 
	wall: As flat but rotated around left/right axis = 3 storey depth 1.  
	castle: As noSlopes, but rotated around left/right axis on screen
	tower: As noSlopes, but rotated around up/down axis on screen
	pit: as tower but with entry point placed at top. 
	crypt: as castle but with entry point placed at top. 
--&gt;

(set: $setAdjustableDirections to 
(macro: [
	($initializeDirections:) 
	($setFlatVariables:)
	(if: $flatness is &quot;hilly&quot;)[($setHillyVariables:)]
	(if: $flatness is &quot;2storey&quot;)[($set3Dvariables:)]
	(if: $flatness is &quot;wall&quot;)[($setWallVariables:)]
	(if: $flatness is &quot;towery&quot;)[($setTowerVariables:)]
	(output-data:&quot;&quot;)
	]
	))
	
	
&lt;!-- northVariable is the direction up on the screen diagram, eastVariable is to the right on the screen, etc. But northVariable can take values other than north. To begin with, however, we map all diagram directions, including the exception variables, onto the intuitive compass points.
--&gt;
(set: $initializeDirections to 
(macro: [
	(set: $upOnScreen to &quot;north&quot;)
	(set: $downOnScreen to &quot;south&quot;)
	(set: $rightOnScreen to &quot;east&quot;)
	(set: $leftOnScreen to &quot;west&quot;)
	(set: $upOnScreen2 to &quot;north&quot;)
	(set: $downOnScreen2 to &quot;south&quot;)
	(set: $rightOnScreen2 to &quot;east&quot;)
	(set: $leftOnScreen2 to &quot;west&quot;)
	(output-data:&quot;&quot;)
	]
	))

&lt;!-- OPERATIONS 1: ROTATIONS, FLIPS --&gt;

&lt;!-- The following reassigns each screen direction variable to the value previously held by its clockwise orthogonal.--&gt;

(set: $rotate90CW to 
(macro: [
	(set: _n to $upOnScreen)
	(set: _e to $rightOnScreen)
	(set: _s to $downOnScreen)
	(set: _w to $leftOnScreen)
	(set: $upOnScreen to _e)
	(set: $rightOnScreen to _s)
	(set: $downOnScreen to _w)
	(set: $leftOnScreen to _n)
	(output-data: &quot;&quot;)
	]))

&lt;!-- The following rotates the map around the LR axis, i.e. up on the screen comes to represent vertical up (rather than north).--&gt;

(set: $rotate90aroundLR to 
(macro: [
	(set: $upOnScreen to &quot;up&quot;)
	(set: $downOnScreen to &quot;down&quot;)
	(set: $upOnScreen2 to ($rotateAroundLR: $upOnScreen2))
	(set: $downOnScreen2 to ($rotateAroundLR: $downOnScreen2))
	(output-data: &quot;&quot;)
	]))

&lt;!-- The following rotates the map around the UD axis, i.e. left on the screen comes to represent vertical up (rather than west).--&gt;

(set: $rotate90aroundUD to 
(macro: [
	(set: $leftOnScreen to &quot;up&quot;)
	(set: $rightOnScreen to &quot;down&quot;)
	(set: $leftOnScreen2 to ($rotateAroundUD: $leftOnScreen2))
	(set: $rightOnScreen2 to ($rotateAroundUD: $rightOnScreen2))
	(output-data: &quot;&quot;)
	]))

&lt;!-- The following rotates a particular value by 90 degrees around LR. Useful for the exception directions, whose prior value may or may not already be vertical .--&gt;

(set: $rotateAroundLR to 
(macro: str-type _direction, [
	(if: _direction is &quot;down&quot;)[(output-data: &quot;north&quot;)]
	(if: _direction is &quot;north&quot;)[(output-data: &quot;up&quot;)]
	(if: _direction is &quot;up&quot;)[(output-data: &quot;south&quot;)]
	(if: _direction is &quot;south&quot;)[(output-data: &quot;down&quot;)]
	(output-data: &quot;&quot;)
	]))

&lt;!-- The following rotates a particular value by 90 degrees around UD. Useful for the exception directions, whose prior value may or may not already be vertical .--&gt;

(set: $rotateAroundUD to 
(macro: str-type _direction, [
	(if: _direction is &quot;up&quot;)[(output-data: &quot;east&quot;)]
	(if: _direction is &quot;east&quot;)[(output-data: &quot;down&quot;)]
	(if: _direction is &quot;down&quot;)[(output-data: &quot;west&quot;)]
	(if: _direction is &quot;west&quot;)[(output-data: &quot;up&quot;)]
	(output-data: &quot;&quot;)
	]))

&lt;!-- Flips the assignment of compass points to the map left to right.--&gt;

(set: $flipLR to
(macro: [
	(set: _e to $leftOnScreen)
	(set: _w to $rightOnScreen)
	(set: $leftOnScreen to _w)
	(set: $rightOnScreen to _e)
	(output-data: &quot;&quot;)
	]))

&lt;!-- Flips the assignment of compass points to the map up to down.--&gt;

(set: $flipUD to
(macro: [
	(set: _e to $upOnScreen)
	(set: _w to $downOnScreen)
	(set: $upOnScreen to _w)
	(set: $downOnScreen to _e)
	(output-data: &quot;&quot;)
	]))

&lt;!-- OPERATIONS 2: FLIPPING/ROTATING START ROOMS--&gt;

&lt;!--The following functions are called by architecture functions to flip/rotate the startRoom along with the map.--&gt;

(set: $flipStartRoomLR to
(macro: str-type _direction, [
	(set: _x to (cond:
		$startRoom is &quot;room 8&quot;,&quot;room 4&quot;,
		$startRoom is &quot;room 4&quot;,&quot;room 8&quot;,
		$startRoom is &quot;room 5&quot;,&quot;room 2&quot;,
		$startRoom is &quot;room 2&quot;,&quot;room 5&quot;,
		$startRoom))
	(set: $startRoom to _x)
	(output-data:&quot;&quot;)
	]
	))
	
(set: $flipStartRoomUD to
(macro: str-type _direction, [
	(set: _x to (cond:
		$startRoom is &quot;room 4&quot;,&quot;room 5&quot;,
		$startRoom is &quot;room 5&quot;,&quot;room 4&quot;,
		$startRoom is &quot;room 8&quot;,&quot;room 2&quot;,
		$startRoom is &quot;room 2&quot;,&quot;room 8&quot;,
		$startRoom))
	(set: $startRoom to _x)
	(output-data:&quot;&quot;)
	]
	))
	
(set: $rotateStartRoom to
(macro: str-type _direction, [
	(set: _x to (cond:
		$startRoom is &quot;room 4&quot;,&quot;room 8&quot;,
		$startRoom is &quot;room 8&quot;,&quot;room 2&quot;,
		$startRoom is &quot;room 2&quot;,&quot;room 5&quot;,
		&quot;room 4&quot;))
	(set: $startRoom to _x)
	(output-data:&quot;&quot;)
	]
	))


(set: $towerStart to 
(macro: str-type _startRoom, [
	(if: $startRoom is in (a:4,5))[($flipStartRoomLR:)]
	(output-data: &quot;&quot;)
	]))	
	
(set: $pitStart to 
(macro: str-type _startRoom, [
	(if: $startRoom is in (a:8,2))[($flipStartRoomLR:)]
	(output-data: &quot;&quot;)
	]))	
	
(set: $wallStart to 
(macro: str-type _startRoom, [
	(if: $startRoom is in (a:4,8))[($flipStartRoomUD:)]
	(output-data: &quot;&quot;)
	]))	
	
(set: $cryptStart to 
(macro: str-type _startRoom, [
	(if: $startRoom is in (a:5,2))[($flipStartRoomUD:)]
	(output-data: &quot;&quot;)
	]))	
	

	
&lt;!-- OPERATIONS 3: FIXING EXCEPTION VARIABLES  --&gt;

&lt;!-- Randomly chooses wheether to set the assignment of UD exception variables to directed slopes.--&gt;

(set: $UDOnScreenToSlopes to
(macro: [
	(set: _x to ($srandom: 1))
	(if: _x is 0)[
		(set: $upOnScreen2 to &quot;up and to the &quot; + $upOnScreen2)
		(set: $downOnScreen2 to &quot;down and to the &quot; + $downOnScreen2)
		]
	(else:) [
		(set: $upOnScreen2 to &quot;down and to the &quot; + $upOnScreen2)
		(set: $downOnScreen2 to &quot;up and to the &quot; + $downOnScreen2)
		]
	(output-data: &quot;&quot;)
	]))

&lt;!-- Randomly chooses wheether to set the assignment of LR exception variables to directed slopes.--&gt;

(set: $LROnScreenToSlopes to
(macro: [
	(set: _x to ($srandom: 1))
	(if: _x is 0)[
		(set: $rightOnScreen2 to &quot;up and to the &quot; + $upOnScreen2)
		(set: $leftOnScreen2 to &quot;down and to the &quot; + $downOnScreen2)
		]
	(else:) [
		(set: $rightOnScreen2 to &quot;down and to the &quot; + $upOnScreen2)
		(set: $leftOnScreen2 to &quot;up and to the &quot; + $downOnScreen2)
		]
	(output-data: &quot;&quot;)
	]))
	
&lt;!-- Randomly chooses whether to set the UD exception variables to vertical directions.--&gt;

(set: $UDOnScreenToVertical to
(macro: [
	(set: _x to ($srandom: 1))
	(if: _x is 0)[
		(set: $upOnScreen2 to &quot;up&quot;)
		(set: $downOnScreen2 to &quot;down&quot;)
		]
	(else:) [
		(set: $upOnScreen2 to &quot;down&quot;)
		(set: $downOnScreen2 to &quot;up&quot;)
		]
	(output-data: &quot;&quot;)
	]))
	
&lt;!-- Randomly chooses wheether to set the LR exception variables to vertical directions.--&gt;

(set: $LROnScreenToVertical to
(macro: [
	(set: _x to ($srandom: 1))
	(if: _x is 0)[
		(set: $rightOnScreen2 to &quot;up&quot;)
		(set: $leftOnScreen2 to &quot;down&quot;)
		]
	(else:) [
		(set: $rightOnScreen2 to &quot;down&quot;)
		(set: $leftOnScreen2 to &quot;up&quot;)
		]
	(output-data: &quot;&quot;)
	]))

&lt;!-- Randomly chooses wheether to set the UD exception variables to directly vertical directions or to slopes.--&gt;

(set: $UDOnScreenToNonFlat to
(macro: [
	(set: _x to ($srandom: 1))
	(if: _x is 0)[
		($UDOnScreenToVertical:)
		]
	(else:) [
		($UDOnScreenToSlopes:)
		]
	(output-data: &quot;&quot;)
	]))

&lt;!-- Randomly chooses wheether to set the LR exception variables to directly vertical directions or to slopes.--&gt;

(set: $LROnScreenToNonFlat to
(macro: [
	(set: _x to ($srandom: 1))
	(if: _x is 0)[
		($LROnScreenToVertical:)
		]
	(else:) [
		($LROnScreenToSlopes:)
		]
	(output-data: &quot;&quot;)
	]))
	
&lt;!-- ARCHITECTURAL STYLE FUNCTIONS --&gt;

&lt;!-- This decides randomly whether to flip the axes and rotate.--&gt; 

(set: $setFlatVariables to 
(macro: [
	(set: _x to ($srandom: 7))
	(if: _x is even)[
		($flipLR:)
		($flipStartRoomLR:)]
	(if: _x &lt; 4)[
		($flipUD:)
		($flipStartRoomUD:)]
	(if: _x is in (a: 0,2,5,7)[
		($rotate90CW:)
		($rotateStartRoom:)]
	(output-data: &quot;&quot;)
	]))
	
&lt;!-- Calls the above then decides randomly whether to make the exception variables into slopes.--&gt; 

(set: $setHillyVariables to 
(macro: [
	($setFlatVariables:)
	(set: _x to ($srandom: 3))
	(if: _x is even)[($UDOnScreenToSlopes:)]
	(if: _x &lt; 2)[($LROnScreenToSlopes:)]
	(output-data: &quot;&quot;)
	]))
	
&lt;!-- Calls the flatness scrambler then decides randomly whether to make the exception variables into slopes or vertical shifts.--&gt; 

(set: $set2storeyVariables to 
(macro: [
	($setFlatVariables:)
	(set: _x to ($srandom: 3))
	(if: _x is even)[($UDOnScreenToSlopes:)]
	(else:)[($UDOnScreenToVertical:)]
	(if: _x &lt; 2)[($LROnScreenToSlopes:)]
	(else:)[($LROnScreenToVertical:)]
	(output-data: &quot;&quot;)
	]))
	
&lt;!-- Calls the flatness scrambler then decides randomly whether to make the exception variables into vertical shifts.--&gt; 

(set: $setNoSlopesVariables to 
(macro: [
	($setFlatVariables:)
	(set: _x to ($srandom: 3))
	(if: _x is even)[($UDOnScreenToVertical:)]
	(if: _x &lt; 2)[($LROnScreenToVertical:)]
	(output-data: &quot;&quot;)
	]))	
	
&lt;!-- Calls the flatness scrambler then rotates around LR axis.--&gt; 

(set: $setWallVariables to 
(macro: [
	($setFlatVariables:)
	($rotate90aroundLR:)
	(set: $startRoom to &quot;room 3&quot;)
	(output-data: &quot;&quot;)
	]))
	
&lt;!-- Calls the noSlopes builder then rotates around LR axis.--&gt; 

(set: $setCastleVariables to 
(macro: [
	($setNoSlopesVariables:)
	($rotate90aroundLR:)
	(set: $startRoom to &quot;room 3&quot;)
	(output-data: &quot;&quot;)
	]))
	
&lt;!-- Calls the noSlopes builder then rotates around UD axis.--&gt; 

(set: $setTowerVariables to 
(macro: [
	($setNoSlopesVariables:)
	($rotate90aroundUD:)
	(set: $startRoom to ($towerStart: $startRoom))
	(output-data: &quot;&quot;)
	]))
	

	
	
	
	
	
	
	
	
	
	
	
	
	
	
}

</tw-passagedata><tw-passagedata pid="69" name="room 4" tags="" position="1536,590" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 4)
(set: $thisYear to ($floorInt * 100) + $decadeNum + $thisRoomsNumber)
($refreshSentences:)}(border-color: purple) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[{

$complexSentence. 

(if: $thisYear is 1154 and $Stephen is not &quot;dead&quot;)[There is an old king here, about to die. [[You may hear his last words-&gt;Stephen&#39;s death]].](if: $thisYear is 1154 and $Stephen is &quot;dead&quot;)[There is a dead king here. Even in death his face looks tired and sad.]
(if: $thisYear is 814)[There is a pond here, in which there shimmers a bright light from above. If you wish you may [[look up at the light-&gt;Charlemagnes Death.]].]

From here you may go [[$rightOnScreen-&gt;passage 4]] or [[$downOnScreen-&gt;passage 5]]. 

(if: $startRoom is &quot;room 4&quot;)[$returnText]

}]</tw-passagedata><tw-passagedata pid="70" name="passage 7" tags="" position="2153,875" size="100,100">{(set: $thisRoomsNumber to 17)
(set: $thisYear to 10000)}
(border-color: grey) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence2. 
From here you may go [[$rightOnScreen-&gt;room 2]]($toThePhrase: 2), [[$upOnScreen-&gt;room 7]]($toThePhrase: 7) or [[$leftOnScreen-&gt;room 1]]($toThePhrase: 1). </tw-passagedata><tw-passagedata pid="71" name="room 1" tags="" position="2006,872" size="100,100">{($setImage:)
(set: $thisRoomsNumber to 1)
(set: $thisYear to ($floorInt * 100) + $thisRoomsNumber)
($refreshSentences:)
}(border-color: (white) + (border:&quot;solid&quot;) + (b4r-size:4)  + (background: &quot;https://i.ibb.co/RvgVfhk/grey-Background.png&quot;)[$complexSentence. 

From here you may go [[$upOnScreen2-&gt;passage 1]], [[$leftOnScreen-&gt;room 3]]($toThePhrase: 3) or [[$rightOnScreen-&gt;passage 7]].
(if: $startRoom is &quot;room 2&quot;)[$returnText]]</tw-passagedata></tw-storydata>

<tw-storydata name="decade template 1.0" startnode="38" creator="Twine" creator-version="2.3.12" ifid="34E0449E-50BF-4584-89B7-7A2BA4DF6B80" zoom="0.6" format="Harlowe" format-version="3.2.1" options="" hidden><style role="stylesheet" id="twine-user-stylesheet" type="text/twine-css"></style><script role="script" id="twine-user-script" type="text/twine-javascript">window.Harlowe = { 'State' : State };
window.processInputElements = function () {
    $('input[data-varname]').on('change', function () {
        var varName = $(this).attr('data-varname');
        Harlowe.State.variables[varName] = this.value;
        $("tw-story").css("background-size","cover");


			
					
    });
};


if (typeof window.CustomScripts == "undefined") {
	window.CustomScripts = {
		updateBackground(myBackground){
			// if it's always going to be cover, you can put it outside the if statement
			$("tw-story").css("background-size","cover");
			
			// check the functions parameter for which background image to use
			if(myBackground == 0) //century backgrounds take nos 0, 100, 200 etc.
			{
				$("tw-story").css("background-image","url(https://th.bing.com/th/id/Rf5fecfd0d9830aab6202cf747bd3ad01?rik=L2W1jbILOWUswA&riu=http%3a%2f%2fak3.picdn.net%2fshutterstock%2fvideos%2f3933461%2fthumb%2f2.jpg&ehk=Jj2vK1CpTF0Tkwwx8bW4RAHwBltP9rnWO4IfZTCfsMY%3d&risl=&pid=ImgRaw)");
			}
			else if(myBackground == -1) // 
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/08/b2/5a/08b25ac76c7c0c5571e0b98af8bd53f5.jpg)");
			}
			else if(myBackground == 1) // decade nos end in 1
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/zJvFgQF/mushroom-Catacombs.jpg)");
			}
			else if(myBackground == 11)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/3b/a6/7c/3ba67c68c69aa5ff049e70af3e1398be.jpg)");
			}
			else if(myBackground == 21)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/hCsSZw0/CREATOR-gd-jpeg-v1-0-using-IJG-JPEG-v80-quality-80.jpg)");
			}
			else if(myBackground == 31)
			{
				$("tw-story").css("background-image","url(https://farm4.staticflickr.com/3881/14548118871_9a25db8f3b_k.jpg)");
			}
			else if(myBackground == 41)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/2c/6a/6d/2c6a6da05c9ba99228068306657fbf82.jpg)");
			}
			else if(myBackground == 51)
			{
				$("tw-story").css("background-image","url(https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/224cf4fa-33d8-4223-974d-67aecc72bd2c/d32esvm-fab667ec-f070-4610-baf7-d1f993c43768.jpg/v1/fill/w_800,h_600,q_75,strp/the_armory_by_rytango-d32esvm.jpg?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwic3ViIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsImF1ZCI6WyJ1cm46c2VydmljZTppbWFnZS5vcGVyYXRpb25zIl0sIm9iaiI6W1t7InBhdGgiOiIvZi8yMjRjZjRmYS0zM2Q4LTQyMjMtOTc0ZC02N2FlY2M3MmJkMmMvZDMyZXN2bS1mYWI2NjdlYy1mMDcwLTQ2MTAtYmFmNy1kMWY5OTNjNDM3NjguanBnIiwid2lkdGgiOiI8PTgwMCIsImhlaWdodCI6Ijw9NjAwIn1dXX0.eOpCwc84GDmV-LB1ltAyddWpeuwIVVH9qw4oPJeQbKM)");
			}
			else if(myBackground == 61)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/60/f9/69/60f969f538253f68ec5be1b5846a2568.jpg)");
			}
			else if(myBackground == 71)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/g9hVkhF/catacombs-Chapel4.jpg)");
			}
			else if(myBackground == 81)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/yf9SCJJ/leper-Colony2.jpg)");
			}
			else if(myBackground == 91)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/7f/64/42/7f64421b6c16a31104cba0471dd5daca.jpg)");
			}
			else if(myBackground == 100)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/4f/0b/88/4f0b88df6b723ffda1fb80629884521a.jpg)");
			}
			else if(myBackground == 101)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/5b/c7/19/5bc719f84cfc170ff0558702b2c97876.jpg)");
			}
			else if(myBackground == 111)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/84/77/ea/8477eac606801135e48e2208305f3914.jpg)");
			}
			else if(myBackground == 121)
			{
				$("tw-story").css("background-image","url(https://th.bing.com/th/id/Rde8b516f69680e4a2a7243c2ec81a701?rik=FLjo2Zvd6dVPyw&riu=http%3a%2f%2fimages4.wikia.nocookie.net%2f__cb20130419200553%2fspartacus%2fimages%2f5%2f59%2fSpartacus_Legends_Ludus_fight.png&ehk=YzsHyiOKeH38%2fusktTVJv%2beUid2DYSentQ23hcClX98%3d&risl=&pid=ImgRaw)");
			}
			else if(myBackground == 131)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/736x/ce/51/f7/ce51f7c230d6e0bafabd04862133349a.jpg)");
			}
			else if(myBackground == 141)
			{
				$("tw-story").css("background-image","url(https://www.thesimsresource.com/scaled/2599/w-800h-600-2599642.jpg)");
			}
			else if(myBackground == 151)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/6a/7f/c1/6a7fc16f23671dc5bd0bed4c462eccc4.jpg)");
			}
			else if(myBackground == 161)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/0F4cX5y/roman-Slave-Marke5.jpg)");
			}
			else if(myBackground == 171)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/736x/d2/e4/c1/d2e4c197c68fe2cb4d2e7de5f4143e2b.jpg)");
			}
			else if(myBackground == 181)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/b4/39/a8/b439a87560b02424c656b1120e29740d.jpg)");
			}
			else if(myBackground == 191)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/4c/ae/c0/4caec06d6814e915a3c32affa4123800.jpg)");
			}
			else if(myBackground == 200)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/QP3FV3P/forbidden-City.jpg)");
			}
			else if(myBackground == 201)
			{
				$("tw-story").css("background-image","url(https://th.bing.com/th/id/R2cae1fcbbabcb57451c68fc47571a351?rik=leu7YgYWctPMsg&riu=http%3a%2f%2faidanmoher.com%2fblog%2fwp-content%2fuploads%2f2014%2f07%2ftwilight_garden_by_alextooth-d5t47sa.jpg&ehk=3knU%2fwpIey%2b%2bQT8LlaYoJrnuJ36TOKBVgzJHM3SAHtA%3d&risl=&pid=ImgRaw)");
			}
			else if(myBackground == 211)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/5f/00/3f/5f003fc16b10572cfe4c34c313beec70.jpg)");
			}
			else if(myBackground == 221)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/9c/99/54/9c9954bc49514aafb47624cbb3c2a993.jpg)");
			}
			else if(myBackground == 231)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/9c/85/32/9c853217e910c978b24ed75ac63e923f.jpg)");
			}
			else if(myBackground == 241)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/67/f0/8b/67f08bbc42a27c9da1011532332c1fe5.jpg)");
			}
			else if(myBackground == 251)
			{
				$("tw-story").css("background-image","url(https://gcdn.daz3d.com/p/56851/i/chinese-temple-gate-05-daz3d.jpg)");
			}
			else if(myBackground == 261)
			{
				$("tw-story").css("background-image","url(https://gcdn.daz3d.com/p/63811/i/china-houses-04-daz3d.jpg)");
			}
			else if(myBackground == 271)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/14/10/2a/14102a474694c64c8f3779901390effc.jpg)");
			}
			else if(myBackground == 281)
			{
				$("tw-story").css("background-image","url(https://c4.wallpaperflare.com/wallpaper/49/579/585/jungle-fantasy-art-asian-architecture-artwork-wallpaper-preview.jpg)");
			}
			else if(myBackground == 291)
			{
				$("tw-story").css("background-image","url(https://c4.wallpaperflare.com/wallpaper/672/517/150/nature-digital-art-water-artwork-wallpaper-preview.jpg)");
			}
			else if(myBackground == 300)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/1a/b3/ef/1ab3ef0450478c4305701a2361add0a1.jpg)");
			}
			else if(myBackground == 301)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/BGgLGn6/farm.png)");
			}
			else if(myBackground == 311)
			{
				$("tw-story").css("background-image","url(https://farm4.staticflickr.com/3385/3496684667_b8f76dc6c1_z.jpg)");
			}
			else if(myBackground == 321)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/32/13/9d/32139df326afc0e39257f8494d345830.jpg)");
			}	
			else if(myBackground == 331)
			{
				$("tw-story").css("background-image","url(			https://i.pinimg.com/originals/a9/ed/9e/a9ed9efa3644d7d499d97e07395a55c6.jpg)");
			}
			else if(myBackground == 341)
			{
				$("tw-story").css("background-image","url(			https://i.pinimg.com/originals/42/ef/59/42ef592a42eb7cb19dfbadb818d73b3e.jpg)");
			}	
			else if(myBackground == 351)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/af/ea/b4/afeab4b55f09b86fd10b5cb7eeb1da14.jpg)");
			}
			else if(myBackground == 361)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/crJ8skB/under-Ground-Mine.jpg)");
			}
			else if(myBackground == 371)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/q09vQgb/The-Hedge-Maze.jpg)");
			}
			else if(myBackground == 381)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/YD4Gczm/st-John-The-Forerunner.jpg)");
			}
			else if(myBackground == 391)
			{
				$("tw-story").css("background-image","url(https://cdn.staticneo.com/n/1/hellraidtease.jpg)");
			}	
			else if(myBackground == 400)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/mqnHtMw/romeRuin.jpg)");
			}		
			else if(myBackground == 401)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/69/b6/28/69b6284a11d4bb26dabb4b5b181eeac6.jpg)");
			}
			else if(myBackground == 411)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/6HTWp0p/circus.jpg)");
			}
			else if(myBackground == 421)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/cc/a4/3f/cca43f0d9a53e1df81cda400000101dd.jpg)");
			}
			else if(myBackground == 431)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/33/33/b9/3333b98d98b9445d71b78a6b284cfe99.jpg)");
			}
			else if(myBackground == 441)
			{
				$("tw-story").css("background-image","url(https://cdna.artstation.com/p/assets/images/images/002/303/018/large/dongmin-shin-templar-ruinedtown-wip9.jpg?1459996240)");
			}	
			else if(myBackground == 451)
			{
				$("tw-story").css("background-image","url(https://www.wallpaperup.com/uploads/wallpapers/2013/07/20/120965/89b86219a5d4290deb3ff8c0da5b1a36.jpg)");
			}
			else if(myBackground == 461)
			{
				$("tw-story").css("background-image","url(https://i2-prod.mirror.co.uk/incoming/article5552145.ece/ALTERNATES/s1227b/PAY-Holmesburg-Prison.jpg)");
			}
			else if(myBackground == 471)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/ngYfvzq/garden.jpg)");
			}
			else if(myBackground == 481)
			{
				$("tw-story").css("background-image","url(https://cdna.artstation.com/p/assets/images/images/000/119/916/large/klaus-wittmann-asylum22.jpg?1443927398)");
			}
			else if(myBackground == 491)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/MZhYCtM/deathPit.jpg)");
			}
			else if(myBackground == 500)
			{
				$("tw-story").css("background-image","url(https://3.bp.blogspot.com/-79MN6Y6He4s/VHdEsATzIGI/AAAAAAADkaM/kQwDbXhJiLg/s1600/David%2BJermann-www.kaifineart.com-3.jpg)");
			}
			else if(myBackground == 501)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/f9pKJcb/enchanted-Wood2.jpg)");
			}	
			else if(myBackground == 511)
			{
				$("tw-story").css("background-image","url(http://coolvibe.com/wp-content/uploads/2012/08/2D-Art-Marcel-Mercado-Joust.jpg)");
			}	
			else if(myBackground == 521)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/68/7c/00/687c000923c080f9dc0c5e1c3cd0d0fa.jpg)");
			}				
			else if(myBackground == 531)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/1bZykJc/lake-by-glooh2.jpg)");
			}	
			else if(myBackground == 541)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/0e/c0/3c/0ec03c0d994e171ac1aa32c49eb84d6e.jpg)");
			}	
			else if(myBackground == 551)
			{
				$("tw-story").css("background-image","url(https://images8.alphacoders.com/911/911883.jpg)");
			}	
			else if(myBackground == 561)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/f5/3e/3e/f53e3eb5bdd368ca60a01f157dc101d7.jpg)");
			}			
			else if(myBackground == 571)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/b2/67/39/b26739e37de690d1f43a6879cc5310f9.jpg)");
			}		
			else if(myBackground == 581)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/e2/53/5b/e2535b15f700f58515d548d7dd2aed27.jpg)");
			}				
			else if(myBackground == 591)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/KDCTZB2/plague-Barrow.jpg)");
			}	
			else if(myBackground == 600)
			{
				$("tw-story").css("background-image","url(http://vignette3.wikia.nocookie.net/assassinscreed/images/b/b8/Damascus-depth.jpg/revision/latest?cb=20100918105609)");
			}	
			else if(myBackground == 601)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/f1/20/1b/f1201baf2cec354672609d02d7ad4302.jpg)");
			}	
			else if(myBackground == 611)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/1dvz7wZ/hashish-Den4.jpg)");
			}
			else if(myBackground == 621)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/e9/2c/4c/e92c4caa1d93e7e015875de38ba6a16f.jpg)");
			}
			else if(myBackground == 631)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/69/9b/77/699b77b9295494ee80e77b84b98c0f7d.jpg)");
			}	
			else if(myBackground == 641)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/X29k7Xs/bazaar.jpg)");
			}	
			else if(myBackground == 651)
			{
				$("tw-story").css("background-image","url(https://static.thousandwonders.net/Citadel.of.Aleppo.original.36222.jpg)");
			}
			else if(myBackground == 661)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/2a/a6/a9/2aa6a900e767e36825a32d0a90d8b461.jpg)");
			}
			else if(myBackground == 671)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/a1/04/08/a10408cce174ca470a2341ad74755010.jpg)");
			}
			else if(myBackground == 681)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/3e/9c/40/3e9c40a4b3bd04ed44f843d22363ab48.jpg)");
			}
			else if(myBackground == 691)
			{
				$("tw-story").css("background-image","url(https://aidanmoher.com/blog/wp-content/uploads/2014/07/desert_village_by_crs1009-d5zij53.jpg)");
			}
			else if(myBackground == 700)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/9Hyc6dz/gothic-Street.png)");
			}
			else if(myBackground == 701)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/hVYjhGq/CREATOR-gd-jpeg-v1-0-using-IJG-JPEG-v80-quality-90.jpg)");
			}
			else if(myBackground == 711)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/cxY4RWS/thermae.jpg)");
			}
			else if(myBackground == 721)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/dmRYrMT/holy-Library3.jpg)");
			}
			else if(myBackground == 731)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/vY7jChx/womensewing-Twilight.jpg)");
			}
			else if(myBackground == 741)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/24/e7/26/24e726a009e9c0905cbaf1ed8772caf1.jpg)");
			}
			else if(myBackground == 751)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/1rbyYTq/barracks4.png)");
			}
			else if(myBackground == 761)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/c7/60/28/c76028bc15bd6698b329980f7470cf49.jpg)");
			}
			else if(myBackground == 771)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/6c/25/76/6c2576e3bc81bc621c99980232d5c689.jpg)");
			}
			else if(myBackground == 781)
			{
				$("tw-story").css("background-image","url(https://uploads6.wikiart.org/images/francisco-goya/plague-hospital-1800.jpg!Large.jpg)");
			}
			else if(myBackground == 791)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/25/ee/e0/25eee032d448a0eec4b745e5a7a56aa8.jpg)");
			}
			else if(myBackground == 800)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/6c/fe/8c/6cfe8c56f9c18de0e14e98c531cde07a.jpg)");
			}
			else if(myBackground == 801)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/yWhgVjT/swamp4.jpg)");
			}		
			else if(myBackground == 811)
			{
				$("tw-story").css("background-image","url(https://jkroots.com/wp-content/uploads/2017/08/MysticPondPrint-scaled.jpg)");
			}	
			else if(myBackground == 821)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/6b9LMjn/flooded-Library.png)");
			}			
			else if(myBackground == 831)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/fa/6c/fd/fa6cfd32e3239cdf71f5331a95a9746b.jpg)");
			}	
			else if(myBackground == 841)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/ea/e1/65/eae16566315c05e3c623e4c3c7c06862.jpg)");
			}	
			else if(myBackground == 851)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/bm5QH4c/sunken-Castle2.jpg)");
			}	
			else if(myBackground == 861)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/Tg6YH9v/pit-trap.jpg)");
			}				
			else if(myBackground == 871)
			{
				$("tw-story").css("background-image","url(https://www.wallpaperflare.com/static/208/667/589/church-fantasy-art-birds-artwork-wallpaper.jpg)");
			}			
			else if(myBackground == 881)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/37/00/be/3700be067e2732b411d950946ea44a4a.jpg)");
			}	
			else if(myBackground == 891)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/95/16/cf/9516cf9c7a517d5980c3453c1544617e.jpg)");
			}	
			else if(myBackground == 900)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/736x/04/b6/57/04b657073078dba8dca71997b12663a4--medieval-games-fantasy-places.jpg)");
			}		
			else if(myBackground == 901)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/a7/4f/ad/a74fade689cd083107e42a2c6b919111.jpg)");
			}
			else if(myBackground == 911)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/2f/44/1b/2f441ba97d6e280d52a0c88cc39e569b.jpg)");
			}		
			else if(myBackground == 1400)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/bvCrvx9/shipPOV6.png)");
			}	
			else if(myBackground == 1401)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/sQ4rVkX/island2.jpg)");
			}		
			else if(myBackground == 1411)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/1zcyxQy/war-bear-by-dongjunlu-dbz8ane.jpg)");
			}	
			else if(myBackground == 1421)
			{
				$("tw-story").css("background-image","url(https://ih1.redbubble.net/image.9236055.2932/flat,1000x1000,075,f.jpg)");
			}			
			else if(myBackground == 1431)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/nMKJgGs/wallup-net.jpg)");
			}	
			else if(myBackground == 1441)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/ssWNSGg/alexander-skold-alexander-skold-aztec-empire-1.jpg)");
			}	
			else if(myBackground == 1451)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/QfPdkpX/wallup-net.jpg)");
			}	
			else if(myBackground == 1461)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/c7/21/d9/c721d9fc92848c2419b43c670a25f15f.jpg)");
			}				
			else if(myBackground == 1471)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/9gdQzqF/cathedral.jpg)");
			}			
			else if(myBackground == 1481)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/QKnCzFy/torture-Hall.jpg)");
			}	
			else if(myBackground == 1491)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/60792FM/impaled-Fields.jpg)");
			}	
			else if(myBackground == 2071)
			{
				$("tw-story").css("background-image","url(http://www.scififantasyhorror.co.uk/wp-content/gallery/Su-Jian/su-jian-scifi-art-11.jpg)");
			}
			else
			{
				$("tw-story").css("background-image","none");
			}
		}
	}
}

</script><tw-passagedata pid="1" name="room 0" tags="" position="950,443" size="100,100">{(set: $thisRoomsNumber to 0)}$complexSentence. There is $zeroMarker here. From here you may go [[$upEastVariable-&gt;room 1]] or go [[$southVariable-&gt;passage 1]]. [(if: $optionalPath contains 4)[You may also go [[$westVariable-&gt;room 9]].]]

(if: $startRoom is &quot;room 0&quot;)[$returnText]</tw-passagedata><tw-passagedata pid="2" name="room 1" tags="" position="1099,447" size="100,100">{(set: $thisRoomsNumber to 1)} $complexSentence. There is $oneMarker here. From here you may go [[$downWestVariable-&gt;room 0]]. [(if: $optionalPath contains 0)[You may also go [[$southVariable-&gt;room 7]].]]
[(if: $optionalPath contains 3)[An alternative is to go [[$eastVariable-&gt;room 8]].]]</tw-passagedata><tw-passagedata pid="3" name="passage 1" tags="" position="951,590" size="100,100">{(set: $thisRoomsNumber to 11)}$complexSentence2. From here you may go [[$northVariable-&gt;room 0]]  or [[$downSouthVariable-&gt;room 2]]. [(unless: $optionalPath contains 0)[You may also go [[$upEastVariable-&gt;room 7]].]][(unless: $optionalPath contains 1)[An alternative is to go [[$westVariable-&gt;room 4]].]]</tw-passagedata><tw-passagedata pid="4" name="room 2" tags="" position="952,731" size="100,100">{(set: $thisRoomsNumber to 2)}$complexSentence. There is $twoMarker here. From here you may go [[$upNorthVariable-&gt;passage 1]] or [[$westVariable-&gt;room 3]]. </tw-passagedata><tw-passagedata pid="5" name="room 3" tags="" position="800,731" size="100,100">{(set: $thisRoomsNumber to 3)}$complexSentence. There is $threeMarker here. From here you may go [[$eastVariable-&gt;room 2]] or [[$westVariable-&gt;passage 2]]. [(if: $optionalPath contains 1)[An alternative is to go [[$upNorthVariable-&gt;room 4]].]]</tw-passagedata><tw-passagedata pid="6" name="room 4" tags="" position="805,590" size="100,100">{(set: $thisRoomsNumber to 4)}$complexSentence. There is $fourMarker here. From here you may go 
[(if: $optionalPath contains 1)[[[$downSouthVariable-&gt;room 3]].](else:)[[[$eastVariable-&gt;passage 1]].]]
[(if: $optionalPath contains 2)[You may also go [[$westVariable-&gt;room 6]].]]
[(unless: $optionalPath contains 4)[An alternative is to go [[$northVariable-&gt;room 9]].]]</tw-passagedata><tw-passagedata pid="7" name="passage 2" tags="" position="647,731" size="100,100">{(set: $thisRoomsNumber to 12)}
$complexSentence2. From here you may go [[$eastVariable-&gt;room 3]] or [[$westVariable-&gt;room 5]]. [(unless: $optionalPath contains 2)[You may also go [[$upNorthVariable-&gt;room 6]].]]

(if: $startRoom is &quot;passage 2&quot;)[$returnText]</tw-passagedata><tw-passagedata pid="8" name="room 7" tags="" position="1099,592" size="100,100">{(set: $thisRoomsNumber to 7)}$complexSentence. There is $sevenMarker here. [(if: $optionalPath contains 0)[You may go [[$northVariable-&gt;room 1]] from here.](else:)[You may go [[$downWestVariable-&gt;passage 1]] from here.]]
[(unless: $optionalPath contains 3)[You may also go [[$eastVariable-&gt;passage 3]].]]</tw-passagedata><tw-passagedata pid="9" name="room 8" tags="" position="1240,447" size="100,100">{(set: $thisRoomsNumber to 8)} $complexSentence. There is $eightMarker here. [(if: $optionalPath contains 3)[You may go [[$westVariable-&gt;room 1]].](else:)[You may go [[$southVariable-&gt;passage 3]].]]</tw-passagedata><tw-passagedata pid="10" name="room 5" tags="" position="476,731" size="100,100">{(set: $thisRoomsNumber to 5)}$complexSentence. There is $fiveMarker here. From here you may go [[$eastVariable-&gt;passage 2]]. [(if: $optionalPath contains 6)[An alternative is to go [[$upNorthVariable-&gt;passage 5]].]]</tw-passagedata><tw-passagedata pid="11" name="room 6" tags="" position="642,587" size="100,100">{(set: $thisRoomsNumber to 6)}$complexSentence. There is $sixMarker here. 
[(if: $optionalPath contains 2)[You may go [[$eastVariable-&gt;room 4]] from here.](else:)[You may go [[$downSouthVariable-&gt;passage 2]] from here.]]
[(if: $optionalPath contains 5)[You may also go [[$northVariable-&gt;passage 4]].]]
[(if: $optionalPath contains 6)[An alternative is to go [[$westVariable-&gt;passage 5]].]]</tw-passagedata><tw-passagedata pid="12" name="definitions test" tags="" position="126,521" size="100,100">{
(set: $fixOptionalPaths to 
(macro: [
	(set: $optionalPath to (a:))
	($addPath:)($addPath:)($addPath:)($addPath:)($addPath:)($addPath:)
	(output-data:&quot;&quot;)
	]
	)
	)
	
(set: $addPath to 
(macro: [	
	(set: _x to (random: 6)) 
	(set: $optionalPath to it + (a:_x))
	(output-data:&quot;&quot;)
	]
	)
	)

(set: $levelDirection to (a: 
	(a: &quot;north&quot;, &quot;south&quot;),
	(a: &quot;east&quot;, &quot;west&quot;),
	(a: &quot;northeast&quot;, &quot;southwest&quot;), 
	(a: &quot;northwest&quot;, &quot;southeast&quot;)))

(set: $getLevelDirection to 
(macro: [
	(set: _length to length of $levelDirection)
	(set: _x to (random:1, _length))
	(set: _y to (_x) of $levelDirection)
	(set: $levelDirection to it - (_y))
	(output-data: _y)]))

(set: $generate3dDirection to 
(macro: [
	(set: _x to (random: 3))
	(if: _x is 2)[(output-data: (a: &quot;up a ladder&quot;, &quot;down a ladder&quot;))]
	(else:) [(set: $direc to ($getLevelDirection:))]
	(if: _x is 3)[
		(set: _z to (random:1))
		(if: _z is 0)[(set: _output to (a: &quot;up some steps to the &quot; + 1st of $direc, &quot;down some steps to the &quot; + 2nd of $direc))]
		(else:)[(set: $output3dDirection to (a: &quot;up some steps to the &quot; + 2nd of $direc, &quot;down some steps to the &quot; + 1st of $direc))]
		(output-data: $output3dDirection)]
	(else:) [(output-data: ($getLevelDirection:))]
	]
	))
	
(set: $firstDirection to ($generate3dDirection:))
(set: $secondDirection to ($generate3dDirection:))

(set: $setDirections to 
(macro: [
	(set: _x to (random: 1))
		(if: _x is 0) [
		(set: $northVariable to 1st of $firstDirection )
		(set: $southVariable to 2nd of $firstDirection )
		]
	(else:) [
		(set: $northVariable to 2nd of $firstDirection )
		(set: $southVariable to 1st of $firstDirection )
		]
	(set: _y to (random: 1))
		(if: _y is 0) [
		(set: $eastVariable to 1st of $secondDirection )
		(set: $westVariable to 2nd of $secondDirection )
		]
	(else:) [
		(set: $westVariable to 1st of $secondDirection )
		(set: $eastVariable to 2nd of $secondDirection )
		]
	(output-data:&quot;&quot;)
	]))
		
	
}

	
</tw-passagedata><tw-passagedata pid="13" name="passage 3" tags="" position="1241,592" size="100,100">{(set: $thisRoomsNumber to 13)}$complexSentence2. (unless: $optionalPath contains 3)[From here you may go [[$westVariable-&gt;room 7]].] (unless: $optionalPath contains 3)[From here you may go [[$northVariable-&gt;room 8]].]

(if: $startRoom is &quot;passage 3&quot;)[$returnText]</tw-passagedata><tw-passagedata pid="14" name="room 9" tags="" position="798,446" size="100,100">{(set: $thisRoomsNumber to 9)}
$complexSentence. There is $nineMarker here.[(if: $optionalPath contains 4)[You may also go [[$eastVariable-&gt;room 0]].](else:)[You may also go [[$southVariable-&gt;room 4]]. ]]
[(if: $optionalPath contains 5)[An alternative is to go [[$westVariable-&gt;passage 4]].]]</tw-passagedata><tw-passagedata pid="15" name="passage 4" tags="" position="640,448" size="100,100">{(set: $thisRoomsNumber to 14)}$complexSentence2. From here you may go [[$eastVariable-&gt;room 9]] or [[$southVariable-&gt;room 6]].</tw-passagedata><tw-passagedata pid="16" name="passage 5" tags="" position="480,587" size="100,100">{(set: $thisRoomsNumber to 15)}$complexSentence2. From here you may go [[$downSouthVariable-&gt;room 5]]. (if: $optionalPath contains 6)[An alternative is to go [[$eastVariable-&gt;room 6]].] 

(if: $startRoom is &quot;passage 5&quot;)[$returnText]</tw-passagedata><tw-passagedata pid="17" name="direction functions" tags="start-up startup" position="157,932" size="100,100">{
&lt;!-- The following two commands randomly decide whether to include optional connections between locations in the map. The map itself is set up to ensure that if one of these optional paths does not lead to a location, a different one will.--&gt; 

(set: $fixOptionalPaths to 
(macro: [
	(set: $optionalPath to (a:))
	($addPath:)($addPath:)($addPath:)($addPath:)($addPath:)($addPath:)
	(output-data:&quot;&quot;)
	]
	)
	)
	
(set: $addPath to 
(macro: [	
	(set: _x to (random: 6)) 
	(set: $optionalPath to it + (a:_x))
	(output-data:&quot;&quot;)
	]
	)
	)

&lt;!-- This determines whether to randomly rotate the flat NSEW map 90 degrees and whether (by calling flipFlatDirections) to flip either of the axes. Also sets start rooms. In the basic case, start rooms are northmost (room 0), eastmost (passage 3) southmost (passage 2) and westmost (passage 5), but if the map is rotated, these start rooms are also rotated.--&gt; 
(set: $setFlatDirections to 
(macro: [
	(set: _x to (random: 1))
	(if: _x is 0)[
		(set: $northVariable to &quot;north&quot;)
		(set: $southVariable to &quot;south&quot;) 
		(set: $eastVariable to &quot;east&quot;) 
		(set: $westVariable to &quot;west&quot;)
		(set: $startRooms to 
			(a: &quot;room 0&quot;, &quot;passage 3&quot;, &quot;passage 2&quot;, &quot;passage 5&quot;))
		]
	(else:) [
		(set: $northVariable to &quot;east&quot;)
		(set: $southVariable to &quot;west&quot;) 
		(set: $eastVariable to &quot;north&quot;) 
		(set: $westVariable to &quot;south&quot;)
		(set: $startRooms to 
			(a: &quot;passage 3&quot;, &quot;passage 2&quot;, &quot;passage 5&quot;, &quot;room 0&quot;))
		]
	($flipFlatDirections:)
	(output-data: &quot;&quot;)
	]))

&lt;!-- This randomly decides whether to flip a NSEW axis--&gt; 
(set: $flipFlatDirections to 
(macro: [
	(set: _x to (random: 1))
	(set: _y to (random: 1))
	(if: _x is 0)[
		(set: _temp to $southVariable)
		(set: $southVariable to $northVariable)
		(set: $northVariable to _temp)
		($flipNSstarts:) 
		]
	(if: _y is 0)[
		(set: _temp to $westVariable)
		(set: $westVariable to $eastVariable)
		(set: $eastVariable to _temp)
		($flipEWstarts:) 
		]
	(output-data: &quot;&quot;)
	]))

&lt;!-- The next two functions are called when the map is flipped, and they flip the extreme start rooms accordingly.--&gt; 

(set: $flipNSstarts to 
(macro: [
	(if: 1st of $startRooms is &quot;room 0&quot;)
		[(set: 1st of $startRooms to &quot;passage 2&quot;)
		(set: 3rd of $startRooms to &quot;room 0&quot;)
		]
	(else:)
		[(set: 4th of $startRooms to &quot;passage 2&quot;)
		(set: 2nd of $startRooms to &quot;room 0&quot;)
		]
	(output-data:&quot;&quot;)
	]))
	
(set: $flipEWstarts to 
(macro: [
	(if: 1st of $startRooms is &quot;room 0&quot;)
		[(set: 2nd of $startRooms to &quot;passage 5&quot;)
		(set: 4th of $startRooms to &quot;passage 3&quot;)
		]
	(else:)
		[(set: 1st of $startRooms to &quot;passage 5&quot;)
		(set: 3rd of $startRooms to &quot;passage 3&quot;)
		]
	(output-data:&quot;&quot;)
	]))	

&lt;!-- This decides randomly whether to flip the up down axes.--&gt; 
(set: $setUpDownDirections to 
(macro: [
	(set: _x to (random: 1))
	(if: _x is 0)[
		(set: $upVariable to &quot;up&quot;)
		(set: $downVariable to &quot;down&quot;)
		]
	(else:) [
		(set: $upVariable to &quot;down&quot;)
		(set: $downVariable to &quot;up&quot;)
		]
	(output-data: &quot;&quot;)
	]))

&lt;!-- The next two functions decide randomly whether to have ladders or steps in a NSEW direction.--&gt; 

(set: $setDownWestVariables to 
(macro: [
	(set: _x to (random: 1))
	(if: _x is 0)[
		(set: $upEastVariable to 
			$upVariable +  &quot; &quot; +
			$stairTerm + 
			&quot; to the &quot; + 
			$eastVariable)
		(set: $downWestVariable to 
			$downVariable +  &quot; &quot; +
			$stairTerm + 
			&quot; to the &quot; + 
			$westVariable)
		]
	(else:) [
		(set: $upEastVariable to $upVariable + &quot; &quot; + $ladderTerm)
		(set: $downWestVariable to $downVariable + &quot; &quot; + $ladderTerm)
		]
	(output-data: &quot;&quot;)
	]))

(set: $setDownSouthVariables to 
(macro: [
	(set: _x to (random: 1))
	(if: _x is 0)[
		(set: $upNorthVariable to 
			$upVariable + &quot; &quot; +
			$stairTerm + 
			&quot; to the &quot; +
			$northVariable)
		(set: $downSouthVariable to 
			$downVariable +  &quot; &quot; +
			$stairTerm +
			&quot; to the &quot; + 
			$southVariable)
		]
	(else:) [
		(set: $upNorthVariable to $upVariable + &quot; &quot; + $ladderTerm)
		(set: $downSouthVariable to $downVariable + &quot; &quot; + $ladderTerm)
		]
	(output-data: &quot;&quot;)
	]))
		





(set: $zeroMarker to &quot;a barrel&quot;)
(set: $oneMarker to &quot;a suit of armor&quot;)
(set: $twoMarker to &quot;a crystal swan&quot;)
(set: $threeMarker to &quot;a statue of a buxom woman&quot;)
(set: $fourMarker to &quot;a golf club&quot;)
(set: $fiveMarker to &quot;a collection of gold rings&quot;)
(set: $sixMarker to &quot;a cane&quot;)
(set: $sevenMarker to &quot;a severed head in a box&quot;)
(set: $eightMarker to &quot;a gateway to infinity&quot;)
(set: $nineMarker to &quot;a Nazgul&quot;)
}

</tw-passagedata><tw-passagedata pid="18" name="top left" tags="" position="485,1080" size="100,100">$mainSentence. You can either $head [[$east_Variable-&gt;top middle]] or [[$south_Variable-&gt;four fifths up]]. (if: $floorInt is 6)[A ladder inside a cupola leads [[down-&gt;complex zero]] from here.] (if: $floorInt is 14)[The coast to the $north_Variable opens into an estuary, via which you can [[sail inland-&gt;complex zero]].] (else:) [You may also $head $north_Variable (print: (1) of $doorTypes) (print: (either: &quot;&quot;, (2) of $doorTypes)) (print: (3) of $doorTypes) $exitPhrase [[$complexWord-&gt;complex zero]].] Another option is to step into the [[elevator]]. 

(if: $floorInt is 0)[&lt;script&gt;CustomScripts.updateBackground(0);&lt;/script&gt;]
(if: $floorInt is 1)[&lt;script&gt;CustomScripts.updateBackground(100);&lt;/script&gt;]
(if: $floorInt is 2)[&lt;script&gt;CustomScripts.updateBackground(200);&lt;/script&gt;]
(if: $floorInt is 3)[&lt;script&gt;CustomScripts.updateBackground(300);&lt;/script&gt;]
(if: $floorInt is 4)[&lt;script&gt;CustomScripts.updateBackground(400);&lt;/script&gt;]
(if: $floorInt is 5)[&lt;script&gt;CustomScripts.updateBackground(500);&lt;/script&gt;]
(if: $floorInt is 6)[&lt;script&gt;CustomScripts.updateBackground(600);&lt;/script&gt;]
(if: $floorInt is 7)[&lt;script&gt;CustomScripts.updateBackground(700);&lt;/script&gt;]
(if: $floorInt is 8)[&lt;script&gt;CustomScripts.updateBackground(800);&lt;/script&gt;]
(if: $floorInt is 9)[&lt;script&gt;CustomScripts.updateBackground(900);&lt;/script&gt;]
(if: $floorInt is 10)[&lt;script&gt;CustomScripts.updateBackground(1000);&lt;/script&gt;]
(if: $floorInt is 11)[&lt;script&gt;CustomScripts.updateBackground(1100);&lt;/script&gt;]
(if: $floorInt is 12)[&lt;script&gt;CustomScripts.updateBackground(1200);&lt;/script&gt;]
(if: $floorInt is 13)[&lt;script&gt;CustomScripts.updateBackground(1300);&lt;/script&gt;]
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1400);&lt;/script&gt;]
(if: $floorInt is 15)[&lt;script&gt;CustomScripts.updateBackground(1500);&lt;/script&gt;]
(if: $floorInt is 16)[&lt;script&gt;CustomScripts.updateBackground(1600);&lt;/script&gt;]
(if: $floorInt is 17)[&lt;script&gt;CustomScripts.updateBackground(1700);&lt;/script&gt;]
(if: $floorInt is 18)[&lt;script&gt;CustomScripts.updateBackground(1800);&lt;/script&gt;]
(if: $floorInt is 19)[&lt;script&gt;CustomScripts.updateBackground(1900);&lt;/script&gt;]
(if: $floorInt is 20)[&lt;script&gt;CustomScripts.updateBackground(2000);&lt;/script&gt;]</tw-passagedata><tw-passagedata pid="19" name="top middle" tags="" position="641,1081" size="100,100">$mainSentence. You may $head [[$east_Variable-&gt;top right]] or [[$west_Variable-&gt;top left]] from here. There is also (if: $floorInt is 6)[a rooftop entrance, from which a [[ladder descends-&gt;complex two]] into the building below.] (if: $floorInt is 14)[the mouth of a river to the $south_Variable, via which you can [[sail inland-&gt;complex two]].](else:) [a (print: (3) of $doorTypes) to the $south_Variable which goes $exitPhrase [[$complexWord-&gt;complex two]].] 

(if: $floorInt is 0)[&lt;script&gt;CustomScripts.updateBackground(0);&lt;/script&gt;]
(if: $floorInt is 1)[&lt;script&gt;CustomScripts.updateBackground(100);&lt;/script&gt;]
(if: $floorInt is 2)[&lt;script&gt;CustomScripts.updateBackground(200);&lt;/script&gt;]
(if: $floorInt is 3)[&lt;script&gt;CustomScripts.updateBackground(300);&lt;/script&gt;]
(if: $floorInt is 4)[&lt;script&gt;CustomScripts.updateBackground(400);&lt;/script&gt;]
(if: $floorInt is 5)[&lt;script&gt;CustomScripts.updateBackground(500);&lt;/script&gt;]
(if: $floorInt is 6)[&lt;script&gt;CustomScripts.updateBackground(600);&lt;/script&gt;]
(if: $floorInt is 7)[&lt;script&gt;CustomScripts.updateBackground(700);&lt;/script&gt;]
(if: $floorInt is 8)[&lt;script&gt;CustomScripts.updateBackground(800);&lt;/script&gt;]
(if: $floorInt is 9)[&lt;script&gt;CustomScripts.updateBackground(900);&lt;/script&gt;]
(if: $floorInt is 10)[&lt;script&gt;CustomScripts.updateBackground(1000);&lt;/script&gt;]
(if: $floorInt is 11)[&lt;script&gt;CustomScripts.updateBackground(1100);&lt;/script&gt;]
(if: $floorInt is 12)[&lt;script&gt;CustomScripts.updateBackground(1200);&lt;/script&gt;]
(if: $floorInt is 13)[&lt;script&gt;CustomScripts.updateBackground(1300);&lt;/script&gt;]
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1400);&lt;/script&gt;]
(if: $floorInt is 15)[&lt;script&gt;CustomScripts.updateBackground(1500);&lt;/script&gt;]
(if: $floorInt is 16)[&lt;script&gt;CustomScripts.updateBackground(1600);&lt;/script&gt;]
(if: $floorInt is 17)[&lt;script&gt;CustomScripts.updateBackground(1700);&lt;/script&gt;]
(if: $floorInt is 18)[&lt;script&gt;CustomScripts.updateBackground(1800);&lt;/script&gt;]
(if: $floorInt is 19)[&lt;script&gt;CustomScripts.updateBackground(1900);&lt;/script&gt;]
(if: $floorInt is 20)[&lt;script&gt;CustomScripts.updateBackground(2000);&lt;/script&gt;]</tw-passagedata><tw-passagedata pid="20" name="four fifths up" tags="" position="490,1353" size="100,100">$mainSentence. You may $head [[$north_Variable-&gt;top left]] or [[$south_Variable-&gt;three fifths up]] from here. (if: $floorInt is 6)[A ladder inside a cupola leads [[down-&gt;complex three]] from here.] (if: $floorInt is 14)[To the $east_Variable you can see the coast opens up into an estuary, via which you can [[sail inland -&gt;complex three]].] (else:) [To the $east_Variable is [[a (print: (3) of $doorTypes) via which you can $head $exitPhrase $complexWord-&gt;complex three]].] 

(if: $floorInt is 0)[&lt;script&gt;CustomScripts.updateBackground(0);&lt;/script&gt;]
(if: $floorInt is 1)[&lt;script&gt;CustomScripts.updateBackground(100);&lt;/script&gt;]
(if: $floorInt is 2)[&lt;script&gt;CustomScripts.updateBackground(200);&lt;/script&gt;]
(if: $floorInt is 3)[&lt;script&gt;CustomScripts.updateBackground(300);&lt;/script&gt;]
(if: $floorInt is 4)[&lt;script&gt;CustomScripts.updateBackground(400);&lt;/script&gt;]
(if: $floorInt is 5)[&lt;script&gt;CustomScripts.updateBackground(500);&lt;/script&gt;]
(if: $floorInt is 6)[&lt;script&gt;CustomScripts.updateBackground(600);&lt;/script&gt;]
(if: $floorInt is 7)[&lt;script&gt;CustomScripts.updateBackground(700);&lt;/script&gt;]
(if: $floorInt is 8)[&lt;script&gt;CustomScripts.updateBackground(800);&lt;/script&gt;]
(if: $floorInt is 9)[&lt;script&gt;CustomScripts.updateBackground(900);&lt;/script&gt;]
(if: $floorInt is 10)[&lt;script&gt;CustomScripts.updateBackground(1000);&lt;/script&gt;]
(if: $floorInt is 11)[&lt;script&gt;CustomScripts.updateBackground(1100);&lt;/script&gt;]
(if: $floorInt is 12)[&lt;script&gt;CustomScripts.updateBackground(1200);&lt;/script&gt;]
(if: $floorInt is 13)[&lt;script&gt;CustomScripts.updateBackground(1300);&lt;/script&gt;]
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1400);&lt;/script&gt;]
(if: $floorInt is 15)[&lt;script&gt;CustomScripts.updateBackground(1500);&lt;/script&gt;]
(if: $floorInt is 16)[&lt;script&gt;CustomScripts.updateBackground(1600);&lt;/script&gt;]
(if: $floorInt is 17)[&lt;script&gt;CustomScripts.updateBackground(1700);&lt;/script&gt;]
(if: $floorInt is 18)[&lt;script&gt;CustomScripts.updateBackground(1800);&lt;/script&gt;]
(if: $floorInt is 19)[&lt;script&gt;CustomScripts.updateBackground(1900);&lt;/script&gt;]
(if: $floorInt is 20)[&lt;script&gt;CustomScripts.updateBackground(2000);&lt;/script&gt;]</tw-passagedata><tw-passagedata pid="21" name="top right" tags="" position="805,1083" size="100,100">$mainSentence, (if: $floorInt is 6)[at the $east_Variable most end, which ends with a cupola, inside which is a ladder that leads [[down-&gt;complex one]]. Alternatively, you may $head to the [[$west_Variable-&gt;top middle]].] (if: $floorInt is 14)[at the $east_Variable end of a closed sea. From here, you may $head into a estuary to the $east_Variable, via which you can access a river and [[sail inland-&gt;complex one]], or you can $head [[$west_Variable-&gt;top middle]].] (else:) [at the $east_Variable most end, which ends in a (print: (3) of $doorTypes). You may [[take the (print: (3) of $doorTypes)-&gt;complex one]], or head to the [[$west_Variable-&gt;top middle]].]

(if: $floorInt is 0)[&lt;script&gt;CustomScripts.updateBackground(0);&lt;/script&gt;]
(if: $floorInt is 1)[&lt;script&gt;CustomScripts.updateBackground(100);&lt;/script&gt;]
(if: $floorInt is 2)[&lt;script&gt;CustomScripts.updateBackground(200);&lt;/script&gt;]
(if: $floorInt is 3)[&lt;script&gt;CustomScripts.updateBackground(300);&lt;/script&gt;]
(if: $floorInt is 4)[&lt;script&gt;CustomScripts.updateBackground(400);&lt;/script&gt;]
(if: $floorInt is 5)[&lt;script&gt;CustomScripts.updateBackground(500);&lt;/script&gt;]
(if: $floorInt is 6)[&lt;script&gt;CustomScripts.updateBackground(600);&lt;/script&gt;]
(if: $floorInt is 7)[&lt;script&gt;CustomScripts.updateBackground(700);&lt;/script&gt;]
(if: $floorInt is 8)[&lt;script&gt;CustomScripts.updateBackground(800);&lt;/script&gt;]
(if: $floorInt is 9)[&lt;script&gt;CustomScripts.updateBackground(900);&lt;/script&gt;]
(if: $floorInt is 10)[&lt;script&gt;CustomScripts.updateBackground(1000);&lt;/script&gt;]
(if: $floorInt is 11)[&lt;script&gt;CustomScripts.updateBackground(1100);&lt;/script&gt;]
(if: $floorInt is 12)[&lt;script&gt;CustomScripts.updateBackground(1200);&lt;/script&gt;]
(if: $floorInt is 13)[&lt;script&gt;CustomScripts.updateBackground(1300);&lt;/script&gt;]
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1400);&lt;/script&gt;]
(if: $floorInt is 15)[&lt;script&gt;CustomScripts.updateBackground(1500);&lt;/script&gt;]
(if: $floorInt is 16)[&lt;script&gt;CustomScripts.updateBackground(1600);&lt;/script&gt;]
(if: $floorInt is 17)[&lt;script&gt;CustomScripts.updateBackground(1700);&lt;/script&gt;]
(if: $floorInt is 18)[&lt;script&gt;CustomScripts.updateBackground(1800);&lt;/script&gt;]
(if: $floorInt is 19)[&lt;script&gt;CustomScripts.updateBackground(1900);&lt;/script&gt;]
(if: $floorInt is 20)[&lt;script&gt;CustomScripts.updateBackground(2000);&lt;/script&gt;]</tw-passagedata><tw-passagedata pid="22" name="three fifths up" tags="" position="488,1623" size="100,100">$mainSentence. (if: $floorInt is 14)[Though passage to the $west_Variable is blocked by a coastal cliffs, you may chart a course [[$north_Variable-&gt;four fifths up]], [[$east_Variable-&gt;middle middle]] or [[$south_Variable-&gt;two fifths up]] from here.] (else:) [[[$secondaryPassage branches off to the $east_Variable-&gt;middle middle]]. Or you may take the main $secondaryPassage to the [[$north_Variable-&gt;four fifths up]] or to the [[$south_Variable-&gt;two fifths up]].]

(if: $floorInt is 0)[&lt;script&gt;CustomScripts.updateBackground(0);&lt;/script&gt;]
(if: $floorInt is 1)[&lt;script&gt;CustomScripts.updateBackground(100);&lt;/script&gt;]
(if: $floorInt is 2)[&lt;script&gt;CustomScripts.updateBackground(200);&lt;/script&gt;]
(if: $floorInt is 3)[&lt;script&gt;CustomScripts.updateBackground(300);&lt;/script&gt;]
(if: $floorInt is 4)[&lt;script&gt;CustomScripts.updateBackground(400);&lt;/script&gt;]
(if: $floorInt is 5)[&lt;script&gt;CustomScripts.updateBackground(500);&lt;/script&gt;]
(if: $floorInt is 6)[&lt;script&gt;CustomScripts.updateBackground(600);&lt;/script&gt;]
(if: $floorInt is 7)[&lt;script&gt;CustomScripts.updateBackground(700);&lt;/script&gt;]
(if: $floorInt is 8)[&lt;script&gt;CustomScripts.updateBackground(800);&lt;/script&gt;]
(if: $floorInt is 9)[&lt;script&gt;CustomScripts.updateBackground(900);&lt;/script&gt;]
(if: $floorInt is 10)[&lt;script&gt;CustomScripts.updateBackground(1000);&lt;/script&gt;]
(if: $floorInt is 11)[&lt;script&gt;CustomScripts.updateBackground(1100);&lt;/script&gt;]
(if: $floorInt is 12)[&lt;script&gt;CustomScripts.updateBackground(1200);&lt;/script&gt;]
(if: $floorInt is 13)[&lt;script&gt;CustomScripts.updateBackground(1300);&lt;/script&gt;]
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1400);&lt;/script&gt;]
(if: $floorInt is 15)[&lt;script&gt;CustomScripts.updateBackground(1500);&lt;/script&gt;]
(if: $floorInt is 16)[&lt;script&gt;CustomScripts.updateBackground(1600);&lt;/script&gt;]
(if: $floorInt is 17)[&lt;script&gt;CustomScripts.updateBackground(1700);&lt;/script&gt;]
(if: $floorInt is 18)[&lt;script&gt;CustomScripts.updateBackground(1800);&lt;/script&gt;]
(if: $floorInt is 19)[&lt;script&gt;CustomScripts.updateBackground(1900);&lt;/script&gt;]
(if: $floorInt is 20)[&lt;script&gt;CustomScripts.updateBackground(2000);&lt;/script&gt;]</tw-passagedata><tw-passagedata pid="23" name="middle middle" tags="" position="643,1626" size="100,100">$mainSentence. You may $head [[$west_Variable-&gt;three fifths up]] or [[$east_Variable-&gt;middle right]] from here. (if: $floorInt is 6)[A ladder inside a cupola leads [[down-&gt;complex four]] from here.] (if: $floorInt is 14)[The coast to the $north_Variable opens up into an estuary, via which ou can [[sail inland-&gt;complex four]].] (else:) [There is also [[a way to the $north_Variable-&gt;complex four]] via which you can $head into a $complexWord.]

(if: $floorInt is 0)[&lt;script&gt;CustomScripts.updateBackground(0);&lt;/script&gt;]
(if: $floorInt is 1)[&lt;script&gt;CustomScripts.updateBackground(100);&lt;/script&gt;]
(if: $floorInt is 2)[&lt;script&gt;CustomScripts.updateBackground(200);&lt;/script&gt;]
(if: $floorInt is 3)[&lt;script&gt;CustomScripts.updateBackground(300);&lt;/script&gt;]
(if: $floorInt is 4)[&lt;script&gt;CustomScripts.updateBackground(400);&lt;/script&gt;]
(if: $floorInt is 5)[&lt;script&gt;CustomScripts.updateBackground(500);&lt;/script&gt;]
(if: $floorInt is 6)[&lt;script&gt;CustomScripts.updateBackground(600);&lt;/script&gt;]
(if: $floorInt is 7)[&lt;script&gt;CustomScripts.updateBackground(700);&lt;/script&gt;]
(if: $floorInt is 8)[&lt;script&gt;CustomScripts.updateBackground(800);&lt;/script&gt;]
(if: $floorInt is 9)[&lt;script&gt;CustomScripts.updateBackground(900);&lt;/script&gt;]
(if: $floorInt is 10)[&lt;script&gt;CustomScripts.updateBackground(1000);&lt;/script&gt;]
(if: $floorInt is 11)[&lt;script&gt;CustomScripts.updateBackground(1100);&lt;/script&gt;]
(if: $floorInt is 12)[&lt;script&gt;CustomScripts.updateBackground(1200);&lt;/script&gt;]
(if: $floorInt is 13)[&lt;script&gt;CustomScripts.updateBackground(1300);&lt;/script&gt;]
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1400);&lt;/script&gt;]
(if: $floorInt is 15)[&lt;script&gt;CustomScripts.updateBackground(1500);&lt;/script&gt;]
(if: $floorInt is 16)[&lt;script&gt;CustomScripts.updateBackground(1600);&lt;/script&gt;]
(if: $floorInt is 17)[&lt;script&gt;CustomScripts.updateBackground(1700);&lt;/script&gt;]
(if: $floorInt is 18)[&lt;script&gt;CustomScripts.updateBackground(1800);&lt;/script&gt;]
(if: $floorInt is 19)[&lt;script&gt;CustomScripts.updateBackground(1900);&lt;/script&gt;]
(if: $floorInt is 20)[&lt;script&gt;CustomScripts.updateBackground(2000);&lt;/script&gt;]</tw-passagedata><tw-passagedata pid="24" name="two fifths up" tags="" position="486,1776" size="100,100">$mainSentence(if: $floorInt is 14)[, sailing down a narrow sea between two lands]. You may $head [[$north_Variable-&gt;three fifths up]] or [[$south_Variable-&gt;bottom]] from here. (if: $floorInt is 6)[There are also twin cupolas here, in which ladders descend into the buildings below. You may take the [[one to the $east_Variable -&gt;complex seven]] or the [[one to the $west_Variable -&gt;complex nine]].] (if: $floorInt is 14)[To the [[$east_Variable-&gt;complex seven]] and [[$west_Variable-&gt;complex nine]] are coastal estuaries via which you can sail inland.](else:) [Alternatively, you might take [[a (print: (3) of $doorTypes) to the $east_Variable -&gt;complex seven]], or a (print: (3) of $doorTypes) to the [[$west_Variable -&gt;complex nine]].]

(if: $floorInt is 0)[&lt;script&gt;CustomScripts.updateBackground(0);&lt;/script&gt;]
(if: $floorInt is 1)[&lt;script&gt;CustomScripts.updateBackground(100);&lt;/script&gt;]
(if: $floorInt is 2)[&lt;script&gt;CustomScripts.updateBackground(200);&lt;/script&gt;]
(if: $floorInt is 3)[&lt;script&gt;CustomScripts.updateBackground(300);&lt;/script&gt;]
(if: $floorInt is 4)[&lt;script&gt;CustomScripts.updateBackground(400);&lt;/script&gt;]
(if: $floorInt is 5)[&lt;script&gt;CustomScripts.updateBackground(500);&lt;/script&gt;]
(if: $floorInt is 6)[&lt;script&gt;CustomScripts.updateBackground(600);&lt;/script&gt;]
(if: $floorInt is 7)[&lt;script&gt;CustomScripts.updateBackground(700);&lt;/script&gt;]
(if: $floorInt is 8)[&lt;script&gt;CustomScripts.updateBackground(800);&lt;/script&gt;]
(if: $floorInt is 9)[&lt;script&gt;CustomScripts.updateBackground(900);&lt;/script&gt;]
(if: $floorInt is 10)[&lt;script&gt;CustomScripts.updateBackground(1000);&lt;/script&gt;]
(if: $floorInt is 11)[&lt;script&gt;CustomScripts.updateBackground(1100);&lt;/script&gt;]
(if: $floorInt is 12)[&lt;script&gt;CustomScripts.updateBackground(1200);&lt;/script&gt;]
(if: $floorInt is 13)[&lt;script&gt;CustomScripts.updateBackground(1300);&lt;/script&gt;]
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1400);&lt;/script&gt;]
(if: $floorInt is 15)[&lt;script&gt;CustomScripts.updateBackground(1500);&lt;/script&gt;]
(if: $floorInt is 16)[&lt;script&gt;CustomScripts.updateBackground(1600);&lt;/script&gt;]
(if: $floorInt is 17)[&lt;script&gt;CustomScripts.updateBackground(1700);&lt;/script&gt;]
(if: $floorInt is 18)[&lt;script&gt;CustomScripts.updateBackground(1800);&lt;/script&gt;]
(if: $floorInt is 19)[&lt;script&gt;CustomScripts.updateBackground(1900);&lt;/script&gt;]
(if: $floorInt is 20)[&lt;script&gt;CustomScripts.updateBackground(2000);&lt;/script&gt;]</tw-passagedata><tw-passagedata pid="25" name="bottom" tags="" position="488,1926" size="100,100">$mainSentence, (if: $floorInt is 6)[at the $south_Variable most end, which ends with a cupola, inside which is a ladder that leads [[down-&gt;complex eight]]. You may take it,] (if: $floorInt is 14)[at the $south_Variable end of a closed sea. From here, you may $head into a river mouth to the $south_Variable, via which you can [[sail inland-&gt;complex eight]],](else:) [at the $south_Variable most end, which ends in a (print: (3) of $doorTypes). You may [[take the (print: (3) of $doorTypes)-&gt;complex eight]],] or $head to the [[$north_Variable-&gt;two fifths up]]. 

(if: $floorInt is 0)[&lt;script&gt;CustomScripts.updateBackground(0);&lt;/script&gt;]
(if: $floorInt is 1)[&lt;script&gt;CustomScripts.updateBackground(100);&lt;/script&gt;]
(if: $floorInt is 2)[&lt;script&gt;CustomScripts.updateBackground(200);&lt;/script&gt;]
(if: $floorInt is 3)[&lt;script&gt;CustomScripts.updateBackground(300);&lt;/script&gt;]
(if: $floorInt is 4)[&lt;script&gt;CustomScripts.updateBackground(400);&lt;/script&gt;]
(if: $floorInt is 5)[&lt;script&gt;CustomScripts.updateBackground(500);&lt;/script&gt;]
(if: $floorInt is 6)[&lt;script&gt;CustomScripts.updateBackground(600);&lt;/script&gt;]
(if: $floorInt is 7)[&lt;script&gt;CustomScripts.updateBackground(700);&lt;/script&gt;]
(if: $floorInt is 8)[&lt;script&gt;CustomScripts.updateBackground(800);&lt;/script&gt;]
(if: $floorInt is 9)[&lt;script&gt;CustomScripts.updateBackground(900);&lt;/script&gt;]
(if: $floorInt is 10)[&lt;script&gt;CustomScripts.updateBackground(1000);&lt;/script&gt;]
(if: $floorInt is 11)[&lt;script&gt;CustomScripts.updateBackground(1100);&lt;/script&gt;]
(if: $floorInt is 12)[&lt;script&gt;CustomScripts.updateBackground(1200);&lt;/script&gt;]
(if: $floorInt is 13)[&lt;script&gt;CustomScripts.updateBackground(1300);&lt;/script&gt;]
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1400);&lt;/script&gt;]
(if: $floorInt is 15)[&lt;script&gt;CustomScripts.updateBackground(1500);&lt;/script&gt;]
(if: $floorInt is 16)[&lt;script&gt;CustomScripts.updateBackground(1600);&lt;/script&gt;]
(if: $floorInt is 17)[&lt;script&gt;CustomScripts.updateBackground(1700);&lt;/script&gt;]
(if: $floorInt is 18)[&lt;script&gt;CustomScripts.updateBackground(1800);&lt;/script&gt;]
(if: $floorInt is 19)[&lt;script&gt;CustomScripts.updateBackground(1900);&lt;/script&gt;]
(if: $floorInt is 20)[&lt;script&gt;CustomScripts.updateBackground(2000);&lt;/script&gt;]</tw-passagedata><tw-passagedata pid="26" name="middle right" tags="" position="803,1628" size="100,100">$mainSentence (if: $floorInt is 6)[, at the $east_Variable most end. There are two rooftop entrances here, via which you can descend by rope into the buildings below. You may take [[the one to the $east_Variable-&gt;complex five]] or [[the one to the $south_Variable -&gt;complex six]]. You also have the option of heading [[$west_Variable-&gt;middle middle]] along the rooftop.](if: $floorInt is 14)[at the $east_Variable end of a closed sea. From here, you may $head into a delta to the $east_Variable, via which you can [[sail inland-&gt;complex five]], or $head into a different estuary to the [[$south_Variable-&gt;complex six]]. Alternatively, you can $head [[$west_Variable-&gt;middle middle]].] (else:) [, at the $east_Variable most end, which ends in a (print: (3) of $doorTypes). You may [[$head through the (print: (3) of $doorTypes)-&gt;complex five]], take [[another (print: (3) of $doorTypes) to the $south_Variable -&gt;complex six]] or $head to the [[$west_Variable-&gt;middle middle]].]  

(if: $floorInt is 0)[&lt;script&gt;CustomScripts.updateBackground(0);&lt;/script&gt;]
(if: $floorInt is 1)[&lt;script&gt;CustomScripts.updateBackground(100);&lt;/script&gt;]
(if: $floorInt is 2)[&lt;script&gt;CustomScripts.updateBackground(200);&lt;/script&gt;]
(if: $floorInt is 3)[&lt;script&gt;CustomScripts.updateBackground(300);&lt;/script&gt;]
(if: $floorInt is 4)[&lt;script&gt;CustomScripts.updateBackground(400);&lt;/script&gt;]
(if: $floorInt is 5)[&lt;script&gt;CustomScripts.updateBackground(500);&lt;/script&gt;]
(if: $floorInt is 6)[&lt;script&gt;CustomScripts.updateBackground(600);&lt;/script&gt;]
(if: $floorInt is 7)[&lt;script&gt;CustomScripts.updateBackground(700);&lt;/script&gt;]
(if: $floorInt is 8)[&lt;script&gt;CustomScripts.updateBackground(800);&lt;/script&gt;]
(if: $floorInt is 9)[&lt;script&gt;CustomScripts.updateBackground(900);&lt;/script&gt;]
(if: $floorInt is 10)[&lt;script&gt;CustomScripts.updateBackground(1000);&lt;/script&gt;]
(if: $floorInt is 11)[&lt;script&gt;CustomScripts.updateBackground(1100);&lt;/script&gt;]
(if: $floorInt is 12)[&lt;script&gt;CustomScripts.updateBackground(1200);&lt;/script&gt;]
(if: $floorInt is 13)[&lt;script&gt;CustomScripts.updateBackground(1300);&lt;/script&gt;]
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1400);&lt;/script&gt;]
(if: $floorInt is 15)[&lt;script&gt;CustomScripts.updateBackground(1500);&lt;/script&gt;]
(if: $floorInt is 16)[&lt;script&gt;CustomScripts.updateBackground(1600);&lt;/script&gt;]
(if: $floorInt is 17)[&lt;script&gt;CustomScripts.updateBackground(1700);&lt;/script&gt;]
(if: $floorInt is 18)[&lt;script&gt;CustomScripts.updateBackground(1800);&lt;/script&gt;]
(if: $floorInt is 19)[&lt;script&gt;CustomScripts.updateBackground(1900);&lt;/script&gt;]
(if: $floorInt is 20)[&lt;script&gt;CustomScripts.updateBackground(2000);&lt;/script&gt;]</tw-passagedata><tw-passagedata pid="27" name="complex zero" tags="" position="486,933" size="100,100">{
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
(set: $decadeNum to 0) 
(set: $decadeString to (str: $decadeNum))
(set: $decadeReference to $hundredNumber + $decadeNum + 1) 
(set: $referenceString to (str: $decadeReference))

($refreshSentences:) 

&lt;!--IMAGES--&gt;
(if: $floorInt is 0)[&lt;script&gt;CustomScripts.updateBackground(1);&lt;/script&gt;]
(if: $floorInt is 1)[&lt;script&gt;CustomScripts.updateBackground(101);&lt;/script&gt;]
(if: $floorInt is 2)[&lt;script&gt;CustomScripts.updateBackground(201);&lt;/script&gt;]
(if: $floorInt is 3)[&lt;script&gt;CustomScripts.updateBackground(301);&lt;/script&gt;]
(if: $floorInt is 4)[&lt;script&gt;CustomScripts.updateBackground(401);&lt;/script&gt;]
(if: $floorInt is 5)[&lt;script&gt;CustomScripts.updateBackground(501);&lt;/script&gt;]
(if: $floorInt is 6)[&lt;script&gt;CustomScripts.updateBackground(601);&lt;/script&gt;]
(if: $floorInt is 7)[&lt;script&gt;CustomScripts.updateBackground(701);&lt;/script&gt;]
(if: $floorInt is 8)[&lt;script&gt;CustomScripts.updateBackground(801);&lt;/script&gt;]
(if: $floorInt is 9)[&lt;script&gt;CustomScripts.updateBackground(901);&lt;/script&gt;]
(if: $floorInt is 10)[&lt;script&gt;CustomScripts.updateBackground(1001);&lt;/script&gt;]
(if: $floorInt is 11)[&lt;script&gt;CustomScripts.updateBackground(1101);&lt;/script&gt;]
(if: $floorInt is 12)[&lt;script&gt;CustomScripts.updateBackground(1201);&lt;/script&gt;]
(if: $floorInt is 13)[&lt;script&gt;CustomScripts.updateBackground(1301);&lt;/script&gt;]
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1401);&lt;/script&gt;]
(if: $floorInt is 15)[&lt;script&gt;CustomScripts.updateBackground(1501);&lt;/script&gt;]
(if: $floorInt is 16)[&lt;script&gt;CustomScripts.updateBackground(1601);&lt;/script&gt;]
(if: $floorInt is 17)[&lt;script&gt;CustomScripts.updateBackground(1701);&lt;/script&gt;]
(if: $floorInt is 18)[&lt;script&gt;CustomScripts.updateBackground(1801);&lt;/script&gt;]
(if: $floorInt is 19)[&lt;script&gt;CustomScripts.updateBackground(1901);&lt;/script&gt;]
(if: $floorInt is 20)[&lt;script&gt;CustomScripts.updateBackground(2001);&lt;/script&gt;]
&lt;!--END IMAGES--&gt;

&lt;!--ROOM MARKERS--&gt;
(set: $zeroMarker to &quot;a barrel&quot;)
(set: $oneMarker to &quot;a suit of armor&quot;)
(set: $twoMarker to &quot;a crystal swan&quot;)
(set: $threeMarker to &quot;a statue of a buxom woman&quot;)
(set: $fourMarker to &quot;a golf club&quot;)
(set: $fiveMarker to &quot;a collection of gold rings&quot;)
(set: $sixMarker to &quot;a cane&quot;)
(set: $sevenMarker to &quot;a severed head in a box&quot;)
(set: $eightMarker to &quot;a gateway to infinity&quot;)
(set: $nineMarker to &quot;a Nazgul&quot;)
&lt;!--END ROOM MARKERS--&gt;


($setFlatDirections:)
($setUpDownDirections:)
($setDownWestVariables:)
($setDownSouthVariables:)
($fixOptionalPaths:)

(if: $southVariable is $south_Variable)[(set: $startRoom to &quot;passage 2&quot;)]
(if: $northVariable is $south_Variable)[(set: $startRoom to &quot;room 0&quot;)]
(if: $eastVariable is $south_Variable)[(set: $startRoom to &quot;passage 3&quot;)]
(if: $westVariable is $south_Variable)[(set: $startRoom to &quot;passage 5&quot;)]

(set: $returnText to &quot;A different possibility is to head back to the $south_Variable towards [[$nexusWord-&gt;complex zero]].&quot;) 

}



(if: $floorInt is 6)[You are in one of the gatehouses to the city of Aleppo. A road leads [[$north_Variable-&gt;$startRoom]] from here to the hanging farms. Alternatively you can go [[up a ladder-&gt;top left]] to $nexusWord.] (if: $floorInt is 14)[You are anchored in a wide, tropical river on an unexplored island in the new world. To explore the island, you must head [[$north_Variable-&gt;$startRoom]] on foot. Alternatively you can $head [[$south_Variable-&gt;top left]] to $nexusWord.] (else:)[$complexSentence From here you can go $south_Variable to the [[$nexusWord-&gt;top left]]. Alternatively, you may go [[$north_Variable-&gt;$startRoom]].] 





</tw-passagedata><tw-passagedata pid="28" name="complex two" tags="" position="638,1215" size="100,100">{
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
(set: $decadeNum to 20) 
(set: $decadeString to (str: $decadeNum))
(set: $decadeReference to $hundredNumber + $decadeNum + 1) 
(set: $referenceString to (str: $decadeReference))

(set: $complexLanguage to (str: $decadeReference) of $generalLanguage)
($refreshSentences:) 

(if: $floorInt is 0)[&lt;script&gt;CustomScripts.updateBackground(21);&lt;/script&gt;]
(if: $floorInt is 1)[&lt;script&gt;CustomScripts.updateBackground(121);&lt;/script&gt;]
(if: $floorInt is 2)[&lt;script&gt;CustomScripts.updateBackground(221);&lt;/script&gt;]
(if: $floorInt is 3)[&lt;script&gt;CustomScripts.updateBackground(321);&lt;/script&gt;]
(if: $floorInt is 4)[&lt;script&gt;CustomScripts.updateBackground(421);&lt;/script&gt;]
(if: $floorInt is 5)[&lt;script&gt;CustomScripts.updateBackground(521);&lt;/script&gt;]
(if: $floorInt is 6)[&lt;script&gt;CustomScripts.updateBackground(621);&lt;/script&gt;]
(if: $floorInt is 7)[&lt;script&gt;CustomScripts.updateBackground(721);&lt;/script&gt;]
(if: $floorInt is 8)[&lt;script&gt;CustomScripts.updateBackground(821);&lt;/script&gt;]
(if: $floorInt is 9)[&lt;script&gt;CustomScripts.updateBackground(921);&lt;/script&gt;]
(if: $floorInt is 10)[&lt;script&gt;CustomScripts.updateBackground(1021);&lt;/script&gt;]
(if: $floorInt is 11)[&lt;script&gt;CustomScripts.updateBackground(1121);&lt;/script&gt;]
(if: $floorInt is 12)[&lt;script&gt;CustomScripts.updateBackground(1221);&lt;/script&gt;]
(if: $floorInt is 13)[&lt;script&gt;CustomScripts.updateBackground(1321);&lt;/script&gt;]
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1421);&lt;/script&gt;]
(if: $floorInt is 15)[&lt;script&gt;CustomScripts.updateBackground(1521);&lt;/script&gt;]
(if: $floorInt is 16)[&lt;script&gt;CustomScripts.updateBackground(1621);&lt;/script&gt;]
(if: $floorInt is 17)[&lt;script&gt;CustomScripts.updateBackground(1721);&lt;/script&gt;]
(if: $floorInt is 18)[&lt;script&gt;CustomScripts.updateBackground(1821);&lt;/script&gt;]
(if: $floorInt is 19)[&lt;script&gt;CustomScripts.updateBackground(1921);&lt;/script&gt;]
(if: $floorInt is 20)[&lt;script&gt;CustomScripts.updateBackground(2021);&lt;/script&gt;]


	
(set: $zeroMarker to &quot;a barrel&quot;)
(set: $oneMarker to &quot;a suit of armor&quot;)
(set: $twoMarker to &quot;a crystal swan&quot;)
(set: $threeMarker to &quot;a statue of a buxom woman&quot;)
(set: $fourMarker to &quot;a golf club&quot;)
(set: $fiveMarker to &quot;a collection of gold rings&quot;)
(set: $sixMarker to &quot;a cane&quot;)
(set: $sevenMarker to &quot;a severed head in a box&quot;)
(set: $eightMarker to &quot;a gateway to infinity&quot;)
(set: $nineMarker to &quot;a Nazgul&quot;)
($setFlatDirections:)
($setUpDownDirections:)
($setDownWestVariables:)
($setDownSouthVariables:)
($fixOptionalPaths:)

(if: $southVariable is $north_Variable)[(set: $startRoom to &quot;passage 2&quot;)]
(if: $northVariable is $north_Variable)[(set: $startRoom to &quot;room 0&quot;)]
(if: $eastVariable is $north_Variable)[(set: $startRoom to &quot;passage 3&quot;)]
(if: $westVariable is $north_Variable)[(set: $startRoom to &quot;passage 5&quot;)]

(set: $returnText to &quot;A different possibility is to head back to the $north_Variable towards [[$nexusWord-&gt;complex two]].&quot;) 

}



(if: $floorInt is 6)[You are in the library of the hashashins in the city of Aleppo. To explore the library, you must head [[$south_Variable-&gt;$startRoom]]. You can leave the library by heading [[up-&gt;top middle]] to $nexusWord.] (if: $floorInt is 14)[You are at a port in the city of Strasbourg. To explore the city, you must head [[$south_Variable-&gt;$startRoom]] on foot. Alternatively you can $head [[$north_Variable-&gt;top middle]] to $nexusWord.](else:)[$complexSentence. From here you can go $north_Variable to the [[$nexusWord-&gt;top middle]]. Alternatively, you may go [[$south_Variable-&gt;$startRoom]].]





</tw-passagedata><tw-passagedata pid="29" name="complex one" tags="" position="993,1082" size="100,100">{
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
(set: $decadeNum to 10) 
(set: $decadeString to (str: $decadeNum))
(set: $decadeReference to $hundredNumber + $decadeNum + 1) 
(set: $referenceString to (str: $decadeReference))

(set: $complexLanguage to (str: $decadeReference) of $generalLanguage)
($refreshSentences:) 

(if: $floorInt is 0)[&lt;script&gt;CustomScripts.updateBackground(11);&lt;/script&gt;]
(if: $floorInt is 1)[&lt;script&gt;CustomScripts.updateBackground(111);&lt;/script&gt;]
(if: $floorInt is 2)[&lt;script&gt;CustomScripts.updateBackground(211);&lt;/script&gt;]
(if: $floorInt is 3)[&lt;script&gt;CustomScripts.updateBackground(311);&lt;/script&gt;]
(if: $floorInt is 4)[&lt;script&gt;CustomScripts.updateBackground(411);&lt;/script&gt;]
(if: $floorInt is 5)[&lt;script&gt;CustomScripts.updateBackground(511);&lt;/script&gt;]
(if: $floorInt is 6)[&lt;script&gt;CustomScripts.updateBackground(611);&lt;/script&gt;]
(if: $floorInt is 7)[&lt;script&gt;CustomScripts.updateBackground(711);&lt;/script&gt;]
(if: $floorInt is 8)[&lt;script&gt;CustomScripts.updateBackground(811);&lt;/script&gt;]
(if: $floorInt is 9)[&lt;script&gt;CustomScripts.updateBackground(911);&lt;/script&gt;]
(if: $floorInt is 10)[&lt;script&gt;CustomScripts.updateBackground(1011);&lt;/script&gt;]
(if: $floorInt is 11)[&lt;script&gt;CustomScripts.updateBackground(1111);&lt;/script&gt;]
(if: $floorInt is 12)[&lt;script&gt;CustomScripts.updateBackground(1211);&lt;/script&gt;]
(if: $floorInt is 13)[&lt;script&gt;CustomScripts.updateBackground(1311);&lt;/script&gt;]
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1411);&lt;/script&gt;]
(if: $floorInt is 15)[&lt;script&gt;CustomScripts.updateBackground(1511);&lt;/script&gt;]
(if: $floorInt is 16)[&lt;script&gt;CustomScripts.updateBackground(1611);&lt;/script&gt;]
(if: $floorInt is 17)[&lt;script&gt;CustomScripts.updateBackground(1711);&lt;/script&gt;]
(if: $floorInt is 18)[&lt;script&gt;CustomScripts.updateBackground(1811);&lt;/script&gt;]
(if: $floorInt is 19)[&lt;script&gt;CustomScripts.updateBackground(1911);&lt;/script&gt;]
(if: $floorInt is 20)[&lt;script&gt;CustomScripts.updateBackground(2011);&lt;/script&gt;]


	
(set: $zeroMarker to &quot;a barrel&quot;)
(set: $oneMarker to &quot;a suit of armor&quot;)
(set: $twoMarker to &quot;a crystal swan&quot;)
(set: $threeMarker to &quot;a statue of a buxom woman&quot;)
(set: $fourMarker to &quot;a golf club&quot;)
(set: $fiveMarker to &quot;a collection of gold rings&quot;)
(set: $sixMarker to &quot;a cane&quot;)
(set: $sevenMarker to &quot;a severed head in a box&quot;)
(set: $eightMarker to &quot;a gateway to infinity&quot;)
(set: $nineMarker to &quot;a Nazgul&quot;)
($setFlatDirections:)
($setUpDownDirections:)
($setDownWestVariables:)
($setDownSouthVariables:)
($fixOptionalPaths:)

(if: $southVariable is $west_Variable)[(set: $startRoom to &quot;passage 2&quot;)]
(if: $northVariable is $west_Variable)[(set: $startRoom to &quot;room 0&quot;)]
(if: $eastVariable is $west_Variable)[(set: $startRoom to &quot;passage 3&quot;)]
(if: $westVariable is $west_Variable)[(set: $startRoom to &quot;passage 5&quot;)]

(set: $returnText to &quot;A different possibility is to head back to the $west_Variable towards [[$nexusWord-&gt;complex one]].&quot;) 

}


(if: $floorInt is 6)[You are in a labyrinth of smoky hashish bars somewhere in the seedier quarter of the city of Aleppo. You can explore the quarter by heading [[$east_Variable-&gt;$startRoom]]. Alternatively you can go [[up a ladder-&gt;top right]] to $nexusWord.] (if: $floorInt is 14)[You are at a port in the city of York. To explore the city, you must head [[$east_Variable-&gt;$startRoom]] on foot. Alternatively you can $head [[$west_Variable-&gt;top right]] to $nexusWord.](else:)[$complexSentence
From here you can go $west_Variable to the [[$nexusWord-&gt;top right]]. Alternatively, you may go [[$east_Variable-&gt;$startRoom]].] 






</tw-passagedata><tw-passagedata pid="30" name="complex three" tags="" position="683,1352" size="100,100">{
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
(set: $decadeNum to 30) 
(set: $decadeString to (str: $decadeNum))
(set: $decadeReference to $hundredNumber + $decadeNum + 1) 
(set: $referenceString to (str: $decadeReference))

(set: $complexLanguage to (str: $decadeReference) of $generalLanguage)
($refreshSentences:) 

(if: $floorInt is 0)[&lt;script&gt;CustomScripts.updateBackground(31);&lt;/script&gt;]
(if: $floorInt is 1)[&lt;script&gt;CustomScripts.updateBackground(131);&lt;/script&gt;]
(if: $floorInt is 2)[&lt;script&gt;CustomScripts.updateBackground(231);&lt;/script&gt;]
(if: $floorInt is 3)[&lt;script&gt;CustomScripts.updateBackground(331);&lt;/script&gt;]
(if: $floorInt is 4)[&lt;script&gt;CustomScripts.updateBackground(431);&lt;/script&gt;]
(if: $floorInt is 5)[&lt;script&gt;CustomScripts.updateBackground(531);&lt;/script&gt;]
(if: $floorInt is 6)[&lt;script&gt;CustomScripts.updateBackground(631);&lt;/script&gt;]
(if: $floorInt is 7)[&lt;script&gt;CustomScripts.updateBackground(731);&lt;/script&gt;]
(if: $floorInt is 8)[&lt;script&gt;CustomScripts.updateBackground(831);&lt;/script&gt;]
(if: $floorInt is 9)[&lt;script&gt;CustomScripts.updateBackground(931);&lt;/script&gt;]
(if: $floorInt is 10)[&lt;script&gt;CustomScripts.updateBackground(1031);&lt;/script&gt;]
(if: $floorInt is 11)[&lt;script&gt;CustomScripts.updateBackground(1131);&lt;/script&gt;]
(if: $floorInt is 12)[&lt;script&gt;CustomScripts.updateBackground(1231);&lt;/script&gt;]
(if: $floorInt is 13)[&lt;script&gt;CustomScripts.updateBackground(1331);&lt;/script&gt;]
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1431);&lt;/script&gt;]
(if: $floorInt is 15)[&lt;script&gt;CustomScripts.updateBackground(1531);&lt;/script&gt;]
(if: $floorInt is 16)[&lt;script&gt;CustomScripts.updateBackground(1631);&lt;/script&gt;]
(if: $floorInt is 17)[&lt;script&gt;CustomScripts.updateBackground(1731);&lt;/script&gt;]
(if: $floorInt is 18)[&lt;script&gt;CustomScripts.updateBackground(1831);&lt;/script&gt;]
(if: $floorInt is 19)[&lt;script&gt;CustomScripts.updateBackground(1931);&lt;/script&gt;]
(if: $floorInt is 20)[&lt;script&gt;CustomScripts.updateBackground(2031);&lt;/script&gt;]


	
(set: $zeroMarker to &quot;a barrel&quot;)
(set: $oneMarker to &quot;a suit of armor&quot;)
(set: $twoMarker to &quot;a crystal swan&quot;)
(set: $threeMarker to &quot;a statue of a buxom woman&quot;)
(set: $fourMarker to &quot;a golf club&quot;)
(set: $fiveMarker to &quot;a collection of gold rings&quot;)
(set: $sixMarker to &quot;a cane&quot;)
(set: $sevenMarker to &quot;a severed head in a box&quot;)
(set: $eightMarker to &quot;a gateway to infinity&quot;)
(set: $nineMarker to &quot;a Nazgul&quot;)
($setFlatDirections:)
($setUpDownDirections:)
($setDownWestVariables:)
($setDownSouthVariables:)
($fixOptionalPaths:)

(if: $southVariable is $west_Variable)[(set: $startRoom to &quot;passage 2&quot;)]
(if: $northVariable is $west_Variable)[(set: $startRoom to &quot;room 0&quot;)]
(if: $eastVariable is $west_Variable)[(set: $startRoom to &quot;passage 3&quot;)]
(if: $westVariable is $west_Variable)[(set: $startRoom to &quot;passage 5&quot;)]

(set: $returnText to &quot;A different possibility is to head back to the $west_Variable towards [[$nexusWord-&gt;complex three]].&quot;) 

}


(if: $floorInt is 6)[You are in the Sultan&#39;s palace in the city of Aleppo, where exotic belly dancers put on a show for the Sultan&#39;s many guests. To explore the palace, you must head [[$east_Variable-&gt;$startRoom]]. to leave, you may head [[up-&gt;four fifths up]] to $nexusWord.] (if: $floorInt is 14)[You are docked at the city of Orleans, which is under siege from the forces of Joan of Arc. To explore, you must head [[$east_Variable-&gt;$startRoom]] on foot. Alternatively you can $head [[$west_Variable-&gt;four fifths up]] to $nexusWord.](else:)[$complexSentence From here you can go $west_Variable to the [[$nexusWord-&gt;four fifths up]]. Alternatively, you may go [[$east_Variable-&gt;$startRoom]].]





</tw-passagedata><tw-passagedata pid="31" name="complex four" tags="" position="640,1486" size="100,100">{
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
(set: $decadeNum to 40) 
(set: $decadeString to (str: $decadeNum))
(set: $decadeReference to $hundredNumber + $decadeNum + 1) 
(set: $referenceString to (str: $decadeReference))

(set: $complexLanguage to (str: $decadeReference) of $generalLanguage)
($refreshSentences:) 

(if: $floorInt is 0)[&lt;script&gt;CustomScripts.updateBackground(41);&lt;/script&gt;]
(if: $floorInt is 1)[&lt;script&gt;CustomScripts.updateBackground(141);&lt;/script&gt;]
(if: $floorInt is 2)[&lt;script&gt;CustomScripts.updateBackground(241);&lt;/script&gt;]
(if: $floorInt is 3)[&lt;script&gt;CustomScripts.updateBackground(341);&lt;/script&gt;]
(if: $floorInt is 4)[&lt;script&gt;CustomScripts.updateBackground(441);&lt;/script&gt;]
(if: $floorInt is 5)[&lt;script&gt;CustomScripts.updateBackground(541);&lt;/script&gt;]
(if: $floorInt is 6)[&lt;script&gt;CustomScripts.updateBackground(641);&lt;/script&gt;]
(if: $floorInt is 7)[&lt;script&gt;CustomScripts.updateBackground(741);&lt;/script&gt;]
(if: $floorInt is 8)[&lt;script&gt;CustomScripts.updateBackground(841);&lt;/script&gt;]
(if: $floorInt is 9)[&lt;script&gt;CustomScripts.updateBackground(941);&lt;/script&gt;]
(if: $floorInt is 10)[&lt;script&gt;CustomScripts.updateBackground(1041);&lt;/script&gt;]
(if: $floorInt is 11)[&lt;script&gt;CustomScripts.updateBackground(1141);&lt;/script&gt;]
(if: $floorInt is 12)[&lt;script&gt;CustomScripts.updateBackground(1241);&lt;/script&gt;]
(if: $floorInt is 13)[&lt;script&gt;CustomScripts.updateBackground(1341);&lt;/script&gt;]
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1441);&lt;/script&gt;]
(if: $floorInt is 15)[&lt;script&gt;CustomScripts.updateBackground(1541);&lt;/script&gt;]
(if: $floorInt is 16)[&lt;script&gt;CustomScripts.updateBackground(1641);&lt;/script&gt;]
(if: $floorInt is 17)[&lt;script&gt;CustomScripts.updateBackground(1741);&lt;/script&gt;]
(if: $floorInt is 18)[&lt;script&gt;CustomScripts.updateBackground(1841);&lt;/script&gt;]
(if: $floorInt is 19)[&lt;script&gt;CustomScripts.updateBackground(1941);&lt;/script&gt;]
(if: $floorInt is 20)[&lt;script&gt;CustomScripts.updateBackground(2041);&lt;/script&gt;]


	
(set: $zeroMarker to &quot;a barrel&quot;)
(set: $oneMarker to &quot;a suit of armor&quot;)
(set: $twoMarker to &quot;a crystal swan&quot;)
(set: $threeMarker to &quot;a statue of a buxom woman&quot;)
(set: $fourMarker to &quot;a golf club&quot;)
(set: $fiveMarker to &quot;a collection of gold rings&quot;)
(set: $sixMarker to &quot;a cane&quot;)
(set: $sevenMarker to &quot;a severed head in a box&quot;)
(set: $eightMarker to &quot;a gateway to infinity&quot;)
(set: $nineMarker to &quot;a Nazgul&quot;)
($setFlatDirections:)
($setUpDownDirections:)
($setDownWestVariables:)
($setDownSouthVariables:)
($fixOptionalPaths:)

(if: $southVariable is $south_Variable)[(set: $startRoom to &quot;passage 2&quot;)]
(if: $northVariable is $south_Variable)[(set: $startRoom to &quot;room 0&quot;)]
(if: $eastVariable is $south_Variable)[(set: $startRoom to &quot;passage 3&quot;)]
(if: $westVariable is $south_Variable)[(set: $startRoom to &quot;passage 5&quot;)]

(set: $returnText to &quot;A different possibility is to head back to the $south_Variable towards [[$nexusWord-&gt;complex four]].&quot;) 

}

(if: $floorInt is 6)[You are in the bustling souk of Al-Madina, where vendors from far and wide peddle their wares to the busy city. The souk heads [[$north_Variable-&gt;$startRoom]] from here. Alternatively you can exit the souk by [[climbing up-&gt;middle middle]] to $nexusWord.] (if: $floorInt is 14)[You are at a port in an unknown city in the new world. To explore the city, you must head [[$north_Variable-&gt;$startRoom]] on foot. Alternatively you can $head [[$south_Variable-&gt;middle middle]] to $nexusWord.](else:)[ $complexSentence. From here you can go $south_Variable to the [[$nexusWord-&gt;middle middle]]. Alternatively, you may go [[$north_Variable-&gt;$startRoom]].]





</tw-passagedata><tw-passagedata pid="32" name="complex five" tags="" position="986,1626" size="100,100">{
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
(set: $decadeNum to 50) 
(set: $decadeString to (str: $decadeNum))
(set: $decadeReference to $hundredNumber + $decadeNum + 1) 
(set: $referenceString to (str: $decadeReference))

(set: $complexLanguage to (str: $decadeReference) of $generalLanguage)
($refreshSentences:) 

(if: $floorInt is 0)[&lt;script&gt;CustomScripts.updateBackground(51);&lt;/script&gt;]
(if: $floorInt is 1)[&lt;script&gt;CustomScripts.updateBackground(151);&lt;/script&gt;]
(if: $floorInt is 2)[&lt;script&gt;CustomScripts.updateBackground(251);&lt;/script&gt;]
(if: $floorInt is 3)[&lt;script&gt;CustomScripts.updateBackground(351);&lt;/script&gt;]
(if: $floorInt is 4)[&lt;script&gt;CustomScripts.updateBackground(451);&lt;/script&gt;]
(if: $floorInt is 5)[&lt;script&gt;CustomScripts.updateBackground(551);&lt;/script&gt;]
(if: $floorInt is 6)[&lt;script&gt;CustomScripts.updateBackground(651);&lt;/script&gt;]
(if: $floorInt is 7)[&lt;script&gt;CustomScripts.updateBackground(751);&lt;/script&gt;]
(if: $floorInt is 8)[&lt;script&gt;CustomScripts.updateBackground(851);&lt;/script&gt;]
(if: $floorInt is 9)[&lt;script&gt;CustomScripts.updateBackground(951);&lt;/script&gt;]
(if: $floorInt is 10)[&lt;script&gt;CustomScripts.updateBackground(1051);&lt;/script&gt;]
(if: $floorInt is 11)[&lt;script&gt;CustomScripts.updateBackground(1151);&lt;/script&gt;]
(if: $floorInt is 12)[&lt;script&gt;CustomScripts.updateBackground(1251);&lt;/script&gt;]
(if: $floorInt is 13)[&lt;script&gt;CustomScripts.updateBackground(1351);&lt;/script&gt;]
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1451);&lt;/script&gt;]
(if: $floorInt is 15)[&lt;script&gt;CustomScripts.updateBackground(1551);&lt;/script&gt;]
(if: $floorInt is 16)[&lt;script&gt;CustomScripts.updateBackground(1651);&lt;/script&gt;]
(if: $floorInt is 17)[&lt;script&gt;CustomScripts.updateBackground(1751);&lt;/script&gt;]
(if: $floorInt is 18)[&lt;script&gt;CustomScripts.updateBackground(1851);&lt;/script&gt;]
(if: $floorInt is 19)[&lt;script&gt;CustomScripts.updateBackground(1951);&lt;/script&gt;]
(if: $floorInt is 20)[&lt;script&gt;CustomScripts.updateBackground(2051);&lt;/script&gt;]


	
(set: $zeroMarker to &quot;a barrel&quot;)
(set: $oneMarker to &quot;a suit of armor&quot;)
(set: $twoMarker to &quot;a crystal swan&quot;)
(set: $threeMarker to &quot;a statue of a buxom woman&quot;)
(set: $fourMarker to &quot;a golf club&quot;)
(set: $fiveMarker to &quot;a collection of gold rings&quot;)
(set: $sixMarker to &quot;a cane&quot;)
(set: $sevenMarker to &quot;a severed head in a box&quot;)
(set: $eightMarker to &quot;a gateway to infinity&quot;)
(set: $nineMarker to &quot;a Nazgul&quot;)
($setFlatDirections:)
($setUpDownDirections:)
($setDownWestVariables:)
($setDownSouthVariables:)
($fixOptionalPaths:)

(if: $southVariable is $west_Variable)[(set: $startRoom to &quot;passage 2&quot;)]
(if: $northVariable is $west_Variable)[(set: $startRoom to &quot;room 0&quot;)]
(if: $eastVariable is $west_Variable)[(set: $startRoom to &quot;passage 3&quot;)]
(if: $westVariable is $west_Variable)[(set: $startRoom to &quot;passage 5&quot;)]

(set: $returnText to &quot;A different possibility is to head back to the $west_Variable towards [[$nexusWord-&gt;complex five]].&quot;) 


}

(if: $floorInt is 6)[You are in the inner gatehouse to the Citadel of Aleppo. The doors to the city are locked and unopenable, but you can explore the citadel by heading [[$east_Variable-&gt;$startRoom]]. Alternatively you can leave the citadel by [[climbing up a ladder-&gt;middle right]] to $nexusWord.] (if: $floorInt is 14)[You are at a port in the city of Istanbul, which is under siege from the forces of Mehmet II. To explore the city, you must head [[$east_Variable-&gt;$startRoom]] on foot. Alternatively you can $head [[$west_Variable-&gt;middle right]] to $nexusWord.](else:)[$complexSentence. From here you can go $west_Variable to the [[$nexusWord-&gt;middle right]]. Alternatively, you may go [[$east_Variable-&gt;$startRoom]].]





</tw-passagedata><tw-passagedata pid="33" name="complex six" tags="" position="891,1776" size="100,100">{
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
(set: $decadeNum to 60) 
(set: $decadeString to (str: $decadeNum))
(set: $decadeReference to $hundredNumber + $decadeNum + 1) 
(set: $referenceString to (str: $decadeReference))

(set: $complexLanguage to (str: $decadeReference) of $generalLanguage)
($refreshSentences:) 

(if: $floorInt is 0)[&lt;script&gt;CustomScripts.updateBackground(61);&lt;/script&gt;]
(if: $floorInt is 1)[&lt;script&gt;CustomScripts.updateBackground(161);&lt;/script&gt;]
(if: $floorInt is 2)[&lt;script&gt;CustomScripts.updateBackground(261);&lt;/script&gt;]
(if: $floorInt is 3)[&lt;script&gt;CustomScripts.updateBackground(361);&lt;/script&gt;]
(if: $floorInt is 4)[&lt;script&gt;CustomScripts.updateBackground(461);&lt;/script&gt;]
(if: $floorInt is 5)[&lt;script&gt;CustomScripts.updateBackground(561);&lt;/script&gt;]
(if: $floorInt is 6)[&lt;script&gt;CustomScripts.updateBackground(661);&lt;/script&gt;]
(if: $floorInt is 7)[&lt;script&gt;CustomScripts.updateBackground(761);&lt;/script&gt;]
(if: $floorInt is 8)[&lt;script&gt;CustomScripts.updateBackground(861);&lt;/script&gt;]
(if: $floorInt is 9)[&lt;script&gt;CustomScripts.updateBackground(961);&lt;/script&gt;]
(if: $floorInt is 10)[&lt;script&gt;CustomScripts.updateBackground(1061);&lt;/script&gt;]
(if: $floorInt is 11)[&lt;script&gt;CustomScripts.updateBackground(1161);&lt;/script&gt;]
(if: $floorInt is 12)[&lt;script&gt;CustomScripts.updateBackground(1261);&lt;/script&gt;]
(if: $floorInt is 13)[&lt;script&gt;CustomScripts.updateBackground(1361);&lt;/script&gt;]
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1461);&lt;/script&gt;]
(if: $floorInt is 15)[&lt;script&gt;CustomScripts.updateBackground(1561);&lt;/script&gt;]
(if: $floorInt is 16)[&lt;script&gt;CustomScripts.updateBackground(1661);&lt;/script&gt;]
(if: $floorInt is 17)[&lt;script&gt;CustomScripts.updateBackground(1761);&lt;/script&gt;]
(if: $floorInt is 18)[&lt;script&gt;CustomScripts.updateBackground(1861);&lt;/script&gt;]
(if: $floorInt is 19)[&lt;script&gt;CustomScripts.updateBackground(1961);&lt;/script&gt;]
(if: $floorInt is 20)[&lt;script&gt;CustomScripts.updateBackground(2061);&lt;/script&gt;]


	
(set: $zeroMarker to &quot;a barrel&quot;)
(set: $oneMarker to &quot;a suit of armor&quot;)
(set: $twoMarker to &quot;a crystal swan&quot;)
(set: $threeMarker to &quot;a statue of a buxom woman&quot;)
(set: $fourMarker to &quot;a golf club&quot;)
(set: $fiveMarker to &quot;a collection of gold rings&quot;)
(set: $sixMarker to &quot;a cane&quot;)
(set: $sevenMarker to &quot;a severed head in a box&quot;)
(set: $eightMarker to &quot;a gateway to infinity&quot;)
(set: $nineMarker to &quot;a Nazgul&quot;)
($setFlatDirections:)
($setUpDownDirections:)
($setDownWestVariables:)
($setDownSouthVariables:)
($fixOptionalPaths:)

(if: $southVariable is $north_Variable)[(set: $startRoom to &quot;passage 2&quot;)]
(if: $northVariable is $north_Variable)[(set: $startRoom to &quot;room 0&quot;)]
(if: $eastVariable is $north_Variable)[(set: $startRoom to &quot;passage 3&quot;)]
(if: $westVariable is $north_Variable)[(set: $startRoom to &quot;passage 5&quot;)]

(set: $returnText to &quot;A different possibility is to head back to the $north_Variable towards [[$nexusWord-&gt;complex six]].&quot;) 

}

(if: $floorInt is 6)[You are in the Jewish quarter of the ancient city of Aleppo. To explore the quarter, you must head [[$south_Variable-&gt;$startRoom]]. You can leave the quarter by climbing [[up-&gt;middle right]] to $nexusWord.] (if: $floorInt is 14)[You are at a port in the city of London. To explore the city, you must head [[$south_Variable-&gt;$startRoom]] on foot. Alternatively you can $head [[$north_Variable-&gt;middle right]] to $nexusWord.](else:)[$complexSentence. From here you can go $north_Variable to [[$nexusWord-&gt;middle right]]. Alternatively, you may go [[$south_Variable-&gt;$startRoom]].]





</tw-passagedata><tw-passagedata pid="34" name="complex seven" tags="" position="673,1777" size="100,100">{
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
(set: $decadeNum to 70) 
(set: $decadeString to (str: $decadeNum))
(set: $decadeReference to $hundredNumber + $decadeNum + 1) 
(set: $referenceString to (str: $decadeReference))

(set: $complexLanguage to (str: $decadeReference) of $generalLanguage)
($refreshSentences:) 

(if: $floorInt is 0)[&lt;script&gt;CustomScripts.updateBackground(71);&lt;/script&gt;]
(if: $floorInt is 1)[&lt;script&gt;CustomScripts.updateBackground(171);&lt;/script&gt;]
(if: $floorInt is 2)[&lt;script&gt;CustomScripts.updateBackground(271);&lt;/script&gt;]
(if: $floorInt is 3)[&lt;script&gt;CustomScripts.updateBackground(371);&lt;/script&gt;]
(if: $floorInt is 4)[&lt;script&gt;CustomScripts.updateBackground(471);&lt;/script&gt;]
(if: $floorInt is 5)[&lt;script&gt;CustomScripts.updateBackground(571);&lt;/script&gt;]
(if: $floorInt is 6)[&lt;script&gt;CustomScripts.updateBackground(671);&lt;/script&gt;]
(if: $floorInt is 7)[&lt;script&gt;CustomScripts.updateBackground(771);&lt;/script&gt;]
(if: $floorInt is 8)[&lt;script&gt;CustomScripts.updateBackground(871);&lt;/script&gt;]
(if: $floorInt is 9)[&lt;script&gt;CustomScripts.updateBackground(971);&lt;/script&gt;]
(if: $floorInt is 10)[&lt;script&gt;CustomScripts.updateBackground(1071);&lt;/script&gt;]
(if: $floorInt is 11)[&lt;script&gt;CustomScripts.updateBackground(1171);&lt;/script&gt;]
(if: $floorInt is 12)[&lt;script&gt;CustomScripts.updateBackground(1271);&lt;/script&gt;]
(if: $floorInt is 13)[&lt;script&gt;CustomScripts.updateBackground(1371);&lt;/script&gt;]
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1471);&lt;/script&gt;]
(if: $floorInt is 15)[&lt;script&gt;CustomScripts.updateBackground(1571);&lt;/script&gt;]
(if: $floorInt is 16)[&lt;script&gt;CustomScripts.updateBackground(1671);&lt;/script&gt;]
(if: $floorInt is 17)[&lt;script&gt;CustomScripts.updateBackground(1771);&lt;/script&gt;]
(if: $floorInt is 18)[&lt;script&gt;CustomScripts.updateBackground(1871);&lt;/script&gt;]
(if: $floorInt is 19)[&lt;script&gt;CustomScripts.updateBackground(1971);&lt;/script&gt;]
(if: $floorInt is 20)[&lt;script&gt;CustomScripts.updateBackground(2071);&lt;/script&gt;]


	
(set: $zeroMarker to &quot;a barrel&quot;)
(set: $oneMarker to &quot;a suit of armor&quot;)
(set: $twoMarker to &quot;a crystal swan&quot;)
(set: $threeMarker to &quot;a statue of a buxom woman&quot;)
(set: $fourMarker to &quot;a golf club&quot;)
(set: $fiveMarker to &quot;a collection of gold rings&quot;)
(set: $sixMarker to &quot;a cane&quot;)
(set: $sevenMarker to &quot;a severed head in a box&quot;)
(set: $eightMarker to &quot;a gateway to infinity&quot;)
(set: $nineMarker to &quot;a Nazgul&quot;)
($setFlatDirections:)
($setUpDownDirections:)
($setDownWestVariables:)
($setDownSouthVariables:)
($fixOptionalPaths:)

(if: $southVariable is $west_Variable)[(set: $startRoom to &quot;passage 2&quot;)]
(if: $northVariable is $west_Variable)[(set: $startRoom to &quot;room 0&quot;)]
(if: $eastVariable is $west_Variable)[(set: $startRoom to &quot;passage 3&quot;)]
(if: $westVariable is $west_Variable)[(set: $startRoom to &quot;passage 5&quot;)]

(set: $returnText to &quot;A different possibility is to head back to the $west_Variable towards [[$nexusWord-&gt;complex seven]].&quot;) 

}


(if: $floorInt is 6)[You are in the great mosque in the city of Aleppo. You can explore the mosque by heading [[$east_Variable-&gt;$startRoom]]. Alternatively you can leave the mosque by [[climbing up a ladder-&gt;two fifths up]] to $nexusWord.] (if: $floorInt is 14)[You are at a port in the Vatican city, which suffers under the corrupt Papacy of Rodrigo Borgia. To explore the Vatican, you must head [[$east_Variable-&gt;$startRoom]] on foot. Alternatively you can $head [[$west_Variable-&gt;two fifths up]] to $nexusWord.](else:)[$complexSentence
From here you can go $west_Variable to the [[$nexusWord-&gt;two fifths up]]. Alternatively, you may go [[$east_Variable-&gt;$startRoom]].]





</tw-passagedata><tw-passagedata pid="35" name="complex nine" tags="" position="292,1778" size="100,100">{
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
(set: $decadeNum to 90) 
(set: $decadeString to (str: $decadeNum))
(set: $decadeReference to $hundredNumber + $decadeNum + 1) 
(set: $referenceString to (str: $decadeReference))

(set: $complexLanguage to (str: $decadeReference) of $generalLanguage)
($refreshSentences:) 

(if: $floorInt is 0)[&lt;script&gt;CustomScripts.updateBackground(91);&lt;/script&gt;]
(if: $floorInt is 1)[&lt;script&gt;CustomScripts.updateBackground(191);&lt;/script&gt;]
(if: $floorInt is 2)[&lt;script&gt;CustomScripts.updateBackground(291);&lt;/script&gt;]
(if: $floorInt is 3)[&lt;script&gt;CustomScripts.updateBackground(391);&lt;/script&gt;]
(if: $floorInt is 4)[&lt;script&gt;CustomScripts.updateBackground(491);&lt;/script&gt;]
(if: $floorInt is 5)[&lt;script&gt;CustomScripts.updateBackground(591);&lt;/script&gt;]
(if: $floorInt is 6)[&lt;script&gt;CustomScripts.updateBackground(691);&lt;/script&gt;]
(if: $floorInt is 7)[&lt;script&gt;CustomScripts.updateBackground(791);&lt;/script&gt;]
(if: $floorInt is 8)[&lt;script&gt;CustomScripts.updateBackground(891);&lt;/script&gt;]
(if: $floorInt is 9)[&lt;script&gt;CustomScripts.updateBackground(991);&lt;/script&gt;]
(if: $floorInt is 10)[&lt;script&gt;CustomScripts.updateBackground(1091);&lt;/script&gt;]
(if: $floorInt is 11)[&lt;script&gt;CustomScripts.updateBackground(1191);&lt;/script&gt;]
(if: $floorInt is 12)[&lt;script&gt;CustomScripts.updateBackground(1291);&lt;/script&gt;]
(if: $floorInt is 13)[&lt;script&gt;CustomScripts.updateBackground(1391);&lt;/script&gt;]
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1491);&lt;/script&gt;]
(if: $floorInt is 15)[&lt;script&gt;CustomScripts.updateBackground(1591);&lt;/script&gt;]
(if: $floorInt is 16)[&lt;script&gt;CustomScripts.updateBackground(1691);&lt;/script&gt;]
(if: $floorInt is 17)[&lt;script&gt;CustomScripts.updateBackground(1791);&lt;/script&gt;]
(if: $floorInt is 18)[&lt;script&gt;CustomScripts.updateBackground(1891);&lt;/script&gt;]
(if: $floorInt is 19)[&lt;script&gt;CustomScripts.updateBackground(1991);&lt;/script&gt;]
(if: $floorInt is 20)[&lt;script&gt;CustomScripts.updateBackground(2091);&lt;/script&gt;]


	
(set: $zeroMarker to &quot;a barrel&quot;)
(set: $oneMarker to &quot;a suit of armor&quot;)
(set: $twoMarker to &quot;a crystal swan&quot;)
(set: $threeMarker to &quot;a statue of a buxom woman&quot;)
(set: $fourMarker to &quot;a golf club&quot;)
(set: $fiveMarker to &quot;a collection of gold rings&quot;)
(set: $sixMarker to &quot;a cane&quot;)
(set: $sevenMarker to &quot;a severed head in a box&quot;)
(set: $eightMarker to &quot;a gateway to infinity&quot;)
(set: $nineMarker to &quot;a Nazgul&quot;)
($setFlatDirections:)
($setUpDownDirections:)
($setDownWestVariables:)
($setDownSouthVariables:)
($fixOptionalPaths:)

(if: $southVariable is $east_Variable)[(set: $startRoom to &quot;passage 2&quot;)]
(if: $northVariable is $east_Variable)[(set: $startRoom to &quot;room 0&quot;)]
(if: $eastVariable is $east_Variable)[(set: $startRoom to &quot;passage 3&quot;)]
(if: $westVariable is $east_Variable)[(set: $startRoom to &quot;passage 5&quot;)]

(set: $returnText to &quot;A different possibility is to head back to the $east_Variable towards [[$nexusWord-&gt;complex nine]].&quot;) 

}


(if: $floorInt is 6)[You are at one of the gatehouses to the city of Aleppo. From here, a road leads to the forgotten cities to the $west_Variable. You may [[take the road $west_Variable-&gt;$startRoom]] if you like, or [[climb up-&gt;two fifths up]] to $nexusWord.] (if: $floorInt is 14)[You are at a port in the city of Trgovite, where Vlad the Impaler rules with an iron fist. Outside the city, fields of impaled bodies send an ominous message to the enemies of Wallachia. To explore the city, you must head [[$west_Variable-&gt;$startRoom]] on foot. Alternatively you can $head [[$east_Variable-&gt;two fifths up]] to $nexusWord.] (else:)[$complexSentence. From here you can go $east_Variable to the [[$nexusWord-&gt;two fifths up]]. Alternatively, you may go [[$west_Variable-&gt;$startRoom]].]





</tw-passagedata><tw-passagedata pid="36" name="complex eight" tags="" position="488,2076" size="100,100">{
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
(set: $decadeNum to 80) 
(set: $decadeString to (str: $decadeNum))
(set: $decadeReference to $hundredNumber + $decadeNum + 1) 
(set: $referenceString to (str: $decadeReference))

(set: $complexLanguage to (str: $decadeReference) of $generalLanguage)
($refreshSentences:) 

(if: $floorInt is 0)[&lt;script&gt;CustomScripts.updateBackground(81);&lt;/script&gt;]
(if: $floorInt is 1)[&lt;script&gt;CustomScripts.updateBackground(181);&lt;/script&gt;]
(if: $floorInt is 2)[&lt;script&gt;CustomScripts.updateBackground(281);&lt;/script&gt;]
(if: $floorInt is 3)[&lt;script&gt;CustomScripts.updateBackground(381);&lt;/script&gt;]
(if: $floorInt is 4)[&lt;script&gt;CustomScripts.updateBackground(481);&lt;/script&gt;]
(if: $floorInt is 5)[&lt;script&gt;CustomScripts.updateBackground(581);&lt;/script&gt;]
(if: $floorInt is 6)[&lt;script&gt;CustomScripts.updateBackground(681);&lt;/script&gt;]
(if: $floorInt is 7)[&lt;script&gt;CustomScripts.updateBackground(781);&lt;/script&gt;]
(if: $floorInt is 8)[&lt;script&gt;CustomScripts.updateBackground(881);&lt;/script&gt;]
(if: $floorInt is 9)[&lt;script&gt;CustomScripts.updateBackground(981);&lt;/script&gt;]
(if: $floorInt is 10)[&lt;script&gt;CustomScripts.updateBackground(1081);&lt;/script&gt;]
(if: $floorInt is 11)[&lt;script&gt;CustomScripts.updateBackground(1181);&lt;/script&gt;]
(if: $floorInt is 12)[&lt;script&gt;CustomScripts.updateBackground(1281);&lt;/script&gt;]
(if: $floorInt is 13)[&lt;script&gt;CustomScripts.updateBackground(1381);&lt;/script&gt;]
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1481);&lt;/script&gt;]
(if: $floorInt is 15)[&lt;script&gt;CustomScripts.updateBackground(1581);&lt;/script&gt;]
(if: $floorInt is 16)[&lt;script&gt;CustomScripts.updateBackground(1681);&lt;/script&gt;]
(if: $floorInt is 17)[&lt;script&gt;CustomScripts.updateBackground(1781);&lt;/script&gt;]
(if: $floorInt is 18)[&lt;script&gt;CustomScripts.updateBackground(1881);&lt;/script&gt;]
(if: $floorInt is 19)[&lt;script&gt;CustomScripts.updateBackground(1981);&lt;/script&gt;]
(if: $floorInt is 20)[&lt;script&gt;CustomScripts.updateBackground(2081);&lt;/script&gt;]


	
(set: $zeroMarker to &quot;a barrel&quot;)
(set: $oneMarker to &quot;a suit of armor&quot;)
(set: $twoMarker to &quot;a crystal swan&quot;)
(set: $threeMarker to &quot;a statue of a buxom woman&quot;)
(set: $fourMarker to &quot;a golf club&quot;)
(set: $fiveMarker to &quot;a collection of gold rings&quot;)
(set: $sixMarker to &quot;a cane&quot;)
(set: $sevenMarker to &quot;a severed head in a box&quot;)
(set: $eightMarker to &quot;a gateway to infinity&quot;)
(set: $nineMarker to &quot;a Nazgul&quot;)
($setFlatDirections:)
($setUpDownDirections:)
($setDownWestVariables:)
($setDownSouthVariables:)
($fixOptionalPaths:)

(if: $southVariable is $north_Variable)[(set: $startRoom to &quot;passage 2&quot;)]
(if: $northVariable is $north_Variable)[(set: $startRoom to &quot;room 0&quot;)]
(if: $eastVariable is $north_Variable)[(set: $startRoom to &quot;passage 3&quot;)]
(if: $westVariable is $north_Variable)[(set: $startRoom to &quot;passage 5&quot;)]

(set: $returnText to &quot;A different possibility is to head back to the $north_Variable towards [[$nexusWord-&gt;complex eight]].&quot;) 

}

(if: $floorInt is 6)[You are in the penal quarter of the ancient city of Aleppo, under the shadow of the citadel, where sinners and criminals are justly flogged, mutilated or executed. To explore the quarter, you must head [[$south_Variable-&gt;$startRoom]]. You can leave the quarter by climbing [[up-&gt;bottom]] to $nexusWord.] (if: $floorInt is 14)[You are at a riverside dock in the city of Madrid. To explore the city, you must head [[$south_Variable-&gt;$startRoom]] on foot. Alternatively you can $head [[$north_Variable-&gt;bottom]] to $nexusWord.](else:)[$complexSentence. From here you can go $north_Variable to [[$nexusWord-&gt;bottom]]. Alternatively, you may go [[$south_Variable-&gt;$startRoom]].]  





</tw-passagedata><tw-passagedata pid="37" name="Done" tags="" position="305,1080" size="100,100">At last the elevator comes to a halt.

{
(set: $floorInt to (num: $floorString))
(set: $hundredNumber to $floorInt*100)
(set: $floorString2 to (str: $hundredNumber))

(set: $head to (cond:
	$floorInt is 8, &quot;wade&quot;,
	$floorInt is 14, &quot;sail a course&quot;,
	(either: &quot;head&quot;, &quot;go&quot;)))

(set: $secondaryPassage to (cond: 
	$floorInt is 0, &#39;burrow&#39;,
	$floorInt is 1, &#39;alley&#39;,
	$floorInt is 2, &#39;avenue&#39;,
	$floorInt is 3, &#39;corridor&#39;,
	$floorInt is 4, &#39;way&#39;,
	$floorInt is 5, &#39;passage&#39;,
	$floorInt is 6, &#39;rooftop&#39;,
	$floorInt is 7, &#39;palace complex&#39;,
	$floorInt is 8, &#39;causeway&#39;,
	$floorInt is 9, &#39;corridor&#39;,
	$floorInt is 10, &#39;fissure&#39;,
	$floorInt is 11, &#39;passageway&#39;,
	$floorInt is 12, &#39;climbhole&#39;,
	$floorInt is 13, &#39;passage&#39;,
	$floorInt is 14, &#39;deck&#39;,
	$floorInt is 15, &#39;lane&#39;,
	$floorInt is 16, &#39;channel&#39;,
	$floorInt is 17, &#39;couloir&#39;,
	$floorInt is 18, &#39;wynd&#39;,
	$floorInt is 19, &#39;lane&#39;,
	$floorInt is 20, &#39;back street&#39;,
	&quot;way&quot;))

(set: $doorTypes to (cond: 
	$floorInt is 0, (a: &quot;through a&quot;, &quot;&quot;, &quot;doorway&quot;, &quot;into a&quot;),
	$floorInt is 1, (a: &#39;through an&#39;, &#39;&#39;, &#39;archway&#39;, &quot;into a&quot;),
	$floorInt is 2, (a: &#39;through a&#39;, &#39;red and gold&#39;, &#39;arch&#39;, &quot;into a&quot;),
	$floorInt is 3, (a: &#39;through a&#39;, &#39;golden&#39;, &#39;exit&#39;, &quot;into&quot;),
	$floorInt is 4, (a: &#39;through a&#39;, &#39;collapsing&#39;, &#39;arch&#39;, &quot;into a&quot;),
	$floorInt is 5, (a: &#39;down a&#39;, &#39;long&#39;, &#39;road&#39;, &quot;to a&quot;),
	$floorInt is 6, (a: &#39;into a&#39;, &#39;rooftop&#39;,&#39;cupola&#39;, &quot;that provides access to a&quot;),
	$floorInt is 7, (a: &#39;down a&#39;, &#39;mud&#39;, &#39;lane&#39;, &quot;to a&quot;),
	$floorInt is 8, (a: &#39;up a&#39;, &#39;dry-earth&#39;, &#39;upgang&#39;, &quot;onto a&quot;),
	$floorInt is 9, (a: &#39;along a&#39;, &#39;&#39;, &#39;thoroughfare&#39;, &quot;to a&quot;),
	$floorInt is 10, (a: &#39;through a&#39;, &#39;rocky&#39;, &#39;crack&#39;, &quot;into a&quot;),
	$floorInt is 11, (a: &#39;through a&#39;, &#39;wooden&#39;,&#39;doorway&#39;, &quot;into a&quot;),
	$floorInt is 12, (a: &#39;through a&#39;, &#39;mechanical&#39;, &#39;opening&#39;, &quot;in a&quot;),
	$floorInt is 13, (a: &#39;through an&#39;, &#39;oak&#39;, &#39;door&#39;, &quot;into a&quot;),
	$floorInt is 14, (a: &#39;&#39;, &#39;&#39;, &#39;&#39;, &quot;to a&quot;),
	$floorInt is 15, (a: &#39;down a&#39;, &#39;&#39;, &#39;lane&#39;, &quot;to a&quot;),
	$floorInt is 16, (a: &#39;up a&#39;, &#39;&#39;, &#39;step&#39;, &quot;onto a&quot;),
	$floorInt is 17, (a: &#39;over a&#39;, &#39;narrow&#39;, &#39;bridge&#39;, &quot;to a different&quot;),
	$floorInt is 18, (a: &#39;down a&#39;, &#39;foggy&#39;, &#39;alley&#39;, &quot;to a different&quot;),
	$floorInt is 19, (a: &#39;through a&#39;, &#39;&#39;, &#39;hole in the wall&#39;, &quot;to a different&quot;),
	$floorInt is 20, (a: &#39;through an&#39;, &#39;&#39;, &#39;electronic turnstile&#39;, &quot;to a different&quot;),
	&quot;through a&quot;, &quot;&quot;, &quot;doorway&quot;, &quot;to a&quot;))

(set: $exitPhrase to (cond: 
	$floorInt is 9, &quot;to somewhere&quot;,
	$floorInt is 6, &quot;into the&quot;, 
	$floorInt is 8, &quot;onto an&quot;,
	$floorInt is 14, &quot;towards a&quot;,
	(4) of $doorTypes + &quot; different&quot;
	))

(set: $complexWord to (cond: 
	$floorInt is 0, &#39;part of the labyrinth&#39;,
	$floorInt is 1, &#39;quarter&#39;,
	$floorInt is 2, &#39;ward&#39;,
	$floorInt is 3, &#39;wing&#39;,
	$floorInt is 4, &#39;quarter&#39;,
	$floorInt is 5, &#39;realm&#39;,
	$floorInt is 6, &#39;building below&#39;,
	$floorInt is 7, &#39;quarter&#39;,
	$floorInt is 8, &#39;island&#39;,
	$floorInt is 9, &#39;unknown&#39;,
	$floorInt is 10, &#39;underworld&#39;,
	$floorInt is 11, &#39;hub&#39;,
	$floorInt is 12, &#39;siege machine&#39;,
	$floorInt is 13, &#39;tower&#39;,
	$floorInt is 14, &#39;nearby port&#39;,
	$floorInt is 15, &#39;hamlet&#39;,
	$floorInt is 16, &#39;district&#39;,
	$floorInt is 17, &#39;quarter&#39;,
	$floorInt is 18, &#39;neighborhood&#39;,
	$floorInt is 19, &#39;district&#39;,
	$floorInt is 20, &#39;sector&#39;,
	&quot;region&quot;))
	
(set: $nexusWord to (cond: 
	$floorInt is 0, &quot;the catacombs&quot;,
	$floorInt is 1, &quot;the forum&quot;,
	$floorInt is 2, &quot;the forbidden city&quot;,
	$floorInt is 3, &quot;the Byzantine palace&quot;,
	$floorInt is 4, &quot;the ruins of the Caput Mundi&quot;,
	$floorInt is 5, &quot;the olde pyke&quot;,
	$floorInt is 6, &quot;the rooftops of Aleppo&quot;,
	$floorInt is 7, &quot;palace complex at Charlemagne&#39;s court&quot;,
	$floorInt is 8, &quot;sulphurous waters of the Somerset levels&quot;,
	$floorInt is 9, &quot;the streets of Winchester&quot;,
	$floorInt is 10, &quot;undefined&quot;,
	$floorInt is 11, &quot;undefined&quot;,
	$floorInt is 12, &quot;undefined&quot;,
	$floorInt is 13, &quot;undefined&quot;,
	$floorInt is 14, &quot;the sea&quot;,
	$floorInt is 15, &quot;undefined&quot;,
	$floorInt is 16, &quot;undefined&quot;,
	$floorInt is 17, &quot;undefined&quot;,
	$floorInt is 18, &quot;undefined&quot;,
	$floorInt is 19, &quot;undefined&quot;,
	$floorInt is 20, &quot;undefined&quot;))
	

	
(set: $nexusPassage to (cond: 
	$floorInt is 0, (a: &#39;in a&#39;, &#39;narrow&#39;, &#39;tunnel&#39;),
	$floorInt is 1, (a: &#39;on a&#39;, &#39;busy&#39;, &#39;street&#39;),
	$floorInt is 2, (a: &#39;on a&#39;, &#39;clay-brick&#39;, &#39;avenue&#39;),
	$floorInt is 3, (a: &#39;in a&#39;, &#39;high&#39;, &#39;hallway&#39;),
	$floorInt is 4, (a: &#39;on a&#39;, &#39;desolate&#39;, &#39;street&#39;),
	$floorInt is 5, (a: &#39;on a&#39;, &#39;grassy&#39;, &#39;path&#39;),
	$floorInt is 6, (a: &#39;on a&#39;, &#39;clay tiled&#39;,&#39;rooftop&#39;),
	$floorInt is 7, (a: &#39;on a&#39;, &#39;muddy&#39;, &#39;street&#39;),
	$floorInt is 8, (a: &#39;&#39;, &#39;&#39;, &#39;&#39;),
	$floorInt is 9, (a: &#39;on a&#39;, &#39;cragged&#39;, &#39;pike&#39;),
	$floorInt is 10, (a: &#39;on a&#39;, &#39;rocky&#39;, &#39;path&#39;),
	$floorInt is 11, (a: &#39;on a&#39;, &#39;wooden&#39;,&#39;walkway&#39;),
	$floorInt is 12, (a: &#39;on a&#39;, &#39;blood drenched&#39;, &#39;path&#39;),
	$floorInt is 13, (a: &#39;on a&#39;, &#39;stone&#39;, &#39;allure&#39;),
	$floorInt is 14, (a: &#39;on a&#39;, &#39;wooden&#39;, &#39;frigate&#39;),
	$floorInt is 15, (a: &#39;on a&#39;, &#39;smoky&#39;, &#39;pike&#39;),
	$floorInt is 16, (a: &#39;on a&#39;, &#39;deep&#39;, &#39;canal&#39;),
	$floorInt is 17, (a: &#39;on a&#39;, &#39;cobbled&#39;, &#39;rue&#39;),
	$floorInt is 18, (a: &#39;on a&#39;, &#39;cobbled&#39;, &#39;street&#39;),
	$floorInt is 19, (a: &#39;on a&#39;, &#39;rubbled&#39;, &#39;street&#39;),
	$floorInt is 20, (a: &#39;on a&#39;, &#39;vibrant&#39;, &#39;street&#39;),
	&quot;way&quot;))
	
	(set: $nexusPhrase to (cond: 
	$floorInt is 0, (a: &#39;in the&#39;, &#39;dusty&#39;, &#39;catacombs&#39;, &#39;of Callixus&#39;),
	$floorInt is 1, (a: &#39;in the&#39;, &#39;bustling&#39;, &#39;forum&#39;, &#39;of ancient Rome&#39;),
	$floorInt is 2, (a: &#39;on the&#39;, &#39;opulent&#39;, &#39;avenues&#39;, &#39;of the Forbidden City&#39;),
	$floorInt is 3, (a: &#39;in a&#39;, &#39;glistening&#39;, &#39;palace&#39;, &#39;in ancient Byzantium&#39;),
	$floorInt is 4, (a: &#39;in the&#39;, &#39;ruins&#39;, &#39;&#39;, &#39;of ancient Rome&#39;),
	$floorInt is 5, (a: &#39;on the&#39;, &#39;olde&#39;, &#39;pyke&#39;, &#39;in Arthurian Britain&#39;),
	$floorInt is 6, (a: &#39;above the&#39;, &#39;bustling&#39;, &#39;city&#39;, &#39;of Aleppo&#39;),
	$floorInt is 7, (a: &quot;in Charlemagne&#39;s&quot;, &#39;&#39;, &#39;Palace Complex&#39;, &#39;at Aachen&#39;),
	$floorInt is 8, (a: &#39;wading through the&#39;, &#39;stinking&#39;, &#39;Somerset levels&#39;, &#39;, within the bells of the Athelney Abbey&#39;),
	$floorInt is 9, (a: &#39;in the&#39;, &#39;Anglo Saxon&#39;, &#39;city&#39;, &#39;of Winchester&#39;),
	$floorInt is 10, (a: &#39;in the&#39;, &#39;jagged&#39;, &#39;gullies&#39;, &#39;of Tartarus&#39;),
	$floorInt is 11, (a: &#39;in the&#39;, &#39;humid&#39;,&#39;jungles&#39;, &#39;surrounding the upper Eilanden&#39;),
	$floorInt is 12, (a: &#39;on the&#39;, &#39;war torn&#39;, &#39;steppes&#39;, &#39;of Asia&#39;),
	$floorInt is 13, (a: &#39;high above the&#39;, &#39;diseased&#39;, &#39;city&#39;, &#39;of Rochester&#39;),
	$floorInt is 14, (a: &#39;in sight of&#39;, &#39;&#39;, &#39;unexplored shores&#39;, &#39;&#39;),
	$floorInt is 15, (a: &#39;in the&#39;, &#39;dark&#39;, &#39;valley&#39;, &#39;beneath the Apuseni mountains&#39;),
	$floorInt is 16, (a: &#39;on the&#39;, &#39;tranquil&#39;, &#39;waterways&#39;, &#39;of the Grachtengordel&#39;),
	$floorInt is 17, (a: &#39;on the&#39;, &#39;bloody&#39;, &#39;streets&#39;, &#39;of revolutionary Paris&#39;),
	$floorInt is 18, (a: &#39;on the&#39;, &#39;foggy&#39;, &#39;cobbles&#39;, &#39;of Victorian London&#39;),
	$floorInt is 19, (a: &#39;in the&#39;, &#39;dusty&#39;, &#39;rubble&#39;, &#39;of war torn Europe&#39;),
	$floorInt is 20, (a: &#39;within the&#39;, &#39;dense&#39;, &#39;cityscape&#39;, &#39;of neon lit Shanghai&#39;),
	(a: &quot;&quot;,&quot;&quot;,&quot;world&quot;,&quot;&quot;)))

(set: $hundredStrings to (dm: 
		&quot;0&quot;, &quot;the first century&quot;,
		&quot;1&quot;, &quot;the second century&quot;,
		&quot;2&quot;, &quot;the third century&quot;,
		&quot;3&quot;, &quot;the fourth century&quot;,
		&quot;4&quot;, &quot;the fifth century&quot;,
	  	&quot;5&quot;, &quot;the sixth century&quot;,
		&quot;6&quot;, &quot;the seventh century&quot;,
		&quot;7&quot;, &quot;the eighth century&quot;,
		&quot;8&quot;, &quot;the ninth century&quot;,
		&quot;9&quot;, &quot;the tenth century&quot;,
		&quot;10&quot;, &quot;the eleventh century&quot;,
		&quot;11&quot;, &quot;the twelfth century&quot;,
		&quot;12&quot;, &quot;the thirteenth century&quot;,
		&quot;13&quot;, &quot;the fourteenth century&quot;,
		&quot;14&quot;, &quot;the fifteenth century&quot;,
	  	&quot;15&quot;, &quot;the sixteenth century&quot;,
		&quot;16&quot;, &quot;the seventeenth century&quot;,
		&quot;17&quot;, &quot;the eighteenth century&quot;,
		&quot;18&quot;, &quot;the nineteenth century&quot;,
		&quot;19&quot;, &quot;the twentieth century&quot;,
		&quot;20&quot;, &quot;the twenty first century&quot;))

(set: $romanDecades to (dm: 
		&quot;0&quot;, &#39;&quot;Nulla Decennium&quot;&#39;,
		&quot;1&quot;, &#39;&quot;Decennium Unum&quot;&#39;,
		&quot;2&quot;, &#39;&quot;Decennium Duo&quot;&#39;,
		&quot;3&quot;, &#39;&quot;Decennium Tria&quot;&#39;,
		&quot;4&quot;, &#39;&quot;Decennium Quatuor&quot;&#39;,
	  	&quot;5&quot;, &#39;&quot;Decennium Quinque&quot;&#39;,
		&quot;6&quot;, &#39;&quot;Sex Decennium&quot;&#39;,
		&quot;7&quot;, &#39;&quot;Decennium Septem&quot;&#39;,
		&quot;8&quot;, &#39;&quot;Decennium Octo&quot;&#39;,
		&quot;9&quot;, &#39;&quot;Decennium Novem&quot;&#39;))

(set: $middleEnglishDecades to (dm: 
		&quot;0&quot;, &#39;&quot;ought tenne yeer&quot;&#39;,
		&quot;1&quot;, &#39;&quot;fyrst tenne yeer&quot;&#39;,
		&quot;2&quot;, &#39;&quot;secunde tenne yeer&quot;&#39;,
		&quot;3&quot;, &#39;&quot;thridde tenne yeer&quot;&#39;,
		&quot;4&quot;, &#39;&quot;ferthe tenne yeer&quot;&#39;,
	  	&quot;5&quot;, &#39;&quot;fifte tenne yeer&quot;&#39;,
		&quot;6&quot;, &#39;&quot;sixte tenne yeer&quot;&#39;,
		&quot;7&quot;, &#39;&quot;sevynte tenne yeer&quot;&#39;,
		&quot;8&quot;, &#39;&quot;eyghte tenne yeer&quot;&#39;,
		&quot;9&quot;, &#39;&quot;nynthe tenne yeer&quot;&#39;))

(set: $defaultDecades to (dm: 
		&quot;1&quot;, &#39;&quot;Decade One&quot;&#39;,
		&quot;2&quot;, &#39;&quot;Decade Two&quot;&#39;,
		&quot;3&quot;, &#39;&quot;Decade Three&quot;&#39;,
		&quot;4&quot;, &#39;&quot;Decade Four&quot;&#39;,
		&quot;5&quot;, &#39;&quot;Decade Five&quot;&#39;,
	  	&quot;6&quot;, &#39;&quot;Decade Six&quot;&#39;,
		&quot;7&quot;, &#39;&quot;Decade Seven&quot;&#39;,
		&quot;8&quot;, &#39;&quot;Decade Eight&quot;&#39;,
		&quot;9&quot;, &#39;&quot;Decade Nine&quot;&#39;,
		&quot;0&quot;, &#39;&quot;Decade Zero&quot;&#39;
	)
	)





(set: $decadeSigns to (cond: 
	$floorInt &lt; 5, $romanDecades,
	$floorInt &lt; 16, $middleEnglishDecades,
	$defaultDecades))







(set: $roomWord to (cond: 
	$floorInt is 0, &#39;vault&#39;,
	$floorInt is 1, &#39;plaza&#39;,
	$floorInt is 2, &#39;square&#39;,
	$floorInt is 3, &#39;room&#39;,
	$floorInt is 4, &#39;former plaza&#39;,
	$floorInt is 5, &#39;chamber&#39;,
	$floorInt is 6, &#39;stall&#39;,
	$floorInt is 7, &#39;grotto&#39;,
	$floorInt is 8, &#39;hummock&#39;,
	$floorInt is 9, &#39;hall&#39;,
	$floorInt is 10, &#39;abyss&#39;,
	$floorInt is 11, &#39;platform&#39;,
	$floorInt is 12, &#39;cockpit&#39;,
	$floorInt is 13, &#39;hall&#39;,
	$floorInt is 14, &#39;compartment&#39;,
	$floorInt is 15, &#39;hovel&#39;,
	$floorInt is 16, &#39;square&#39;,
	$floorInt is 17, &#39;courtyard&#39;,
	$floorInt is 18, &#39;dosshouse&#39;,
	$floorInt is 19, &#39;square&#39;,
	$floorInt is 20, &#39;cube&#39;,
	&quot;space&quot;))
	
	

(set: $somewhere to (cond: 
	$floorInt is 8, &quot; &quot;,
	(either: &quot; somewhere &quot;, &quot; &quot;)
	)
	)
	

(set: $mainSentence to &quot;You are &quot; 
	+ 1st of $nexusPassage 
	+ &quot; &quot; 
	+ 2nd of $nexusPassage
	+ &quot; &quot; 
	+ 3rd of $nexusPassage
	+ $somewhere 
	+ 1st of $nexusPhrase
	+ &quot; &quot; 
	+ 2nd of $nexusPhrase
	+ &quot; &quot;
	+ 3rd of $nexusPhrase
	+ &quot; &quot;
	+ 4th of $nexusPhrase
	)
	
(set: $fixDirection to 
	(macro: num-type _directionNum, 
	[
	(set: $directions to 
		(cond: 
		_directionNum is 0,(a:&#39;north&#39;,&#39;east&#39;,&#39;south&#39;,&#39;west&#39;),
		_directionNum is 1,(a: &#39;east&#39;,&#39;south&#39;,&#39;west&#39;,&#39;north&#39;),
		_directionNum is 2,(a: &#39;south&#39;,&#39;west&#39;,&#39;north&#39;,&#39;east&#39;),
		_directionNum is 3,(a: &#39;west&#39;,&#39;north&#39;,&#39;east&#39;,&#39;south&#39;),
		(a:&#39;fail&#39;)))
	(if: 1st of $directions is &#39;fail&#39;)
		[($fixDirection:_directionNum - 4)]
	(output-data: &quot;&quot;)
	]
	)
)

(set: $signIntro to &quot;with a sign that says &quot;)
(set: $hundredString to $floorString of $hundredStrings)
($fixDirection:$floorInt)
(set: $north_Variable to 1st of $directions)
(set: $east_Variable to 2nd of $directions)
(set: $south_Variable to 3rd of $directions)
(set: $west_Variable to 4th of $directions)




	}
	
The elevator doors open to the $east_Variable and you [[step out-&gt;top left]].</tw-passagedata><tw-passagedata pid="38" name="elevator" tags="" position="305,930" size="100,100">
You are in an elevator. The dial permits you to choose any floor from 0 through 20. Please input the floor you desire.  
&lt;input type=&quot;text&quot; data-varname=&quot;floorString&quot;&gt;
&lt;script&gt;processInputElements();&lt;/script&gt;

(link-goto: &quot;Done&quot;)

&lt;script&gt;CustomScripts.updateBackground(-1);&lt;/script&gt;
</tw-passagedata><tw-passagedata pid="39" name="phrase builder" tags="startup" position="296,1361" size="100,100">{
(set: $wordIterator to 1)
(set: $directionText to &quot;oijo&quot;)

(set: $vectorDescription to 
(macro: array-type _vector, [
	(set: _eW to (cond:
		(1st of _vector) is 1, &quot;east&quot;,
		(1st of _vector) is -1, &quot;west&quot;,
		&quot;&quot;))
	(set: _nS to (cond:
		(2nd of _vector) is 1, &quot;north&quot;,
		(2nd of _vector) is -1, &quot;south&quot;,
		&quot;&quot;))
	(set: _uD to (cond:
		(3rd of _vector) is 1, &quot;up&quot;,
		(3rd of _vector) is -1, &quot;down&quot;,
		&quot;&quot;))
	(set: _output to _uD +_nS +_eW)
	(output-data: _output)
	]
	))
	
(set: $vectorDescription to (macro: array-type _vector,[
	(set: _through_way to ($elevation: _vector))
	(set: _eW to (cond:
		(1st of _vector) is 1, &quot;east&quot;,
		(1st of _vector) is -1, &quot;west&quot;,
		&quot;&quot;))
	(set: _nS to (cond:
		(2nd of _vector) is 1, &quot;north&quot;,
		(2nd of _vector) is -1, &quot;south&quot;,
		&quot;&quot;))
	(set: _uD to (cond:
		(3rd of _vector) is 1, &quot;up&quot;,
		(3rd of _vector) is -1, &quot;down&quot;,
		&quot;&quot;))
	(set: _conjunctionPhrase to (cond: 
		_through_way is &quot;a stairwell&quot;, &quot; and to the &quot;,
		&quot;&quot;))
	(set: _output to _uD + _conjunctionPhrase + _nS + _eW)
	(output-data: _output)
	]
	))
	
&lt;!--takes a list of vectors and calls writeDirection for each--&gt;
(set: $listExits to 
(macro: array-type _list, [
	(for: each _vector, ..._list)[
		($writeLink: _vector)
		(set: $wordIterator +=1)
		]
	(output-data:&quot;&quot;)
	]))
	

(set: $wordLink to 
(macro: array-type _vector, [
	($writeIntro:_vector) 
	(set: $directionText to $directionText 
	+ &quot; [[&quot; 
	+ ($getDirectionWords: _vector) 
	+ &quot;.&quot;
	+ &quot;-&gt;&quot; 
	+ ($getOtherRoomName:_vector) 
	+ &quot;]]&quot;)
	(output-data: &quot;&quot;)
	]
))

(set: $writeLink to 
(macro: array-type _vector, [
	($writeIntro:_vector) 
	(set: $directionText to $directionText 
	+ &quot; [[&quot; 
	+ ($vectorDescription: _vector) 
	+ &quot;.&quot;
	+ &quot;-&gt;&quot; 
	+ ($getOtherRoomName:_vector) 
	+ &quot;]]&quot;)
	(output-data: &quot;&quot;)
	]
))





&lt;!--takes an arc, adds it to the current coords to get the other rooms coords, then uses them to find out &amp; output the other room&#39;s number --&gt;

(set: $getOtherRoomsNumber to 
(macro: array-type _vector, [
	(set: _otherRoomCoords to ($vectorAdd3: $theseCoords, _vector))
	(set: _otherRoomNumber to ($getRoomFromCoords: _otherRoomCoords))
	(output-data: _otherRoomNumber)
	]))


(set: $getOtherRoomName to 
(macro: array-type _vector, [
	(set: _numberString to (str: ($getOtherRoomsNumber: _vector)))
	(output-data: _numberString)
	]))

	
(set: $writeIntro to 
(macro: array-type _vector, [	
	(set: _through_way to ($elevation: _vector))
	(if: $wordIterator is 1)
		[(set: $directionText to $directionText + (upperfirst: ($fromHere:)) + &quot; &quot; + _through_way + &quot; &quot; + ($goes:) )]
	(if: $wordIterator is 2)
		[(set: $directionText to $directionText + &quot; &quot; + (upperfirst: _through_way) + &quot; also &quot; + ($goes:))]
	(if: $wordIterator is 3)
		[(set: $directionText to $directionText + &quot; &quot; + (upperfirst: ($alternatively:)) + _through_way + &quot; &quot; + ($goes:) + &quot; &quot;)]
	(if: $wordIterator &gt; 3)
		[(set: $directionText to $directionText + &quot; &quot; + &quot;You &quot; + ($can:) + &quot; &quot; + ($go:) +&quot; via &quot; + _through_way)]
	(output-data: &quot;&quot;)
	]))

(set: $go to 
(macro: [
	(set: _output to (either: &quot;go&quot;, &quot;head&quot;))
	(output-data: _output) 
	]
	))
	
(set: $goes to 
(macro: [
	(set: _output to (either: &quot;goes&quot;, &quot;heads&quot;))
	(output-data: _output) 
	]
	))
	
(set: $alternatively to 
(macro: [
	(set: _output to (either: &quot;alternatively, &quot;))
	(output-data: _output) 
	]
	))
	
(set: $fromHere to 
(macro: [
	(set: _output to (either: &quot;from here&quot;))
	(output-data: _output) 
	]
	))
	
(set: $can to 
(macro: [
	(set: _output to (either: &quot; can&quot;, &quot; might&quot;, &quot; may&quot;, &quot; could&quot;))
	(output-data: _output) 
	]
	))
	
(set: $languageVariation to 
(macro: array-type _vector, string-type _through_way, [
	(set: _output to 
		&quot;You&quot; + 
		(either: &quot; can&quot;, &quot; might&quot;, &quot; may&quot;, &quot; could&quot;) + 
		(either: &quot; also&quot;, &quot; alternatively&quot;, &quot;&quot;, &quot; instead&quot;) + 
		(either: &quot; go&quot;, &quot; opt to go&quot;, &quot; head&quot;, &quot; opt to head&quot;, &quot; choose to go&quot;, &quot; choose to head&quot;, &quot; decide to go&quot;, &quot; decide to head&quot;) + 
		($vectorDescription: _vector) + 
		&quot; via a &quot; + 
		_through_way 
		+ &quot;.&quot;)
		(output-data: _output)]))

(set: $getDirectionWords to (macro: array-type _vector,[
	(set: _through_way to ($elevation: _vector))
	(set: _eW to (cond:
		(1st of _vector) is 1, &quot;east&quot;,
		(1st of _vector) is -1, &quot;west&quot;,
		&quot;&quot;))
	(set: _nS to (cond:
		(2nd of _vector) is 1, &quot;north&quot;,
		(2nd of _vector) is -1, &quot;south&quot;,
		&quot;&quot;))
	(set: _uD to (cond:
		(3rd of _vector) is 1, &quot;up&quot;,
		(3rd of _vector) is -1, &quot;down&quot;,
		&quot;&quot;))
	(set: _conjunctionPhrase to (cond: 
		_through_way is &quot;a stairwell goes &quot;, &quot; and to the &quot;,
		&quot;&quot;))
	(set: _output to &quot;From here, &quot; + _through_way + _uD + _conjunctionPhrase + _nS + _eW)
	(output-data: _output)
	]
	))



&lt;!--from exit vector decides whether apt exit type is ladder, stairwell or passage--&gt;

(set: $elevation to (macro: array-type _vector, [
	(set: _throughway to (cond: 
		(3rd of _vector is 0), 0,
		(1st of _vector is 0) and (2nd of _vector is 0), 1,
		2))
	(set: _output to (cond: 
		_throughway is 0, &quot;a passage&quot;,
		_throughway is 1, &quot;a ladder&quot;,
		_throughway is 2, &quot;a stairwell&quot;,
		&quot;&quot;))
	(output-data: _output)
		]))
		


}



</tw-passagedata><tw-passagedata pid="40" name="old javascript" tags="" position="23,1541" size="100,100">window.Harlowe = { &#39;State&#39; : State };
window.processInputElements = function () {
    $(&#39;input[data-varname]&#39;).on(&#39;change&#39;, function () {
        var varName = $(this).attr(&#39;data-varname&#39;);
        Harlowe.State.variables[varName] = this.value;
        $(&quot;tw-story&quot;).css(&quot;background-size&quot;,&quot;cover&quot;);
        if(Harlowe.State.variables[varName] == 0)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://th.bing.com/th/id/Rf5fecfd0d9830aab6202cf747bd3ad01?rik=L2W1jbILOWUswA&amp;riu=http%3a%2f%2fak3.picdn.net%2fshutterstock%2fvideos%2f3933461%2fthumb%2f2.jpg&amp;ehk=Jj2vK1CpTF0Tkwwx8bW4RAHwBltP9rnWO4IfZTCfsMY%3d&amp;risl=&amp;pid=ImgRaw)&quot;);
        			}
			else if(Harlowe.State.variables[varName] == 1)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/4f/0b/88/4f0b88df6b723ffda1fb80629884521a.jpg)&quot;);
							}
			else if(Harlowe.State.variables[varName] == 2)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/5e/89/86/5e898666ee18812c14868b1d609a64f0.jpg)&quot;);
							}
			else if(Harlowe.State.variables[varName] == 3)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://www.realmofhistory.com/wp-content/uploads/2016/05/3D_Animations_Layout_Roman_Domus_House_1-770x437.jpg)&quot;);
							}
						else if(Harlowe.State.variables[varName] == 4)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://images.fineartamerica.com/images/artworkimages/mediumlarge/1/roman-ruin-architecture-with-predigendem-st-paul-giovanni-paolo-panini.jpg)&quot;);
							}
			else if(Harlowe.State.variables[varName] == 5)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://images.alphacoders.com/266/266013.jpg)&quot;);
							}
			else if(Harlowe.State.variables[varName] == 6)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://vignette.wikia.nocookie.net/assassinscreed/images/b/b8/Damascus-depth.jpg/revision/latest?cb=20100918105609)&quot;);
							}
			else if(Harlowe.State.variables[varName] == 7)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://www.ancient-origins.net/sites/default/files/field/image/viking-tar.jpg)&quot;);
							}
						else if(Harlowe.State.variables[varName] == 8)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(file:///private/var/folders/kl/xdjgclbs2rd7j83lrx2kjygr0000gp/T/6f3dc60b-15c8-438b-b96d-458185d4b829.html)&quot;);
							}
				else if(Harlowe.State.variables[varName] == 9)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://vignette.wikia.nocookie.net/lotrfanon/images/6/6a/Mordor.png/revision/latest?cb=20170724095433)&quot;);
							}
			else if(Harlowe.State.variables[varName] == 10)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://4.bp.blogspot.com/-H7YcbEPiqH4/VbisGV8F-8I/AAAAAAAEtBs/sQETZ8PgdVM/s1600/John%2BMartin%2BTutt%2527Art%2540%2B%252825%2529.jpg)&quot;);
							}
			else if(Harlowe.State.variables[varName] == 11)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/32/d1/2d/32d12d3eb111ccb5065073c181007cc3.jpg)&quot;);
							}
			else if(Harlowe.State.variables[varName] == 12)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/98/82/b2/9882b2685e23b81832d9b8a3258fa65a.jpg)&quot;);
							}
			else if(Harlowe.State.variables[varName] == 13)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/ea/31/23/ea31239d3f7eba975360f044906a3aba.jpg)&quot;);
							}		
			else if(Harlowe.State.variables[varName] == 14)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.ytimg.com/vi/2QUYYOXUF4o/maxresdefault.jpg)&quot;);
							}	
			else if(Harlowe.State.variables[varName] == 15)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://upload.wikimedia.org/wikipedia/commons/e/ef/Avvakum_by_Pyotr_Yevgenyevich_Myasoyedov.jpg)&quot;);
							}	
			else if(Harlowe.State.variables[varName] == 16)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.postimg.cc/j5Gr8x8r/artwork-fantasy-city-town-digital-river-bridge-boat-medieval-1743259.jpg)&quot;);
							}	
			else if(Harlowe.State.variables[varName] == 17)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.postimg.cc/tgkQHd2D/heads-On-Pikes.jpg)&quot;);
							}	
			else if(Harlowe.State.variables[varName] == 18)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/cd/41/30/cd413085d15e1fbf4ef0f18b8ddbcdf1.jpg)&quot;);
							}	
			else if(Harlowe.State.variables[varName] == 19)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://w-dog.pw/android-wallpapers/7/16/532616445160923/art-war-france-saint-lo-street-us-troops-men-uniforms-shop-rifles-m1903a3-and-m1903a4-shots-smoke-ruins-ww2-picture.jpg)&quot;);
							}
			else if(Harlowe.State.variables[varName] == 20)
        			{$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://cdnb.artstation.com/p/assets/images/images/006/670/547/large/ricardo-garcia-hernanz-proyecto-final-concept-art-definitivo.jpg?1500361155)&quot;);
							}
			
					
    });
};


if (typeof window.CustomScripts == &quot;undefined&quot;) {
	window.CustomScripts = {
		updateBackground(myBackground){
			// if it&#39;s always going to be cover, you can put it outside the if statement
			$(&quot;tw-story&quot;).css(&quot;background-size&quot;,&quot;cover&quot;);
			
			// check the functions parameter for which background image to use
			if(myBackground == 0) //century backgrounds take nos 0, 100, 200 etc.
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://th.bing.com/th/id/Rf5fecfd0d9830aab6202cf747bd3ad01?rik=L2W1jbILOWUswA&amp;riu=http%3a%2f%2fak3.picdn.net%2fshutterstock%2fvideos%2f3933461%2fthumb%2f2.jpg&amp;ehk=Jj2vK1CpTF0Tkwwx8bW4RAHwBltP9rnWO4IfZTCfsMY%3d&amp;risl=&amp;pid=ImgRaw)&quot;);
			}
			else if(myBackground == -1) // 
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/08/b2/5a/08b25ac76c7c0c5571e0b98af8bd53f5.jpg)&quot;);
			}
			else if(myBackground == 1) // decade nos end in 1
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.ibb.co/zJvFgQF/mushroom-Catacombs.jpg)&quot;);
			}
			else if(myBackground == 11)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/3b/a6/7c/3ba67c68c69aa5ff049e70af3e1398be.jpg)&quot;);
			}
			else if(myBackground == 21)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.ibb.co/hCsSZw0/CREATOR-gd-jpeg-v1-0-using-IJG-JPEG-v80-quality-80.jpg)&quot;);
			}
			else if(myBackground == 31)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://farm4.staticflickr.com/3881/14548118871_9a25db8f3b_k.jpg)&quot;);
			}
			else if(myBackground == 41)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/2c/6a/6d/2c6a6da05c9ba99228068306657fbf82.jpg)&quot;);
			}
			else if(myBackground == 51)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/224cf4fa-33d8-4223-974d-67aecc72bd2c/d32esvm-fab667ec-f070-4610-baf7-d1f993c43768.jpg/v1/fill/w_800,h_600,q_75,strp/the_armory_by_rytango-d32esvm.jpg?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwic3ViIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsImF1ZCI6WyJ1cm46c2VydmljZTppbWFnZS5vcGVyYXRpb25zIl0sIm9iaiI6W1t7InBhdGgiOiIvZi8yMjRjZjRmYS0zM2Q4LTQyMjMtOTc0ZC02N2FlY2M3MmJkMmMvZDMyZXN2bS1mYWI2NjdlYy1mMDcwLTQ2MTAtYmFmNy1kMWY5OTNjNDM3NjguanBnIiwid2lkdGgiOiI8PTgwMCIsImhlaWdodCI6Ijw9NjAwIn1dXX0.eOpCwc84GDmV-LB1ltAyddWpeuwIVVH9qw4oPJeQbKM)&quot;);
			}
			else if(myBackground == 61)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/60/f9/69/60f969f538253f68ec5be1b5846a2568.jpg)&quot;);
			}
			else if(myBackground == 71)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.ibb.co/g9hVkhF/catacombs-Chapel4.jpg)&quot;);
			}
			else if(myBackground == 81)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.ibb.co/yf9SCJJ/leper-Colony2.jpg)&quot;);
			}
			else if(myBackground == 91)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/7f/64/42/7f64421b6c16a31104cba0471dd5daca.jpg)&quot;);
			}
			else if(myBackground == 100)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/4f/0b/88/4f0b88df6b723ffda1fb80629884521a.jpg)&quot;);
			}
			else if(myBackground == 101)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/5b/c7/19/5bc719f84cfc170ff0558702b2c97876.jpg)&quot;);
			}
			else if(myBackground == 111)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/84/77/ea/8477eac606801135e48e2208305f3914.jpg)&quot;);
			}
			else if(myBackground == 121)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://th.bing.com/th/id/Rde8b516f69680e4a2a7243c2ec81a701?rik=FLjo2Zvd6dVPyw&amp;riu=http%3a%2f%2fimages4.wikia.nocookie.net%2f__cb20130419200553%2fspartacus%2fimages%2f5%2f59%2fSpartacus_Legends_Ludus_fight.png&amp;ehk=YzsHyiOKeH38%2fusktTVJv%2beUid2DYSentQ23hcClX98%3d&amp;risl=&amp;pid=ImgRaw)&quot;);
			}
			else if(myBackground == 131)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/736x/ce/51/f7/ce51f7c230d6e0bafabd04862133349a.jpg)&quot;);
			}
			else if(myBackground == 141)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://www.thesimsresource.com/scaled/2599/w-800h-600-2599642.jpg)&quot;);
			}
			else if(myBackground == 151)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/6a/7f/c1/6a7fc16f23671dc5bd0bed4c462eccc4.jpg)&quot;);
			}
			else if(myBackground == 161)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.ibb.co/0F4cX5y/roman-Slave-Marke5.jpg)&quot;);
			}
			else if(myBackground == 171)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/736x/d2/e4/c1/d2e4c197c68fe2cb4d2e7de5f4143e2b.jpg)&quot;);
			}
			else if(myBackground == 181)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/b4/39/a8/b439a87560b02424c656b1120e29740d.jpg)&quot;);
			}
			else if(myBackground == 191)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/4c/ae/c0/4caec06d6814e915a3c32affa4123800.jpg)&quot;);
			}
			else if(myBackground == 200)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/5b/c7/19/5bc719f84cfc170ff0558702b2c97876.jpg)&quot;);
			}
			else if(myBackground == 201)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://th.bing.com/th/id/R2cae1fcbbabcb57451c68fc47571a351?rik=leu7YgYWctPMsg&amp;riu=http%3a%2f%2faidanmoher.com%2fblog%2fwp-content%2fuploads%2f2014%2f07%2ftwilight_garden_by_alextooth-d5t47sa.jpg&amp;ehk=3knU%2fwpIey%2b%2bQT8LlaYoJrnuJ36TOKBVgzJHM3SAHtA%3d&amp;risl=&amp;pid=ImgRaw)&quot;);
			}
			else if(myBackground == 211)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/5f/00/3f/5f003fc16b10572cfe4c34c313beec70.jpg)&quot;);
			}
			else if(myBackground == 221)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/9c/99/54/9c9954bc49514aafb47624cbb3c2a993.jpg)&quot;);
			}
			else if(myBackground == 231)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/9c/85/32/9c853217e910c978b24ed75ac63e923f.jpg)&quot;);
			}
			else if(myBackground == 241)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/67/f0/8b/67f08bbc42a27c9da1011532332c1fe5.jpg)&quot;);
			}
			else if(myBackground == 251)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://gcdn.daz3d.com/p/56851/i/chinese-temple-gate-05-daz3d.jpg)&quot;);
			}
			else if(myBackground == 261)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://gcdn.daz3d.com/p/63811/i/china-houses-04-daz3d.jpg)&quot;);
			}
			else if(myBackground == 271)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://i.pinimg.com/originals/14/10/2a/14102a474694c64c8f3779901390effc.jpg)&quot;);
			}
			else if(myBackground == 281)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://c4.wallpaperflare.com/wallpaper/49/579/585/jungle-fantasy-art-asian-architecture-artwork-wallpaper-preview.jpg)&quot;);
			}
			else if(myBackground == 291)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(https://c4.wallpaperflare.com/wallpaper/672/517/150/nature-digital-art-water-artwork-wallpaper-preview.jpg)&quot;);
			}
			else if(myBackground == 2071)
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;url(http://www.scififantasyhorror.co.uk/wp-content/gallery/Su-Jian/su-jian-scifi-art-11.jpg)&quot;);
			}
			else
			{
				$(&quot;tw-story&quot;).css(&quot;background-image&quot;,&quot;none&quot;);
			}
		}
	}
}

</tw-passagedata><tw-passagedata pid="41" name="refresh sentences" tags="startup" position="158,1081" size="100,100">{
(set: $refreshSentences to
(macro: [
	(set: $complexLanguage to (str: $decadeReference) of $generalLanguage)
	(set: $ladderTerm to 5th of $complexLanguage)
	(set: $stairTerm to 6th of $complexLanguage)
	(set: $complexSentence to &quot;You are &quot;
		+ ($setRoomPhrase:)
		+ &quot; somewhere &quot; 
		+ 1st of $complexLanguage
		+ &quot; &quot; 
		+ 2nd of $complexLanguage
		+ &quot; &quot;
		+ 3rd of $complexLanguage
		+ &quot; &quot;
		+ 4th of $complexLanguage
		)
	(set: $complexSentence2 to &quot;You are &quot;
		+ ($setPassagePhrase:)
		+ &quot; somewhere &quot; 
		+ 1st of $complexLanguage
		+ &quot; &quot; 
		+ 2nd of $complexLanguage
		+ &quot; &quot;
		+ 3rd of $complexLanguage
		+ &quot; &quot;
		+ 4th of $complexLanguage
	)
	(output-data:&quot;&quot;)
	]))
	
	}</tw-passagedata><tw-passagedata pid="42" name="general language" tags="startup" position="153,1222" size="100,100">{
(set: $generalLanguage to (dm: 
	&quot;1&quot;, (a: &quot;in an&quot;, &quot;&quot;, &quot;underground mushroom garden&quot;,&quot;&quot;, &quot;a mushroom stalk&quot;,&quot;a dirt slope&quot;),
	&quot;11&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Hypogeum&quot;, &quot;beneath the colosseum&quot;,&quot;a crank elevator&quot;,&quot;some steps&quot;), 
	&quot;21&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;underground spy complex of the Frumentarii&quot;, &quot;beneath the Roman senate&quot;, &quot;some winding steps&quot;, &quot;some steps&quot;),
	&quot;31&quot;, (a: &quot;in a&quot;, &quot;subterranean&quot;, &quot;brewery&quot;, &quot;beneath the city&quot;,&quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;41&quot;, (a: &quot;in the&quot;, &quot;hidden&quot;, &quot;underground hideouts&quot;, &quot;of the persecuted Christians&quot;,&quot;some winding sandstone steps&quot;, &quot;some sandstone steps&quot;),
	&quot;51&quot;, (a: &quot;in a&quot;, &quot;hidden&quot;, &quot;armory&quot;, &quot;beneath the city&quot;,&quot;a ladder&quot;),
	&quot;61&quot;, (a: &quot;in an&quot;, &quot;&quot;, &quot;underground dungeon&quot;, &quot;where the convicted await execution&quot;,&quot;some winding sandstone steps&quot;, &quot;some sandstone steps&quot;),
	&quot;71&quot;, (a: &quot;in an&quot;, &quot;&quot;, &quot;underground chapel&quot;,&quot;where Christians worship their forbidden god&quot;,&quot;some winding sandstone steps&quot;, &quot;some sandstone steps&quot;),
	&quot;81&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;leper colony&quot;, &quot;in an abandoned part of the underground city&quot;, &quot;some winding sandstone steps&quot;, &quot;some sandstone steps&quot;),
	&quot;91&quot;, (a: &quot;in a&quot;, &quot;cobwebbed&quot;, &quot;crypt&quot;, &quot;&quot;),
	&quot;101&quot;, (a: &quot;in the&quot;, &quot;tranquil&quot;, &quot;garden of Lucullus&quot;,&quot;&quot;, &quot;a steep, tangled slope&quot;, &quot;a gentle slope&quot;),
	&quot;111&quot;, (a: &quot;in the&quot;, &quot;dusty&quot;, &quot;gladitorial arenas&quot;, &quot;&quot;,&quot;some winding sandstone steps&quot;, &quot;some steps&quot;), 
	&quot;121&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;ludus&quot;, &quot;at which gladiators are trained&quot;,&quot;some winding sandstone steps&quot;, &quot;some steps&quot;),
	&quot;131&quot;, (a: &quot;in a&quot;, &quot;seedy&quot;, &quot;brothel&quot;, &quot;&quot;,&quot;a thinly carpeted, spiral staircase&quot;, &quot;some threadbare stairs&quot;),
	&quot;141&quot;, (a: &quot;in the&quot;, &quot;opulent&quot;, &quot;house of Augustus and Livia&quot;, &quot;&quot;,&quot;a spiral staircase&quot;, &quot;a magnificent wooden staircase&quot;),
	&quot;151&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;Roman barracks&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;161&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;slave market&quot;, &quot;where slaves are tethered like animals&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;171&quot;, (a: &quot;in the&quot;, &quot;sacred&quot;, &quot;temple of Juno&quot;, &quot;&quot;, &quot;a spiraling flight of marble steps&quot;, &quot;some ornate marble steps&quot;),
	&quot;181&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;surgery of Galen&quot;, &quot;&quot;, &quot;some winding sandstone steps&quot;, &quot;some steps&quot;),
	&quot;191&quot;, (a: &quot;in the&quot;, &quot;shadowy&quot;, &quot;necropolis&quot;, &quot;outside the walls of Rome&quot;, &quot;a steep, roughly gardened slope&quot;, &quot;a gentle, flowered slope&quot;),
	&quot;201&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Garden of General Liang Ji&quot;, &quot;&quot;, &quot;a steep, flowered slope&quot;, &quot;a gently sloping path&quot;),
	&quot;211&quot;, (a: &quot;within the&quot;, &quot;exciting&quot;, &quot;carnival of a hundred shows,&quot;,&quot;amidst music, dance and demonstrations of cuju, wrestling and acrobatic prowess&quot;,&quot;a steep dirt bank&quot;, &quot;a muddy slope&quot;), 
	&quot;221&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Imperial Academy&quot;, &quot;among the disputes of the scholars of Confucius&quot;,&quot;a stone stairwell&quot;, &quot;a flight of steps&quot;), 
	&quot;231&quot;, (a: &quot;in a&quot;, &quot;floating&quot;, &quot;brothel&quot;, &quot;on the Huangpu River, where the Shuyu attend to the needs of the city&#39;s elite&quot;,&quot;a ladder&quot;, &quot;some wooden steps&quot;),
	&quot;241&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;Siheyuan&quot;, &quot;courtyard-house&quot;,&quot;a stone stairwell&quot;, &quot;some slate steps&quot;),
	&quot;251&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;gate house&quot;, &quot;guarded by the Huben () imperial guard&quot;, &quot;a stone stairwell&quot;, &quot;some slate steps&quot;),
	&quot;261&quot;, (a: &quot;among the&quot;, &quot;&quot;, &quot;huts of the ten eunuchs&quot;, &quot;&quot;, &quot;a climbable rock-brick wall&quot;, &quot;some dirt steps&quot;),
	&quot;271&quot;, (a: &quot;in the&quot;, &quot;sacred&quot;, &quot;White Horse buddhist temple&quot;, &quot;&quot;, &quot;an ornate stairwell&quot;, &quot;some humble clay steps&quot;),
	&quot;281&quot;, (a: &quot;in the&quot;, &quot;abandoned&quot;, &quot;surgery of Hua Tuo&quot;, &quot;&quot;, &quot;a stairwell&quot;, &quot;some clay steps&quot;),
	&quot;291&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Dabaozi Cemetery&quot;, &quot;&quot;, &quot;a steep, roughly gardened slope&quot;, &quot;a gentle, flowered slope&quot;),
	&quot;301&quot;, (a: &quot;on the&quot;, &quot;pastoral&quot;, &quot;farms&quot;, &quot;surrounding ancient Byzantium&quot;, &quot;a steep soil bank&quot;, &quot;a gentle bank&quot;),
	&quot;311&quot;, (a: &quot;in the&quot;, &quot;many garish&quot;, &quot;theaters of the Hippdromos ts Knstantinouples&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;321&quot;, (a: &quot;in the&quot;, &quot;echoey&quot;, &quot;halls of the Magnaura&quot;, &quot;where senators discuss and debate the issues of the day&quot;, &quot;a spiral staircase&quot;, &quot;stone steps&quot;),
	&quot;331&quot;, (a: &quot;in the&quot;, &quot;dim&quot;, &quot;Triclinium of the Nineteen Couches&quot;, &quot;where romantic couples lounge on sigmas&quot;, &quot;a winding wooden staircase&quot;, &quot;some oak steps&quot;),
	&quot;341&quot;, (a: &quot;in an&quot;, &quot;elaborate&quot;, &quot;home&quot;, &quot;in old Byzantium&quot;, &quot;a chimney&quot;, &quot;a staircase&quot;),
	&quot;351&quot;, (a: &quot;in the ditches of a&quot;, &quot;bloody&quot;, &quot;battlefield&quot;, &quot;near ancient Byzantium&quot;, &quot;a ladder&quot;, &quot;an incline&quot;),
	&quot;361&quot;, (a: &quot;in the depths of a&quot;, &quot;forced labor&quot;, &quot;mine&quot;, &quot;under ancient Byzantium&quot;, &quot;a ladder&quot;, &quot;rickety wooden stairs&quot;),
	&quot;371&quot;, (a: &quot;in a&quot;, &quot;serpentine&quot;, &quot;labyrinth&quot;, &quot;in the gardens of ancient Byzantium&quot;, &quot;a ladder&quot;, &quot;mossy steps&quot;),
	&quot;381&quot;, (a: &quot;in the&quot;, &quot;mystical&quot;, &quot;basilica of St John the Forerunner&quot;, &quot;, where St Artemios is believed to cure the sick and cursed.&quot;, &quot;winding steps&quot;, &quot;sandstone stairs&quot;),
	&quot;391&quot;, (a: &quot;in the&quot;, &quot;watery&quot;, &quot;crypt of Constantine&quot;, &quot;, beneath the church of the twelve apostles.&quot;, &quot;a rotten ladder&quot;, &quot;slimy steps&quot;),
	&quot;401&quot;, (a: &quot;in a&quot;, &quot;lush&quot;, &quot;forest&quot;, &quot;that nature has reclaimed from the ruins of Rome&quot;, &quot;a rope ladder&quot;, &quot;broken, overgrown steps&quot;),
	&quot;411&quot;, (a: &quot;in the&quot;, &quot;remains of the&quot;, &quot;Circus Maximus,&quot;, &quot;amid the skeletons of show animals.&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;421&quot;, (a: &quot;in the&quot;, &quot;abandoned&quot;, &quot;Bibliotheca Octaviana at the overgrown Porticus Octavia&quot;, &quot;, where scrolls of ancient wisdom perish in the rains&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;431&quot;, (a: &quot;in the&quot;, &quot;ruined&quot;, &quot;temple of Venus&quot;, &quot;&quot;, &quot;a broken, climbable wall&quot;, &quot;stone steps&quot;),
	&quot;441&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;block of abandoned insulae&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;451&quot;, (a: &quot;in a&quot;, &quot;looted&quot;, &quot;armory&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;461&quot;, (a: &quot;in a&quot;, &quot;derelict&quot;, &quot;jail&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;471&quot;, (a: &quot;in what used to be&quot;, &quot;&quot;, &quot;Emperor Nero&#39;s park&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;481&quot;, (a: &quot;in the&quot;, &quot;derelict&quot;, &quot;surgery of Asclepiades&quot;, &quot;&quot;, &quot;a copper ladder&quot;, &quot;tiled steps&quot;),
	&quot;491&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;mass burial pits&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;501&quot;, (a: &quot;in the&quot;, &quot;enchanted&quot;, &quot;forest of Brocliande&quot;, &quot;&quot;, &quot;a steep dirt bank&quot;, &quot;a slope&quot;),
	&quot;511&quot;, (a: &quot;at a&quot;, &quot;&quot;, &quot;jousting tournament&quot;, &quot;&quot;, &quot;a steep dirt bank&quot;, &quot;a slope&quot;),
	&quot;521&quot;, (a: &quot;in the&quot;, &quot;hidden&quot;, &quot;coastal cave of Merlin the wizard,&quot;, &quot;beneath the castle at Tintagel&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;531&quot;, (a: &quot;by&quot;, &quot;&quot;, &quot;Llyn Ogwen,&quot;, &quot;where the lady of the lake keeps Excalibur&quot;, &quot;a steep dirt bank&quot;, &quot;a gentle slope&quot;),
	&quot;541&quot;, (a: &quot;within the keep of&quot;, &quot;&quot;, &quot;Camelot&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;551&quot;, (a: &quot;at the&quot;, &quot;bloody&quot;, &quot;battlefield at Camlann&quot;, &quot;where Arthur faced Mordredd&quot;, &quot;a dirt bank&quot;, &quot;a trampled slope&quot;),
	&quot;561&quot;, (a: &quot;the&quot;, &quot;mysterious&quot;, &quot;Bryn Myrddin&quot;, &quot;where the bard Merlin was trapped.&quot;, &quot;a shaft&quot;, &quot;some boulders&quot;),
	&quot;571&quot;, (a: &quot;within the bailey of the&quot;, &quot;mystical&quot;, &quot;castle of Corbenic,&quot;, &quot;where the Holy Grail is rumored to be kept&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;581&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;walled town&quot;, &quot;where sufferers of the plague are trapped&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;591&quot;, (a: &quot;among the&quot;, &quot;stinking&quot;, &quot;barrows&quot;, &quot;where the Justinian plague&#39;s victims are hurled to their final resting place.&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;601&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;hanging farms&quot;, &quot;where hashish grows abundantly over a thousand clay containers perched on tiered plots&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;611&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;hashish quarter&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;621&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;hashashin&#39;s library&quot;, &quot;where hashashin&#39;s gather and conspire&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;631&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Sultan&#39;s palace&quot;, &quot;where exotic belly dancers entertain the Sultan&#39;s many guests&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;641&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;bustling souk of Al-Madina&quot;, &quot;where vendors from far and wide peddle their wares to the busy city&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;651&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Citadel of Aleppo&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;661&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Jewish quarter&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;671&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;great mosque of Aleppo&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;681&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;penal quarter of the ancient city of Aleppo&quot;, &quot;where sinners and criminals are righteously flogged, mutilated or executed beneath the shadow of the great citadel&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;691&quot;, (a: &quot;in an&quot;, &quot;&quot;, &quot;abandoned town&quot;, &quot;one of many forgotten cities that orbit great Aleppo&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;701&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;emperor&#39;s menagerie at Aachen&quot;, &quot;where strange beasts from far and wide are displayed&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;711&quot;, (a: &quot;in a&quot;, &quot;partly constructed&quot;, &quot;bath house&quot;, &quot;built around the hot springs at Aachen&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;721&quot;, (a: &quot;in the&quot;, &quot;great&quot;, &quot;library at Charlemagne&#39;s court&quot;, &quot;where Peter of Pisa, Paulinus of Aquileia, Paul the Deacon, Theodulf of Orlans, Alcuin of York and Joseph Scottus lead the Carolingian renaissance&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;731&quot;, (a: &quot;in the&quot;, &quot;private&quot;, &quot;gynaeceum&quot;, &quot;where women weave and spin&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;741&quot;, (a: &quot;in the&quot;, &quot;partly constructed&quot;, &quot;Palace of Aachen&quot;, &quot;at the center of the Holy Roman Empire&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;751&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;soldier&#39;s barracks&quot;, &quot;in the city of Aachen&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;761&quot;, (a: &quot;at the&quot;, &quot;&quot;, &quot;dockside on the Wurm,&quot;, &quot;where Vikings bring captives from Venice and Byzantium to sell as casati servi, and captured Slavs, Avars, Saxons and Danes are sold into slavery in turn&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;771&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Palatine chapel&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;781&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;hospice&quot;, &quot;in the palatial complex at Aachen&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;791&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;crypt beneath the Palatine chapel&quot;, &quot;where Charlemagne will one day be buried&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;801&quot;, (a: &quot;undefined&quot;, &quot;801&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;811&quot;, (a: &quot;undefined&quot;, &quot;811&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;821&quot;, (a: &quot;undefined&quot;, &quot;821&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;831&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;hall of the enchantress Dame Brusen,&quot;, &quot;where potions of love are boiled and bottled.&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;841&quot;, (a: &quot;undefined&quot;, &quot;841&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;851&quot;, (a: &quot;undefined&quot;, &quot;851&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;861&quot;, (a: &quot;undefined&quot;, &quot;861&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;871&quot;, (a: &quot;undefined&quot;, &quot;871&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;881&quot;, (a: &quot;undefined&quot;, &quot;881&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;891&quot;, (a: &quot;undefined&quot;, &quot;891&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;901&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Nova Foresta&quot;, &quot;&quot;, &quot;a dirt cliff&quot;, &quot;a slope&quot;),	
	&quot;911&quot;, (a: &quot;in a&quot;, &quot;wood and stone&quot;, &quot;banqueting hall&quot;, &quot;where warriors lie unconscious after the prior night&#39;s reveling&quot;, &quot;a ladder&quot;, &quot;wooden stairs&quot;),
	&quot;921&quot;, (a: &quot;undefined&quot;, &quot;921&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;931&quot;, (a: &quot;undefined&quot;, &quot;931&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;941&quot;, (a: &quot;undefined&quot;, &quot;941&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;951&quot;, (a: &quot;undefined&quot;, &quot;951&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;961&quot;, (a: &quot;undefined&quot;, &quot;961&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;971&quot;, (a: &quot;undefined&quot;, &quot;971&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;981&quot;, (a: &quot;undefined&quot;, &quot;981&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;991&quot;, (a: &quot;in the&quot;, &quot;gloomy&quot;, &quot;cemetery&quot;, &quot;on Edix Hill&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1001&quot;, (a: &quot;undefined&quot;, &quot;1001&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1011&quot;, (a: &quot;undefined&quot;, &quot;1011&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1021&quot;, (a: &quot;undefined&quot;, &quot;1021&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1031&quot;, (a: &quot;undefined&quot;, &quot;1031&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1041&quot;, (a: &quot;undefined&quot;, &quot;1041&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1051&quot;, (a: &quot;undefined&quot;, &quot;1051&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1061&quot;, (a: &quot;undefined&quot;, &quot;1061&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1071&quot;, (a: &quot;undefined&quot;, &quot;1071&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1081&quot;, (a: &quot;undefined&quot;, &quot;1081&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1091&quot;, (a: &quot;undefined&quot;, &quot;1091&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1101&quot;, (a: &quot;undefined&quot;, &quot;1101&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1111&quot;, (a: &quot;undefined&quot;, &quot;1111&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1121&quot;, (a: &quot;undefined&quot;, &quot;1121&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1131&quot;, (a: &quot;undefined&quot;, &quot;1131&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1141&quot;, (a: &quot;undefined&quot;, &quot;1141&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1151&quot;, (a: &quot;undefined&quot;, &quot;1151&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1161&quot;, (a: &quot;undefined&quot;, &quot;1161&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1171&quot;, (a: &quot;undefined&quot;, &quot;1171&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1181&quot;, (a: &quot;undefined&quot;, &quot;1181&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1191&quot;, (a: &quot;undefined&quot;, &quot;1191&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1201&quot;, (a: &quot;undefined&quot;, &quot;1201&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1211&quot;, (a: &quot;undefined&quot;, &quot;1211&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1221&quot;, (a: &quot;undefined&quot;, &quot;1221&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1231&quot;, (a: &quot;undefined&quot;, &quot;1231&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1241&quot;, (a: &quot;undefined&quot;, &quot;1241&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1251&quot;, (a: &quot;undefined&quot;, &quot;1251&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1261&quot;, (a: &quot;undefined&quot;, &quot;1261&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1271&quot;, (a: &quot;undefined&quot;, &quot;1271&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1281&quot;, (a: &quot;undefined&quot;, &quot;1281&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1291&quot;, (a: &quot;undefined&quot;, &quot;1291&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1301&quot;, (a: &quot;undefined&quot;, &quot;1301&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1311&quot;, (a: &quot;undefined&quot;, &quot;1311&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1321&quot;, (a: &quot;undefined&quot;, &quot;1321&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1331&quot;, (a: &quot;undefined&quot;, &quot;1331&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1341&quot;, (a: &quot;undefined&quot;, &quot;1341&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1351&quot;, (a: &quot;undefined&quot;, &quot;1351&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1361&quot;, (a: &quot;undefined&quot;, &quot;1361&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1371&quot;, (a: &quot;undefined&quot;, &quot;1371&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1381&quot;, (a: &quot;undefined&quot;, &quot;1381&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1391&quot;, (a: &quot;undefined&quot;, &quot;1391&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1401&quot;, (a: &quot;undefined&quot;, &quot;1401&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1411&quot;, (a: &quot;undefined&quot;, &quot;1411&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1421&quot;, (a: &quot;undefined&quot;, &quot;1421&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1431&quot;, (a: &quot;undefined&quot;, &quot;1431&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1441&quot;, (a: &quot;undefined&quot;, &quot;1441&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1451&quot;, (a: &quot;undefined&quot;, &quot;1451&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1461&quot;, (a: &quot;undefined&quot;, &quot;1461&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1471&quot;, (a: &quot;undefined&quot;, &quot;1471&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1481&quot;, (a: &quot;undefined&quot;, &quot;1481&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1491&quot;, (a: &quot;undefined&quot;, &quot;1491&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1501&quot;, (a: &quot;undefined&quot;, &quot;1501&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1511&quot;, (a: &quot;undefined&quot;, &quot;1511&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1521&quot;, (a: &quot;undefined&quot;, &quot;1521&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1531&quot;, (a: &quot;undefined&quot;, &quot;1531&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1541&quot;, (a: &quot;undefined&quot;, &quot;1541&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1551&quot;, (a: &quot;undefined&quot;, &quot;1551&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1561&quot;, (a: &quot;undefined&quot;, &quot;1561&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1571&quot;, (a: &quot;undefined&quot;, &quot;1571&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1581&quot;, (a: &quot;undefined&quot;, &quot;1581&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1591&quot;, (a: &quot;undefined&quot;, &quot;1591&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1601&quot;, (a: &quot;undefined&quot;, &quot;1601&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1611&quot;, (a: &quot;undefined&quot;, &quot;1611&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1621&quot;, (a: &quot;undefined&quot;, &quot;1621&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1631&quot;, (a: &quot;undefined&quot;, &quot;1631&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1641&quot;, (a: &quot;undefined&quot;, &quot;1641&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1651&quot;, (a: &quot;undefined&quot;, &quot;1651&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1661&quot;, (a: &quot;undefined&quot;, &quot;1661&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1671&quot;, (a: &quot;undefined&quot;, &quot;1671&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1681&quot;, (a: &quot;undefined&quot;, &quot;1681&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1691&quot;, (a: &quot;undefined&quot;, &quot;1691&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1701&quot;, (a: &quot;undefined&quot;, &quot;1701&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1711&quot;, (a: &quot;undefined&quot;, &quot;1711&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1721&quot;, (a: &quot;undefined&quot;, &quot;1721&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1731&quot;, (a: &quot;undefined&quot;, &quot;1731&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1741&quot;, (a: &quot;undefined&quot;, &quot;1741&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1751&quot;, (a: &quot;undefined&quot;, &quot;1751&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1761&quot;, (a: &quot;undefined&quot;, &quot;1761&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1771&quot;, (a: &quot;undefined&quot;, &quot;1771&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1781&quot;, (a: &quot;undefined&quot;, &quot;1781&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1791&quot;, (a: &quot;undefined&quot;, &quot;1791&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1801&quot;, (a: &quot;undefined&quot;, &quot;1801&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1811&quot;, (a: &quot;undefined&quot;, &quot;1811&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1821&quot;, (a: &quot;undefined&quot;, &quot;1821&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1831&quot;, (a: &quot;undefined&quot;, &quot;1831&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1841&quot;, (a: &quot;undefined&quot;, &quot;1841&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1851&quot;, (a: &quot;undefined&quot;, &quot;1851&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1861&quot;, (a: &quot;undefined&quot;, &quot;1861&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1871&quot;, (a: &quot;undefined&quot;, &quot;1871&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1881&quot;, (a: &quot;undefined&quot;, &quot;1881&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1891&quot;, (a: &quot;undefined&quot;, &quot;1891&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1901&quot;, (a: &quot;undefined&quot;, &quot;1901&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1911&quot;, (a: &quot;undefined&quot;, &quot;1911&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1921&quot;, (a: &quot;undefined&quot;, &quot;1921&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1931&quot;, (a: &quot;undefined&quot;, &quot;1931&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1941&quot;, (a: &quot;undefined&quot;, &quot;1941&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1951&quot;, (a: &quot;undefined&quot;, &quot;1951&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1961&quot;, (a: &quot;undefined&quot;, &quot;1961&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1971&quot;, (a: &quot;undefined&quot;, &quot;1971&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1981&quot;, (a: &quot;undefined&quot;, &quot;1981&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;1991&quot;, (a: &quot;undefined&quot;, &quot;1991&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;2001&quot;, (a: &quot;undefined&quot;, &quot;2001&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;2011&quot;, (a: &quot;undefined&quot;, &quot;2011&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;2021&quot;, (a: &quot;undefined&quot;, &quot;2021&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;2031&quot;, (a: &quot;undefined&quot;, &quot;2031&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;2041&quot;, (a: &quot;undefined&quot;, &quot;2041&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;2051&quot;, (a: &quot;undefined&quot;, &quot;2051&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;2061&quot;, (a: &quot;undefined&quot;, &quot;2061&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;2071&quot;, (a: &quot;undefined&quot;, &quot;2071&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;2081&quot;, (a: &quot;undefined&quot;, &quot;2081&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;),
	&quot;2091&quot;, (a: &quot;undefined&quot;, &quot;2091&quot;, &quot;general language&quot;, &quot;&quot;, &quot;a ladder&quot;, &quot;some steps&quot;)
	))
	
	}</tw-passagedata><tw-passagedata pid="43" name="terminology" tags="startup" position="151,1363" size="100,100">{
&lt;!--
0 Place to grow. Farm or forest. Gaia. 
1 Place to have fun. Ampitheatre. Opium den. Loki. 
2 Place to learn, like a school, library, university or observatory. Ultron. 
3 Place of love and exploration. A dance hall, boudoir, brothel, etc. Or a dock, onboard ship. Venus. 
4 Place to live. Hestia. 
5 Place of conflict. Judgment. Ares. 
6 Place of confinement and work, like a jail or labor camp. Hades. 
7 Place of spirituality, peace &amp; contemplation. Garden, temple, shrine or church. Buddha. 
8 Place to be sick. Florence Nightingale. 
9 Place of the dead. Death.  --&gt;



(set: $decadeRef to  
(macro: [
	(set: $decadeReference to 1 + $floorInt * 100 + $decadeNum * 10)
	(output-data: &quot;&quot;)
	]
	))
	

(set: $locusWord to 
(macro: [
	(set: 
	(if: $thisRoomNumber &gt; 9)[(output-data: &quot;passage&quot;)]
	(else:)[(output-data: &quot;room&quot;)]
	]
	))

(set: $fixComplexVocab to 
(macro: [
	(if: $floorString is &quot;0&quot;)[(output-data:$catacombComplexes)]
	(if: $floorString is &quot;1&quot;)[(output-data:$romanComplexes)]
	(if: $floorString is &quot;2&quot;)[(output-data: $unknown)] 
		]
		))
		
		
&lt;!--the main sentence says &quot;you are on a __A___ somewhere ___B___&quot;. This provides the language for A.--&gt; 

(set: $firstLetterIsVowel to
(macro: string-type _word, [
	(set: _firstLetter to (1) of _word)
	(set: _firstLetterIsVowel to (cond: 
		_firstLetter is &quot;a&quot;, true,
		_firstLetter is &quot;e&quot;, true,
		_firstLetter is &quot;i&quot;, true,
		_firstLetter is &quot;o&quot;, true,
		_firstLetter is &quot;u&quot;, true, false))
		(output-data: _firstLetterIsVowel)
		]))

(set: $lociPreps to (dm: 
	&quot;path&quot;, &quot;on&quot;,
	&quot;passage&quot;, &quot;in&quot;,
	&quot;passageway&quot;, &quot;in&quot;,
	&quot;tunnel&quot;, &quot;in&quot;,
	&quot;corridor&quot;, &quot;on&quot;,
	&quot;pathway&quot;, &quot;on&quot;,
	&quot;street&quot;, &quot;on&quot;,
	&quot;alley&quot;, &quot;in&quot;,
	&quot;canal&quot;, &quot;on&quot;,
	&quot;bayou&quot;, &quot;on&quot;, 
	&quot;room&quot;, &quot;in&quot;,
	&quot;square&quot;, &quot;in&quot;,
	&quot;plaza&quot;, &quot;in&quot;,
	&quot;hall&quot;, &quot;in&quot;,
	&quot;battlement&quot;, &quot;on&quot;,
	&quot;aisle&quot;, &quot;on&quot;,
	&quot;plot&quot;, &quot;on&quot;, 
	&quot;chamber&quot;, &quot;in&quot;, 
	&quot;vault&quot;, &quot;in&quot;,
	&quot;abode&quot;, &quot;in&quot;, 
	&quot;depot&quot;, &quot;in&quot;, 
	&quot;cell&quot;, &quot;in&quot;,
	&quot;sanctum&quot;, &quot;in&quot;, 
	&quot;ossuary&quot;, &quot;in&quot;,
	&quot;orchard&quot;, &quot;in&quot;,
	&quot;bowl&quot;, &quot;in&quot;,
	&quot;courtyard&quot;, &quot;in&quot;,
	&quot;boudoir&quot;, &quot;in&quot;,
	&quot;yard&quot;, &quot;in&quot;,
	&quot;theater&quot;, &quot;in&quot;,
	&quot;mausoleum&quot;,&quot;in&quot;,
	&quot;pond&quot;, &quot;at&quot;,
	&quot;deck&quot;, &quot;on&quot;,
	&quot;post&quot;, &quot;at&quot;,
	&quot;gazebo&quot;, &quot;under&quot;,
	&quot;dormitory&quot;, &quot;in&quot;,
	&quot;roadway&quot;, &quot;on&quot;,
	&quot;field tower&quot;, &quot;at&quot;,
	&quot;lane&quot;, &quot;on&quot;,
	&quot;stage&quot;, &quot;by&quot;,
	&quot;arcade&quot;, &quot;in&quot;,
	&quot;apse&quot;, &quot;in&quot;,
	&quot;walkway&quot;, &quot;on&quot;,
	&quot;platform&quot;, &quot;on&quot;,
	&quot;display&quot;, &quot;at&quot;,
	&quot;quayside&quot;, &quot;on&quot;,
	&quot;bank&quot;,&quot;on&quot;,
	))


	
	
(set: $passageTerms to (dm: 
	&quot;0&quot;, (a: &quot;humid&quot;, &quot;tunnel&quot;),
	&quot;1&quot;, (a: &quot;earthy&quot;, &quot;path&quot;),
	&quot;11&quot;, (a: &quot;baking hot&quot;, &quot;corridor&quot;),
	&quot;21&quot;, (a: &quot;dim&quot;, &quot;passage&quot;),
	&quot;31&quot;, (a: &quot;cool&quot;, &quot;tunnel&quot;),
	&quot;41&quot;, (a: &quot;sandy&quot;, &quot;tunnel&quot;),
	&quot;51&quot;, (a: &quot;stone&quot;, &quot;corridor&quot;),
	&quot;61&quot;, (a: &quot;forbidding&quot;, &quot;corridor&quot;),
	&quot;71&quot;, (a: &quot;quiet&quot;, &quot;aisle&quot;),
	&quot;81&quot;, (a: &quot;neglected&quot;, &quot;tunnel&quot;),
	&quot;91&quot;, (a: &quot;cool&quot;, &quot;corridor&quot;),
	&quot;100&quot;, (a: &quot;busy&quot;, &quot;street&quot;),
	&quot;101&quot;, (a: &quot;rock brick&quot;, &quot;path&quot;),
	&quot;111&quot;, (a: &quot;sandy&quot;, &quot;passageway&quot;),
	&quot;121&quot;, (a: &quot;sandy&quot;, &quot;passageway&quot;),
	&quot;131&quot;, (a: &quot;curtained&quot;, &quot;hall&quot;),
	&quot;141&quot;, (a: &quot;sumptuous&quot;, &quot;corridor&quot;),
	&quot;151&quot;, (a: &quot;brick&quot;, &quot;alley&quot;),
	&quot;161&quot;, (a: &quot;bustling&quot;, &quot;aisle&quot;),
	&quot;171&quot;, (a: &quot;tranquil&quot;, &quot;aisle&quot;),
	&quot;181&quot;, (a: &quot;tiled&quot;, &quot;corridor&quot;),
	&quot;191&quot;, (a: &quot;cobbled&quot;, &quot;path&quot;),
	&quot;201&quot;, (a: &quot;raised wooden&quot;, &quot;path&quot;),
	&quot;211&quot;, (a: &quot;candlelit&quot;, &quot;path&quot;),
	&quot;221&quot;, (a: &quot;vaulted&quot;, &quot;corridor&quot;),
	&quot;231&quot;, (a: &quot;wooden&quot;, &quot;passage&quot;),
	&quot;241&quot;, (a: &quot;airy&quot;, &quot;corridor&quot;),
	&quot;251&quot;, (a: &quot;rock wall&quot;, &quot;passage&quot;),
	&quot;261&quot;, (a: &quot;dirt&quot;, &quot;roadway&quot;),
	&quot;271&quot;, (a: &quot;tiled&quot;, &quot;path&quot;),
	&quot;281&quot;, (a: &quot;ruined&quot;, &quot;corridor&quot;),
	&quot;291&quot;, (a: &quot;silent&quot;, &quot;path&quot;),
	&quot;301&quot;, (a: &quot;country&quot;, &quot;lane&quot;),
	&quot;311&quot;, (a: &quot;backstage&quot;, &quot;passage&quot;),
	&quot;321&quot;, (a: &quot;pillared&quot;, &quot;arcade&quot;),
	&quot;331&quot;, (a: &quot;moonlit&quot;, &quot;aisle&quot;),
	&quot;341&quot;, (a: &quot;paneled&quot;, &quot;passage&quot;),
	&quot;351&quot;, (a: &quot;muddy&quot;, &quot;trench&quot;),
	&quot;361&quot;, (a: &quot;wooden&quot;, &quot;walkway&quot;),
	&quot;371&quot;, (a: &quot;enclosed&quot;, &quot;path&quot;),
	&quot;381&quot;, (a: &quot;glassy&quot;, &quot;corridor&quot;),
	&quot;391&quot;, (a: &quot;damp&quot;, &quot;passage&quot;),
	&quot;401&quot;, (a: &quot;brambly&quot;, &quot;path&quot;),
	&quot;411&quot;, (a: &quot;dirt&quot;, &quot;thoroughfare&quot;),
	&quot;421&quot;, (a: &quot;&quot;, &quot;aisle of shelves&quot;),
	&quot;431&quot;, (a: &quot;draughty&quot;, &quot;corridor&quot;),
	&quot;441&quot;, (a: &quot;crumbling&quot;, &quot;hallway&quot;),
	&quot;451&quot;, (a: &quot;&quot;, &quot;passage&quot;),
	&quot;461&quot;, (a: &quot;&quot;, &quot;passage&quot;),
	&quot;471&quot;, (a: &quot;abundant and overgrown&quot;, &quot;path&quot;),
	&quot;481&quot;, (a: &quot;trash strewn&quot;, &quot;corridor&quot;),
	&quot;491&quot;, (a: &quot;bone lined&quot;, &quot;passage&quot;),
	&quot;501&quot;, (a: &quot;leafy&quot;, &quot;path&quot;),
	&quot;511&quot;, (a: &quot;muddy&quot;, &quot;thoroughfare&quot;),
	&quot;521&quot;, (a: &quot;cavernous&quot;, &quot;passage&quot;),
	&quot;531&quot;, (a: &quot;glimmering&quot;, &quot;path&quot;),
	&quot;541&quot;, (a: &quot;stone&quot;, &quot;corridor&quot;),
	&quot;551&quot;, (a: &quot;bloody&quot;, &quot;path&quot;),
	&quot;561&quot;, (a: &quot;cavernous&quot;, &quot;passage&quot;),
	&quot;571&quot;, (a: &quot;stone&quot;, &quot;walkway&quot;),
	&quot;581&quot;, (a: &quot;dirty&quot;, &quot;mud-street&quot;),
	&quot;591&quot;, (a: &quot;stinking&quot;, &quot;passage&quot;),
	&quot;601&quot;, (a: &quot;leafy&quot;, &quot;path&quot;),
	&quot;611&quot;, (a: &quot;pungent&quot;, &quot;alley&quot;),
	&quot;621&quot;, (a: &quot;whispering&quot;, &quot;aisle&quot;),
	&quot;631&quot;, (a: &quot;raucous&quot;, &quot;colonade&quot;),
	&quot;641&quot;, (a: &quot;teaming&quot;, &quot;arcade&quot;),
	&quot;651&quot;, (a: &quot;limestone&quot;, &quot;passageway&quot;),
	&quot;661&quot;, (a: &quot;narrow&quot;, &quot;street&quot;),
	&quot;671&quot;, (a: &quot;solemn&quot;, &quot;aisle&quot;),
	&quot;681&quot;, (a: &quot;shadowy&quot;, &quot;alley&quot;),
	&quot;691&quot;, (a: &quot;windy&quot;, &quot;street&quot;),
	&quot;701&quot;, (a: &quot;&quot;, &quot;passage&quot;),
	&quot;711&quot;, (a: &quot;puddled&quot;, &quot;walkway&quot;),
	&quot;721&quot;, (a: &quot;quiet&quot;, &quot;aisle&quot;),
	&quot;731&quot;, (a: &quot;wild&quot;, &quot;path&quot;),
	&quot;741&quot;, (a: &quot;marble&quot;, &quot;corridor&quot;),
	&quot;751&quot;, (a: &quot;functional&quot;, &quot;yard&quot;),
	&quot;761&quot;, (a: &quot;wooden&quot;, &quot;jetty&quot;),
	&quot;771&quot;, (a: &quot;&quot;, &quot;corridor&quot;),
	&quot;781&quot;, (a: &quot;well maintained&quot;, &quot;corridor&quot;),
	&quot;791&quot;, (a: &quot;dark&quot;, &quot;passage&quot;),
	&quot;801&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;811&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;821&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;831&quot;, (a: &quot;crooked&quot;, &quot;hallway&quot;),
	&quot;841&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;851&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;861&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;871&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;881&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;891&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;901&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;911&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;921&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;931&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;941&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;951&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;961&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;971&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;981&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;991&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1001&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1011&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1021&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1031&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1041&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1051&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1061&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1071&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1081&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1091&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1101&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1111&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1121&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1131&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1141&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1151&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1161&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1171&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1181&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1191&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1201&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1211&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1221&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1231&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1241&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1251&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1261&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1271&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1281&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1291&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1301&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1311&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1321&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1331&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1341&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1351&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1361&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1371&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1381&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1391&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1401&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1411&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1421&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1431&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1441&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1451&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1461&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1471&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1481&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1491&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1501&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1511&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1521&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1531&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1541&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1551&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1561&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1571&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1581&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1591&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1601&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1611&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1621&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1631&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1641&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1651&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1661&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1671&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1681&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1691&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1701&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1711&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1721&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1731&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1741&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1751&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1761&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1771&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1781&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1791&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1801&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1811&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1821&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1831&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1841&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1851&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1861&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1871&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1881&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1891&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1901&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1911&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1921&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1931&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1941&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1951&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1961&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1971&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1981&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;1991&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;2001&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;2011&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;2021&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;2031&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;2041&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;2051&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;2061&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;2071&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;2081&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;),
	&quot;2091&quot;, (a: &quot;undefined&quot;, &quot;passage&quot;)
	)
	)
	
(set: $roomTerms to (dm: 
	&quot;1&quot;, (a: &quot;fecund&quot;, &quot;plot&quot;),
	&quot;11&quot;, (a: &quot;busy&quot;, &quot;chamber&quot;),
	&quot;21&quot;, (a: &quot;quiet&quot;, &quot;room&quot;),
	&quot;31&quot;, (a: &quot;barrel filled&quot;, &quot;vault&quot;),
	&quot;41&quot;, (a: &quot;sparsely furnished&quot;, &quot;abode&quot;),
	&quot;51&quot;, (a: &quot;well stocked&quot;, &quot;depot&quot;),
	&quot;61&quot;, (a: &quot;uncomfortable&quot;, &quot;cell&quot;),
	&quot;71&quot;, (a: &quot;tranquil&quot;, &quot;sanctum&quot;),
	&quot;81&quot;, (a: &quot;scruffy&quot;, &quot;abode&quot;),
	&quot;91&quot;, (a: &quot;ancient&quot;, &quot;ossuary&quot;),
	&quot;101&quot;, (a: &quot;quiet&quot;, &quot;orchard&quot;),
	&quot;111&quot;, (a: &quot;scorching&quot;, &quot;bowl&quot;),
	&quot;121&quot;, (a: &quot;dusty&quot;, &quot;courtyard&quot;),
	&quot;131&quot;, (a: &quot;lush&quot;, &quot;boudoir&quot;),
	&quot;141&quot;, (a: &quot;palatial&quot;, &quot;room&quot;),
	&quot;151&quot;, (a: &quot;training&quot;, &quot;yard&quot;),
	&quot;161&quot;, (a: &quot;noisy&quot;, &quot;square&quot;),
	&quot;171&quot;, (a: &quot;echoey&quot;, &quot;sanctum&quot;),
	&quot;181&quot;, (a: &quot;operating&quot;, &quot;theater&quot;),
	&quot;191&quot;, (a: &quot;stone&quot;, &quot;mausoleum&quot;),
	&quot;201&quot;, (a: &quot;serene&quot;, &quot;pond&quot;),
	&quot;211&quot;, (a: &quot;babbling&quot;, &quot;square&quot;),
	&quot;221&quot;, (a: &quot;debating&quot;, &quot;hall&quot;),
	&quot;231&quot;, (a: &quot;dancing&quot;, &quot;deck&quot;),
	&quot;241&quot;, (a: &quot;shady&quot;, &quot;room&quot;),
	&quot;251&quot;, (a: &quot;rock brick&quot;, &quot;post&quot;),
	&quot;261&quot;, (a: &quot;dirt&quot;, &quot;square&quot;),
	&quot;271&quot;, (a: &quot;draughty&quot;, &quot;gazebo&quot;),
	&quot;281&quot;, (a: &quot;dilapidated&quot;, &quot;dormitory&quot;),
	&quot;291&quot;, (a: &quot;noiseless&quot;, &quot;plot&quot;),
	&quot;301&quot;, (a: &quot;&quot;, &quot;field tower&quot;),
	&quot;311&quot;, (a: &quot;rehearsal&quot;, &quot;stage&quot;),
	&quot;321&quot;, (a: &quot;marble&quot;, &quot;hall&quot;),
	&quot;331&quot;, (a: &quot;discreet&quot;, &quot;apse&quot;),
	&quot;341&quot;, (a: &quot;musty&quot;, &quot;room&quot;),
	&quot;351&quot;, (a: &quot;blood soaked&quot;, &quot;clearing&quot;),
	&quot;361&quot;, (a: &quot;raised&quot;, &quot;platform&quot;),
	&quot;371&quot;, (a: &quot;hedged&quot;, &quot;yard&quot;),
	&quot;381&quot;, (a: &quot;domed, polished stone&quot;, &quot;shrine&quot;),
	&quot;391&quot;, (a: &quot;half submerged&quot;, &quot;vault&quot;),
	&quot;401&quot;, (a: &quot;verdant&quot;, &quot;clearing&quot;),
	&quot;411&quot;, (a: &quot;ragged&quot;, &quot;tent&quot;),
	&quot;421&quot;, (a: &quot;dilapidated&quot;, &quot;reading room&quot;),
	&quot;431&quot;, (a: &quot;derelict&quot;, &quot;hall&quot;),
	&quot;441&quot;, (a: &quot;dusty&quot;, &quot;room&quot;),
	&quot;451&quot;, (a: &quot;abandoned&quot;, &quot;magazine&quot;),
	&quot;461&quot;, (a: &quot;ruined&quot;, &quot;cell&quot;),
	&quot;471&quot;, (a: &quot;lush and fecund&quot;, &quot;grove&quot;),
	&quot;481&quot;, (a: &quot;disintegrating&quot;, &quot;ward&quot;),
	&quot;491&quot;, (a: &quot;deep&quot;, &quot;shaft&quot;),
	&quot;501&quot;, (a: &quot;shady&quot;, &quot;clearing&quot;),
	&quot;511&quot;, (a: &quot;&quot;, &quot;knight&#39;s tent&quot;),
	&quot;521&quot;, (a: &quot;odorous&quot;, &quot;cavern&quot;),
	&quot;531&quot;, (a: &quot;misty&quot;, &quot;bank&quot;),
	&quot;541&quot;, (a: &quot;stone&quot;, &quot;hall&quot;),
	&quot;551&quot;, (a: &quot;&quot;, &quot;clearing&quot;),
	&quot;561&quot;, (a: &quot;claustrophobic&quot;, &quot;cavern&quot;),
	&quot;571&quot;, (a: &quot;solemn&quot;, &quot;hall&quot;),
	&quot;581&quot;, (a: &quot;dirty&quot;, &quot;square&quot;),
	&quot;591&quot;, (a: &quot;deathly&quot;, &quot;pit&quot;),
	&quot;601&quot;, (a: &quot;aromatic&quot;, &quot;garden&quot;),
	&quot;611&quot;, (a: &quot;smoky&quot;, &quot;bar&quot;),
	&quot;621&quot;, (a: &quot;hidden&quot;, &quot;meeting room&quot;),
	&quot;631&quot;, (a: &quot;rowdy&quot;, &quot;salon&quot;),
	&quot;641&quot;, (a: &quot;bounteous&quot;, &quot;market stall&quot;),
	&quot;651&quot;, (a: &quot;limestone&quot;, &quot;room&quot;),
	&quot;661&quot;, (a: &quot;small&quot;, &quot;shop&quot;),
	&quot;671&quot;, (a: &quot;private&quot;, &quot;musalla&quot;),
	&quot;681&quot;, (a: &quot;silent&quot;, &quot;square&quot;),
	&quot;691&quot;, (a: &quot;crumbling&quot;, &quot;building&quot;),
	&quot;701&quot;, (a: &quot;fearsome&quot;, &quot;display&quot;),
	&quot;711&quot;, (a: &quot;&quot;, &quot;bathing room&quot;),
	&quot;721&quot;, (a: &quot;&quot;, &quot;hall&quot;),
	&quot;731&quot;, (a: &quot;gardened&quot;, &quot;courtyard&quot;),
	&quot;741&quot;, (a: &quot;high&quot;, &quot;chamber&quot;),
	&quot;751&quot;, (a: &quot;basic&quot;, &quot;dormitorium&quot;),
	&quot;761&quot;, (a: &quot;carpented&quot;, &quot;wharf&quot;),
	&quot;771&quot;, (a: &quot;&quot;, &quot;prayer chamber&quot;),
	&quot;781&quot;, (a: &quot;small&quot;, &quot;ward&quot;),
	&quot;791&quot;, (a: &quot;dim&quot;, &quot;chamber&quot;),
	&quot;801&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;811&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;821&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;831&quot;, (a: &quot;mysterious&quot;, &quot;study&quot;),
	&quot;841&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;851&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;861&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;871&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;881&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;891&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;901&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;911&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;921&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;931&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;941&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;951&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;961&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;971&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;981&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;991&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1001&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1011&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1021&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1031&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1041&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1051&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1061&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1071&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1081&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1091&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1101&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1111&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1121&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1131&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1141&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1151&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1161&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1171&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1181&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1191&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1201&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1211&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1221&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1231&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1241&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1251&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1261&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1271&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1281&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1291&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1301&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1311&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1321&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1331&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1341&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1351&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1361&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1371&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1381&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1391&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1401&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1411&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1421&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1431&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1441&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1451&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1461&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1471&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1481&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1491&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1501&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1511&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1521&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1531&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1541&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1551&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1561&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1571&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1581&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1591&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1601&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1611&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1621&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1631&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1641&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1651&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1661&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1671&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1681&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1691&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1701&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1711&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1721&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1731&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1741&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1751&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1761&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1771&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1781&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1791&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1801&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1811&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1821&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1831&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1841&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1851&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1861&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1871&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1881&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1891&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1901&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1911&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1921&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1931&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1941&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1951&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1961&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1971&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1981&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;1991&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;2001&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;2011&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;2021&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;2031&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;2041&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;2051&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;2061&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;2071&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;2081&quot;, (a: &quot;undefined&quot;, &quot;room&quot;),
	&quot;2091&quot;, (a: &quot;undefined&quot;, &quot;room&quot;)
	)
	)
	

&lt;!--the main sentence says &quot;you are on a __A___ somewhere ___B___&quot;. This provides the language for B. --&gt; 

	
(set: $setLocusPhrase to 
(macro: [
	(if: $thisRoomsNumber &gt; 9)[
		(set: $pathNoun to 2nd of (str: $decadeReference) of $passageTerms)
		(set: $pathAdj to 1st of (str: $decadeReference) of $passageTerms)]
	(else:) [
		(set: $pathNoun to 2nd of (str: $decadeReference) of $roomTerms)
		(set: $pathAdj to 1st of (str: $decadeReference) of $roomTerms)
		]
	(if: $pathAdj is &quot;&quot;) [(set: $pathArticle to (cond: 
		($firstLetterIsVowel:$pathNoun), &quot;an&quot;,
		&quot;a&quot;))]
	(else:)[(set: $pathArticle to (cond: 
		($firstLetterIsVowel:$pathNoun),&quot;an&quot;,
		&quot;a&quot;))]
	($setPathPrep:)
	(output-data: $pathPrep + &quot; &quot; + $pathArticle + &quot; &quot; + $pathAdj + &quot; &quot; + $pathNoun)
	]))
	
&lt;!--encases the locipreps dm to give it a default value of &quot;in&quot; if nothing is specified --&gt; 

(set: $setPathPrep to
(macro: [
	(if: $lociPreps contains $pathNoun)
		[(set: $pathPrep to $pathNoun of $lociPreps)]
	(else:)[(set: $pathPrep to &quot;in&quot;)]
	(output-data: &quot;&quot;)
	]))

(set: $setRoomPhrase to 
(macro: [
	(set: $pathNoun to 2nd of (str: $decadeReference) of $roomTerms)
	(set: $pathAdj to 1st of (str: $decadeReference) of $roomTerms)
	(if: $pathAdj is &quot;&quot;) [(set: $pathArticle to (cond: 
		($firstLetterIsVowel:$pathNoun), &quot;an&quot;,
		&quot;a&quot;))]
	(else:)[(set: $pathArticle to (cond: 
		($firstLetterIsVowel:$pathNoun),&quot;an&quot;,
		&quot;a&quot;))]
	($setPathPrep:)
	(output-data: $pathPrep + &quot; &quot; + $pathArticle + &quot; &quot; + $pathAdj + &quot; &quot; + $pathNoun)
	]))
	
(set: $setPassagePhrase to 
(macro: [
	(set: $pathNoun to 2nd of (str: $decadeReference) of $passageTerms)
	(set: $pathAdj to 1st of (str: $decadeReference) of $passageTerms)
	(if: $pathAdj is &quot;&quot;) [(set: $pathArticle to (cond: 
		($firstLetterIsVowel:$pathNoun), &quot;an&quot;,
		&quot;a&quot;))]
	(else:)[(set: $pathArticle to (cond: 
		($firstLetterIsVowel:$pathNoun),&quot;an&quot;,
		&quot;a&quot;))]
	($setPathPrep:)
	(output-data: $pathPrep + &quot; &quot; + $pathArticle + &quot; &quot; + $pathAdj + &quot; &quot; + $pathNoun)
	]))
	}
</tw-passagedata></tw-storydata>

<tw-storydata name="Decade Template" startnode="4" creator="Twine" creator-version="2.3.12" ifid="FDDEB655-24FD-48CB-BCD8-AD5A013209F1" zoom="0.6" format="Harlowe" format-version="3.2.1" options="" hidden><style role="stylesheet" id="twine-user-stylesheet" type="text/twine-css"></style><script role="script" id="twine-user-script" type="text/twine-javascript"></script><tw-passagedata pid="1" name="entry hall" tags="" position="562,294" size="100,100">(if:$heading is &quot;South&quot;) [You are in a narrow passage. To your right is [[wall zero]], which you can pause to scrutinize. To your left is [[wall one]], which you can also pause to look at. Alternatively, you can [[press forward-&gt;T Junction]] into the room complex.] 
(else:) [(set: $heading to &quot;North&quot;) You are in the exit corridor to the room complex. To your left is [[wall zero]]. To your right is [[wall one]]. You can [[press ahead-&gt;entrance]] and leave the room complex.]</tw-passagedata><tw-passagedata pid="2" name="wall zero" tags="" position="762,228" size="100,100">There is currently nothing on this wall. You can look at [[wall one]], opposite. Or you can [[go back -&gt;entrance]]. Or you can [[press forward -&gt;T Junction]] into the room complex. </tw-passagedata><tw-passagedata pid="3" name="wall one" tags="" position="400,209" size="100,100">There is currently nothing on this wall. You can look at [[wall zero]], opposite. Or you can [[go back -&gt;entrance]]. Or you can [[press forward -&gt;T Junction]] into the room complex. </tw-passagedata><tw-passagedata pid="4" name="entrance" tags="" position="562,154" size="100,100">(if: $heading is &quot;North&quot;) [(set: $heading to &quot;South&quot;) Currently, this is a dead end. Turning back, you can look at [[wall zero]], to the right, or [[wall one]] to the left. Or you can [[press forward -&gt;T Junction]] into the room complex.]
(else: ) [(set: $heading to &quot;South&quot;)[Go to [[entry hall]].]]</tw-passagedata><tw-passagedata pid="5" name="T Junction" tags="" position="613,429" size="100,100">(if: $heading is &quot;South&quot;) [You are at a T junction. The wall opposite is [[wall 5]], which you can pause to look at. Or you can turn right towards a [[square room]], or left towards a [[triangular room]].] 
(if: $heading is &quot;East&quot;) [The [[exit to the room complex-&gt;entry hall]]  branches off to the left, passing between walls 0 and 1. On your right is [[wall five]], which you can scrutinize. Or you can go forward into the [[triangular room]].]
(if: $heading is &quot;West&quot;) [The [[exit to the room complex-&gt;entry hall]]  branches off to the right, passing between walls 0 and 1. On your left is [[wall five]], which you can scrutinize. Or you can go forward into the [[square room]].]</tw-passagedata><tw-passagedata pid="6" name="wall 5" tags="" position="607,566" size="100,100">There is currently nothing on this wall. 

Your options are to turn right towards a [[square room]], or left towards a [[triangular room]]. </tw-passagedata><tw-passagedata pid="7" name="square room" tags="" position="336,449" size="100,100">(set: $heading to &quot;East&quot;) You have entered the corner of a square room. The wall you are entering through is [[wall six]], which stretches off to your left before running into the perpendicular [[wall seven]], which faces you to the left. Opposite you is [[wall eight]]. And coming along your right, forming a wall that runs continuous with the corridor from which you came, is [[wall nine]]. If you do not wish to pause to examine these walls, you may [[head back into the corridor behind you-&gt;T Junction]].  </tw-passagedata><tw-passagedata pid="8" name="triangular room" tags="" position="822,346" size="100,100">(set: $heading to &quot;West&quot;) You are in the ninety degree corner of a room shaped like a right angled triangle. To your left, the wall from the corridor behind you runs continuously into the room, forming [[wall two]]. Opposite you to the right is the hypotenuse of the triangle, [[wall three]]. Coming up to your right is the third wall, [[wall four]], which is the wall you entered through. If you do not wish to scrutinize these walls, you may [[head back into the corridor behind you-&gt;T Junction]]. </tw-passagedata><tw-passagedata pid="9" name="wall six" tags="" position="339,581" size="100,100">There is currently nothing on this wall. You can look at [[wall seven]], [[wall eight]] or [[wall nine]]. Or you can leave the room and head for the [[triangular room]] or take the [[exit corridor-&gt;entry hall]]. </tw-passagedata><tw-passagedata pid="10" name="wall seven" tags="" position="213,582" size="100,100">There is currently nothing on this wall. You can look at [[wall six]], [[wall eight]] or [[wall nine]]. Or you can leave the room and head for the [[triangular room]] or take the [[exit corridor-&gt;entry hall]]. </tw-passagedata><tw-passagedata pid="11" name="wall eight" tags="" position="206,456" size="100,100">There is currently nothing on this wall. You can look at [[wall six]], [[wall seven]] or [[wall nine]]. Or you can leave the room and head for the [[triangular room]] or take the [[exit corridor-&gt;entry hall]]. </tw-passagedata><tw-passagedata pid="12" name="wall nine" tags="" position="206,324" size="100,100">There is currently nothing on this wall. You can look at [[wall six]], [[wall seven]] or [[wall eight]]. Or you can leave the room and head for the [[triangular room]] or take the [[exit corridor-&gt;entry hall]]. </tw-passagedata><tw-passagedata pid="13" name="exit corridor" tags="" position="847,89" size="100,100">You are in the exit corridor to the room complex. To your left is [[wall zero]]. To your right is [[wall one]]. You can [[press ahead-&gt;entrance]] and leave the room complex. Or you can [[double back-&gt;T Junction]] into the room complex. </tw-passagedata><tw-passagedata pid="14" name="wall three" tags="" position="951,475" size="100,100">Double-click this passage to edit it.There is currently nothing on this wall. You can look at [[wall two]], or [[wall four]]. Or you can leave the room and head for the [[square room]] or take the [[exit corridor-&gt;entry hall]]. </tw-passagedata><tw-passagedata pid="15" name="wall four" tags="" position="819,474" size="100,100">There is currently nothing on this wall. You can look at [[wall three]], or [[wall two]]. Or you can leave the room and head for the [[square room]] or take the [[exit corridor-&gt;entry hall]]. </tw-passagedata><tw-passagedata pid="16" name="wall two" tags="" position="948,346" size="100,100">There is currently nothing on this wall. You can look at [[wall three]], or [[wall four]]. Or you can leave the room and head for the [[square room]] or the [[exit corridor-&gt;entry hall]]. </tw-passagedata><tw-passagedata pid="17" name="wall five" tags="" position="727,579" size="100,100">Double-click this passage to edit it.</tw-passagedata></tw-storydata>

<tw-storydata name="century template 6.0" startnode="15" creator="Twine" creator-version="2.3.12" ifid="74A196A8-8FBE-47F6-AD01-F9207F504AF0" zoom="0.6" format="Harlowe" format-version="3.2.1" options="" hidden><style role="stylesheet" id="twine-user-stylesheet" type="text/twine-css">.passage img {
    display: block;
    max-width: 100%;
    height: auto;
    margin: 0 auto;
}

body[data-tags~="mushrooms"] {
	background-image: url("https://wallpapertag.com/wallpaper/middle/f/2/d/850737-best-mushroom-wallpaper-1920x1200-windows.jpg");
	background-repeat: no-repeat;
	background-size: cover;
}</style><script role="script" id="twine-user-script" type="text/twine-javascript">window.Harlowe = { 'State' : State };
window.processInputElements = function () {
    $('input[data-varname]').on('change', function () {
        var varName = $(this).attr('data-varname');
        Harlowe.State.variables[varName] = this.value;
        $("tw-story").css("background-size","cover");
        if(Harlowe.State.variables[varName] == 0)
        			{$("tw-story").css("background-image","url(https://th.bing.com/th/id/Rf5fecfd0d9830aab6202cf747bd3ad01?rik=L2W1jbILOWUswA&riu=http%3a%2f%2fak3.picdn.net%2fshutterstock%2fvideos%2f3933461%2fthumb%2f2.jpg&ehk=Jj2vK1CpTF0Tkwwx8bW4RAHwBltP9rnWO4IfZTCfsMY%3d&risl=&pid=ImgRaw)");
        			}
			else if(Harlowe.State.variables[varName] == 1)
        			{$("tw-story").css("background-image","url(https://i.pinimg.com/originals/4f/0b/88/4f0b88df6b723ffda1fb80629884521a.jpg)");
							}
			else if(Harlowe.State.variables[varName] == 2)
        			{$("tw-story").css("background-image","url(https://i.pinimg.com/originals/5b/c7/19/5bc719f84cfc170ff0558702b2c97876.jpg)");
							}
			else if(Harlowe.State.variables[varName] == 3)
        			{$("tw-story").css("background-image","url(https://www.realmofhistory.com/wp-content/uploads/2016/05/3D_Animations_Layout_Roman_Domus_House_1-770x437.jpg)");
							}
						else if(Harlowe.State.variables[varName] == 4)
        			{$("tw-story").css("background-image","url(https://images.fineartamerica.com/images/artworkimages/mediumlarge/1/roman-ruin-architecture-with-predigendem-st-paul-giovanni-paolo-panini.jpg)");
							}
			else if(Harlowe.State.variables[varName] == 5)
        			{$("tw-story").css("background-image","url(https://images.alphacoders.com/266/266013.jpg)");
							}
			else if(Harlowe.State.variables[varName] == 6)
        			{$("tw-story").css("background-image","url(https://vignette.wikia.nocookie.net/assassinscreed/images/b/b8/Damascus-depth.jpg/revision/latest?cb=20100918105609)");
							}
			else if(Harlowe.State.variables[varName] == 7)
        			{$("tw-story").css("background-image","url(https://www.ancient-origins.net/sites/default/files/field/image/viking-tar.jpg)");
							}
						else if(Harlowe.State.variables[varName] == 8)
        			{$("tw-story").css("background-image","url(file:///private/var/folders/kl/xdjgclbs2rd7j83lrx2kjygr0000gp/T/6f3dc60b-15c8-438b-b96d-458185d4b829.html)");
							}
				else if(Harlowe.State.variables[varName] == 9)
        			{$("tw-story").css("background-image","url(https://vignette.wikia.nocookie.net/lotrfanon/images/6/6a/Mordor.png/revision/latest?cb=20170724095433)");
							}
			else if(Harlowe.State.variables[varName] == 10)
        			{$("tw-story").css("background-image","url(https://4.bp.blogspot.com/-H7YcbEPiqH4/VbisGV8F-8I/AAAAAAAEtBs/sQETZ8PgdVM/s1600/John%2BMartin%2BTutt%2527Art%2540%2B%252825%2529.jpg)");
							}
			else if(Harlowe.State.variables[varName] == 11)
        			{$("tw-story").css("background-image","url(https://i.pinimg.com/originals/32/d1/2d/32d12d3eb111ccb5065073c181007cc3.jpg)");
							}
			else if(Harlowe.State.variables[varName] == 12)
        			{$("tw-story").css("background-image","url(https://i.pinimg.com/originals/98/82/b2/9882b2685e23b81832d9b8a3258fa65a.jpg)");
							}
			else if(Harlowe.State.variables[varName] == 13)
        			{$("tw-story").css("background-image","url(https://i.pinimg.com/originals/ea/31/23/ea31239d3f7eba975360f044906a3aba.jpg)");
							}		
			else if(Harlowe.State.variables[varName] == 14)
        			{$("tw-story").css("background-image","url(https://i.ytimg.com/vi/2QUYYOXUF4o/maxresdefault.jpg)");
							}	
			else if(Harlowe.State.variables[varName] == 15)
        			{$("tw-story").css("background-image","url(https://upload.wikimedia.org/wikipedia/commons/e/ef/Avvakum_by_Pyotr_Yevgenyevich_Myasoyedov.jpg)");
							}	
			else if(Harlowe.State.variables[varName] == 16)
        			{$("tw-story").css("background-image","url(https://i.postimg.cc/j5Gr8x8r/artwork-fantasy-city-town-digital-river-bridge-boat-medieval-1743259.jpg)");
							}	
			else if(Harlowe.State.variables[varName] == 17)
        			{$("tw-story").css("background-image","url(https://i.postimg.cc/tgkQHd2D/heads-On-Pikes.jpg)");
							}	
			else if(Harlowe.State.variables[varName] == 18)
        			{$("tw-story").css("background-image","url(https://i.pinimg.com/originals/cd/41/30/cd413085d15e1fbf4ef0f18b8ddbcdf1.jpg)");
							}	
			else if(Harlowe.State.variables[varName] == 19)
        			{$("tw-story").css("background-image","url(https://w-dog.pw/android-wallpapers/7/16/532616445160923/art-war-france-saint-lo-street-us-troops-men-uniforms-shop-rifles-m1903a3-and-m1903a4-shots-smoke-ruins-ww2-picture.jpg)");
							}
			else if(Harlowe.State.variables[varName] == 20)
        			{$("tw-story").css("background-image","url(https://cdnb.artstation.com/p/assets/images/images/006/670/547/large/ricardo-garcia-hernanz-proyecto-final-concept-art-definitivo.jpg?1500361155)");
							}
			
					
    });
};


if (typeof window.CustomScripts == "undefined") {
	window.CustomScripts = {
		updateBackground(myBackground){
			// if it's always going to be cover, you can put it outside the if statement
			$("tw-story").css("background-size","cover");
			
			// check the functions parameter for which background image to use
			if(myBackground == 0) //century backgrounds take nos 0, 100, 200 etc.
			{
				$("tw-story").css("background-image","url(https://th.bing.com/th/id/Rf5fecfd0d9830aab6202cf747bd3ad01?rik=L2W1jbILOWUswA&riu=http%3a%2f%2fak3.picdn.net%2fshutterstock%2fvideos%2f3933461%2fthumb%2f2.jpg&ehk=Jj2vK1CpTF0Tkwwx8bW4RAHwBltP9rnWO4IfZTCfsMY%3d&risl=&pid=ImgRaw)");
			}
			else if(myBackground == 1) // decade nos end in 1
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/zJvFgQF/mushroom-Catacombs.jpg)");
			}
			else if(myBackground == 11)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/3b/a6/7c/3ba67c68c69aa5ff049e70af3e1398be.jpg)");
			}
			else if(myBackground == 21)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/hCsSZw0/CREATOR-gd-jpeg-v1-0-using-IJG-JPEG-v80-quality-80.jpg)");
			}
			else if(myBackground == 31)
			{
				$("tw-story").css("background-image","url(https://farm4.staticflickr.com/3881/14548118871_9a25db8f3b_k.jpg)");
			}
			else if(myBackground == 41)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/2c/6a/6d/2c6a6da05c9ba99228068306657fbf82.jpg)");
			}
			else if(myBackground == 51)
			{
				$("tw-story").css("background-image","url(https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/224cf4fa-33d8-4223-974d-67aecc72bd2c/d32esvm-fab667ec-f070-4610-baf7-d1f993c43768.jpg/v1/fill/w_800,h_600,q_75,strp/the_armory_by_rytango-d32esvm.jpg?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwic3ViIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsImF1ZCI6WyJ1cm46c2VydmljZTppbWFnZS5vcGVyYXRpb25zIl0sIm9iaiI6W1t7InBhdGgiOiIvZi8yMjRjZjRmYS0zM2Q4LTQyMjMtOTc0ZC02N2FlY2M3MmJkMmMvZDMyZXN2bS1mYWI2NjdlYy1mMDcwLTQ2MTAtYmFmNy1kMWY5OTNjNDM3NjguanBnIiwid2lkdGgiOiI8PTgwMCIsImhlaWdodCI6Ijw9NjAwIn1dXX0.eOpCwc84GDmV-LB1ltAyddWpeuwIVVH9qw4oPJeQbKM)");
			}
			else if(myBackground == 61)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/60/f9/69/60f969f538253f68ec5be1b5846a2568.jpg)");
			}
			else if(myBackground == 71)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/g9hVkhF/catacombs-Chapel4.jpg)");
			}
			else if(myBackground == 81)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/yf9SCJJ/leper-Colony2.jpg)");
			}
			else if(myBackground == 91)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/7f/64/42/7f64421b6c16a31104cba0471dd5daca.jpg)");
			}
			else if(myBackground == 100)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/4f/0b/88/4f0b88df6b723ffda1fb80629884521a.jpg)");
			}
			else if(myBackground == 101)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/5b/c7/19/5bc719f84cfc170ff0558702b2c97876.jpg)");
			}
			else if(myBackground == 111)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/84/77/ea/8477eac606801135e48e2208305f3914.jpg)");
			}
			else if(myBackground == 121)
			{
				$("tw-story").css("background-image","url(https://th.bing.com/th/id/Rde8b516f69680e4a2a7243c2ec81a701?rik=FLjo2Zvd6dVPyw&riu=http%3a%2f%2fimages4.wikia.nocookie.net%2f__cb20130419200553%2fspartacus%2fimages%2f5%2f59%2fSpartacus_Legends_Ludus_fight.png&ehk=YzsHyiOKeH38%2fusktTVJv%2beUid2DYSentQ23hcClX98%3d&risl=&pid=ImgRaw)");
			}
			else if(myBackground == 131)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/736x/ce/51/f7/ce51f7c230d6e0bafabd04862133349a.jpg)");
			}
			else if(myBackground == 141)
			{
				$("tw-story").css("background-image","url(https://www.thesimsresource.com/scaled/2599/w-800h-600-2599642.jpg)");
			}
			else if(myBackground == 151)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/6a/7f/c1/6a7fc16f23671dc5bd0bed4c462eccc4.jpg)");
			}
			else if(myBackground == 161)
			{
				$("tw-story").css("background-image","url(https://i.ibb.co/0F4cX5y/roman-Slave-Marke5.jpg)");
			}
			else if(myBackground == 171)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/736x/d2/e4/c1/d2e4c197c68fe2cb4d2e7de5f4143e2b.jpg)");
			}
			else if(myBackground == 181)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/b4/39/a8/b439a87560b02424c656b1120e29740d.jpg)");
			}
			else if(myBackground == 191)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/4c/ae/c0/4caec06d6814e915a3c32affa4123800.jpg)");
			}
			else if(myBackground == 200)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/5b/c7/19/5bc719f84cfc170ff0558702b2c97876.jpg)");
			}
			else if(myBackground == 201)
			{
				$("tw-story").css("background-image","url(https://th.bing.com/th/id/R2cae1fcbbabcb57451c68fc47571a351?rik=leu7YgYWctPMsg&riu=http%3a%2f%2faidanmoher.com%2fblog%2fwp-content%2fuploads%2f2014%2f07%2ftwilight_garden_by_alextooth-d5t47sa.jpg&ehk=3knU%2fwpIey%2b%2bQT8LlaYoJrnuJ36TOKBVgzJHM3SAHtA%3d&risl=&pid=ImgRaw)");
			}
			else if(myBackground == 211)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/5f/00/3f/5f003fc16b10572cfe4c34c313beec70.jpg)");
			}
			else if(myBackground == 221)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/9c/99/54/9c9954bc49514aafb47624cbb3c2a993.jpg)");
			}
			else if(myBackground == 231)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/9c/85/32/9c853217e910c978b24ed75ac63e923f.jpg)");
			}
			else if(myBackground == 241)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/67/f0/8b/67f08bbc42a27c9da1011532332c1fe5.jpg)");
			}
			else if(myBackground == 251)
			{
				$("tw-story").css("background-image","url(https://gcdn.daz3d.com/p/56851/i/chinese-temple-gate-05-daz3d.jpg)");
			}
			else if(myBackground == 261)
			{
				$("tw-story").css("background-image","url(https://gcdn.daz3d.com/p/63811/i/china-houses-04-daz3d.jpg)");
			}
			else if(myBackground == 271)
			{
				$("tw-story").css("background-image","url(https://i.pinimg.com/originals/14/10/2a/14102a474694c64c8f3779901390effc.jpg)");
			}
			else if(myBackground == 281)
			{
				$("tw-story").css("background-image","url(https://c4.wallpaperflare.com/wallpaper/49/579/585/jungle-fantasy-art-asian-architecture-artwork-wallpaper-preview.jpg)");
			}
			else if(myBackground == 291)
			{
				$("tw-story").css("background-image","url(https://c4.wallpaperflare.com/wallpaper/672/517/150/nature-digital-art-water-artwork-wallpaper-preview.jpg)");
			}
			else if(myBackground == 2071)
			{
				$("tw-story").css("background-image","url(http://www.scififantasyhorror.co.uk/wp-content/gallery/Su-Jian/su-jian-scifi-art-11.jpg)");
			}
			else
			{
				$("tw-story").css("background-image","none");
			}
		}
	}
}

</script><tw-tag name="startup" color="red"></tw-tag><tw-passagedata pid="1" name="top bar pathType" tags="" position="1911,1266" size="100,100">{
(set: $doorPhrase to 3rd of $doorTypes)
(set: $decadeSign to &quot;2&quot; of $decadeSigns)
(set: $thisRoomsNumber to -1) 

}
(background:black)[$mainSentence that heads from $2Direction to $4Direction. A $doorPhrase $signIntro $decadeSign exits to the [[$3Direction-&gt;decade two]], into a mysterious $complexWord. If you do not wish to go this way, you can follow the $pathType to the [[$4Direction-&gt;main pathType top corner]] end, or to the [[$2Direction end-&gt;d1 door]].]

(if: $floorInt is 0)[&lt;script&gt;CustomScripts.updateBackground(0);&lt;/script&gt;]
(if: $floorInt is 1)[&lt;script&gt;CustomScripts.updateBackground(100);&lt;/script&gt;]
(if: $floorInt is 2)[&lt;script&gt;CustomScripts.updateBackground(200);&lt;/script&gt;]
(if: $floorInt is 3)[&lt;script&gt;CustomScripts.updateBackground(300);&lt;/script&gt;]
(if: $floorInt is 4)[&lt;script&gt;CustomScripts.updateBackground(400);&lt;/script&gt;]
(if: $floorInt is 5)[&lt;script&gt;CustomScripts.updateBackground(500);&lt;/script&gt;]
(if: $floorInt is 6)[&lt;script&gt;CustomScripts.updateBackground(600);&lt;/script&gt;]
(if: $floorInt is 7)[&lt;script&gt;CustomScripts.updateBackground(700);&lt;/script&gt;]
(if: $floorInt is 8)[&lt;script&gt;CustomScripts.updateBackground(800);&lt;/script&gt;]
(if: $floorInt is 9)[&lt;script&gt;CustomScripts.updateBackground(900);&lt;/script&gt;]
(if: $floorInt is 10)[&lt;script&gt;CustomScripts.updateBackground(1000);&lt;/script&gt;]
(if: $floorInt is 11)[&lt;script&gt;CustomScripts.updateBackground(1100);&lt;/script&gt;]
(if: $floorInt is 12)[&lt;script&gt;CustomScripts.updateBackground(1200);&lt;/script&gt;]
(if: $floorInt is 13)[&lt;script&gt;CustomScripts.updateBackground(1300);&lt;/script&gt;]
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1400);&lt;/script&gt;]
(if: $floorInt is 15)[&lt;script&gt;CustomScripts.updateBackground(1500);&lt;/script&gt;]
(if: $floorInt is 16)[&lt;script&gt;CustomScripts.updateBackground(1600);&lt;/script&gt;]
(if: $floorInt is 17)[&lt;script&gt;CustomScripts.updateBackground(1700);&lt;/script&gt;]
(if: $floorInt is 18)[&lt;script&gt;CustomScripts.updateBackground(1800);&lt;/script&gt;]
(if: $floorInt is 19)[&lt;script&gt;CustomScripts.updateBackground(1900);&lt;/script&gt;]
(if: $floorInt is 20)[&lt;script&gt;CustomScripts.updateBackground(2000);&lt;/script&gt;]
</tw-passagedata><tw-passagedata pid="2" name="main pathType upper" tags="" position="1706,1495" size="100,100">{
(set: $decadeSign3 to &quot;3&quot; of $decadeSigns) 
(set: $decadeSign9 to &quot;9&quot; of $decadeSigns)
(set: $thisRoomsNumber to -1) 

}
(background:black)[$mainSentence, which heads both [[$1Direction-&gt;main pathType top corner]] and [[$3Direction-&gt;main pathType middle]] from here. If you wish to leave this $pathType, there are a pair of ($plural: $doorType) directly opposite one another, both leading to ($plural: $complexWord). One of them heads [[$2Direction-&gt;decade three]] $signIntro $decadeSign3 and the other heads [[$4Direction-&gt;decade nine]] $signIntro $decadeSign9].

(if: $floorInt is 0)[&lt;script&gt;CustomScripts.updateBackground(0);&lt;/script&gt;]
(if: $floorInt is 1)[&lt;script&gt;CustomScripts.updateBackground(100);&lt;/script&gt;]
(if: $floorInt is 2)[&lt;script&gt;CustomScripts.updateBackground(200);&lt;/script&gt;]
(if: $floorInt is 3)[&lt;script&gt;CustomScripts.updateBackground(300);&lt;/script&gt;]
(if: $floorInt is 4)[&lt;script&gt;CustomScripts.updateBackground(400);&lt;/script&gt;]
(if: $floorInt is 5)[&lt;script&gt;CustomScripts.updateBackground(500);&lt;/script&gt;]
(if: $floorInt is 6)[&lt;script&gt;CustomScripts.updateBackground(600);&lt;/script&gt;]
(if: $floorInt is 7)[&lt;script&gt;CustomScripts.updateBackground(700);&lt;/script&gt;]
(if: $floorInt is 8)[&lt;script&gt;CustomScripts.updateBackground(800);&lt;/script&gt;]
(if: $floorInt is 9)[&lt;script&gt;CustomScripts.updateBackground(900);&lt;/script&gt;]
(if: $floorInt is 10)[&lt;script&gt;CustomScripts.updateBackground(1000);&lt;/script&gt;]
(if: $floorInt is 11)[&lt;script&gt;CustomScripts.updateBackground(1100);&lt;/script&gt;]
(if: $floorInt is 12)[&lt;script&gt;CustomScripts.updateBackground(1200);&lt;/script&gt;]
(if: $floorInt is 13)[&lt;script&gt;CustomScripts.updateBackground(1300);&lt;/script&gt;]
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1400);&lt;/script&gt;]
(if: $floorInt is 15)[&lt;script&gt;CustomScripts.updateBackground(1500);&lt;/script&gt;]
(if: $floorInt is 16)[&lt;script&gt;CustomScripts.updateBackground(1600);&lt;/script&gt;]
(if: $floorInt is 17)[&lt;script&gt;CustomScripts.updateBackground(1700);&lt;/script&gt;]
(if: $floorInt is 18)[&lt;script&gt;CustomScripts.updateBackground(1800);&lt;/script&gt;]
(if: $floorInt is 19)[&lt;script&gt;CustomScripts.updateBackground(1900);&lt;/script&gt;]
(if: $floorInt is 20)[&lt;script&gt;CustomScripts.updateBackground(2000);&lt;/script&gt;]
(if: $floorInt is 1)[&lt;script&gt;CustomScripts.updateBackground(100);&lt;/script&gt;]
(if: $floorInt is 2)[&lt;script&gt;CustomScripts.updateBackground(200);&lt;/script&gt;]
(if: $floorInt is 3)[&lt;script&gt;CustomScripts.updateBackground(300);&lt;/script&gt;]
(if: $floorInt is 4)[&lt;script&gt;CustomScripts.updateBackground(400);&lt;/script&gt;]
(if: $floorInt is 5)[&lt;script&gt;CustomScripts.updateBackground(500);&lt;/script&gt;]
(if: $floorInt is 6)[&lt;script&gt;CustomScripts.updateBackground(600);&lt;/script&gt;]
(if: $floorInt is 7)[&lt;script&gt;CustomScripts.updateBackground(700);&lt;/script&gt;]
(if: $floorInt is 8)[&lt;script&gt;CustomScripts.updateBackground(800);&lt;/script&gt;]
(if: $floorInt is 9)[&lt;script&gt;CustomScripts.updateBackground(900);&lt;/script&gt;]
(if: $floorInt is 10)[&lt;script&gt;CustomScripts.updateBackground(1000);&lt;/script&gt;]
(if: $floorInt is 11)[&lt;script&gt;CustomScripts.updateBackground(1100);&lt;/script&gt;]
(if: $floorInt is 12)[&lt;script&gt;CustomScripts.updateBackground(1200);&lt;/script&gt;]
(if: $floorInt is 13)[&lt;script&gt;CustomScripts.updateBackground(1300);&lt;/script&gt;]
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1400);&lt;/script&gt;]
(if: $floorInt is 15)[&lt;script&gt;CustomScripts.updateBackground(1500);&lt;/script&gt;]
(if: $floorInt is 16)[&lt;script&gt;CustomScripts.updateBackground(1600);&lt;/script&gt;]
(if: $floorInt is 17)[&lt;script&gt;CustomScripts.updateBackground(1700);&lt;/script&gt;]
(if: $floorInt is 18)[&lt;script&gt;CustomScripts.updateBackground(1800);&lt;/script&gt;]
(if: $floorInt is 19)[&lt;script&gt;CustomScripts.updateBackground(1900);&lt;/script&gt;]
(if: $floorInt is 20)[&lt;script&gt;CustomScripts.updateBackground(2000);&lt;/script&gt;]



















</tw-passagedata><tw-passagedata pid="3" name="decade zero" tags="" position="1700,1118" size="100,100">{
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
&lt;!--SPECIFICS--&gt;
(set: $decadeNum to 0) 
(set: $limitDirection to $3Direction) 
 


(set: $decadeString to (str: $decadeNum))
($decadeRef:)





&lt;!--ADJUSTABLES--&gt;
&lt;!--ADJUSTABLES--&gt;
&lt;!--ADJUSTABLES--&gt;

(set: $randomSeed to (str: $decadeReference - 1) of $randomMaps)
(set: $randomSeed25 to $randomSeed) 
(set: $shortArcs to (str: $decadeReference - 1) of $shortArcsDM)



&lt;!--SET UP--&gt;
&lt;!--SET UP--&gt;
&lt;!--SET UP--&gt;
(set: $inverseSprawl to 7)
(set: $passaginess to 5)
(set: $branchiness to 7)


(set: $branchList to (a: (a: (a: 0,0,0),(a: 0,0,0))))
(set: $currentRoom to 0)
(set: $currentPassage to 10)
(set: $thisBuild to 10) 
(set: $nodes to (a:)) 
(set: $stopValue to 25)
(set: $roomString to &quot;10&quot;)



&lt;!--the following datamap of arrays represents the exits from each locus. Each name is a string of the locus number and the corresponding value is the list of exits from that locus, each of which will be a triple that signifies the direction of exit--&gt; 
(set: $exitMap to (dm: &quot;0&quot;, (a:), &quot;10&quot;,(a:)))


(set: $coordMap to (dm: &quot;0&quot;, (a:), &quot;10&quot;,(a:)))

(set: $numberMap to (dm:))

(set: $seedIndex to 1)
(set: $seedIndex20 to 1)
(set: $seedIndex25 to 1)


&lt;!--RANDOM GENERATORS --&gt; 
&lt;!--RANDOM GENERATORS --&gt; 
&lt;!--RANDOM GENERATORS --&gt; 
&lt;!--RANDOM GENERATORS --&gt; 

(set: $getBinaryValue to (macro: [
	(set: _output to (nth: $seedIndex, 0,1,0,0,1,0,1,0,0,0,1,1,1,0,1,0,0))
	(if: $seedIndex &gt; 20) [(set: $seedIndex to 1)]
	(else:) [(set: $seedIndex +=1)]
	(output-data: _output)]))

(set: $getStableRandom20 to (macro: [
	(set: _output to (nth: $seedIndex20, ...$randomSeed))
	(if: $seedIndex &gt; 20) [(set: $seedIndex to 1)]
	(set: $seedIndex20 +=1)
	(output-data: _output)]))
	

(set: $mod to 
(macro: num-type _dividend, num-type _divisor, [
	(if: _divisor &lt; 0) [(error: &quot;divisor less than 0&quot;)]
	(if: _dividend &lt; 0) [(error: &quot;dividend less than 0&quot;)]
	(if: _divisor is 0) [(set: $modulus to 0)] 
	(else:)[
	(if: _divisor &gt; _dividend)[(set: $modulus to _dividend)]
	(else:) [($mod: _dividend - _divisor, _divisor)]
	]
	(output-data:&quot;&quot;) 
	]))
	
	
(set: $getRandomWithMax to 
(macro: num-type _limit, [
	(if: _limit &gt; 19)
		[(error:&quot;$getRandomWithMax cannot accept argument &gt;19&quot;)]
	(set: _starter to (nth: $seedIndex20, ...$randomSeed))
	(if: $seedIndex20 &gt; 40) [(set: $seedIndex to 1)]
	(else:) [(set: $seedIndex20 +=1)]
	($mod: _starter, _limit)
	(set: $randomWithMax to $modulus)
	(output-data: &quot;&quot;)
	]))

	

	
&lt;!--sets a stable random value from the range -1, 0, 1.--&gt;
(set: $getTernaryValue to (macro: [
	(set: _output to (nth: $seedIndex, 0,-1,0,1,-1,0,1,1,0,-1,1,1,-1,1,1,1,0))
	(if: $seedIndex &gt; 20) [(set: $seedIndex to 1)]
	(else:) [(set: $seedIndex +=1)]
	(output-data: _output)]))
		


(set: $makeRootArc to (macro: [
	(set: _from to (a: 0, 0, 0))
	(set: _to to ($getTernaryVector:)) 
	(output-data: _from + _to)]
	))
	
	
	
&lt;!--GET SHORTARCS --&gt; 
&lt;!--GET SHORTARCS --&gt; 
&lt;!--GET SHORTARCS --&gt; 
&lt;!--GET SHORTARCS --&gt;

(set: $getNextShortArc to 
(macro: [ 
	(set: _output to (nth: $seedIndex25, ...$shortArcs))
	(if: $seedIndex25 &gt; 25) [(set: $seedIndex25 to 1)]
	(else:) [(set: $seedIndex25 +=1)
		 ]
	(output-data: _output)]))
	


&lt;!--BUILD MAP --&gt;
&lt;!--BUILD MAP --&gt;
&lt;!--BUILD MAP --&gt;
($buildMap:) 

&lt;!--FIX START ROOM --&gt;
&lt;!--FIX START ROOM --&gt;
&lt;!--FIX START ROOM --&gt;
&lt;!--if the entrance is to the east, picks the eastmost room as the starting room, etc --&gt;

($findMostExtreme: $limitDirection)
(set: $theseCoords to $mostExtreme)
(set: $startCoords to $theseCoords) 
(set: $thisRoomsNumber to (str: $theseCoords) of $numberMap)

&lt;!--FIX COUNTERS AND VALUES --&gt;
&lt;!--FIX COUNTERS AND VALUES --&gt;
&lt;!--FIX COUNTERS AND VALUES --&gt;

(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)
(set: $wordIterator to 1)
($getExitVectors:)
($listExits: $exitVectors)

(set: $complexLanguage to (str: $decadeReference) of $generalLanguage)
(set: $complexSentence to &quot;You are &quot;
	+ ($setLocusPhrase:)
	+ &quot; somewhere &quot; 
	+ 1st of $complexLanguage
	+ &quot; &quot; 
	+ 2nd of $complexLanguage
	+ &quot; &quot;
	+ 3rd of $complexLanguage
	+ &quot; &quot;
	+ 4th of $complexLanguage
	)
  
}

$complexSentence. You are at ($locusWord:) $thisRoomsNumber. 
(print: $directionText) 

(set: $returnText to &quot;You can also head back to the $3Direction into the [[$complexWord-&gt;main pathType top corner]].&quot;) 
$returnText

(if: $floorInt is 0)[&lt;script&gt;CustomScripts.updateBackground(1);&lt;/script&gt;]
(if: $floorInt is 1)[&lt;script&gt;CustomScripts.updateBackground(101);&lt;/script&gt;]
(if: $floorInt is 2)[&lt;script&gt;CustomScripts.updateBackground(201);&lt;/script&gt;]
(if: $floorInt is 3)[&lt;script&gt;CustomScripts.updateBackground(301);&lt;/script&gt;]
(if: $floorInt is 4)[&lt;script&gt;CustomScripts.updateBackground(401);&lt;/script&gt;]
(if: $floorInt is 5)[&lt;script&gt;CustomScripts.updateBackground(501);&lt;/script&gt;]
(if: $floorInt is 6)[&lt;script&gt;CustomScripts.updateBackground(601);&lt;/script&gt;]
(if: $floorInt is 7)[&lt;script&gt;CustomScripts.updateBackground(701);&lt;/script&gt;]
(if: $floorInt is 8)[&lt;script&gt;CustomScripts.updateBackground(801);&lt;/script&gt;]
(if: $floorInt is 9)[&lt;script&gt;CustomScripts.updateBackground(901);&lt;/script&gt;]
(if: $floorInt is 10)[&lt;script&gt;CustomScripts.updateBackground(1001);&lt;/script&gt;]
(if: $floorInt is 11)[&lt;script&gt;CustomScripts.updateBackground(1101);&lt;/script&gt;]
(if: $floorInt is 12)[&lt;script&gt;CustomScripts.updateBackground(1201);&lt;/script&gt;]
(if: $floorInt is 13)[&lt;script&gt;CustomScripts.updateBackground(1301);&lt;/script&gt;]
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1401);&lt;/script&gt;]
(if: $floorInt is 15)[&lt;script&gt;CustomScripts.updateBackground(1501);&lt;/script&gt;]
(if: $floorInt is 16)[&lt;script&gt;CustomScripts.updateBackground(1601);&lt;/script&gt;]
(if: $floorInt is 17)[&lt;script&gt;CustomScripts.updateBackground(1701);&lt;/script&gt;]
(if: $floorInt is 18)[&lt;script&gt;CustomScripts.updateBackground(1801);&lt;/script&gt;]
(if: $floorInt is 19)[&lt;script&gt;CustomScripts.updateBackground(1901);&lt;/script&gt;]
(if: $floorInt is 20)[&lt;script&gt;CustomScripts.updateBackground(2001);&lt;/script&gt;]











</tw-passagedata><tw-passagedata pid="4" name="decade two" tags="" position="1914,1405" size="100,100">{
(set: $decadeNum to 2) 
(set: $limitDirection to $1Direction) 


(set: $decadeString to (str: $decadeNum))
($decadeRef:)

(set: $complexSentence to &quot;You are &quot; 
	+ 1st of ($complexPassageType:)
	+ &quot; &quot; 
	+ 2nd of ($complexPassageType:)
	+ &quot; &quot; 
	+ 3rd of ($complexPassageType:)
	+ &quot; somewhere &quot; 
	+ 1st of $complexPhrase
	+ &quot; &quot; 
	+ 2nd of $complexPhrase
	+ &quot; &quot;
	+ 3rd of $complexPhrase
	+ &quot; &quot;
	+ 4th of $complexPhrase
	)


&lt;!--ADJUSTABLES--&gt;
&lt;!--ADJUSTABLES--&gt;
&lt;!--ADJUSTABLES--&gt;


(set: $randomSeed to (str: $decadeRef) of $randomMaps)
(set: $randomSeed25 to $randomSeed) 
(set: $shortArcs to (str: $decadeRef) of $shortArcsDM)



&lt;!--SET UP--&gt;
&lt;!--SET UP--&gt;
&lt;!--SET UP--&gt;
(set: $inverseSprawl to 7)
(set: $passaginess to 5)
(set: $branchiness to 7)


(set: $branchList to (a: (a: (a: 0,0,0),(a: 0,0,0))))
(set: $currentRoom to 0)
(set: $currentPassage to 10)
(set: $thisBuild to 10) 
(set: $nodes to (a:)) 
(set: $stopValue to 25)
(set: $roomString to &quot;10&quot;)



&lt;!--the following datamap of arrays represents the exits from each locus. Each name is a string of the locus number and the corresponding value is the list of exits from that locus, each of which will be a triple that signifies the direction of exit--&gt; 
(set: $exitMap to (dm: &quot;0&quot;, (a:), &quot;10&quot;,(a:)))


(set: $coordMap to (dm: &quot;0&quot;, (a:), &quot;10&quot;,(a:)))

(set: $numberMap to (dm:))

(set: $seedIndex to 1)
(set: $seedIndex20 to 1)
(set: $seedIndex25 to 1)


&lt;!--RANDOM GENERATORS --&gt; 
&lt;!--RANDOM GENERATORS --&gt; 
&lt;!--RANDOM GENERATORS --&gt; 
&lt;!--RANDOM GENERATORS --&gt; 

(set: $getBinaryValue to (macro: [
	(set: _output to (nth: $seedIndex, 0,1,0,0,1,0,1,0,0,0,1,1,1,0,1,0,0))
	(if: $seedIndex &gt; 20) [(set: $seedIndex to 1)]
	(else:) [(set: $seedIndex +=1)]
	(output-data: _output)]))

(set: $getStableRandom20 to (macro: [
	(set: _output to (nth: $seedIndex20, ...$randomSeed))
	(if: $seedIndex &gt; 20) [(set: $seedIndex to 1)]
	(set: $seedIndex20 +=1)
	(output-data: _output)]))
	

(set: $mod to 
(macro: num-type _dividend, num-type _divisor, [
	(if: _divisor &lt; 0) [(error: &quot;divisor less than 0&quot;)]
	(if: _dividend &lt; 0) [(error: &quot;dividend less than 0&quot;)]
	(if: _divisor is 0) [(set: $modulus to 0)] 
	(else:)[
	(if: _divisor &gt; _dividend)[(set: $modulus to _dividend)]
	(else:) [($mod: _dividend - _divisor, _divisor)]
	]
	(output-data:&quot;&quot;) 
	]))
	
	
(set: $getRandomWithMax to 
(macro: num-type _limit, [
	(if: _limit &gt; 19)
		[(error:&quot;$getRandomWithMax cannot accept argument &gt;19&quot;)]
	(set: _starter to (nth: $seedIndex20, ...$randomSeed))
	(if: $seedIndex20 &gt; 40) [(set: $seedIndex to 1)]
	(else:) [(set: $seedIndex20 +=1)]
	($mod: _starter, _limit)
	(set: $randomWithMax to $modulus)
	(output-data: &quot;&quot;)
	]))

	

	
&lt;!--sets a stable random value from the range -1, 0, 1.--&gt;
(set: $getTernaryValue to (macro: [
	(set: _output to (nth: $seedIndex, 0,-1,0,1,-1,0,1,1,0,-1,1,1,-1,1,1,1,0))
	(if: $seedIndex &gt; 20) [(set: $seedIndex to 1)]
	(else:) [(set: $seedIndex +=1)]
	(output-data: _output)]))
		


(set: $makeRootArc to (macro: [
	(set: _from to (a: 0, 0, 0))
	(set: _to to ($getTernaryVector:)) 
	(output-data: _from + _to)]
	))
	
	
	
&lt;!--GET SHORTARCS --&gt; 
&lt;!--GET SHORTARCS --&gt; 
&lt;!--GET SHORTARCS --&gt; 
&lt;!--GET SHORTARCS --&gt;

(set: $getNextShortArc to 
(macro: [ 
	(set: _output to (nth: $seedIndex25, ...$shortArcs))
	(if: $seedIndex25 &gt; 25) [(set: $seedIndex25 to 1)]
	(else:) [(set: $seedIndex25 +=1)
		 ]
	(output-data: _output)]))
	

&lt;!--BUILD MAP --&gt;
&lt;!--BUILD MAP --&gt;
&lt;!--BUILD MAP --&gt;
($buildMap:) 

&lt;!--FIX START ROOM --&gt;
&lt;!--FIX START ROOM --&gt;
&lt;!--FIX START ROOM --&gt;
&lt;!--if the entrance is to the east, picks the eastmost room as the starting room, etc --&gt;

($findMostExtreme: $limitDirection)
(set: $theseCoords to $mostExtreme)
(set: $startCoords to $theseCoords) 
(set: $thisRoomsNumber to (str: $theseCoords) of $numberMap)

&lt;!--FIX COUNTERS AND VALUES --&gt;
&lt;!--FIX COUNTERS AND VALUES --&gt;
&lt;!--FIX COUNTERS AND VALUES --&gt;

(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)
(set: $wordIterator to 1)
($getExitVectors:)
($listExits: $exitVectors)


}
1
$complexSentence. You are at ($locusWord:) $thisRoomsNumber. 
(print: $directionText) 

(set: $returnText to &quot;You can also head back to the $1Direction into the [[$complexWord-&gt;top bar pathType]].&quot;) 
$returnText

(if: $floorInt is 0)[&lt;script&gt;CustomScripts.updateBackground(21);&lt;/script&gt;]
(if: $floorInt is 1)[&lt;script&gt;CustomScripts.updateBackground(121);&lt;/script&gt;]
(if: $floorInt is 2)[&lt;script&gt;CustomScripts.updateBackground(221);&lt;/script&gt;]
(if: $floorInt is 3)[&lt;script&gt;CustomScripts.updateBackground(321);&lt;/script&gt;]
(if: $floorInt is 4)[&lt;script&gt;CustomScripts.updateBackground(421);&lt;/script&gt;]
(if: $floorInt is 5)[&lt;script&gt;CustomScripts.updateBackground(521);&lt;/script&gt;]
(if: $floorInt is 6)[&lt;script&gt;CustomScripts.updateBackground(621);&lt;/script&gt;]
(if: $floorInt is 7)[&lt;script&gt;CustomScripts.updateBackground(721);&lt;/script&gt;]
(if: $floorInt is 8)[&lt;script&gt;CustomScripts.updateBackground(821);&lt;/script&gt;]
(if: $floorInt is 9)[&lt;script&gt;CustomScripts.updateBackground(921);&lt;/script&gt;]
(if: $floorInt is 10)[&lt;script&gt;CustomScripts.updateBackground(1021);&lt;/script&gt;]
(if: $floorInt is 11)[&lt;script&gt;CustomScripts.updateBackground(1121);&lt;/script&gt;]
(if: $floorInt is 12)[&lt;script&gt;CustomScripts.updateBackground(1221);&lt;/script&gt;]
(if: $floorInt is 13)[&lt;script&gt;CustomScripts.updateBackground(1321);&lt;/script&gt;]
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1421);&lt;/script&gt;]
(if: $floorInt is 15)[&lt;script&gt;CustomScripts.updateBackground(1521);&lt;/script&gt;]
(if: $floorInt is 16)[&lt;script&gt;CustomScripts.updateBackground(1621);&lt;/script&gt;]
(if: $floorInt is 17)[&lt;script&gt;CustomScripts.updateBackground(1721);&lt;/script&gt;]
(if: $floorInt is 18)[&lt;script&gt;CustomScripts.updateBackground(1821);&lt;/script&gt;]
(if: $floorInt is 19)[&lt;script&gt;CustomScripts.updateBackground(1921);&lt;/script&gt;]
(if: $floorInt is 20)[&lt;script&gt;CustomScripts.updateBackground(2021);&lt;/script&gt;]</tw-passagedata><tw-passagedata pid="5" name="d1 door" tags="" position="2100,1269" size="100,100">{
(set: $decadeSign to &quot;1&quot; of $decadeSigns)
(set: $thisRoomsNumber to -1) 

}
(background:black)[$mainSentence. To the $2Direction, there is [[$doorPhrase-&gt;decade one]] to a $complexWord $signIntro $decadeSign. If you do not wish to go that way, you may head [[$4Direction along the $pathType-&gt;top bar pathType]].] 

(if: $floorInt is 0)[&lt;script&gt;CustomScripts.updateBackground(0);&lt;/script&gt;]
(if: $floorInt is 1)[&lt;script&gt;CustomScripts.updateBackground(100);&lt;/script&gt;]
(if: $floorInt is 2)[&lt;script&gt;CustomScripts.updateBackground(200);&lt;/script&gt;]
(if: $floorInt is 3)[&lt;script&gt;CustomScripts.updateBackground(300);&lt;/script&gt;]
(if: $floorInt is 4)[&lt;script&gt;CustomScripts.updateBackground(400);&lt;/script&gt;]
(if: $floorInt is 5)[&lt;script&gt;CustomScripts.updateBackground(500);&lt;/script&gt;]
(if: $floorInt is 6)[&lt;script&gt;CustomScripts.updateBackground(600);&lt;/script&gt;]
(if: $floorInt is 7)[&lt;script&gt;CustomScripts.updateBackground(700);&lt;/script&gt;]
(if: $floorInt is 8)[&lt;script&gt;CustomScripts.updateBackground(800);&lt;/script&gt;]
(if: $floorInt is 9)[&lt;script&gt;CustomScripts.updateBackground(900);&lt;/script&gt;]
(if: $floorInt is 10)[&lt;script&gt;CustomScripts.updateBackground(1000);&lt;/script&gt;]
(if: $floorInt is 11)[&lt;script&gt;CustomScripts.updateBackground(1100);&lt;/script&gt;]
(if: $floorInt is 12)[&lt;script&gt;CustomScripts.updateBackground(1200);&lt;/script&gt;]
(if: $floorInt is 13)[&lt;script&gt;CustomScripts.updateBackground(1300);&lt;/script&gt;]
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1400);&lt;/script&gt;]
(if: $floorInt is 15)[&lt;script&gt;CustomScripts.updateBackground(1500);&lt;/script&gt;]
(if: $floorInt is 16)[&lt;script&gt;CustomScripts.updateBackground(1600);&lt;/script&gt;]
(if: $floorInt is 17)[&lt;script&gt;CustomScripts.updateBackground(1700);&lt;/script&gt;]
(if: $floorInt is 18)[&lt;script&gt;CustomScripts.updateBackground(1800);&lt;/script&gt;]
(if: $floorInt is 19)[&lt;script&gt;CustomScripts.updateBackground(1900);&lt;/script&gt;]
(if: $floorInt is 20)[&lt;script&gt;CustomScripts.updateBackground(2000);&lt;/script&gt;]
</tw-passagedata><tw-passagedata pid="6" name="decade three" tags="" position="1843,1538" size="100,100">{
(set: $decadeNum to 3) 
(set: $limitDirection to $4Direction) 


(set: $decadeString to (str: $decadeNum))
($decadeRef:)

(set: $complexPhrase to $decadeString of ($fixComplexVocab:))
(set: $complexSentence to &quot;You are &quot; 
	+ 1st of ($complexPassageType:)
	+ &quot; &quot; 
	+ 2nd of ($complexPassageType:)
	+ &quot; &quot; 
	+ 3rd of ($complexPassageType:)
	+ &quot; somewhere &quot; 
	+ 1st of $complexPhrase
	+ &quot; &quot; 
	+ 2nd of $complexPhrase
	+ &quot; &quot;
	+ 3rd of $complexPhrase
	+ &quot; &quot;
	+ 4th of $complexPhrase
	)

&lt;!--ADJUSTABLES--&gt;
&lt;!--ADJUSTABLES--&gt;
&lt;!--ADJUSTABLES--&gt;


(set: $randomSeed to (str: $decadeRef) of $randomMaps)
(set: $randomSeed25 to $randomSeed) 
(set: $shortArcs to (str: $decadeRef) of $shortArcsDM)



&lt;!--SET UP--&gt;
&lt;!--SET UP--&gt;
&lt;!--SET UP--&gt;
(set: $inverseSprawl to 7)
(set: $passaginess to 5)
(set: $branchiness to 7)


(set: $branchList to (a: (a: (a: 0,0,0),(a: 0,0,0))))
(set: $currentRoom to 0)
(set: $currentPassage to 10)
(set: $thisBuild to 10) 
(set: $nodes to (a:)) 
(set: $stopValue to 25)
(set: $roomString to &quot;10&quot;)



&lt;!--the following datamap of arrays represents the exits from each locus. Each name is a string of the locus number and the corresponding value is the list of exits from that locus, each of which will be a triple that signifies the direction of exit--&gt; 
(set: $exitMap to (dm: &quot;0&quot;, (a:), &quot;10&quot;,(a:)))


(set: $coordMap to (dm: &quot;0&quot;, (a:), &quot;10&quot;,(a:)))

(set: $numberMap to (dm:))

(set: $seedIndex to 1)
(set: $seedIndex20 to 1)
(set: $seedIndex25 to 1)


&lt;!--RANDOM GENERATORS --&gt; 
&lt;!--RANDOM GENERATORS --&gt; 
&lt;!--RANDOM GENERATORS --&gt; 
&lt;!--RANDOM GENERATORS --&gt; 

(set: $getBinaryValue to (macro: [
	(set: _output to (nth: $seedIndex, 0,1,0,0,1,0,1,0,0,0,1,1,1,0,1,0,0))
	(if: $seedIndex &gt; 20) [(set: $seedIndex to 1)]
	(else:) [(set: $seedIndex +=1)]
	(output-data: _output)]))

(set: $getStableRandom20 to (macro: [
	(set: _output to (nth: $seedIndex20, ...$randomSeed))
	(if: $seedIndex &gt; 20) [(set: $seedIndex to 1)]
	(set: $seedIndex20 +=1)
	(output-data: _output)]))
	

(set: $mod to 
(macro: num-type _dividend, num-type _divisor, [
	(if: _divisor &lt; 0) [(error: &quot;divisor less than 0&quot;)]
	(if: _dividend &lt; 0) [(error: &quot;dividend less than 0&quot;)]
	(if: _divisor is 0) [(set: $modulus to 0)] 
	(else:)[
	(if: _divisor &gt; _dividend)[(set: $modulus to _dividend)]
	(else:) [($mod: _dividend - _divisor, _divisor)]
	]
	(output-data:&quot;&quot;) 
	]))
	
	
(set: $getRandomWithMax to 
(macro: num-type _limit, [
	(if: _limit &gt; 19)
		[(error:&quot;$getRandomWithMax cannot accept argument &gt;19&quot;)]
	(set: _starter to (nth: $seedIndex20, ...$randomSeed))
	(if: $seedIndex20 &gt; 40) [(set: $seedIndex to 1)]
	(else:) [(set: $seedIndex20 +=1)]
	($mod: _starter, _limit)
	(set: $randomWithMax to $modulus)
	(output-data: &quot;&quot;)
	]))

	

	
&lt;!--sets a stable random value from the range -1, 0, 1.--&gt;
(set: $getTernaryValue to (macro: [
	(set: _output to (nth: $seedIndex, 0,-1,0,1,-1,0,1,1,0,-1,1,1,-1,1,1,1,0))
	(if: $seedIndex &gt; 20) [(set: $seedIndex to 1)]
	(else:) [(set: $seedIndex +=1)]
	(output-data: _output)]))
		


(set: $makeRootArc to (macro: [
	(set: _from to (a: 0, 0, 0))
	(set: _to to ($getTernaryVector:)) 
	(output-data: _from + _to)]
	))
	
	
	
&lt;!--GET SHORTARCS --&gt; 
&lt;!--GET SHORTARCS --&gt; 
&lt;!--GET SHORTARCS --&gt; 
&lt;!--GET SHORTARCS --&gt;

(set: $getNextShortArc to 
(macro: [ 
	(set: _output to (nth: $seedIndex25, ...$shortArcs))
	(if: $seedIndex25 &gt; 25) [(set: $seedIndex25 to 1)]
	(else:) [(set: $seedIndex25 +=1)
		 ]
	(output-data: _output)]))
	

&lt;!--BUILD MAP --&gt;
&lt;!--BUILD MAP --&gt;
&lt;!--BUILD MAP --&gt;
($buildMap:) 

&lt;!--FIX START ROOM --&gt;
&lt;!--FIX START ROOM --&gt;
&lt;!--FIX START ROOM --&gt;
&lt;!--if the entrance is to the east, picks the eastmost room as the starting room, etc --&gt;

($findMostExtreme: $limitDirection)
(set: $theseCoords to $mostExtreme)
(set: $startCoords to $theseCoords) 
(set: $thisRoomsNumber to (str: $theseCoords) of $numberMap)

&lt;!--FIX COUNTERS AND VALUES --&gt;
&lt;!--FIX COUNTERS AND VALUES --&gt;
&lt;!--FIX COUNTERS AND VALUES --&gt;

(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)
(set: $wordIterator to 1)
($getExitVectors:)
($listExits: $exitVectors)


}
1
$complexSentence. You are at ($locusWord:) $thisRoomsNumber. 
(print: $directionText) 

(set: $returnText to &quot;You can also head back to the $4Direction into the [[$complexWord-&gt;main pathType upper]].&quot;) 
$returnText


(if: $floorInt is 0)[&lt;script&gt;CustomScripts.updateBackground(31);&lt;/script&gt;]
(if: $floorInt is 1)[&lt;script&gt;CustomScripts.updateBackground(131);&lt;/script&gt;]
(if: $floorInt is 2)[&lt;script&gt;CustomScripts.updateBackground(231);&lt;/script&gt;]
(if: $floorInt is 3)[&lt;script&gt;CustomScripts.updateBackground(331);&lt;/script&gt;]
(if: $floorInt is 4)[&lt;script&gt;CustomScripts.updateBackground(431);&lt;/script&gt;]
(if: $floorInt is 5)[&lt;script&gt;CustomScripts.updateBackground(531);&lt;/script&gt;]
(if: $floorInt is 6)[&lt;script&gt;CustomScripts.updateBackground(631);&lt;/script&gt;]
(if: $floorInt is 7)[&lt;script&gt;CustomScripts.updateBackground(731);&lt;/script&gt;]
(if: $floorInt is 8)[&lt;script&gt;CustomScripts.updateBackground(831);&lt;/script&gt;]
(if: $floorInt is 9)[&lt;script&gt;CustomScripts.updateBackground(931);&lt;/script&gt;]
(if: $floorInt is 10)[&lt;script&gt;CustomScripts.updateBackground(1031);&lt;/script&gt;]
(if: $floorInt is 11)[&lt;script&gt;CustomScripts.updateBackground(1131);&lt;/script&gt;]
(if: $floorInt is 12)[&lt;script&gt;CustomScripts.updateBackground(1231);&lt;/script&gt;]
(if: $floorInt is 13)[&lt;script&gt;CustomScripts.updateBackground(1331);&lt;/script&gt;]
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1431);&lt;/script&gt;]
(if: $floorInt is 15)[&lt;script&gt;CustomScripts.updateBackground(1531);&lt;/script&gt;]
(if: $floorInt is 16)[&lt;script&gt;CustomScripts.updateBackground(1631);&lt;/script&gt;]
(if: $floorInt is 17)[&lt;script&gt;CustomScripts.updateBackground(1731);&lt;/script&gt;]
(if: $floorInt is 18)[&lt;script&gt;CustomScripts.updateBackground(1831);&lt;/script&gt;]
(if: $floorInt is 19)[&lt;script&gt;CustomScripts.updateBackground(1931);&lt;/script&gt;]
(if: $floorInt is 20)[&lt;script&gt;CustomScripts.updateBackground(2031);&lt;/script&gt;]</tw-passagedata><tw-passagedata pid="7" name="main pathType middle" tags="" position="1708,1653" size="100,100">{(set: $thisRoomsNumber to -1) 
}

(background:black)[$mainSentence, which heads both [[$1Direction-&gt;main pathType upper]] and [[$3Direction-&gt;main pathType lower]] from here. Another $pathType branches off to the $2Direction, [[which you may take-&gt;middle bar pathType]] if you wish.] </tw-passagedata><tw-passagedata pid="8" name="middle bar pathType" tags="" position="1979,1653" size="100,100">{
(set: $decadeSign4 to &quot;4&quot; of $decadeSigns)
(set: $decadeSign6 to &quot;6&quot; of $decadeSigns)
(set: $thisRoomsNumber to -1) 

}
(background:black)[$mainSentence, which heads both [[$2Direction-&gt;outside d5]] and [[$4Direction-&gt;main pathType middle]] from here. A $doorType $signIntro $decadeSign4 turns off to the [[$1Direction-&gt;decade four]] into a $complexWord. A little further to the $2Direction, a second $doorType leads to another $complexWord to the [[$3Direction-&gt;decade six]], this one labeled $signIntro $decadeSign6.  ]

(if: $floorInt is 0)[&lt;script&gt;CustomScripts.updateBackground(0);&lt;/script&gt;]
(if: $floorInt is 1)[&lt;script&gt;CustomScripts.updateBackground(100);&lt;/script&gt;]
(if: $floorInt is 2)[&lt;script&gt;CustomScripts.updateBackground(200);&lt;/script&gt;]
(if: $floorInt is 3)[&lt;script&gt;CustomScripts.updateBackground(300);&lt;/script&gt;]
(if: $floorInt is 4)[&lt;script&gt;CustomScripts.updateBackground(400);&lt;/script&gt;]
(if: $floorInt is 5)[&lt;script&gt;CustomScripts.updateBackground(500);&lt;/script&gt;]
(if: $floorInt is 6)[&lt;script&gt;CustomScripts.updateBackground(600);&lt;/script&gt;]
(if: $floorInt is 7)[&lt;script&gt;CustomScripts.updateBackground(700);&lt;/script&gt;]
(if: $floorInt is 8)[&lt;script&gt;CustomScripts.updateBackground(800);&lt;/script&gt;]
(if: $floorInt is 9)[&lt;script&gt;CustomScripts.updateBackground(900);&lt;/script&gt;]
(if: $floorInt is 10)[&lt;script&gt;CustomScripts.updateBackground(1000);&lt;/script&gt;]
(if: $floorInt is 11)[&lt;script&gt;CustomScripts.updateBackground(1100);&lt;/script&gt;]
(if: $floorInt is 12)[&lt;script&gt;CustomScripts.updateBackground(1200);&lt;/script&gt;]
(if: $floorInt is 13)[&lt;script&gt;CustomScripts.updateBackground(1300);&lt;/script&gt;]
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1400);&lt;/script&gt;]
(if: $floorInt is 15)[&lt;script&gt;CustomScripts.updateBackground(1500);&lt;/script&gt;]
(if: $floorInt is 16)[&lt;script&gt;CustomScripts.updateBackground(1600);&lt;/script&gt;]
(if: $floorInt is 17)[&lt;script&gt;CustomScripts.updateBackground(1700);&lt;/script&gt;]
(if: $floorInt is 18)[&lt;script&gt;CustomScripts.updateBackground(1800);&lt;/script&gt;]
(if: $floorInt is 19)[&lt;script&gt;CustomScripts.updateBackground(1900);&lt;/script&gt;]
(if: $floorInt is 20)[&lt;script&gt;CustomScripts.updateBackground(2000);&lt;/script&gt;]
</tw-passagedata><tw-passagedata pid="9" name="main pathType lower" tags="" position="1700,1813" size="100,100">{
(set: $decadeSign8 to &quot;8&quot; of $decadeSigns)
(set: $decadeSign7 to &quot;7&quot; of $decadeSigns)
(set: $thisRoomsNumber to -1) 
}
(background:black)[$mainSentence, at a [[$doorType-&gt;decade eight]] $signIntro $decadeSign8. Opposite the $doorType, the $pathType heads off to the [[$1Direction-&gt;main pathType middle]]. A second $doorType exits to the [[$2Direction-&gt;decade seven]], $signIntro $decadeSign7. ]

(if: $floorInt is 0)[&lt;script&gt;CustomScripts.updateBackground(0);&lt;/script&gt;]
(if: $floorInt is 1)[&lt;script&gt;CustomScripts.updateBackground(100);&lt;/script&gt;]
(if: $floorInt is 2)[&lt;script&gt;CustomScripts.updateBackground(200);&lt;/script&gt;]
(if: $floorInt is 3)[&lt;script&gt;CustomScripts.updateBackground(300);&lt;/script&gt;]
(if: $floorInt is 4)[&lt;script&gt;CustomScripts.updateBackground(400);&lt;/script&gt;]
(if: $floorInt is 5)[&lt;script&gt;CustomScripts.updateBackground(500);&lt;/script&gt;]
(if: $floorInt is 6)[&lt;script&gt;CustomScripts.updateBackground(600);&lt;/script&gt;]
(if: $floorInt is 7)[&lt;script&gt;CustomScripts.updateBackground(700);&lt;/script&gt;]
(if: $floorInt is 8)[&lt;script&gt;CustomScripts.updateBackground(800);&lt;/script&gt;]
(if: $floorInt is 9)[&lt;script&gt;CustomScripts.updateBackground(900);&lt;/script&gt;]
(if: $floorInt is 10)[&lt;script&gt;CustomScripts.updateBackground(1000);&lt;/script&gt;]
(if: $floorInt is 11)[&lt;script&gt;CustomScripts.updateBackground(1100);&lt;/script&gt;]
(if: $floorInt is 12)[&lt;script&gt;CustomScripts.updateBackground(1200);&lt;/script&gt;]
(if: $floorInt is 13)[&lt;script&gt;CustomScripts.updateBackground(1300);&lt;/script&gt;]
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1400);&lt;/script&gt;]
(if: $floorInt is 15)[&lt;script&gt;CustomScripts.updateBackground(1500);&lt;/script&gt;]
(if: $floorInt is 16)[&lt;script&gt;CustomScripts.updateBackground(1600);&lt;/script&gt;]
(if: $floorInt is 17)[&lt;script&gt;CustomScripts.updateBackground(1700);&lt;/script&gt;]
(if: $floorInt is 18)[&lt;script&gt;CustomScripts.updateBackground(1800);&lt;/script&gt;]
(if: $floorInt is 19)[&lt;script&gt;CustomScripts.updateBackground(1900);&lt;/script&gt;]
(if: $floorInt is 20)[&lt;script&gt;CustomScripts.updateBackground(2000);&lt;/script&gt;]
</tw-passagedata><tw-passagedata pid="10" name="decade four" tags="" position="1978,1527" size="100,100">{
(set: $decadeNum to 4) 
(set: $limitDirection to $3Direction) 


(set: $decadeString to (str: $decadeNum))
($decadeRef:)

(set: $complexPhrase to $decadeString of ($fixComplexVocab:))
(set: $complexSentence to &quot;You are &quot; 
	+ 1st of ($complexPassageType:)
	+ &quot; &quot; 
	+ 2nd of ($complexPassageType:)
	+ &quot; &quot; 
	+ 3rd of ($complexPassageType:)
	+ &quot; somewhere &quot; 
	+ 1st of $complexPhrase
	+ &quot; &quot; 
	+ 2nd of $complexPhrase
	+ &quot; &quot;
	+ 3rd of $complexPhrase
	+ &quot; &quot;
	+ 4th of $complexPhrase
	)

&lt;!--ADJUSTABLES--&gt;
&lt;!--ADJUSTABLES--&gt;
&lt;!--ADJUSTABLES--&gt;


(set: $randomSeed to (str: $decadeRef) of $randomMaps)
(set: $randomSeed25 to $randomSeed) 
(set: $shortArcs to (str: $decadeRef) of $shortArcsDM)



&lt;!--SET UP--&gt;
&lt;!--SET UP--&gt;
&lt;!--SET UP--&gt;
(set: $inverseSprawl to 7)
(set: $passaginess to 5)
(set: $branchiness to 7)


(set: $branchList to (a: (a: (a: 0,0,0),(a: 0,0,0))))
(set: $currentRoom to 0)
(set: $currentPassage to 10)
(set: $thisBuild to 10) 
(set: $nodes to (a:)) 
(set: $stopValue to 25)
(set: $roomString to &quot;10&quot;)



&lt;!--the following datamap of arrays represents the exits from each locus. Each name is a string of the locus number and the corresponding value is the list of exits from that locus, each of which will be a triple that signifies the direction of exit--&gt; 
(set: $exitMap to (dm: &quot;0&quot;, (a:), &quot;10&quot;,(a:)))


(set: $coordMap to (dm: &quot;0&quot;, (a:), &quot;10&quot;,(a:)))

(set: $numberMap to (dm:))

(set: $seedIndex to 1)
(set: $seedIndex20 to 1)
(set: $seedIndex25 to 1)


&lt;!--RANDOM GENERATORS --&gt; 
&lt;!--RANDOM GENERATORS --&gt; 
&lt;!--RANDOM GENERATORS --&gt; 
&lt;!--RANDOM GENERATORS --&gt; 

(set: $getBinaryValue to (macro: [
	(set: _output to (nth: $seedIndex, 0,1,0,0,1,0,1,0,0,0,1,1,1,0,1,0,0))
	(if: $seedIndex &gt; 20) [(set: $seedIndex to 1)]
	(else:) [(set: $seedIndex +=1)]
	(output-data: _output)]))

(set: $getStableRandom20 to (macro: [
	(set: _output to (nth: $seedIndex20, ...$randomSeed))
	(if: $seedIndex &gt; 20) [(set: $seedIndex to 1)]
	(set: $seedIndex20 +=1)
	(output-data: _output)]))
	

(set: $mod to 
(macro: num-type _dividend, num-type _divisor, [
	(if: _divisor &lt; 0) [(error: &quot;divisor less than 0&quot;)]
	(if: _dividend &lt; 0) [(error: &quot;dividend less than 0&quot;)]
	(if: _divisor is 0) [(set: $modulus to 0)] 
	(else:)[
	(if: _divisor &gt; _dividend)[(set: $modulus to _dividend)]
	(else:) [($mod: _dividend - _divisor, _divisor)]
	]
	(output-data:&quot;&quot;) 
	]))
	
	
(set: $getRandomWithMax to 
(macro: num-type _limit, [
	(if: _limit &gt; 19)
		[(error:&quot;$getRandomWithMax cannot accept argument &gt;19&quot;)]
	(set: _starter to (nth: $seedIndex20, ...$randomSeed))
	(if: $seedIndex20 &gt; 40) [(set: $seedIndex to 1)]
	(else:) [(set: $seedIndex20 +=1)]
	($mod: _starter, _limit)
	(set: $randomWithMax to $modulus)
	(output-data: &quot;&quot;)
	]))

	

	
&lt;!--sets a stable random value from the range -1, 0, 1.--&gt;
(set: $getTernaryValue to (macro: [
	(set: _output to (nth: $seedIndex, 0,-1,0,1,-1,0,1,1,0,-1,1,1,-1,1,1,1,0))
	(if: $seedIndex &gt; 20) [(set: $seedIndex to 1)]
	(else:) [(set: $seedIndex +=1)]
	(output-data: _output)]))
		


(set: $makeRootArc to (macro: [
	(set: _from to (a: 0, 0, 0))
	(set: _to to ($getTernaryVector:)) 
	(output-data: _from + _to)]
	))
	
	
	
&lt;!--GET SHORTARCS --&gt; 
&lt;!--GET SHORTARCS --&gt; 
&lt;!--GET SHORTARCS --&gt; 
&lt;!--GET SHORTARCS --&gt;

(set: $getNextShortArc to 
(macro: [ 
	(set: _output to (nth: $seedIndex25, ...$shortArcs))
	(if: $seedIndex25 &gt; 25) [(set: $seedIndex25 to 1)]
	(else:) [(set: $seedIndex25 +=1)
		 ]
	(output-data: _output)]))
	

&lt;!--BUILD MAP --&gt;
&lt;!--BUILD MAP --&gt;
&lt;!--BUILD MAP --&gt;
($buildMap:) 

&lt;!--FIX START ROOM --&gt;
&lt;!--FIX START ROOM --&gt;
&lt;!--FIX START ROOM --&gt;
&lt;!--if the entrance is to the east, picks the eastmost room as the starting room, etc --&gt;

($findMostExtreme: $limitDirection)
(set: $theseCoords to $mostExtreme)
(set: $startCoords to $theseCoords) 
(set: $thisRoomsNumber to (str: $theseCoords) of $numberMap)

&lt;!--FIX COUNTERS AND VALUES --&gt;
&lt;!--FIX COUNTERS AND VALUES --&gt;
&lt;!--FIX COUNTERS AND VALUES --&gt;

(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)
(set: $wordIterator to 1)
($getExitVectors:)
($listExits: $exitVectors)


}

$complexSentence. You are at ($locusWord:) $thisRoomsNumber. 
(print: $directionText) 

(set: $returnText to &quot;You can also head back to the 3Direction into the [[$complexWord-&gt;middle bar pathType]].&quot;) 
$returnText


(if: $floorInt is 0)[&lt;script&gt;CustomScripts.updateBackground(41);&lt;/script&gt;]
(if: $floorInt is 1)[&lt;script&gt;CustomScripts.updateBackground(141);&lt;/script&gt;]
(if: $floorInt is 2)[&lt;script&gt;CustomScripts.updateBackground(241);&lt;/script&gt;]
(if: $floorInt is 3)[&lt;script&gt;CustomScripts.updateBackground(341);&lt;/script&gt;]
(if: $floorInt is 4)[&lt;script&gt;CustomScripts.updateBackground(441);&lt;/script&gt;]
(if: $floorInt is 5)[&lt;script&gt;CustomScripts.updateBackground(541);&lt;/script&gt;]
(if: $floorInt is 6)[&lt;script&gt;CustomScripts.updateBackground(641);&lt;/script&gt;]
(if: $floorInt is 7)[&lt;script&gt;CustomScripts.updateBackground(741);&lt;/script&gt;]
(if: $floorInt is 8)[&lt;script&gt;CustomScripts.updateBackground(841);&lt;/script&gt;]
(if: $floorInt is 9)[&lt;script&gt;CustomScripts.updateBackground(941);&lt;/script&gt;]
(if: $floorInt is 10)[&lt;script&gt;CustomScripts.updateBackground(1041);&lt;/script&gt;]
(if: $floorInt is 11)[&lt;script&gt;CustomScripts.updateBackground(1141);&lt;/script&gt;]
(if: $floorInt is 12)[&lt;script&gt;CustomScripts.updateBackground(1241);&lt;/script&gt;]
(if: $floorInt is 13)[&lt;script&gt;CustomScripts.updateBackground(1341);&lt;/script&gt;]
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1441);&lt;/script&gt;]
(if: $floorInt is 15)[&lt;script&gt;CustomScripts.updateBackground(1541);&lt;/script&gt;]
(if: $floorInt is 16)[&lt;script&gt;CustomScripts.updateBackground(1641);&lt;/script&gt;]
(if: $floorInt is 17)[&lt;script&gt;CustomScripts.updateBackground(1741);&lt;/script&gt;]
(if: $floorInt is 18)[&lt;script&gt;CustomScripts.updateBackground(1841);&lt;/script&gt;]
(if: $floorInt is 19)[&lt;script&gt;CustomScripts.updateBackground(1941);&lt;/script&gt;]
(if: $floorInt is 20)[&lt;script&gt;CustomScripts.updateBackground(2041);&lt;/script&gt;]</tw-passagedata><tw-passagedata pid="11" name="decade six" tags="" position="1985,1817" size="100,100">{
(set: $decadeNum to 6) 
(set: $limitDirection to $1Direction) 


(set: $decadeString to (str: $decadeNum))
($decadeRef:)

(set: $complexPhrase to $decadeString of ($fixComplexVocab:))
(set: $complexSentence to &quot;You are &quot; 
	+ 1st of ($complexPassageType:)
	+ &quot; &quot; 
	+ 2nd of ($complexPassageType:)
	+ &quot; &quot; 
	+ 3rd of ($complexPassageType:)
	+ &quot; somewhere &quot; 
	+ 1st of $complexPhrase
	+ &quot; &quot; 
	+ 2nd of $complexPhrase
	+ &quot; &quot;
	+ 3rd of $complexPhrase
	+ &quot; &quot;
	+ 4th of $complexPhrase
	)

&lt;!--ADJUSTABLES--&gt;
&lt;!--ADJUSTABLES--&gt;
&lt;!--ADJUSTABLES--&gt;


(set: $randomSeed to (str: $decadeRef) of $randomMaps)
(set: $randomSeed25 to $randomSeed) 
(set: $shortArcs to (str: $decadeRef) of $shortArcsDM)



&lt;!--SET UP--&gt;
&lt;!--SET UP--&gt;
&lt;!--SET UP--&gt;
(set: $inverseSprawl to 7)
(set: $passaginess to 5)
(set: $branchiness to 7)


(set: $branchList to (a: (a: (a: 0,0,0),(a: 0,0,0))))
(set: $currentRoom to 0)
(set: $currentPassage to 10)
(set: $thisBuild to 10) 
(set: $nodes to (a:)) 
(set: $stopValue to 25)
(set: $roomString to &quot;10&quot;)



&lt;!--the following datamap of arrays represents the exits from each locus. Each name is a string of the locus number and the corresponding value is the list of exits from that locus, each of which will be a triple that signifies the direction of exit--&gt; 
(set: $exitMap to (dm: &quot;0&quot;, (a:), &quot;10&quot;,(a:)))


(set: $coordMap to (dm: &quot;0&quot;, (a:), &quot;10&quot;,(a:)))

(set: $numberMap to (dm:))

(set: $seedIndex to 1)
(set: $seedIndex20 to 1)
(set: $seedIndex25 to 1)


&lt;!--RANDOM GENERATORS --&gt; 
&lt;!--RANDOM GENERATORS --&gt; 
&lt;!--RANDOM GENERATORS --&gt; 
&lt;!--RANDOM GENERATORS --&gt; 

(set: $getBinaryValue to (macro: [
	(set: _output to (nth: $seedIndex, 0,1,0,0,1,0,1,0,0,0,1,1,1,0,1,0,0))
	(if: $seedIndex &gt; 20) [(set: $seedIndex to 1)]
	(else:) [(set: $seedIndex +=1)]
	(output-data: _output)]))

(set: $getStableRandom20 to (macro: [
	(set: _output to (nth: $seedIndex20, ...$randomSeed))
	(if: $seedIndex &gt; 20) [(set: $seedIndex to 1)]
	(set: $seedIndex20 +=1)
	(output-data: _output)]))
	

(set: $mod to 
(macro: num-type _dividend, num-type _divisor, [
	(if: _divisor &lt; 0) [(error: &quot;divisor less than 0&quot;)]
	(if: _dividend &lt; 0) [(error: &quot;dividend less than 0&quot;)]
	(if: _divisor is 0) [(set: $modulus to 0)] 
	(else:)[
	(if: _divisor &gt; _dividend)[(set: $modulus to _dividend)]
	(else:) [($mod: _dividend - _divisor, _divisor)]
	]
	(output-data:&quot;&quot;) 
	]))
	
	
(set: $getRandomWithMax to 
(macro: num-type _limit, [
	(if: _limit &gt; 19)
		[(error:&quot;$getRandomWithMax cannot accept argument &gt;19&quot;)]
	(set: _starter to (nth: $seedIndex20, ...$randomSeed))
	(if: $seedIndex20 &gt; 40) [(set: $seedIndex to 1)]
	(else:) [(set: $seedIndex20 +=1)]
	($mod: _starter, _limit)
	(set: $randomWithMax to $modulus)
	(output-data: &quot;&quot;)
	]))

	

	
&lt;!--sets a stable random value from the range -1, 0, 1.--&gt;
(set: $getTernaryValue to (macro: [
	(set: _output to (nth: $seedIndex, 0,-1,0,1,-1,0,1,1,0,-1,1,1,-1,1,1,1,0))
	(if: $seedIndex &gt; 20) [(set: $seedIndex to 1)]
	(else:) [(set: $seedIndex +=1)]
	(output-data: _output)]))
		


(set: $makeRootArc to (macro: [
	(set: _from to (a: 0, 0, 0))
	(set: _to to ($getTernaryVector:)) 
	(output-data: _from + _to)]
	))
	
	
	
&lt;!--GET SHORTARCS --&gt; 
&lt;!--GET SHORTARCS --&gt; 
&lt;!--GET SHORTARCS --&gt; 
&lt;!--GET SHORTARCS --&gt;

(set: $getNextShortArc to 
(macro: [ 
	(set: _output to (nth: $seedIndex25, ...$shortArcs))
	(if: $seedIndex25 &gt; 25) [(set: $seedIndex25 to 1)]
	(else:) [(set: $seedIndex25 +=1)
		 ]
	(output-data: _output)]))
	

&lt;!--BUILD MAP --&gt;
&lt;!--BUILD MAP --&gt;
&lt;!--BUILD MAP --&gt;
($buildMap:) 

&lt;!--FIX START ROOM --&gt;
&lt;!--FIX START ROOM --&gt;
&lt;!--FIX START ROOM --&gt;
&lt;!--if the entrance is to the east, picks the eastmost room as the starting room, etc --&gt;

($findMostExtreme: $limitDirection)
(set: $theseCoords to $mostExtreme)
(set: $startCoords to $theseCoords) 
(set: $thisRoomsNumber to (str: $theseCoords) of $numberMap)

&lt;!--FIX COUNTERS AND VALUES --&gt;
&lt;!--FIX COUNTERS AND VALUES --&gt;
&lt;!--FIX COUNTERS AND VALUES --&gt;

(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)
(set: $wordIterator to 1)
($getExitVectors:)
($listExits: $exitVectors)


}
$complexSentence. You are at ($locusWord:) $thisRoomsNumber. 
(print: $directionText) 

(set: $returnText to &quot;You can also head back to the $1Direction into the [[$complexWord-&gt;middle bar pathType]].&quot;) 
$returnText

(if: $floorInt is 0)[&lt;script&gt;CustomScripts.updateBackground(61);&lt;/script&gt;]
(if: $floorInt is 1)[&lt;script&gt;CustomScripts.updateBackground(161);&lt;/script&gt;]
(if: $floorInt is 2)[&lt;script&gt;CustomScripts.updateBackground(261);&lt;/script&gt;]
(if: $floorInt is 3)[&lt;script&gt;CustomScripts.updateBackground(361);&lt;/script&gt;]
(if: $floorInt is 4)[&lt;script&gt;CustomScripts.updateBackground(461);&lt;/script&gt;]
(if: $floorInt is 5)[&lt;script&gt;CustomScripts.updateBackground(561);&lt;/script&gt;]
(if: $floorInt is 6)[&lt;script&gt;CustomScripts.updateBackground(661);&lt;/script&gt;]
(if: $floorInt is 7)[&lt;script&gt;CustomScripts.updateBackground(761);&lt;/script&gt;]
(if: $floorInt is 8)[&lt;script&gt;CustomScripts.updateBackground(861);&lt;/script&gt;]
(if: $floorInt is 9)[&lt;script&gt;CustomScripts.updateBackground(961);&lt;/script&gt;]
(if: $floorInt is 10)[&lt;script&gt;CustomScripts.updateBackground(1061);&lt;/script&gt;]
(if: $floorInt is 11)[&lt;script&gt;CustomScripts.updateBackground(1161);&lt;/script&gt;]
(if: $floorInt is 12)[&lt;script&gt;CustomScripts.updateBackground(1261);&lt;/script&gt;]
(if: $floorInt is 13)[&lt;script&gt;CustomScripts.updateBackground(1361);&lt;/script&gt;]
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1461);&lt;/script&gt;]
(if: $floorInt is 15)[&lt;script&gt;CustomScripts.updateBackground(1561);&lt;/script&gt;]
(if: $floorInt is 16)[&lt;script&gt;CustomScripts.updateBackground(1661);&lt;/script&gt;]
(if: $floorInt is 17)[&lt;script&gt;CustomScripts.updateBackground(1761);&lt;/script&gt;]
(if: $floorInt is 18)[&lt;script&gt;CustomScripts.updateBackground(1861);&lt;/script&gt;]
(if: $floorInt is 19)[&lt;script&gt;CustomScripts.updateBackground(1961);&lt;/script&gt;]
(if: $floorInt is 20)[&lt;script&gt;CustomScripts.updateBackground(2061);&lt;/script&gt;]</tw-passagedata><tw-passagedata pid="12" name="decade eight" tags="" position="1700,1963" size="100,100">{
(set: $decadeNum to 8) 
(set: $limitDirection to $1Direction) 


(set: $decadeString to (str: $decadeNum))
($decadeRef:)

(set: $complexPhrase to $decadeString of ($fixComplexVocab:))
(set: $complexSentence to &quot;You are &quot; 
	+ 1st of ($complexPassageType:)
	+ &quot; &quot; 
	+ 2nd of ($complexPassageType:)
	+ &quot; &quot; 
	+ 3rd of ($complexPassageType:)
	+ &quot; somewhere &quot; 
	+ 1st of $complexPhrase
	+ &quot; &quot; 
	+ 2nd of $complexPhrase
	+ &quot; &quot;
	+ 3rd of $complexPhrase
	+ &quot; &quot;
	+ 4th of $complexPhrase
	)

&lt;!--ADJUSTABLES--&gt;
&lt;!--ADJUSTABLES--&gt;
&lt;!--ADJUSTABLES--&gt;


(set: $randomSeed to (str: $decadeRef) of $randomMaps)
(set: $randomSeed25 to $randomSeed) 
(set: $shortArcs to (str: $decadeRef) of $shortArcsDM)



&lt;!--SET UP--&gt;
&lt;!--SET UP--&gt;
&lt;!--SET UP--&gt;
(set: $inverseSprawl to 7)
(set: $passaginess to 5)
(set: $branchiness to 7)


(set: $branchList to (a: (a: (a: 0,0,0),(a: 0,0,0))))
(set: $currentRoom to 0)
(set: $currentPassage to 10)
(set: $thisBuild to 10) 
(set: $nodes to (a:)) 
(set: $stopValue to 25)
(set: $roomString to &quot;10&quot;)



&lt;!--the following datamap of arrays represents the exits from each locus. Each name is a string of the locus number and the corresponding value is the list of exits from that locus, each of which will be a triple that signifies the direction of exit--&gt; 
(set: $exitMap to (dm: &quot;0&quot;, (a:), &quot;10&quot;,(a:)))


(set: $coordMap to (dm: &quot;0&quot;, (a:), &quot;10&quot;,(a:)))

(set: $numberMap to (dm:))

(set: $seedIndex to 1)
(set: $seedIndex20 to 1)
(set: $seedIndex25 to 1)


&lt;!--RANDOM GENERATORS --&gt; 
&lt;!--RANDOM GENERATORS --&gt; 
&lt;!--RANDOM GENERATORS --&gt; 
&lt;!--RANDOM GENERATORS --&gt; 

(set: $getBinaryValue to (macro: [
	(set: _output to (nth: $seedIndex, 0,1,0,0,1,0,1,0,0,0,1,1,1,0,1,0,0))
	(if: $seedIndex &gt; 20) [(set: $seedIndex to 1)]
	(else:) [(set: $seedIndex +=1)]
	(output-data: _output)]))

(set: $getStableRandom20 to (macro: [
	(set: _output to (nth: $seedIndex20, ...$randomSeed))
	(if: $seedIndex &gt; 20) [(set: $seedIndex to 1)]
	(set: $seedIndex20 +=1)
	(output-data: _output)]))
	

(set: $mod to 
(macro: num-type _dividend, num-type _divisor, [
	(if: _divisor &lt; 0) [(error: &quot;divisor less than 0&quot;)]
	(if: _dividend &lt; 0) [(error: &quot;dividend less than 0&quot;)]
	(if: _divisor is 0) [(set: $modulus to 0)] 
	(else:)[
	(if: _divisor &gt; _dividend)[(set: $modulus to _dividend)]
	(else:) [($mod: _dividend - _divisor, _divisor)]
	]
	(output-data:&quot;&quot;) 
	]))
	
	
(set: $getRandomWithMax to 
(macro: num-type _limit, [
	(if: _limit &gt; 19)
		[(error:&quot;$getRandomWithMax cannot accept argument &gt;19&quot;)]
	(set: _starter to (nth: $seedIndex20, ...$randomSeed))
	(if: $seedIndex20 &gt; 40) [(set: $seedIndex to 1)]
	(else:) [(set: $seedIndex20 +=1)]
	($mod: _starter, _limit)
	(set: $randomWithMax to $modulus)
	(output-data: &quot;&quot;)
	]))

	

	
&lt;!--sets a stable random value from the range -1, 0, 1.--&gt;
(set: $getTernaryValue to (macro: [
	(set: _output to (nth: $seedIndex, 0,-1,0,1,-1,0,1,1,0,-1,1,1,-1,1,1,1,0))
	(if: $seedIndex &gt; 20) [(set: $seedIndex to 1)]
	(else:) [(set: $seedIndex +=1)]
	(output-data: _output)]))
		


(set: $makeRootArc to (macro: [
	(set: _from to (a: 0, 0, 0))
	(set: _to to ($getTernaryVector:)) 
	(output-data: _from + _to)]
	))
	
	
	
&lt;!--GET SHORTARCS --&gt; 
&lt;!--GET SHORTARCS --&gt; 
&lt;!--GET SHORTARCS --&gt; 
&lt;!--GET SHORTARCS --&gt;

(set: $getNextShortArc to 
(macro: [ 
	(set: _output to (nth: $seedIndex25, ...$shortArcs))
	(if: $seedIndex25 &gt; 25) [(set: $seedIndex25 to 1)]
	(else:) [(set: $seedIndex25 +=1)
		 ]
	(output-data: _output)]))
	

&lt;!--BUILD MAP --&gt;
&lt;!--BUILD MAP --&gt;
&lt;!--BUILD MAP --&gt;
($buildMap:) 

&lt;!--FIX START ROOM --&gt;
&lt;!--FIX START ROOM --&gt;
&lt;!--FIX START ROOM --&gt;
&lt;!--if the entrance is to the east, picks the eastmost room as the starting room, etc --&gt;

($findMostExtreme: $limitDirection)
(set: $theseCoords to $mostExtreme)
(set: $startCoords to $theseCoords) 
(set: $thisRoomsNumber to (str: $theseCoords) of $numberMap)

&lt;!--FIX COUNTERS AND VALUES --&gt;
&lt;!--FIX COUNTERS AND VALUES --&gt;
&lt;!--FIX COUNTERS AND VALUES --&gt;

(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)
(set: $wordIterator to 1)
($getExitVectors:)
($listExits: $exitVectors)


}
$complexSentence. You are at ($locusWord:) $thisRoomsNumber. 
(print: $directionText) 

(set: $returnText to &quot;You can also head back to the $1Direction into the [[$complexWord-&gt;main pathType lower]].&quot;) 
$returnText


(if: $floorInt is 0)[&lt;script&gt;CustomScripts.updateBackground(81);&lt;/script&gt;]
(if: $floorInt is 1)[&lt;script&gt;CustomScripts.updateBackground(181);&lt;/script&gt;]
(if: $floorInt is 2)[&lt;script&gt;CustomScripts.updateBackground(281);&lt;/script&gt;]
(if: $floorInt is 3)[&lt;script&gt;CustomScripts.updateBackground(381);&lt;/script&gt;]
(if: $floorInt is 4)[&lt;script&gt;CustomScripts.updateBackground(481);&lt;/script&gt;]
(if: $floorInt is 5)[&lt;script&gt;CustomScripts.updateBackground(581);&lt;/script&gt;]
(if: $floorInt is 6)[&lt;script&gt;CustomScripts.updateBackground(681);&lt;/script&gt;]
(if: $floorInt is 7)[&lt;script&gt;CustomScripts.updateBackground(781);&lt;/script&gt;]
(if: $floorInt is 8)[&lt;script&gt;CustomScripts.updateBackground(881);&lt;/script&gt;]
(if: $floorInt is 9)[&lt;script&gt;CustomScripts.updateBackground(981);&lt;/script&gt;]
(if: $floorInt is 10)[&lt;script&gt;CustomScripts.updateBackground(1081);&lt;/script&gt;]
(if: $floorInt is 11)[&lt;script&gt;CustomScripts.updateBackground(1181);&lt;/script&gt;]
(if: $floorInt is 12)[&lt;script&gt;CustomScripts.updateBackground(1281);&lt;/script&gt;]
(if: $floorInt is 13)[&lt;script&gt;CustomScripts.updateBackground(1381);&lt;/script&gt;]
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1481);&lt;/script&gt;]
(if: $floorInt is 15)[&lt;script&gt;CustomScripts.updateBackground(1581);&lt;/script&gt;]
(if: $floorInt is 16)[&lt;script&gt;CustomScripts.updateBackground(1681);&lt;/script&gt;]
(if: $floorInt is 17)[&lt;script&gt;CustomScripts.updateBackground(1781);&lt;/script&gt;]
(if: $floorInt is 18)[&lt;script&gt;CustomScripts.updateBackground(1881);&lt;/script&gt;]
(if: $floorInt is 19)[&lt;script&gt;CustomScripts.updateBackground(1981);&lt;/script&gt;]
(if: $floorInt is 20)[&lt;script&gt;CustomScripts.updateBackground(2081);&lt;/script&gt;]</tw-passagedata><tw-passagedata pid="13" name="outside d5" tags="" position="2135,1650" size="100,100">{
(set: $decadeSign5 to &quot;5&quot; of $decadeSigns)
(set: $thisRoomsNumber to -1) 

}
(background:black)[$mainSentence, which heads [[$4Direction-&gt;middle bar pathType]] from here. Otherwise, the only option is a $doorType $signIntro $decadeSign5 that goes from here to the [[$2Direction-&gt;decade five]].]

(if: $floorInt is 0)[&lt;script&gt;CustomScripts.updateBackground(0);&lt;/script&gt;]
(if: $floorInt is 1)[&lt;script&gt;CustomScripts.updateBackground(100);&lt;/script&gt;]
(if: $floorInt is 2)[&lt;script&gt;CustomScripts.updateBackground(200);&lt;/script&gt;]
(if: $floorInt is 3)[&lt;script&gt;CustomScripts.updateBackground(300);&lt;/script&gt;]
(if: $floorInt is 4)[&lt;script&gt;CustomScripts.updateBackground(400);&lt;/script&gt;]
(if: $floorInt is 5)[&lt;script&gt;CustomScripts.updateBackground(500);&lt;/script&gt;]
(if: $floorInt is 6)[&lt;script&gt;CustomScripts.updateBackground(600);&lt;/script&gt;]
(if: $floorInt is 7)[&lt;script&gt;CustomScripts.updateBackground(700);&lt;/script&gt;]
(if: $floorInt is 8)[&lt;script&gt;CustomScripts.updateBackground(800);&lt;/script&gt;]
(if: $floorInt is 9)[&lt;script&gt;CustomScripts.updateBackground(900);&lt;/script&gt;]
(if: $floorInt is 10)[&lt;script&gt;CustomScripts.updateBackground(1000);&lt;/script&gt;]
(if: $floorInt is 11)[&lt;script&gt;CustomScripts.updateBackground(1100);&lt;/script&gt;]
(if: $floorInt is 12)[&lt;script&gt;CustomScripts.updateBackground(1200);&lt;/script&gt;]
(if: $floorInt is 13)[&lt;script&gt;CustomScripts.updateBackground(1300);&lt;/script&gt;]
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1400);&lt;/script&gt;]
(if: $floorInt is 15)[&lt;script&gt;CustomScripts.updateBackground(1500);&lt;/script&gt;]
(if: $floorInt is 16)[&lt;script&gt;CustomScripts.updateBackground(1600);&lt;/script&gt;]
(if: $floorInt is 17)[&lt;script&gt;CustomScripts.updateBackground(1700);&lt;/script&gt;]
(if: $floorInt is 18)[&lt;script&gt;CustomScripts.updateBackground(1800);&lt;/script&gt;]
(if: $floorInt is 19)[&lt;script&gt;CustomScripts.updateBackground(1900);&lt;/script&gt;]
(if: $floorInt is 20)[&lt;script&gt;CustomScripts.updateBackground(2000);&lt;/script&gt;]
</tw-passagedata><tw-passagedata pid="14" name="decade nine" tags="" position="1567,1535" size="100,100">{
(set: $decadeNum to 9) 
(set: $limitDirection to $2Direction) 


(set: $decadeString to (str: $decadeNum))
($decadeRef:)

(set: $complexPhrase to $decadeString of ($fixComplexVocab:))
(set: $complexSentence to &quot;You are &quot; 
	+ 1st of ($complexPassageType:)
	+ &quot; &quot; 
	+ 2nd of ($complexPassageType:)
	+ &quot; &quot; 
	+ 3rd of ($complexPassageType:)
	+ &quot; somewhere &quot; 
	+ 1st of $complexPhrase
	+ &quot; &quot; 
	+ 2nd of $complexPhrase
	+ &quot; &quot;
	+ 3rd of $complexPhrase
	+ &quot; &quot;
	+ 4th of $complexPhrase
	)

&lt;!--ADJUSTABLES--&gt;
&lt;!--ADJUSTABLES--&gt;
&lt;!--ADJUSTABLES--&gt;


(set: $randomSeed to (str: $decadeRef) of $randomMaps)
(set: $randomSeed25 to $randomSeed) 
(set: $shortArcs to (str: $decadeRef) of $shortArcsDM)



&lt;!--SET UP--&gt;
&lt;!--SET UP--&gt;
&lt;!--SET UP--&gt;
(set: $inverseSprawl to 7)
(set: $passaginess to 5)
(set: $branchiness to 7)


(set: $branchList to (a: (a: (a: 0,0,0),(a: 0,0,0))))
(set: $currentRoom to 0)
(set: $currentPassage to 10)
(set: $thisBuild to 10) 
(set: $nodes to (a:)) 
(set: $stopValue to 25)
(set: $roomString to &quot;10&quot;)



&lt;!--the following datamap of arrays represents the exits from each locus. Each name is a string of the locus number and the corresponding value is the list of exits from that locus, each of which will be a triple that signifies the direction of exit--&gt; 
(set: $exitMap to (dm: &quot;0&quot;, (a:), &quot;10&quot;,(a:)))


(set: $coordMap to (dm: &quot;0&quot;, (a:), &quot;10&quot;,(a:)))

(set: $numberMap to (dm:))

(set: $seedIndex to 1)
(set: $seedIndex20 to 1)
(set: $seedIndex25 to 1)


&lt;!--RANDOM GENERATORS --&gt; 
&lt;!--RANDOM GENERATORS --&gt; 
&lt;!--RANDOM GENERATORS --&gt; 
&lt;!--RANDOM GENERATORS --&gt; 

(set: $getBinaryValue to (macro: [
	(set: _output to (nth: $seedIndex, 0,1,0,0,1,0,1,0,0,0,1,1,1,0,1,0,0))
	(if: $seedIndex &gt; 20) [(set: $seedIndex to 1)]
	(else:) [(set: $seedIndex +=1)]
	(output-data: _output)]))

(set: $getStableRandom20 to (macro: [
	(set: _output to (nth: $seedIndex20, ...$randomSeed))
	(if: $seedIndex &gt; 20) [(set: $seedIndex to 1)]
	(set: $seedIndex20 +=1)
	(output-data: _output)]))
	

(set: $mod to 
(macro: num-type _dividend, num-type _divisor, [
	(if: _divisor &lt; 0) [(error: &quot;divisor less than 0&quot;)]
	(if: _dividend &lt; 0) [(error: &quot;dividend less than 0&quot;)]
	(if: _divisor is 0) [(set: $modulus to 0)] 
	(else:)[
	(if: _divisor &gt; _dividend)[(set: $modulus to _dividend)]
	(else:) [($mod: _dividend - _divisor, _divisor)]
	]
	(output-data:&quot;&quot;) 
	]))
	
	
(set: $getRandomWithMax to 
(macro: num-type _limit, [
	(if: _limit &gt; 19)
		[(error:&quot;$getRandomWithMax cannot accept argument &gt;19&quot;)]
	(set: _starter to (nth: $seedIndex20, ...$randomSeed))
	(if: $seedIndex20 &gt; 40) [(set: $seedIndex to 1)]
	(else:) [(set: $seedIndex20 +=1)]
	($mod: _starter, _limit)
	(set: $randomWithMax to $modulus)
	(output-data: &quot;&quot;)
	]))

	

	
&lt;!--sets a stable random value from the range -1, 0, 1.--&gt;
(set: $getTernaryValue to (macro: [
	(set: _output to (nth: $seedIndex, 0,-1,0,1,-1,0,1,1,0,-1,1,1,-1,1,1,1,0))
	(if: $seedIndex &gt; 20) [(set: $seedIndex to 1)]
	(else:) [(set: $seedIndex +=1)]
	(output-data: _output)]))
		


(set: $makeRootArc to (macro: [
	(set: _from to (a: 0, 0, 0))
	(set: _to to ($getTernaryVector:)) 
	(output-data: _from + _to)]
	))
	
	
	
&lt;!--GET SHORTARCS --&gt; 
&lt;!--GET SHORTARCS --&gt; 
&lt;!--GET SHORTARCS --&gt; 
&lt;!--GET SHORTARCS --&gt;

(set: $getNextShortArc to 
(macro: [ 
	(set: _output to (nth: $seedIndex25, ...$shortArcs))
	(if: $seedIndex25 &gt; 25) [(set: $seedIndex25 to 1)]
	(else:) [(set: $seedIndex25 +=1)
		 ]
	(output-data: _output)]))
	

&lt;!--BUILD MAP --&gt;
&lt;!--BUILD MAP --&gt;
&lt;!--BUILD MAP --&gt;
($buildMap:) 

&lt;!--FIX START ROOM --&gt;
&lt;!--FIX START ROOM --&gt;
&lt;!--FIX START ROOM --&gt;
&lt;!--if the entrance is to the east, picks the eastmost room as the starting room, etc --&gt;

($findMostExtreme: $limitDirection)
(set: $theseCoords to $mostExtreme)
(set: $startCoords to $theseCoords) 
(set: $thisRoomsNumber to (str: $theseCoords) of $numberMap)

&lt;!--FIX COUNTERS AND VALUES --&gt;
&lt;!--FIX COUNTERS AND VALUES --&gt;
&lt;!--FIX COUNTERS AND VALUES --&gt;

(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)
(set: $wordIterator to 1)
($getExitVectors:)
($listExits: $exitVectors)


}
$complexSentence. You are at ($locusWord:) $thisRoomsNumber. 
(print: $directionText) 

(set: $returnText to &quot;You can also head back to the $2Direction into the [[$complexWord-&gt;main pathType upper]].&quot;) 
$returnText


(if: $floorInt is 0)[&lt;script&gt;CustomScripts.updateBackground(91);&lt;/script&gt;]
(if: $floorInt is 1)[&lt;script&gt;CustomScripts.updateBackground(191);&lt;/script&gt;]
(if: $floorInt is 2)[&lt;script&gt;CustomScripts.updateBackground(291);&lt;/script&gt;]
(if: $floorInt is 3)[&lt;script&gt;CustomScripts.updateBackground(391);&lt;/script&gt;]
(if: $floorInt is 4)[&lt;script&gt;CustomScripts.updateBackground(491);&lt;/script&gt;]
(if: $floorInt is 5)[&lt;script&gt;CustomScripts.updateBackground(591);&lt;/script&gt;]
(if: $floorInt is 6)[&lt;script&gt;CustomScripts.updateBackground(691);&lt;/script&gt;]
(if: $floorInt is 7)[&lt;script&gt;CustomScripts.updateBackground(791);&lt;/script&gt;]
(if: $floorInt is 8)[&lt;script&gt;CustomScripts.updateBackground(891);&lt;/script&gt;]
(if: $floorInt is 9)[&lt;script&gt;CustomScripts.updateBackground(991);&lt;/script&gt;]
(if: $floorInt is 10)[&lt;script&gt;CustomScripts.updateBackground(1091);&lt;/script&gt;]
(if: $floorInt is 11)[&lt;script&gt;CustomScripts.updateBackground(1191);&lt;/script&gt;]
(if: $floorInt is 12)[&lt;script&gt;CustomScripts.updateBackground(1291);&lt;/script&gt;]
(if: $floorInt is 13)[&lt;script&gt;CustomScripts.updateBackground(1391);&lt;/script&gt;]
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1491);&lt;/script&gt;]
(if: $floorInt is 15)[&lt;script&gt;CustomScripts.updateBackground(1591);&lt;/script&gt;]
(if: $floorInt is 16)[&lt;script&gt;CustomScripts.updateBackground(1691);&lt;/script&gt;]
(if: $floorInt is 17)[&lt;script&gt;CustomScripts.updateBackground(1791);&lt;/script&gt;]
(if: $floorInt is 18)[&lt;script&gt;CustomScripts.updateBackground(1891);&lt;/script&gt;]
(if: $floorInt is 19)[&lt;script&gt;CustomScripts.updateBackground(1991);&lt;/script&gt;]
(if: $floorInt is 20)[&lt;script&gt;CustomScripts.updateBackground(2091);&lt;/script&gt;]</tw-passagedata><tw-passagedata pid="15" name="Elevator" tags="" position="1554,1116" size="100,100">

You are in an elevator. The dial permits you to choose any floor from 0 through 20. Please input the floor you desire.  
&lt;input type=&quot;text&quot; data-varname=&quot;floorString&quot;&gt;
&lt;script&gt;processInputElements();&lt;/script&gt;

(link-goto: &quot;Done&quot;)
</tw-passagedata><tw-passagedata pid="16" name="main pathType top corner" tags="" position="1706,1270" size="100,100">{
($fixDirection: $floorInt)
(set: $1Direction to 1st of $directions)
(set: $2Direction to 2nd of $directions)
(set: $3Direction to 3rd of $directions)
(set: $4Direction to 4th of $directions)
(set: $doorPhraseA to 1st of $doorTypes + &quot; &quot; + 2nd of $doorTypes + &quot; &quot; + 3rd of $doorTypes + &quot; &quot;)
(set: $doorPhraseB to 4th of $doorTypes + &quot; &quot; + $complexWord)
(set: $pathType to 3rd of $nexusPassage)
(set: $decadeSign to &quot;0&quot; of $decadeSigns)
(set: $doorType to 3rd of $doorTypes)
(set: $thisRoomsNumber to -1) 
}

(background:black)[$mainSentence. ($capitalize: ($plural: $pathType)) lead [[$2Direction-&gt;top bar pathType]] and [[$3Direction-&gt;main pathType upper]] from here. You can also exit [[$1Direction-&gt;decade zero]] $doorPhraseA $signIntro $decadeSign $doorPhraseB, or step $4Direction into the [[Elevator]]. ]

(if: $floorInt is 0)[&lt;script&gt;CustomScripts.updateBackground(0);&lt;/script&gt;]
(if: $floorInt is 1)[&lt;script&gt;CustomScripts.updateBackground(100);&lt;/script&gt;]
(if: $floorInt is 2)[&lt;script&gt;CustomScripts.updateBackground(200);&lt;/script&gt;]
(if: $floorInt is 3)[&lt;script&gt;CustomScripts.updateBackground(300);&lt;/script&gt;]
(if: $floorInt is 4)[&lt;script&gt;CustomScripts.updateBackground(400);&lt;/script&gt;]
(if: $floorInt is 5)[&lt;script&gt;CustomScripts.updateBackground(500);&lt;/script&gt;]
(if: $floorInt is 6)[&lt;script&gt;CustomScripts.updateBackground(600);&lt;/script&gt;]
(if: $floorInt is 7)[&lt;script&gt;CustomScripts.updateBackground(700);&lt;/script&gt;]
(if: $floorInt is 8)[&lt;script&gt;CustomScripts.updateBackground(800);&lt;/script&gt;]
(if: $floorInt is 9)[&lt;script&gt;CustomScripts.updateBackground(900);&lt;/script&gt;]
(if: $floorInt is 10)[&lt;script&gt;CustomScripts.updateBackground(1000);&lt;/script&gt;]
(if: $floorInt is 11)[&lt;script&gt;CustomScripts.updateBackground(1100);&lt;/script&gt;]
(if: $floorInt is 12)[&lt;script&gt;CustomScripts.updateBackground(1200);&lt;/script&gt;]
(if: $floorInt is 13)[&lt;script&gt;CustomScripts.updateBackground(1300);&lt;/script&gt;]
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1400);&lt;/script&gt;]
(if: $floorInt is 15)[&lt;script&gt;CustomScripts.updateBackground(1500);&lt;/script&gt;]
(if: $floorInt is 16)[&lt;script&gt;CustomScripts.updateBackground(1600);&lt;/script&gt;]
(if: $floorInt is 17)[&lt;script&gt;CustomScripts.updateBackground(1700);&lt;/script&gt;]
(if: $floorInt is 18)[&lt;script&gt;CustomScripts.updateBackground(1800);&lt;/script&gt;]
(if: $floorInt is 19)[&lt;script&gt;CustomScripts.updateBackground(1900);&lt;/script&gt;]
(if: $floorInt is 20)[&lt;script&gt;CustomScripts.updateBackground(2000);&lt;/script&gt;]







</tw-passagedata><tw-passagedata pid="17" name="Legacy Done" tags="" position="1552,1005" size="100,100">&lt;!--MAIN TEXT--&gt;
	(background:black)[The elevator shunts into life and you begin to move through the centuries...] 
	

{
&lt;!--1--&gt;
(ignore: (set: $floorInt to (num:$floorString)))
&lt;!--2--&gt;

(set: $optional to (macro: string-type _optional, [
	(output-data: (either: _optional, &#39;&#39;))
	]
	)
)



&lt;!--23--&gt;
(set: $fixDirection to 
	(macro: num-type _directionNum, 
	[
	(set: $directions to 
		(cond: 
		_directionNum is 0,(a:&#39;North&#39;,&#39;East&#39;,&#39;South&#39;,&#39;West&#39;),
		_directionNum is 1,(a: &#39;East&#39;,&#39;South&#39;,&#39;West&#39;,&#39;North&#39;),
		_directionNum is 2,(a: &#39;South&#39;,&#39;West&#39;,&#39;North&#39;,&#39;East&#39;),
		_directionNum is 3,(a: &#39;West&#39;,&#39;North&#39;,&#39;East&#39;,&#39;South&#39;),
		&#39;fail&#39;))
	(if: $directions is &#39;fail&#39;)
		[(set: $directions to ($fixDirection:_directionNum - 4))]
	(output-data: $directions)
	]
	)
)



		
&lt;!--3--&gt;
&lt;!-- Alternate NP generator. Fixes the alternate sentence structure with forced prep to give a context sentence upon exiting the elevator--&gt;
(set: $NPplus to (macro: num-type _nounIndex, [
			($setVocab:)
			(set: $altIndex to 1)
			(set: _output to 
				($detNP: _nounIndex) +
				&#39; &#39; + ($prepPH: _nounIndex)
				)
			(output-data: _output)
				]				
				)
				)

&lt;!-- RANDOM NP generator. Takes two numbers as input. These keep track of the level of grammatical depth (1 is the main clause). It passes them to other parts of speech to coordinate everything. --&gt;
&lt;!--4--&gt;
(set: $NPandPrep to (macro: num-type _nounIndex, [
			($setVocab:)
			(set: $altIndex to (either: 0,1))
			(set: _output to 
				($detNP: _nounIndex) +
				($optional: &#39; &#39; + ($prepPH: _nounIndex))
				)
			(output-data: _output)
				]				
				)
				)
		
		
		
&lt;!-- Takes the nounindex and determines the NP+ first then, if the determiner is not definite, checks the first letter of the np. If it&#39;s a vowel, it returns &#39;an&#39; + the NP. Else, it returns &#39;a&#39; plus the NP.--&gt;
&lt;!--5--&gt;
(set: $detNP to (macro: num-type _nounIndex, [
	(set: _determiner to ($det: _nounIndex))
	(set: _noDeterminer to
		($optional: 
			($adjPH: _nounIndex) + &#39; &#39;) +
		($noun: _nounIndex)
	)
	(set: _output to (cond: 
		_determiner is &#39;the&#39;, &#39;the&#39; + &#39; &#39; + _noDeterminer,
		_determiner is &#39;&#39;, _noDeterminer,
		($appendIndefinite: _noDeterminer)
	))
	(output-data: _output)
			]
)
)

(set: $appendIndefinite to (macro: str-type _noDeterminer, [
	(set: _noDeterminer to (cond: 
		_noDeterminer&#39;s 1st is &#39; &#39;, (substring: _noDeterminer, 2, -1),
		_noDeterminer))
	(set: _output to (cond: 
		_noDeterminer&#39;s 1st is &#39;a&#39;, &#39;an &#39; + _noDeterminer,
		_noDeterminer&#39;s 1st is &#39;e&#39;, &#39;an &#39; + _noDeterminer,
		_noDeterminer&#39;s 1st is &#39;i&#39;, &#39;an &#39; + _noDeterminer,
		_noDeterminer&#39;s 1st is &#39;o&#39;, &#39;an &#39; + _noDeterminer,
		_noDeterminer&#39;s 1st is &#39;u&#39;, &#39;an &#39; + _noDeterminer,
		&#39;a &#39; + _noDeterminer))
	(output-data: _output)
	]
	))


&lt;!--6--&gt;
&lt;!--i think this is no longer used. Test and remove. --&gt;
(set: $NP to (macro: num-type _nounIndex, [
	(set: _output to
			($det: _nounIndex) +
			($optional: 
				&#39; &#39; + 
				($adjPH: _nounIndex)) + 
			&#39; &#39; + 
			($noun: _nounIndex)
	)
	(output-data: _output)
			]
)
)

&lt;!--7--&gt;
(set: $adjPH to (macro: num-type _adjIndex, [
	(set: _output to 
		($optional: ($subAdjPH: _adjIndex +10) + &#39; &#39;) +
		($subAdjPH: _adjIndex)
		)
	(output-data: _output)
	]
	)
	)

&lt;!--8--&gt;
(set: $subAdjPH to (macro: num-type _adjIndex, [
	(set: _output to
		($optional: ($adv: _adjIndex) + &#39; &#39;) +
		($adj: _adjIndex) 
		)
	(output-data: _output)	
		]
		)
		)
	

&lt;!--PREPOSITIONAL PHRASES--&gt;
&lt;!--MAX DEPTH--&gt;
&lt;!--sets the max recursion depth by level--&gt;
&lt;!--maxDepth should be set to one less than the highest noun index--&gt;

&lt;!--9--&gt;


&lt;!--tester that takes a prep index and returns a simple prepositional phrase if the prep index is high. Otherwise, returns a complex prepositional phrase.--&gt;
&lt;!--10--&gt;
(set: $prepPH to (macro: num-type _prepIndex, [
	(set: _output to (cond: 
		_prepIndex is $maxDepth, ($simplePrep: _prepIndex),
		($complexPrep: _prepIndex)
		)
		)
	(output-data: _output)
	]
	)
	)

&lt;!--assigns the prep with the right prepindex to introduce the NP with level one higher--&gt;
&lt;!--11--&gt;
(set: $simplePrep to (macro: num-type _prepIndex,[
		(set: _output to 
			($prep: _prepIndex) + 
			&#39; &#39; +
			($NP: _prepIndex + 1)
			)
		(output-data: _output)
		]
		)
		)

&lt;!--provides three alternatives: basic prep, basic prep plus a clause, alt prep --&gt;
&lt;!--12--&gt;
(set: $complexPrep to (macro: num-type _prepIndex, [
	(set: _output to 
			($prep: _prepIndex) +
			&#39; &#39; +
			($NP: _prepIndex + 1) +
			&#39; &#39; +
			($optional: ($prep: _prepIndex +1) +
					&#39; &#39; +
					($NP: _prepIndex + 2)
			)
		)
	(output-data: _output)
	]
	)
)

(set: $codePage to (cond: 
	$floorInt is 0, &#39;0code&#39;,
	$floorInt is 1, &#39;1code&#39;,
	$floorInt is 2, &#39;2code&#39;,
	$floorInt is 3, &#39;3code&#39;,
	$floorInt is 4, &#39;4code&#39;,
	$floorInt is 5, &#39;5code&#39;,
	$floorInt is 6, &#39;6code&#39;,
	$floorInt is 7, &#39;7code&#39;,
	$floorInt is 8, &#39;8code&#39;,
	$floorInt is 9, &#39;9code&#39;,
	$floorInt is 10, &#39;10code&#39;,
	$floorInt is 11, &#39;11code&#39;,
	$floorInt is 12, &#39;12code&#39;,
	$floorInt is 13, &#39;13code&#39;,
	$floorInt is 14, &#39;14code&#39;,
	$floorInt is 15, &#39;15code&#39;,
	$floorInt is 16, &#39;16code&#39;,
	$floorInt is 17, &#39;17code&#39;,
	$floorInt is 18, &#39;18code&#39;,
	$floorInt is 19, &#39;19code&#39;,
	$floorInt is 20, &#39;20code&#39;,
	&quot;Error. Unrecognized code page.&quot;))
	




&lt;!--22--&gt;
(set: $occupyingP to 
	(macro: 
		[
		(set: _output to (cond: 
		(a: 0,2,3,8,19) contains $floorInt, &#39;in&#39;,
		&#39;on&#39;
			))
		(output-data: _output)
		]
	)
)





&lt;!--24--&gt;
(set: $hundreds to ($floorInt * 100))
(if: $hundreds is 0)
	[(set: $hundredstring to &quot;the first century a.d.&quot;)]
(else:) [(set: $hundredstring to &#39;the&#39; + (string: $hundreds) + &#39;s&#39;)]


(set: $1Direction to ($fixDirection: $floorInt)&#39;s 1st)
(set: $2Direction to $directions&#39;s 2nd)
(set: $3Direction to $directions&#39;s 3rd)
(set: $4Direction to $directions&#39;s 4th)




}
At last the elevator [[comes to a halt-&gt;$codePage]]. 

</tw-passagedata><tw-passagedata pid="18" name="0code" tags="" position="1553,1233" size="100,100">{
&lt;!--maxDepth should be set to one less than the highest noun index--&gt;
(set: $maxDepth to 2)

&lt;!--VOCAB PREPOSITION MACRO --&gt;
&lt;!--13--&gt;
(set: $prep to (macro: num-type _prepIndex, [
	(set: $attributes to (a: _prepIndex, $altIndex))
	(set: _output to (cond: 
		$attributes matches (a: 1,0), $dugTunnel,
		$attributes matches (a: 1,1), $inTunnel,
		$attributes matches (a: 2,1), &#39;of&#39;,
				&#39;&#39;))
			(output-data: _output)
	]
	))







&lt;!--VOCAB DETERMINER MACRO --&gt;
&lt;!--14--&gt;

		
(set: $det to (macro: num-type _nounIndex, [
	(set: $attributes to (a: _nounIndex, $altIndex))
	(set: _output to (cond: 
		$attributes matches (a: 1,num), &#39;a&#39;,
		$attributes matches (a: 2,num), &#39;the&#39;,
		$attributes matches (a: 3,1), &#39;&#39;,
			&#39;&#39;))
	(output-data: _output)
	]
	))	
		

	
&lt;!--VOCAB NOUN MACRO --&gt;
&lt;!--15--&gt;


(set: $noun to (macro: num-type _nounIndex,[
	(set: $attributes to (a: _nounIndex, $altIndex))
	(set: _output to (cond: 
		$attributes matches (a: 1,0), $tunnel,
		$attributes matches (a: 1,1), $tunnel,
		$attributes matches (a: 2,0), $ground,
		$attributes matches (a: 2,1), &#39;catacombs&#39;,
		$attributes matches (a: 3,1), &#39;Callixtus&#39;,
		&#39;&#39;))
		(output-data: _output)
	]
	))
	
	
	
&lt;!--VOCAB ADJECTIVE MACRO --&gt;
&lt;!--16--&gt;
(set: $adj to (macro: num-type _adjIndex, [
	(set: $attributes to (a: _adjIndex, $altIndex))
	(set: _output to (cond: 
		$attributes matches (a: 1,num), $hot,
		$attributes matches (a: 2,num), $sandy,
		$attributes matches (a: 12,num), $dusty,
		$attributes matches (a: 2,1), $cataKind,
				&#39;&#39;))
		(output-data: _output)
	]
	))	
		

	
&lt;!--VOCAB ADVERB MACRO --&gt;
&lt;!--17--&gt;
(set: $adv to (macro: num-type _advIndex, [
	(set: $attributes to (a: _advIndex, $altIndex))
	(set: _output to (cond: 
		$attributes matches (a: 1,num), $hotAdv,
		&#39;&#39;))
	(output-data: _output)
	]
	))




&lt;!--19--&gt;
(set: $setVocab to (macro: [
	(set: $hotAdv to (either: 
		&#39;sweltering&#39;, &#39;baking&#39;, &#39;searing&#39;, 
		&#39;blazing&#39;, &#39;blistering&#39;, &#39;boiling&#39;, &#39;roasting&#39;))
	(set: $hot to &#39;hot&#39;)
	(set: $ground to (either: 
		&#39;ground&#39;, &#39;earth&#39;, &#39;land&#39;, &#39;soil&#39;, &#39;terrain&#39;))
	(set: $tunnel to (either:
		&#39;tunnel&#39;,&#39;underground passage&#39;))
	(set: $dugTunnel to (either: 
		&#39;dug through&#39;,&#39;bored through&#39;,&#39;excavated from&#39;,
		&#39;quarried from&#39;,&#39;gouged out of&#39;,&#39;burrowed from&#39;))
	(set: $dusty to (either: 
		&#39;dusty&#39;, &#39;gritty&#39;, &#39;crumbly&#39;, &#39;friable&#39;))
	(set: $sandy to (either:
		&#39;sandy&#39;, &#39;sandstone&#39;, &#39;desert&#39;, &#39;dry&#39;))
	(set: $inTunnel to (either: 
		&#39;in&#39;,&#39;somewhere in&#39;,&#39;down in&#39;,&#39;within&#39;,&#39;somewhere within&#39;))
	(set: $cataKind to (either: 
		&#39;Roman&#39;, &#39;Christian&#39;))
	(output-data:&#39;&#39;)
	]
	)
	)
	
(set: $signIntro to &quot;with a sign that says &quot;)
(set: $passageType to &#39;tunnel&#39;)
(set: $doorType to &#39;stairwell&#39;)
(set: $complexWord to &quot;catacombs&quot;)

(set: $decadeSign to (macro: num-type _input, [
	(set: _output to &quot;&quot; + ($romanDecades: _input) + &quot;&quot;)
	(output-data: _output)
	]
	)
	)

(set: $levelSentence to (macro: [
	(set: $mainSentence to &quot;You are &quot; + ($occupyingP:) + &quot; &quot; + ($NPplus: 1))
	(output-data: $mainSentence)
	]
	)
	)
	
(set: $altLevelSentence to (macro: [
	(set: $mainSentence to &quot;You are at one end of &quot; + ($NPplus: 1))
	(output-data: $mainSentence)
	]
	)
	)
	
	
}

The elevator doors open onto $hundredstring and you [[step out -&gt;main pathType top corner]].

</tw-passagedata><tw-passagedata pid="19" name="$codePage" tags="" position="1330,997" size="100,100">This is a dummy page generated by the use of a variable for a link. </tw-passagedata><tw-passagedata pid="20" name="1code" tags="" position="1428,1226" size="100,100">{
&lt;!--maxDepth should be set to one less than the highest noun index--&gt;
(set: $maxDepth to 3)

(set: $prep to (macro: num-type _prepIndex, [
	(set: $attributes to (a: _prepIndex, $altIndex))
	(set: _output to (cond: 
		$attributes matches (a: 1,0), &#39;with&#39;,
		$attributes matches (a: 2,0), $setAgainst,
		$attributes matches (a: 3,0), &#39;of&#39;,
		$attributes matches (a: 1,1), &#39;on&#39;,
		$attributes matches (a: 2,1), &#39;in&#39;,
		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $det to (macro: num-type _nounIndex, [
	(set: $attributes to (a: _nounIndex, $altIndex))
	(set: _output to (cond: 		
		$attributes matches (a: 2,0), &#39;&#39;,
		$attributes matches (a: 2,1), &#39;the&#39;,
		$attributes matches (a: 3,0), &#39;the&#39;,
		$attributes matches (a: 4,0), &#39;&#39;,
			&#39;&#39;))
	(output-data: _output)
	]
	))

(set: $noun to (macro: num-type _nounIndex,[
(set: $attributes to (a: _nounIndex, $altIndex))	
	(set: _output to (cond:
		$attributes matches (a: 1,num), $street,
		$attributes matches (a: 2,1), $forum,
		$attributes matches (a: 3,1), $rome,
		$attributes matches (a: 2,0), $stalls,
		$attributes matches (a: 3,0), $insulaeWalls,
		$attributes matches (a: 4,0), $insulae,
		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $adj to (macro: num-type _adjIndex, [
	(set: $attributes to (a: _adjIndex, $altIndex))
	(set: _output to (cond: 		
		$attributes matches (a: 1,num), $market,
		$attributes matches (a: 11,num), $bustling,
		$attributes matches (a: 3,1), $romeMod,
		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $adv to (macro: num-type _advIndex, [
	(output-data: &#39;&#39;)
	]
	))

&lt;!--20--&gt;
(set: $setVocab to (macro: [
	(set: $bustling to (either: 
		&#39;bustling&#39;, &#39;busy&#39;, &#39;crowded&#39;, &#39;teeming&#39;, 
		&#39;thronged&#39;, &#39;buzzing&#39;, &#39;hectic&#39;, &#39;lively&#39;))
	(set: $market to &#39;market&#39;)
	(set: $street to &#39;street&#39;)
	(set: $with to &#39;with&#39;)
	(set: $stalls to (either:
		&#39;stands&#39;, &#39;stalls&#39;, &#39;counters&#39; ))
	(set: $setAgainst to (either:&#39;set against&#39;, &#39;leaning against&#39;, &#39;put up along&#39;, &#39;erected against&#39;,&#39;shoved up against&#39;))
	(set: $insulaeWalls to  (either: &#39;walls&#39;,&#39;sides&#39;))
	(set: $mudBricked to &#39;mud-brick&#39;)
	(set: $squalid to (either: 
		&#39;squalid&#39;, &#39;ugly&#39;, &#39;wretched&#39;, &#39;run down&#39;, &#39;scruffy&#39;, &#39;ramshackle&#39;, &#39;crumbling&#39;))
	(set: $insulae to (either: 
		&#39;insulae&#39;, &#39;tenements&#39;))
	(set: $forum to (either: &#39;forum&#39;, &#39;forum boarium&#39;))
	(set: $in to &#39;in&#39;)
	(set: $romeMod to (either: &#39;ancient&#39;, &#39;central&#39;, &#39;downtown&#39;))
	(set: $rome to &#39;Rome&#39;)
	
	(output-data:&#39;&#39;)
	]
	)
	)
	
(set: $passageType to &#39;street&#39;)
(set: $doorType to &#39;alley&#39;)
}
The elevator doors open onto $hundredstring and you [[step out -&gt;main pathType top corner]].

(set: $levelSentence to (macro: [
	(set: $mainSentence to &quot;You are &quot; + ($occupyingP:) + &quot; &quot; + ($NPplus: 1))
	(output-data: $mainSentence)
	]
	)
	)
	
(set: $altLevelSentence to (macro: [
	(set: $mainSentence to &quot;You are at one end of &quot; + ($NPplus: 1))
	(output-data: $mainSentence)
	]
	)
	)</tw-passagedata><tw-passagedata pid="21" name="2code" tags="" position="1553,1343" size="100,100">{
&lt;!--maxDepth should be set to one less than the highest noun index--&gt;
(set: $maxDepth to 1)

(set: $prep to (macro: num-type _prepIndex, [
	(set: $attributes to (a: _prepIndex, $altIndex))
	(set: _output to (cond: 
		$attributes matches (a: 1,1), &#39;of&#39;,
		$attributes matches (a: 1,0), &#39;near&#39;,
		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $det to (macro: num-type _nounIndex, [
	(set: $attributes to (a: _nounIndex, $altIndex))
	(set: _output to (cond: 		
		$attributes matches (a: 1,0), &#39;a&#39;,
		$attributes matches (a: 1,1), &#39;the&#39;,
		$attributes matches (a: 2,num), &#39;&#39;,
			&#39;&#39;))
	(output-data: _output)
	]
	))

(set: $noun to (macro: num-type _nounIndex,[
(set: $attributes to (a: _nounIndex, $altIndex))	
	(set: _output to (cond:
		$attributes matches (a: 1,0), $garden,
		$attributes matches (a: 1,1), &#39;gardens&#39;,
		$attributes matches (a: 2,0), $rome,
		$attributes matches (a: 2,1), $Lucullus,
		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $adj to (macro: num-type _adjIndex, [
	(set: $attributes to (a: _adjIndex, $altIndex))
	(set: _output to (cond: 		
		$attributes matches (a: 1,num), $gardenMod,
		$attributes matches (a: 11,num), $peaceful,
		$attributes matches (a: 2,0), $romeMod,
		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $adv to (macro: num-type _advIndex, [
	(output-data: &#39;&#39;)
	]
	))

&lt;!--20--&gt;
(set: $setVocab to (macro: [
	(set: $peaceful to (either: 
		&#39;peaceful&#39;, &#39;tranquil&#39;, &#39;serene&#39;, &#39;private&#39;,&#39;restful&#39;, 
		&#39;quiet&#39;))
	(set: $gardenMod to (either: &#39;water&#39;,&#39;Persian&#39;,&#39;fountain&#39;,&#39;water font&#39;,&#39;reservoir&#39;, &#39;Persio-Roman&#39;))
	(set: $garden to &#39;garden&#39;)
	(set: $gardens to &#39;gardens&#39;)
	(set: $Lucullus to (either: &#39;Lucullus&#39;, &#39;Lucius Licinius Lucullus&#39;))
	(set: $romeMod to (either: &#39;ancient&#39;, &#39;the capital of the empire of&#39;))
	(set: $rome to &#39;Rome&#39;)
	(output-data:&#39;&#39;)
	]
	)
	)
	
(set: $passageType to &#39;path&#39;)
(set: $doorType to &#39;gate&#39;)
}
The elevator doors open onto $hundredstring and you [[step out -&gt;main pathType top corner]].</tw-passagedata><tw-passagedata pid="22" name="3code" tags="" position="1438,1345" size="100,100">{
&lt;!--maxDepth should be set to one less than the highest noun index--&gt;
(set: $maxDepth to 2)

(set: $prep to (macro: num-type _prepIndex, [
	(set: $attributes to (a: _prepIndex, $altIndex))
	(set: _output to (cond: 
		$attributes matches (a: 1,1), &#39;of&#39;,
		$attributes matches (a: 1,0), &#39;with&#39;,
		$attributes matches (a: 1,0), $decorated + &#39; with&#39;,
		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $det to (macro: num-type _nounIndex, [
	(set: $attributes to (a: _nounIndex, $altIndex))
	(set: _output to (cond: 		
		$attributes matches (a: 1,0), &#39;a&#39;,
		$attributes matches (a: 1,1), &#39;the&#39;,
		$attributes matches (a: 2,num), &#39;&#39;,
			&#39;&#39;))
	(output-data: _output)
	]
	))

(set: $noun to (macro: num-type _nounIndex,[
(set: $attributes to (a: _nounIndex, $altIndex))	
	(set: _output to (cond:
		$attributes matches (a: 1,num), $villa,
		$attributes matches (a: 2,0), $walls,
		$attributes matches (a: 2,1), $Livia,
		$attributes matches (a: 3,0), $frescoes,
		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $adj to (macro: num-type _adjIndex, [
	(set: $attributes to (a: _adjIndex, $altIndex))
	(set: _output to (cond: 		
		$attributes matches (a: 1,num), $Roman,
		$attributes matches (a: 11,num), $lavish,
		$attributes matches (a: 2,0), $paneled,
		$attributes matches (a: 12,0), $marble,
		$attributes matches (a: 12,0), $expensive,

		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $adv to (macro: num-type _advIndex, [
	(output-data: &#39;&#39;)
	]
	))

&lt;!--20--&gt;
(set: $setVocab to (macro: [
	(set: $decorated to (either: 
		&#39;decorated&#39;, &#39;bedecked&#39;, &#39;ornamented&#39;, &#39;adorned&#39;,&#39;embellished&#39;, 
		&#39;festooned&#39;))
	(set: $villa to (either: &#39;villa&#39;,&#39;house&#39;,&#39;home&#39;,&#39;residence&#39;))
	(set: $walls to &#39;walls&#39;)
	(set: $Livia to &#39;Livia and Augustus&#39;)
	(set: $frescoes to (either: &#39;frescoes&#39;, &#39;mosaics&#39;, &#39;tapestries&#39;,&#39;paintings&#39;,&#39;sculptures&#39;))
	(set: $Roman to (either: &#39;Roman&#39;, &#39;imperial&#39;))
	(set: $lavish to (either: &#39;lavish&#39;, &#39;sumptuous&#39;, &#39;luxurious&#39;, &#39;opulent&#39;, &#39;grand&#39;, &#39;splendid&#39;))
	(set: $paneled to (either: &#39;paneled&#39;, &#39;stuccoed&#39;, &#39;tiled&#39;))
	(set: $marble to (either: &#39;marble&#39;, &#39;ceramic&#39;))
	(set: $expensive to (either: &#39;expensive&#39;, &#39;valuable&#39;, &#39;priceless&#39;))


	(output-data:&#39;&#39;)
	]
	)
	)
	
(set: $passageType to &#39;hallway&#39;)
(set: $doorType to &#39;doorway&#39;)
}
The elevator doors open onto $hundredstring and you [[step out -&gt;main pathType top corner]].</tw-passagedata><tw-passagedata pid="23" name="4code" tags="" position="1326,1343" size="100,100">{
&lt;!--maxDepth should be set to one less than the highest noun index--&gt;
(set: $maxDepth to 3)

(set: $prep to (macro: num-type _prepIndex, [
	(set: $attributes to (a: _prepIndex, $altIndex))
	(set: _output to (cond: 
		$attributes matches (a: 1, num), &#39;through&#39;,
		$attributes matches (a: 2,0), (either: $surrounded + &#39; by&#39;, &#39;standing &#39; + $amid),
		$attributes matches (a: 3,0), &#39;and&#39;,
		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $det to (macro: num-type _nounIndex, [
	(set: $attributes to (a: _nounIndex, $altIndex))
	(set: _output to (cond: 		
		$attributes matches (a: 1,num), &#39;a&#39;,
		$attributes matches (a: 2,num), &#39;the&#39;,
		$attributes matches (a: 3,0), &#39;&#39;,
			&#39;&#39;))
	(output-data: _output)
	]
	))

(set: $noun to (macro: num-type _nounIndex,[
(set: $attributes to (a: _nounIndex, $altIndex))	
	(set: _output to (cond:
		$attributes matches (a: 1,num), &#39;path&#39;,
		$attributes matches (a: 2,0), $ruinsOfACity,
		$attributes matches (a: 2,1), $ruinsOfRome,
		$attributes matches (a: 3,0), $collapsingStructures,
		$attributes matches (a: 4,0), $chunksOfStuff,
		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $adj to (macro: num-type _adjIndex, [
	(set: $attributes to (a: _adjIndex, $altIndex))
	(set: _output to (cond: 		
		$attributes matches (a: 2,num), $crumbling,
		$attributes matches (a: 3,0), $columnar,
		$attributes matches (a: 13,0), $collapsed,
		$attributes matches (a: 4,0), $broken,

		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $adv to (macro: num-type _advIndex, [
	(output-data: &#39;&#39;)
	]
	))


&lt;!--20--&gt;
&lt;!--These settings are included in a macro so that they get set afresh every time the macro is called by the sentence builder. Produces variation.--&gt;  
(set: $setVocab to (macro: [
	(set: $surrounded to (either: 
		&#39;surrounded&#39;, &#39;encircled&#39;, &#39;girdled&#39;))
	(set: $ruins to (either: &#39;ruins&#39;,&#39;ruins&#39;,&#39;remnants&#39;,&#39;remains&#39;,&#39;rubble&#39;,&#39;wreckage&#39;, &#39;desolation&#39;))
	(set: $amid to (either: &#39;amid&#39;, &#39;amidst&#39;,&#39;in the midst of&#39;,&#39;amongst&#39;))
	(set: $city to (either: &#39;city&#39;, &#39;metropolis&#39;))
	(set: $frescoes to (either: &#39;frescoes&#39;, &#39;mosaics&#39;, &#39;tapestries&#39;,&#39;paintings&#39;,&#39;sculptures&#39;))
	(set: $Rome to (either: &#39;Rome&#39;, &#39;Rome&#39;, &#39;Rome&#39;, &#39;the Eternal City&#39;, &#39;the city of Romulus&#39;, &#39;the Caput Mundi&#39;, &#39;the city of the seven hills&#39;))
	(set: $structures to (either: &#39;structures&#39;, &#39;structures&#39;, &#39;buildings&#39;, &#39;edifices&#39;))
	(set: $chunks to (either: &#39;chunks&#39;, &#39;hunks&#39;, &#39;lumps&#39;, &#39;slabs&#39;))
	(set: $crumbling to (either: &#39;crumbling&#39;, &#39;disintegrating&#39;, &#39;collapsing&#39;, &#39;decaying&#39;, &#39;perishing&#39;))
	(set: $cityMod to (either: &#39;ancient&#39;, &#39;once great&#39;, &#39;once glorious&#39;, &#39;sacked&#39;, &#39;beaten&#39;, &#39;vanquished&#39;, &#39;defeated&#39;))
	(set: $columnar to (either: &#39;columnar&#39;, &#39;pillared&#39;, &#39;arched&#39;, &#39;domed&#39;))
	(set: $collapsed to (either: &#39;collapsed&#39;, &#39;caved&#39;, &#39;subsided&#39;, &#39;buckled&#39;, &#39;crumpled&#39;, &#39;slumped&#39;, &#39;saggy&#39;, &#39;crooked&#39;))
	(set: $broken to (either: &#39;broken&#39;, &#39;smashed&#39;, &#39;fragmented&#39;, &#39;splintered&#39;, &#39;crushed&#39;, &#39;pulverised&#39;))
	(set: $material to (either: &#39;marble&#39;, &#39;stone&#39;, &#39;Roman concrete&#39;, &#39;statues&#39;, &#39;buildings&#39;, &#39;wall&#39;, &#39;road&#39;))
	(set: $ruinsOfACity to $ruins + &#39; of a &#39; + ($optional: $cityMod + &#39; &#39;) + $city)
	(set: $ruinsOfRome to $ruins + &#39; of &#39; + $Rome)
	(set: $chunksOfStuff to $chunks + &#39; of &#39; + $material)
	(set: $collapsingStructures to $collapsed + &#39; &#39; + $columnar + &#39; &#39; + $structures)

	(output-data:&#39;&#39;)
	]
	)
	)
	
(set: $passageType to &#39;pathway&#39;)
(set: $doorType to &#39;opening&#39;)
}
The elevator doors open onto $hundredstring and you [[step out -&gt;main pathType top corner]].</tw-passagedata><tw-passagedata pid="24" name="5code" tags="" position="1440,1453" size="100,100">{
&lt;!--maxDepth should be set to one less than the highest noun index--&gt;
(set: $maxDepth to 2)

(set: $prep to (macro: num-type _prepIndex, [
	(set: $attributes to (a: _prepIndex, $altIndex))
	(set: _output to (cond: 
		$attributes matches (a: 1,1), $besetWith,
		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $det to (macro: num-type _nounIndex, [
	(set: $attributes to (a: _nounIndex, $altIndex))
	(set: _output to (cond: 		
		$attributes matches (a: 2,0), &#39;the&#39;,
			&#39;&#39;))
	(output-data: _output)
	]
	))

(set: $noun to (macro: num-type _nounIndex,[
(set: $attributes to (a: _nounIndex, $altIndex))	
	(set: _output to (cond:
		$attributes matches (a: 1,num), $villa,
		$attributes matches (a: 2,0), $walls,
		$attributes matches (a: 2,1), $Livia,
		$attributes matches (a: 3,0), $frescoes,
		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $adj to (macro: num-type _adjIndex, [
	(set: $attributes to (a: _adjIndex, $altIndex))
	(set: _output to (cond: 		
		$attributes matches (a: 1,num), $Roman,
		$attributes matches (a: 11,num), $lavish,
		$attributes matches (a: 2,0), $paneled,
		$attributes matches (a: 12,0), $marble,
		$attributes matches (a: 12,0), $expensive,

		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $adv to (macro: num-type _advIndex, [
	(output-data: &#39;&#39;)
	]
	))

&lt;!--20--&gt;
(set: $setVocab to (macro: [
	(set: $decorated to (either: 
		&#39;decorated&#39;, &#39;bedecked&#39;, &#39;ornamented&#39;, &#39;adorned&#39;,&#39;embellished&#39;, 
		&#39;festooned&#39;))
	(set: $villa to (either: &#39;villa&#39;,&#39;house&#39;,&#39;home&#39;,&#39;residence&#39;))
	(set: $walls to &#39;walls&#39;)
	(set: $Livia to &#39;Livia and Augustus&#39;)
	(set: $frescoes to (either: &#39;frescoes&#39;, &#39;mosaics&#39;, &#39;tapestries&#39;,&#39;paintings&#39;,&#39;sculptures&#39;))
	(set: $Roman to (either: &#39;Roman&#39;, &#39;imperial&#39;))
	(set: $lavish to (either: &#39;lavish&#39;, &#39;sumptuous&#39;, &#39;luxurious&#39;, &#39;opulent&#39;, &#39;grand&#39;, &#39;splendid&#39;))
	(set: $paneled to (either: &#39;paneled&#39;, &#39;stuccoed&#39;, &#39;tiled&#39;))
	(set: $marble to (either: &#39;marble&#39;, &#39;ceramic&#39;))
	(set: $expensive to (either: &#39;expensive&#39;, &#39;valuable&#39;, &#39;priceless&#39;))


	(output-data:&#39;&#39;)
	]
	)
	)
	
(set: $passageType to &#39;road&#39;)
(set: $doorType to &#39;path&#39;)
}
The elevator doors open onto $hundredstring and you [[step out -&gt;main pathType top corner]].</tw-passagedata><tw-passagedata pid="25" name="Done" tags="" position="1326,1117" size="100,100">At last the elevator comes to a halt.

{
(set: $floorInt to (num: $floorString))

(set: $hundredStrings to (dm: 
		&quot;0&quot;, &quot;the first century&quot;,
		&quot;1&quot;, &quot;the second century&quot;,
		&quot;2&quot;, &quot;the third century&quot;,
		&quot;3&quot;, &quot;the fourth century&quot;,
		&quot;4&quot;, &quot;the fifth century&quot;,
	  	&quot;5&quot;, &quot;the sixth century&quot;,
		&quot;6&quot;, &quot;the seventh century&quot;,
		&quot;7&quot;, &quot;the eighth century&quot;,
		&quot;8&quot;, &quot;the ninth century&quot;,
		&quot;9&quot;, &quot;the tenth century&quot;,
		&quot;10&quot;, &quot;the eleventh century&quot;,
		&quot;11&quot;, &quot;the twelfth century&quot;,
		&quot;12&quot;, &quot;the thirteenth century&quot;,
		&quot;13&quot;, &quot;the fourteenth century&quot;,
		&quot;14&quot;, &quot;the fifteenth century&quot;,
	  	&quot;15&quot;, &quot;the sixteenth century&quot;,
		&quot;16&quot;, &quot;the seventeenth century&quot;,
		&quot;17&quot;, &quot;the eighteenth century&quot;,
		&quot;18&quot;, &quot;the nineteenth century&quot;,
		&quot;19&quot;, &quot;the twentieth century&quot;,
		&quot;20&quot;, &quot;the twenty first century&quot;))

(set: $romanDecades to (dm: 
		&quot;0&quot;, &#39;&quot;Nulla Decennium&quot;&#39;,
		&quot;1&quot;, &#39;&quot;Decennium Unum&quot;&#39;,
		&quot;2&quot;, &#39;&quot;Decennium Duo&quot;&#39;,
		&quot;3&quot;, &#39;&quot;Decennium Tria&quot;&#39;,
		&quot;4&quot;, &#39;&quot;Decennium Quatuor&quot;&#39;,
	  	&quot;5&quot;, &#39;&quot;Decennium Quinque&quot;&#39;,
		&quot;6&quot;, &#39;&quot;Sex Decennium&quot;&#39;,
		&quot;7&quot;, &#39;&quot;Decennium Septem&quot;&#39;,
		&quot;8&quot;, &#39;&quot;Decennium Octo&quot;&#39;,
		&quot;9&quot;, &#39;&quot;Decennium Novem&quot;&#39;))

(set: $middleEnglishDecades to (dm: 
		&quot;0&quot;, &#39;&quot;ought tenne yeer&quot;&#39;,
		&quot;1&quot;, &#39;&quot;fyrst tenne yeer&quot;&#39;,
		&quot;2&quot;, &#39;&quot;secunde tenne yeer&quot;&#39;,
		&quot;3&quot;, &#39;&quot;thridde tenne yeer&quot;&#39;,
		&quot;4&quot;, &#39;&quot;ferthe tenne yeer&quot;&#39;,
	  	&quot;5&quot;, &#39;&quot;fifte tenne yeer&quot;&#39;,
		&quot;6&quot;, &#39;&quot;sixte tenne yeer&quot;&#39;,
		&quot;7&quot;, &#39;&quot;sevynte tenne yeer&quot;&#39;,
		&quot;8&quot;, &#39;&quot;eyghte tenne yeer&quot;&#39;,
		&quot;9&quot;, &#39;&quot;nynthe tenne yeer&quot;&#39;))

(set: $defaultDecades to (dm: 
		&quot;1&quot;, &#39;&quot;Decade One&quot;&#39;,
		&quot;2&quot;, &#39;&quot;Decade Two&quot;&#39;,
		&quot;3&quot;, &#39;&quot;Decade Three&quot;&#39;,
		&quot;4&quot;, &#39;&quot;Decade Four&quot;&#39;,
		&quot;5&quot;, &#39;&quot;Decade Five&quot;&#39;,
	  	&quot;6&quot;, &#39;&quot;Decade Six&quot;&#39;,
		&quot;7&quot;, &#39;&quot;Decade Seven&quot;&#39;,
		&quot;8&quot;, &#39;&quot;Decade Eight&quot;&#39;,
		&quot;9&quot;, &#39;&quot;Decade Nine&quot;&#39;,
		&quot;0&quot;, &#39;&quot;Decade Zero&quot;&#39;
	)
	)





(set: $decadeSigns to (cond: 
	$floorInt &lt; 5, $romanDecades,
	$floorInt &lt; 16, $middleEnglishDecades,
	$defaultDecades))

(set: $doorTypes to (cond: 
	$floorInt is 0, (a: &quot;through a&quot;, &quot;&quot;, &quot;doorway&quot;, &quot;into a&quot;),
	$floorInt is 1, (a: &#39;through an&#39;, &#39;&#39;, &#39;archway&#39;, &quot;into a&quot;),
	$floorInt is 2, (a: &#39;through a&#39;, &#39;&#39;, &#39;gate&#39;, &quot;into a&quot;),
	$floorInt is 3, (a: &#39;through a&#39;, &#39;&#39;, &#39;door&#39;, &quot;into&quot;),
	$floorInt is 4, (a: &#39;through a&#39;, &#39;collapsing&#39;, &#39;arch&#39;, &quot;into a&quot;),
	$floorInt is 5, (a: &#39;through a&#39;, &#39;&#39;, &#39;gate&#39;, &quot;into a&quot;),
	$floorInt is 6, (a: &#39;into a&#39;, &#39;rooftop&#39;,&#39;cupola&#39;, &quot;that provides access to a&quot;),
	$floorInt is 7, (a: &#39;into a&#39;, &#39;grassy&#39;, &#39;hole&#39;, &quot;in a&quot;),
	$floorInt is 8, (a: &#39;up a&#39;, &#39;dry-earth&#39;, &#39;upgang&#39;, &quot;onto a&quot;),
	$floorInt is 9, (a: &#39;through a&#39;, &#39;black&#39;, &#39;portcullis&#39;, &quot;into a&quot;),
	$floorInt is 10, (a: &#39;through a&#39;, &#39;rocky&#39;, &#39;crack&#39;, &quot;into a&quot;),
	$floorInt is 11, (a: &#39;through a&#39;, &#39;wooden&#39;,&#39;doorway&#39;, &quot;into a&quot;),
	$floorInt is 12, (a: &#39;through a&#39;, &#39;mechanical&#39;, &#39;opening&#39;, &quot;in a&quot;),
	$floorInt is 13, (a: &#39;through an&#39;, &#39;oak&#39;, &#39;door&#39;, &quot;into a&quot;),
	$floorInt is 14, (a: &#39;along a&#39;, &#39;&#39;, &#39;gangplank&#39;, &quot;onto a&quot;),
	$floorInt is 15, (a: &#39;down a&#39;, &#39;&#39;, &#39;lane&#39;, &quot;to a&quot;),
	$floorInt is 16, (a: &#39;up a&#39;, &#39;&#39;, &#39;step&#39;, &quot;onto a&quot;),
	$floorInt is 17, (a: &#39;over a&#39;, &#39;narrow&#39;, &#39;bridge&#39;, &quot;to a different&quot;),
	$floorInt is 18, (a: &#39;down a&#39;, &#39;foggy&#39;, &#39;alley&#39;, &quot;to a different&quot;),
	$floorInt is 19, (a: &#39;through a&#39;, &#39;&#39;, &#39;hole in the wall&#39;, &quot;to a different&quot;),
	$floorInt is 20, (a: &#39;through an&#39;, &#39;&#39;, &#39;electronic turnstile&#39;, &quot;to a different&quot;),
	&quot;through a&quot;, &quot;&quot;, &quot;doorway&quot;, &quot;to a&quot;))

(set: $nexusPassage to (cond: 
	$floorInt is 0, (a: &#39;in a&#39;, &#39;narrow&#39;, &#39;tunnel&#39;),
	$floorInt is 1, (a: &#39;on a&#39;, &#39;busy&#39;, &#39;street&#39;),
	$floorInt is 2, (a: &#39;on a&#39;, &#39;cobbled&#39;, &#39;path&#39;),
	$floorInt is 3, (a: &#39;in a&#39;, &#39;high&#39;, &#39;hallway&#39;),
	$floorInt is 4, (a: &#39;on a&#39;, &#39;desolate&#39;, &#39;street&#39;),
	$floorInt is 5, (a: &#39;on a&#39;, &#39;grassy&#39;, &#39;path&#39;),
	$floorInt is 6, (a: &#39;on a&#39;, &#39;clay tiled&#39;,&#39;rooftop&#39;),
	$floorInt is 7, (a: &#39;on a&#39;, &#39;windswept&#39;, &#39;trail&#39;),
	$floorInt is 8, (a: &#39;on a&#39;, &#39;humid&#39;, &#39;bayou&#39;),
	$floorInt is 9, (a: &#39;on a&#39;, &#39;cragged&#39;, &#39;pike&#39;),
	$floorInt is 10, (a: &#39;on a&#39;, &#39;rocky&#39;, &#39;path&#39;),
	$floorInt is 11, (a: &#39;on a&#39;, &#39;wooden&#39;,&#39;walkway&#39;),
	$floorInt is 12, (a: &#39;on a&#39;, &#39;blood drenched&#39;, &#39;path&#39;),
	$floorInt is 13, (a: &#39;on a&#39;, &#39;stone&#39;, &#39;allure&#39;),
	$floorInt is 14, (a: &#39;on a&#39;, &#39;breezy&#39;, &#39;wharf&#39;),
	$floorInt is 15, (a: &#39;on a&#39;, &#39;smoky&#39;, &#39;pike&#39;),
	$floorInt is 16, (a: &#39;on a&#39;, &#39;deep&#39;, &#39;canal&#39;),
	$floorInt is 17, (a: &#39;on a&#39;, &#39;cobbled&#39;, &#39;rue&#39;),
	$floorInt is 18, (a: &#39;on a&#39;, &#39;cobbled&#39;, &#39;street&#39;),
	$floorInt is 19, (a: &#39;on a&#39;, &#39;rubbled&#39;, &#39;street&#39;),
	$floorInt is 20, (a: &#39;on a&#39;, &#39;vibrant&#39;, &#39;street&#39;),
	&quot;way&quot;))

(set: $secondaryPassage to (cond: 
	$floorInt is 0, &#39;burrow&#39;,
	$floorInt is 1, &#39;alley&#39;,
	$floorInt is 2, &#39;footpath&#39;,
	$floorInt is 3, &#39;corridor&#39;,
	$floorInt is 4, &#39;way&#39;,
	$floorInt is 5, &#39;passage&#39;,
	$floorInt is 6, &#39;arcade&#39;,
	$floorInt is 7, &#39;burrow&#39;,
	$floorInt is 8, &#39;causeway&#39;,
	$floorInt is 9, &#39;corridor&#39;,
	$floorInt is 10, &#39;fissure&#39;,
	$floorInt is 11, &#39;passageway&#39;,
	$floorInt is 12, &#39;climbhole&#39;,
	$floorInt is 13, &#39;passage&#39;,
	$floorInt is 14, &#39;deck&#39;,
	$floorInt is 15, &#39;lane&#39;,
	$floorInt is 16, &#39;channel&#39;,
	$floorInt is 17, &#39;couloir&#39;,
	$floorInt is 18, &#39;wynd&#39;,
	$floorInt is 19, &#39;lane&#39;,
	$floorInt is 20, &#39;back street&#39;,
	&quot;way&quot;))

(set: $roomWord to (cond: 
	$floorInt is 0, &#39;vault&#39;,
	$floorInt is 1, &#39;plaza&#39;,
	$floorInt is 2, &#39;plot&#39;,
	$floorInt is 3, &#39;room&#39;,
	$floorInt is 4, &#39;former plaza&#39;,
	$floorInt is 5, &#39;chamber&#39;,
	$floorInt is 6, &#39;stall&#39;,
	$floorInt is 7, &#39;grotto&#39;,
	$floorInt is 8, &#39;hummock&#39;,
	$floorInt is 9, &#39;hall&#39;,
	$floorInt is 10, &#39;abyss&#39;,
	$floorInt is 11, &#39;platform&#39;,
	$floorInt is 12, &#39;cockpit&#39;,
	$floorInt is 13, &#39;hall&#39;,
	$floorInt is 14, &#39;compartment&#39;,
	$floorInt is 15, &#39;hovel&#39;,
	$floorInt is 16, &#39;square&#39;,
	$floorInt is 17, &#39;courtyard&#39;,
	$floorInt is 18, &#39;dosshouse&#39;,
	$floorInt is 19, &#39;square&#39;,
	$floorInt is 20, &#39;cube&#39;,
	&quot;space&quot;))
	
(set: $complexWord to (cond: 
	$floorInt is 0, &#39;catacombs&#39;,
	$floorInt is 1, &#39;quarter&#39;,
	$floorInt is 2, &#39;orchard&#39;,
	$floorInt is 3, &#39;wing&#39;,
	$floorInt is 4, &#39;quarter&#39;,
	$floorInt is 5, &#39;mausoleum&#39;,
	$floorInt is 6, &#39;bazaar&#39;,
	$floorInt is 7, &#39;mound&#39;,
	$floorInt is 8, &#39;elevation&#39;,
	$floorInt is 9, &#39;stronghold&#39;,
	$floorInt is 10, &#39;underworld&#39;,
	$floorInt is 11, &#39;hub&#39;,
	$floorInt is 12, &#39;siege machine&#39;,
	$floorInt is 13, &#39;tower&#39;,
	$floorInt is 14, &#39;ship&#39;,
	$floorInt is 15, &#39;hamlet&#39;,
	$floorInt is 16, &#39;district&#39;,
	$floorInt is 17, &#39;quarter&#39;,
	$floorInt is 18, &#39;neighborhood&#39;,
	$floorInt is 19, &#39;district&#39;,
	$floorInt is 20, &#39;sector&#39;,
	&quot;region&quot;))
	
(set: $nexusPhrase to (cond: 
	$floorInt is 0, (a: &#39;in the&#39;, &#39;dusty&#39;, &#39;catacombs&#39;, &#39;of Callixus&#39;),
	$floorInt is 1, (a: &#39;in the&#39;, &#39;bustling&#39;, &#39;forum&#39;, &#39;of ancient Rome&#39;),
	$floorInt is 2, (a: &#39;in the&#39;, &#39;tranquil&#39;, &#39;garden&#39;, &#39;of Lucullus&#39;),
	$floorInt is 3, (a: &#39;in the&#39;, &#39;opulent&#39;, &#39;house&#39;, &#39;of Livia and Augustus&#39;),
	$floorInt is 4, (a: &#39;in the&#39;, &#39;battered&#39;, &#39;ruins&#39;, &#39;of Rome&#39;),
	$floorInt is 5, (a: &#39;in the&#39;, &#39;gloomy&#39;, &#39;cemetery&#39;, &#39;on Edix Hill&#39;),
	$floorInt is 6, (a: &#39;above the&#39;, &#39;bustling&#39;, &#39;souk&#39;, &#39;of al Saqatiyah&#39;),
	$floorInt is 7, (a: &#39;on the&#39;, &#39;Holy&#39;, &#39;Island&#39;, &#39;of Lindisfarne&#39;),
	$floorInt is 8, (a: &#39;in the&#39;, &#39;stinking&#39;, &#39;swamp&#39;, &#39;near the Athelney Abbey&#39;),
	$floorInt is 9, (a: &#39;in the&#39;, &#39;dark&#39;, &#39;valley&#39;, &#39;beneath the Apuseni mountains&#39;),
	$floorInt is 10, (a: &#39;in the&#39;, &#39;jagged&#39;, &#39;gullies&#39;, &#39;of Tartarus&#39;),
	$floorInt is 11, (a: &#39;in the&#39;, &#39;humid&#39;,&#39;jungles&#39;, &#39;surrounding the upper Eilanden&#39;),
	$floorInt is 12, (a: &#39;on the&#39;, &#39;war torn&#39;, &#39;steppes&#39;, &#39;of Asia&#39;),
	$floorInt is 13, (a: &#39;high above the&#39;, &#39;diseased&#39;, &#39;city&#39;, &#39;of Rochester&#39;),
	$floorInt is 14, (a: &#39;in the&#39;, &#39;bustling&#39;, &#39;port&#39;, &#39;of Cadiz&#39;),
	$floorInt is 15, (a: &#39;in the&#39;, &#39;tranquil&#39;, &#39;countryside&#39;, &#39;of Elizabethan England&#39;),
	$floorInt is 16, (a: &#39;on the&#39;, &#39;tranquil&#39;, &#39;waterways&#39;, &#39;of the Grachtengordel&#39;),
	$floorInt is 17, (a: &#39;on the&#39;, &#39;bloody&#39;, &#39;streets&#39;, &#39;of revolutionary Paris&#39;),
	$floorInt is 18, (a: &#39;on the&#39;, &#39;foggy&#39;, &#39;cobbles&#39;, &#39;of Victorian London&#39;),
	$floorInt is 19, (a: &#39;in the&#39;, &#39;dusty&#39;, &#39;rubble&#39;, &#39;of war torn Europe&#39;),
	$floorInt is 20, (a: &#39;within the&#39;, &#39;dense&#39;, &#39;cityscape&#39;, &#39;of neon lit Shanghai&#39;),
	(a: &quot;&quot;,&quot;&quot;,&quot;world&quot;,&quot;&quot;)))


(set: $mainSentence to &quot;You are &quot; 
	+ 1st of $nexusPassage 
	+ &quot; &quot; 
	+ 2nd of $nexusPassage
	+ &quot; &quot; 
	+ 3rd of $nexusPassage
	+ &quot; somewhere &quot; 
	+ 1st of $nexusPhrase
	+ &quot; &quot; 
	+ 2nd of $nexusPhrase
	+ &quot; &quot;
	+ 3rd of $nexusPhrase
	+ &quot; &quot;
	+ 4th of $nexusPhrase
	)
	
(set: $fixDirection to 
	(macro: num-type _directionNum, 
	[
	(set: $directions to 
		(cond: 
		_directionNum is 0,(a:&#39;North&#39;,&#39;East&#39;,&#39;South&#39;,&#39;West&#39;),
		_directionNum is 1,(a: &#39;East&#39;,&#39;South&#39;,&#39;West&#39;,&#39;North&#39;),
		_directionNum is 2,(a: &#39;South&#39;,&#39;West&#39;,&#39;North&#39;,&#39;East&#39;),
		_directionNum is 3,(a: &#39;West&#39;,&#39;North&#39;,&#39;East&#39;,&#39;South&#39;),
		(a:&#39;fail&#39;)))
	(if: 1st of $directions is &#39;fail&#39;)
		[($fixDirection:_directionNum - 4)]
	(output-data: &quot;&quot;)
	]
	)
)

(set: $signIntro to &quot;with a sign that says &quot;)
(set: $hundredString to $floorString of $hundredStrings)
	}
	
The elevator doors open onto $hundredString and you [[step out-&gt;main pathType top corner]].</tw-passagedata><tw-passagedata pid="26" name="_passageMaker with NLP" tags="startup" position="2044,701" size="100,100">{
(set: $wordIterator to 1)
(set: $directionText to &quot;&quot;)

(set: $vectorDescription to 
(macro: array-type _vector, [
	(set: _eW to (cond:
		(1st of _vector) is 1, &quot;east&quot;,
		(1st of _vector) is -1, &quot;west&quot;,
		&quot;&quot;))
	(set: _nS to (cond:
		(2nd of _vector) is 1, &quot;north&quot;,
		(2nd of _vector) is -1, &quot;south&quot;,
		&quot;&quot;))
	(set: _uD to (cond:
		(3rd of _vector) is 1, &quot;up&quot;,
		(3rd of _vector) is -1, &quot;down&quot;,
		&quot;&quot;))
	(set: _output to _uD +_nS +_eW)
	(output-data: _output)
	]
	))
	
(set: $vectorDescription to (macro: array-type _vector,[
	(set: _through_way to ($elevation: _vector))
	(set: _eW to (cond:
		(1st of _vector) is 1, &quot;east&quot;,
		(1st of _vector) is -1, &quot;west&quot;,
		&quot;&quot;))
	(set: _nS to (cond:
		(2nd of _vector) is 1, &quot;north&quot;,
		(2nd of _vector) is -1, &quot;south&quot;,
		&quot;&quot;))
	(set: _uD to (cond:
		(3rd of _vector) is 1, &quot;up&quot;,
		(3rd of _vector) is -1, &quot;down&quot;,
		&quot;&quot;))
	(set: _conjunctionPhrase to (cond: 
		_through_way is &quot;a stairwell&quot;, &quot; and to the &quot;,
		&quot;&quot;))
	(set: _output to _uD + _conjunctionPhrase + _nS + _eW)
	(output-data: _output)
	]
	))
	
&lt;!--takes a list of vectors and calls writeDirection for each--&gt;
(set: $listExits to 
(macro: array-type _list, [
	(for: each _vector, ..._list)[
		($writeLink: _vector)
		(set: $wordIterator +=1)
		]
	(output-data:&quot;&quot;)
	]))
	

(set: $wordLink to 
(macro: array-type _vector, [
	($writeIntro:_vector) 
	(set: $directionText to $directionText 
	+ &quot; [[&quot; 
	+ ($getDirectionWords: _vector) 
	+ &quot;.&quot;
	+ &quot;-&gt;&quot; 
	+ ($getOtherRoomName:_vector) 
	+ &quot;]]&quot;)
	(output-data: &quot;&quot;)
	]
))

(set: $writeLink to 
(macro: array-type _vector, [
	($writeIntro:_vector) 
	(set: $directionText to $directionText 
	+ &quot; [[&quot; 
	+ ($vectorDescription: _vector) 
	+ &quot;.&quot;
	+ &quot;-&gt;&quot; 
	+ ($getOtherRoomName:_vector) 
	+ &quot;]]&quot;)
	(output-data: &quot;&quot;)
	]
))





&lt;!--takes an arc, adds it to the current coords to get the other rooms coords, then uses them to find out &amp; output the other room&#39;s number --&gt;

(set: $getOtherRoomsNumber to 
(macro: array-type _vector, [
	(set: _otherRoomCoords to ($vectorAdd3: $theseCoords, _vector))
	(set: _otherRoomNumber to ($getRoomFromCoords: _otherRoomCoords))
	(output-data: _otherRoomNumber)
	]))


(set: $getOtherRoomName to 
(macro: array-type _vector, [
	(set: _numberString to (str: ($getOtherRoomsNumber: _vector)))
	(output-data: _numberString)
	]))

	
(set: $writeIntro to 
(macro: array-type _vector, [	
	(set: _through_way to ($elevation: _vector))
	(if: $wordIterator is 1)
		[(set: $directionText to $directionText + (upperfirst: ($fromHere:)) + &quot; &quot; + _through_way + &quot; &quot; + ($goes:) )]
	(if: $wordIterator is 2)
		[(set: $directionText to $directionText + &quot; &quot; + (upperfirst: _through_way) + &quot; also &quot; + ($goes:))]
	(if: $wordIterator is 3)
		[(set: $directionText to $directionText + &quot; &quot; + (upperfirst: ($alternatively:)) + _through_way + &quot; &quot; + ($goes:) + &quot; &quot;)]
	(if: $wordIterator &gt; 3)
		[(set: $directionText to $directionText + &quot; &quot; + &quot;You &quot; + ($can:) + &quot; &quot; + ($go:) +&quot; via &quot; + _through_way)]
	(output-data: &quot;&quot;)
	]))

(set: $go to 
(macro: [
	(set: _output to (either: &quot;go&quot;, &quot;head&quot;))
	(output-data: _output) 
	]
	))
	
(set: $goes to 
(macro: [
	(set: _output to (either: &quot;goes&quot;, &quot;heads&quot;))
	(output-data: _output) 
	]
	))
	
(set: $alternatively to 
(macro: [
	(set: _output to (either: &quot;alternatively, &quot;))
	(output-data: _output) 
	]
	))
	
(set: $fromHere to 
(macro: [
	(set: _output to (either: &quot;from here&quot;))
	(output-data: _output) 
	]
	))
	
(set: $can to 
(macro: [
	(set: _output to (either: &quot; can&quot;, &quot; might&quot;, &quot; may&quot;, &quot; could&quot;))
	(output-data: _output) 
	]
	))
	
(set: $languageVariation to 
(macro: array-type _vector, string-type _through_way, [
	(set: _output to 
		&quot;You&quot; + 
		(either: &quot; can&quot;, &quot; might&quot;, &quot; may&quot;, &quot; could&quot;) + 
		(either: &quot; also&quot;, &quot; alternatively&quot;, &quot;&quot;, &quot; instead&quot;) + 
		(either: &quot; go&quot;, &quot; opt to go&quot;, &quot; head&quot;, &quot; opt to head&quot;, &quot; choose to go&quot;, &quot; choose to head&quot;, &quot; decide to go&quot;, &quot; decide to head&quot;) + 
		($vectorDescription: _vector) + 
		&quot; via a &quot; + 
		_through_way 
		+ &quot;.&quot;)
		(output-data: _output)]))

(set: $getDirectionWords to (macro: array-type _vector,[
	(set: _through_way to ($elevation: _vector))
	(set: _eW to (cond:
		(1st of _vector) is 1, &quot;east&quot;,
		(1st of _vector) is -1, &quot;west&quot;,
		&quot;&quot;))
	(set: _nS to (cond:
		(2nd of _vector) is 1, &quot;north&quot;,
		(2nd of _vector) is -1, &quot;south&quot;,
		&quot;&quot;))
	(set: _uD to (cond:
		(3rd of _vector) is 1, &quot;up&quot;,
		(3rd of _vector) is -1, &quot;down&quot;,
		&quot;&quot;))
	(set: _conjunctionPhrase to (cond: 
		_through_way is &quot;a stairwell goes &quot;, &quot; and to the &quot;,
		&quot;&quot;))
	(set: _output to &quot;From here, &quot; + _through_way + _uD + _conjunctionPhrase + _nS + _eW)
	(output-data: _output)
	]
	))



&lt;!--from exit vector decides whether apt exit type is ladder, stairwell or passage--&gt;

(set: $elevation to (macro: array-type _vector, [
	(set: _throughway to (cond: 
		(3rd of _vector is 0), 0,
		(1st of _vector is 0) and (2nd of _vector is 0), 1,
		2))
	(set: _output to (cond: 
		_throughway is 0, &quot;a passage&quot;,
		_throughway is 1, &quot;a ladder&quot;,
		_throughway is 2, &quot;a stairwell&quot;,
		&quot;&quot;))
	(output-data: _output)
		]))
		


}



</tw-passagedata><tw-passagedata pid="27" name="_simple vector ops" tags="startup" position="2276,703" size="100,100">{

&lt;!--subtracts the last three elements of one array from the other--&gt; 
(set: $subtractN3s to
(macro: array-type _first, array-type _second,[
	(set: _first to (subarray: _first, -3, -1))
	(set: _second to (subarray: _second, -3, -1))
	(set: _a to 1st of _first - 1st of _second)
	(set: _b to 2nd of _first - 2nd of _second)
	(set: _c to 3rd of _first - 3rd of _second)
	(output-data: (a: _a,_b,_c))
	]))
	
&lt;!--adds the last three elements of one array to the other--&gt; 
(set: $addN3s to
(macro: array-type _first, array-type _second,[
	(set: $report3 to $report3 + &quot; addN3s &quot;)

	(set: _first to (subarray: _first, -3, -1))
	(set: _second to (subarray: _second, -3, -1))
	(set: _a to 1st of _first + 1st of _second)
	(set: _b to 2nd of _first + 2nd of _second)
	(set: _c to 3rd of _first + 3rd of _second)
	(output-data: (a: _a,_b,_c))
	]))
	
&lt;!--This is a simple non-general vector addition macro for macros of 3 elements--&gt; 

(set: $vectorAdd3 to (macro: array-type _threeVector, array-type _threevector2, [
	(set: _a to _threeVector&#39;s 1st + _threevector2&#39;s 1st)
	(set: _b to _threeVector&#39;s 2nd + _threevector2&#39;s 2nd)
	(set: _c to _threeVector&#39;s 3rd + _threevector2&#39;s 3rd)
	(set: _output to (a: _a, _b, _c))
	(output-data: _output)
	]
	))
	
&lt;!--This takes a 6 vector and returns the last 3 elements as an array--&gt; 

(set: $lastThree to (macro: array-type _vector6, [
	(output-data: (a: _vector6&#39;s 4th, _vector6&#39;s 5th, _vector6&#39;s 6th))]))

&lt;!--This takes a 6 vector and returns the first 3 elements as an array--&gt; 

(set: $firstThree to (macro: array-type _vector6, [
	(output-data: (a: _vector6&#39;s 1st, _vector6&#39;s 2nd, _vector6&#39;s 3rd))]))
	
	
(set: $getTernaryVector to (macro: [
	(set: _x to ($getTernaryValue:))
	(set: _y to ($getTernaryValue:))
	(set: _z to ($getTernaryValue:))
	(set: _output to (a: _x, _y, _z))
	(output-data: _output)
	]
	))
	

		
&lt;!--the following adds the first elements of two vectors. Returns array with sum. --&gt;

(set: $1stElementAdd to (macro: array-type _v1, array-type _v2, [
	(set: _x to (1st of _v1) + (1st of _v2))
	(set: _outputE to (a:_x))
	(output-data: _outputE)
	]
	))
	

		
&lt;!--takes a 6 long arc vector and creates the opposite directioned arc--&gt;
(set: $oppositeArc6 to (macro: array-type _arc, [
	(set: 
		_a to -1 * 1st of _arc,
		_b to -1 * 2nd of _arc,
		_c to -1 * 3rd of _arc,
		_d to -1 * 4th of _arc,
		_e to -1 * 5th of _arc,
		_f to -1 * 6th of _arc)
	(set: _x to (a: _a,_b,_c,_d,_e,_f))
	(output-data: _x)
	]))

&lt;!--takes a 3 long arc vector and creates the opposite directioned arc--&gt;
(set: $oppositeArc to (macro: array-type _arc, [
	(set: 
		_a to -1 * 1st of _arc,
		_b to -1 * 2nd of _arc,
		_c to -1 * 3rd of _arc)
	(output-data: (a: _a,_b,_c))
	]))
	
	}


</tw-passagedata><tw-passagedata pid="28" name="tester" tags="" position="2995,699" size="100,100">Here is the returned polarity of 0: 

($returnPolarities: 0)

Here is the returned polarity of 1: 

($returnPolarities: 1)

Here is the returned polarity of -1: 

($returnPolarities: -1)

Here is the returned polarity of 3: 

($returnPolarities: 3)

Here is the returned polarity of -3: 

($returnPolarities: -3)

Here is the returned polarity of -6: 

($returnPolarities: -6)

</tw-passagedata><tw-passagedata pid="29" name="_random value ops" tags="startup" position="2161,701" size="100,100">{
(set: $seedIndex to 1)
(set: $seedIndex20 to 1)
(set: $seedIndex25 to 1)


	
(set: $getBinaryValue to (macro: [
	(set: _output to (nth: $seedIndex, 0,1,0,0,1,0,1,0,0,0,1,1,1,0,1,0,0))
	(if: $seedIndex &gt; 20) [(set: $seedIndex to 1)]
	(else:) [(set: $seedIndex +=1)]
	(output-data: _output)]))

(set: $getStableRandom20 to (macro: [
	(set: _output to (nth: $seedIndex20, ...$randomSeed))
	(if: $seedIndex &gt; 20) [(set: $seedIndex to 1)]
	(set: $seedIndex20 +=1)
	(output-data: _output)]))
	

(set: $mod to 
(macro: num-type _dividend, num-type _divisor, [
	(if: _divisor &lt; 0) [(error: &quot;divisor less than 0&quot;)]
	(if: _dividend &lt; 0) [(error: &quot;dividend less than 0&quot;)]
	(if: _divisor is 0) [(set: $modulus to 0)] 
	(else:)[
	(if: _divisor &gt; _dividend)[(set: $modulus to _dividend)]
	(else:) [($mod: _dividend - _divisor, _divisor)]
	]
	(output-data:&quot;&quot;) 
	]))
	
	
(set: $getRandomWithMax to 
(macro: num-type _limit, [
	(if: _limit &gt; 19)
		[(error:&quot;$getRandomWithMax cannot accept argument &gt;19&quot;)]
	(set: _starter to (nth: $seedIndex20, ...$randomSeed))
	(if: $seedIndex20 &gt; 40) [(set: $seedIndex to 1)]
	(else:) [(set: $seedIndex20 +=1)]
	($mod: _starter, _limit)
	(set: $randomWithMax to $modulus)
	(output-data: &quot;&quot;)
	]))

	

	
&lt;!--sets a stable random value from the range -1, 0, 1.--&gt;
(set: $getTernaryValue to (macro: [
	(set: _output to (nth: $seedIndex, 0,-1,0,1,-1,0,1,1,0,-1,1,1,-1,1,1,1,0))
	(if: $seedIndex &gt; 20) [(set: $seedIndex to 1)]
	(else:) [(set: $seedIndex +=1)]
	(output-data: _output)]))
		


(set: $makeRootArc to (macro: [
	(set: _from to (a: 0, 0, 0))
	(set: _to to ($getTernaryVector:)) 
	(output-data: _from + _to)]
	))
	
	
	
&lt;!--GET SHORTARCS --&gt; 
&lt;!--GET SHORTARCS --&gt; 
&lt;!--GET SHORTARCS --&gt; 
&lt;!--GET SHORTARCS --&gt;

(set: $getNextShortArc to 
(macro: [ 
	(set: $seedReport to it + (a:$seedIndex25))
	(set: _output to (nth: $seedIndex25, ...$shortArcs))
	(if: $seedIndex25 &gt; 25) [(set: $seedIndex25 to 1)]
	(else:) [(set: $seedIndex25 +=1)
		 ]
	(output-data: _output)]))
	
}</tw-passagedata><tw-passagedata pid="30" name="sandbox" tags="" position="1463,820" size="100,100">(print: ($firstLetterIsVowel: &quot;anorak&quot;))
(print: ($firstLetterIsVowel: &quot;mac&quot;))</tw-passagedata><tw-passagedata pid="31" name="legacy _graph builder control v1" tags="" position="3220,453" size="100,100">{

&lt;!--SETUP--&gt;
&lt;!--SETUP--&gt; 
&lt;!--SETUP--&gt;
&lt;!--SETUP--&gt; 
&lt;!--SETUP--&gt;
&lt;!--THESE AREN&#39;T JUST FOR TESTING--&gt;
&lt;!--THESE AREN&#39;T JUST FOR TESTING--&gt;
&lt;!--THESE AREN&#39;T JUST FOR TESTING--&gt;
&lt;!--THESE AREN&#39;T JUST FOR TESTING--&gt;

&lt;!--these help determine an orderly path between rooms--&gt;
(set: $arcs to (a:
(a:0,1),(a:1,0),
(a:1,2),(a:2,1),
(a:2,3),(a:3,2),
(a:3,4),(a:4,3),
(a:4,5),(a:5,4),
(a:5,6),(a:6,5),
(a:6,7),(a:7,6),
(a:7,8),(a:8,7),
(a:8,9),(a:9,8),
(a:9,10),(a:10,9)))

(set: $startState to 0)

(set: $nodes to (a: (a: 0,0,0)))

&lt;!--This sets up a root locus, from which the others will proceed--&gt;
(set: $loci to (a:
	(a: 0, &quot;locus 0&quot;, 0, 0, 0)
	))
	
&lt;!--To start, the root locus is the only locus whose coordinates are realized --&gt;	
(set: $realLoci to (a:(a:0,0,0)))

&lt;!--The counter checks when (i) all rooms have been realized and only subloci remain, and (ii) we&#39;re out of subloci. This helps control the generation.--&gt;

(set: $counter to 1)

&lt;!--The secondcounter keeps track of the non-room loci. This allows for opportunities to insert non-rooms during the first wave of generation.--&gt;
(set: $secondCounter to 11)

&lt;!--the following datamap of arrays represents the exits from each locus. Each name is a string of the locus number and the corresponding value is the list of exits from that locus, each of which will be a triple that signifies the direction of exit--&gt; 
(set: $exits to (dm: &quot;0&quot;, (a:), &quot;1&quot;,(a:), &quot;2&quot;, (a:),&quot;3&quot;, (a:),&quot;4&quot;,(a:),&quot;5&quot;,(a:),&quot;6&quot;,(a:),&quot;7&quot;,(a:),&quot;8&quot;,(a:),&quot;9&quot;,(a:),&quot;10&quot;,(a:),&quot;11&quot;,(a:),&quot;12&quot;,(a:),&quot;13&quot;,(a:),&quot;14&quot;,(a:),&quot;15&quot;,(a:),&quot;16&quot;,(a:),&quot;17&quot;,(a:),&quot;18&quot;,(a:),&quot;19&quot;,(a:), &quot;20&quot;,(a:), &quot;21&quot;,(a:), &quot;22&quot;,(a:), &quot;23&quot;,(a:), &quot;24&quot;,(a:), &quot;25&quot;,(a:)))

(set: $arcDirection to (a:))
	


&lt;!--CONTROL--&gt; 
&lt;!--CONTROL--&gt; 
&lt;!--CONTROL--&gt; 
&lt;!--CONTROL--&gt;
&lt;!--CONTROL--&gt; 



		
&lt;!--This is the top level control for building both rooms and subloci. It merely controls the loop, passing off the substance to $expandstructure .--&gt;  
		
(set: $buildLoci to 
(macro: [
	($expandStructure:)
	(set: $counter to $counter +1)
	(if: $counter &gt;30)[(error: &quot;Counter has exceeded 30&quot;)]
	(if: $counter &lt; 25) [($buildLoci:)]
	(output-data: &quot;&quot;)
		]
		))
	
		


&lt;!--Upper management function is the substantial controller for loci generation. Directs functions to create loci even if their space is already taken. Arcs will not be built to such &quot;ghost&quot; loci, however.--&gt;

(set: $expandStructure to 
(macro: [
	($createNaddN3:)
	(if: $arcDirection is not an array)[(error: &quot;arc direction is not array after createNaddN3&quot;)]
	($createNaddLocus:)
	($addN3toStructure:)
	(if: $counter &lt; 10)[($makeArc:)]
	(else:) [($makeContingentArc:)]
	($addExits:)
	(output-data: &quot;&quot;)
	]
	))



	




	

	
&lt;!--DEBUGGING--&gt;
&lt;!--DEBUGGING--&gt; 
&lt;!--DEBUGGING--&gt; 
&lt;!--DEBUGGING--&gt; 

(set: $arcBad to 
(macro: array-type _arc, [
	(if: any of _arc &gt; 1 or any of _arc &lt; -1)[(output-data: true)]
	(else:) [(output-data: false)]
	]
	))
	




	

}
</tw-passagedata><tw-passagedata pid="32" name="graph cleanup legacy" tags="" position="3103,456" size="100,100">{

	

&lt;!--CLEAN UP--&gt; 
&lt;!--CLEAN UP--&gt; 
&lt;!--CLEAN UP--&gt; 
&lt;!--CLEAN UP--&gt; 

&lt;!--removes duplicates--&gt; 
(set: $cleanGraphs to 
(macro: [
	[($cleanLocuses:)
	($cleanArcs:)
	(output-data:&quot;&quot;)]
	]
	))

(set: $cleanLocuses to
(macro: [
	(set: $cleanloci to (a:))
	($removeDuplicateLoci:)
	(output-data:&quot;&quot;)
	]))
	

(set: $cleanArcs to 
(macro: [
	(set:$cleanConnections to (a:))
	($removeDuplicates:)
	(set:$outConnections to (a:))
	($removeLoopyArcs:)
	(set:$completeConnections to (a:))
	($addReturnPaths:)
	(set:$cleanConnections to (a:))
	($removeDuplicates:)
	(output-data:&quot;&quot;)
	]
	))
	
(set: $removeDuplicates to 
(macro: [
	(if: length of $arcs is 0)[(set: $arcs to $cleanConnections)
		]
	(else:) [
		($copyList:)
		($removeDuplicates:)
	]	
	(output-data:&quot;&quot;)
	]
	))
	

(set: $copyList to 
(macro: [
	(set: _x to 1st of $arcs)
	(set: $arcs to $arcs - (a:1st of $arcs))
	(set: $cleanConnections to $cleanConnections + (a:_x))
	(output-data: &quot;&quot;)
		]
		))

&lt;!--This removes any arcs that connect a single node to itself. If this is called after duplicate nodes are removed, cleanConnections must be reset to an empty array before calling it. --&gt; 

(set: $removeLoopyArcs to 
(macro: [
	(if: length of $arcs is 0)[
		(set: $arcs to $outConnections)]
	(else:)[($removeLoopyArc:)
			($removeLoopyArcs:)]
	(output-data:&quot;&quot;)
	]
))

&lt;!--This expects arcs to be nonempty when called. It checks the first arc in arcs to see if it loops a node to itself. If it does, it simply removes it from arcs, without copying it to cleanConnections.--&gt; 
(set: $removeLoopyArc to 
(macro: [
	(set: _x to 1st of $arcs)
	(set: $arcs to $arcs - (a:_x))
	(if: 1st of _x is not 2nd of _x)
		[(set: $outConnections to $outConnections + (a:_x))
		]
	(output-data:&quot;&quot;)
	]
	))

(set: $addReturnPaths to 
(macro: [
	(if: length of $arcs is 0)[(set: $arcs to $completeConnections)]
	(else:) [($copyWithReverse:)
			($addReturnPaths:)]
	(output-data:&quot;&quot;)
	]
	))
	
(set: $copyWithReverse to 
(macro: [
	(set: _x to 1st of $arcs)
	(set: _reversal to (a: 2nd of _x,1st of _x))
	(set: $completeConnections to $completeConnections + (a:_x,_reversal))
	(set: $arcs to $arcs - (a:_x))
	(output-data:&quot;&quot;)
	]
	))

&lt;!--remove the latter of two loci that have the same coordinates--&gt;
(set: $removeDuplicateLoci to 
(macro: [
	(if: length of $loci is 0)[(set: $loci to $cleanloci)]
	(else:) [
		($copylocus:)
		($removeDuplicateLoci:)
	]	
	(output-data:&quot;&quot;)
	]
	))
	
&lt;!--needs cleanLoci to be set as array before being called--&gt; 
(set: $copylocus to 
(macro: [
	(set: _x to 1st of $loci)
	(set: $currentlyCleaning to (a:3rd of _x, 4th of _x, 5th of _x))
						
	(set: $competitors to 
		(find: _item where _item matches (a:num,string,3rd of _x, 4th of _x, 5th of _x), ...$loci))
	(set: $loci to $loci - $competitors)		
	(if: length of $competitors is 1)
		[(set: $cleanloci to $cleanloci + (a:_x))] 
	(else:)[(set: $leader to _x)
			($getLowestLocus:)
			(set: $cleanloci to $cleanloci + (a:$winner))]
	(output-data: &quot;&quot;)
		]
		
		))
	
	
&lt;!--Puts the lowest numbered locus from an array of loci into winner--&gt; 
&lt;!--Expects competitors and an initial leader to be set before being called--&gt; 
(set: $getLowestLocus to 
(macro: [
	(if: length of $competitors is 0)[(set: $winner to $leader)]
	(else:) [(set: _entrant1 to 1st of $competitors)
			(set: $competitors to $competitors - (a:1st of $competitors))
			(if: 1st of _entrant1 &lt; 1st of $leader) [
				(set: $leader to _entrant1)
				]
			($getLowestLocus:)
]
	(output-data:&quot;&quot;)
	]))

}


</tw-passagedata><tw-passagedata pid="33" name="locus 0" tags="" position="2482,900" size="100,100">($buildMap:) 

{(set: $thisRoomsNumber to 0)
(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)
(set: $wordIterator to 1)
($getTheseCoords:)
($getExitVectors:)
($listExits: $exitVectors)


}
1
You are at ($locusWord:) $thisRoomsNumber. 
(print: $directionText) 
(if: $theseCoords is $mostExtreme)[$returnText]
Here are the exit vectors: 
(for: each _item, ...$exitVectors) [* _item]

</tw-passagedata><tw-passagedata pid="34" name="entrance" tags="" position="2284,899" size="100,100">You enter [[the complex.-&gt;locus 0]] 

	($buildLoci:)
	($cleanGraphs:)
</tw-passagedata><tw-passagedata pid="35" name="legacy _graph access v2" tags="" position="2723,346" size="100,100">&lt;!--takes room coords and returns list of all surrounding spaces. Should be called with _current set to (a: -1,-1,-1) --&gt; 
(set: $getSurroundingSpaces to
(macro: array-type _vector, array-type _current, [
	(set: $surroundings to (a:))
	(if: _current is not (a:0,0,0)[
		(set: _space to ($addN3s: _vector, _current))
		(set: $surroundings to $surroundings + (a:_space))]
	(if: _current is (a:1,1,1))[(output-data: &quot;&quot;)]
	(else:)
		[(set: _newCurrent to ($upClock: _current))
		($getSurroundingSpaces: _newCurrent)]
	(output-data: &quot;&quot;)]))


&lt;!--takes room coords and returns name of room--&gt; 
(set: $getRoomFromCoords to
(macro: array-type _vector, [
	(set: _matcher to (a:num, string) + _vector)
	(if: length of _matcher is not 5) [(error: &quot;matcher wrong length&quot;)]
	(set: _locusList to (find: _item where _item matches _matcher, ...$loci))
	(if: length of _locusList is 0)[(error: &quot;cannot find locus &quot; + (print:_matcher)] 
	(set: _locus to 1st of _locusList)
	(set: _output to 2nd of _locus)
	(output-data:_output)
	]))
	
(set: $getThisLocus to
(macro: [
	(set: $thisLocus to 1st of (find: _item where _item matches (a:$thisRoomsNumber,string,num, num, num), ...$loci))
	(set: $report to $report + &quot; $thisLocus&quot;)
	(output-data:&quot;&quot;)
	]))
	
(set: $thisLocisNumber to 
(macro: [
	($getThisLocus:)
	(set: _output to 1st of $thisLocus)
	(output-data: _output)
	]
))

&lt;!--assumes getThisLocus has already been called--&gt; 
(set: $getTheseCoords to 
(macro: [
	(set: _c1 to 3rd of $thisLocus) 
	(set: _c2 to 4th of $thisLocus) 
	(set: _c3 to 5th of $thisLocus) 
	(set: $theseCoords to (a:_c1,_c2,_c3))
	(output-data:&quot;&quot;)
	]
	))
	
(set: $getArcsFromHere to 
(macro: [
	(set: $arcsFromHere to 
		(find: _item where _item matches (a:$thisRoomsNumber,num), ...$arcs))
		(output-data: &quot;&quot;)
		]))

&lt;!--this takes the arcs that begin with this room number and subtracts this room number, leaving the other one--&gt; 
(set: $getNeighbors to 
(macro: [
	(if: $arcsFromHere matches (a:))[(error: &quot;this room has no neighbors!&quot;)]
	(set: $neighbors to 
		(altered: _item via 2nd of _item, ... $arcsFromHere))
	(output-data:&quot;&quot;)
	]
	
	))


&lt;!--not sure what this does. Could be mis-written.--&gt; 
(set: $getRoomWithNum to
(macro: num-type _locus, [
	(set: _output to (find: _item where _item matches (a:_locus,num), ...$loci)
	(output-data:_output)
	]))
	
	
	
	
(set: $getNeighboringLoci to 
(macro: [
	(set: $scanner to length of $loci)
	($gnlLoop:)
	(output-data:&quot;&quot;)
	]
	))

(set: $gnlLoop to 
(macro: [
	(if: $scanner &lt;= 1)[(set: $neighboringLoci to $neighboringLoci)]
	(else:) [
		(if: (a: num,$scanner) is in $arcsFromHere)
			[(set: $neighboringLoci to $neighboringLoci + ($getRoomWithNum: $scanner))]
		(set: $scanner to $scanner - 1)
		($gnlLoop:)
		]
	(output-data:&quot;&quot;)
	]
	))
	
	
&lt;!--An exit vector is a 3 array whose first element is the room # to which it connects, second # is the name of that room, and whose remaining elements are the three coordinates that specify its direction--&gt;
&lt;!--Gets the value for the string thisRoomsNumber from the datamap exits--&gt;
(set: $getExitVectors to 
(macro: [
	(set: _roomString to (str: $thisRoomsNumber))
	(set: $exitVectors to _roomString of $exits)
	(output-data:&quot;&quot;)
	]))

(set: $deductLoci to 
(macro: array-type _locus1, array-type _locus2, [
	(set: _c1 to 3rd of _locus1 - 3rd of _locus2)
	(set: _c2 to 4th of _locus1 - 4th of _locus2)
	(set: _c3 to 5th of _locus1 - 5th of _locus2)
	(set: _output to (a: 1st of _locus1, 2nd of _locus1, _c1, _c2, _c3))
	(output-data: _output)
	]
	))
		
	
	
	
	
	


	</tw-passagedata><tw-passagedata pid="36" name="empty test" tags="" position="3063,817" size="100,100">

(set: $report to &quot;&quot;)
($buildLoci:)
Here are the loci before cleaning: $loci
($cleanGraphs:)

Here are the loci after cleaning: $loci
Here are the arcs: $arcs
Here is the report: $report










</tw-passagedata><tw-passagedata pid="37" name="output test" tags="" position="3179,819" size="100,100">(set: $b1 to 
(macro: [
	($buildLoci:)
	(output-data:&quot;&quot;)
	]
	))

($b1:)
$arcs
$loci
</tw-passagedata><tw-passagedata pid="38" name="temp tester" tags="" position="3131,702" size="100,100">($mod: 0,1)
$modulus
($mod: 1,0)
$modulus
($mod: 1,1)
$modulus
($mod: 1,2)
$modulus
($mod: 2,1)
$modulus
($mod: 2,2)
$modulus
($mod: 1,3)
$modulus
($mod: 3,1)
$modulus
($mod: 3,3)
$modulus

($mod: 1,12)
$modulus($mod: 12,1)
$modulus
($mod: 3,16)
$modulus
($mod: 16,3)
$modulus
($mod: 4,9)
$modulus
($mod: 4,-9)
$modulus
($mod: -4,9)
$modulus
</tw-passagedata><tw-passagedata pid="39" name="Untitled Passage 1" tags="" position="2915,851" size="100,100">go to [[empty test]]</tw-passagedata><tw-passagedata pid="40" name="locus 1" tags="" position="2486,1020" size="100,100">{(set: $thisRoomsNumber to 1)
(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)
(set: $wordIterator to 1)

($getTheseCoords:)
($getExitVectors:)
($listExits: $exitVectors)

}
1
(print: $directionText) 
(if: $theseCoords is $mostExtreme)[$returnText]
</tw-passagedata><tw-passagedata pid="41" name="locus 2" tags="" position="2600,1021" size="100,100">{(set: $thisRoomsNumber to 2)
(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)

($getTheseCoords:)
($getExitVectors:)
(set: $wordIterator to 1)

($listExits: $exitVectors)

}
location 2
(print: $directionText) 
(if: $theseCoords is $mostExtreme)[$returnText]
</tw-passagedata><tw-passagedata pid="42" name="LEGACY building arcs and loci v1" tags="" position="3219,349" size="100,100">
&lt;!--BUILDING ARCS--&gt; 
&lt;!--BUILDING ARCS--&gt; 
&lt;!--BUILDING ARCS--&gt; 
&lt;!--BUILDING ARCS--&gt; 

&lt;!--given the new n3, checks whether something exists already at that location and uses that to decide whether to make an arc from the template to the current occupant or create a new node. Calls the appropriate functions.--&gt; 

(set: $makeContingentArc to 
(macro: [
	(if: $n3 is in $realLoci)[($makeArcToOldNode:)]
	(else:)[($makeArc:)]
	(output-data: &quot;&quot;)
	]))
	
&lt;!--given that the new node already exists, this finds the room at those coordinates and calls getRoomAt to set oldnode to that locus number. then creates an arc from the getBranchingPoint to it.--&gt; 
(set: $makeArcToOldNode to 
(macro: [
	($getRoomAt:)
	(set: $arcs to $arcs + (a:(a:1st of $branchingPoint, $oldNode)))
	(output-data: &quot;&quot;)
	]
	))
	
(set: $makeArc to 
(macro: [
	(if: $branchingPointNo is $counter)[(error: &quot;current template and counter have the same number in makeArc&quot;)]
	(set: $arcs to $arcs + (a: (a: $branchingPointNo, $counter)))
	(output-data: &quot;&quot;)
	]
	))
	


&lt;!--called by $makeArcToOldNode, sets $oldNode to the number of the room at the n3 coordinates. If there are multiple, returns the least. Hence this returns the room rather than the nonroom. This macro expects a nonempty array, and reports an error if it does not get one. --&gt;

(set: $getRoomAt to 
(macro: [
	(set: _matches to 
		(find: _locus where _locus&#39;s 3rdto5th is $n3, ...$loci))
	(if: _matches&#39;s length is 0)[
		(error: &quot;$getRoomAt has been handed an empty array!&quot;)]
	(if: _matches&#39;s length is 1) [
		(set: _node to 1st of _matches)
		(set: $oldNode to 1st of _node)]
	(else:)[
		(set: _locusNumbers to 
			(altered: _node via 1st of _node,  ..._matches))
		(set: $oldNode to (min:10000,..._locusNumbers))
		(if:$oldNode is 10000) 
			[(error: &quot;$getroom given empty array, or # rooms &gt;10000&quot;)]]
		(output-data: &quot;&quot;)
	]
	))


&lt;!--BUILDING LOCI --&gt; 
&lt;!--BUILDING LOCI --&gt; 
&lt;!--BUILDING LOCI --&gt; 
&lt;!--BUILDING LOCI --&gt; 


(set: $createNaddLocus to 
(macro: [
	($makeLocus:)
	(if: $arcDirection is not an array)
		[(error: &quot;arcDirection is not array when makeLocus concludes&quot;)]
	($addLocustoStructure:)
&lt;!---here is where addexits used to be--&gt; 	
	(output-data: &quot;&quot;)
	]
	))

&lt;!--takes an n3 and forms a locus from it.--&gt;
(set: $makeLocus to 
(macro: [
	(set: $newName to &quot;locus &quot; + (str: $counter))
	(set: $newLocus to (a:$counter, $newName) + $n3)
	(output-data: &quot;&quot;)
	]
	)
	)</tw-passagedata><tw-passagedata pid="43" name="legacy adding to structure v2" tags="" position="2609,351" size="100,100">
&lt;!--ADDING UNITS TO STRUCTURE--&gt; 
&lt;!--ADDING UNITS TO STRUCTURE--&gt; 
&lt;!--ADDING UNITS TO STRUCTURE--&gt; 
&lt;!--ADDING UNITS TO STRUCTURE--&gt; 

&lt;!--takes an n3 created by $createN3 and adds it to the realLoci list to keep track of that position being occupied--&gt;
(set: $addN3toStructure to 
(macro: [
	(set: $realLoci to $realLoci + (a:$n3))
	(output-data: &quot;&quot;)
	]
	))
	
&lt;!--takes an newly created locus and adds it to the Loci list --&gt;
(set: $addLocustoStructure to 
(macro: [
	(set: $loci to $loci + (a:$newLocus))
	(output-data: &quot;&quot;)
	]
	))
		
&lt;!--ADDING EXITS TO EXIT LIST--&gt; 
&lt;!--ADDING EXITS TO EXIT LIST--&gt; 
&lt;!--ADDING EXITS TO EXIT LIST--&gt; 
&lt;!--ADDING EXITS TO EXIT LIST--&gt; 


(set: $OLDaddExits to 
(macro:[
	(if: $branchingPointNo is $maxRoom)[(output-data: &quot;&quot;)] 
	(if: $arcDirection does not match (a:0,0,0))[
		(set: $branch to &quot;branch&quot;)
		($addExit: $branchingPointNo, $arcDirection)
		(set: $branch to &quot;return passage&quot;)
		($addExit: $currentBuildNo, ($reverseValues: $arcDirection))]
	(output-data:&quot;&quot;)
	]
	))
	

&lt;!--adds an arc direction to the corresponding member of exits--&gt; 

(set: $addExits to 
(macro:[
	(if: $arcDirection does not match (a:0,0,0))[
		($addExit: $branchingPointNo, $arcDirection)
		($addExit: $currentBuildNo, ($reverseValues: $arcDirection))
		]
	(if: $branchingPointNo &gt; 9) [
		(set:$arcReport to $arcReport + &quot;branching point is &quot; + (str:$branchingPointNo) + &quot; &quot;)]
	(output-data:&quot;&quot;)
	]
	))

&lt;!--adds an arc direction to the corresponding member of exits--&gt; 
(set: $addExit to 
(macro: num-type _locus, array-type _arcDirection, [
	(set: _roomString to (str: _locus))
	(if: _roomString of $exits does not contain _arcDirection)
		[
		(set: _roomString of $exits to it + (a:_arcDirection))]
	(output-data:&quot;&quot;)
	]
	))

&lt;!--takes an arc and returns the reverse polarity for each coord.--&gt; 
(set: $reverseValues to 
(macro: array-type _arc, [
	(if: _arc is not an array)[(error: &quot;$reverseValues given something other than array&quot;)]
	(set: _roomString to (str: _arc))
	(set: _output to (a: 
		($reverseValue: 1st of _arc),
		($reverseValue: 2nd of _arc),
		($reverseValue: 3rd of _arc)))
	(output-data:_output)
	]
	))
	
&lt;!--Returns -1 if its argument is positive, 1 if negative, and 0 otherwise--&gt; 
(set: $reverseValue to 
(macro: num-type _x, [
	(if: _x is not 0)[(set: _x to -_x/(abs:_x))]
	(output-data: _x)]
	))
</tw-passagedata><tw-passagedata pid="44" name="LEGACY building n3s v1" tags="" position="3101,347" size="100,100">&lt;!--BUILDING N3s --&gt; 
&lt;!--BUILDING N3s --&gt; 
&lt;!--BUILDING N3s --&gt; 
&lt;!--BUILDING N3s --&gt; 

&lt;!--Middle management function aggregates the creation of the n3 with its addition to the structure--&gt; 

(set: $createNaddN3 to 
(macro: [
	($createN3:)
	($addN3toStructure:)
	(output-data:&quot;&quot;)
	]
	))

&lt;!--takes a template locus and populates coords on next locus to make it one unit away. Calls different coordinate functions depending on whether the locus is a room or a sublocus. The called functions will set the variable $n3. Requires $getBranchingPoint or $getRandomTemplate to have been called.--&gt; 
	
(set: $createN3 to
(macro: [
	(if: $currentBuildNo &lt; 10)
		[($getBranchingPoint:)
		($getElaborateCoords:)]
	(else:) 
		[($getNonRoomCoords:)
	]
	(output-data: &quot;&quot;)
	]
	))

&lt;!--decides at random whether to assign coordinates at random or whether to project in the same direction--&gt; 

(set: $getElaborateCoords to
(macro: [
	($getBranchingPoint:)
	(if: $branchingPointNo is 0)[($getNewCoords:)]
	(else:) [
		(set: _random to ($getBinaryValue:))
		(if: _random is 0) [($getNewCoords:)]
		(else:) [($tryProjectedCoords:)]]
	(if: length of $arcDirection is not 3)[(error: &quot;arc direction has wrong length as $getElaborateCoords terminates&quot;)]
	(output-data:&quot;&quot;)
	]))
	
&lt;!--Keeps trying getNonNullArc until it gets something new.--&gt; 
(set: $getNewCoords to 
(macro: [
	($getNonNullArc:)
	(if: $n3 is not in $nodes)[(set: $nodes to $nodes + (a:$n3))]
	(else:)[($getNewCoords:)]
	(if: length of $arcDirection is not 3)[(error: &quot;arc direction has wrong length as getNewCoords terminates!&quot;)]
	(output-data: &quot;&quot;)
	]))
	
	
&lt;!--Tries projecting first, then if it fails, calls getNewCoords to keep trying getSimpleCoords until it gets something new.--&gt; 
(set: $tryProjectedCoords to 
(macro: [
	($getProjectedCoords:)
	(if: $n3 is not in $nodes)[(set: $nodes to $nodes + (a:$n3))]
	(else:)[($getNewCoords:)]
	(if: length of $arcDirection is not 3)[(error: &quot;arc direction has wrong length as tryProjectedCoords terminates!&quot;)]
	(output-data: &quot;&quot;)
	]))
	
(set: $getNonNullArc to 
(macro: [
	($getSimpleCoords:)
	(if: $arcDirection matches (a:0,0,0))[($getNonNullArc:)]
	(output-data:&quot;&quot;)
	]))


&lt;!--simply assigns coordinates at random, such that the new n3 is no more than one step from the template--&gt; 

(set: $getSimpleCoords to 
(macro: [
	(set: $arcDirection to (a: ($getTernaryValue:),($getTernaryValue:),($getTernaryValue:)))

	(if: length of $arcDirection is not 3)[(error: &quot;arc direction has wrong length right after being set!&quot;)]

	(set: _c1 to 1st of $arcDirection + 3rd of $branchingPoint)
	(set: _c2 to 2nd of $arcDirection + 4th of $branchingPoint)
	(set: _c3 to 3rd of $arcDirection + 5th of $branchingPoint)
	(set: $n3 to (a: _c1, _c2, _c3))
	(if: length of $arcDirection is not 3)[(error: &quot;arc direction has wrong length as getSimpleCoords terminates!&quot;)]
	(if: $arcDirection contains 2 or $arcDirection contains -2)[(error: &quot;too large an arc in getSimpleCoords&quot;)]

	(output-data:&quot;&quot;)
	]
	))
	
&lt;!--If called in the &lt;10 phase, this creates long structures by expanding outwards, rather than at random.--&gt; 

(set: $getProjectedCoords to 
(macro: [
	(set: _c1 to ($increment: 3rd of $branchingPoint))
	(set: _c2 to ($increment: 4th of $branchingPoint))
	(set: _c3 to ($increment: 5th of $branchingPoint))
	(set: $n3 to (a: _c1, _c2, _c3))
	(set: $arcDirection to ($subtractN3s: $n3, $branchingPoint))

	(if: length of $arcDirection is not 3)[(error: &quot;arc direction has wrong length as getprojectedcoords terminates!&quot;)]
	(if: $arcDirection contains 2 or $arcDirection contains -2)[(error: &quot;too large an arc in getProjectedCoords&quot;)]
	(output-data:&quot;&quot;)
	]
	))

&lt;!--This adds 1 to positive values and deducts 1 from negative--&gt; 
(set: $increment to 
(macro: num-type _x, [
	(set: _output to (cond: 
		_x is &gt;0, _x + 1, 
		_x &lt; 0, _x -1, 
		0))
	(output-data: _output)
	]
	))


&lt;!--when it comes to creating subloci, we want them to generally head back towards the origin of the complex in order to create functional connections between rooms. This function uses branchingPoint to create a node 1 step in the direction of the origin. It is assumed that ($getRandomTemplate:) has already been run.--&gt; 

(set: $getReturnCoords to 
(macro: [
(set: _n3 to (a: $branchingPoint&#39;s 3rd, $branchingPoint&#39;s 4th, $branchingPoint&#39;s 5th))
	(if: $branchingPoint&#39;s 3rd is not a number)[
		(set: _x to (str: $branchingPoint))
		(error: &quot;getBranchingPoint has wrong format--&gt;look!&quot; + _x)]
	(set: $arcDirection to
		($reverseValues: (a:_n3&#39;s 1st, _n3&#39;s 2nd, _n3&#39;s 3rd)))
	(set: $n3 to ($addN3s: $arcDirection, $branchingPoint))
	(if: $arcDirection contains 2 or $arcDirection contains -2)[(error: &quot;too large an arc in getReturnCoords&quot;)]
	(if: length of $arcDirection is not 3)[(error: &quot;arc direction has wrong length as getReturnCoords terminates&quot;)]
	(output-data: &quot;&quot;)
	]
	))
	
(set: $subtractN3s to
(macro: array-type _first, array-type _second,[
	(set: _first to (subarray: _first, -3, -1))
	(set: _second to (subarray: _second, -3, -1))
	(set: _a to 1st of _first - 1st of _second)
	(set: _b to 2nd of _first - 2nd of _second)
	(set: _c to 3rd of _first - 3rd of _second)
	(output-data: (a: _a,_b,_c))
	]))
	
(set: $addN3s to
(macro: array-type _first, array-type _second,[
	(set: _first to (subarray: _first, -3, -1))
	(set: _second to (subarray: _second, -3, -1))
	(set: _a to 1st of _first + 1st of _second)
	(set: _b to 2nd of _first + 2nd of _second)
	(set: _c to 3rd of _first + 3rd of _second)
	(output-data: (a: _a,_b,_c))
	]))



&lt;!--using the above function alone generates back paths that proceed too directly to be interesting. So it is called by the following, which mixes this up a bit.--&gt; 

(set: $getNonRoomCoords to
(macro: [
	($getRandomTemplate:)
	(set: _random to ($getTernaryValue:))
	(if: _random is 0) [($getReturnCoords:)]
	(else:) [
		(if: _random is -1)[($getProjectedCoords:)]
		(else:) [($tryNewCoords:)]
		]
	(output-data:&quot;&quot;)
	]))

&lt;!--this is just for the return path generation. It attempts to get some simple coords at random, but if they&#39;re not new, it refers the process back to getnonroomcoords, which may select a different template.--&gt; 
(set: $tryNewCoords to 
(macro: [
	($getSimpleCoords:)
	(if: $n3 is not in $nodes)[(set: $nodes to $nodes + (a:$n3))]
	(else:)[($getNonRoomCoords:)]
	(if: length of $arcDirection is not 3)[(error: &quot;arc direction has wrong length as tryNewCoords terminates&quot;)]
	(output-data: &quot;&quot;)
	]))

&lt;!--Resets getBranchingPoint to the new counter value, and sets the template number accordingly. To be used at the beginning of every cycle during room generation.--&gt;

(set: $getBranchingPoint to 
(macro: [
	(set: _current to $counter)
	(set: $branchingPoint to _current of $loci)
	(if: 2nd of $branchingPoint is not a string)[(error: &quot;getBranchingPoint is not a 5-locus&quot;)]
	(set: $branchingPointNo to 1st of $branchingPoint)
	(if: $branchingPointNo is not _current -1)[(error: &quot;either _current or getBranchingPointNo is wrong&quot;)]
	(output-data: &quot;&quot;)
	]))
	
&lt;!--Resets getBranchingPoint to a random locus, and sets the template number accordingly. To be used at the beginning of every cycle during subloci generation.--&gt;
(set: $getRandomTemplate to 
(macro: [ 
	(set: _random to ($getStableRandom20:) +6)
	(set: $branchingPoint to (nth:_random, ...$loci))
	(set: $branchingPointNo to 1st of $branchingPoint)
	(output-data: &quot;&quot;)
	]))
</tw-passagedata><tw-passagedata pid="45" name="locus 3" tags="" position="2715,1019" size="100,100">{(set: $thisRoomsNumber to 3)
(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)

($getTheseCoords:)
($getExitVectors:)
(set: $wordIterator to 1)

($listExits: $exitVectors)

}
3
(print: $directionText) 
(if: $theseCoords is $mostExtreme)[$returnText]
</tw-passagedata><tw-passagedata pid="46" name="test" tags="" position="2659,894" size="100,100">just some stuff. 

just some stuff. 


just some stuff. </tw-passagedata><tw-passagedata pid="47" name="locus 5" tags="" position="2951,1019" size="100,100">{(set: $thisRoomsNumber to 5)
(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)

($getTheseCoords:)
($getExitVectors:)
(set: $wordIterator to 1)

($listExits: $exitVectors)

}
5

(print: $directionText) 
(if: $theseCoords is $mostExtreme)[$returnText]
</tw-passagedata><tw-passagedata pid="48" name="locus 4" tags="" position="2833,1022" size="100,100">{(set: $thisRoomsNumber to 4)
(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)
(set: $wordIterator to 1)

($getTheseCoords:)
($getExitVectors:)
($listExits: $exitVectors)



}

4
(print: $directionText) 
(if: $theseCoords is $mostExtreme)[$returnText]
</tw-passagedata><tw-passagedata pid="49" name="locus 6" tags="" position="3076,1015" size="100,100">{(set: $thisRoomsNumber to 6)
(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)

($getTheseCoords:)
($getExitVectors:)
(set: $wordIterator to 1)

($listExits: $exitVectors)

}
6

(print: $directionText) 
(if: $theseCoords is $mostExtreme)[$returnText]
</tw-passagedata><tw-passagedata pid="50" name="locus 7" tags="" position="3198,1019" size="100,100">{(set: $thisRoomsNumber to 7)
(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)

($getTheseCoords:)
($getExitVectors:)
(set: $wordIterator to 1)
($listExits: $exitVectors)


}
7

(print: $directionText) 
(if: $theseCoords is $mostExtreme)[$returnText]
</tw-passagedata><tw-passagedata pid="51" name="locus 8" tags="" position="2489,1134" size="100,100">{(set: $thisRoomsNumber to 8)
(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)

($getTheseCoords:)
($getExitVectors:)
(set: $wordIterator to 1)
($listExits: $exitVectors)

}
8

(print: $directionText) 
(if: $theseCoords is $mostExtreme)[$returnText]
</tw-passagedata><tw-passagedata pid="52" name="locus 9" tags="" position="2599,1134" size="100,100">{(set: $thisRoomsNumber to 9)
(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)

($getTheseCoords:)
($getExitVectors:)
(set: $wordIterator to 1)
($listExits: $exitVectors)

}
9

(print: $directionText) 
(if: $theseCoords is $mostExtreme)[$returnText]
</tw-passagedata><tw-passagedata pid="53" name="locus 10" tags="" position="2714,1134" size="100,100">{(set: $thisRoomsNumber to 10)
(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)

($getTheseCoords:)
($getExitVectors:)
(set: $wordIterator to 1)
($listExits: $exitVectors)

}
10

(print: $directionText) 
(if: $theseCoords is $mostExtreme)[$returnText]
</tw-passagedata><tw-passagedata pid="54" name="locus 11" tags="" position="2833,1134" size="100,100">{(set: $thisRoomsNumber to 11)
(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)

($getTheseCoords:)
($getExitVectors:)
(set: $wordIterator to 1)

($listExits: $exitVectors)

}

(print: $directionText) 
(if: $theseCoords is $mostExtreme)[$returnText]
</tw-passagedata><tw-passagedata pid="55" name="locus 12" tags="" position="2949,1133" size="100,100">{(set: $thisRoomsNumber to 12)
(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)

($getTheseCoords:)
($getExitVectors:)
(set: $wordIterator to 1)
($listExits: $exitVectors)

}

(print: $directionText) 
(if: $theseCoords is $mostExtreme)[$returnText]
</tw-passagedata><tw-passagedata pid="56" name="locus 13" tags="" position="3071,1133" size="100,100">{(set: $thisRoomsNumber to 13)
(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)

($getTheseCoords:)
($getExitVectors:)
(set: $wordIterator to 1)

($listExits: $exitVectors)

}

(print: $directionText) 
(if: $theseCoords is $mostExtreme)[$returnText]
</tw-passagedata><tw-passagedata pid="57" name="locus 14" tags="" position="3193,1134" size="100,100">{(set: $thisRoomsNumber to 14)
(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)

($getTheseCoords:)
($getExitVectors:)
(set: $wordIterator to 1)
($listExits: $exitVectors)

}

(print: $directionText) 
(if: $theseCoords is $mostExtreme)[$returnText]
</tw-passagedata><tw-passagedata pid="58" name="locus 15" tags="" position="2491,1256" size="100,100">{(set: $thisRoomsNumber to 15)
(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)

($getTheseCoords:)
($getExitVectors:)
(set: $wordIterator to 1)
($listExits: $exitVectors)

}

(print: $directionText) 
(if: $theseCoords is $mostExtreme)[$returnText]
</tw-passagedata><tw-passagedata pid="59" name="locus 16" tags="" position="2603,1256" size="100,100">{(set: $thisRoomsNumber to 16)
(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)

($getTheseCoords:)
($getExitVectors:)
(set: $wordIterator to 1)
($listExits: $exitVectors)

}

(print: $directionText) 
(if: $theseCoords is $mostExtreme)[$returnText]
</tw-passagedata><tw-passagedata pid="60" name="locus 17" tags="" position="2716,1256" size="100,100">{(set: $thisRoomsNumber to 17)
(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)

($getTheseCoords:)
($getExitVectors:)
(set: $wordIterator to 1)
($listExits: $exitVectors)

}

(print: $directionText) 
(if: $theseCoords is $mostExtreme)[$returnText]
</tw-passagedata><tw-passagedata pid="61" name="locus 18" tags="" position="2836,1261" size="100,100">{(set: $thisRoomsNumber to 18)
(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)

($getTheseCoords:)
($getExitVectors:)
(set: $wordIterator to 1)
($listExits: $exitVectors)

}

(print: $directionText) 
(if: $theseCoords is $mostExtreme)[$returnText]
</tw-passagedata><tw-passagedata pid="62" name="locus 19" tags="" position="2949,1253" size="100,100">{(set: $thisRoomsNumber to 19)
(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)

($getTheseCoords:)
($getExitVectors:)
(set: $wordIterator to 1)
($listExits: $exitVectors)

}

(print: $directionText) 
(if: $theseCoords is $mostExtreme)[$returnText]
</tw-passagedata><tw-passagedata pid="63" name="locus 20" tags="" position="3073,1251" size="100,100">{(set: $thisRoomsNumber to 20)
(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)

($getTheseCoords:)
($getExitVectors:)
(set: $wordIterator to 1)
($listExits: $exitVectors)

}

(print: $directionText) 
(if: $theseCoords is $mostExtreme)[$returnText]
</tw-passagedata><tw-passagedata pid="64" name="locus 21" tags="" position="3189,1258" size="100,100">{(set: $thisRoomsNumber to 21)
(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)

($getTheseCoords:)
($getExitVectors:)
(set: $wordIterator to 1)
($listExits: $exitVectors)

}

(print: $directionText) 
(if: $theseCoords is $mostExtreme)[$returnText]
</tw-passagedata><tw-passagedata pid="65" name="locus 22" tags="" position="2488,1376" size="100,100">{(set: $thisRoomsNumber to 22)
(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)

($getTheseCoords:)
($getExitVectors:)
(set: $wordIterator to 1)

($listExits: $exitVectors)

}

(print: $directionText) 
(if: $theseCoords is $mostExtreme)[$returnText]
</tw-passagedata><tw-passagedata pid="66" name="locus 23" tags="" position="2606,1376" size="100,100">{(set: $thisRoomsNumber to 23)
(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)

($getTheseCoords:)
($getExitVectors:)
(set: $wordIterator to 1)

($listExits: $exitVectors)

}

(print: $directionText) 
(if: $theseCoords is $mostExtreme)[$returnText]
</tw-passagedata><tw-passagedata pid="67" name="locus 24" tags="" position="2718,1376" size="100,100">{(set: $thisRoomsNumber to 24)
(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)

($getTheseCoords:)
($getExitVectors:)
(set: $wordIterator to 1)

($listExits: $exitVectors)

}

(print: $directionText) 
(if: $theseCoords is $mostExtreme)[$returnText]
</tw-passagedata><tw-passagedata pid="68" name="locus 25" tags="" position="2838,1374" size="100,100">{(set: $thisRoomsNumber to 25)
(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)

($getTheseCoords:)
($getExitVectors:)
(set: $wordIterator to 1)

($listExits: $exitVectors)

}

(print: $directionText) 
(if: $theseCoords is $mostExtreme)[$returnText]
</tw-passagedata><tw-passagedata pid="69" name="legacy graph builder control v2" tags="" position="2916,231" size="100,100">{




&lt;!--CONTROL--&gt; 
&lt;!--CONTROL--&gt; 
&lt;!--CONTROL--&gt; 
&lt;!--CONTROL--&gt;
&lt;!--CONTROL--&gt; 



		
&lt;!--This is the top level control for building both rooms and subloci. It merely controls the loop, passing off the substance to $expandstructure .  --&gt;  
		
(set: $buildLoci to 
(macro: [
	($switchTemplate:) &lt;!--get new template from branchlist--&gt;
	($expandStructure:)
	(if: $buildAttempt is &quot;successful&quot;)
		[($updateCounter:)]
	($updateBranchList:)	
	(if: $counter &gt; 9 and $secondCounter &gt; $maxRoom) [(output-data: &quot;&quot;)]
	(else:)[($buildLoci:)]
	(output-data: &quot;&quot;)
		]
		))

(set: $updateCounter to 
(macro: [
	(if: $currentBuildNo &lt; 10)&lt;!--if structure just built = room  --&gt; 
		[(set: $counter to $counter +1)]
	(else:)[(set: $secondCounter to $secondCounter +1)]
	(output-data: &quot;&quot;)
		]
		))

	



&lt;!--switchTemplate manages graph generation by maintaining branchList. Pops the front of branchList from the list and sets the new template to it. The template is the branchpoint from which the next build occurs.--&gt;

(set: $switchTemplate to 
(macro: [
	(set: $report3 to $report3 + &quot; switchTemplate &quot;)
	(if: length of $branchList is 0)
		[(error: &quot;switchTemplate called on empty branchlist&quot;)]
	(set: $branchingPoint to 1st of $branchList) 
	($getBranchingPointCoords:)
	($resetBranchlist:) 
	(output-data: &quot;&quot;)
		]
		))
		


&lt;!--expandStructure is an upper management function is the substantial controller for loci generation. Directs functions to create loci even if their space is already taken. Arcs will not be built to such &quot;ghost&quot; loci, however.--&gt;
	
&lt;!--assuming there are still rooms and passages left in the bank, i.e. counter and secondcounter are beneath 10 and 25 respectively, expandStructure branches to either create a room, in which case counter is incremented, or to create a nonroom, in which case it is secondCounter that is incremented.--&gt;

(set: $expandStructure to 
(macro: [
	(if: $counter &gt; 9 and $secondCounter &gt; $maxRoom)
		[(output-data: &quot;&quot;)]
	(if: $counter &gt; 9)
		[($makeReturnPassage:)]
	(else:)&lt;!--counter is less than 10--&gt;
		[
		(if: $secondCounter &gt; $maxRoom)[($makeARoom:)]
		(else:) [($makeRoomOrPassage:)]
		]
	(output-data: &quot;&quot;)
	]
	))




	
&lt;!--UPDATING BRANCHLIST--&gt; 
&lt;!--UPDATING BRANCHLIST--&gt; 
&lt;!--UPDATING BRANCHLIST--&gt; 
&lt;!--UPDATING BRANCHLIST--&gt; 
&lt;!--UPDATING BRANCHLIST--&gt; 


&lt;!--this decides whether to remove the locus from the branchlist, or leave it in place to create another branch from it later. The higher the value for suppressBranching:, the more likely the node will be a straightforward corridor. The argument should be at least 2, in which case there will be a 2/3 chance (0, 1) that the branch will be reused.--&gt;

(set: $resetBranchlist to 
(macro: [
	(set: $report3 to $report3 + &quot; resetBranchlist &quot;)
	($getRandomWithMax: $suppressBranching)
	(if: $randomWithMax &gt; 0 and $branchList&#39;s length &gt; 0)
		[(set: $branchList to 2ndtolast of $branchList)]
	(output-data: &quot;&quot;) 
		]
		))
		
&lt;!--decides whether to add the new n3 to the branchlist to be a template for future builds or a dead end. Always makes the node available if the branchlist is empty, or if the current build is a passage, otherwise probabilistically.--&gt;

(set: $updateBranchList to 
(macro: [
	($getRandomWithMax: $suppressBranching)
	(if: $branchList&#39;s length is 0 or $currentBuildNo &gt; 9 or $randomWithMax &gt; 0)
		[(set: $branchList to $branchList + (a: $n3))]
	(output-data: &quot;&quot;)
		]
		))


	

	
&lt;!--DEBUGGING--&gt;
&lt;!--DEBUGGING--&gt; 
&lt;!--DEBUGGING--&gt; 
&lt;!--DEBUGGING--&gt; 

(set: $arcBad to 
(macro: array-type _arc, [
	(if: any of _arc &gt; 1 or any of _arc &lt; -1)[(output-data: true)]
	(else:) [(output-data: false)]
	]
	))
	




	

}
</tw-passagedata><tw-passagedata pid="70" name="legacy building n3s v2" tags="" position="2570,235" size="100,100">(set: $getBranchingPointCoords to 
(macro: [
	(set: $branchingPointCoords to 
	(a: 3rd of $branchingPoint, 4th of $branchingPoint, 5th of $branchingPoint))
	(output-data:&quot;&quot;)
	]
	))


&lt;!--MAKE ROOMS AND PASSAGES --&gt; 
&lt;!--MAKE ROOMS AND PASSAGES --&gt; 
&lt;!--MAKE ROOMS AND PASSAGES --&gt; 
&lt;!--MAKE ROOMS AND PASSAGES  --&gt; 

(set: $makeRoomOrPassage to 
(macro: [
	(set: $report3 to $report3 + &quot; makeRoomOrPassage &quot;)
	(set: _random to ($roomProbability:))
	(if: _random is 0) [($makeARoom:)]
	(else:) [($makeOutpassage:)]
	(output-data: &quot;&quot;)
	]
	))

(set: $makeReturnPassage to
(macro: [
	(set: $currentBuildNo to $secondCounter)
	($getReturnCoords:)
	($buildFromN3:) 
	(output-data: &quot;&quot;)
	]
	))


(set: $makeARoom to 
(macro: [
	(set: $report3 to $report3 + &quot; makeARoom &quot;)
	(set: $currentBuildNo to $counter)
	($getNewCoords:)
	($buildFromN3:)
	(output-data: &quot;&quot;)
	]
	))

(set: $makeOutpassage to 
(macro: [
	(set: $currentBuildNo to $secondCounter)
	($getElaborateCoords:)
	($buildFromN3:)
	(output-data: &quot;&quot;)
	]
	))



&lt;!--BUILDING N3s --&gt; 
&lt;!--BUILDING N3s --&gt; 
&lt;!--BUILDING N3s --&gt; 
&lt;!--BUILDING N3s --&gt; 

&lt;!--once the n3 is generated, governs the creation of the locus and its integration into the structure.--&gt;
(set: $buildFromN3 to
(macro: [
	($createNaddLocus:)
	($addN3toStructure:)	
	($makeContingentArc:)
	($addExits:)
	(output-data: &quot;&quot;)
	]
	))

&lt;!--Middle management function aggregates the creation of the n3 with its addition to the structure--&gt; 

(set: $makeAndAddRoomN3 to 
(macro: [
	(set: $currentBuildNo to $counter)
	($getNewCoords:)
	($addN3toStructure:)
	(output-data:&quot;&quot;)
	]
	))
	

(set: $addOutPassageN3 to 
(macro: [
	(set: $report3 to $report3 + &quot; addOutPassageN3 &quot;)
	(set: $currentBuildNo to $secondCounter)
	($getElaborateCoords:)
	($addN3toStructure:)
	(output-data:&quot;&quot;)
	]
	))

(set: $addReturnPassageN3 to 
(macro: [
	(set: $report3 to $report3 + &quot; addReturnPassageN3 &quot;)
	(set: $currentBuildNo to $secondCounter)
	($getReturnCoords:)
	($addN3toStructure:)
	(output-data:&quot;&quot;)
	]
	))


&lt;!--COORD TYPES --&gt; 
&lt;!--COORD TYPES --&gt; 
&lt;!--COORD TYPES --&gt; 
&lt;!--COORD TYPES --&gt; 

&lt;!--decides at random whether to assign coordinates at random or whether to project in the same direction--&gt; 

(set: $getElaborateCoords to
(macro: [
	($getBranchingPoint:)
	(if: $branchingPointNo is 0)[($getNewCoords:)]
	(else:) [
		(set: _random to ($getBinaryValue:))
		(if: _random is 0) [($getNewCoords:)]
		(else:) [($tryProjectedCoords:)]]
	(output-data:&quot;&quot;)
	]))

	
&lt;!--Requests new arcDirection from getNonNullArc. Uses it to create a new n3.--&gt; 

(set: $getNewCoords to 
(macro: [
	($getNewN3:)
	($addToNodes:) 
	(output-data: &quot;&quot;)
	]))

&lt;!--Checks whether something already exists at new n3 coords, then adds to nodes if not.--&gt; 
(set: $addToNodes to 
(macro: [
	(if: $n3 is not in $nodes)
		[(set: $nodes to $nodes + (a:$n3))
		(set: $buildAttempt to &quot;successful&quot;)]
	(else:)[(set: $buildAttempt to &quot;failure&quot;)]
		(output-data:&quot;&quot;)
	]))
	
(set: $keepTryingRoomsFartherOut to
(macro: [
	(if: $n3 is not in $nodes)[(set: $nodes to $nodes + (a:$n3))]
	(else:)[(set: $branchingPoint to ($getRoomFromCoords: $n3))
			($getAFartherRoom:)
			($keepTryingRoomsFartherOut:)]
	(output-data:&quot;&quot;)
	]))

(set: $getAFartherRoom to 
(macro: [
	(set: _x to ($getTernaryValue:))
	(if: _x is -1) [($incrementN3: 1)]
	(if: _x is 0) [($incrementN3: 2)]
	(if: _x is 1) [($incrementN3: 3)]
	(output-data:&quot;&quot;)
	]))
	
(set: $incrementN3 to 
(macro: num-type _position, [
	(set: _x to _position of $n3)
	(set: _y to ($increment: _x))
	(set: _position of $n3 to _y)
	(output-data:&quot;&quot;)
	]))

	
	
&lt;!--Tries projecting first, then if it fails, calls getNewCoords.--&gt; 
(set: $tryProjectedCoords to 
(macro: [
	($getProjectedCoords:)
	($addToNodes:)
	(if: $buildAttempt is &quot;failure&quot;)
		[($getNewCoords:)]
	(output-data: &quot;&quot;)
	]))

&lt;!--Generates a three number vector to constitute a connecting arc. It&#39;s important than at least one coordinate be nonzero, or else the arc leads nowhere. Puts new arc in arcdirection.--&gt;	
(set: $getNonNullArc to 
(macro: [
	(set: _firstCoord to ($getTernaryValue:))
	(set: _secondCoord to ($getTernaryValue:))
	(if: _firstCoord is 0 and _secondCoord is 0)
		[(set: _x to ($getBinaryValue))
		(set: $thirdCoord to (cond: 
			_x is 0, -1,
			1))]
	(else:) [(set: $thirdCoord to ($getTernaryValue:))]
	(set: $arcDirection to 
		(a: _firstCoord,_secondCoord,$thirdCoord))
	(output-data:&quot;&quot;)
	]
	))


	
(set: $getNewN3 to 
(macro: [
	(set: _random to ($getRandom25:))
	(set: $neighbors to (a:))
	(for: each _a, ...$shortArcs)[
		(set: $neighborRep to ($addN3s: _a, $branchingPointCoords))
		(if: $neighborRep is not in $nodes) 
			[(set: $neighbors to $neighbors + (a:$neighborRep))]]
	(if: length of $neighbors is 0)[(error: &quot;length of $neighbors is nil&quot;)]
	(set: $n3 to (nth: _random, ...$neighbors))
	(set: $arcDirection to ($subtractN3s: $n3,$branchingPointCoords))
	(output-data:&quot;&quot;)
	]))
	
(set: $getRandom25 to	
(macro: [
	(set: _random to (nth: $seedIndex25, ...$randomSeed25))
	(if: $seedIndex25 &gt; 25) [(set: $seedIndex25 to 1)]
	(else:) [(set: $seedIndex25 +=1)]
	(output-data: _random)
	]))

&lt;!--simply assigns coordinates at random, such that the new n3 is no more than one step from the template--&gt; 

(set: $getSimpleCoords to 
(macro: [
	(set: $arcDirection to 
		(a: ($getTernaryValue:),($getTernaryValue:),($getTernaryValue:)))
	(set: $n3 to ($addN3s: $arcDirection,$branchingPoint))
	($addToNodes:)
	(output-data:&quot;&quot;)
	]
	))
	
&lt;!--If called in the &lt;10 phase, this creates long structures by expanding outwards, rather than at random.--&gt; 

(set: $getProjectedCoords to 
(macro: [
	(set: _c1 to ($increment: 3rd of $branchingPoint))
	(set: _c2 to ($increment: 4th of $branchingPoint))
	(set: _c3 to ($increment: 5th of $branchingPoint))
	(set: $n3 to (a:_c1, _c2, _c3))
	(set: $arcDirection to ($subtractN3s: $n3, $branchingPoint))
	(output-data:&quot;&quot;)
	]
	))

&lt;!--This adds 1 to positive values and deducts 1 from negative--&gt; 
(set: $increment to 
(macro: num-type _x, [
	(set: _output to (cond: 
		_x is &gt;0, _x + 1, 
		_x &lt; 0, _x -1, 
		0))
	(output-data: _output)
	]
	))


&lt;!--when it comes to creating subloci, we want them to generally head back towards the origin of the complex in order to create functional connections between rooms. This function uses branchingPoint to create a node 1 step in the direction of the origin. It is assumed that ($getRandomTemplate:) has already been run.--&gt; 

(set: $getReturnCoords to 
(macro: [
	(set: _n3 to 
		(a: $branchingPoint&#39;s 3rd, 
		$branchingPoint&#39;s 4th, 
		$branchingPoint&#39;s 5th))
	(set: $arcDirection to
		($reverseValues: (a:_n3&#39;s 1st, _n3&#39;s 2nd, _n3&#39;s 3rd)))
	(set: $n3 to ($addN3s: $arcDirection, $branchingPoint))
	(output-data: &quot;&quot;)
	]
	))

&lt;!--using the above function alone generates back paths that proceed too directly to be interesting. So it is called by the following, which mixes this up a bit.--&gt; 

(set: $getNonRoomCoords to
(macro: [
	($getRandomTemplate:)
	(set: _random to ($getTernaryValue:))
	(if: _random is 0) [($getReturnCoords:)]
	(else:) [
		(if: _random is -1)[($getProjectedCoords:)]
		(else:) [($tryNewCoords:)]
		]
	(set: $report3 to $report3 + &quot; Exiting getNonRoomCoords &quot;)

	(output-data:&quot;&quot;)
	]))



&lt;!--Resets branchingPoint to the new counter value, and sets the template number accordingly. To be used at the beginning of every cycle during room generation.--&gt;

(set: $getBranchingPoint to 
(macro: [
	(set: _current to $counter)
	(set: $branchingPoint to _current of $loci)
	(if: 2nd of $branchingPoint is not a string)[(error: &quot;getBranchingPoint is not a 5-locus&quot;)]
	(set: $branchingPointNo to 1st of $branchingPoint)
	(output-data: &quot;&quot;)
	]))
	
&lt;!--Resets getBranchingPoint to a random locus, and sets the template number accordingly. To be used at the beginning of every cycle during subloci generation.--&gt;
(set: $getRandomTemplate to 
(macro: [ 
	(set: $report3 to $report3 + &quot; getRandomTemplate &quot;)

	(set: _random to ($getStableRandom20:) +6)
	(set: $branchingPoint to (nth:_random, ...$loci))
	(set: $branchingPointNo to 1st of $branchingPoint)
	(output-data: &quot;&quot;)
	]))
	

</tw-passagedata><tw-passagedata pid="71" name="legacy building arcs and loci v2" tags="" position="2680,237" size="100,100">
&lt;!--BUILDING ARCS--&gt; 
&lt;!--BUILDING ARCS--&gt; 
&lt;!--BUILDING ARCS--&gt; 
&lt;!--BUILDING ARCS--&gt; 

&lt;!--given the new n3, checks whether something exists already at that location and uses that to decide whether to make an arc from the template to the current occupant or create a new node. Calls the appropriate functions.--&gt; 

(set: $makeContingentArc to 
(macro: [
	(if: $n3 is in $realLoci)[($makeArcToOldNode:)]
	(else:)[($makeArc:)]
	(output-data: &quot;&quot;)
	]))
	
&lt;!--given that the new node already exists, this finds the room at those coordinates and calls getRoomAt to set oldnode to that locus number. then creates an arc from the getBranchingPoint to it.--&gt; 
(set: $makeArcToOldNode to 
(macro: [
	($getRoomAt:)
	(set: $arcs to $arcs + (a:(a:$branchingPointNo, $oldNode)))
	(output-data: &quot;&quot;)
	]
	))

(set: $makeArc to 
(macro: [
	(if: $branchingPointNo is $currentBuildNo)
		[(error: &quot;Template &amp; build have same number in makeArc&quot;)]
	(set: $arcs to $arcs + (a: (a: $branchingPointNo, $currentBuildNo)))
	(output-data: &quot;&quot;)
	]
	))
	


&lt;!--called by $makeArcToOldNode, sets $oldNode to the number of the room at the n3 coordinates. If there are multiple, returns the least. Hence this returns the room rather than the nonroom. This macro expects a nonempty array, and reports an error if it does not get one. --&gt;

(set: $getRoomAt to 
(macro: [
	(set: _matches to 
		(find: _locus where _locus&#39;s 3rdto5th is $n3, ...$loci))
	(if: _matches&#39;s length is 0)[
		(error: &quot;$getRoomAt receives empty array!&quot;)]
	(if: _matches&#39;s length is 1) [
		(set: _node to 1st of _matches)
		(set: $oldNode to 1st of _node)]
	(else:)[
		(set: _locusNumbers to 
			(altered: _node via 1st of _node,  ..._matches))
		(set: $oldNode to (min:10000,..._locusNumbers))
		(if:$oldNode is 10000) 
			[(error: &quot;$getroom given empty array, or # rooms &gt;10000&quot;)]]
		(output-data: &quot;&quot;)
	]
	))


&lt;!--BUILDING LOCI --&gt; 
&lt;!--BUILDING LOCI --&gt; 
&lt;!--BUILDING LOCI --&gt; 
&lt;!--BUILDING LOCI --&gt; 


(set: $createNaddLocus to 
(macro: [
	($makeLocus:)
	(if: $arcDirection is not an array)
		[(error: &quot;arcDirection is not array when makeLocus concludes&quot;)]
	($addLocustoStructure:)
&lt;!---here is where addexits used to be--&gt; 	
	(output-data: &quot;&quot;)
	]
	))

&lt;!--takes an n3 and forms a locus from it.--&gt;
(set: $makeLocus to 
(macro: [
	(set: $newName to &quot;locus &quot; + (str: $currentBuildNo))
	(set: $newLocus to (a:$currentBuildNo, $newName) + $n3)
	(output-data: &quot;&quot;)
	]
	)
	)</tw-passagedata><tw-passagedata pid="72" name="ops" tags="startup" position="2397,701" size="100,100"></tw-passagedata><tw-passagedata pid="73" name="legacy graph cleanup v2" tags="" position="3030,237" size="100,100">{

	

&lt;!--CLEAN UP--&gt; 
&lt;!--CLEAN UP--&gt; 
&lt;!--CLEAN UP--&gt; 
&lt;!--CLEAN UP--&gt; 

&lt;!--removes duplicates--&gt; 
(set: $cleanGraphs to 
(macro: [
	(set: $report4 to $report4 + &quot; cleanGraphs &quot;)
	[($cleanLocuses:)
	($cleanArcs:)
	(output-data:&quot;&quot;)]
	]
	))

(set: $cleanLocuses to
(macro: [
	(set: $report4 to $report4 + &quot; cleanLocuses &quot;)

	(set: $cleanloci to (a:))
	($removeDuplicateLoci:)
	(output-data:&quot;&quot;)
	]))
	

(set: $cleanArcs to 
(macro: [
	(set: $report4 to $report4 + &quot; cleanArcs &quot;)

	(set:$cleanConnections to (a:))
	($removeDuplicates:)
	(set:$outConnections to (a:))
	($removeLoopyArcs:)
	(set:$completeConnections to (a:))
	($addReturnPaths:)
	(set:$cleanConnections to (a:))
	($removeDuplicates:)
	(output-data:&quot;&quot;)
	]
	))
	
(set: $removeDuplicates to 
(macro: [
	(set: $report4 to $report4 + &quot; removeDuplicates &quot;)

	(if: length of $arcs is 0)[(set: $arcs to $cleanConnections)
		]
	(else:) [
		($copyList:)
		($removeDuplicates:)
	]	
	(output-data:&quot;&quot;)
	]
	))
	
(set: $removeDuplicates to
(macro: [
	(set: $report4 to $report4 + &quot; removeDuplicates &quot;)
	(for: each _a, ...$arcs)
		[(if: _a is not in $cleanConnections)
			[(set:$cleanConnections to $cleanConnections + (a: _a))]]
	(set: $arcs to $cleanConnections)
	(output-data:&quot;&quot;)
	]
	))

(set: $copyList to 
(macro: [
	(set: $report4 to $report4 + &quot; copyList &quot;)

	(set: _x to 1st of $arcs)
	(set: $arcs to $arcs - (a:1st of $arcs))
	(set: $cleanConnections to $cleanConnections + (a:_x))
	(output-data: &quot;&quot;)
		]
		))

&lt;!--This removes any arcs that connect a single node to itself. If this is called after duplicate nodes are removed, cleanConnections must be reset to an empty array before calling it. --&gt; 

(set: $removeLoopyArcs to 
(macro: [
	(set: $report4 to $report4 + &quot; removeLoopyArcs &quot;)

	(if: length of $arcs is 0)[
		(set: $arcs to $outConnections)]
	(else:)[($removeLoopyArc:)
			($removeLoopyArcs:)]
	(output-data:&quot;&quot;)
	]
))

&lt;!--This expects arcs to be nonempty when called. It checks the first arc in arcs to see if it loops a node to itself. If it does, it simply removes it from arcs, without copying it to cleanConnections.--&gt; 
(set: $removeLoopyArc to 
(macro: [
	(set: $report4 to $report4 + &quot; removeLoopyArc &quot;)

	(set: _x to 1st of $arcs)
	(set: $arcs to $arcs - (a:_x))
	(if: 1st of _x is not 2nd of _x)
		[(set: $outConnections to $outConnections + (a:_x))
		]
	(output-data:&quot;&quot;)
	]
	))

(set: $addReturnPaths to 
(macro: [
	(set: $report4 to $report4 + &quot; addReturnPaths &quot;)

	(if: length of $arcs is 0)[(set: $arcs to $completeConnections)]
	(else:) [($copyWithReverse:)
			($addReturnPaths:)]
	(output-data:&quot;&quot;)
	]
	))
	
(set: $copyWithReverse to 
(macro: [
	(set: $report4 to $report4 + &quot; copyWithReverse &quot;)

	(set: _x to 1st of $arcs)
	(set: _reversal to (a: 2nd of _x,1st of _x))
	(set: $completeConnections to $completeConnections + (a:_x,_reversal))
	(set: $arcs to $arcs - (a:_x))
	(output-data:&quot;&quot;)
	]
	))

&lt;!--remove the latter of two loci that have the same coordinates--&gt;
(set: $removeDuplicateLoci to 
(macro: [
	(set: $report4 to $report4 + &quot; removeDuplicateLoci &quot;)

	(if: length of $loci is 0)[(set: $loci to $cleanloci)]
	(else:) [
		($copylocus:)
		($removeDuplicateLoci:)
	]	
	(output-data:&quot;&quot;)
	]
	))
	
&lt;!--takes each locus, looks for duplicates, if it&#39;s alone, adds it to the new list of clean loci. otherwise, calls getLowestLocus to add the locus with the lowest room number to the clean loci--&gt; 
&lt;!--needs cleanLoci to be set as array before being called--&gt; 
(set: $copylocus to 
(macro: [
	(set: $report4 to $report4 + &quot; copyLocus &quot;)

	(set: _x to 1st of $loci)
	(set: $currentlyCleaning to (a:3rd of _x, 4th of _x, 5th of _x))
						
	(set: $competitors to 
		(find: _item where _item matches (a:num,string,3rd of _x, 4th of _x, 5th of _x), ...$loci))
	(set: $loci to $loci - $competitors)		
	(if: length of $competitors is 1)
		[(set: $cleanloci to $cleanloci + (a:_x))] 
	(else:)[(set: $leader to _x)
			($getLowestLocus:)
			(set: $cleanloci to $cleanloci + (a:$winner))]
	(output-data: &quot;&quot;)
		]
		
		))
	
	
&lt;!--Puts the lowest numbered locus from an array of loci into winner--&gt; 
&lt;!--Expects competitors and an initial leader to be set before being called--&gt; 
(set: $getLowestLocus to 
(macro: [
	(set: $report4 to $report4 + &quot; getLowestLocus &quot;)

	(if: length of $competitors is 0)[(set: $winner to $leader)]
	(else:) [(set: _entrant1 to 1st of $competitors)
			(set: $competitors to $competitors - (a:1st of $competitors))
			(if: 1st of _entrant1 &lt; 1st of $leader) [
				(set: $leader to _entrant1)
				]
			($getLowestLocus:)
]
	(output-data:&quot;&quot;)
	]))

}


</tw-passagedata><tw-passagedata pid="74" name="legacy setup" tags="" position="2799,230" size="100,100">&lt;!--SETUP--&gt;
&lt;!--SETUP--&gt; 
&lt;!--SETUP--&gt;
&lt;!--SETUP--&gt; 
&lt;!--SETUP--&gt;


(set: $arcs to (a:))

(set: $startState to 0)
(set: $currentBuildNo to 0)

(set: $nodes to (a: (a: 0,0,0)))

&lt;!--This sets up a root locus, from which the others will proceed--&gt;
(set: $loci to (a:
	(a: 0, &quot;locus 0&quot;, 0, 0, 0)
	))
	
&lt;!--To start, the root locus is the only locus whose coordinates are realized --&gt;	
(set: $realLoci to (a:(a:0,0,0)))

&lt;!--The counter checks when (i) all rooms have been realized and only subloci remain, and (ii) we&#39;re out of subloci. This helps control the generation.--&gt;

(set: $counter to 1)

&lt;!--The secondcounter keeps track of the non-room loci. This allows for opportunities to insert non-rooms during the first wave of generation.--&gt;
(set: $secondCounter to 11)

&lt;!--the following datamap of arrays represents the exits from each locus. Each name is a string of the locus number and the corresponding value is the list of exits from that locus, each of which will be a triple that signifies the direction of exit--&gt; 
(set: $exits to (dm: &quot;0&quot;, (a:), &quot;1&quot;,(a:), &quot;2&quot;, (a:),&quot;3&quot;, (a:),&quot;4&quot;,(a:),&quot;5&quot;,(a:),&quot;6&quot;,(a:),&quot;7&quot;,(a:),&quot;8&quot;,(a:),&quot;9&quot;,(a:),&quot;10&quot;,(a:),&quot;11&quot;,(a:),&quot;12&quot;,(a:),&quot;13&quot;,(a:),&quot;14&quot;,(a:),&quot;15&quot;,(a:),&quot;16&quot;,(a:),&quot;17&quot;,(a:),&quot;18&quot;,(a:),&quot;19&quot;,(a:), &quot;20&quot;,(a:), &quot;21&quot;,(a:), &quot;22&quot;,(a:), &quot;23&quot;,(a:), &quot;24&quot;,(a:), &quot;25&quot;,(a:)))

(set: $arcDirection to (a:))
	
&lt;!--branchingPoint is a locus, i.e. a list of 5 elements, the first two of which are the room number and name, and the latter three of which are coordinates. It is initialized as room 0.--&gt;

(set: $branchingPoint to (a:0,&quot;locus 0&quot;, 0, 0, 0))

&lt;!--Branchlist is a list of loci. It is initialized to only contain room 0. --&gt;

(set: $branchList to (a:$branchingPoint))

(set: $shortArcs to (a: 
	(a: -1,-1,-1),
	(a: -1,-1,0),
	(a: -1,-1,1),
	(a: -1,0,-1),
	(a: -1,0,0),
	(a: -1,0,1),
	(a: -1,1,-1),
	(a: -1,1,0),
	(a: -1,1,1),
	(a: 0,-1,-1),
	(a: 0,-1,0),
	(a: 0,-1,1),
	(a: 0,0,-1),
	(a: 0,0,1),
	(a: 0,1,-1),
	(a: 0,1,0),
	(a: 0,1,1),
	(a: 1,-1,-1),
	(a: 1,-1,0),
	(a: 1,-1,1),
	(a: 1,0,-1),
	(a: 1,0,0),
	(a: 1,0,1),
	(a: 1,1,-1),
	(a: 1,1,0),
	(a: 1,1,1)
	)
	)
</tw-passagedata><tw-passagedata pid="75" name="adjustables" tags="startup" position="2152,430" size="100,100">&lt;!--ADJUSTABLE PARAMETERS--&gt;

(set: $maxRoom to 18) 

&lt;!--this sets the probability that, when there are both rooms and passages left to generate, the builder chooses to build a room. Set the probability lower to increase the passage distance between rooms.--&gt;
(set: $roomProbability to
(macro: [
	(set: $report3 to $report3 + &quot; roomProbability &quot;)
	($getRandomWithMax: 2)
	(output-data: $randomWithMax)
	]
	))

&lt;!--The higher the  value for suppressBranching:, the more likely the node will be a straightforward corridor. The argument should be at least 2, in which case there will be a 2/3 chance (0, 1) that the branch will be reused.--&gt;
	
(set: $suppressBranching to 3)


</tw-passagedata><tw-passagedata pid="76" name="basic grammar ops" tags="startup" position="2041,567" size="100,100">(set: $plural to (macro: str-type _singular, [
	(set: _output to (cond:
		_singular&#39;s last is &#39;s&#39;, _singular,
		_singular + &#39;s&#39;))
	(output-data: _output)
	]
	)
	)
	
	
(set: $capitalize to (macro: string-type _string, [
	(set: _firstLetter to _string&#39;s 1st)
	(set: _rest to (substring: _string, 2, -1))
	(set: _output to (cond:
		_firstLetter is &#39;a&#39;, &#39;A&#39; + _rest,
		_firstLetter is &#39;b&#39;, &#39;B&#39; + _rest,
		_firstLetter is &#39;c&#39;, &#39;C&#39; + _rest,
		_firstLetter is &#39;d&#39;, &#39;D&#39; + _rest,
		_firstLetter is &#39;e&#39;, &#39;E&#39; + _rest,
		_firstLetter is &#39;f&#39;, &#39;F&#39; + _rest,
		_firstLetter is &#39;g&#39;, &#39;G&#39; + _rest,
		_firstLetter is &#39;h&#39;, &#39;H&#39; + _rest,
		_firstLetter is &#39;i&#39;, &#39;I&#39; + _rest,
		_firstLetter is &#39;j&#39;, &#39;J&#39; + _rest,
		_firstLetter is &#39;k&#39;, &#39;K&#39; + _rest,
		_firstLetter is &#39;l&#39;, &#39;L&#39; + _rest,
		_firstLetter is &#39;m&#39;, &#39;M&#39; + _rest,
		_firstLetter is &#39;n&#39;, &#39;N&#39; + _rest,
		_firstLetter is &#39;o&#39;, &#39;O&#39; + _rest,
		_firstLetter is &#39;p&#39;, &#39;P&#39; + _rest,
		_firstLetter is &#39;q&#39;, &#39;Q&#39; + _rest,
		_firstLetter is &#39;r&#39;, &#39;R&#39; + _rest,
		_firstLetter is &#39;s&#39;, &#39;S&#39; + _rest,
		_firstLetter is &#39;t&#39;, &#39;T&#39; + _rest,
		_firstLetter is &#39;u&#39;, &#39;U&#39; + _rest,
		_firstLetter is &#39;v&#39;, &#39;V&#39; + _rest,
		_firstLetter is &#39;w&#39;, &#39;W&#39; + _rest,
		_firstLetter is &#39;x&#39;, &#39;X&#39; + _rest,
		_firstLetter is &#39;y&#39;, &#39;Y&#39; + _rest,
		_firstLetter is &#39;z&#39;, &#39;Z&#39; + _rest,
		_firstLetter))
	(output-data: _output)
	]))</tw-passagedata><tw-passagedata pid="77" name="debug" tags="debug-footer" position="2022,426" size="100,100">The northernmost room is: 
($findMostExtreme: &quot;north&quot;)
$mostExtreme

The southernmost room is: 
($findMostExtreme: &quot;south&quot;)
$mostExtreme

The eastmost room is: 
($findMostExtreme: &quot;east&quot;)
$mostExtreme

The westmost room is: 
($findMostExtreme: &quot;west&quot;)
$mostExtreme





Here are the coordinates: 
$coordMap

(set: $coordMapCounter to 1) 
(set: $coordMapLengths to (a:))
(set: $measureCoordMap to 
(macro: [
	(set: _entry to (str: $coordMapCounter) of $coordMap)
	(set: _length to length of _entry)
	(set: $coordMapLengths to it + (a:_length))
	(if: $coordMapCounter &lt; 25) 
		[(set: $coordMapCounter +=1)
		($measureCoordMap:)]
	(output-data:&quot;&quot;)
	]
	))

Here are the coordinates in reverse: 
$numberMap

Here are the exits: 
$exitMap

Here are the nodes: 
(for: each _item, ...$nodes) [* _item]

(set: $exitMapCounter to 1) 
(set: $exitMapLengths to (a:))
(set: $measureExitMap to 
(macro: [
	(set: _entry to (str: $exitMapCounter) of $exitMap)
	(set: _length to length of _entry)
	(set: $exitMapLengths to it + (a:_length))
	(if: $exitMapCounter &lt; 25) 
		[(set: $exitMapCounter +=1)
		($measureExitMap:)]
	(output-data:&quot;&quot;)
	]
	))

Here is the branch report: 
(for: each _item, ...$branchReport) [* _item]

Here are the random vectors: 
$exitReport

Here are the seed numbers: 
$seedReport</tw-passagedata><tw-passagedata pid="78" name="trashcan" tags="" position="2841,351" size="100,100">&lt;!--this is just for the return path generation. It attempts to get some simple coords at random, but if they&#39;re not new, it refers the process back to getnonroomcoords, which may select a different template.--&gt; 
(set: $tryNewCoords to 
(macro: [
	($getSimpleCoords:)
	(if: $n3 is not in $nodes)[(set: $nodes to $nodes + (a:$n3))]
	(else:)[($getNonRoomCoords:)]
	(output-data: &quot;&quot;)
	]))</tw-passagedata><tw-passagedata pid="79" name="test n3 builder" tags="" position="2458,235" size="100,100">(set: $getBranchingPointCoords to 
(macro: [
	(set: $branchingPointCoords to 
	(a: 3rd of $branchingPoint, 4th of $branchingPoint, 5th of $branchingPoint))
	(output-data:&quot;&quot;)
	]
	))


&lt;!--MAKE ROOMS AND PASSAGES --&gt; 
&lt;!--MAKE ROOMS AND PASSAGES --&gt; 
&lt;!--MAKE ROOMS AND PASSAGES --&gt; 
&lt;!--MAKE ROOMS AND PASSAGES  --&gt; 

(set: $makeRoomOrPassage to 
(macro: [
	(set: $report3 to $report3 + &quot; makeRoomOrPassage &quot;)
	(set: _random to ($roomProbability:))
	(if: _random is 0) [($makeARoom:)]
	(else:) [($makeOutpassage:)]
	(output-data: &quot;&quot;)
	]
	))

(set: $makeReturnPassage to
(macro: [
	(set: $currentBuildNo to $secondCounter)
	($getReturnCoords:)
	($buildFromN3:) 
	(output-data: &quot;&quot;)
	]
	))


(set: $makeARoom to 
(macro: [
	(set: $currentBuildNo to $counter)
	($getNewCoords:)
	($buildFromN3:)
	(output-data: &quot;&quot;)
	]
	))

(set: $makeOutpassage to 
(macro: [
	(set: $currentBuildNo to $secondCounter)
	($tryProjectedCoords:)&lt;!--from getElaborateCoords --&gt;
	($buildFromN3:)
	(output-data: &quot;&quot;)
	]
	))



&lt;!--BUILDING N3s --&gt; 
&lt;!--BUILDING N3s --&gt; 
&lt;!--BUILDING N3s --&gt; 
&lt;!--BUILDING N3s --&gt; 

&lt;!--once the n3 is generated, governs the creation of the locus and its integration into the structure.--&gt;
(set: $buildFromN3 to
(macro: [
	($createNaddLocus:)
	($addN3toStructure:)	
	($makeContingentArc:)
	($addExits:)
	(output-data: &quot;&quot;)
	]
	))

&lt;!--Middle management function aggregates the creation of the n3 with its addition to the structure--&gt; 

(set: $makeAndAddRoomN3 to 
(macro: [
	(set: $currentBuildNo to $counter)
	($getNewCoords:)
	($addN3toStructure:)
	(output-data:&quot;&quot;)
	]
	))
	

(set: $addOutPassageN3 to 
(macro: [
	(set: $report3 to $report3 + &quot; addOutPassageN3 &quot;)
	(set: $currentBuildNo to $secondCounter)
	($getElaborateCoords:)
	($addN3toStructure:)
	(output-data:&quot;&quot;)
	]
	))

(set: $addReturnPassageN3 to 
(macro: [
	(set: $report3 to $report3 + &quot; addReturnPassageN3 &quot;)
	(set: $currentBuildNo to $secondCounter)
	($getReturnCoords:)
	($addN3toStructure:)
	(output-data:&quot;&quot;)
	]
	))


&lt;!--COORD TYPES --&gt; 
&lt;!--COORD TYPES --&gt; 
&lt;!--COORD TYPES --&gt; 
&lt;!--COORD TYPES --&gt; 

&lt;!--decides at random whether to assign coordinates at random or whether to project in the same direction--&gt; 

(set: $getElaborateCoords to
(macro: [
	($getBranchingPoint:)
	(if: $branchingPointNo is 0)[($getNewCoords:)]
	(else:) [
		(set: _random to ($getBinaryValue:))
		(if: _random is 0) [($getNewCoords:)]
		(else:) [($tryProjectedCoords:)]]
	(output-data:&quot;&quot;)
	]))

	
&lt;!--Requests new arcDirection from getNonNullArc. Uses it to create a new n3.--&gt; 

(set: $getNewCoords to 
(macro: [
	($getNewN3:)
	($addToNodes:) 
	(output-data: &quot;&quot;)
	]))

&lt;!--Checks whether something already exists at new n3 coords, then adds to nodes if not.--&gt; 
(set: $addToNodes to 
(macro: [
	(if: $n3 is not in $nodes)
		[(set: $nodes to $nodes + (a:$n3))
		(set: $buildAttempt to &quot;successful&quot;)]
	(else:)[(set: $buildAttempt to &quot;failure&quot;)]
		(output-data:&quot;&quot;)
	]))
	
(set: $keepTryingRoomsFartherOut to
(macro: [
	(if: $n3 is not in $nodes)[(set: $nodes to $nodes + (a:$n3))]
	(else:)[(set: $branchingPoint to ($getRoomFromCoords: $n3))
			($getAFartherRoom:)
			($keepTryingRoomsFartherOut:)]
	(output-data:&quot;&quot;)
	]))

(set: $getAFartherRoom to 
(macro: [
	(set: _x to ($getTernaryValue:))
	(if: _x is -1) [($incrementN3: 1)]
	(if: _x is 0) [($incrementN3: 2)]
	(if: _x is 1) [($incrementN3: 3)]
	(output-data:&quot;&quot;)
	]))
	
(set: $incrementN3 to 
(macro: num-type _position, [
	(set: _x to _position of $n3)
	(set: _y to ($increment: _x))
	(set: _position of $n3 to _y)
	(output-data:&quot;&quot;)
	]))

	
	
&lt;!--Tries projecting first, then if it fails, calls getNewCoords.--&gt; 
(set: $tryProjectedCoords to 
(macro: [
	($getProjectedCoords:)
	($addToNodes:)
	(if: $buildAttempt is &quot;failure&quot;)
		[($getNewCoords:)]
	(output-data: &quot;&quot;)
	]))

&lt;!--Generates a three number vector to constitute a connecting arc. It&#39;s important than at least one coordinate be nonzero, or else the arc leads nowhere. Puts new arc in arcdirection.--&gt;	
(set: $getNonNullArc to 
(macro: [
	(set: _firstCoord to ($getTernaryValue:))
	(set: _secondCoord to ($getTernaryValue:))
	(if: _firstCoord is 0 and _secondCoord is 0)
		[(set: _x to ($getBinaryValue))
		(set: $thirdCoord to (cond: 
			_x is 0, -1,
			1))]
	(else:) [(set: $thirdCoord to ($getTernaryValue:))]
	(set: $arcDirection to 
		(a: _firstCoord,_secondCoord,$thirdCoord))
	(output-data:&quot;&quot;)
	]
	))


	
(set: $getNewN3 to 
(macro: [
	(set: _random to ($getRandom25:))
	(set: $neighbors to (a:))
	(for: each _a, ...$shortArcs)[
		(set: $neighborRep to ($addN3s: _a, $branchingPointCoords))
		(if: $neighborRep is not in $nodes) 
			[(set: $neighbors to $neighbors + (a:$neighborRep))]]
	(if: length of $neighbors is 0)[(error: &quot;length of $neighbors is nil&quot;)]
	(set: $n3 to (nth: _random, ...$neighbors))
	(set: $arcDirection to ($subtractN3s: $n3,$branchingPointCoords))
	(output-data:&quot;&quot;)
	]))
	
(set: $getRandom25 to	
(macro: [
	(set: _random to (nth: $seedIndex25, ...$randomSeed25))
	(if: $seedIndex25 &gt; 25) [(set: $seedIndex25 to 1)]
	(else:) [(set: $seedIndex25 +=1)]
	(output-data: _random)
	]))

&lt;!--simply assigns coordinates at random, such that the new n3 is no more than one step from the template--&gt; 

(set: $getSimpleCoords to 
(macro: [
	(set: $arcDirection to 
		(a: ($getTernaryValue:),($getTernaryValue:),($getTernaryValue:)))
	(set: $n3 to ($addN3s: $arcDirection,$branchingPoint))
	($addToNodes:)
	(output-data:&quot;&quot;)
	]
	))
	
&lt;!--If called in the &lt;10 phase, this creates long structures by expanding outwards, rather than at random.--&gt; 

(set: $getProjectedCoords to 
(macro: [
	(set: _c1 to ($increment: 3rd of $branchingPoint))
	(set: _c2 to ($increment: 4th of $branchingPoint))
	(set: _c3 to ($increment: 5th of $branchingPoint))
	(set: $n3 to (a:_c1, _c2, _c3))
	(set: $arcDirection to ($subtractN3s: $n3, $branchingPoint))
	(output-data:&quot;&quot;)
	]
	))

&lt;!--This adds 1 to positive values and deducts 1 from negative--&gt; 
(set: $increment to 
(macro: num-type _x, [
	(set: _output to (cond: 
		_x is &gt;0, _x + 1, 
		_x &lt; 0, _x -1, 
		0))
	(output-data: _output)
	]
	))


&lt;!--when it comes to creating subloci, we want them to generally head back towards the origin of the complex in order to create functional connections between rooms. This function uses branchingPoint to create a node 1 step in the direction of the origin. It is assumed that ($getRandomTemplate:) has already been run.--&gt; 

(set: $getReturnCoords to 
(macro: [
	(set: _n3 to 
		(a: $branchingPoint&#39;s 3rd, 
		$branchingPoint&#39;s 4th, 
		$branchingPoint&#39;s 5th))
	(set: $arcDirection to
		($reverseValues: (a:_n3&#39;s 1st, _n3&#39;s 2nd, _n3&#39;s 3rd)))
	(set: $n3 to ($addN3s: $arcDirection, $branchingPoint))
	(output-data: &quot;&quot;)
	]
	))

&lt;!--using the above function alone generates back paths that proceed too directly to be interesting. So it is called by the following, which mixes this up a bit.--&gt; 

(set: $getNonRoomCoords to
(macro: [
	(set: $report3 to $report3 + &quot; getNonRoomCoords &quot;)

	($getRandomTemplate:)
	(set: _random to ($getTernaryValue:))
	(if: _random is 0) [($getReturnCoords:)]
	(else:) [
		(if: _random is -1)[($getProjectedCoords:)]
		(else:) [($tryNewCoords:)]
		]
	(set: $report3 to $report3 + &quot; Exiting getNonRoomCoords &quot;)

	(output-data:&quot;&quot;)
	]))



&lt;!--Resets branchingPoint to the new counter value, and sets the template number accordingly. To be used at the beginning of every cycle during room generation.--&gt;

(set: $getBranchingPoint to 
(macro: [
	(set: $report3 to $report3 + &quot; getBranchingPoint &quot;)

	(set: _current to $counter)
	(set: $branchingPoint to _current of $loci)
	(if: 2nd of $branchingPoint is not a string)[(error: &quot;getBranchingPoint is not a 5-locus&quot;)]
	(set: $branchingPointNo to 1st of $branchingPoint)
	(output-data: &quot;&quot;)
	]))
	
&lt;!--Resets getBranchingPoint to a random locus, and sets the template number accordingly. To be used at the beginning of every cycle during subloci generation.--&gt;
(set: $getRandomTemplate to 
(macro: [ 
	(set: $report3 to $report3 + &quot; getRandomTemplate &quot;)

	(set: _random to ($getStableRandom20:) +6)
	(set: $branchingPoint to (nth:_random, ...$loci))
	(set: $branchingPointNo to 1st of $branchingPoint)
	(output-data: &quot;&quot;)
	]))
	

</tw-passagedata><tw-passagedata pid="80" name="debug header" tags="debug-header" position="2027,307" size="100,100">(set: $coordsReport to (a:))
(set: $exitReport to (a:))
(set: $seedReport to (a:))
(set: $branchReport to (a:))
(set: $currentCoordsReport to (a:))</tw-passagedata><tw-passagedata pid="81" name="legacy graph builder control v3" tags="" position="2668,564" size="100,100">{
	

(set: $buildMap to 
(macro: [
	($makeLocus:) 
		&lt;!-counters incremented--&gt;
		&lt;!-thisBuild set to old counter--&gt;
		&lt;!-updates nodes--&gt;
	($getExits:)
	(if: length of $branchList &gt; 0)[($buildMap:)]
	(output-data: &quot;&quot;)
	]
	))


(set: $makeLocus to 
(macro: [
	($popCoordsFromBranchList:) 
		&lt;!-sets currentCoords, removes coords from stack--&gt;
		&lt;!-updates nodes--&gt;
	($getLocusNumber:)  
		&lt;!-passage vs room decided here--&gt;
		&lt;!-counters incremented--&gt;
	($assignCoordsToLocusNumber:)
		&lt;!-roomString fixed here--&gt;
	($assignLocusNumberToCoords:)
	($makeExitVector:)
		&lt;!-makes an empty array into which exits can be put--&gt;
	(if: length of $reverseArcs &gt; 0)[($makeReversePath:)]
	(output-data: &quot;&quot;)
	]
	))


&lt;!-adds the first exit waiting in reverseArcs to new node--&gt; 
&lt;!-this should synch with branchList. the first coordinates to be popped off branchlist should be the room to which this exit belongs --&gt; 

(set: $makeReversePath to 
(macro: [
	(set: _returnPath to 1st of $reverseArcs)
	(set: $roomString of $exitMap to it + (a:_returnPath))
	(set: $reverseArcs to it - (a:_returnPath))
	(output-data: &quot;&quot;)
	]
	))

(set: $makeExitVector to 
(macro: [
	(set: $roomString of $exitMap to (a:))
	(output-data: &quot;&quot;)
	]
	))


&lt;!-stack should be initialized with a: 0, 0, 0 as only member--&gt;
&lt;!-assumes that stack is not empty--&gt;
(set: $popCoordsFromBranchList to 
(macro: [	
	(set: $currentCoords to 1st of $branchList) 
	(set: $branchList to it - (a: $currentCoords)) 
	(set: $nodes to $nodes + (a: $currentCoords))
	(output-data: &quot;&quot;)
	]
	))
	
	
&lt;!-gets a room number for current coords --&gt;
&lt;!-currentRoom and currentPassage should be initialized to 0 and 10--&gt;

(set: $getLocusNumber to 
(macro: [	
	($getRandomWithMax: $passaginess)
	(if: $currentRoom &gt; 9 or $randomWithMax &gt; 3)
		[(set: $thisBuild to $currentPassage)
		(set: $currentPassage to it + 1)]
	(else:) 
		[(set: $thisBuild to $currentRoom)
		(set: $currentRoom to it +1)]
	(output-data: &quot;&quot;)
	]
	))

&lt;!-assigns current coords to current room number on datamap--&gt;

(set: $assignCoordsToLocusNumber to 
(macro: [	
	(set: $roomString to (str: $thisBuild)) 
		&lt;!-moved from last line of getlocusnumber--&gt;
	(set: $roomString of $coordMap to $currentCoords)
	(output-data: &quot;&quot;)
	]
	))
	
(set: $assignLocusNumberToCoords to 
(macro: [	
	(set: $coordString to (str: $currentCoords)) 
	(set: $coordString of $numberMap to $thisBuild)
	(output-data: &quot;&quot;)
	]
	))

&lt;!-exits are shortarcs, so that they can be interpreted for direction--&gt;
&lt;!-exits are NOT locus coords--&gt;
(set: $getExits to 
(macro: [
	(set: _threshold to $stopValue - $branchiness)
	&lt;!-more branchy builds overproduce, so start heading back early--&gt;
	(if: $thisBuild &lt; _threshold) 
		[($makeExit:) &lt;!-make at least 1 exit--&gt;
		($getMoreExits:) &lt;!-random factor for more exits--&gt;
		] 
	(else:) [($makeReturnExit:)] &lt;!-make an exit that heads back--&gt;
	(output-data: &quot;&quot;)
	]
	))
	
	
&lt;!-gets a random shortarc, calls for a corresponding room to be made--&gt;
&lt;!-DELETE--&gt;
(set: $LEGACYmakeExit to 
(macro: [
	(set: $currentExit to ($getNextShortArc:))
	(set: $roomString of $exitMap to it + (a: $currentExit))
	(set: $newCoords to ($vectorAdd3: $currentCoords, $currentExit))
	($pushNewCoordsToBranchlist:)
	(output-data: &quot;&quot;)
	]
	))

&lt;!-gets a random shortarc, calls for a corresponding room to be made--&gt;
(set: $makeReturnExit to 
(macro: [
	(set: $currentExit to ($makeNegativeArc:$currentCoords))
	(set: $roomString of $exitMap to (a: $currentExit))
	(set: $newCoords to ($vectorAdd3: $currentCoords, $currentExit))
	($decideWhetherToMakeNewRoom:) 
	(output-data: &quot;&quot;)
	]
	))
	
&lt;!-gets a random shortarc, calls for a corresponding room to be made--&gt;
(set: $makeExit to 
(macro: [
	(set: $currentExit to ($getNextShortArc:))
	(set: $roomString of $exitMap to it + (a: $currentExit))
	(set: $distalCoords to ($vectorAdd3: $currentCoords, $currentExit))
	($decideWhetherToMakeNewRoom:) 
	(output-data: &quot;&quot;)
	]
	))
	
&lt;!-makes a nominal path back to correspond to backtracking along the given path, stores it in reverseArcs to be added to the yet-to-be-built locus that will be at the end of the path--&gt;
(set: $LEGACYmakeReversePath to 
(macro: [
	(set: _reverseArc to ($oppositeArc: $currentExit))
	(set: $reverseArcs to it + (a: _reverseArc))
	(output-data: &quot;&quot;)
	]
	))	


&lt;!-checks whether coords at paths end have already been turned into room. Adds to branchlist if not and puts a nominal path back into reverseArcs to be added to the room when built. Otherwise, ensures a return path is built from old room. --&gt;
(set: $decideWhetherToMakeNewRoom to
(macro: [
	(set: _reverseArc to ($oppositeArc: $currentExit))
	(if: $distalCoords is not in $nodes) 
		[(set: $branchList to it + (a: $distalCoords))
		(set: $reverseArcs to it + (a: _reverseArc))]
	(else:)[($returnPathFromDistal: _reverseArc)] 
	(output-data: &quot;&quot;)
	]
	))
	
(set: $returnPathFromDistal to 
(macro: array-type _reverseArc, [
	(set: _coordString to (str: $distalCoords))
	(set: _roomNumber to _coordString of $numberMap)
	(set: _roomString to (str: _roomNumber))
	(set: _roomString of $exitMap to it + (a: _reverseArc))
	(output-data: &quot;&quot;)
	]
	))
	


&lt;!-possibly generates some more exits to be added to branchlist.--&gt;

(set: $getMoreExits to
(macro: [
	($getRandomWithMax: $branchiness)
	(if: $randomWithMax &gt; 3)
		[($makeExit:)
		($getMoreExits:)] 
	(output-data: &quot;&quot;)
	]
	))

&lt;!-Returns 1 for numbers with positive value, 0 for 0 and -1 for numbers with negative value--&gt;
(set: $returnPolarities to 
(macro: num-type _x, [
	(if: _x is not 0)[(set: _x to _x/(abs:_x))]
	(output-data: _x)]
	))

&lt;!-takes an arc and substitutes -1 for positive values 0 for 0 and 1 for negative values--&gt;
&lt;!-Rationale: To get a path that tends back to the origin 0, 0, 0, we need arcs that go downstairs if the current place is upstairs, east if the current place is west, etc--&gt;

(set: $makeNegativeArc to 
(macro: array-type _arc, [
	(if: _arc is not an array)
		[(error: &quot;$makeNegativeArc given something other than array&quot;)]
	(set: _output to (a: 
		-($returnPolarities: 1st of _arc),
		-($returnPolarities: 2nd of _arc),
		-($returnPolarities: 3rd of _arc)))
	(output-data:_output)
	]
	))

	

}
</tw-passagedata><tw-passagedata pid="82" name="legacy_setup v3" tags="" position="2871,591" size="100,100">{
(set: $inverseSprawl to 7)
(set: $passaginess to 5)
(set: $branchiness to 7)
(set: $shortArcs to (a: 
	(a: -1,-1,-1),
	(a: -1,-1,0),
	(a: -1,-1,1),
	(a: -1,0,-1),
	(a: -1,0,0),
	(a: -1,0,1),
	(a: -1,1,-1),
	(a: -1,1,0),
	(a: -1,1,1),
	(a: 0,-1,-1),
	(a: 0,-1,0),
	(a: 0,-1,1),
	(a: 0,0,-1),
	(a: 0,0,1),
	(a: 0,1,-1),
	(a: 0,1,0),
	(a: 0,1,1),
	(a: 1,-1,-1),
	(a: 1,-1,0),
	(a: 1,-1,1),
	(a: 1,0,-1),
	(a: 1,0,0),
	(a: 1,0,1),
	(a: 1,1,-1),
	(a: 1,1,0),
	(a: 1,1,1)
	)
	)

(set: $reserveBranch to (a:0,0,0))
(set: $newCoords to (a:))
(set: $branchList to (a: (a: 0,0,0)))
(set: $currentCoords to (a: 0,0,0))
(set: $currentRoom to 0)
(set: $currentPassage to 10)
(set: $thisBuild to 10) 
(set: $nodes to (a:)) 
(set: $stopValue to 25)
(set: $roomString to &quot;10&quot;)
(set: $reverseArcs to (a:))



&lt;!--the following datamap of arrays represents the exits from each locus. Each name is a string of the locus number and the corresponding value is the list of exits from that locus, each of which will be a triple that signifies the direction of exit--&gt; 
(set: $exitMap to (dm: &quot;0&quot;, (a:), &quot;10&quot;,(a:)))


(set: $coordMap to (dm: &quot;0&quot;, (a:), &quot;10&quot;,(a:)))

(set: $numberMap to (dm: &quot;0,0,0&quot;,10))

}</tw-passagedata><tw-passagedata pid="83" name="legacy graph builder v3 alternative " tags="" position="2950,466" size="100,100">{
&lt;!-DELETE--&gt;
(set: $LEGACYbuildMap to 
(macro: [
	($makeLocus:) 
	($getExits:)
	(if: length of $branchList &gt; 0)[($buildMap:)]
	(output-data: &quot;&quot;)
	]
	))
	
	

(set: $buildMap to 
(macro: [
	($makeLocus:) 
		&lt;!-counters incremented--&gt;
		&lt;!-thisBuild set to old counter--&gt;
		&lt;!-updates nodes--&gt;
	(if: length of $branchList &gt; 0)[($buildMap:)]
	(output-data: &quot;&quot;)
	]
	))


(set: $makeLocus to 
(macro: [
	($popCoordsFromBranchList:) 
		&lt;!-sets currentCoords, removes coords from stack--&gt;
		&lt;!-updates nodes--&gt;
	($makeLocusFromCoords:)
	(output-data: &quot;&quot;)
	]
	))
	
(set: $makeLocusFromCoords to 
(macro: [
	($assignLocusNumber:)
	($assignExits:)
		(output-data: &quot;&quot;)
	]
	))

(set: $assignExits to 
(macro: [
	($makeExitVector:)
		&lt;!-makes an empty array into which exits can be put--&gt;
	(if: length of $reverseArcs &gt; 0)[($makeReversePath:)]
	($getExits:)
	(output-data: &quot;&quot;)
	]
	))

(set: $assignLocusNumber to 
(macro: [
	($getLocusNumber:)  
		&lt;!-passage vs room decided here--&gt;
		&lt;!-counters incremented--&gt;
	($assignCoordsToLocusNumber:)
		&lt;!-roomString fixed here--&gt;
	($assignLocusNumberToCoords:)
	(output-data: &quot;&quot;)
	]
	))

&lt;!-adds the first exit waiting in reverseArcs to new node--&gt; 
&lt;!-this should synch with branchList. the first coordinates to be popped off branchlist should be the room to which this exit belongs --&gt; 

(set: $makeReversePath to 
(macro: [
	(set: _returnPath to 1st of $reverseArcs)
	(set: $roomString of $exitMap to it + (a:_returnPath))
	(set: $reverseArcs to it - (a:_returnPath))
	(output-data: &quot;&quot;)
	]
	))

(set: $makeExitVector to 
(macro: [
	(set: $roomString of $exitMap to (a:))
	(output-data: &quot;&quot;)
	]
	))


&lt;!-stack should be initialized with a: 0, 0, 0 as only member--&gt;
&lt;!-assumes that stack is not empty--&gt;
(set: $popCoordsFromBranchList to 
(macro: [	
	(set: $currentCoords to 1st of $branchList) 
	(set: $branchList to it - (a: $currentCoords)) 
	(set: $nodes to $nodes + (a: $currentCoords))
	(output-data: &quot;&quot;)
	]
	))
	
	
&lt;!-gets a room number for current coords --&gt;
&lt;!-currentRoom and currentPassage should be initialized to 0 and 10--&gt;
&lt;!-if a room is picked, a simple room generator is run. If a passage is picked, the room generator AND the passage generator is run. This puts a room on the stack under the passage, so that the passage goes somewhere.--&gt;

(set: $getLocusNumber to 
(macro: [	
	($getRandomWithMax: $passaginess)
	(if: $currentRoom &gt; 9 or $randomWithMax &gt; 3)
		[(set: $thisBuild to $currentPassage)
		(set: $currentPassage to it + 1)]
	(else:) 
		[(set: $thisBuild to $currentRoom)
		(set: $currentRoom to it +1)]
	(output-data: &quot;&quot;)
	]
	))

&lt;!-assigns current coords to current room number on datamap--&gt;

(set: $assignCoordsToLocusNumber to 
(macro: [	
	(set: $roomString to (str: $thisBuild)) 
		&lt;!-moved from last line of getlocusnumber--&gt;
	(set: $roomString of $coordMap to $currentCoords)
	(output-data: &quot;&quot;)
	]
	))
	
(set: $assignLocusNumberToCoords to 
(macro: [	
	(set: $coordString to (str: $currentCoords)) 
	(set: $coordString of $numberMap to $thisBuild)
	(output-data: &quot;&quot;)
	]
	))

&lt;!-exits are shortarcs, so that they can be interpreted for direction--&gt;
&lt;!-exits are NOT locus coords--&gt;
(set: $getExits to 
(macro: [
	(set: _threshold to $stopValue - $branchiness)
	&lt;!-more branchy builds overproduce, so start heading back early--&gt;
	(if: $thisBuild &lt; _threshold) 
		[($makeExit:) &lt;!-make at least 1 exit--&gt;
		($getMoreExits:) &lt;!-random factor for more exits--&gt;
		] 
	(else:) [($makeReturnExit:)] &lt;!-make an exit that heads back--&gt;
	(output-data: &quot;&quot;)
	]
	))
	
	
&lt;!-gets a random shortarc, calls for a corresponding room to be made--&gt;
&lt;!-DELETE--&gt;
(set: $LEGACYmakeExit to 
(macro: [
	(set: $currentExit to ($getNextShortArc:))
	(set: $roomString of $exitMap to it + (a: $currentExit))
	(set: $newCoords to ($vectorAdd3: $currentCoords, $currentExit))
	($pushNewCoordsToBranchlist:)
	(output-data: &quot;&quot;)
	]
	))

&lt;!-gets a random shortarc, calls for a corresponding room to be made--&gt;
(set: $makeReturnExit to 
(macro: [
	(set: $currentExit to ($makeNegativeArc:$currentCoords))
	(set: $roomString of $exitMap to (a: $currentExit))
	(set: $newCoords to ($vectorAdd3: $currentCoords, $currentExit))
	($decideWhetherToMakeNewRoom:) 
	(output-data: &quot;&quot;)
	]
	))
	
&lt;!-gets a random shortarc, calls for a corresponding room to be made--&gt;
(set: $makeExit to 
(macro: [
	(set: $currentExit to ($getNextShortArc:))
	(set: $roomString of $exitMap to it + (a: $currentExit))
	(set: $distalCoords to ($vectorAdd3: $currentCoords, $currentExit))
	($decideWhetherToMakeNewRoom:) 
	(output-data: &quot;&quot;)
	]
	))
	
&lt;!-makes a nominal path back to correspond to backtracking along the given path, stores it in reverseArcs to be added to the yet-to-be-built locus that will be at the end of the path--&gt;
(set: $LEGACYmakeReversePath to 
(macro: [
	(set: _reverseArc to ($oppositeArc: $currentExit))
	(set: $reverseArcs to it + (a: _reverseArc))
	(output-data: &quot;&quot;)
	]
	))	


&lt;!-checks whether coords at paths end have already been turned into room. Adds to branchlist if not and puts a nominal path back into reverseArcs to be added to the room when built. Otherwise, ensures a return path is built from old room. --&gt;
(set: $decideWhetherToMakeNewRoom to
(macro: [
	(set: _reverseArc to ($oppositeArc: $currentExit))
	(if: $distalCoords is not in $nodes) 
		[(set: $branchList to it + (a: $distalCoords))
		(set: $reverseArcs to it + (a: _reverseArc))]
	(else:)[($returnPathFromDistal: _reverseArc)] 
	(output-data: &quot;&quot;)
	]
	))
	
(set: $returnPathFromDistal to 
(macro: array-type _reverseArc, [
	(set: _coordString to (str: $distalCoords))
	(set: _roomNumber to _coordString of $numberMap)
	(set: _roomString to (str: _roomNumber))
	(set: _roomString of $exitMap to it + (a: _reverseArc))
	(output-data: &quot;&quot;)
	]
	))
	


&lt;!-possibly generates some more exits to be added to branchlist.--&gt;

(set: $getMoreExits to
(macro: [
	($getRandomWithMax: $branchiness)
	(if: $randomWithMax &gt; 3)
		[($makeExit:)
		($getMoreExits:)] 
	(output-data: &quot;&quot;)
	]
	))

&lt;!-Returns 1 for numbers with positive value, 0 for 0 and -1 for numbers with negative value--&gt;
(set: $returnPolarities to 
(macro: num-type _x, [
	(if: _x is not 0)[(set: _x to _x/(abs:_x))]
	(output-data: _x)]
	))

&lt;!-takes an arc and substitutes -1 for positive values 0 for 0 and 1 for negative values--&gt;
&lt;!-Rationale: To get a path that tends back to the origin 0, 0, 0, we need arcs that go downstairs if the current place is upstairs, east if the current place is west, etc--&gt;

(set: $makeNegativeArc to 
(macro: array-type _arc, [
	(if: _arc is not an array)
		[(error: &quot;$makeNegativeArc given something other than array&quot;)]
	(set: _output to (a: 
		-($returnPolarities: 1st of _arc),
		-($returnPolarities: 2nd of _arc),
		-($returnPolarities: 3rd of _arc)))
	(output-data:_output)
	]
	))

	

}
</tw-passagedata><tw-passagedata pid="84" name="legacy graph maker v3.1" tags="" position="2820,466" size="100,100">{
	

(set: $buildMap to 
(macro: [
	(if: length of $branchList is 0 and $counter &lt; 10)
		[(set: $branchList to it + (a: $reserveBranch))
		&lt;!-adds reserve branch to branchlist--&gt;
		]
	(if: length of $branchList &gt; 0) 
		[($makeLocus:) 
			&lt;!-counters incremented--&gt;
			&lt;!-thisBuild set to old counter--&gt;
			&lt;!-updates nodes--&gt;
		($getExits:)
		($buildMap:)]
	(output-data: &quot;&quot;)
	]
	))


(set: $makeLocus to 
(macro: [
	($popCoordsFromBranchList:) 
		&lt;!-sets currentCoords, removes coords from stack--&gt;
		&lt;!-updates nodes--&gt;
	($getRandomWithMax: 2)
	(if: $randomWithMax &lt; 1)[(set: $reserveBranch to $currentCoords)]
		&lt;!-prepares reserve branch for back up branching--&gt;
	($getLocusNumber:)  
		&lt;!-passage vs room decided here--&gt;
		&lt;!-counters incremented--&gt;
	($assignCoordsToLocusNumber:)
		&lt;!-roomString fixed here--&gt;
	($assignLocusNumberToCoords:)
	($makeExitVector:)
		&lt;!-makes an empty array into which exits can be put--&gt;
	(if: length of $reverseArcs &gt; 0)[($makeReversePath:)]
	(output-data: &quot;&quot;)
	]
	))


&lt;!-adds the first exit waiting in reverseArcs to new node--&gt; 
&lt;!-this should synch with branchList. the first coordinates to be popped off branchlist should be the room to which this exit belongs --&gt; 

(set: $makeReversePath to 
(macro: [
	(set: _returnPath to 1st of $reverseArcs)
	(set: $roomString of $exitMap to it + (a:_returnPath))
	(set: $reverseArcs to it - (a:_returnPath))
	(output-data: &quot;&quot;)
	]
	))

(set: $makeExitVector to 
(macro: [
	(set: $roomString of $exitMap to (a:))
	(output-data: &quot;&quot;)
	]
	))


&lt;!-stack should be initialized with a: 0, 0, 0 as only member--&gt;
&lt;!-assumes that stack is not empty--&gt;
(set: $popCoordsFromBranchList to 
(macro: [	
	(set: $currentCoords to 1st of $branchList) 
	(set: $branchList to it - (a: $currentCoords)) 
	(output-data: &quot;&quot;)
	]
	))
	
	
(set: $getLocusNumber to 
(macro: [
	&lt;!-if the coords already have a room number, use that--&gt;
	(if: $nodes contains $currentCoords)
		[ (set: $coordString to (str:$currentCoords))
		(set: $thisBuild to $coordString of $numberMap)]
	(else:) [(set: $nodes to $nodes + (a: $currentCoords))
			($getNewLocusNumber:)]
	(output-data: &quot;&quot;)
	]
	))


&lt;!-gets a room number for current coords --&gt;
&lt;!-currentRoom and currentPassage should be initialized to 0 and 10--&gt;

(set: $getNewLocusNumber to 
(macro: [	
	($getRandomWithMax: $passaginess)
	(if: $currentRoom &gt; 9 or $randomWithMax &gt; 3)
		[(set: $thisBuild to $currentPassage)
		(set: $currentPassage to it + 1)]
	(else:) 
		[(set: $thisBuild to $currentRoom)
		(set: $currentRoom to it +1)]
	(output-data: &quot;&quot;)
	]
	))

&lt;!-assigns current coords to current room number on datamap--&gt;

(set: $assignCoordsToLocusNumber to 
(macro: [	
	(set: $roomString to (str: $thisBuild)) 
		&lt;!-moved from last line of getlocusnumber--&gt;
	(set: $roomString of $coordMap to $currentCoords)
	(output-data: &quot;&quot;)
	]
	))
	
(set: $assignLocusNumberToCoords to 
(macro: [	
	(set: $coordString to (str: $currentCoords)) 
	(set: $coordString of $numberMap to $thisBuild)
	(output-data: &quot;&quot;)
	]
	))

&lt;!-exits are shortarcs, so that they can be interpreted for direction--&gt;
&lt;!-exits are NOT locus coords--&gt;
(set: $LEGACYgetExits to 
(macro: [
	(set: _threshold to $stopValue - $branchiness)
	&lt;!-more branchy builds overproduce, so start heading back early--&gt;
	(if: $thisBuild &lt; _threshold) 
		[($makeExit:) &lt;!-make at least 1 exit--&gt;
		($getMoreExits:) &lt;!-random factor for more exits--&gt;
		] 
	(else:) [($makeReturnExit:)] &lt;!-make an exit that heads back--&gt;
	(output-data: &quot;&quot;)
	]
	))

&lt;!-if it&#39;s a room and the branchlist is empty, make an exit. Otherwise, if it&#39;s a passage, make at least one.--&gt;
(set: $getExits to 
(macro: [
	(if: $currentRoom &lt; 10 and length of $branchList is 0) 
		[($makeTwoExits:)]
	(if: $thisBuild &gt; 9) 
		[($makeExit:) &lt;!-make at least 1 exit--&gt;
		($getMoreExits:)
		] 
	(output-data: &quot;&quot;)
	]
	))

(set: $makeTwoExits to 
(macro: [
	($makeExit:) 
	($makeExit:) 
	(output-data: &quot;&quot;)
	]
	))
	
	
&lt;!-gets a random shortarc, calls for a corresponding room to be made--&gt;
&lt;!-DELETE--&gt;
(set: $LEGACYmakeExit to 
(macro: [
	(set: $currentExit to ($getNextShortArc:))
	(set: $roomString of $exitMap to it + (a: $currentExit))
	(set: $newCoords to ($vectorAdd3: $currentCoords, $currentExit))
	($pushNewCoordsToBranchlist:)
	(output-data: &quot;&quot;)
	]
	))

&lt;!-gets a random shortarc, calls for a corresponding room to be made--&gt;
(set: $makeReturnExit to 
(macro: [
	(set: $currentExit to ($makeNegativeArc:$currentCoords))
	(set: $roomString of $exitMap to (a: $currentExit))
	(set: $newCoords to ($vectorAdd3: $currentCoords, $currentExit))
	($decideWhetherToMakeNewRoom:) 
	(output-data: &quot;&quot;)
	]
	))
	
&lt;!-gets a random shortarc, calls for a corresponding room to be made--&gt;
(set: $makeExit to 
(macro: [
	(if: $thisBuild &gt; 17)
		[($makeReturnExit:)]
	(else:)[($makeRandomExit:)]
	(output-data: &quot;&quot;)
	]
	))	


&lt;!-gets a random shortarc, calls for a corresponding room to be made--&gt;
(set: $makeRandomExit to 
(macro: [
	(set: $currentExit to ($getNextShortArc:))
	(set: $roomString of $exitMap to it + (a: $currentExit))
	(set: $distalCoords to ($vectorAdd3: $currentCoords, $currentExit))
	($decideWhetherToMakeNewRoom:) 
	(output-data: &quot;&quot;)
	]
	))
	
&lt;!-makes a nominal path back to correspond to backtracking along the given path, stores it in reverseArcs to be added to the yet-to-be-built locus that will be at the end of the path--&gt;
(set: $LEGACYmakeReversePath to 
(macro: [
	(set: _reverseArc to ($oppositeArc: $currentExit))
	(set: $reverseArcs to it + (a: _reverseArc))
	(output-data: &quot;&quot;)
	]
	))	


&lt;!-checks whether coords at paths end have already been turned into room. Adds to branchlist if not and puts a nominal path back into reverseArcs to be added to the room when built. Otherwise, ensures a return path is built from old room. --&gt;
(set: $decideWhetherToMakeNewRoom to
(macro: [
	(set: _reverseArc to ($oppositeArc: $currentExit))
	(if: $distalCoords is not in $nodes) 
		[(set: $branchList to it + (a: $distalCoords))
		(set: $reverseArcs to it + (a: _reverseArc))]
	(else:)[($returnPathFromDistal: _reverseArc)] 
	(output-data: &quot;&quot;)
	]
	))
	
(set: $returnPathFromDistal to 
(macro: array-type _reverseArc, [
	(set: _coordString to (str: $distalCoords))
	(set: _roomNumber to _coordString of $numberMap)
	(set: _roomString to (str: _roomNumber))
	(set: _roomString of $exitMap to it + (a: _reverseArc))
	(output-data: &quot;&quot;)
	]
	))
	


&lt;!-possibly generates some more exits to be added to branchlist.--&gt;

(set: $getMoreExits to
(macro: [
	($getRandomWithMax: $branchiness)
	(if: $randomWithMax &gt; 3)
		[($makeExit:)
		($getMoreExits:)] 
	(output-data: &quot;&quot;)
	]
	))

&lt;!-Returns 1 for numbers with positive value, 0 for 0 and -1 for numbers with negative value--&gt;
(set: $returnPolarities to 
(macro: num-type _x, [
	(if: _x is not 0)[(set: _x to _x/(abs:_x))]
	(output-data: _x)]
	))

&lt;!-takes an arc and substitutes -1 for positive values 0 for 0 and 1 for negative values--&gt;
&lt;!-Rationale: To get a path that tends back to the origin 0, 0, 0, we need arcs that go downstairs if the current place is upstairs, east if the current place is west, etc--&gt;

(set: $makeNegativeArc to 
(macro: array-type _arc, [
	(if: _arc is not an array)
		[(error: &quot;$makeNegativeArc given something other than array&quot;)]
	(set: _output to (a: 
		-($returnPolarities: 1st of _arc),
		-($returnPolarities: 2nd of _arc),
		-($returnPolarities: 3rd of _arc)))
	(output-data:_output)
	]
	))

	

}
</tw-passagedata><tw-passagedata pid="85" name="graph builder 3.2" tags="" position="2556,497" size="100,100">{
	
&lt;!-starts the build at passage 10, at coords 0,0,0, set in setup, then calls the recursive buildMap to continue from there.--&gt; 

(set: $startMap to 
(macro: [
	($assignCoordsToLocusNumber:)
		&lt;!-roomString fixed here--&gt;
	($assignLocusNumberToCoords:)
	($makeArrayForExits:)
	($getExits:)
	(set: $currentPassage to it + 1)
	(set: $startReport to $branchList)
	($buildMap:)
	(output-data: &quot;&quot;)
	]
	))


(set: $buildMap to 
(macro: [
&lt;!-if the branchList is empty, add the reservebranch.--&gt; 
	(if: length of $branchList is 0 and $currentRoom &gt; 9)
		[(output-data:&quot;&quot;)]
	(if: length of $branchList is 0)
		[($branchWithEmptyList:)
		&lt;!-adds reserve branch to branchlist--&gt;
		]
&lt;!-Provided we haven&#39;t passed counter = 9, there should be something on the branchlist. Make a locus from it, make exits for it, then recurse.--&gt; 
	(else:) 
		[($makeLocus:) 
			&lt;!-counters incremented--&gt;
			&lt;!-thisBuild set to old counter--&gt;
			&lt;!-updates nodes--&gt;
		($getExits:)
		($buildMap:)]
	(output-data: &quot;&quot;)
	]
	))

(set: $branchWithEmptyList to 
(macro: [
	($branchFromRandomNode:)
	(if: length of $branchList is 0)[($branchWithEmptyList:)]
	(output-data:&quot;&quot;)
	]))

(set: $branchFromRandomNode to 
(macro: [
	($getRandomWithMax: 20)
	(set: $branchingPoint to (nth: $randomWithMax, $nodes))
	(set: $branchingString to (str: $branchingPoint))
	(set: $reserveExit to ($getNextShortArc:))
	(if: $reserveExit is not in $branchingString of $exitMap)
		[(set:$branchingString of $exitMap to it + (a:$reserveExit))
		(set: $distalCoords to ($vectorAdd3: $branchingPoint, $reserveExit))
		($decideOnNewRoom:)
		]
	(else: $branchFromRandomNode)
	(output-data: &quot;&quot;)
]))
	

(set: $makeLocus to 
(macro: [
	($popCoordsFromBranchList:) 
		&lt;!-sets currentCoords, removes coords from stack--&gt;
		&lt;!-updates nodes--&gt;
	($getRandomWithMax: 4)
	(if: $randomWithMax &lt; 3)[(set: $reserveBranch to $currentCoords)]
		&lt;!-prepares reserve branch for back up branching--&gt;
	($getLocusNumber:)  
		&lt;!-passage vs room decided here--&gt;
		&lt;!-counters incremented--&gt;
	($assignCoordsToLocusNumber:)
		&lt;!-roomString fixed here--&gt;
	($assignLocusNumberToCoords:)
	($makeArrayForExits:)
		&lt;!-makes an empty array into which exits can be put--&gt;
	(if: length of $reverseArcs &gt; 0)[($makeReversePath:)]
	(output-data: &quot;&quot;)
	]
	))


&lt;!-adds the first exit waiting in reverseArcs to new node--&gt; 
&lt;!-this should synch with branchList. the first coordinates to be popped off branchlist should be the room to which this exit belongs --&gt; 

(set: $makeReversePath to 
(macro: [
	(set: _returnPath to 1st of $reverseArcs)
	(set: $roomString of $exitMap to it + (a:_returnPath))
	&lt;!-below is commented out to leave exit data in place...--&gt; 
	&lt;!- to be used when building new passages != to old passages--&gt; 
	&lt;!-&quot;(set: $reverseArcs to it - (a:_returnPath))&quot;--&gt; 
	(output-data: &quot;&quot;)
	]
	))

&lt;!-creates an array into which exits can be placed--&gt; 

(set: $makeArrayForExits to 
(macro: [
	(set: $roomString of $exitMap to (a:))
	(output-data: &quot;&quot;)
	]
	))


&lt;!-stack should be initialized with a: 0, 0, 0 as only member--&gt;
&lt;!-assumes that stack is not empty--&gt;
(set: $popCoordsFromBranchList to 
(macro: [	
	(set: $currentCoords to 1st of $branchList) 
	(set: $branchList to it - (a: $currentCoords)) 
	(set: $nodes to $nodes + (a: $currentCoords))
	(output-data: &quot;&quot;)
	]
	))
	
	
&lt;!-gets a room number for current coords --&gt;
&lt;!-currentRoom and currentPassage should be initialized to 0 and 10--&gt;

(set: $getLocusNumber to 
(macro: [	
	($getRandomWithMax: $passaginess)
	(if: $currentRoom &gt; 9 or $randomWithMax &gt; 3)
		[(set: $thisBuild to $currentPassage)
		(set: $currentPassage to it + 1)]
	(else:) 
		[(set: $thisBuild to $currentRoom)
		(set: $currentRoom to it +1)]
	(output-data: &quot;&quot;)
	]
	))

&lt;!-assigns current coords to current room number on datamap--&gt;

(set: $assignCoordsToLocusNumber to 
(macro: [	
	(set: $roomString to (str: $thisBuild)) 
		&lt;!-moved from last line of getlocusnumber--&gt;
	(set: $roomString of $coordMap to $currentCoords)
	(output-data: &quot;&quot;)
	]
	))
	
(set: $assignLocusNumberToCoords to 
(macro: [	
	(set: $coordString to (str: $currentCoords)) 
	(set: $coordString of $numberMap to $thisBuild)
	(output-data: &quot;&quot;)
	]
	))

&lt;!-exits are shortarcs, so that they can be interpreted for direction--&gt;
&lt;!-exits are NOT locus coords--&gt;
(set: $LEGACYgetExits to 
(macro: [
	(set: _threshold to $stopValue - $branchiness)
	&lt;!-more branchy builds overproduce, so start heading back early--&gt;
	(if: $thisBuild &lt; _threshold) 
		[($makeExit:) &lt;!-make at least 1 exit--&gt;
		($getMoreExits:) &lt;!-random factor for more exits--&gt;
		] 
	(else:) [($makeReturnExit:)] &lt;!-make an exit that heads back--&gt;
	(output-data: &quot;&quot;)
	]
	))

&lt;!- exits are shortarcs, so that they can be interpreted for direction--&gt;
&lt;!- exits are NOT locus coords--&gt;
&lt;!-if passage, directs to makePassageExit; makes rooms into dead ends--&gt;

(set: $getExits to 
(macro: [
	(if: $thisBuild &gt; 9) 
		[($makePassageExit:)]
	(output-data: &quot;&quot;)
	]
	))

&lt;!-the purpose of this function is to decide (i) how many exits and (ii) what kind of exits to make for a given passage.--&gt;
&lt;!-passages ought to have at least two exits in order to be a passage anywhere--&gt;
&lt;!-checks whether there is anything in reversePaths = checks whether a path leads here, if so, creates a distinct exit--&gt;
&lt;!-else, then this must be the first passage. Makes two distinct exits.--&gt; 
&lt;!-also adds 0 to n random exits--&gt;
(set: $makePassageExit to 
(macro: [
		(if: length of $reverseArcs &gt; 0) 
			[
			($makeStoredExit:)
			($makeAptExit:)&lt;!-make a headback exit, if required--&gt;
			($makeSecondExit:) &lt;!-makes a second exit, if none there--&gt; 
			]
		(else:) [($makeExit:)
				($makeExit:)
				]
		($getMoreExits:) &lt;!-random factor for more exits--&gt;
		(output-data:&quot;&quot;)
		] ))
		
&lt;!-check that passage has more than one exit. Make a new one if not.--&gt;
(set: $makeSecondExit to 
(macro: [
		(set: _exits to $roomString of $exitMap)
		(if: length of _exits is 1)[
			($makeExit:)]
		(output-data:&quot;&quot;)
		] ))		
		
&lt;!-decides whether to make a passage at random, or a passage that tends back towards the start--&gt; 

(set: $makeAptExit to 
(macro: [
	(set: _threshold to $stopValue - $inverseSprawl)
	&lt;!-more branchy builds overproduce, so start heading back early--&gt;
	(if: $thisBuild &gt; _threshold) 
		[($makeHeadBackExit:)]
	(else:) [($makeExit:)]
	(output-data:&quot;&quot;)
		] ))
	

&lt;!-makes a path that heads back towards 0,0,0--&gt;
(set: $LEGACYmakeReturnExit to 
(macro: [
	(set: $currentExit to ($makeNegativeArc:$currentCoords))
	(set: $roomString of $exitMap to (a: $currentExit))
	(set: $newCoords to ($vectorAdd3: $currentCoords, $currentExit))
	($decideWhetherToMakeNewRoom:) 
	(output-data: &quot;&quot;)
	]
	))

&lt;!-makes a path that heads back towards 0,0,0--&gt;
&lt;!-distalCoords are the coords of the room to which the passage leads--&gt;

(set: $makeHeadBackExit to 
(macro: [
	(set: $currentExit to ($makeNegativeArc:$currentCoords))
	(set: _exits to $roomString of $exitMap)
	(if: $currentExit is not in _exits)[
		(set: $roomString of $exitMap to it + (a: $currentExit))
		(set: $distalCoords to ($vectorAdd3: $currentCoords, $currentExit))
		($decideOnNewRoom:)]
	(output-data: &quot;&quot;)
	]
	))
	
&lt;!-gets a random shortarc, calls for a corresponding room to be made--&gt;
&lt;!-distalCoords are the coords of the room to which the passage leads--&gt;
&lt;!-if the first exit is already there, it recurses til it gets a new one--&gt;

(set: $makeExit to 
(macro: [
	(set: _exits to $roomString of $exitMap)
	(set: $currentExit to ($getNextShortArc:))
	(if: $currentExit is not in _exits)[
		(set: $roomString of $exitMap to it + (a: $currentExit))
		(set: $distalCoords to ($vectorAdd3: $currentCoords, $currentExit))
		($decideOnNewRoom:)]
	(else:) [($makeExit:)]
	(output-data: &quot;&quot;)
	]
	))

&lt;!-checks whether coords at paths end have already been turned into room. Adds to branchlist if not and puts a nominal path back into reverseArcs to be added to the room when built. Otherwise, ensures a return path is built from old room. --&gt;
(set: $decideOnNewRoom to
(macro: [
	(set: _reverseArc to ($oppositeArc: $currentExit))
	(if: $distalCoords is not in $nodes) 
		[(set: $branchList to it + (a: $distalCoords))
		(set: $reverseArcs to it + (a: _reverseArc))]
	(else:)[($addPathToOldRoom: _reverseArc)] 
	(output-data: &quot;&quot;)
	]
	))
	
&lt;!-makes a nominal path back to correspond to backtracking along the given path, stores it in reverseArcs to be added to the yet-to-be-built locus that will be at the end of the path--&gt;
(set: $LEGACYmakeReversePath to 
(macro: [
	(set: _reverseArc to ($oppositeArc: $currentExit))
	(set: $reverseArcs to it + (a: _reverseArc))
	(output-data: &quot;&quot;)
	]
	))	
	
&lt;!-instantiates the path stored from when a path to this room was built, that backtracks to the original --&gt;	
(set: $makeStoredExit to 
(macro: [
	(set: _returnPath to 1st of $reverseArcs) 
	(set: $roomString of $exitMap to it + (a: _returnPath))
	(set: $reverseArcs to it - (a:_returnPath))
	(output-data: &quot;&quot;)
	]
	))



&lt;!-This is called when a path loops back to a pre-existing room. In that case, a corresponding exit from the pre-existing room needs to be added to the pre-existing room--&gt;
&lt;!-Takes the required exit as input, so just needs to add it to the exitMap--&gt;
&lt;!-distalCoords have already been set to the old room--&gt;

(set: $addPathToOldRoom to 
(macro: array-type _reverseArc, [
		&lt;!-set coords to string to look up on numberMap --&gt;
	(set: _coordString to (str: $distalCoords))
		&lt;!-set roomnumber to corresponding value on numberMap --&gt;
	(set: _roomNumber to _coordString of $numberMap)
		&lt;!-set that to string to look up on exitmap --&gt;
	(set: _roomString to (str: _roomNumber))
		&lt;!- add the exit coords to the old room&#39;s entry on exitmap--&gt;
	(set: _roomString of $exitMap to it + (a: _reverseArc))
	(output-data: &quot;&quot;)
	]
	))
	


&lt;!-possibly generates some more exits to be added to branchlist.--&gt;

(set: $getMoreExits to
(macro: [
	($getRandomWithMax: $branchiness)
	(if: $randomWithMax &gt; 3)
		[($makeExit:)
		($getMoreExits:)] 
	(output-data: &quot;&quot;)
	]
	))

&lt;!-Returns 1 for numbers with positive value, 0 for 0 and -1 for numbers with negative value--&gt;
(set: $returnPolarities to 
(macro: num-type _num4polar, [
	(if: _num4polar is not 0)[(set: _num4polar to _num4polar/(abs:_num4polar))]
	(output-data: _num4polar)]
	))

&lt;!-takes an arc and substitutes -1 for positive values 0 for 0 and 1 for negative values--&gt;
&lt;!-Rationale: To get a path that tends back to the origin 0, 0, 0, we need arcs that go downstairs if the current place is upstairs, east if the current place is west, etc--&gt;

(set: $makeNegativeArc to 
(macro: array-type _arc, [
	(if: _arc is not an array)
		[(error: &quot;$makeNegativeArc given something other than array&quot;)]
	(set: _output to (a: 
		-($returnPolarities: 1st of _arc),
		-($returnPolarities: 2nd of _arc),
		-($returnPolarities: 3rd of _arc)))
	(output-data:_output)
	]
	))

	

}
</tw-passagedata><tw-passagedata pid="86" name="graph builder 4.0" tags="startup" position="2325,569" size="100,100">&lt;!- ONE --&gt; 
(set: $buildMap to 
(macro: [
	(if: $currentRoom &lt; 10 and length of $branchList is 0)
		[($branchFromRandomNode:)]
	(if: $currentRoom &lt; 10) [
		(set: $gotBranch to 1st of $branchList)
		(set: $branchList to it - (a:$gotBranch))
		(set: $oldCoords to 1st of $gotBranch)
		(set: $currentCoords to 2nd of $gotBranch)
		(if: length of $currentCoords is not 3)[(error: &quot;currentcoords is  length&quot; + (str:length of $currentCoords))]
		(if: $currentCoords is not in $nodes)
			[(set: $nodes to it + (a:$currentCoords))]
		($makeLocus:) &lt;!- TWO --&gt; 
		($buildMap:)
		]
	(output-data: &quot;&quot;)
	]
	))

&lt;!- TWO --&gt; 
(set: $makeLocus to 
(macro: [
	($getLocusNumber:)  
	($assignCoordsToLocusNumber:)  
	($assignLocusNumberToCoords:)  
	(set: $roomString of $exitMap to (a:))
	($makePathBackToBranch:)
	(if: $thisBuild &gt; 9 and $thisBuild &lt; 15)[
		($createRandomNeighbor:)]
	(if: $thisBuild &gt; 9)[
		($createRandomNeighbor:)]
	(output-data: &quot;&quot;)
	]
	))
	

	
	
	
&lt;!- THREE --&gt;
&lt;!-gets a room number for current coords --&gt;
&lt;!-currentRoom and currentPassage should be initialized to 0 and 10--&gt;

(set: $getLocusNumber to 
(macro: [	
	($getRandomWithMax: $passaginess)
	(if: $currentRoom &gt; 9 or $randomWithMax &gt; 3)
		[(set: $thisBuild to $currentPassage)
		(set: $currentPassage to it + 1)]
	(else:) 
		[(set: $thisBuild to $currentRoom)
		(set: $currentRoom to it +1)]
	(output-data: &quot;&quot;)
	]
	))


&lt;!- FOUR --&gt;
&lt;!-assigns current coords to current room number on datamap--&gt;

(set: $assignCoordsToLocusNumber to 
(macro: [	
	(set: $roomString to (str: $thisBuild)) 
		&lt;!-moved from last line of getlocusnumber--&gt;
	(set: $roomString of $coordMap to $currentCoords)
	(output-data: &quot;&quot;)
	]
	))
	
&lt;!- FIVE --&gt;
(set: $assignLocusNumberToCoords to 
(macro: [	
	(set: $coordString to (str: $currentCoords)) 
	(set: $coordString of $numberMap to $thisBuild)
	(output-data: &quot;&quot;)
	]
	))
	
&lt;!- SIX --&gt;	
(set: $makePathBackToBranch to 
(macro: [
	(if: $oldCoords is not $currentCoords)
		[(set: _pathForward to ($subtractN3s: $currentCoords, $oldCoords))
		(set: _pathBack to ($subtractN3s: $oldCoords,$currentCoords))
		(set: $roomString of $exitMap to it + (a:_pathBack))
		(set: $oldString to (str: $oldCoords))
		(set: $oldNumber to $oldString of $numberMap)
		(set: (str: $oldNumber) of $exitMap to it + (a:_pathForward))
		]
	(output-data: &quot;&quot;)
	]
	))

&lt;!- SEVEN --&gt;
&lt;!- creates a random neighbor of currentCoords for branchList. Recurses until it finds a non duplicate.--&gt;

(set: $createRandomNeighbor to 
(macro: [
	(set: $currentExit to ($getNextShortArc:))
	(if: length of $currentCoords is not 3)[(error: &quot;currentcoords is  length&quot; + (str:length of $currentCoords))]
	(set: $distalCoords to ($vectorAdd3: $currentCoords, $currentExit))
	(if: $distalCoords is not in $nodes) 
		[
		(set: $putBranch to (a: $currentCoords, $distalCoords))
		(set: $branchList to it + (a: $putBranch))
		]
	(else:) [($createRandomNeighbor:)]
	(output-data: &quot;&quot;)
	]
	))




&lt;!- EIGHT --&gt;
(set: $branchFromRandomNode to 
(macro: [
	($getRandomWithMax: 19)
	(set: _index to $randomWithMax + 1)
	(set: $currentCoords to (nth: _index, ...$nodes))
	(if: length of $currentCoords is not 3)[(error: &quot;branchFromRandomNode is buggering up currentcoords&quot;)]
	($createRandomNeighbor:)
	(output-data: &quot;&quot;)
]))

</tw-passagedata><tw-passagedata pid="87" name="setup v4" tags="startup" position="2320,432" size="100,100">{
&lt;!--SET UP--&gt;
&lt;!--SET UP--&gt;
&lt;!--SET UP--&gt;
(set: $inverseSprawl to 7)
(set: $passaginess to 5)
(set: $branchiness to 7)
(set: $shortArcs to (a: 
	(a: -1,-1,-1),
	(a: -1,-1,0),
	(a: -1,-1,1),
	(a: -1,0,-1),
	(a: -1,0,0),
	(a: -1,0,1),
	(a: -1,1,-1),
	(a: -1,1,0),
	(a: -1,1,1),
	(a: 0,-1,-1),
	(a: 0,-1,0),
	(a: 0,-1,1),
	(a: 0,0,-1),
	(a: 0,0,1),
	(a: 0,1,-1),
	(a: 0,1,0),
	(a: 0,1,1),
	(a: 1,-1,-1),
	(a: 1,-1,0),
	(a: 1,-1,1),
	(a: 1,0,-1),
	(a: 1,0,0),
	(a: 1,0,1),
	(a: 1,1,-1),
	(a: 1,1,0),
	(a: 1,1,1)
	)
	)

(set: $branchList to (a: (a: (a: 0,0,0),(a: 0,0,0))))
(set: $currentRoom to 0)
(set: $currentPassage to 10)
(set: $thisBuild to 10) 
(set: $nodes to (a:)) 
(set: $stopValue to 25)
(set: $roomString to &quot;10&quot;)



&lt;!--the following datamap of arrays represents the exits from each locus. Each name is a string of the locus number and the corresponding value is the list of exits from that locus, each of which will be a triple that signifies the direction of exit--&gt; 
(set: $exitMap to (dm: &quot;0&quot;, (a:), &quot;10&quot;,(a:)))


(set: $coordMap to (dm: &quot;0&quot;, (a:), &quot;10&quot;,(a:)))

(set: $numberMap to (dm:))

}</tw-passagedata><tw-passagedata pid="88" name="graph access v4" tags="startup" position="2521,700" size="100,100">&lt;!--  --&gt; 
&lt;!--  --&gt; 
(set: $getTheseCoords to 
(macro: [
	(set: _roomString to (str: $thisRoomsNumber))
	(set: $theseCoords to _roomString of $coordMap)
	(output-data:&quot;&quot;)
	]
	))


&lt;!--Gets the value for the string thisRoomsNumber from the datamap exits--&gt;
(set: $getExitVectors to 
(macro: [
	(set: _roomString to (str: $thisRoomsNumber))
	(set: $exitVectors to _roomString of $exitMap)
	(output-data:&quot;&quot;)
	]))
	
&lt;!--takes room coords and returns name of room--&gt; 
(set: $getRoomFromCoords to
(macro: array-type _vector, [
	(set: _roomNo to (str: _vector) of $numberMap)
	(set: _output to &quot;locus &quot; + (str: _roomNo))
	(output-data: _output)
	]))

&lt;!--finds most extreme point in a given direction--&gt; 
(set: $findMostExtreme to 
(macro: string-type _direction, [
	(set: _currentExtreme to (a: 0,0,0)) 
	&lt;!--for north/south the settable position is position 2 in the coordinates--&gt; 
	(set: $coordToSet to (cond: 
		_direction is &quot;North&quot;, 2, 
		_direction is &quot;South&quot;, 2, 
		1))
	(set: $highOrLow to (cond: 
		_direction is &quot;North&quot;, &quot;highest&quot;, 
		_direction is &quot;East&quot;, &quot;highest&quot;, 
		&quot;lowest&quot;))
	(if: $highOrLow is &quot;highest&quot;)[
		(set: ($coordToSet) of _currentExtreme to -30)
		(for: each _item, ...$nodes) [
		(if: ($coordToSet) of _item &gt; ($coordToSet) of _currentExtreme)
				[(set:_currentExtreme to _item)]]]
	(else:)[(set: ($coordToSet) of _currentExtreme to 30)
		(for: each _item, ...$nodes) [
			(if: ($coordToSet) of _item &lt; ($coordToSet) of _currentExtreme)
				[(set:_currentExtreme to _item)]]]
	(set: $mostExtreme to _currentExtreme)
	(output-data:&quot;&quot;)
	]
	))







</tw-passagedata><tw-passagedata pid="89" name="decade one" tags="" position="2266,1271" size="100,100">{
(set: $decadeNum to 1) 
(set: $limitDirection to $4Direction)


(set: $decadeString to (str: $decadeNum))
($decadeRef:)

(set: $complexPhrase to $decadeString of ($fixComplexVocab:))
(set: $complexSentence to &quot;You are &quot; 
	+ 1st of ($complexPassageType:)
	+ &quot; &quot; 
	+ 2nd of ($complexPassageType:)
	+ &quot; &quot; 
	+ 3rd of ($complexPassageType:)
	+ &quot; somewhere &quot; 
	+ 1st of $complexPhrase
	+ &quot; &quot; 
	+ 2nd of $complexPhrase
	+ &quot; &quot;
	+ 3rd of $complexPhrase
	+ &quot; &quot;
	+ 4th of $complexPhrase
	)




&lt;!--ADJUSTABLES--&gt;
&lt;!--ADJUSTABLES--&gt;
&lt;!--ADJUSTABLES--&gt;


(set: $randomSeed to (str: $decadeRef) of $randomMaps)
(set: $randomSeed25 to $randomSeed) 
(set: $shortArcs to (str: $decadeRef) of $shortArcsDM)



&lt;!--SET UP--&gt;
&lt;!--SET UP--&gt;
&lt;!--SET UP--&gt;
(set: $inverseSprawl to 7)
(set: $passaginess to 5)
(set: $branchiness to 7)


(set: $branchList to (a: (a: (a: 0,0,0),(a: 0,0,0))))
(set: $currentRoom to 0)
(set: $currentPassage to 10)
(set: $thisBuild to 10) 
(set: $nodes to (a:)) 
(set: $stopValue to 25)
(set: $roomString to &quot;10&quot;)



&lt;!--the following datamap of arrays represents the exits from each locus. Each name is a string of the locus number and the corresponding value is the list of exits from that locus, each of which will be a triple that signifies the direction of exit--&gt; 
(set: $exitMap to (dm: &quot;0&quot;, (a:), &quot;10&quot;,(a:)))


(set: $coordMap to (dm: &quot;0&quot;, (a:), &quot;10&quot;,(a:)))

(set: $numberMap to (dm:))

(set: $seedIndex to 1)
(set: $seedIndex20 to 1)
(set: $seedIndex25 to 1)


&lt;!--RANDOM GENERATORS --&gt; 
&lt;!--RANDOM GENERATORS --&gt; 
&lt;!--RANDOM GENERATORS --&gt; 
&lt;!--RANDOM GENERATORS --&gt; 

(set: $getBinaryValue to (macro: [
	(set: _output to (nth: $seedIndex, 0,1,0,0,1,0,1,0,0,0,1,1,1,0,1,0,0))
	(if: $seedIndex &gt; 20) [(set: $seedIndex to 1)]
	(else:) [(set: $seedIndex +=1)]
	(output-data: _output)]))

(set: $getStableRandom20 to (macro: [
	(set: _output to (nth: $seedIndex20, ...$randomSeed))
	(if: $seedIndex &gt; 20) [(set: $seedIndex to 1)]
	(set: $seedIndex20 +=1)
	(output-data: _output)]))
	

(set: $mod to 
(macro: num-type _dividend, num-type _divisor, [
	(if: _divisor &lt; 0) [(error: &quot;divisor less than 0&quot;)]
	(if: _dividend &lt; 0) [(error: &quot;dividend less than 0&quot;)]
	(if: _divisor is 0) [(set: $modulus to 0)] 
	(else:)[
	(if: _divisor &gt; _dividend)[(set: $modulus to _dividend)]
	(else:) [($mod: _dividend - _divisor, _divisor)]
	]
	(output-data:&quot;&quot;) 
	]))
	
	
(set: $getRandomWithMax to 
(macro: num-type _limit, [
	(if: _limit &gt; 19)
		[(error:&quot;$getRandomWithMax cannot accept argument &gt;19&quot;)]
	(set: _starter to (nth: $seedIndex20, ...$randomSeed))
	(if: $seedIndex20 &gt; 40) [(set: $seedIndex to 1)]
	(else:) [(set: $seedIndex20 +=1)]
	($mod: _starter, _limit)
	(set: $randomWithMax to $modulus)
	(output-data: &quot;&quot;)
	]))

	

	
&lt;!--sets a stable random value from the range -1, 0, 1.--&gt;
(set: $getTernaryValue to (macro: [
	(set: _output to (nth: $seedIndex, 0,-1,0,1,-1,0,1,1,0,-1,1,1,-1,1,1,1,0))
	(if: $seedIndex &gt; 20) [(set: $seedIndex to 1)]
	(else:) [(set: $seedIndex +=1)]
	(output-data: _output)]))
		


(set: $makeRootArc to (macro: [
	(set: _from to (a: 0, 0, 0))
	(set: _to to ($getTernaryVector:)) 
	(output-data: _from + _to)]
	))
	
	
	
&lt;!--GET SHORTARCS --&gt; 
&lt;!--GET SHORTARCS --&gt; 
&lt;!--GET SHORTARCS --&gt; 
&lt;!--GET SHORTARCS --&gt;

(set: $getNextShortArc to 
(macro: [ 
	(set: _output to (nth: $seedIndex25, ...$shortArcs))
	(if: $seedIndex25 &gt; 25) [(set: $seedIndex25 to 1)]
	(else:) [(set: $seedIndex25 +=1)
		 ]
	(output-data: _output)]))
	


&lt;!--BUILD MAP --&gt;
&lt;!--BUILD MAP --&gt;
&lt;!--BUILD MAP --&gt;
($buildMap:) 

&lt;!--FIX START ROOM --&gt;
&lt;!--FIX START ROOM --&gt;
&lt;!--FIX START ROOM --&gt;
&lt;!--if the entrance is to the east, picks the eastmost room as the starting room, etc --&gt;

($findMostExtreme: $limitDirection)
(set: $theseCoords to $mostExtreme)
(set: $startCoords to $theseCoords) 
(set: $thisRoomsNumber to (str: $theseCoords) of $numberMap)

&lt;!--FIX COUNTERS AND VALUES --&gt;
&lt;!--FIX COUNTERS AND VALUES --&gt;
&lt;!--FIX COUNTERS AND VALUES --&gt;

(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)
(set: $wordIterator to 1)
($getExitVectors:)
($listExits: $exitVectors)


}
1
$complexSentence. You are at ($locusWord:) $thisRoomsNumber. 
(print: $directionText) 

(set: $returnText to &quot;You can also head back to the $4Direction into the [[$complexWord-&gt;d1 door]].&quot;) 
$returnText

(if: $floorInt is 0)[&lt;script&gt;CustomScripts.updateBackground(11);&lt;/script&gt;]
(if: $floorInt is 1)[&lt;script&gt;CustomScripts.updateBackground(111);&lt;/script&gt;]
(if: $floorInt is 2)[&lt;script&gt;CustomScripts.updateBackground(211);&lt;/script&gt;]
(if: $floorInt is 3)[&lt;script&gt;CustomScripts.updateBackground(311);&lt;/script&gt;]
(if: $floorInt is 4)[&lt;script&gt;CustomScripts.updateBackground(411);&lt;/script&gt;]
(if: $floorInt is 5)[&lt;script&gt;CustomScripts.updateBackground(511);&lt;/script&gt;]
(if: $floorInt is 6)[&lt;script&gt;CustomScripts.updateBackground(611);&lt;/script&gt;]
(if: $floorInt is 7)[&lt;script&gt;CustomScripts.updateBackground(711);&lt;/script&gt;]
(if: $floorInt is 8)[&lt;script&gt;CustomScripts.updateBackground(811);&lt;/script&gt;]
(if: $floorInt is 9)[&lt;script&gt;CustomScripts.updateBackground(911);&lt;/script&gt;]
(if: $floorInt is 10)[&lt;script&gt;CustomScripts.updateBackground(1011);&lt;/script&gt;]
(if: $floorInt is 11)[&lt;script&gt;CustomScripts.updateBackground(1111);&lt;/script&gt;]
(if: $floorInt is 12)[&lt;script&gt;CustomScripts.updateBackground(1211);&lt;/script&gt;]
(if: $floorInt is 13)[&lt;script&gt;CustomScripts.updateBackground(1311);&lt;/script&gt;]
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1411);&lt;/script&gt;]
(if: $floorInt is 15)[&lt;script&gt;CustomScripts.updateBackground(1511);&lt;/script&gt;]
(if: $floorInt is 16)[&lt;script&gt;CustomScripts.updateBackground(1611);&lt;/script&gt;]
(if: $floorInt is 17)[&lt;script&gt;CustomScripts.updateBackground(1711);&lt;/script&gt;]
(if: $floorInt is 18)[&lt;script&gt;CustomScripts.updateBackground(1811);&lt;/script&gt;]
(if: $floorInt is 19)[&lt;script&gt;CustomScripts.updateBackground(1911);&lt;/script&gt;]
(if: $floorInt is 20)[&lt;script&gt;CustomScripts.updateBackground(2011);&lt;/script&gt;]</tw-passagedata><tw-passagedata pid="90" name="decade seven" tags="" position="1840,1814" size="100,100">{
(set: $decadeNum to 7) 
(set: $limitDirection to $4Direction) 


(set: $decadeString to (str: $decadeNum))
($decadeRef:)

(set: $complexPhrase to $decadeString of ($fixComplexVocab:))
(set: $complexSentence to &quot;You are &quot; 
	+ 1st of ($complexPassageType:)
	+ &quot; &quot; 
	+ 2nd of ($complexPassageType:)
	+ &quot; &quot; 
	+ 3rd of ($complexPassageType:)
	+ &quot; somewhere &quot; 
	+ 1st of $complexPhrase
	+ &quot; &quot; 
	+ 2nd of $complexPhrase
	+ &quot; &quot;
	+ 3rd of $complexPhrase
	+ &quot; &quot;
	+ 4th of $complexPhrase
	)

&lt;!--ADJUSTABLES--&gt;
&lt;!--ADJUSTABLES--&gt;
&lt;!--ADJUSTABLES--&gt;


(set: $randomSeed to (str: $decadeRef) of $randomMaps)
(set: $randomSeed25 to $randomSeed) 
(set: $shortArcs to (str: $decadeRef) of $shortArcsDM)



&lt;!--SET UP--&gt;
&lt;!--SET UP--&gt;
&lt;!--SET UP--&gt;
(set: $inverseSprawl to 7)
(set: $passaginess to 5)
(set: $branchiness to 7)


(set: $branchList to (a: (a: (a: 0,0,0),(a: 0,0,0))))
(set: $currentRoom to 0)
(set: $currentPassage to 10)
(set: $thisBuild to 10) 
(set: $nodes to (a:)) 
(set: $stopValue to 25)
(set: $roomString to &quot;10&quot;)



&lt;!--the following datamap of arrays represents the exits from each locus. Each name is a string of the locus number and the corresponding value is the list of exits from that locus, each of which will be a triple that signifies the direction of exit--&gt; 
(set: $exitMap to (dm: &quot;0&quot;, (a:), &quot;10&quot;,(a:)))


(set: $coordMap to (dm: &quot;0&quot;, (a:), &quot;10&quot;,(a:)))

(set: $numberMap to (dm:))

(set: $seedIndex to 1)
(set: $seedIndex20 to 1)
(set: $seedIndex25 to 1)


&lt;!--RANDOM GENERATORS --&gt; 
&lt;!--RANDOM GENERATORS --&gt; 
&lt;!--RANDOM GENERATORS --&gt; 
&lt;!--RANDOM GENERATORS --&gt; 

(set: $getBinaryValue to (macro: [
	(set: _output to (nth: $seedIndex, 0,1,0,0,1,0,1,0,0,0,1,1,1,0,1,0,0))
	(if: $seedIndex &gt; 20) [(set: $seedIndex to 1)]
	(else:) [(set: $seedIndex +=1)]
	(output-data: _output)]))

(set: $getStableRandom20 to (macro: [
	(set: _output to (nth: $seedIndex20, ...$randomSeed))
	(if: $seedIndex &gt; 20) [(set: $seedIndex to 1)]
	(set: $seedIndex20 +=1)
	(output-data: _output)]))
	

(set: $mod to 
(macro: num-type _dividend, num-type _divisor, [
	(if: _divisor &lt; 0) [(error: &quot;divisor less than 0&quot;)]
	(if: _dividend &lt; 0) [(error: &quot;dividend less than 0&quot;)]
	(if: _divisor is 0) [(set: $modulus to 0)] 
	(else:)[
	(if: _divisor &gt; _dividend)[(set: $modulus to _dividend)]
	(else:) [($mod: _dividend - _divisor, _divisor)]
	]
	(output-data:&quot;&quot;) 
	]))
	
	
(set: $getRandomWithMax to 
(macro: num-type _limit, [
	(if: _limit &gt; 19)
		[(error:&quot;$getRandomWithMax cannot accept argument &gt;19&quot;)]
	(set: _starter to (nth: $seedIndex20, ...$randomSeed))
	(if: $seedIndex20 &gt; 40) [(set: $seedIndex to 1)]
	(else:) [(set: $seedIndex20 +=1)]
	($mod: _starter, _limit)
	(set: $randomWithMax to $modulus)
	(output-data: &quot;&quot;)
	]))

	

	
&lt;!--sets a stable random value from the range -1, 0, 1.--&gt;
(set: $getTernaryValue to (macro: [
	(set: _output to (nth: $seedIndex, 0,-1,0,1,-1,0,1,1,0,-1,1,1,-1,1,1,1,0))
	(if: $seedIndex &gt; 20) [(set: $seedIndex to 1)]
	(else:) [(set: $seedIndex +=1)]
	(output-data: _output)]))
		


(set: $makeRootArc to (macro: [
	(set: _from to (a: 0, 0, 0))
	(set: _to to ($getTernaryVector:)) 
	(output-data: _from + _to)]
	))
	
	
	
&lt;!--GET SHORTARCS --&gt; 
&lt;!--GET SHORTARCS --&gt; 
&lt;!--GET SHORTARCS --&gt; 
&lt;!--GET SHORTARCS --&gt;

(set: $getNextShortArc to 
(macro: [ 
	(set: _output to (nth: $seedIndex25, ...$shortArcs))
	(if: $seedIndex25 &gt; 25) [(set: $seedIndex25 to 1)]
	(else:) [(set: $seedIndex25 +=1)
		 ]
	(output-data: _output)]))
	

&lt;!--BUILD MAP --&gt;
&lt;!--BUILD MAP --&gt;
&lt;!--BUILD MAP --&gt;
($buildMap:) 

&lt;!--FIX START ROOM --&gt;
&lt;!--FIX START ROOM --&gt;
&lt;!--FIX START ROOM --&gt;
&lt;!--if the entrance is to the east, picks the eastmost room as the starting room, etc --&gt;

($findMostExtreme: $limitDirection)
(set: $theseCoords to $mostExtreme)
(set: $startCoords to $theseCoords) 
(set: $thisRoomsNumber to (str: $theseCoords) of $numberMap)

&lt;!--FIX COUNTERS AND VALUES --&gt;
&lt;!--FIX COUNTERS AND VALUES --&gt;
&lt;!--FIX COUNTERS AND VALUES --&gt;

(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)
(set: $wordIterator to 1)
($getExitVectors:)
($listExits: $exitVectors)


}
$complexSentence. You are at ($locusWord:) $thisRoomsNumber. 
(print: $directionText) 

(set: $returnText to &quot;You can also head back to the $4Direction into the [[$complexWord-&gt;main pathType lower]].&quot;) 
$returnText


(if: $floorInt is 0)[&lt;script&gt;CustomScripts.updateBackground(71);&lt;/script&gt;]
(if: $floorInt is 1)[&lt;script&gt;CustomScripts.updateBackground(171);&lt;/script&gt;]
(if: $floorInt is 2)[&lt;script&gt;CustomScripts.updateBackground(271);&lt;/script&gt;]
(if: $floorInt is 3)[&lt;script&gt;CustomScripts.updateBackground(371);&lt;/script&gt;]
(if: $floorInt is 4)[&lt;script&gt;CustomScripts.updateBackground(471);&lt;/script&gt;]
(if: $floorInt is 5)[&lt;script&gt;CustomScripts.updateBackground(571);&lt;/script&gt;]
(if: $floorInt is 6)[&lt;script&gt;CustomScripts.updateBackground(671);&lt;/script&gt;]
(if: $floorInt is 7)[&lt;script&gt;CustomScripts.updateBackground(771);&lt;/script&gt;]
(if: $floorInt is 8)[&lt;script&gt;CustomScripts.updateBackground(871);&lt;/script&gt;]
(if: $floorInt is 9)[&lt;script&gt;CustomScripts.updateBackground(971);&lt;/script&gt;]
(if: $floorInt is 10)[&lt;script&gt;CustomScripts.updateBackground(1071);&lt;/script&gt;]
(if: $floorInt is 11)[&lt;script&gt;CustomScripts.updateBackground(1171);&lt;/script&gt;]
(if: $floorInt is 12)[&lt;script&gt;CustomScripts.updateBackground(1271);&lt;/script&gt;]
(if: $floorInt is 13)[&lt;script&gt;CustomScripts.updateBackground(1371);&lt;/script&gt;]
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1471);&lt;/script&gt;]
(if: $floorInt is 15)[&lt;script&gt;CustomScripts.updateBackground(1571);&lt;/script&gt;]
(if: $floorInt is 16)[&lt;script&gt;CustomScripts.updateBackground(1671);&lt;/script&gt;]
(if: $floorInt is 17)[&lt;script&gt;CustomScripts.updateBackground(1771);&lt;/script&gt;]
(if: $floorInt is 18)[&lt;script&gt;CustomScripts.updateBackground(1871);&lt;/script&gt;]
(if: $floorInt is 19)[&lt;script&gt;CustomScripts.updateBackground(1971);&lt;/script&gt;]
(if: $floorInt is 20)[&lt;script&gt;CustomScripts.updateBackground(2071);&lt;/script&gt;]</tw-passagedata><tw-passagedata pid="91" name="decade five" tags="" position="2290,1648" size="100,100">{
(set: $decadeNum to 5) 
(set: $limitDirection to $4Direction) 


(set: $decadeString to (str: $decadeNum))
($decadeRef:)

(set: $complexPhrase to $decadeString of ($fixComplexVocab:))
(set: $complexSentence to &quot;You are &quot; 
	+ 1st of ($complexPassageType:)
	+ &quot; &quot; 
	+ 2nd of ($complexPassageType:)
	+ &quot; &quot; 
	+ 3rd of ($complexPassageType:)
	+ &quot; somewhere &quot; 
	+ 1st of $complexPhrase
	+ &quot; &quot; 
	+ 2nd of $complexPhrase
	+ &quot; &quot;
	+ 3rd of $complexPhrase
	+ &quot; &quot;
	+ 4th of $complexPhrase
	)

&lt;!--ADJUSTABLES--&gt;
&lt;!--ADJUSTABLES--&gt;
&lt;!--ADJUSTABLES--&gt;


(set: $randomSeed to (str: $decadeRef) of $randomMaps)
(set: $randomSeed25 to $randomSeed) 
(set: $shortArcs to (str: $decadeRef) of $shortArcsDM)



&lt;!--SET UP--&gt;
&lt;!--SET UP--&gt;
&lt;!--SET UP--&gt;
(set: $inverseSprawl to 7)
(set: $passaginess to 5)
(set: $branchiness to 7)


(set: $branchList to (a: (a: (a: 0,0,0),(a: 0,0,0))))
(set: $currentRoom to 0)
(set: $currentPassage to 10)
(set: $thisBuild to 10) 
(set: $nodes to (a:)) 
(set: $stopValue to 25)
(set: $roomString to &quot;10&quot;)



&lt;!--the following datamap of arrays represents the exits from each locus. Each name is a string of the locus number and the corresponding value is the list of exits from that locus, each of which will be a triple that signifies the direction of exit--&gt; 
(set: $exitMap to (dm: &quot;0&quot;, (a:), &quot;10&quot;,(a:)))


(set: $coordMap to (dm: &quot;0&quot;, (a:), &quot;10&quot;,(a:)))

(set: $numberMap to (dm:))

(set: $seedIndex to 1)
(set: $seedIndex20 to 1)
(set: $seedIndex25 to 1)


&lt;!--RANDOM GENERATORS --&gt; 
&lt;!--RANDOM GENERATORS --&gt; 
&lt;!--RANDOM GENERATORS --&gt; 
&lt;!--RANDOM GENERATORS --&gt; 

(set: $getBinaryValue to (macro: [
	(set: _output to (nth: $seedIndex, 0,1,0,0,1,0,1,0,0,0,1,1,1,0,1,0,0))
	(if: $seedIndex &gt; 20) [(set: $seedIndex to 1)]
	(else:) [(set: $seedIndex +=1)]
	(output-data: _output)]))

(set: $getStableRandom20 to (macro: [
	(set: _output to (nth: $seedIndex20, ...$randomSeed))
	(if: $seedIndex &gt; 20) [(set: $seedIndex to 1)]
	(set: $seedIndex20 +=1)
	(output-data: _output)]))
	

(set: $mod to 
(macro: num-type _dividend, num-type _divisor, [
	(if: _divisor &lt; 0) [(error: &quot;divisor less than 0&quot;)]
	(if: _dividend &lt; 0) [(error: &quot;dividend less than 0&quot;)]
	(if: _divisor is 0) [(set: $modulus to 0)] 
	(else:)[
	(if: _divisor &gt; _dividend)[(set: $modulus to _dividend)]
	(else:) [($mod: _dividend - _divisor, _divisor)]
	]
	(output-data:&quot;&quot;) 
	]))
	
	
(set: $getRandomWithMax to 
(macro: num-type _limit, [
	(if: _limit &gt; 19)
		[(error:&quot;$getRandomWithMax cannot accept argument &gt;19&quot;)]
	(set: _starter to (nth: $seedIndex20, ...$randomSeed))
	(if: $seedIndex20 &gt; 40) [(set: $seedIndex to 1)]
	(else:) [(set: $seedIndex20 +=1)]
	($mod: _starter, _limit)
	(set: $randomWithMax to $modulus)
	(output-data: &quot;&quot;)
	]))

	

	
&lt;!--sets a stable random value from the range -1, 0, 1.--&gt;
(set: $getTernaryValue to (macro: [
	(set: _output to (nth: $seedIndex, 0,-1,0,1,-1,0,1,1,0,-1,1,1,-1,1,1,1,0))
	(if: $seedIndex &gt; 20) [(set: $seedIndex to 1)]
	(else:) [(set: $seedIndex +=1)]
	(output-data: _output)]))
		


(set: $makeRootArc to (macro: [
	(set: _from to (a: 0, 0, 0))
	(set: _to to ($getTernaryVector:)) 
	(output-data: _from + _to)]
	))
	
	
	
&lt;!--GET SHORTARCS --&gt; 
&lt;!--GET SHORTARCS --&gt; 
&lt;!--GET SHORTARCS --&gt; 
&lt;!--GET SHORTARCS --&gt;

(set: $getNextShortArc to 
(macro: [ 
	(set: _output to (nth: $seedIndex25, ...$shortArcs))
	(if: $seedIndex25 &gt; 25) [(set: $seedIndex25 to 1)]
	(else:) [(set: $seedIndex25 +=1)
		 ]
	(output-data: _output)]))
	

&lt;!--BUILD MAP --&gt;
&lt;!--BUILD MAP --&gt;
&lt;!--BUILD MAP --&gt;
($buildMap:) 

&lt;!--FIX START ROOM --&gt;
&lt;!--FIX START ROOM --&gt;
&lt;!--FIX START ROOM --&gt;
&lt;!--if the entrance is to the east, picks the eastmost room as the starting room, etc --&gt;

($findMostExtreme: $limitDirection)
(set: $theseCoords to $mostExtreme)
(set: $startCoords to $theseCoords) 
(set: $thisRoomsNumber to (str: $theseCoords) of $numberMap)

&lt;!--FIX COUNTERS AND VALUES --&gt;
&lt;!--FIX COUNTERS AND VALUES --&gt;
&lt;!--FIX COUNTERS AND VALUES --&gt;

(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)
(set: $wordIterator to 1)
($getExitVectors:)
($listExits: $exitVectors)


}
$complexSentence. You are at ($locusWord:) $thisRoomsNumber. 
(print: $directionText) 

(set: $returnText to &quot;You can also head back to the $4Direction into the [[$complexWord-&gt;outside d5]].&quot;) 
$returnText


(if: $floorInt is 0)[&lt;script&gt;CustomScripts.updateBackground(51);&lt;/script&gt;]
(if: $floorInt is 1)[&lt;script&gt;CustomScripts.updateBackground(151);&lt;/script&gt;]
(if: $floorInt is 2)[&lt;script&gt;CustomScripts.updateBackground(251);&lt;/script&gt;]
(if: $floorInt is 3)[&lt;script&gt;CustomScripts.updateBackground(351);&lt;/script&gt;]
(if: $floorInt is 4)[&lt;script&gt;CustomScripts.updateBackground(451);&lt;/script&gt;]
(if: $floorInt is 5)[&lt;script&gt;CustomScripts.updateBackground(551);&lt;/script&gt;]
(if: $floorInt is 6)[&lt;script&gt;CustomScripts.updateBackground(651);&lt;/script&gt;]
(if: $floorInt is 7)[&lt;script&gt;CustomScripts.updateBackground(751);&lt;/script&gt;]
(if: $floorInt is 8)[&lt;script&gt;CustomScripts.updateBackground(851);&lt;/script&gt;]
(if: $floorInt is 9)[&lt;script&gt;CustomScripts.updateBackground(951);&lt;/script&gt;]
(if: $floorInt is 10)[&lt;script&gt;CustomScripts.updateBackground(1051);&lt;/script&gt;]
(if: $floorInt is 11)[&lt;script&gt;CustomScripts.updateBackground(1151);&lt;/script&gt;]
(if: $floorInt is 12)[&lt;script&gt;CustomScripts.updateBackground(1251);&lt;/script&gt;]
(if: $floorInt is 13)[&lt;script&gt;CustomScripts.updateBackground(1351);&lt;/script&gt;]
(if: $floorInt is 14)[&lt;script&gt;CustomScripts.updateBackground(1451);&lt;/script&gt;]
(if: $floorInt is 15)[&lt;script&gt;CustomScripts.updateBackground(1551);&lt;/script&gt;]
(if: $floorInt is 16)[&lt;script&gt;CustomScripts.updateBackground(1651);&lt;/script&gt;]
(if: $floorInt is 17)[&lt;script&gt;CustomScripts.updateBackground(1751);&lt;/script&gt;]
(if: $floorInt is 18)[&lt;script&gt;CustomScripts.updateBackground(1851);&lt;/script&gt;]
(if: $floorInt is 19)[&lt;script&gt;CustomScripts.updateBackground(1951);&lt;/script&gt;]
(if: $floorInt is 20)[&lt;script&gt;CustomScripts.updateBackground(2051);&lt;/script&gt;]
</tw-passagedata><tw-passagedata pid="92" name="Untitled Passage" tags="" position="1853,563" size="100,100">{

&lt;!--ADJUSTABLES--&gt;
&lt;!--ADJUSTABLES--&gt;
&lt;!--ADJUSTABLES--&gt;

(set: $randomSeed to (a: 5,0,3,12,14,13,19,4,9,1,8,2,6,7,15,17,16,18,11))
(set: $randomSeed25 to (a: 23,5,3,12,20,14,13,19,21,25,4,9,1,8,2,6,7,22, 15,17,16,18,24,11))

(set: $shortArcs to (a: 
	(a: -1,-1,-1),
	(a: -1,-1,0),
	(a: -1,-1,1),
	(a: -1,0,-1),
	(a: -1,0,0),
	(a: -1,0,1),
	(a: -1,1,-1),
	(a: -1,1,0),
	(a: -1,1,1),
	(a: 0,-1,-1),
	(a: 0,-1,0),
	(a: 0,-1,1),
	(a: 0,0,-1),
	(a: 0,0,1),
	(a: 0,1,-1),
	(a: 0,1,0),
	(a: 0,1,1),
	(a: 1,-1,-1),
	(a: 1,-1,0),
	(a: 1,-1,1),
	(a: 1,0,-1),
	(a: 1,0,0),
	(a: 1,0,1),
	(a: 1,1,-1),
	(a: 1,1,0),
	(a: 1,1,1)
	)
	)


&lt;!--SET UP--&gt;
&lt;!--SET UP--&gt;
&lt;!--SET UP--&gt;
(set: $inverseSprawl to 7)
(set: $passaginess to 5)
(set: $branchiness to 7)


(set: $branchList to (a: (a: (a: 0,0,0),(a: 0,0,0))))
(set: $currentRoom to 0)
(set: $currentPassage to 10)
(set: $thisBuild to 10) 
(set: $nodes to (a:)) 
(set: $stopValue to 25)
(set: $roomString to &quot;10&quot;)



&lt;!--the following datamap of arrays represents the exits from each locus. Each name is a string of the locus number and the corresponding value is the list of exits from that locus, each of which will be a triple that signifies the direction of exit--&gt; 
(set: $exitMap to (dm: &quot;0&quot;, (a:), &quot;10&quot;,(a:)))


(set: $coordMap to (dm: &quot;0&quot;, (a:), &quot;10&quot;,(a:)))

(set: $numberMap to (dm:))

(set: $seedIndex to 1)
(set: $seedIndex20 to 1)
(set: $seedIndex25 to 1)


&lt;!--RANDOM GENERATORS --&gt; 
&lt;!--RANDOM GENERATORS --&gt; 
&lt;!--RANDOM GENERATORS --&gt; 
&lt;!--RANDOM GENERATORS --&gt; 

(set: $getBinaryValue to (macro: [
	(set: _output to (nth: $seedIndex, 0,1,0,0,1,0,1,0,0,0,1,1,1,0,1,0,0))
	(if: $seedIndex &gt; 20) [(set: $seedIndex to 1)]
	(else:) [(set: $seedIndex +=1)]
	(output-data: _output)]))

(set: $getStableRandom20 to (macro: [
	(set: _output to (nth: $seedIndex20, ...$randomSeed))
	(if: $seedIndex &gt; 20) [(set: $seedIndex to 1)]
	(set: $seedIndex20 +=1)
	(output-data: _output)]))
	

(set: $mod to 
(macro: num-type _dividend, num-type _divisor, [
	(if: _divisor &lt; 0) [(error: &quot;divisor less than 0&quot;)]
	(if: _dividend &lt; 0) [(error: &quot;dividend less than 0&quot;)]
	(if: _divisor is 0) [(set: $modulus to 0)] 
	(else:)[
	(if: _divisor &gt; _dividend)[(set: $modulus to _dividend)]
	(else:) [($mod: _dividend - _divisor, _divisor)]
	]
	(output-data:&quot;&quot;) 
	]))
	
	
(set: $getRandomWithMax to 
(macro: num-type _limit, [
	(if: _limit &gt; 19)
		[(error:&quot;$getRandomWithMax cannot accept argument &gt;19&quot;)]
	(set: _starter to (nth: $seedIndex20, ...$randomSeed))
	(if: $seedIndex20 &gt; 40) [(set: $seedIndex to 1)]
	(else:) [(set: $seedIndex20 +=1)]
	($mod: _starter, _limit)
	(set: $randomWithMax to $modulus)
	(output-data: &quot;&quot;)
	]))

	

	
&lt;!--sets a stable random value from the range -1, 0, 1.--&gt;
(set: $getTernaryValue to (macro: [
	(set: _output to (nth: $seedIndex, 0,-1,0,1,-1,0,1,1,0,-1,1,1,-1,1,1,1,0))
	(if: $seedIndex &gt; 20) [(set: $seedIndex to 1)]
	(else:) [(set: $seedIndex +=1)]
	(output-data: _output)]))
		


(set: $makeRootArc to (macro: [
	(set: _from to (a: 0, 0, 0))
	(set: _to to ($getTernaryVector:)) 
	(output-data: _from + _to)]
	))
	
	
	
&lt;!--GET SHORTARCS --&gt; 
&lt;!--GET SHORTARCS --&gt; 
&lt;!--GET SHORTARCS --&gt; 
&lt;!--GET SHORTARCS --&gt;

(set: $getNextShortArc to 
(macro: [ 
	(set: _output to (nth: $seedIndex25, ...$shortArcs))
	(if: $seedIndex25 &gt; 25) [(set: $seedIndex25 to 1)]
	(else:) [(set: $seedIndex25 +=1)
		 ]
	(output-data: _output)]))
	
}</tw-passagedata><tw-passagedata pid="93" name="random numbers database creator KEEP" tags="" position="1721,871" size="100,100">&lt;!--This is the random number database generator. Though it is not used at runtime, it is useful for expanding the palace e.g. into the B.C.E. era. --&gt;

(set: $makeRandomChart to
(macro: [
	(if: $chartCounter &lt; 2100)[
		($makeRandomRow:)
		(set: $chartCounter to it +10)
		($makeRandomChart:)
		]
	(output-data: &quot;&quot;) 
	]
	))

	
(set: $makeRandomRow to 
(macro: [
	(set: $rcounter to 1) 
	(set: $randoms to (a:))
	($make25randoms:) 
	(set: _x to &#39;&quot;&#39;)
	(set: _y to (str: $chartCounter))
	(set: _z to &#39;&quot;&#39;)
	(set: $dmRef to _x + _y + _z + &quot;,&quot;)
	(set: $dmRef of $randomMap to &quot;(a:&quot; + (str:$randoms) + &quot;),&quot;)
	(output-data:&quot;&quot;)
	]))
	
(set: $make25randoms to 
(macro: [
	(if: $rcounter &lt; 26)[
		(set: _element to (random: 25))
		(set: $randoms to it + (a:_element))
		(set: $rcounter +=1)
		($make25randoms:)
		]
	(output-data: &quot;&quot;) 
	]
	))
	
(set: $randomMap to (dm:))
(set: $chartCounter to 2000)
($makeRandomChart:)

Here is the random map: 
(print: $randomMap)
</tw-passagedata><tw-passagedata pid="94" name="random numbers database" tags="startup" position="1720,998" size="100,100">{
&lt;!--Because we need the system to generate the same random palace every time, the random values from one initial run must be stored in a database. This is that database.   --&gt;

(set: $randomMaps to (dm: 
&quot;0&quot;,	(a:13,0,25,22,21,17,0,9,10,19,3,9,16,7,15,14,17,7,4,13,25,12,4,17,4),
&quot;10&quot;,	(a:8,5,24,22,4,8,12,2,0,15,5,0,20,14,8,25,12,19,2,8,11,3,5,21,7),
&quot;20&quot;,	(a:14,20,23,7,22,21,0,0,21,1,15,0,8,24,12,20,0,22,25,7,24,16,24,3,2),
&quot;30&quot;,	(a:17,23,22,23,23,4,19,12,0,4,10,11,21,11,16,1,8,7,4,24,11,4,12,13,15),
&quot;40&quot;,	(a:16,10,7,22,7,23,21,24,21,14,10,0,2,17,23,24,19,20,2,8,11,9,25,16,2),
&quot;50&quot;,	(a:23,2,21,23,9,8,0,17,4,15,17,9,13,24,14,17,20,11,17,15,6,22,2,7,22),
&quot;60&quot;,	(a:14,23,15,0,4,6,15,10,8,11,9,22,15,20,12,21,4,7,10,21,20,7,24,0,12),
&quot;70&quot;,	(a:4,1,17,15,16,24,9,6,23,1,5,16,19,16,12,17,4,10,16,15,1,17,13,18,1),
&quot;80&quot;,	(a:5,18,6,23,4,1,4,11,3,1,15,9,3,20,18,7,13,2,18,16,9,21,12,11,16),
&quot;90&quot;,	(a:3,8,13,7,7,21,3,0,15,5,19,3,16,20,10,17,24,18,24,22,22,13,4,6,25),
&quot;100&quot;,	(a:20,8,10,8,18,2,22,9,11,4,20,3,12,17,20,13,3,5,20,10,8,25,17,22,1),
&quot;110&quot;,	(a:18,16,11,24,15,3,19,5,19,20,20,18,4,16,13,11,2,9,13,22,1,14,25,20,11),
&quot;120&quot;,	(a:6,21,5,15,1,15,7,4,1,17,20,18,12,1,4,3,0,9,12,14,13,22,15,6,11),
&quot;130&quot;,	(a:25,19,19,16,8,20,21,11,3,11,21,20,25,3,6,7,20,5,16,22,21,3,2,13,12),
&quot;140&quot;,	(a:12,25,2,0,1,11,14,22,10,22,17,11,3,17,1,24,21,6,8,17,17,21,19,18,22),
&quot;150&quot;,	(a:17,0,9,14,0,16,15,6,1,23,7,6,24,25,5,6,13,10,14,6,18,23,15,12,5),
&quot;160&quot;,	(a:5,15,10,15,14,2,18,0,14,25,20,17,23,8,11,10,2,14,24,8,1,22,1,22,23),
&quot;170&quot;,	(a:6,13,4,1,6,12,22,22,5,8,6,4,19,16,19,10,13,17,23,19,1,25,1,22,10),
&quot;180&quot;,	(a:13,11,17,0,12,7,24,17,9,4,8,3,13,20,20,10,19,21,5,6,14,18,6,5,19),
&quot;190&quot;,	(a:16,18,25,21,17,15,9,6,16,22,15,21,25,8,7,6,8,23,17,23,7,0,20,15,12),&quot;200&quot;,	(a:20,10,21,6,10,12,14,11,10,23,7,15,22,7,13,11,13,1,0,15,16,1,23,16,6),
&quot;210&quot;,	(a:23,4,4,22,21,1,16,16,19,10,7,24,9,13,7,25,22,16,10,3,18,9,19,18,25),
&quot;220&quot;,	(a:6,1,25,22,0,17,21,18,24,14,14,11,12,17,19,13,6,21,7,15,15,3,21,13,14),
&quot;230&quot;,	(a:23,25,21,23,12,8,2,16,23,4,0,24,21,13,8,16,18,4,2,24,0,1,13,18,6),
&quot;240&quot;,	(a:16,1,9,2,12,23,24,8,14,25,24,14,2,7,2,21,18,11,19,12,8,8,5,19,21),
&quot;250&quot;,	(a:2,6,19,14,21,0,5,17,15,13,13,1,8,25,13,23,4,10,11,11,2,5,2,15,14),
&quot;260&quot;,	(a:3,25,16,22,0,19,13,20,14,12,16,19,23,23,16,0,17,13,12,9,8,16,25,1,25),
&quot;270&quot;,	(a:12,16,16,13,2,13,10,11,21,7,24,2,21,7,15,12,16,3,4,11,5,20,6,2,24),
&quot;280&quot;,	(a:4,21,15,0,9,19,9,25,20,4,3,3,10,3,14,16,22,17,3,13,7,8,22,21,4),
&quot;290&quot;,	(a:9,10,3,15,19,17,24,0,6,13,25,12,3,18,20,3,9,10,21,25,23,22,1,24,9),
&quot;300&quot;,	(a:18,17,21,16,0,25,10,7,0,15,19,20,4,25,8,2,1,10,12,1,21,6,2,21,2),
&quot;310&quot;,	(a:14,24,9,9,7,18,23,21,5,19,20,6,0,21,3,12,15,0,0,20,20,13,10,21,0),
&quot;320&quot;,	(a:10,24,10,14,22,2,17,4,22,2,8,23,24,10,8,3,17,24,19,6,15,9,17,2,6),
&quot;330&quot;,	(a:8,0,1,11,4,12,9,1,3,2,17,11,7,11,18,13,23,2,11,19,18,12,16,20,22),
&quot;340&quot;,	(a:2,2,6,22,13,21,3,12,22,11,25,4,11,2,1,23,14,9,6,0,16,1,16,9,2),
&quot;350&quot;,	(a:5,23,23,16,1,12,24,20,5,18,7,18,6,14,2,6,10,2,4,24,9,7,8,18,0),
&quot;360&quot;,	(a:12,1,25,1,11,0,4,7,3,20,18,7,23,3,5,15,20,9,7,12,22,15,16,11,18),
&quot;370&quot;,	(a:24,14,8,19,11,16,20,13,23,13,3,9,5,21,5,17,22,19,20,9,25,2,23,18,11),
&quot;380&quot;,	(a:18,21,3,25,14,25,20,13,5,1,11,2,3,25,19,2,10,11,17,1,21,1,8,1,11),
&quot;390&quot;,	(a:18,9,24,19,13,0,20,9,25,3,13,0,7,16,0,1,19,12,4,8,12,12,10,18,10),&quot;400&quot;,	(a:15,4,19,17,9,3,5,22,2,2,13,9,8,6,14,19,8,14,3,5,16,19,25,10,2),
&quot;410&quot;,	(a:15,6,22,20,25,23,12,2,4,15,11,11,13,1,8,14,18,16,24,25,13,19,6,21,20),
&quot;420&quot;,	(a:22,23,12,9,9,25,12,9,22,19,23,3,8,25,16,24,24,5,2,23,21,5,20,8,2),
&quot;430&quot;,	(a:14,18,15,8,20,13,1,23,4,3,18,22,12,19,23,12,11,14,1,5,9,22,21,6,17),
&quot;440&quot;,	(a:8,19,7,25,19,21,12,9,12,9,18,23,16,10,17,5,17,2,11,4,12,4,7,23,15),
&quot;450&quot;,	(a:18,5,12,3,22,2,6,23,18,21,24,2,9,25,16,2,13,15,17,22,22,10,10,14,6),
&quot;460&quot;,	(a:5,9,5,23,1,18,22,0,10,1,8,24,17,11,13,25,8,13,14,12,1,21,10,13,24),
&quot;470&quot;,	(a:3,21,24,10,12,3,12,12,1,22,14,17,1,18,23,6,10,10,20,21,4,23,4,18,15),
&quot;480&quot;,	(a:12,7,22,10,17,21,22,18,8,4,6,8,16,3,0,12,5,19,0,6,2,2,3,19,8),
&quot;490&quot;,	(a:5,22,18,8,5,5,7,18,14,2,13,17,22,14,11,21,25,10,1,21,9,7,24,9,21),
&quot;500&quot;,	(a:19,15,7,14,7,12,17,14,20,15,24,4,5,10,3,18,5,7,4,22,20,12,11,12,21),
&quot;510&quot;,	(a:19,14,18,11,10,2,11,11,19,22,3,19,23,6,0,12,9,4,9,20,22,10,5,13,20),
&quot;520&quot;,	(a:23,25,7,5,17,8,0,3,3,17,1,7,14,13,11,17,17,21,18,20,13,20,10,2,15),
&quot;530&quot;,	(a:6,18,25,16,5,24,21,12,21,12,0,4,8,3,15,11,9,14,12,6,14,9,20,14,23),
&quot;540&quot;,	(a:9,25,17,25,1,3,12,20,8,0,1,1,14,8,2,9,18,2,2,19,7,0,6,6,16),
&quot;550&quot;,	(a:11,1,23,25,19,18,1,3,25,12,24,8,24,8,18,20,14,10,17,23,15,6,23,18,24),
&quot;560&quot;,	(a:1,6,22,14,23,1,12,5,13,14,16,4,14,6,25,23,21,20,19,12,2,4,21,15,25),
&quot;570&quot;,	(a:23,13,18,9,16,3,25,13,18,15,13,5,8,6,22,7,9,16,24,1,12,3,7,2,11),
&quot;580&quot;,	(a:18,17,3,5,12,4,25,15,7,24,1,2,0,11,11,9,15,18,9,15,22,20,10,1,5),
&quot;590&quot;,	(a:2,14,8,19,17,23,4,8,4,9,14,24,5,7,4,3,7,2,25,8,13,25,0,5,0),&quot;600&quot;,	(a:3,1,15,22,16,20,2,4,20,25,1,11,9,0,9,3,25,7,11,14,13,8,17,6,0),
&quot;610&quot;,	(a:19,12,25,17,21,16,11,23,14,11,1,5,6,19,19,3,12,10,17,0,15,7,24,9,21),
&quot;620&quot;,	(a:5,15,20,5,19,2,25,20,13,11,25,3,11,13,9,21,2,0,8,19,18,12,19,5,25),
&quot;630&quot;,	(a:20,18,25,18,1,1,6,22,22,20,21,6,15,22,10,18,3,14,13,20,17,15,3,4,25),
&quot;640&quot;,	(a:22,8,12,2,0,18,8,6,23,22,9,18,3,10,17,7,10,1,6,14,0,15,18,20,18),
&quot;650&quot;,	(a:16,20,2,7,6,8,11,2,15,18,16,24,24,7,23,21,25,18,25,17,3,9,23,5,4),
&quot;660&quot;,	(a:21,4,8,25,17,16,14,8,14,5,15,11,9,4,25,1,2,4,9,13,14,5,22,2,16),
&quot;670&quot;,	(a:21,20,15,15,21,2,19,22,13,1,7,2,25,0,7,4,2,22,6,22,16,6,16,13,1),
&quot;680&quot;,	(a:7,24,13,19,25,21,5,9,22,6,10,0,1,20,22,0,20,24,11,11,13,5,13,9,25),
&quot;690&quot;,	(a:6,24,20,11,14,7,21,25,24,15,20,20,15,19,20,1,2,7,18,13,8,14,7,5,22),
&quot;700&quot;,	(a:1,19,21,8,9,23,18,2,13,18,13,21,7,6,25,11,13,4,21,22,6,4,2,20,2),
&quot;710&quot;,	(a:8,22,12,4,1,24,7,15,5,8,10,11,21,17,18,17,1,23,14,21,12,15,21,22,4),
&quot;720&quot;,	(a:7,5,18,24,10,0,25,18,3,2,21,10,22,15,21,25,23,0,8,7,17,22,15,6,7),
&quot;730&quot;,	(a:3,6,12,1,10,2,13,23,14,16,10,11,19,7,0,10,24,10,0,9,0,17,1,20,15),
&quot;740&quot;,	(a:17,19,21,17,4,8,5,19,4,20,3,1,2,6,1,19,11,18,22,22,7,7,18,20,17),
&quot;750&quot;,	(a:4,15,14,23,11,0,0,19,22,7,15,18,0,8,25,4,6,25,8,4,12,1,4,4,23),
&quot;760&quot;,	(a:25,2,2,12,4,5,3,11,1,25,2,3,23,6,25,5,19,12,15,7,9,21,3,1,4),
&quot;770&quot;,	(a:19,12,4,5,22,17,24,18,22,16,2,7,11,3,9,2,1,9,22,10,17,10,23,10,1),
&quot;780&quot;,	(a:4,0,5,13,6,18,2,22,6,12,0,4,13,25,24,0,6,9,2,2,5,19,5,17,16),
&quot;790&quot;,	(a:23,15,24,6,22,1,6,12,7,20,16,24,2,14,14,2,24,25,25,9,24,11,25,3,4),&quot;800&quot;,	(a:24,20,12,11,22,24,12,23,23,0,19,19,21,1,21,11,3,19,17,7,12,21,19,18,23),
&quot;810&quot;,	(a:2,14,16,24,0,21,2,8,23,10,16,17,5,15,7,5,1,12,16,14,9,24,19,11,15),
&quot;820&quot;,	(a:9,17,25,20,0,21,15,9,3,25,19,8,22,19,0,20,2,1,16,20,16,5,23,9,10),
&quot;830&quot;,	(a:19,13,15,13,15,7,15,14,3,19,11,2,22,0,17,10,9,22,17,11,25,18,25,23,24),
&quot;840&quot;,	(a:1,25,3,22,5,15,17,2,12,14,13,13,9,22,13,12,11,17,23,0,24,6,21,8,25),
&quot;850&quot;,	(a:1,14,7,18,10,6,11,20,15,22,20,11,10,18,2,19,11,12,11,14,0,6,17,25,9),
&quot;860&quot;,	(a:5,12,10,19,12,4,6,20,20,18,22,6,14,21,16,9,1,1,16,4,14,10,6,11,15),
&quot;870&quot;,	(a:20,0,6,18,9,24,1,23,9,15,20,9,15,16,19,21,21,8,17,18,25,1,22,1,16),
&quot;880&quot;,	(a:23,16,4,23,4,20,12,16,3,22,12,2,1,18,16,14,8,1,1,0,12,22,25,11,15),
&quot;890&quot;,	(a:5,6,2,11,22,2,6,1,12,16,0,10,11,24,8,3,12,13,3,25,4,21,11,6,1),
&quot;900&quot;,	(a:2,11,11,16,9,20,7,10,3,4,15,5,24,20,5,8,10,18,8,6,12,8,21,9,3),
&quot;910&quot;,	(a:22,6,20,21,22,4,19,11,22,18,19,11,25,10,9,0,9,22,24,14,23,14,23,16,13),
&quot;920&quot;,	(a:7,5,21,6,7,13,19,8,13,12,13,5,13,21,7,11,2,25,12,0,14,23,7,3,11),
&quot;930&quot;,	(a:11,24,16,23,18,20,4,13,5,17,22,18,25,13,2,5,14,25,2,22,2,19,9,21,4),
&quot;940&quot;,	(a:7,8,4,24,24,0,9,24,6,24,18,16,7,5,10,14,23,15,16,5,24,15,5,1,10),
&quot;950&quot;,	(a:22,25,5,20,18,20,12,17,16,5,0,0,18,13,23,18,2,5,6,9,19,24,17,12,25),
&quot;960&quot;,	(a:5,16,13,0,7,8,1,13,9,16,8,22,22,2,17,21,18,24,9,10,2,2,14,18,18),
&quot;970&quot;,	(a:1,24,23,15,21,21,18,8,23,5,18,1,22,24,25,10,20,20,25,23,8,6,21,20,13),
&quot;980&quot;,	(a:9,1,4,3,0,15,6,14,17,5,8,18,3,16,6,7,22,9,20,22,25,19,18,9,9),
&quot;990&quot;,	(a:25,5,23,11,7,7,23,22,12,12,13,3,13,2,10,13,22,7,16,0,21,19,3,9,5),&quot;1000&quot;,	(a:21,19,20,14,8,0,25,15,15,10,22,24,12,20,7,16,3,14,18,24,1,9,17,17,5),
&quot;1010&quot;,	(a:8,18,22,16,11,13,1,12,0,4,25,13,12,8,4,21,15,16,15,0,5,12,22,17,22),
&quot;1020&quot;,	(a:17,13,21,21,8,11,17,3,9,23,4,10,22,19,4,7,21,3,0,18,7,24,16,5,12),
&quot;1030&quot;,	(a:21,16,6,17,21,8,10,23,6,7,20,13,8,11,0,24,6,2,12,9,17,7,7,7,22),
&quot;1040&quot;,	(a:13,2,8,3,22,15,5,1,5,25,1,11,5,23,6,24,11,17,15,7,19,7,17,20,9),
&quot;1050&quot;,	(a:7,6,5,22,5,7,5,25,5,6,4,8,2,9,22,21,16,15,2,19,0,5,25,4,2),
&quot;1060&quot;,	(a:14,23,18,9,21,17,25,13,15,17,17,3,5,3,23,24,23,23,5,18,23,11,21,4,10),
&quot;1070&quot;,	(a:19,17,10,11,22,7,16,15,9,24,24,17,12,20,5,14,8,7,12,7,5,20,13,2,16),
&quot;1080&quot;,	(a:13,21,20,16,11,17,10,0,20,0,5,17,7,23,1,11,20,9,11,12,8,3,18,4,19),
&quot;1090&quot;,	(a:25,14,0,7,8,14,11,18,25,3,24,8,18,0,11,7,20,10,5,6,1,11,2,12,17),
&quot;1100&quot;,	(a:22,15,7,12,1,7,9,2,2,19,20,22,20,11,22,11,12,24,3,6,23,10,9,10,17),
&quot;1110&quot;,	(a:0,6,12,12,14,4,23,23,2,23,1,10,20,0,6,17,4,22,9,3,1,18,16,4,6),
&quot;1120&quot;,	(a:7,0,0,14,10,22,3,20,11,11,6,25,17,25,8,20,18,17,2,14,2,15,25,23,19),
&quot;1130&quot;,	(a:9,6,6,15,17,14,10,12,18,4,4,24,12,8,25,5,18,6,1,19,18,24,0,19,11),
&quot;1140&quot;,	(a:23,7,1,23,18,17,20,23,12,19,3,9,24,13,15,14,14,4,14,1,8,23,20,5,6),
&quot;1150&quot;,	(a:14,13,5,19,12,5,10,25,9,5,8,9,7,12,11,6,0,25,12,25,4,14,24,6,8),
&quot;1160&quot;,	(a:14,18,14,23,21,15,16,1,24,16,16,4,21,6,22,15,14,14,5,1,24,10,5,16,4),
&quot;1170&quot;,	(a:13,8,18,11,21,11,11,23,17,22,25,20,10,8,17,12,5,1,10,4,10,21,9,1,5),
&quot;1180&quot;,	(a:12,8,3,19,0,0,5,3,16,12,24,1,13,4,7,4,16,9,13,11,18,8,3,8,17),
&quot;1190&quot;,	(a:18,18,10,20,13,25,8,8,12,16,20,21,21,13,17,6,11,13,12,13,2,11,22,7,0),&quot;1200&quot;,	(a:3,23,3,19,13,2,11,14,12,2,9,17,16,22,13,17,10,4,4,7,4,20,9,15,14),
&quot;1210&quot;,	(a:0,6,4,14,21,6,24,23,5,6,15,8,4,9,6,9,22,19,17,21,10,4,7,11,5),
&quot;1220&quot;,	(a:3,7,13,4,23,16,13,20,6,2,8,6,1,21,10,15,11,10,11,24,15,16,5,5,13),
&quot;1230&quot;,	(a:11,23,24,20,10,15,3,21,6,11,3,15,16,16,20,0,20,15,15,10,24,14,16,17,17),
&quot;1240&quot;,	(a:22,7,17,13,19,0,11,3,22,5,22,19,24,14,20,17,22,15,24,21,6,5,19,19,23),
&quot;1250&quot;,	(a:0,5,17,5,23,8,19,4,13,22,21,3,18,23,14,18,25,2,15,6,16,20,18,23,8),
&quot;1260&quot;,	(a:20,14,16,10,16,11,14,3,16,15,3,25,0,6,0,8,18,3,4,15,14,12,1,5,9),
&quot;1270&quot;,	(a:14,6,24,5,14,9,12,3,19,17,6,23,7,9,21,18,22,3,5,21,25,20,24,21,25),
&quot;1280&quot;,	(a:9,10,9,6,18,4,12,23,5,3,14,3,9,0,4,2,6,1,9,3,24,5,14,23,22),
&quot;1290&quot;,	(a:9,13,19,23,20,5,5,8,18,19,1,8,2,8,8,4,7,17,18,10,9,25,24,1,13),
&quot;1300&quot;,	(a:15,0,5,22,17,9,12,3,9,0,23,8,4,6,2,7,25,15,15,4,19,8,3,3,5),
&quot;1310&quot;,	(a:7,15,5,25,1,12,2,15,1,7,19,7,14,1,22,17,2,15,14,23,7,23,19,21,14),
&quot;1320&quot;,	(a:16,8,5,5,15,0,8,16,14,23,20,23,12,1,1,7,21,11,22,14,16,14,10,17,18),
&quot;1330&quot;,	(a:13,16,19,21,8,6,25,14,8,1,22,9,5,6,10,20,7,10,23,5,25,15,10,19,24),
&quot;1340&quot;,	(a:10,17,20,6,15,25,3,14,21,8,3,5,15,18,16,16,17,6,16,3,13,25,8,5,4),
&quot;1350&quot;,	(a:4,6,8,10,18,15,17,5,2,21,16,14,12,3,12,10,2,4,4,7,7,12,9,5,20),
&quot;1360&quot;,	(a:0,0,9,23,8,8,17,17,2,3,25,18,15,18,19,22,14,0,0,21,3,16,7,1,15),
&quot;1370&quot;,	(a:12,11,25,6,16,2,1,13,11,4,2,22,23,4,11,12,21,25,23,11,12,24,19,10,22),
&quot;1380&quot;,	(a:18,15,17,0,24,15,23,22,8,20,25,17,3,1,15,14,9,9,25,11,7,17,18,23,7),
&quot;1390&quot;,	(a:13,22,11,17,21,21,8,11,22,12,15,2,19,9,23,7,3,1,12,13,19,9,0,18,10),&quot;1400&quot;,	(a:15,20,16,23,6,5,2,5,1,8,24,1,23,24,15,1,17,14,0,6,1,6,0,24,11),
&quot;1410&quot;,	(a:6,16,25,1,11,8,19,18,24,24,14,20,2,18,20,23,8,23,3,16,23,11,23,21,13),
&quot;1420&quot;,	(a:0,5,21,16,16,25,25,22,25,13,1,13,3,6,8,11,13,24,12,9,18,16,21,17,18),
&quot;1430&quot;,	(a:19,14,19,18,24,19,21,9,13,20,17,16,22,0,6,23,11,9,8,9,17,21,5,9,12),
&quot;1440&quot;,	(a:10,1,22,24,12,5,12,19,25,17,14,4,9,0,21,5,8,1,0,8,21,22,24,6,3),
&quot;1450&quot;,	(a:0,25,17,24,21,16,21,5,13,4,5,15,8,17,4,10,10,24,15,5,10,4,6,14,1),
&quot;1460&quot;,	(a:25,7,16,8,17,9,4,20,11,25,3,10,10,20,21,22,8,5,13,2,19,1,23,18,25),
&quot;1470&quot;,	(a:19,15,16,6,1,4,10,22,9,16,8,8,10,20,11,6,24,14,19,15,9,25,12,3,6),
&quot;1480&quot;,	(a:3,2,21,14,19,19,10,9,3,10,16,23,17,20,24,3,14,19,1,24,1,12,4,13,7),
&quot;1490&quot;,	(a:23,19,24,21,14,18,21,17,6,4,3,14,16,19,19,21,19,13,23,1,5,13,2,20,5),
&quot;1500&quot;,	(a:9,2,9,9,1,13,1,7,1,18,15,7,6,0,3,13,14,3,1,2,7,0,12,9,15),
&quot;1510&quot;,	(a:13,10,16,16,20,0,16,0,3,14,5,17,22,16,12,17,14,0,25,12,10,14,11,21,10),
&quot;1520&quot;,	(a:9,10,7,19,1,17,12,10,10,19,19,8,5,25,19,21,13,1,12,18,1,17,2,15,25),
&quot;1530&quot;,	(a:11,12,11,17,8,16,9,19,1,25,9,12,1,24,3,12,1,24,6,9,7,22,25,17,23),
&quot;1540&quot;,	(a:7,19,25,2,24,12,11,1,16,7,18,11,12,16,17,24,22,0,2,6,25,22,2,11,4),
&quot;1550&quot;,	(a:20,15,12,20,15,5,10,17,13,25,13,18,22,25,5,12,4,19,11,6,7,22,11,13,23),
&quot;1560&quot;,	(a:19,11,13,13,12,23,21,10,24,23,4,6,16,13,16,10,7,19,0,21,15,4,23,8,0),
&quot;1570&quot;,	(a:22,0,14,16,24,22,23,3,17,17,16,13,19,24,0,7,10,10,25,2,22,14,3,6,7),
&quot;1580&quot;,	(a:4,6,12,25,24,12,1,24,1,9,1,9,12,15,16,9,0,0,8,9,18,11,17,5,22),
&quot;1590&quot;,	(a:7,22,14,8,4,17,21,0,9,1,23,13,17,9,22,14,24,9,3,15,8,5,5,2,0),&quot;1600&quot;,	(a:2,20,20,22,11,17,5,2,11,22,0,12,18,6,7,12,7,16,19,2,23,9,24,17,23),
&quot;1610&quot;,	(a:15,24,25,3,15,11,21,15,10,23,21,25,13,24,2,13,17,3,7,18,4,15,13,12,11),
&quot;1620&quot;,	(a:18,24,6,11,25,4,19,4,13,9,4,20,2,22,18,6,22,19,12,12,2,14,5,16,0),
&quot;1630&quot;,	(a:18,24,20,4,16,3,22,13,8,17,6,16,12,23,15,13,3,10,10,7,14,4,13,25,7),
&quot;1640&quot;,	(a:2,9,23,10,12,2,21,16,20,14,14,13,8,19,18,16,2,5,22,16,17,22,9,16,0),
&quot;1650&quot;,	(a:9,19,12,4,6,20,21,20,18,13,11,15,20,23,23,15,15,20,3,0,17,3,20,9,0),
&quot;1660&quot;,	(a:7,15,7,15,7,5,0,19,24,6,10,22,23,5,12,9,0,8,7,18,19,22,7,22,13),
&quot;1670&quot;,	(a:8,25,7,17,24,18,22,17,3,5,6,5,19,8,16,24,12,12,2,24,24,25,20,10,25),
&quot;1680&quot;,	(a:18,2,6,23,0,18,21,23,18,15,22,16,7,25,4,1,20,24,20,7,8,18,1,16,25),
&quot;1690&quot;,	(a:23,23,19,7,18,19,15,7,2,21,17,2,24,7,19,7,23,0,20,1,12,18,22,19,4),
&quot;1700&quot;,	(a:22,0,21,24,1,3,3,18,23,23,24,18,13,3,14,11,1,20,5,20,7,19,19,12,2),
&quot;1710&quot;,	(a:1,2,22,16,9,7,7,8,8,10,17,17,8,1,17,20,6,11,12,25,4,23,21,13,23),
&quot;1720&quot;,	(a:25,5,24,14,5,3,19,6,22,1,16,6,14,24,8,24,0,14,19,12,1,19,3,8,12),
&quot;1730&quot;,	(a:17,4,1,7,20,11,15,1,13,15,21,14,10,10,0,2,9,17,0,17,10,6,22,23,10),
&quot;1740&quot;,	(a:0,14,15,15,20,7,19,15,10,24,2,10,0,13,24,24,7,5,2,13,20,0,1,7,20),
&quot;1750&quot;,	(a:16,4,2,7,14,14,17,25,21,16,10,9,24,8,5,0,7,17,2,0,0,25,1,5,4),
&quot;1760&quot;,	(a:16,14,16,16,1,4,19,12,19,15,2,18,0,3,17,7,0,5,1,7,7,19,1,21,24),
&quot;1770&quot;,	(a:2,17,14,12,25,1,20,21,4,13,9,24,12,25,10,24,7,14,6,15,20,11,7,2,16),
&quot;1780&quot;,	(a:16,12,4,17,12,24,9,17,15,16,5,1,19,3,20,1,24,25,14,1,1,13,20,5,7),
&quot;1790&quot;,	(a:2,22,19,24,24,16,0,16,10,10,19,2,18,19,25,4,12,10,5,3,7,14,17,10,7),
&quot;1800&quot;,	(a:20,25,21,8,13,0,23,1,17,9,20,11,1,23,9,20,15,16,13,15,20,15,11,12,5),
&quot;1810&quot;,	(a:17,9,19,14,15,5,13,0,4,6,14,13,23,9,23,3,7,11,11,8,6,11,25,18,15),
&quot;1820&quot;,	(a:25,18,11,12,25,13,8,14,13,4,23,25,16,25,0,0,19,22,17,6,21,14,9,10,4),
&quot;1830&quot;,	(a:11,14,6,0,17,4,2,21,18,25,15,8,10,14,0,21,23,8,7,21,22,24,23,6,24),
&quot;1840&quot;,	(a:16,9,19,11,23,3,18,11,2,2,25,8,4,12,1,17,25,21,6,13,5,15,13,19,18),
&quot;1850&quot;,	(a:23,23,9,20,14,4,16,9,10,8,24,20,10,3,3,19,20,22,23,9,6,12,16,12,21),
&quot;1860&quot;,	(a:3,2,5,15,6,17,23,7,12,12,18,16,13,14,19,13,1,11,1,8,5,7,4,20,9),
&quot;1870&quot;,	(a:21,19,8,1,5,22,20,7,11,11,14,8,15,13,9,3,18,20,13,13,1,20,10,0,6),
&quot;1880&quot;,	(a:18,4,5,5,6,11,16,22,6,11,8,7,17,19,18,3,1,5,22,12,2,14,25,9,17),
&quot;1890&quot;,	(a:18,16,0,7,25,0,20,5,15,9,24,2,9,4,17,22,15,1,24,13,0,11,10,12,21),
&quot;1900&quot;,	(a:16,18,18,7,1,15,1,24,14,25,10,3,5,8,23,22,23,4,11,22,9,21,13,6,19),
&quot;1910&quot;,	(a:19,1,23,17,21,21,16,3,22,24,21,11,24,8,17,7,14,17,6,20,18,23,16,8,6),
&quot;1920&quot;,	(a:2,11,2,15,3,2,12,8,22,22,13,4,5,25,3,1,3,6,11,6,5,17,11,17,11),
&quot;1930&quot;,	(a:7,17,6,7,13,0,21,14,6,6,17,10,13,20,13,10,21,10,4,16,22,8,0,25,5),
&quot;1940&quot;,	(a:11,17,2,21,9,16,7,2,24,17,18,21,16,11,13,21,12,2,22,0,3,25,13,1,3),
&quot;1950&quot;,	(a:16,22,20,3,18,14,4,12,9,3,0,11,9,4,3,24,21,18,24,15,14,15,17,8,21),
&quot;1960&quot;,	(a:15,2,0,4,14,9,16,3,22,4,15,11,14,15,13,18,15,22,17,12,10,25,5,0,20),
&quot;1970&quot;,	(a:4,5,11,3,23,4,23,20,9,7,13,25,9,5,10,18,14,12,21,19,0,7,19,20,9),
&quot;1980&quot;,	(a:20,12,24,20,9,11,21,11,15,15,23,1,11,23,2,20,9,13,21,6,12,8,0,15,0),
&quot;1990&quot;,	(a:20,13,5,7,6,21,9,25,4,17,13,23,0,2,18,13,20,24,5,0,24,20,7,20,0),&quot;2000&quot;,	(a:10,15,15,9,17,15,14,23,19,25,13,1,22,14,4,13,18,1,25,6,4,2,13,24,20),
&quot;2010&quot;,	(a:14,19,7,24,19,0,0,0,22,24,10,20,19,18,16,5,8,14,18,18,21,3,6,10,19),
&quot;2020&quot;,	(a:23,8,24,10,13,0,9,13,24,11,11,16,10,14,13,2,14,21,2,23,10,17,12,0,7),
&quot;2030&quot;,	(a:17,4,4,10,14,13,9,22,5,25,14,5,23,12,19,9,14,10,17,2,11,4,11,4,23),
&quot;2040&quot;,	(a:10,15,17,0,4,23,18,9,25,13,0,20,20,22,4,9,14,0,11,13,21,1,23,4,6),
&quot;2050&quot;,	(a:10,2,9,16,9,12,17,11,1,9,3,1,22,2,2,21,11,21,14,23,10,12,0,8,12),
&quot;2060&quot;,	(a:19,24,8,4,2,20,7,19,18,9,4,10,16,0,21,25,5,22,4,19,18,25,3,11,21),
&quot;2070&quot;,	(a:24,9,18,19,2,11,25,3,8,4,23,1,8,23,22,9,2,18,4,23,12,16,3,14,21),
&quot;2080&quot;,	(a:17,15,11,6,9,14,0,1,8,10,10,24,5,9,24,25,11,3,15,5,16,9,5,15,2),
&quot;2090&quot;,	(a:22,20,18,6,12,6,15,1,7,2,1,1,22,10,14,3,15,3,22,19,1,7,20,3,24)
))

}
</tw-passagedata><tw-passagedata pid="95" name="Random Arc DataBase Generator Keep" tags="" position="1856,875" size="100,100">&lt;!--This is the random short-arc database generator. Though it is not used at runtime, it is useful for expanding the palace e.g. into the B.C.E. era. --&gt;


(set: $orderedArcs to (a: 
	(a: -1,-1,-1),
	(a: -1,-1,0),
	(a: -1,-1,1),
	(a: -1,0,-1),
	(a: -1,0,0),
	(a: -1,0,1),
	(a: -1,1,-1),
	(a: -1,1,0),
	(a: -1,1,1),
	(a: 0,-1,-1),
	(a: 0,-1,0),
	(a: 0,-1,1),
	(a: 0,0,-1),
	(a: 0,0,1),
	(a: 0,1,-1),
	(a: 0,1,0),
	(a: 0,1,1),
	(a: 1,-1,-1),
	(a: 1,-1,0),
	(a: 1,-1,1),
	(a: 1,0,-1),
	(a: 1,0,0),
	(a: 1,0,1),
	(a: 1,1,-1),
	(a: 1,1,0),
	(a: 1,1,1)
	)
	)


(set: $makeArcsRow to 
(macro: [
	(set: $arcTotal to length of $orderedArcs) 
	(set: $randomizedArcs to (a:))
	(set: $tempOrderedArcs to $orderedArcs)
	($cycleThroughArcs:)	
	(set: $dmRef to &#39;&quot;&#39; + (str: $arcsRowCounter) + &#39;&quot;&#39; + &quot;,&quot;)
	(set: $dmRef of $randomArcsMap to &quot;(a:&quot; + (str:$randomizedArcs) + &quot;),&quot;)
	(output-data:&quot;&quot;)
	]))
	
(set: $cycleThroughArcs to 
(macro: [
	(if: $arcTotal &gt; 0)[
		(set: _pick to (random: $arcTotal) +1)
		(set: _draw to (nth: _pick, ...$tempOrderedArcs))
		(set: _drawString to &quot;(a:&quot; + (str: _draw) + &quot;)&quot;)
		(set: $randomizedArcs to it + (a: _drawString))
		(set: $tempOrderedArcs to it - (a: _draw))
		(set: $arcTotal to it - 1)
		($cycleThroughArcs:)
		]
	(output-data: &quot;&quot;)
	]))

(set: $makeShortArcsDM to 
(macro: [
	(if: $arcsRowCounter &lt; 2100)
		[($makeArcsRow:)
		(set: $arcsRowCounter to it + 10)
		($makeShortArcsDM:)
		]
	(output-data: &quot;&quot;) 
	]
	))

(set: $randomArcsMap to (dm:))
(set: $arcsRowCounter to 2000)
($makeShortArcsDM:)

Here is the arcs map: 
(print: $randomArcsMap)
</tw-passagedata><tw-passagedata pid="96" name="random shortarcs database" tags="startup" position="1851,1001" size="100,100">{
&lt;!--Because we need the system to generate the same random palace every time, the random values from one initial run must be stored in a database. This is the database for the short arcs.   --&gt;

(set: $shortArcsDM to (dm: &quot;0&quot;,	(a:(a:-1,1,0),(a:1,0,1),(a:0,-1,1),(a:0,0,1),(a:0,-1,-1),(a:1,-1,-1),(a:-1,0,-1),(a:-1,-1,-1),(a:0,1,1),(a:1,-1,1),(a:1,0,0),(a:1,1,0),(a:0,0,-1),(a:-1,1,1),(a:0,-1,0),(a:-1,0,0),(a:-1,-1,0),(a:-1,-1,1),(a:1,-1,0),(a:0,1,-1),(a:0,1,0),(a:1,1,1),(a:1,0,-1),(a:-1,0,1),(a:1,1,-1),(a:-1,1,-1)),
&quot;10&quot;,	(a:(a:1,0,1),(a:1,1,-1),(a:0,-1,0),(a:1,-1,0),(a:1,1,0),(a:1,-1,1),(a:0,1,0),(a:0,0,-1),(a:-1,1,1),(a:-1,-1,1),(a:-1,0,-1),(a:-1,1,0),(a:-1,-1,0),(a:0,-1,1),(a:1,0,-1),(a:0,1,1),(a:-1,0,0),(a:-1,-1,-1),(a:-1,0,1),(a:1,1,1),(a:-1,1,-1),(a:1,0,0),(a:1,-1,-1),(a:0,0,1),(a:0,-1,-1),(a:0,1,-1)),
&quot;20&quot;,	(a:(a:0,1,-1),(a:0,-1,0),(a:1,1,0),(a:0,1,1),(a:-1,1,-1),(a:0,0,1),(a:1,0,-1),(a:-1,0,1),(a:-1,-1,-1),(a:1,-1,1),(a:-1,-1,1),(a:1,-1,-1),(a:0,-1,-1),(a:-1,-1,0),(a:0,0,-1),(a:1,0,1),(a:-1,0,-1),(a:1,0,0),(a:1,-1,0),(a:0,1,0),(a:0,-1,1),(a:-1,1,0),(a:1,1,-1),(a:-1,1,1),(a:-1,0,0),(a:1,1,1)),
&quot;30&quot;,	(a:(a:0,0,-1),(a:-1,0,0),(a:1,0,-1),(a:0,0,1),(a:0,1,0),(a:0,-1,-1),(a:-1,-1,-1),(a:1,-1,0),(a:1,1,-1),(a:1,1,0),(a:1,-1,-1),(a:0,1,-1),(a:1,0,1),(a:-1,-1,0),(a:0,1,1),(a:-1,1,1),(a:0,-1,0),(a:-1,-1,1),(a:1,-1,1),(a:-1,1,-1),(a:0,-1,1),(a:1,0,0),(a:-1,0,-1),(a:1,1,1),(a:-1,1,0),(a:-1,0,1)),
&quot;40&quot;,	(a:(a:-1,1,-1),(a:1,-1,-1),(a:-1,-1,-1),(a:-1,1,1),(a:-1,-1,0),(a:-1,0,-1),(a:1,0,1),(a:-1,1,0),(a:1,1,1),(a:0,1,0),(a:1,0,-1),(a:0,-1,1),(a:-1,0,1),(a:0,0,1),(a:1,-1,1),(a:0,1,-1),(a:0,-1,0),(a:-1,-1,1),(a:1,0,0),(a:0,1,1),(a:1,-1,0),(a:-1,0,0),(a:1,1,-1),(a:0,-1,-1),(a:0,0,-1),(a:1,1,0)),
&quot;50&quot;,	(a:(a:-1,-1,-1),(a:1,0,1),(a:1,-1,-1),(a:1,0,-1),(a:-1,0,1),(a:1,1,1),(a:1,0,0),(a:0,0,1),(a:0,0,-1),(a:1,-1,1),(a:0,-1,1),(a:-1,0,0),(a:-1,1,0),(a:-1,-1,0),(a:-1,-1,1),(a:1,1,0),(a:-1,1,1),(a:0,-1,-1),(a:1,-1,0),(a:-1,0,-1),(a:1,1,-1),(a:0,1,0),(a:0,1,1),(a:0,-1,0),(a:0,1,-1),(a:-1,1,-1)),
&quot;60&quot;,	(a:(a:0,1,0),(a:1,0,0),(a:1,-1,1),(a:-1,-1,-1),(a:0,1,-1),(a:1,1,0),(a:-1,0,-1),(a:1,0,-1),(a:0,1,1),(a:1,1,1),(a:1,0,1),(a:0,0,1),(a:1,1,-1),(a:-1,-1,0),(a:-1,0,0),(a:-1,1,0),(a:-1,1,1),(a:-1,1,-1),(a:0,-1,1),(a:1,-1,-1),(a:-1,-1,1),(a:-1,0,1),(a:0,-1,-1),(a:0,-1,0),(a:1,-1,0),(a:0,0,-1)),
&quot;70&quot;,	(a:(a:1,0,-1),(a:-1,0,1),(a:1,0,0),(a:1,-1,0),(a:1,-1,1),(a:1,1,0),(a:-1,-1,-1),(a:1,0,1),(a:0,1,-1),(a:-1,0,-1),(a:0,-1,0),(a:-1,1,-1),(a:1,1,1),(a:0,0,-1),(a:0,-1,1),(a:1,-1,-1),(a:-1,-1,0),(a:1,1,-1),(a:-1,0,0),(a:-1,1,1),(a:0,0,1),(a:-1,-1,1),(a:0,1,1),(a:-1,1,0),(a:0,1,0),(a:0,-1,-1)),
&quot;80&quot;,	(a:(a:1,1,0),(a:-1,0,-1),(a:-1,1,0),(a:0,0,-1),(a:-1,-1,-1),(a:0,1,0),(a:0,0,1),(a:1,0,1),(a:0,-1,-1),(a:1,-1,-1),(a:1,1,1),(a:-1,-1,0),(a:-1,0,0),(a:0,-1,1),(a:1,-1,1),(a:0,-1,0),(a:-1,0,1),(a:0,1,-1),(a:-1,1,1),(a:1,0,-1),(a:1,1,-1),(a:-1,-1,1),(a:-1,1,-1),(a:0,1,1),(a:1,-1,0),(a:1,0,0)),
&quot;90&quot;,	(a:(a:-1,-1,-1),(a:-1,1,-1),(a:-1,0,0),(a:1,0,0),(a:1,1,1),(a:0,1,-1),(a:-1,0,1),(a:1,1,0),(a:0,-1,1),(a:0,-1,-1),(a:0,1,1),(a:1,0,1),(a:-1,1,1),(a:0,1,0),(a:1,-1,0),(a:-1,-1,0),(a:-1,-1,1),(a:1,1,-1),(a:0,-1,0),(a:0,0,-1),(a:0,0,1),(a:-1,0,-1),(a:1,-1,1),(a:1,0,-1),(a:-1,1,0),(a:1,-1,-1)),
&quot;100&quot;,	(a:(a:1,1,1),(a:0,0,-1),(a:-1,1,-1),(a:0,1,1),(a:1,0,1),(a:0,-1,1),(a:-1,-1,0),(a:0,1,0),(a:-1,-1,1),(a:1,0,0),(a:-1,1,0),(a:-1,0,-1),(a:-1,1,1),(a:0,-1,0),(a:-1,-1,-1),(a:-1,0,0),(a:1,-1,0),(a:1,1,0),(a:1,0,-1),(a:1,-1,1),(a:0,1,-1),(a:0,-1,-1),(a:1,-1,-1),(a:1,1,-1),(a:-1,0,1),(a:0,0,1)),
&quot;110&quot;,	(a:(a:-1,-1,1),(a:0,-1,0),(a:-1,-1,0),(a:1,-1,1),(a:-1,1,1),(a:0,1,1),(a:1,-1,-1),(a:-1,-1,-1),(a:-1,0,1),(a:-1,0,-1),(a:-1,0,0),(a:0,1,0),(a:1,0,-1),(a:1,0,0),(a:1,1,1),(a:1,0,1),(a:1,1,0),(a:-1,1,-1),(a:0,0,-1),(a:-1,1,0),(a:0,-1,-1),(a:1,1,-1),(a:0,-1,1),(a:0,0,1),(a:1,-1,0),(a:0,1,-1)),
&quot;120&quot;,	(a:(a:0,-1,1),(a:-1,1,-1),(a:-1,0,-1),(a:-1,0,1),(a:0,-1,-1),(a:-1,1,0),(a:-1,0,0),(a:0,0,-1),(a:1,-1,0),(a:-1,-1,1),(a:1,0,0),(a:1,-1,-1),(a:0,1,1),(a:0,-1,0),(a:-1,-1,-1),(a:-1,-1,0),(a:0,1,-1),(a:1,0,-1),(a:1,0,1),(a:1,1,1),(a:-1,1,1),(a:0,0,1),(a:0,1,0),(a:1,1,-1),(a:1,1,0),(a:1,-1,1)),
&quot;130&quot;,	(a:(a:0,-1,-1),(a:-1,0,1),(a:0,0,-1),(a:1,-1,-1),(a:-1,-1,1),(a:0,1,1),(a:1,0,1),(a:-1,1,1),(a:0,-1,1),(a:1,0,0),(a:0,1,0),(a:-1,0,-1),(a:-1,1,0),(a:-1,-1,0),(a:-1,1,-1),(a:0,0,1),(a:-1,0,0),(a:1,-1,0),(a:1,1,1),(a:-1,-1,-1),(a:0,1,-1),(a:0,-1,0),(a:1,1,0),(a:1,1,-1),(a:1,-1,1),(a:1,0,-1)),
&quot;140&quot;,	(a:(a:-1,0,-1),(a:-1,1,-1),(a:-1,-1,-1),(a:-1,-1,0),(a:0,-1,-1),(a:0,1,-1),(a:-1,1,1),(a:1,-1,0),(a:-1,-1,1),(a:1,1,1),(a:1,0,0),(a:1,1,-1),(a:1,-1,-1),(a:0,0,1),(a:1,0,-1),(a:-1,0,0),(a:0,-1,0),(a:0,-1,1),(a:-1,0,1),(a:-1,1,0),(a:1,-1,1),(a:0,1,1),(a:0,0,-1),(a:1,1,0),(a:1,0,1),(a:0,1,0)),
&quot;150&quot;,	(a:(a:0,-1,0),(a:1,1,1),(a:0,0,-1),(a:-1,-1,0),(a:0,1,-1),(a:0,1,0),(a:1,0,1),(a:1,0,0),(a:1,1,-1),(a:-1,0,0),(a:0,0,1),(a:-1,1,-1),(a:0,-1,-1),(a:0,1,1),(a:-1,0,-1),(a:-1,-1,-1),(a:1,-1,1),(a:-1,-1,1),(a:1,-1,0),(a:1,1,0),(a:1,0,-1),(a:1,-1,-1),(a:-1,1,0),(a:-1,0,1),(a:-1,1,1),(a:0,-1,1)),
&quot;160&quot;,	(a:(a:1,1,-1),(a:1,1,0),(a:0,-1,0),(a:1,-1,0),(a:-1,0,-1),(a:0,-1,-1),(a:1,0,0),(a:0,1,1),(a:-1,0,1),(a:-1,-1,-1),(a:-1,1,1),(a:-1,0,0),(a:-1,-1,1),(a:1,-1,-1),(a:0,1,-1),(a:-1,1,-1),(a:1,-1,1),(a:0,0,1),(a:-1,1,0),(a:1,0,1),(a:-1,-1,0),(a:0,0,-1),(a:0,-1,1),(a:1,1,1),(a:0,1,0),(a:1,0,-1)),
&quot;170&quot;,	(a:(a:-1,1,0),(a:-1,-1,-1),(a:1,0,0),(a:1,-1,0),(a:-1,-1,1),(a:-1,-1,0),(a:-1,0,1),(a:0,-1,0),(a:-1,0,-1),(a:0,-1,-1),(a:-1,1,1),(a:-1,1,-1),(a:0,0,-1),(a:0,0,1),(a:1,-1,-1),(a:0,-1,1),(a:1,1,0),(a:1,1,1),(a:0,1,1),(a:-1,0,0),(a:1,0,-1),(a:0,1,0),(a:0,1,-1),(a:1,-1,1),(a:1,0,1),(a:1,1,-1)),
&quot;180&quot;,	(a:(a:-1,0,1),(a:-1,-1,-1),(a:1,1,1),(a:1,-1,1),(a:0,-1,1),(a:-1,-1,0),(a:-1,0,-1),(a:1,-1,0),(a:1,-1,-1),(a:0,-1,-1),(a:0,1,-1),(a:1,1,0),(a:0,0,-1),(a:1,0,-1),(a:0,0,1),(a:-1,-1,1),(a:1,0,1),(a:-1,1,-1),(a:-1,1,0),(a:-1,0,0),(a:1,1,-1),(a:0,1,0),(a:0,-1,0),(a:0,1,1),(a:-1,1,1),(a:1,0,0)),
&quot;190&quot;,	(a:(a:-1,-1,0),(a:-1,0,-1),(a:1,0,0),(a:-1,1,1),(a:0,0,1),(a:-1,-1,-1),(a:1,-1,1),(a:1,1,1),(a:-1,1,-1),(a:0,1,0),(a:0,-1,1),(a:1,0,1),(a:0,-1,0),(a:1,0,-1),(a:0,0,-1),(a:1,-1,0),(a:-1,1,0),(a:-1,0,0),(a:-1,-1,1),(a:0,-1,-1),(a:1,1,-1),(a:-1,0,1),(a:0,1,-1),(a:1,1,0),(a:0,1,1),(a:1,-1,-1)),
&quot;200&quot;,	(a:(a:-1,-1,0),(a:1,0,-1),(a:-1,0,1),(a:-1,1,-1),(a:0,-1,1),(a:0,1,-1),(a:1,-1,0),(a:-1,1,0),(a:1,-1,1),(a:-1,0,0),(a:1,1,1),(a:1,0,0),(a:0,0,-1),(a:1,-1,-1),(a:-1,-1,1),(a:-1,1,1),(a:0,-1,0),(a:-1,-1,-1),(a:0,1,1),(a:1,0,1),(a:0,-1,-1),(a:0,1,0),(a:-1,0,-1),(a:0,0,1),(a:1,1,-1),(a:1,1,0)),
&quot;210&quot;,	(a:(a:1,1,-1),(a:-1,1,0),(a:0,1,-1),(a:-1,1,1),(a:1,0,-1),(a:0,-1,1),(a:-1,0,1),(a:-1,1,-1),(a:1,1,0),(a:0,-1,-1),(a:1,-1,1),(a:-1,-1,-1),(a:1,1,1),(a:-1,0,-1),(a:1,-1,0),(a:-1,-1,0),(a:1,-1,-1),(a:1,0,1),(a:0,0,-1),(a:0,1,0),(a:1,0,0),(a:-1,-1,1),(a:-1,0,0),(a:0,-1,0),(a:0,1,1),(a:0,0,1)),
&quot;220&quot;,	(a:(a:-1,-1,-1),(a:-1,1,0),(a:1,0,0),(a:0,1,1),(a:0,0,-1),(a:1,1,1),(a:1,-1,0),(a:-1,-1,1),(a:-1,1,1),(a:0,-1,0),(a:0,-1,1),(a:-1,0,0),(a:0,0,1),(a:0,1,0),(a:-1,-1,0),(a:1,1,0),(a:-1,1,-1),(a:1,-1,1),(a:-1,0,1),(a:1,1,-1),(a:0,1,-1),(a:-1,0,-1),(a:0,-1,-1),(a:1,0,1),(a:1,-1,-1),(a:1,0,-1)),
&quot;230&quot;,	(a:(a:-1,-1,-1),(a:1,1,1),(a:-1,1,0),(a:-1,0,-1),(a:0,-1,-1),(a:1,1,-1),(a:0,1,1),(a:0,0,1),(a:-1,0,0),(a:-1,0,1),(a:-1,1,-1),(a:1,1,0),(a:1,0,-1),(a:-1,1,1),(a:1,-1,-1),(a:-1,-1,0),(a:1,-1,0),(a:1,0,0),(a:1,0,1),(a:0,-1,0),(a:0,0,-1),(a:0,-1,1),(a:-1,-1,1),(a:0,1,-1),(a:0,1,0),(a:1,-1,1)),
&quot;240&quot;,	(a:(a:-1,0,0),(a:0,1,-1),(a:-1,1,1),(a:-1,-1,0),(a:1,0,1),(a:-1,-1,-1),(a:0,1,1),(a:-1,0,1),(a:1,0,-1),(a:-1,-1,1),(a:0,-1,-1),(a:0,1,0),(a:1,0,0),(a:1,1,-1),(a:-1,1,-1),(a:0,-1,1),(a:0,-1,0),(a:1,1,1),(a:0,0,1),(a:1,-1,-1),(a:1,1,0),(a:-1,1,0),(a:1,-1,1),(a:-1,0,-1),(a:0,0,-1),(a:1,-1,0)),
&quot;250&quot;,	(a:(a:-1,1,1),(a:-1,1,-1),(a:1,-1,1),(a:0,1,0),(a:-1,0,0),(a:1,-1,0),(a:-1,0,-1),(a:1,0,0),(a:1,1,-1),(a:0,0,1),(a:-1,-1,-1),(a:1,-1,-1),(a:1,1,0),(a:-1,0,1),(a:1,1,1),(a:0,-1,1),(a:0,1,1),(a:-1,-1,0),(a:-1,-1,1),(a:0,0,-1),(a:1,0,-1),(a:-1,1,0),(a:1,0,1),(a:0,-1,-1),(a:0,-1,0),(a:0,1,-1)),
&quot;260&quot;,	(a:(a:0,0,1),(a:0,-1,-1),(a:0,1,1),(a:-1,0,-1),(a:1,-1,0),(a:-1,-1,-1),(a:1,0,-1),(a:0,-1,0),(a:1,1,1),(a:-1,-1,0),(a:1,1,0),(a:-1,0,0),(a:0,1,0),(a:1,-1,-1),(a:0,0,-1),(a:1,1,-1),(a:-1,1,0),(a:-1,-1,1),(a:-1,0,1),(a:1,0,1),(a:-1,1,-1),(a:-1,1,1),(a:1,-1,1),(a:0,1,-1),(a:0,-1,1),(a:1,0,0)),
&quot;270&quot;,	(a:(a:-1,0,-1),(a:1,0,0),(a:0,-1,1),(a:1,-1,0),(a:0,1,1),(a:1,-1,-1),(a:0,0,-1),(a:1,-1,1),(a:-1,-1,0),(a:-1,-1,-1),(a:1,0,1),(a:0,-1,-1),(a:-1,0,0),(a:-1,-1,1),(a:-1,1,1),(a:1,1,0),(a:0,-1,0),(a:0,1,-1),(a:-1,1,0),(a:1,1,-1),(a:0,0,1),(a:0,1,0),(a:-1,0,1),(a:-1,1,-1),(a:1,0,-1),(a:1,1,1)),
&quot;280&quot;,	(a:(a:-1,0,-1),(a:0,1,-1),(a:1,0,1),(a:1,0,-1),(a:-1,1,1),(a:1,-1,1),(a:1,1,1),(a:0,-1,-1),(a:-1,1,0),(a:0,1,1),(a:1,1,-1),(a:1,1,0),(a:-1,1,-1),(a:-1,-1,0),(a:0,0,-1),(a:0,0,1),(a:1,-1,-1),(a:0,-1,0),(a:0,-1,1),(a:-1,0,0),(a:-1,-1,-1),(a:1,-1,0),(a:-1,-1,1),(a:1,0,0),(a:-1,0,1),(a:0,1,0)),
&quot;290&quot;,	(a:(a:0,1,1),(a:1,-1,0),(a:0,1,0),(a:0,0,1),(a:0,1,-1),(a:-1,-1,0),(a:1,0,1),(a:0,-1,1),(a:1,-1,1),(a:-1,0,1),(a:0,-1,0),(a:-1,0,-1),(a:1,0,0),(a:1,0,-1),(a:-1,1,-1),(a:-1,-1,-1),(a:0,-1,-1),(a:1,-1,-1),(a:-1,-1,1),(a:-1,1,1),(a:1,1,1),(a:1,1,-1),(a:-1,1,0),(a:-1,0,0),(a:0,0,-1),(a:1,1,0)),
&quot;300&quot;,	(a:(a:0,-1,0),(a:1,0,1),(a:-1,-1,-1),(a:1,1,0),(a:0,-1,-1),(a:-1,1,0),(a:1,-1,0),(a:0,0,-1),(a:0,-1,1),(a:1,0,-1),(a:-1,-1,0),(a:-1,-1,1),(a:0,1,1),(a:-1,0,-1),(a:1,1,1),(a:0,0,1),(a:1,-1,-1),(a:1,-1,1),(a:0,1,-1),(a:-1,1,-1),(a:-1,0,0),(a:-1,0,1),(a:-1,1,1),(a:1,0,0),(a:0,1,0),(a:1,1,-1)),
&quot;310&quot;,	(a:(a:1,-1,-1),(a:0,1,-1),(a:1,0,0),(a:1,1,0),(a:-1,0,1),(a:0,-1,-1),(a:0,0,-1),(a:0,-1,1),(a:-1,1,-1),(a:-1,0,0),(a:0,1,1),(a:-1,-1,1),(a:-1,-1,-1),(a:-1,0,-1),(a:1,0,-1),(a:0,-1,0),(a:1,1,-1),(a:-1,1,1),(a:-1,-1,0),(a:0,1,0),(a:-1,1,0),(a:1,-1,0),(a:0,0,1),(a:1,-1,1),(a:1,0,1),(a:1,1,1)),
&quot;320&quot;,	(a:(a:0,-1,-1),(a:0,0,1),(a:0,-1,0),(a:1,1,1),(a:0,0,-1),(a:-1,1,0),(a:1,-1,0),(a:-1,-1,-1),(a:1,1,0),(a:0,-1,1),(a:1,0,-1),(a:1,-1,1),(a:0,1,0),(a:-1,-1,1),(a:1,0,1),(a:0,1,-1),(a:1,0,0),(a:-1,1,1),(a:1,-1,-1),(a:-1,-1,0),(a:-1,0,1),(a:-1,0,0),(a:-1,0,-1),(a:0,1,1),(a:1,1,-1),(a:-1,1,-1)),
&quot;330&quot;,	(a:(a:-1,0,-1),(a:1,0,-1),(a:0,1,-1),(a:0,-1,-1),(a:1,-1,-1),(a:1,1,1),(a:-1,0,1),(a:-1,-1,0),(a:1,0,0),(a:-1,-1,-1),(a:1,-1,0),(a:0,0,1),(a:0,-1,1),(a:1,-1,1),(a:-1,1,1),(a:0,0,-1),(a:-1,0,0),(a:1,0,1),(a:1,1,-1),(a:-1,-1,1),(a:0,-1,0),(a:-1,1,-1),(a:-1,1,0),(a:1,1,0),(a:0,1,1),(a:0,1,0)),
&quot;340&quot;,	(a:(a:0,-1,-1),(a:-1,0,0),(a:-1,0,1),(a:0,1,1),(a:-1,0,-1),(a:0,1,0),(a:1,0,-1),(a:-1,1,0),(a:1,-1,-1),(a:-1,1,-1),(a:-1,-1,0),(a:1,0,0),(a:1,-1,1),(a:-1,-1,-1),(a:0,-1,0),(a:1,1,-1),(a:1,0,1),(a:0,0,1),(a:0,0,-1),(a:1,1,0),(a:0,-1,1),(a:-1,1,1),(a:1,-1,0),(a:-1,-1,1),(a:0,1,-1),(a:1,1,1)),
&quot;350&quot;,	(a:(a:1,1,1),(a:0,1,-1),(a:0,-1,-1),(a:1,-1,0),(a:1,-1,-1),(a:0,0,-1),(a:-1,-1,-1),(a:1,1,0),(a:0,1,1),(a:0,-1,1),(a:-1,0,-1),(a:0,1,0),(a:1,1,-1),(a:-1,0,1),(a:1,0,1),(a:-1,0,0),(a:-1,-1,1),(a:1,0,-1),(a:0,0,1),(a:-1,1,1),(a:1,0,0),(a:-1,-1,0),(a:1,-1,1),(a:0,-1,0),(a:-1,1,0),(a:-1,1,-1)),
&quot;360&quot;,	(a:(a:-1,-1,-1),(a:1,-1,1),(a:1,1,0),(a:0,-1,0),(a:-1,0,1),(a:1,-1,0),(a:-1,-1,0),(a:0,1,-1),(a:1,0,-1),(a:-1,0,0),(a:-1,0,-1),(a:0,1,1),(a:1,-1,-1),(a:0,0,-1),(a:-1,-1,1),(a:0,-1,1),(a:-1,1,0),(a:0,-1,-1),(a:-1,1,-1),(a:-1,1,1),(a:0,1,0),(a:1,0,1),(a:0,0,1),(a:1,0,0),(a:1,1,1),(a:1,1,-1)),
&quot;370&quot;,	(a:(a:0,-1,0),(a:1,0,-1),(a:-1,1,-1),(a:1,1,1),(a:-1,-1,0),(a:1,-1,-1),(a:0,-1,1),(a:-1,1,0),(a:1,0,1),(a:-1,-1,1),(a:1,0,0),(a:0,1,1),(a:1,-1,0),(a:-1,-1,-1),(a:1,1,-1),(a:-1,0,0),(a:1,1,0),(a:-1,0,-1),(a:0,0,1),(a:-1,0,1),(a:0,0,-1),(a:0,-1,-1),(a:0,1,0),(a:0,1,-1),(a:-1,1,1),(a:1,-1,1)),
&quot;380&quot;,	(a:(a:1,1,-1),(a:-1,1,0),(a:0,-1,-1),(a:0,0,1),(a:0,-1,0),(a:-1,0,1),(a:0,1,1),(a:0,0,-1),(a:0,-1,1),(a:-1,1,1),(a:1,0,0),(a:-1,-1,1),(a:-1,1,-1),(a:-1,-1,0),(a:0,1,-1),(a:1,-1,0),(a:1,0,1),(a:1,-1,-1),(a:1,1,0),(a:1,-1,1),(a:-1,-1,-1),(a:1,0,-1),(a:1,1,1),(a:-1,0,-1),(a:-1,0,0),(a:0,1,0)),
&quot;390&quot;,	(a:(a:1,-1,1),(a:0,1,-1),(a:0,-1,0),(a:1,0,1),(a:1,1,-1),(a:0,-1,-1),(a:0,0,1),(a:0,1,0),(a:-1,0,-1),(a:0,0,-1),(a:-1,-1,1),(a:-1,0,1),(a:-1,-1,-1),(a:-1,-1,0),(a:-1,1,1),(a:1,-1,0),(a:-1,1,-1),(a:0,1,1),(a:-1,1,0),(a:-1,0,0),(a:1,0,-1),(a:1,1,1),(a:0,-1,1),(a:1,1,0),(a:1,0,0),(a:1,-1,-1)),
&quot;400&quot;,	(a:(a:1,-1,1),(a:0,-1,1),(a:0,1,0),(a:0,0,-1),(a:-1,0,0),(a:0,-1,-1),(a:1,-1,-1),(a:-1,-1,-1),(a:1,-1,0),(a:0,-1,0),(a:-1,-1,1),(a:-1,-1,0),(a:0,1,-1),(a:1,1,0),(a:-1,1,0),(a:0,0,1),(a:-1,1,1),(a:-1,0,-1),(a:1,0,-1),(a:1,0,1),(a:-1,0,1),(a:1,1,-1),(a:-1,1,-1),(a:0,1,1),(a:1,0,0),(a:1,1,1)),
&quot;410&quot;,	(a:(a:1,-1,1),(a:-1,1,0),(a:-1,-1,1),(a:0,0,-1),(a:1,-1,-1),(a:0,-1,-1),(a:-1,0,-1),(a:1,0,0),(a:-1,-1,0),(a:-1,0,0),(a:1,0,1),(a:0,0,1),(a:-1,1,-1),(a:1,1,-1),(a:0,1,0),(a:0,-1,1),(a:-1,-1,-1),(a:1,-1,0),(a:-1,0,1),(a:1,1,1),(a:0,-1,0),(a:-1,1,1),(a:0,1,-1),(a:0,1,1),(a:1,0,-1),(a:1,1,0)),
&quot;420&quot;,	(a:(a:1,-1,-1),(a:0,1,0),(a:0,1,-1),(a:-1,1,0),(a:-1,-1,-1),(a:0,-1,1),(a:-1,1,1),(a:1,0,1),(a:0,0,-1),(a:0,1,1),(a:-1,1,-1),(a:1,-1,1),(a:-1,-1,0),(a:-1,0,0),(a:-1,-1,1),(a:1,-1,0),(a:1,1,0),(a:1,1,1),(a:-1,0,-1),(a:0,-1,0),(a:-1,0,1),(a:1,1,-1),(a:0,-1,-1),(a:0,0,1),(a:1,0,-1),(a:1,0,0)),
&quot;430&quot;,	(a:(a:0,1,0),(a:-1,-1,0),(a:-1,0,1),(a:0,-1,0),(a:-1,1,-1),(a:-1,0,-1),(a:1,-1,0),(a:1,1,-1),(a:0,-1,-1),(a:1,1,0),(a:-1,1,0),(a:1,0,1),(a:-1,0,0),(a:0,0,1),(a:0,-1,1),(a:1,-1,-1),(a:0,1,1),(a:1,0,0),(a:1,-1,1),(a:-1,-1,1),(a:-1,1,1),(a:1,1,1),(a:-1,-1,-1),(a:1,0,-1),(a:0,0,-1),(a:0,1,-1)),
&quot;440&quot;,	(a:(a:0,1,0),(a:-1,0,1),(a:1,0,1),(a:0,0,-1),(a:0,-1,1),(a:1,0,-1),(a:1,1,1),(a:-1,-1,1),(a:-1,-1,-1),(a:-1,-1,0),(a:1,-1,-1),(a:0,1,-1),(a:-1,0,-1),(a:1,-1,0),(a:0,0,1),(a:0,-1,0),(a:-1,1,1),(a:-1,1,0),(a:-1,0,0),(a:1,0,0),(a:-1,1,-1),(a:1,1,0),(a:1,1,-1),(a:0,-1,-1),(a:0,1,1),(a:1,-1,1)),
&quot;450&quot;,	(a:(a:1,1,-1),(a:1,0,1),(a:0,-1,0),(a:0,0,1),(a:-1,0,-1),(a:1,-1,1),(a:1,-1,-1),(a:1,-1,0),(a:-1,-1,1),(a:0,-1,-1),(a:1,1,1),(a:1,0,-1),(a:0,1,1),(a:-1,1,1),(a:0,1,-1),(a:0,-1,1),(a:-1,0,0),(a:-1,-1,0),(a:1,0,0),(a:-1,1,-1),(a:0,0,-1),(a:-1,0,1),(a:-1,-1,-1),(a:-1,1,0),(a:1,1,0),(a:0,1,0)),
&quot;460&quot;,	(a:(a:1,0,0),(a:0,1,-1),(a:1,1,1),(a:0,-1,1),(a:-1,-1,-1),(a:-1,0,0),(a:-1,1,-1),(a:-1,1,0),(a:1,-1,1),(a:-1,-1,0),(a:0,0,-1),(a:1,1,-1),(a:-1,0,-1),(a:1,-1,0),(a:0,0,1),(a:0,-1,0),(a:-1,0,1),(a:0,-1,-1),(a:1,-1,-1),(a:1,1,0),(a:-1,-1,1),(a:-1,1,1),(a:0,1,0),(a:1,0,-1),(a:0,1,1),(a:1,0,1)),
&quot;470&quot;,	(a:(a:1,-1,0),(a:0,1,1),(a:1,-1,1),(a:1,0,-1),(a:-1,-1,1),(a:1,1,0),(a:0,1,0),(a:-1,1,0),(a:0,1,-1),(a:1,1,1),(a:1,0,1),(a:-1,-1,-1),(a:-1,0,1),(a:1,0,0),(a:1,1,-1),(a:-1,1,1),(a:0,-1,-1),(a:0,0,-1),(a:0,-1,0),(a:-1,-1,0),(a:1,-1,-1),(a:-1,0,-1),(a:-1,1,-1),(a:-1,0,0),(a:0,-1,1),(a:0,0,1)),
&quot;480&quot;,	(a:(a:-1,1,1),(a:1,0,0),(a:-1,0,-1),(a:-1,0,1),(a:0,0,1),(a:-1,-1,-1),(a:1,1,-1),(a:1,-1,1),(a:-1,1,0),(a:-1,-1,0),(a:0,-1,-1),(a:1,1,1),(a:-1,0,0),(a:1,1,0),(a:0,1,0),(a:1,0,-1),(a:1,0,1),(a:0,1,1),(a:-1,-1,1),(a:1,-1,0),(a:-1,1,-1),(a:0,1,-1),(a:0,-1,0),(a:0,0,-1),(a:0,-1,1),(a:1,-1,-1)),
&quot;490&quot;,	(a:(a:0,-1,0),(a:1,-1,-1),(a:0,-1,1),(a:-1,-1,-1),(a:-1,1,-1),(a:1,1,0),(a:1,-1,0),(a:1,1,-1),(a:-1,0,-1),(a:-1,-1,1),(a:-1,0,1),(a:0,-1,-1),(a:0,0,1),(a:1,0,0),(a:0,1,0),(a:1,0,1),(a:1,1,1),(a:-1,-1,0),(a:0,0,-1),(a:-1,0,0),(a:0,1,1),(a:-1,1,0),(a:-1,1,1),(a:1,-1,1),(a:0,1,-1),(a:1,0,-1)),
&quot;500&quot;,	(a:(a:-1,1,1),(a:0,-1,0),(a:-1,0,0),(a:1,0,1),(a:-1,0,1),(a:-1,1,-1),(a:-1,-1,1),(a:0,-1,1),(a:0,0,-1),(a:-1,0,-1),(a:0,1,1),(a:1,-1,1),(a:1,1,1),(a:-1,-1,-1),(a:1,0,0),(a:1,1,-1),(a:1,-1,0),(a:-1,1,0),(a:-1,-1,0),(a:0,0,1),(a:0,1,0),(a:0,-1,-1),(a:0,1,-1),(a:1,-1,-1),(a:1,0,-1),(a:1,1,0)),
&quot;510&quot;,	(a:(a:-1,-1,1),(a:0,0,1),(a:0,-1,0),(a:-1,-1,-1),(a:0,0,-1),(a:-1,0,0),(a:0,1,1),(a:-1,1,-1),(a:-1,-1,0),(a:-1,0,-1),(a:-1,0,1),(a:1,-1,0),(a:1,0,1),(a:1,0,0),(a:-1,1,0),(a:0,1,0),(a:1,1,1),(a:1,-1,-1),(a:0,-1,1),(a:1,1,0),(a:1,-1,1),(a:0,-1,-1),(a:-1,1,1),(a:1,1,-1),(a:1,0,-1),(a:0,1,-1)),
&quot;520&quot;,	(a:(a:1,-1,0),(a:0,1,0),(a:-1,0,0),(a:0,1,-1),(a:-1,0,-1),(a:1,1,1),(a:-1,-1,1),(a:1,0,1),(a:-1,-1,0),(a:1,0,-1),(a:1,1,0),(a:1,-1,-1),(a:0,0,-1),(a:0,-1,1),(a:1,1,-1),(a:1,0,0),(a:-1,0,1),(a:0,-1,-1),(a:0,1,1),(a:-1,-1,-1),(a:0,-1,0),(a:-1,1,1),(a:0,0,1),(a:-1,1,0),(a:-1,1,-1),(a:1,-1,1)),
&quot;530&quot;,	(a:(a:1,-1,0),(a:1,0,-1),(a:1,1,0),(a:-1,1,-1),(a:0,0,1),(a:-1,1,1),(a:1,1,1),(a:-1,-1,-1),(a:0,0,-1),(a:-1,0,-1),(a:0,-1,-1),(a:1,1,-1),(a:0,-1,1),(a:0,1,0),(a:1,0,1),(a:0,1,1),(a:0,1,-1),(a:-1,0,1),(a:-1,-1,0),(a:-1,-1,1),(a:-1,0,0),(a:1,0,0),(a:0,-1,0),(a:-1,1,0),(a:1,-1,1),(a:1,-1,-1)),
&quot;540&quot;,	(a:(a:0,0,1),(a:-1,0,-1),(a:-1,-1,-1),(a:1,1,-1),(a:1,1,1),(a:1,0,-1),(a:-1,0,0),(a:0,-1,0),(a:1,-1,-1),(a:-1,-1,0),(a:-1,1,0),(a:-1,-1,1),(a:0,1,1),(a:0,-1,-1),(a:0,1,0),(a:0,1,-1),(a:1,-1,1),(a:0,0,-1),(a:-1,0,1),(a:-1,1,-1),(a:1,0,1),(a:1,0,0),(a:0,-1,1),(a:1,1,0),(a:1,-1,0),(a:-1,1,1)),
&quot;550&quot;,	(a:(a:0,1,0),(a:0,0,-1),(a:1,-1,0),(a:1,-1,1),(a:-1,0,0),(a:0,-1,0),(a:0,-1,-1),(a:1,1,1),(a:-1,0,-1),(a:-1,1,0),(a:0,0,1),(a:-1,1,-1),(a:1,0,1),(a:-1,-1,1),(a:0,-1,1),(a:-1,-1,-1),(a:-1,-1,0),(a:1,1,-1),(a:-1,0,1),(a:1,1,0),(a:1,-1,-1),(a:1,0,-1),(a:-1,1,1),(a:0,1,1),(a:0,1,-1),(a:1,0,0)),
&quot;560&quot;,	(a:(a:1,0,1),(a:0,0,-1),(a:-1,1,-1),(a:-1,0,1),(a:-1,0,0),(a:0,-1,0),(a:0,1,0),(a:-1,1,1),(a:1,1,0),(a:0,1,1),(a:-1,-1,1),(a:1,-1,1),(a:1,-1,0),(a:0,0,1),(a:1,1,-1),(a:1,1,1),(a:1,0,0),(a:-1,-1,-1),(a:-1,-1,0),(a:1,-1,-1),(a:-1,0,-1),(a:0,-1,1),(a:-1,1,0),(a:1,0,-1),(a:0,-1,-1),(a:0,1,-1)),
&quot;570&quot;,	(a:(a:1,1,0),(a:1,1,-1),(a:-1,1,0),(a:-1,-1,-1),(a:1,-1,-1),(a:1,0,1),(a:0,-1,1),(a:1,-1,0),(a:0,1,-1),(a:1,0,-1),(a:1,-1,1),(a:-1,1,-1),(a:1,0,0),(a:-1,0,0),(a:0,1,1),(a:-1,0,-1),(a:-1,-1,0),(a:0,1,0),(a:-1,-1,1),(a:-1,0,1),(a:0,0,1),(a:1,1,1),(a:-1,1,1),(a:0,-1,-1),(a:0,0,-1),(a:0,-1,0)),
&quot;580&quot;,	(a:(a:0,-1,1),(a:1,0,-1),(a:-1,0,1),(a:-1,-1,0),(a:1,1,1),(a:0,-1,0),(a:1,-1,1),(a:0,-1,-1),(a:1,0,1),(a:0,1,-1),(a:-1,-1,1),(a:-1,-1,-1),(a:0,1,1),(a:-1,1,0),(a:-1,1,-1),(a:0,1,0),(a:1,-1,-1),(a:-1,0,-1),(a:-1,0,0),(a:-1,1,1),(a:1,-1,0),(a:1,1,-1),(a:1,0,0),(a:0,0,1),(a:0,0,-1),(a:1,1,0)),
&quot;590&quot;,	(a:(a:1,-1,0),(a:0,1,-1),(a:1,-1,1),(a:0,0,1),(a:-1,0,0),(a:-1,-1,1),(a:0,1,1),(a:-1,0,1),(a:-1,1,-1),(a:-1,0,-1),(a:0,0,-1),(a:1,1,0),(a:0,-1,1),(a:1,1,1),(a:1,-1,-1),(a:-1,1,0),(a:-1,1,1),(a:1,0,1),(a:1,0,-1),(a:-1,-1,-1),(a:0,-1,-1),(a:1,0,0),(a:0,1,0),(a:-1,-1,0),(a:0,-1,0),(a:1,1,-1)),
&quot;600&quot;,	(a:(a:0,1,1),(a:1,1,0),(a:0,0,-1),(a:1,0,-1),(a:1,-1,0),(a:-1,0,0),(a:0,-1,0),(a:1,0,1),(a:0,1,0),(a:-1,-1,-1),(a:0,1,-1),(a:1,1,1),(a:1,-1,1),(a:1,1,-1),(a:0,-1,1),(a:-1,-1,0),(a:-1,-1,1),(a:-1,0,1),(a:-1,1,0),(a:1,0,0),(a:1,-1,-1),(a:0,0,1),(a:-1,0,-1),(a:0,-1,-1),(a:-1,1,1),(a:-1,1,-1)),
&quot;610&quot;,	(a:(a:0,0,1),(a:-1,0,0),(a:-1,-1,-1),(a:1,1,1),(a:0,1,1),(a:-1,0,1),(a:0,1,0),(a:1,-1,0),(a:1,0,0),(a:1,1,-1),(a:0,-1,-1),(a:-1,-1,1),(a:1,1,0),(a:-1,-1,0),(a:1,-1,1),(a:1,0,1),(a:-1,0,-1),(a:-1,1,-1),(a:-1,1,0),(a:-1,1,1),(a:1,0,-1),(a:0,1,-1),(a:1,-1,-1),(a:0,0,-1),(a:0,-1,0),(a:0,-1,1)),
&quot;620&quot;,	(a:(a:1,-1,-1),(a:0,0,-1),(a:1,1,0),(a:1,1,1),(a:0,1,0),(a:1,0,1),(a:-1,0,1),(a:1,-1,1),(a:1,1,-1),(a:1,-1,0),(a:1,0,0),(a:0,0,1),(a:0,-1,0),(a:-1,-1,-1),(a:0,-1,-1),(a:1,0,-1),(a:-1,0,0),(a:-1,1,1),(a:-1,1,0),(a:0,1,-1),(a:-1,-1,0),(a:-1,1,-1),(a:-1,-1,1),(a:0,-1,1),(a:-1,0,-1),(a:0,1,1)),
&quot;630&quot;,	(a:(a:-1,-1,1),(a:1,0,1),(a:1,1,1),(a:1,0,-1),(a:0,0,1),(a:1,-1,-1),(a:0,1,-1),(a:1,1,0),(a:0,1,1),(a:0,-1,0),(a:-1,-1,-1),(a:1,-1,0),(a:0,1,0),(a:-1,1,0),(a:1,1,-1),(a:1,-1,1),(a:-1,0,-1),(a:-1,1,1),(a:-1,1,-1),(a:0,0,-1),(a:-1,0,1),(a:0,-1,1),(a:-1,-1,0),(a:-1,0,0),(a:0,-1,-1),(a:1,0,0)),
&quot;640&quot;,	(a:(a:1,-1,-1),(a:-1,0,0),(a:1,1,0),(a:0,1,0),(a:-1,1,-1),(a:0,1,1),(a:-1,-1,-1),(a:0,-1,-1),(a:0,0,-1),(a:0,1,-1),(a:1,-1,1),(a:-1,1,0),(a:1,-1,0),(a:0,-1,0),(a:-1,0,-1),(a:-1,-1,0),(a:0,-1,1),(a:1,1,-1),(a:1,0,1),(a:-1,-1,1),(a:-1,1,1),(a:0,0,1),(a:1,0,-1),(a:1,0,0),(a:1,1,1),(a:-1,0,1)),
&quot;650&quot;,	(a:(a:1,0,1),(a:-1,1,1),(a:1,1,1),(a:0,-1,1),(a:1,-1,0),(a:0,-1,-1),(a:-1,0,0),(a:-1,0,-1),(a:0,1,1),(a:-1,1,-1),(a:0,-1,0),(a:1,1,-1),(a:0,1,0),(a:-1,-1,1),(a:0,0,1),(a:0,1,-1),(a:1,0,0),(a:1,-1,1),(a:-1,1,0),(a:1,0,-1),(a:0,0,-1),(a:-1,-1,-1),(a:1,-1,-1),(a:1,1,0),(a:-1,-1,0),(a:-1,0,1)),
&quot;660&quot;,	(a:(a:-1,1,1),(a:1,0,1),(a:1,-1,1),(a:1,-1,-1),(a:0,-1,0),(a:-1,0,0),(a:1,1,1),(a:-1,-1,-1),(a:0,0,1),(a:1,0,0),(a:1,1,0),(a:-1,-1,0),(a:-1,1,-1),(a:1,0,-1),(a:0,0,-1),(a:-1,0,1),(a:0,1,-1),(a:1,-1,0),(a:0,1,1),(a:0,-1,1),(a:-1,-1,1),(a:0,1,0),(a:1,1,-1),(a:0,-1,-1),(a:-1,1,0),(a:-1,0,-1)),
&quot;670&quot;,	(a:(a:-1,-1,-1),(a:0,1,0),(a:-1,1,0),(a:1,1,-1),(a:1,-1,-1),(a:-1,1,-1),(a:0,0,1),(a:0,1,-1),(a:-1,-1,0),(a:0,1,1),(a:1,1,1),(a:1,-1,1),(a:-1,0,-1),(a:1,0,1),(a:0,-1,1),(a:1,-1,0),(a:0,-1,-1),(a:0,0,-1),(a:-1,-1,1),(a:-1,0,1),(a:1,0,0),(a:-1,0,0),(a:1,0,-1),(a:-1,1,1),(a:0,-1,0),(a:1,1,0)),
&quot;680&quot;,	(a:(a:0,0,-1),(a:-1,0,1),(a:-1,1,1),(a:-1,-1,-1),(a:1,-1,0),(a:1,-1,1),(a:-1,-1,0),(a:1,-1,-1),(a:0,-1,-1),(a:-1,0,-1),(a:0,-1,0),(a:1,0,1),(a:1,0,-1),(a:-1,-1,1),(a:0,-1,1),(a:0,1,0),(a:1,1,1),(a:1,1,-1),(a:-1,0,0),(a:-1,1,-1),(a:0,1,1),(a:1,1,0),(a:0,1,-1),(a:0,0,1),(a:-1,1,0),(a:1,0,0)),
&quot;690&quot;,	(a:(a:-1,-1,1),(a:-1,0,0),(a:-1,0,1),(a:0,1,0),(a:-1,0,-1),(a:1,-1,-1),(a:-1,-1,-1),(a:-1,1,0),(a:0,-1,0),(a:0,1,1),(a:1,-1,0),(a:1,0,-1),(a:-1,-1,0),(a:-1,1,1),(a:1,1,0),(a:1,1,-1),(a:1,0,1),(a:1,0,0),(a:0,-1,1),(a:0,-1,-1),(a:0,0,-1),(a:0,1,-1),(a:-1,1,-1),(a:1,-1,1),(a:1,1,1),(a:0,0,1)),
&quot;700&quot;,	(a:(a:-1,-1,-1),(a:1,1,1),(a:1,-1,-1),(a:0,-1,0),(a:1,0,-1),(a:1,0,0),(a:-1,0,0),(a:-1,1,1),(a:0,1,0),(a:0,-1,-1),(a:-1,0,1),(a:-1,1,0),(a:1,1,-1),(a:-1,0,-1),(a:0,0,-1),(a:-1,-1,1),(a:1,-1,1),(a:1,1,0),(a:-1,-1,0),(a:1,0,1),(a:0,1,-1),(a:0,-1,1),(a:-1,1,-1),(a:1,-1,0),(a:0,0,1),(a:0,1,1)),
&quot;710&quot;,	(a:(a:-1,-1,1),(a:-1,-1,-1),(a:0,1,0),(a:0,1,-1),(a:0,-1,0),(a:-1,0,1),(a:1,-1,-1),(a:1,0,1),(a:1,0,0),(a:-1,1,1),(a:-1,-1,0),(a:1,-1,0),(a:1,1,0),(a:-1,1,0),(a:0,-1,-1),(a:0,0,-1),(a:1,1,-1),(a:-1,0,0),(a:0,0,1),(a:-1,0,-1),(a:1,1,1),(a:1,0,-1),(a:-1,1,-1),(a:0,1,1),(a:0,-1,1),(a:1,-1,1)),
&quot;720&quot;,	(a:(a:0,1,1),(a:1,1,1),(a:-1,-1,1),(a:-1,1,-1),(a:0,1,-1),(a:-1,1,1),(a:-1,0,1),(a:-1,1,0),(a:1,-1,0),(a:1,0,1),(a:0,-1,-1),(a:1,-1,1),(a:0,-1,0),(a:0,0,-1),(a:1,1,-1),(a:1,1,0),(a:-1,-1,0),(a:0,0,1),(a:1,-1,-1),(a:-1,0,-1),(a:0,1,0),(a:1,0,-1),(a:-1,-1,-1),(a:0,-1,1),(a:-1,0,0),(a:1,0,0)),
&quot;730&quot;,	(a:(a:-1,0,0),(a:0,0,1),(a:1,1,1),(a:-1,-1,1),(a:0,0,-1),(a:-1,1,0),(a:1,0,1),(a:-1,0,1),(a:0,-1,0),(a:0,-1,1),(a:1,1,-1),(a:-1,1,1),(a:0,1,0),(a:1,-1,-1),(a:1,0,-1),(a:1,-1,1),(a:-1,-1,-1),(a:1,1,0),(a:1,0,0),(a:-1,0,-1),(a:0,1,-1),(a:-1,-1,0),(a:1,-1,0),(a:-1,1,-1),(a:0,1,1),(a:0,-1,-1)),
&quot;740&quot;,	(a:(a:-1,0,1),(a:0,-1,0),(a:0,-1,-1),(a:1,1,0),(a:1,-1,-1),(a:-1,-1,0),(a:1,1,1),(a:0,1,-1),(a:-1,-1,-1),(a:1,0,0),(a:1,-1,1),(a:0,1,1),(a:-1,0,-1),(a:-1,0,0),(a:-1,-1,1),(a:-1,1,1),(a:0,1,0),(a:-1,1,-1),(a:-1,1,0),(a:0,-1,1),(a:0,0,-1),(a:1,0,1),(a:1,0,-1),(a:1,-1,0),(a:0,0,1),(a:1,1,-1)),
&quot;750&quot;,	(a:(a:1,0,-1),(a:-1,1,-1),(a:0,-1,1),(a:0,-1,0),(a:-1,-1,-1),(a:1,1,-1),(a:-1,-1,0),(a:0,0,-1),(a:1,-1,1),(a:1,1,1),(a:1,-1,-1),(a:-1,1,1),(a:-1,0,0),(a:-1,-1,1),(a:0,-1,-1),(a:0,0,1),(a:0,1,-1),(a:-1,1,0),(a:1,0,0),(a:0,1,0),(a:0,1,1),(a:-1,0,1),(a:-1,0,-1),(a:1,0,1),(a:1,-1,0),(a:1,1,0)),
&quot;760&quot;,	(a:(a:-1,1,-1),(a:0,-1,0),(a:1,1,0),(a:-1,-1,-1),(a:1,0,0),(a:1,0,-1),(a:0,0,1),(a:1,1,1),(a:-1,0,0),(a:0,0,-1),(a:-1,1,0),(a:0,1,-1),(a:0,-1,-1),(a:1,1,-1),(a:1,-1,1),(a:-1,-1,1),(a:-1,0,-1),(a:-1,-1,0),(a:0,1,0),(a:-1,0,1),(a:1,-1,0),(a:1,0,1),(a:0,1,1),(a:0,-1,1),(a:1,-1,-1),(a:-1,1,1)),
&quot;770&quot;,	(a:(a:-1,1,1),(a:1,1,1),(a:1,0,1),(a:0,0,1),(a:-1,-1,0),(a:1,0,0),(a:0,-1,1),(a:0,1,1),(a:-1,0,1),(a:-1,1,0),(a:1,1,0),(a:1,-1,0),(a:-1,-1,-1),(a:-1,-1,1),(a:0,0,-1),(a:1,-1,-1),(a:-1,0,-1),(a:0,-1,-1),(a:-1,0,0),(a:1,0,-1),(a:0,-1,0),(a:1,1,-1),(a:1,-1,1),(a:0,1,0),(a:-1,1,-1),(a:0,1,-1)),
&quot;780&quot;,	(a:(a:1,0,-1),(a:1,-1,-1),(a:-1,0,1),(a:0,1,1),(a:1,0,0),(a:-1,0,-1),(a:0,1,-1),(a:-1,1,0),(a:0,0,-1),(a:0,0,1),(a:1,1,0),(a:-1,-1,-1),(a:-1,-1,0),(a:-1,1,-1),(a:0,1,0),(a:1,-1,0),(a:1,1,1),(a:-1,-1,1),(a:-1,0,0),(a:0,-1,0),(a:0,-1,1),(a:0,-1,-1),(a:-1,1,1),(a:1,0,1),(a:1,-1,1),(a:1,1,-1)),
&quot;790&quot;,	(a:(a:1,1,-1),(a:0,-1,-1),(a:-1,-1,0),(a:1,0,-1),(a:0,-1,1),(a:1,-1,0),(a:-1,1,-1),(a:-1,0,-1),(a:0,-1,0),(a:-1,0,0),(a:1,0,0),(a:1,-1,1),(a:-1,1,0),(a:-1,0,1),(a:0,1,1),(a:-1,1,1),(a:-1,-1,-1),(a:0,0,1),(a:1,1,1),(a:1,-1,-1),(a:-1,-1,1),(a:0,1,-1),(a:1,1,0),(a:1,0,1),(a:0,1,0),(a:0,0,-1)),
&quot;800&quot;,	(a:(a:0,0,-1),(a:1,1,-1),(a:-1,-1,0),(a:-1,0,0),(a:-1,-1,-1),(a:-1,0,-1),(a:1,-1,1),(a:1,0,-1),(a:-1,1,-1),(a:1,0,0),(a:1,1,1),(a:0,0,1),(a:-1,-1,1),(a:0,-1,0),(a:0,1,1),(a:0,1,0),(a:-1,1,0),(a:1,0,1),(a:1,-1,0),(a:1,1,0),(a:-1,0,1),(a:0,-1,-1),(a:0,1,-1),(a:1,-1,-1),(a:-1,1,1),(a:0,-1,1)),
&quot;810&quot;,	(a:(a:-1,-1,-1),(a:1,-1,-1),(a:1,0,-1),(a:0,1,0),(a:-1,0,1),(a:1,0,1),(a:-1,0,0),(a:0,1,-1),(a:1,1,-1),(a:-1,-1,0),(a:-1,1,0),(a:0,1,1),(a:-1,-1,1),(a:0,0,1),(a:1,0,0),(a:1,-1,0),(a:1,-1,1),(a:1,1,0),(a:-1,0,-1),(a:-1,1,-1),(a:-1,1,1),(a:0,-1,-1),(a:1,1,1),(a:0,0,-1),(a:0,-1,0),(a:0,-1,1)),
&quot;820&quot;,	(a:(a:-1,0,0),(a:0,1,0),(a:-1,0,-1),(a:0,1,-1),(a:-1,1,-1),(a:0,-1,-1),(a:0,0,-1),(a:-1,-1,-1),(a:-1,-1,0),(a:0,0,1),(a:0,-1,0),(a:1,-1,1),(a:1,1,-1),(a:-1,0,1),(a:1,1,1),(a:-1,1,1),(a:-1,-1,1),(a:1,-1,-1),(a:1,-1,0),(a:1,0,-1),(a:0,-1,1),(a:0,1,1),(a:-1,1,0),(a:1,0,0),(a:1,1,0),(a:1,0,1)),
&quot;830&quot;,	(a:(a:0,0,1),(a:-1,1,1),(a:1,0,-1),(a:0,-1,1),(a:0,1,0),(a:1,1,-1),(a:1,0,1),(a:0,0,-1),(a:1,1,1),(a:1,-1,1),(a:1,0,0),(a:0,1,-1),(a:-1,1,0),(a:1,-1,0),(a:0,-1,0),(a:1,1,0),(a:-1,0,-1),(a:-1,-1,-1),(a:-1,-1,1),(a:-1,0,0),(a:-1,0,1),(a:0,-1,-1),(a:-1,1,-1),(a:0,1,1),(a:1,-1,-1),(a:-1,-1,0)),
&quot;840&quot;,	(a:(a:-1,-1,-1),(a:-1,-1,1),(a:1,-1,1),(a:-1,0,0),(a:1,0,0),(a:0,1,0),(a:1,1,1),(a:0,1,-1),(a:0,0,1),(a:-1,1,0),(a:-1,1,-1),(a:0,1,1),(a:-1,0,1),(a:0,-1,0),(a:0,-1,1),(a:1,1,-1),(a:-1,-1,0),(a:-1,0,-1),(a:1,-1,0),(a:1,0,1),(a:0,-1,-1),(a:1,0,-1),(a:-1,1,1),(a:1,-1,-1),(a:1,1,0),(a:0,0,-1)),
&quot;850&quot;,	(a:(a:-1,-1,-1),(a:0,1,1),(a:0,-1,0),(a:0,-1,-1),(a:0,0,1),(a:1,1,0),(a:0,1,0),(a:-1,0,-1),(a:1,0,0),(a:0,1,-1),(a:1,-1,0),(a:1,1,1),(a:1,1,-1),(a:1,-1,1),(a:1,0,1),(a:-1,-1,1),(a:-1,1,1),(a:0,0,-1),(a:-1,1,0),(a:-1,0,1),(a:-1,-1,0),(a:-1,0,0),(a:1,-1,-1),(a:-1,1,-1),(a:1,0,-1),(a:0,-1,1)),
&quot;860&quot;,	(a:(a:1,-1,-1),(a:-1,0,-1),(a:1,0,1),(a:1,1,-1),(a:0,-1,0),(a:0,1,-1),(a:1,-1,0),(a:-1,-1,0),(a:-1,1,1),(a:0,0,1),(a:0,1,1),(a:-1,-1,-1),(a:0,1,0),(a:0,-1,-1),(a:0,0,-1),(a:-1,1,0),(a:1,0,0),(a:-1,-1,1),(a:1,-1,1),(a:-1,0,1),(a:-1,0,0),(a:-1,1,-1),(a:1,0,-1),(a:0,-1,1),(a:1,1,0),(a:1,1,1)),
&quot;870&quot;,	(a:(a:1,0,1),(a:1,-1,1),(a:-1,1,0),(a:1,0,0),(a:0,-1,1),(a:-1,0,1),(a:1,0,-1),(a:0,-1,-1),(a:0,1,1),(a:1,1,0),(a:-1,0,0),(a:-1,-1,-1),(a:-1,1,-1),(a:-1,-1,0),(a:-1,-1,1),(a:0,1,-1),(a:1,-1,0),(a:1,-1,-1),(a:1,1,1),(a:0,1,0),(a:0,-1,0),(a:0,0,-1),(a:0,0,1),(a:1,1,-1),(a:-1,0,-1),(a:-1,1,1)),
&quot;880&quot;,	(a:(a:-1,-1,-1),(a:0,-1,0),(a:-1,0,-1),(a:-1,1,1),(a:1,-1,1),(a:0,1,-1),(a:-1,0,1),(a:0,1,1),(a:-1,-1,0),(a:0,1,0),(a:1,-1,-1),(a:1,1,1),(a:1,1,0),(a:-1,-1,1),(a:-1,1,0),(a:0,0,1),(a:1,0,0),(a:0,0,-1),(a:1,0,-1),(a:1,0,1),(a:-1,0,0),(a:-1,1,-1),(a:0,-1,-1),(a:0,-1,1),(a:1,-1,0),(a:1,1,-1)),
&quot;890&quot;,	(a:(a:0,-1,-1),(a:0,1,1),(a:0,0,-1),(a:0,1,-1),(a:1,0,-1),(a:1,1,1),(a:-1,1,-1),(a:-1,0,1),(a:-1,0,-1),(a:-1,1,1),(a:1,-1,-1),(a:-1,-1,0),(a:1,1,0),(a:1,1,-1),(a:0,1,0),(a:-1,-1,1),(a:0,-1,1),(a:1,-1,1),(a:-1,1,0),(a:-1,0,0),(a:-1,-1,-1),(a:0,-1,0),(a:0,0,1),(a:1,-1,0),(a:1,0,0),(a:1,0,1)),
&quot;900&quot;,	(a:(a:-1,-1,1),(a:-1,1,1),(a:0,0,1),(a:1,-1,-1),(a:-1,-1,-1),(a:1,1,0),(a:-1,0,0),(a:0,-1,0),(a:1,-1,1),(a:0,1,-1),(a:0,0,-1),(a:0,1,1),(a:1,-1,0),(a:-1,1,-1),(a:1,1,-1),(a:1,0,0),(a:-1,-1,0),(a:-1,0,-1),(a:0,-1,-1),(a:0,-1,1),(a:1,1,1),(a:-1,0,1),(a:1,0,-1),(a:0,1,0),(a:-1,1,0),(a:1,0,1)),
&quot;910&quot;,	(a:(a:0,-1,1),(a:-1,0,-1),(a:1,-1,0),(a:1,0,0),(a:-1,-1,0),(a:-1,0,0),(a:1,-1,-1),(a:-1,-1,1),(a:1,1,0),(a:1,1,-1),(a:1,0,-1),(a:-1,1,-1),(a:-1,1,1),(a:0,0,-1),(a:0,-1,-1),(a:0,0,1),(a:0,-1,0),(a:-1,1,0),(a:-1,0,1),(a:1,0,1),(a:0,1,-1),(a:0,1,0),(a:1,-1,1),(a:-1,-1,-1),(a:0,1,1),(a:1,1,1)),
&quot;920&quot;,	(a:(a:1,0,0),(a:1,1,1),(a:0,-1,1),(a:-1,1,-1),(a:0,1,-1),(a:-1,-1,-1),(a:1,-1,-1),(a:0,-1,-1),(a:0,1,1),(a:1,1,-1),(a:1,0,1),(a:-1,1,0),(a:-1,0,0),(a:1,-1,0),(a:0,0,1),(a:-1,1,1),(a:0,1,0),(a:-1,-1,0),(a:-1,-1,1),(a:1,-1,1),(a:0,-1,0),(a:-1,0,-1),(a:-1,0,1),(a:0,0,-1),(a:1,0,-1),(a:1,1,0)),
&quot;930&quot;,	(a:(a:0,1,-1),(a:1,1,1),(a:0,0,1),(a:0,-1,1),(a:1,-1,-1),(a:0,-1,-1),(a:0,-1,0),(a:1,-1,0),(a:1,1,-1),(a:-1,0,-1),(a:1,0,-1),(a:-1,0,1),(a:1,0,1),(a:0,0,-1),(a:-1,-1,-1),(a:-1,1,0),(a:1,-1,1),(a:-1,1,1),(a:-1,0,0),(a:-1,-1,1),(a:0,1,0),(a:-1,-1,0),(a:0,1,1),(a:1,1,0),(a:1,0,0),(a:-1,1,-1)),
&quot;940&quot;,	(a:(a:-1,0,1),(a:1,-1,0),(a:1,0,-1),(a:0,0,1),(a:0,0,-1),(a:-1,1,1),(a:-1,-1,-1),(a:0,-1,1),(a:1,1,0),(a:0,1,0),(a:-1,-1,0),(a:0,-1,0),(a:1,0,1),(a:-1,1,-1),(a:1,1,-1),(a:0,-1,-1),(a:1,0,0),(a:1,1,1),(a:0,1,-1),(a:1,-1,1),(a:-1,-1,1),(a:-1,0,0),(a:1,-1,-1),(a:-1,0,-1),(a:0,1,1),(a:-1,1,0)),
&quot;950&quot;,	(a:(a:0,1,0),(a:-1,1,0),(a:1,0,0),(a:1,-1,1),(a:0,0,-1),(a:-1,-1,-1),(a:0,1,1),(a:0,-1,0),(a:-1,1,-1),(a:-1,-1,1),(a:0,1,-1),(a:-1,-1,0),(a:1,1,0),(a:-1,0,-1),(a:0,-1,-1),(a:1,-1,0),(a:0,0,1),(a:0,-1,1),(a:-1,0,0),(a:1,-1,-1),(a:-1,0,1),(a:1,1,-1),(a:1,0,-1),(a:1,0,1),(a:-1,1,1),(a:1,1,1)),
&quot;960&quot;,	(a:(a:0,1,-1),(a:1,1,-1),(a:0,0,1),(a:0,1,0),(a:-1,1,0),(a:0,1,1),(a:0,-1,1),(a:-1,0,1),(a:-1,-1,-1),(a:-1,-1,0),(a:0,0,-1),(a:0,-1,0),(a:-1,1,-1),(a:-1,-1,1),(a:1,-1,1),(a:1,0,-1),(a:1,0,1),(a:1,1,0),(a:1,0,0),(a:1,-1,-1),(a:1,-1,0),(a:0,-1,-1),(a:-1,1,1),(a:-1,0,-1),(a:-1,0,0),(a:1,1,1)),
&quot;970&quot;,	(a:(a:-1,1,1),(a:1,-1,-1),(a:-1,-1,-1),(a:0,0,-1),(a:1,0,1),(a:-1,-1,1),(a:1,0,-1),(a:0,0,1),(a:0,1,-1),(a:0,-1,1),(a:-1,-1,0),(a:1,1,-1),(a:0,1,0),(a:0,-1,0),(a:-1,0,-1),(a:-1,0,1),(a:-1,1,0),(a:1,1,0),(a:-1,0,0),(a:-1,1,-1),(a:1,1,1),(a:1,0,0),(a:1,-1,0),(a:0,-1,-1),(a:1,-1,1),(a:0,1,1)),
&quot;980&quot;,	(a:(a:-1,-1,-1),(a:-1,0,1),(a:-1,1,1),(a:0,-1,0),(a:0,1,0),(a:0,0,1),(a:0,0,-1),(a:1,0,-1),(a:-1,-1,1),(a:0,-1,-1),(a:-1,0,0),(a:-1,1,-1),(a:1,1,-1),(a:1,0,1),(a:1,-1,-1),(a:0,1,1),(a:1,1,1),(a:1,-1,1),(a:-1,1,0),(a:1,1,0),(a:-1,0,-1),(a:1,-1,0),(a:0,1,-1),(a:-1,-1,0),(a:0,-1,1),(a:1,0,0)),
&quot;990&quot;,	(a:(a:1,0,1),(a:-1,0,-1),(a:-1,1,-1),(a:-1,1,1),(a:1,-1,-1),(a:1,-1,0),(a:-1,-1,1),(a:-1,0,1),(a:-1,0,0),(a:1,1,0),(a:1,0,-1),(a:0,0,1),(a:-1,-1,0),(a:1,0,0),(a:-1,-1,-1),(a:0,1,-1),(a:0,0,-1),(a:0,1,0),(a:0,-1,0),(a:-1,1,0),(a:0,-1,1),(a:0,-1,-1),(a:1,1,1),(a:1,-1,1),(a:1,1,-1),(a:0,1,1)),
&quot;1000&quot;,	(a:(a:1,0,0),(a:0,0,-1),(a:1,-1,-1),(a:-1,0,1),(a:1,0,1),(a:0,-1,1),(a:0,0,1),(a:0,1,0),(a:-1,-1,1),(a:1,-1,1),(a:0,1,1),(a:0,-1,-1),(a:1,0,-1),(a:-1,-1,-1),(a:-1,1,1),(a:1,1,-1),(a:0,-1,0),(a:0,1,-1),(a:-1,-1,0),(a:-1,1,-1),(a:1,1,1),(a:-1,0,-1),(a:-1,0,0),(a:1,1,0),(a:1,-1,0),(a:-1,1,0)),
&quot;1010&quot;,	(a:(a:-1,-1,-1),(a:-1,-1,0),(a:1,0,0),(a:-1,1,-1),(a:0,1,0),(a:1,0,1),(a:0,1,1),(a:0,0,-1),(a:1,1,-1),(a:-1,-1,1),(a:1,-1,0),(a:-1,1,1),(a:1,1,0),(a:1,0,-1),(a:1,1,1),(a:0,-1,-1),(a:-1,0,-1),(a:1,-1,1),(a:0,0,1),(a:-1,0,0),(a:-1,1,0),(a:0,-1,1),(a:-1,0,1),(a:0,-1,0),(a:1,-1,-1),(a:0,1,-1)),
&quot;1020&quot;,	(a:(a:1,-1,-1),(a:1,1,1),(a:1,-1,1),(a:1,-1,0),(a:-1,1,0),(a:-1,0,-1),(a:0,0,1),(a:0,1,1),(a:0,1,-1),(a:-1,0,0),(a:0,-1,0),(a:0,1,0),(a:-1,-1,0),(a:-1,-1,1),(a:-1,1,-1),(a:1,0,1),(a:-1,1,1),(a:1,1,-1),(a:-1,0,1),(a:-1,-1,-1),(a:0,0,-1),(a:0,-1,-1),(a:0,-1,1),(a:1,0,0),(a:1,1,0),(a:1,0,-1)),
&quot;1030&quot;,	(a:(a:1,1,0),(a:-1,-1,1),(a:-1,-1,0),(a:0,0,1),(a:0,1,-1),(a:1,-1,-1),(a:-1,0,1),(a:1,1,1),(a:-1,0,0),(a:0,1,0),(a:-1,1,1),(a:1,-1,0),(a:1,0,0),(a:1,0,-1),(a:1,0,1),(a:-1,1,-1),(a:1,1,-1),(a:-1,0,-1),(a:0,-1,1),(a:0,1,1),(a:-1,-1,-1),(a:0,-1,-1),(a:1,-1,1),(a:0,0,-1),(a:0,-1,0),(a:-1,1,0)),
&quot;1040&quot;,	(a:(a:0,1,0),(a:-1,-1,-1),(a:1,-1,-1),(a:0,1,1),(a:-1,-1,0),(a:0,-1,0),(a:-1,0,-1),(a:1,-1,1),(a:0,0,1),(a:1,0,1),(a:0,-1,1),(a:-1,-1,1),(a:0,1,-1),(a:0,-1,-1),(a:1,0,0),(a:1,-1,0),(a:-1,0,0),(a:-1,0,1),(a:1,0,-1),(a:0,0,-1),(a:1,1,-1),(a:-1,1,0),(a:-1,1,-1),(a:-1,1,1),(a:1,1,0),(a:1,1,1)),
&quot;1050&quot;,	(a:(a:0,-1,1),(a:0,-1,-1),(a:0,0,-1),(a:0,1,1),(a:0,1,-1),(a:0,-1,0),(a:1,0,1),(a:1,-1,0),(a:-1,0,1),(a:-1,-1,-1),(a:-1,0,0),(a:-1,1,1),(a:1,1,0),(a:1,-1,-1),(a:1,1,-1),(a:1,0,0),(a:1,1,1),(a:-1,0,-1),(a:1,-1,1),(a:0,0,1),(a:-1,-1,0),(a:1,0,-1),(a:-1,1,-1),(a:-1,-1,1),(a:-1,1,0),(a:0,1,0)),
&quot;1060&quot;,	(a:(a:1,1,-1),(a:-1,0,1),(a:1,-1,-1),(a:1,1,1),(a:-1,1,0),(a:0,1,0),(a:0,-1,-1),(a:-1,1,-1),(a:-1,-1,-1),(a:1,0,-1),(a:0,-1,0),(a:-1,-1,1),(a:0,-1,1),(a:-1,-1,0),(a:1,-1,0),(a:-1,0,0),(a:-1,1,1),(a:1,0,0),(a:-1,0,-1),(a:0,0,-1),(a:1,1,0),(a:0,0,1),(a:0,1,1),(a:0,1,-1),(a:1,-1,1),(a:1,0,1)),
&quot;1070&quot;,	(a:(a:1,-1,1),(a:-1,0,-1),(a:0,0,-1),(a:1,0,1),(a:0,-1,0),(a:0,-1,1),(a:-1,1,0),(a:1,1,0),(a:0,-1,-1),(a:1,-1,0),(a:-1,-1,1),(a:1,0,0),(a:1,1,1),(a:1,1,-1),(a:-1,0,1),(a:1,-1,-1),(a:-1,-1,-1),(a:-1,-1,0),(a:-1,1,-1),(a:0,1,-1),(a:1,0,-1),(a:0,1,1),(a:0,1,0),(a:0,0,1),(a:-1,0,0),(a:-1,1,1)),
&quot;1080&quot;,	(a:(a:-1,0,-1),(a:0,0,-1),(a:1,1,-1),(a:-1,0,0),(a:1,1,1),(a:-1,1,-1),(a:-1,1,1),(a:1,0,1),(a:0,-1,0),(a:0,1,-1),(a:-1,-1,0),(a:1,0,0),(a:1,-1,0),(a:-1,0,1),(a:-1,1,0),(a:0,-1,1),(a:1,-1,1),(a:-1,-1,-1),(a:0,0,1),(a:1,1,0),(a:-1,-1,1),(a:1,-1,-1),(a:1,0,-1),(a:0,1,1),(a:0,-1,-1),(a:0,1,0)),
&quot;1090&quot;,	(a:(a:0,1,-1),(a:0,-1,1),(a:-1,-1,0),(a:-1,-1,-1),(a:1,-1,1),(a:1,0,0),(a:-1,0,0),(a:-1,-1,1),(a:-1,0,1),(a:1,1,1),(a:1,1,0),(a:0,-1,0),(a:1,-1,0),(a:0,1,0),(a:-1,1,-1),(a:-1,0,-1),(a:1,0,-1),(a:1,1,-1),(a:-1,1,0),(a:0,0,-1),(a:1,-1,-1),(a:-1,1,1),(a:1,0,1),(a:0,-1,-1),(a:0,0,1),(a:0,1,1)),
&quot;1100&quot;,	(a:(a:-1,0,1),(a:1,0,0),(a:-1,0,-1),(a:-1,1,1),(a:0,-1,0),(a:1,1,1),(a:1,1,0),(a:-1,-1,-1),(a:0,1,1),(a:0,-1,1),(a:1,0,-1),(a:0,-1,-1),(a:0,1,0),(a:-1,1,-1),(a:0,0,-1),(a:0,0,1),(a:1,0,1),(a:-1,0,0),(a:1,-1,0),(a:0,1,-1),(a:-1,-1,0),(a:-1,1,0),(a:1,1,-1),(a:1,-1,1),(a:-1,-1,1),(a:1,-1,-1)),
&quot;1110&quot;,	(a:(a:-1,1,0),(a:1,-1,-1),(a:1,1,0),(a:1,0,1),(a:-1,-1,-1),(a:1,1,1),(a:-1,1,1),(a:0,0,-1),(a:-1,-1,0),(a:-1,0,-1),(a:-1,1,-1),(a:-1,-1,1),(a:0,0,1),(a:0,-1,1),(a:1,1,-1),(a:0,1,0),(a:-1,0,1),(a:0,-1,-1),(a:-1,0,0),(a:0,1,1),(a:0,-1,0),(a:0,1,-1),(a:1,-1,1),(a:1,-1,0),(a:1,0,0),(a:1,0,-1)),
&quot;1120&quot;,	(a:(a:0,0,1),(a:-1,1,-1),(a:0,1,1),(a:1,0,-1),(a:-1,1,1),(a:-1,-1,-1),(a:0,1,0),(a:0,-1,0),(a:1,1,-1),(a:-1,-1,0),(a:0,1,-1),(a:-1,0,1),(a:1,-1,-1),(a:1,-1,0),(a:0,0,-1),(a:-1,0,0),(a:1,1,0),(a:-1,1,0),(a:-1,-1,1),(a:0,-1,1),(a:1,0,0),(a:-1,0,-1),(a:0,-1,-1),(a:1,1,1),(a:1,0,1),(a:1,-1,1)),
&quot;1130&quot;,	(a:(a:-1,-1,-1),(a:0,-1,0),(a:-1,0,0),(a:-1,1,-1),(a:1,-1,1),(a:0,-1,-1),(a:-1,-1,0),(a:1,1,1),(a:-1,1,0),(a:1,1,-1),(a:0,1,0),(a:1,0,-1),(a:1,-1,-1),(a:-1,1,1),(a:-1,0,1),(a:1,0,1),(a:-1,0,-1),(a:1,1,0),(a:0,1,1),(a:1,-1,0),(a:0,0,1),(a:0,1,-1),(a:0,-1,1),(a:1,0,0),(a:0,0,-1),(a:-1,-1,1)),
&quot;1140&quot;,	(a:(a:1,1,0),(a:0,0,1),(a:1,0,0),(a:1,1,1),(a:1,-1,0),(a:-1,-1,0),(a:0,-1,-1),(a:-1,1,0),(a:1,0,-1),(a:1,1,-1),(a:-1,-1,-1),(a:-1,-1,1),(a:-1,1,-1),(a:1,0,1),(a:0,-1,1),(a:-1,0,0),(a:0,1,-1),(a:1,-1,-1),(a:0,1,0),(a:0,-1,0),(a:0,0,-1),(a:-1,0,-1),(a:-1,0,1),(a:-1,1,1),(a:0,1,1),(a:1,-1,1)),
&quot;1150&quot;,	(a:(a:-1,0,-1),(a:0,-1,-1),(a:-1,1,-1),(a:0,-1,1),(a:-1,0,1),(a:0,0,1),(a:-1,-1,-1),(a:1,-1,0),(a:1,-1,-1),(a:1,0,-1),(a:1,-1,1),(a:-1,-1,0),(a:1,1,0),(a:-1,0,0),(a:0,0,-1),(a:1,1,1),(a:1,1,-1),(a:-1,1,0),(a:0,1,-1),(a:-1,-1,1),(a:-1,1,1),(a:0,-1,0),(a:1,0,1),(a:1,0,0),(a:0,1,0),(a:0,1,1)),
&quot;1160&quot;,	(a:(a:1,1,1),(a:0,0,1),(a:0,-1,-1),(a:-1,-1,1),(a:1,1,0),(a:-1,1,1),(a:1,-1,0),(a:1,-1,1),(a:1,1,-1),(a:1,-1,-1),(a:-1,-1,-1),(a:1,0,0),(a:-1,0,1),(a:-1,0,0),(a:0,1,1),(a:-1,-1,0),(a:0,-1,0),(a:-1,0,-1),(a:1,0,1),(a:0,1,-1),(a:0,0,-1),(a:1,0,-1),(a:-1,1,-1),(a:0,1,0),(a:-1,1,0),(a:0,-1,1)),
&quot;1170&quot;,	(a:(a:-1,-1,-1),(a:1,1,1),(a:0,-1,0),(a:0,0,-1),(a:1,-1,0),(a:0,1,1),(a:0,-1,1),(a:0,1,-1),(a:1,-1,1),(a:0,-1,-1),(a:1,0,0),(a:0,1,0),(a:-1,1,-1),(a:1,1,0),(a:1,-1,-1),(a:1,1,-1),(a:1,0,-1),(a:-1,-1,1),(a:-1,1,1),(a:-1,-1,0),(a:-1,1,0),(a:-1,0,-1),(a:-1,0,1),(a:-1,0,0),(a:0,0,1),(a:1,0,1)),
&quot;1180&quot;,	(a:(a:0,1,0),(a:1,1,-1),(a:-1,0,0),(a:0,0,-1),(a:1,-1,1),(a:0,1,1),(a:-1,-1,-1),(a:1,0,-1),(a:-1,1,-1),(a:0,0,1),(a:1,0,1),(a:-1,-1,0),(a:1,0,0),(a:0,-1,1),(a:0,1,-1),(a:1,-1,0),(a:-1,0,1),(a:-1,1,1),(a:-1,-1,1),(a:1,-1,-1),(a:-1,0,-1),(a:1,1,1),(a:1,1,0),(a:0,-1,0),(a:-1,1,0),(a:0,-1,-1)),
&quot;1190&quot;,	(a:(a:1,0,0),(a:-1,0,1),(a:0,1,0),(a:-1,0,-1),(a:1,1,-1),(a:0,-1,-1),(a:-1,-1,0),(a:1,1,1),(a:0,1,-1),(a:1,0,1),(a:1,1,0),(a:0,1,1),(a:0,-1,1),(a:0,0,-1),(a:0,0,1),(a:1,0,-1),(a:-1,-1,-1),(a:-1,-1,1),(a:1,-1,-1),(a:-1,1,0),(a:1,-1,1),(a:0,-1,0),(a:-1,1,-1),(a:-1,0,0),(a:-1,1,1),(a:1,-1,0)),
&quot;1200&quot;,	(a:(a:-1,1,0),(a:0,1,1),(a:-1,1,-1),(a:1,1,1),(a:0,0,-1),(a:1,1,-1),(a:-1,0,-1),(a:0,-1,1),(a:-1,-1,-1),(a:0,1,0),(a:1,-1,0),(a:0,-1,0),(a:1,1,0),(a:-1,-1,1),(a:-1,-1,0),(a:-1,1,1),(a:1,0,0),(a:0,-1,-1),(a:-1,0,0),(a:-1,0,1),(a:1,0,1),(a:1,0,-1),(a:1,-1,1),(a:0,1,-1),(a:0,0,1),(a:1,-1,-1)),
&quot;1210&quot;,	(a:(a:-1,0,0),(a:-1,1,0),(a:0,0,-1),(a:1,1,1),(a:-1,-1,-1),(a:1,-1,1),(a:0,1,1),(a:-1,-1,0),(a:1,1,0),(a:-1,1,-1),(a:0,-1,-1),(a:1,0,0),(a:1,0,-1),(a:1,0,1),(a:-1,1,1),(a:0,-1,1),(a:0,1,0),(a:-1,-1,1),(a:0,1,-1),(a:0,-1,0),(a:-1,0,-1),(a:1,-1,-1),(a:1,1,-1),(a:0,0,1),(a:-1,0,1),(a:1,-1,0)),
&quot;1220&quot;,	(a:(a:1,0,1),(a:-1,-1,-1),(a:0,-1,0),(a:-1,-1,0),(a:0,1,-1),(a:-1,-1,1),(a:0,-1,1),(a:0,0,1),(a:0,0,-1),(a:1,-1,1),(a:1,-1,0),(a:0,-1,-1),(a:0,1,1),(a:-1,1,1),(a:1,-1,-1),(a:-1,1,0),(a:1,0,0),(a:1,1,-1),(a:-1,0,1),(a:1,1,1),(a:1,1,0),(a:0,1,0),(a:-1,0,-1),(a:-1,1,-1),(a:1,0,-1),(a:-1,0,0)),
&quot;1230&quot;,	(a:(a:-1,1,1),(a:0,1,-1),(a:1,1,1),(a:-1,1,-1),(a:1,1,-1),(a:1,0,-1),(a:0,-1,1),(a:-1,-1,1),(a:0,1,1),(a:0,-1,-1),(a:0,-1,0),(a:-1,1,0),(a:1,0,0),(a:-1,-1,-1),(a:-1,0,-1),(a:1,-1,-1),(a:-1,-1,0),(a:1,1,0),(a:1,0,1),(a:-1,0,0),(a:0,1,0),(a:1,-1,0),(a:1,-1,1),(a:0,0,1),(a:-1,0,1),(a:0,0,-1)),
&quot;1240&quot;,	(a:(a:1,0,0),(a:-1,0,-1),(a:0,-1,1),(a:-1,1,-1),(a:-1,-1,-1),(a:1,0,1),(a:1,-1,0),(a:-1,-1,0),(a:-1,1,0),(a:0,0,1),(a:-1,1,1),(a:-1,0,1),(a:1,1,1),(a:1,1,0),(a:0,0,-1),(a:0,-1,-1),(a:0,-1,0),(a:1,1,-1),(a:-1,-1,1),(a:-1,0,0),(a:0,1,-1),(a:0,1,1),(a:0,1,0),(a:1,-1,1),(a:1,0,-1),(a:1,-1,-1)),
&quot;1250&quot;,	(a:(a:-1,-1,-1),(a:1,-1,1),(a:-1,1,1),(a:-1,-1,0),(a:1,-1,0),(a:0,0,-1),(a:0,-1,1),(a:-1,1,-1),(a:1,-1,-1),(a:1,0,-1),(a:0,1,0),(a:1,1,1),(a:1,1,0),(a:-1,-1,1),(a:-1,0,-1),(a:1,0,0),(a:1,1,-1),(a:0,1,-1),(a:0,1,1),(a:-1,0,0),(a:-1,1,0),(a:-1,0,1),(a:0,-1,0),(a:1,0,1),(a:0,0,1),(a:0,-1,-1)),
&quot;1260&quot;,	(a:(a:-1,-1,-1),(a:1,0,-1),(a:-1,-1,0),(a:1,0,0),(a:0,-1,0),(a:-1,0,1),(a:1,1,-1),(a:-1,1,-1),(a:1,1,1),(a:-1,1,1),(a:0,0,1),(a:0,-1,1),(a:-1,-1,1),(a:1,0,1),(a:0,-1,-1),(a:0,1,1),(a:-1,0,-1),(a:-1,0,0),(a:0,1,-1),(a:1,-1,-1),(a:1,1,0),(a:1,-1,0),(a:-1,1,0),(a:0,0,-1),(a:0,1,0),(a:1,-1,1)),
&quot;1270&quot;,	(a:(a:0,1,1),(a:0,-1,-1),(a:0,-1,1),(a:0,0,1),(a:1,-1,0),(a:0,1,0),(a:1,1,1),(a:-1,-1,1),(a:0,1,-1),(a:-1,-1,-1),(a:-1,-1,0),(a:1,1,-1),(a:1,-1,-1),(a:-1,0,-1),(a:-1,0,1),(a:1,0,-1),(a:1,0,1),(a:-1,1,1),(a:1,1,0),(a:-1,1,0),(a:0,-1,0),(a:1,0,0),(a:-1,0,0),(a:0,0,-1),(a:-1,1,-1),(a:1,-1,1)),
&quot;1280&quot;,	(a:(a:0,0,-1),(a:0,-1,1),(a:-1,0,1),(a:-1,-1,0),(a:1,1,0),(a:-1,0,0),(a:1,0,1),(a:0,1,-1),(a:-1,-1,-1),(a:1,0,-1),(a:1,-1,0),(a:1,-1,1),(a:-1,1,0),(a:1,0,0),(a:0,-1,0),(a:0,1,0),(a:1,1,-1),(a:1,1,1),(a:0,-1,-1),(a:-1,1,-1),(a:-1,-1,1),(a:-1,0,-1),(a:0,1,1),(a:-1,1,1),(a:0,0,1),(a:1,-1,-1)),
&quot;1290&quot;,	(a:(a:1,0,0),(a:-1,0,1),(a:0,1,-1),(a:0,1,0),(a:1,0,1),(a:-1,1,-1),(a:0,1,1),(a:0,0,-1),(a:1,-1,0),(a:1,1,0),(a:-1,1,0),(a:-1,-1,-1),(a:-1,0,0),(a:-1,1,1),(a:1,1,-1),(a:0,-1,0),(a:-1,0,-1),(a:-1,-1,0),(a:0,0,1),(a:1,1,1),(a:1,-1,-1),(a:-1,-1,1),(a:1,-1,1),(a:0,-1,-1),(a:0,-1,1),(a:1,0,-1)),
&quot;1300&quot;,	(a:(a:0,-1,1),(a:0,0,-1),(a:0,1,-1),(a:0,1,0),(a:0,-1,0),(a:1,1,-1),(a:-1,1,0),(a:-1,0,-1),(a:-1,-1,0),(a:-1,1,1),(a:1,1,0),(a:-1,0,1),(a:-1,-1,-1),(a:1,0,-1),(a:1,-1,1),(a:1,0,0),(a:0,0,1),(a:-1,-1,1),(a:1,-1,0),(a:1,1,1),(a:1,0,1),(a:1,-1,-1),(a:-1,0,0),(a:0,1,1),(a:-1,1,-1),(a:0,-1,-1)),
&quot;1310&quot;,	(a:(a:0,1,-1),(a:1,1,1),(a:1,-1,0),(a:-1,0,1),(a:1,0,0),(a:1,0,-1),(a:-1,0,-1),(a:-1,-1,-1),(a:1,-1,-1),(a:0,1,1),(a:0,0,-1),(a:-1,1,0),(a:-1,1,-1),(a:-1,-1,0),(a:1,0,1),(a:0,-1,1),(a:0,0,1),(a:0,-1,-1),(a:1,1,-1),(a:-1,1,1),(a:0,-1,0),(a:1,1,0),(a:0,1,0),(a:-1,-1,1),(a:-1,0,0),(a:1,-1,1)),
&quot;1320&quot;,	(a:(a:0,1,1),(a:1,0,1),(a:1,-1,0),(a:-1,0,1),(a:-1,-1,0),(a:-1,-1,-1),(a:1,1,1),(a:-1,0,0),(a:-1,-1,1),(a:0,-1,1),(a:0,-1,-1),(a:-1,1,0),(a:1,1,-1),(a:1,1,0),(a:0,1,0),(a:-1,0,-1),(a:-1,1,-1),(a:-1,1,1),(a:1,0,-1),(a:0,0,-1),(a:1,-1,1),(a:1,0,0),(a:0,-1,0),(a:1,-1,-1),(a:0,1,-1),(a:0,0,1)),
&quot;1330&quot;,	(a:(a:1,1,0),(a:1,0,1),(a:1,-1,0),(a:-1,-1,-1),(a:-1,-1,0),(a:0,1,0),(a:1,-1,1),(a:-1,-1,1),(a:-1,1,0),(a:0,0,-1),(a:0,0,1),(a:-1,0,0),(a:-1,1,-1),(a:-1,0,-1),(a:0,-1,-1),(a:1,0,-1),(a:-1,1,1),(a:0,-1,1),(a:1,-1,-1),(a:-1,0,1),(a:0,-1,0),(a:1,1,-1),(a:1,0,0),(a:1,1,1),(a:0,1,-1),(a:0,1,1)),
&quot;1340&quot;,	(a:(a:0,-1,-1),(a:-1,-1,0),(a:0,1,1),(a:-1,0,1),(a:1,-1,1),(a:1,1,1),(a:0,-1,0),(a:0,0,-1),(a:1,1,0),(a:0,0,1),(a:0,1,0),(a:-1,1,-1),(a:-1,1,1),(a:-1,-1,-1),(a:0,1,-1),(a:1,0,-1),(a:1,0,1),(a:0,-1,1),(a:1,1,-1),(a:-1,-1,1),(a:1,-1,0),(a:-1,0,-1),(a:-1,1,0),(a:1,0,0),(a:1,-1,-1),(a:-1,0,0)),
&quot;1350&quot;,	(a:(a:1,1,1),(a:-1,0,0),(a:1,1,-1),(a:-1,1,1),(a:-1,1,-1),(a:-1,-1,1),(a:1,-1,1),(a:0,-1,-1),(a:0,1,-1),(a:1,0,-1),(a:0,-1,1),(a:-1,0,1),(a:-1,-1,0),(a:1,1,0),(a:0,0,-1),(a:1,-1,0),(a:-1,-1,-1),(a:0,0,1),(a:1,0,0),(a:0,-1,0),(a:1,0,1),(a:-1,0,-1),(a:-1,1,0),(a:0,1,0),(a:0,1,1),(a:1,-1,-1)),
&quot;1360&quot;,	(a:(a:1,-1,-1),(a:1,0,1),(a:-1,-1,-1),(a:1,0,0),(a:-1,1,1),(a:-1,0,0),(a:1,-1,1),(a:-1,1,0),(a:0,1,-1),(a:0,0,1),(a:-1,1,-1),(a:0,-1,-1),(a:1,1,0),(a:1,1,-1),(a:1,1,1),(a:0,-1,0),(a:1,0,-1),(a:0,1,1),(a:0,1,0),(a:0,0,-1),(a:-1,0,-1),(a:0,-1,1),(a:-1,0,1),(a:1,-1,0),(a:-1,-1,0),(a:-1,-1,1)),
&quot;1370&quot;,	(a:(a:-1,1,-1),(a:-1,1,1),(a:1,-1,0),(a:-1,-1,0),(a:1,-1,-1),(a:0,-1,-1),(a:1,0,0),(a:-1,-1,-1),(a:1,1,1),(a:1,0,-1),(a:-1,0,0),(a:0,1,-1),(a:0,1,1),(a:0,0,-1),(a:1,1,-1),(a:0,-1,1),(a:1,1,0),(a:-1,0,-1),(a:0,1,0),(a:-1,1,0),(a:1,0,1),(a:1,-1,1),(a:-1,-1,1),(a:-1,0,1),(a:0,-1,0),(a:0,0,1)),
&quot;1380&quot;,	(a:(a:-1,-1,-1),(a:-1,0,1),(a:-1,0,0),(a:-1,1,1),(a:0,1,1),(a:-1,1,0),(a:1,-1,1),(a:-1,-1,0),(a:0,-1,1),(a:1,-1,0),(a:0,0,1),(a:-1,-1,1),(a:-1,1,-1),(a:1,0,1),(a:1,0,0),(a:1,1,-1),(a:0,-1,-1),(a:0,0,-1),(a:1,-1,-1),(a:0,1,-1),(a:1,0,-1),(a:1,1,1),(a:0,-1,0),(a:1,1,0),(a:0,1,0),(a:-1,0,-1)),
&quot;1390&quot;,	(a:(a:1,1,1),(a:1,-1,1),(a:-1,-1,-1),(a:-1,1,0),(a:1,0,1),(a:-1,-1,1),(a:1,-1,0),(a:-1,1,-1),(a:1,1,0),(a:1,-1,-1),(a:-1,-1,0),(a:1,0,-1),(a:-1,0,1),(a:0,-1,1),(a:0,1,0),(a:-1,0,-1),(a:1,0,0),(a:-1,0,0),(a:0,-1,-1),(a:0,0,1),(a:-1,1,1),(a:0,-1,0),(a:0,0,-1),(a:0,1,-1),(a:1,1,-1),(a:0,1,1)),
&quot;1400&quot;,	(a:(a:1,0,-1),(a:-1,1,0),(a:-1,-1,-1),(a:1,1,0),(a:0,0,-1),(a:1,-1,-1),(a:-1,0,-1),(a:0,1,0),(a:1,-1,0),(a:1,1,1),(a:1,0,1),(a:0,-1,1),(a:0,1,-1),(a:0,1,1),(a:-1,-1,0),(a:-1,0,1),(a:1,-1,1),(a:0,-1,0),(a:-1,0,0),(a:0,-1,-1),(a:0,0,1),(a:-1,1,-1),(a:1,0,0),(a:-1,1,1),(a:-1,-1,1),(a:1,1,-1)),
&quot;1410&quot;,	(a:(a:0,0,-1),(a:1,-1,0),(a:1,0,0),(a:0,0,1),(a:-1,-1,-1),(a:-1,1,0),(a:-1,-1,0),(a:-1,0,0),(a:-1,-1,1),(a:1,1,0),(a:0,-1,-1),(a:1,-1,1),(a:-1,0,1),(a:0,1,1),(a:0,1,-1),(a:1,-1,-1),(a:0,-1,1),(a:1,0,-1),(a:-1,0,-1),(a:-1,1,-1),(a:-1,1,1),(a:0,1,0),(a:0,-1,0),(a:1,0,1),(a:1,1,1),(a:1,1,-1)),
&quot;1420&quot;,	(a:(a:1,1,0),(a:1,-1,0),(a:-1,0,-1),(a:-1,-1,1),(a:-1,1,-1),(a:-1,1,1),(a:1,0,-1),(a:-1,0,0),(a:-1,-1,0),(a:1,-1,1),(a:1,0,1),(a:1,-1,-1),(a:0,1,0),(a:-1,1,0),(a:1,0,0),(a:-1,-1,-1),(a:0,1,-1),(a:0,0,-1),(a:1,1,-1),(a:-1,0,1),(a:0,-1,-1),(a:0,-1,1),(a:0,-1,0),(a:0,0,1),(a:1,1,1),(a:0,1,1)),
&quot;1430&quot;,	(a:(a:-1,-1,0),(a:0,0,-1),(a:1,-1,0),(a:0,-1,1),(a:-1,0,0),(a:1,0,-1),(a:1,1,0),(a:1,1,-1),(a:0,1,0),(a:-1,0,-1),(a:-1,1,0),(a:1,0,0),(a:-1,-1,1),(a:1,-1,1),(a:-1,-1,-1),(a:-1,0,1),(a:0,-1,-1),(a:-1,1,-1),(a:0,1,-1),(a:0,-1,0),(a:1,0,1),(a:1,1,1),(a:0,1,1),(a:0,0,1),(a:-1,1,1),(a:1,-1,-1)),
&quot;1440&quot;,	(a:(a:0,0,1),(a:-1,1,-1),(a:-1,0,0),(a:0,1,0),(a:-1,-1,1),(a:1,0,0),(a:-1,0,-1),(a:-1,1,0),(a:0,-1,0),(a:-1,0,1),(a:1,1,1),(a:-1,-1,0),(a:1,0,1),(a:-1,-1,-1),(a:0,1,-1),(a:0,1,1),(a:1,-1,0),(a:1,1,-1),(a:-1,1,1),(a:0,-1,-1),(a:0,-1,1),(a:1,-1,-1),(a:1,0,-1),(a:1,1,0),(a:1,-1,1),(a:0,0,-1)),
&quot;1450&quot;,	(a:(a:-1,-1,-1),(a:0,0,1),(a:-1,1,0),(a:0,1,1),(a:1,0,0),(a:-1,-1,0),(a:1,-1,0),(a:0,-1,0),(a:0,-1,-1),(a:0,0,-1),(a:-1,-1,1),(a:1,0,-1),(a:1,0,1),(a:1,1,0),(a:0,-1,1),(a:-1,0,1),(a:-1,0,-1),(a:0,1,-1),(a:1,1,1),(a:-1,0,0),(a:-1,1,-1),(a:1,1,-1),(a:1,-1,-1),(a:-1,1,1),(a:0,1,0),(a:1,-1,1)),
&quot;1460&quot;,	(a:(a:-1,1,-1),(a:-1,-1,1),(a:-1,1,0),(a:0,-1,0),(a:-1,0,1),(a:-1,0,-1),(a:-1,1,1),(a:1,1,1),(a:0,-1,1),(a:1,-1,-1),(a:-1,0,0),(a:-1,-1,0),(a:-1,-1,-1),(a:0,-1,-1),(a:0,1,-1),(a:0,1,0),(a:1,1,0),(a:0,0,1),(a:1,0,0),(a:1,0,-1),(a:1,0,1),(a:0,0,-1),(a:1,1,-1),(a:0,1,1),(a:1,-1,1),(a:1,-1,0)),
&quot;1470&quot;,	(a:(a:-1,1,-1),(a:-1,1,1),(a:0,0,1),(a:-1,0,0),(a:1,1,0),(a:1,-1,0),(a:1,0,1),(a:-1,0,1),(a:-1,-1,-1),(a:0,-1,-1),(a:0,1,1),(a:0,-1,1),(a:1,1,-1),(a:-1,1,0),(a:0,-1,0),(a:-1,-1,1),(a:1,-1,1),(a:-1,0,-1),(a:1,0,-1),(a:0,1,0),(a:1,-1,-1),(a:-1,-1,0),(a:1,1,1),(a:1,0,0),(a:0,0,-1),(a:0,1,-1)),
&quot;1480&quot;,	(a:(a:0,1,0),(a:0,-1,-1),(a:1,0,-1),(a:-1,0,-1),(a:-1,-1,-1),(a:0,-1,0),(a:1,0,0),(a:1,1,-1),(a:-1,1,0),(a:0,-1,1),(a:1,-1,-1),(a:-1,0,0),(a:0,0,1),(a:0,0,-1),(a:0,1,-1),(a:1,0,1),(a:-1,0,1),(a:1,-1,1),(a:1,1,1),(a:-1,-1,0),(a:-1,-1,1),(a:-1,1,-1),(a:1,1,0),(a:0,1,1),(a:1,-1,0),(a:-1,1,1)),
&quot;1490&quot;,	(a:(a:-1,1,-1),(a:1,0,-1),(a:-1,1,1),(a:-1,-1,0),(a:0,-1,-1),(a:-1,0,1),(a:-1,-1,-1),(a:1,0,0),(a:0,1,0),(a:1,-1,-1),(a:0,1,1),(a:0,-1,1),(a:0,1,-1),(a:0,0,1),(a:-1,1,0),(a:1,1,0),(a:1,-1,0),(a:0,0,-1),(a:-1,0,0),(a:0,-1,0),(a:1,1,1),(a:1,0,1),(a:-1,0,-1),(a:-1,-1,1),(a:1,1,-1),(a:1,-1,1)),
&quot;1500&quot;,	(a:(a:0,-1,0),(a:-1,-1,1),(a:0,1,-1),(a:0,0,-1),(a:-1,1,-1),(a:-1,-1,0),(a:1,0,0),(a:0,1,1),(a:-1,0,-1),(a:1,-1,-1),(a:0,1,0),(a:-1,0,0),(a:1,1,-1),(a:0,0,1),(a:1,0,1),(a:1,1,1),(a:0,-1,1),(a:1,-1,1),(a:-1,-1,-1),(a:-1,1,1),(a:-1,0,1),(a:0,-1,-1),(a:-1,1,0),(a:1,0,-1),(a:1,1,0),(a:1,-1,0)),
&quot;1510&quot;,	(a:(a:0,-1,1),(a:1,1,1),(a:-1,-1,0),(a:-1,1,1),(a:-1,-1,-1),(a:1,0,-1),(a:1,-1,-1),(a:0,-1,-1),(a:0,-1,0),(a:-1,0,1),(a:1,-1,1),(a:1,0,1),(a:0,0,1),(a:-1,1,-1),(a:-1,1,0),(a:0,1,-1),(a:-1,0,-1),(a:0,1,1),(a:1,-1,0),(a:1,1,0),(a:-1,-1,1),(a:1,1,-1),(a:-1,0,0),(a:0,1,0),(a:0,0,-1),(a:1,0,0)),
&quot;1520&quot;,	(a:(a:0,0,1),(a:0,1,-1),(a:0,1,0),(a:-1,-1,-1),(a:0,1,1),(a:1,0,0),(a:0,-1,0),(a:-1,0,1),(a:1,0,1),(a:1,-1,-1),(a:-1,1,-1),(a:1,1,1),(a:-1,-1,1),(a:0,-1,1),(a:1,1,0),(a:0,0,-1),(a:-1,-1,0),(a:-1,0,0),(a:-1,1,0),(a:1,-1,0),(a:0,-1,-1),(a:-1,0,-1),(a:-1,1,1),(a:1,0,-1),(a:1,-1,1),(a:1,1,-1)),
&quot;1530&quot;,	(a:(a:0,1,-1),(a:1,1,1),(a:1,1,0),(a:1,-1,0),(a:0,0,-1),(a:-1,0,0),(a:-1,-1,-1),(a:0,-1,-1),(a:1,1,-1),(a:1,-1,1),(a:-1,-1,0),(a:0,1,1),(a:0,-1,1),(a:1,0,1),(a:-1,1,0),(a:-1,1,-1),(a:-1,0,1),(a:-1,1,1),(a:-1,-1,1),(a:1,0,0),(a:1,-1,-1),(a:0,0,1),(a:1,0,-1),(a:-1,0,-1),(a:0,1,0),(a:0,-1,0)),
&quot;1540&quot;,	(a:(a:-1,-1,1),(a:1,1,1),(a:1,1,0),(a:1,-1,0),(a:-1,1,1),(a:-1,-1,-1),(a:1,-1,1),(a:-1,-1,0),(a:1,0,1),(a:0,-1,1),(a:-1,0,1),(a:0,-1,0),(a:0,1,0),(a:1,0,-1),(a:0,0,1),(a:-1,0,0),(a:-1,1,0),(a:-1,1,-1),(a:-1,0,-1),(a:0,1,1),(a:0,0,-1),(a:1,1,-1),(a:1,-1,-1),(a:0,-1,-1),(a:0,1,-1),(a:1,0,0)),
&quot;1550&quot;,	(a:(a:0,-1,1),(a:-1,1,0),(a:0,-1,-1),(a:1,-1,1),(a:-1,-1,-1),(a:1,1,0),(a:0,-1,0),(a:0,0,-1),(a:-1,-1,0),(a:1,0,1),(a:-1,1,1),(a:1,-1,-1),(a:1,1,-1),(a:-1,-1,1),(a:1,-1,0),(a:1,0,-1),(a:0,0,1),(a:-1,1,-1),(a:0,1,-1),(a:-1,0,-1),(a:-1,0,0),(a:1,0,0),(a:1,1,1),(a:0,1,1),(a:-1,0,1),(a:0,1,0)),
&quot;1560&quot;,	(a:(a:1,1,0),(a:1,-1,0),(a:1,-1,-1),(a:-1,-1,-1),(a:1,-1,1),(a:0,0,-1),(a:0,1,-1),(a:-1,1,0),(a:0,-1,0),(a:-1,-1,0),(a:1,0,-1),(a:1,0,1),(a:0,-1,1),(a:-1,0,0),(a:0,-1,-1),(a:-1,1,1),(a:1,1,1),(a:-1,1,-1),(a:0,0,1),(a:-1,-1,1),(a:1,1,-1),(a:-1,0,1),(a:0,1,1),(a:0,1,0),(a:-1,0,-1),(a:1,0,0)),
&quot;1570&quot;,	(a:(a:0,0,1),(a:-1,-1,1),(a:0,1,1),(a:1,1,1),(a:1,1,0),(a:1,0,1),(a:-1,1,0),(a:0,-1,-1),(a:1,-1,1),(a:1,0,0),(a:1,1,-1),(a:-1,0,0),(a:1,-1,0),(a:-1,0,-1),(a:-1,-1,0),(a:1,-1,-1),(a:0,-1,0),(a:-1,0,1),(a:-1,1,-1),(a:-1,-1,-1),(a:-1,1,1),(a:0,1,0),(a:0,0,-1),(a:0,-1,1),(a:0,1,-1),(a:1,0,-1)),
&quot;1580&quot;,	(a:(a:-1,-1,0),(a:-1,0,0),(a:1,-1,1),(a:1,0,1),(a:1,0,0),(a:1,-1,-1),(a:-1,1,1),(a:0,-1,-1),(a:1,-1,0),(a:-1,1,-1),(a:-1,0,1),(a:0,1,1),(a:0,0,1),(a:-1,1,0),(a:1,0,-1),(a:1,1,1),(a:0,0,-1),(a:0,1,0),(a:1,1,-1),(a:0,-1,1),(a:0,-1,0),(a:-1,-1,-1),(a:-1,0,-1),(a:1,1,0),(a:0,1,-1),(a:-1,-1,1)),
&quot;1590&quot;,	(a:(a:1,0,0),(a:-1,1,0),(a:-1,-1,-1),(a:1,0,-1),(a:-1,0,-1),(a:0,-1,-1),(a:-1,0,0),(a:-1,-1,0),(a:0,-1,1),(a:0,0,1),(a:0,-1,0),(a:-1,0,1),(a:1,0,1),(a:0,0,-1),(a:-1,1,1),(a:-1,1,-1),(a:0,1,0),(a:-1,-1,1),(a:0,1,-1),(a:1,1,-1),(a:1,-1,-1),(a:1,-1,1),(a:1,1,0),(a:0,1,1),(a:1,1,1),(a:1,-1,0)),
&quot;1600&quot;,	(a:(a:1,0,0),(a:0,-1,-1),(a:-1,1,-1),(a:1,-1,-1),(a:-1,-1,0),(a:0,1,0),(a:1,-1,0),(a:0,0,1),(a:1,1,0),(a:1,-1,1),(a:-1,-1,-1),(a:0,0,-1),(a:0,-1,0),(a:-1,0,0),(a:1,0,-1),(a:-1,1,1),(a:-1,0,-1),(a:1,0,1),(a:0,1,1),(a:1,1,-1),(a:-1,-1,1),(a:-1,1,0),(a:0,-1,1),(a:-1,0,1),(a:1,1,1),(a:0,1,-1)),
&quot;1610&quot;,	(a:(a:-1,-1,0),(a:-1,-1,-1),(a:-1,0,-1),(a:1,0,1),(a:0,-1,0),(a:1,-1,1),(a:0,1,0),(a:1,0,0),(a:-1,0,0),(a:1,-1,0),(a:-1,0,1),(a:-1,1,1),(a:1,-1,-1),(a:0,-1,1),(a:-1,1,-1),(a:-1,-1,1),(a:1,1,0),(a:0,1,1),(a:0,0,-1),(a:-1,1,0),(a:1,0,-1),(a:0,-1,-1),(a:0,1,-1),(a:1,1,1),(a:0,0,1),(a:1,1,-1)),
&quot;1620&quot;,	(a:(a:0,0,1),(a:0,1,0),(a:0,-1,-1),(a:0,-1,1),(a:1,-1,-1),(a:-1,-1,0),(a:-1,1,-1),(a:0,1,1),(a:-1,-1,-1),(a:0,-1,0),(a:-1,1,0),(a:-1,0,-1),(a:1,0,-1),(a:-1,0,0),(a:1,-1,1),(a:1,1,0),(a:-1,-1,1),(a:1,0,1),(a:-1,0,1),(a:1,0,0),(a:1,1,-1),(a:0,1,-1),(a:1,-1,0),(a:-1,1,1),(a:0,0,-1),(a:1,1,1)),
&quot;1630&quot;,	(a:(a:-1,-1,0),(a:1,0,0),(a:1,-1,1),(a:-1,0,0),(a:-1,1,1),(a:1,1,0),(a:0,-1,1),(a:1,1,-1),(a:0,-1,-1),(a:0,1,0),(a:1,-1,0),(a:0,-1,0),(a:-1,-1,1),(a:1,1,1),(a:-1,-1,-1),(a:-1,0,-1),(a:-1,1,-1),(a:-1,1,0),(a:0,1,1),(a:0,0,1),(a:1,0,-1),(a:1,0,1),(a:0,1,-1),(a:-1,0,1),(a:0,0,-1),(a:1,-1,-1)),
&quot;1640&quot;,	(a:(a:-1,0,1),(a:0,-1,-1),(a:1,-1,0),(a:0,-1,1),(a:0,1,0),(a:1,0,-1),(a:1,-1,-1),(a:-1,0,-1),(a:0,-1,0),(a:-1,-1,1),(a:1,1,1),(a:0,1,-1),(a:0,1,1),(a:1,1,0),(a:-1,-1,-1),(a:1,0,0),(a:1,1,-1),(a:0,0,1),(a:1,-1,1),(a:-1,1,1),(a:-1,1,-1),(a:-1,-1,0),(a:-1,0,0),(a:1,0,1),(a:-1,1,0),(a:0,0,-1)),
&quot;1650&quot;,	(a:(a:1,-1,0),(a:0,0,1),(a:0,1,1),(a:1,1,0),(a:0,-1,0),(a:1,0,-1),(a:0,0,-1),(a:-1,0,0),(a:-1,1,0),(a:1,1,-1),(a:-1,0,-1),(a:-1,-1,-1),(a:-1,-1,0),(a:0,1,0),(a:0,1,-1),(a:-1,1,1),(a:1,0,1),(a:1,-1,1),(a:1,-1,-1),(a:-1,0,1),(a:-1,-1,1),(a:0,-1,1),(a:-1,1,-1),(a:0,-1,-1),(a:1,0,0),(a:1,1,1)),
&quot;1660&quot;,	(a:(a:1,1,-1),(a:-1,1,0),(a:-1,0,1),(a:1,0,-1),(a:0,-1,1),(a:1,0,0),(a:1,-1,0),(a:0,-1,-1),(a:0,1,-1),(a:-1,1,1),(a:1,1,0),(a:-1,-1,0),(a:0,1,1),(a:-1,0,-1),(a:-1,-1,1),(a:0,-1,0),(a:-1,-1,-1),(a:1,1,1),(a:-1,0,0),(a:1,-1,1),(a:-1,1,-1),(a:0,0,1),(a:1,-1,-1),(a:1,0,1),(a:0,0,-1),(a:0,1,0)),
&quot;1670&quot;,	(a:(a:1,-1,1),(a:0,-1,-1),(a:1,0,1),(a:1,-1,0),(a:0,1,-1),(a:0,1,0),(a:1,-1,-1),(a:0,0,1),(a:-1,-1,1),(a:-1,1,-1),(a:0,1,1),(a:0,0,-1),(a:0,-1,1),(a:-1,-1,-1),(a:1,1,0),(a:-1,-1,0),(a:1,0,-1),(a:1,1,1),(a:0,-1,0),(a:-1,0,1),(a:-1,0,0),(a:-1,0,-1),(a:-1,1,0),(a:1,0,0),(a:-1,1,1),(a:1,1,-1)),
&quot;1680&quot;,	(a:(a:0,-1,0),(a:1,0,1),(a:1,1,0),(a:-1,0,0),(a:1,1,1),(a:-1,-1,1),(a:0,0,-1),(a:1,-1,-1),(a:-1,1,1),(a:-1,-1,-1),(a:0,0,1),(a:0,1,0),(a:-1,-1,0),(a:-1,1,0),(a:1,-1,0),(a:-1,0,-1),(a:1,0,0),(a:1,-1,1),(a:1,0,-1),(a:1,1,-1),(a:0,1,-1),(a:-1,0,1),(a:-1,1,-1),(a:0,-1,-1),(a:0,-1,1),(a:0,1,1)),
&quot;1690&quot;,	(a:(a:1,0,1),(a:-1,1,0),(a:-1,0,0),(a:0,0,1),(a:-1,-1,1),(a:0,-1,0),(a:-1,1,1),(a:-1,0,1),(a:1,-1,1),(a:1,-1,-1),(a:0,-1,1),(a:-1,1,-1),(a:1,0,-1),(a:-1,-1,0),(a:1,1,-1),(a:0,0,-1),(a:1,1,1),(a:-1,0,-1),(a:0,1,0),(a:0,-1,-1),(a:-1,-1,-1),(a:1,0,0),(a:1,-1,0),(a:0,1,-1),(a:1,1,0),(a:0,1,1)),
&quot;1700&quot;,	(a:(a:1,-1,1),(a:-1,-1,-1),(a:0,-1,1),(a:0,0,1),(a:0,-1,-1),(a:1,-1,-1),(a:0,1,1),(a:1,1,0),(a:-1,1,-1),(a:1,1,-1),(a:1,0,-1),(a:0,0,-1),(a:-1,1,1),(a:1,-1,0),(a:-1,0,1),(a:-1,-1,1),(a:-1,1,0),(a:1,0,1),(a:1,1,1),(a:-1,0,-1),(a:-1,0,0),(a:0,1,-1),(a:0,-1,0),(a:1,0,0),(a:0,1,0),(a:-1,-1,0)),
&quot;1710&quot;,	(a:(a:-1,0,-1),(a:-1,0,1),(a:0,-1,-1),(a:0,-1,1),(a:1,0,1),(a:1,1,1),(a:-1,-1,-1),(a:1,1,-1),(a:-1,-1,0),(a:-1,1,-1),(a:-1,0,0),(a:0,-1,0),(a:0,0,1),(a:1,-1,1),(a:0,1,1),(a:1,-1,-1),(a:-1,-1,1),(a:-1,1,1),(a:1,0,0),(a:0,0,-1),(a:1,-1,0),(a:0,1,0),(a:0,1,-1),(a:-1,1,0),(a:1,1,0),(a:1,0,-1)),
&quot;1720&quot;,	(a:(a:-1,0,0),(a:1,0,0),(a:-1,-1,1),(a:1,0,1),(a:1,0,-1),(a:0,-1,0),(a:-1,-1,0),(a:0,1,0),(a:-1,-1,-1),(a:-1,0,1),(a:1,1,0),(a:0,-1,-1),(a:-1,1,1),(a:-1,1,-1),(a:1,1,-1),(a:0,1,-1),(a:0,0,1),(a:-1,0,-1),(a:0,1,1),(a:0,-1,1),(a:-1,1,0),(a:1,-1,1),(a:1,-1,0),(a:0,0,-1),(a:1,-1,-1),(a:1,1,1)),
&quot;1730&quot;,	(a:(a:-1,-1,-1),(a:-1,0,1),(a:-1,1,-1),(a:1,1,0),(a:-1,-1,0),(a:0,0,1),(a:0,-1,1),(a:-1,-1,1),(a:0,1,-1),(a:0,-1,-1),(a:1,1,-1),(a:1,0,1),(a:1,-1,-1),(a:1,0,-1),(a:-1,0,0),(a:0,1,1),(a:1,0,0),(a:-1,1,0),(a:0,0,-1),(a:1,1,1),(a:1,-1,1),(a:-1,0,-1),(a:0,-1,0),(a:0,1,0),(a:-1,1,1),(a:1,-1,0)),
&quot;1740&quot;,	(a:(a:-1,0,-1),(a:0,1,-1),(a:0,-1,0),(a:-1,1,1),(a:0,1,1),(a:-1,1,-1),(a:1,0,0),(a:0,1,0),(a:1,1,1),(a:-1,0,1),(a:-1,-1,-1),(a:1,-1,-1),(a:-1,-1,0),(a:1,1,-1),(a:1,-1,1),(a:1,-1,0),(a:0,0,1),(a:-1,-1,1),(a:1,1,0),(a:0,-1,1),(a:1,0,-1),(a:-1,1,0),(a:-1,0,0),(a:0,0,-1),(a:1,0,1),(a:0,-1,-1)),
&quot;1750&quot;,	(a:(a:1,1,-1),(a:1,-1,-1),(a:-1,0,0),(a:-1,0,1),(a:1,-1,1),(a:0,1,0),(a:1,0,-1),(a:1,-1,0),(a:0,-1,0),(a:0,-1,1),(a:-1,0,-1),(a:-1,1,0),(a:0,1,1),(a:0,1,-1),(a:-1,-1,-1),(a:0,0,-1),(a:-1,-1,1),(a:1,1,0),(a:-1,1,-1),(a:-1,-1,0),(a:0,0,1),(a:-1,1,1),(a:1,0,1),(a:0,-1,-1),(a:1,0,0),(a:1,1,1)),
&quot;1760&quot;,	(a:(a:-1,-1,-1),(a:-1,1,1),(a:0,1,0),(a:0,0,1),(a:0,-1,1),(a:1,-1,0),(a:-1,1,0),(a:1,-1,-1),(a:1,0,1),(a:1,-1,1),(a:1,1,-1),(a:-1,0,1),(a:-1,-1,0),(a:-1,-1,1),(a:0,0,-1),(a:1,1,0),(a:0,1,1),(a:1,0,-1),(a:-1,0,-1),(a:0,-1,-1),(a:1,0,0),(a:-1,0,0),(a:-1,1,-1),(a:0,-1,0),(a:0,1,-1),(a:1,1,1)),
&quot;1770&quot;,	(a:(a:0,0,-1),(a:1,1,-1),(a:-1,0,1),(a:-1,0,-1),(a:0,-1,1),(a:1,-1,0),(a:0,1,1),(a:-1,0,0),(a:0,1,-1),(a:-1,1,-1),(a:-1,-1,-1),(a:-1,-1,0),(a:0,-1,-1),(a:1,0,1),(a:-1,-1,1),(a:-1,1,1),(a:-1,1,0),(a:1,1,0),(a:1,-1,1),(a:1,0,-1),(a:0,1,0),(a:0,-1,0),(a:1,-1,-1),(a:0,0,1),(a:1,0,0),(a:1,1,1)),
&quot;1780&quot;,	(a:(a:-1,0,0),(a:1,1,1),(a:0,1,0),(a:1,0,1),(a:0,0,1),(a:-1,0,1),(a:0,0,-1),(a:-1,-1,0),(a:0,-1,0),(a:1,0,-1),(a:-1,-1,-1),(a:-1,1,1),(a:-1,1,-1),(a:1,1,-1),(a:0,1,-1),(a:-1,-1,1),(a:1,0,0),(a:0,-1,-1),(a:1,-1,0),(a:-1,1,0),(a:0,1,1),(a:-1,0,-1),(a:1,-1,1),(a:0,-1,1),(a:1,-1,-1),(a:1,1,0)),
&quot;1790&quot;,	(a:(a:1,1,1),(a:-1,0,1),(a:-1,-1,0),(a:-1,1,1),(a:0,1,0),(a:-1,-1,-1),(a:-1,0,0),(a:1,-1,-1),(a:-1,-1,1),(a:0,0,1),(a:1,0,-1),(a:1,1,0),(a:0,0,-1),(a:0,1,-1),(a:0,-1,-1),(a:0,-1,1),(a:1,1,-1),(a:-1,1,0),(a:1,-1,0),(a:1,0,0),(a:1,0,1),(a:-1,1,-1),(a:-1,0,-1),(a:0,1,1),(a:1,-1,1),(a:0,-1,0)),
&quot;1800&quot;,	(a:(a:-1,-1,1),(a:1,-1,-1),(a:1,-1,1),(a:-1,-1,-1),(a:1,0,1),(a:-1,1,1),(a:0,1,1),(a:1,-1,0),(a:-1,0,0),(a:-1,0,-1),(a:1,1,-1),(a:0,0,-1),(a:1,1,1),(a:0,1,0),(a:-1,0,1),(a:0,0,1),(a:-1,1,-1),(a:0,-1,-1),(a:1,0,0),(a:-1,1,0),(a:1,1,0),(a:0,1,-1),(a:0,-1,0),(a:1,0,-1),(a:0,-1,1),(a:-1,-1,0)),
&quot;1810&quot;,	(a:(a:-1,1,0),(a:-1,0,-1),(a:1,0,0),(a:0,1,1),(a:1,-1,-1),(a:-1,0,1),(a:-1,1,1),(a:-1,1,-1),(a:1,0,1),(a:-1,-1,-1),(a:1,-1,0),(a:-1,-1,1),(a:0,0,-1),(a:1,1,-1),(a:1,1,0),(a:0,1,-1),(a:0,-1,1),(a:0,-1,-1),(a:-1,0,0),(a:0,-1,0),(a:0,0,1),(a:1,1,1),(a:0,1,0),(a:1,-1,1),(a:-1,-1,0),(a:1,0,-1)),
&quot;1820&quot;,	(a:(a:1,-1,0),(a:-1,-1,-1),(a:1,0,1),(a:0,-1,-1),(a:-1,-1,0),(a:-1,1,1),(a:-1,1,-1),(a:1,-1,1),(a:-1,0,0),(a:1,0,-1),(a:-1,-1,1),(a:-1,0,-1),(a:0,1,1),(a:1,1,0),(a:-1,0,1),(a:-1,1,0),(a:0,0,1),(a:1,-1,-1),(a:1,1,-1),(a:0,0,-1),(a:0,1,0),(a:0,-1,1),(a:0,1,-1),(a:0,-1,0),(a:1,0,0),(a:1,1,1)),
&quot;1830&quot;,	(a:(a:1,-1,0),(a:-1,-1,-1),(a:1,-1,-1),(a:-1,1,1),(a:0,0,1),(a:1,1,1),(a:-1,-1,1),(a:-1,1,0),(a:1,-1,1),(a:-1,0,1),(a:0,0,-1),(a:-1,-1,0),(a:0,-1,-1),(a:0,-1,0),(a:-1,0,-1),(a:0,1,-1),(a:1,1,-1),(a:1,0,1),(a:-1,0,0),(a:-1,1,-1),(a:1,1,0),(a:0,1,0),(a:1,0,0),(a:1,0,-1),(a:0,-1,1),(a:0,1,1)),
&quot;1840&quot;,	(a:(a:0,-1,-1),(a:1,-1,1),(a:-1,-1,-1),(a:0,1,1),(a:1,0,-1),(a:1,-1,0),(a:0,1,0),(a:-1,1,1),(a:1,-1,-1),(a:-1,1,0),(a:1,0,0),(a:0,-1,0),(a:0,-1,1),(a:-1,0,-1),(a:1,1,1),(a:0,1,-1),(a:-1,1,-1),(a:-1,-1,0),(a:-1,0,1),(a:-1,0,0),(a:0,0,1),(a:-1,-1,1),(a:0,0,-1),(a:1,1,-1),(a:1,0,1),(a:1,1,0)),
&quot;1850&quot;,	(a:(a:1,1,1),(a:1,1,0),(a:-1,-1,0),(a:-1,1,-1),(a:-1,0,1),(a:0,-1,0),(a:1,-1,1),(a:0,1,1),(a:0,-1,1),(a:1,1,-1),(a:-1,1,1),(a:-1,1,0),(a:1,-1,-1),(a:-1,-1,1),(a:0,1,-1),(a:0,0,1),(a:0,1,0),(a:1,-1,0),(a:-1,-1,-1),(a:-1,0,0),(a:1,0,0),(a:-1,0,-1),(a:1,0,-1),(a:0,0,-1),(a:0,-1,-1),(a:1,0,1)),
&quot;1860&quot;,	(a:(a:0,0,1),(a:-1,0,-1),(a:1,1,1),(a:1,-1,-1),(a:1,0,1),(a:0,1,0),(a:0,0,-1),(a:1,-1,1),(a:0,1,1),(a:0,-1,1),(a:-1,-1,1),(a:-1,-1,-1),(a:-1,-1,0),(a:1,1,0),(a:-1,1,1),(a:0,1,-1),(a:0,-1,-1),(a:-1,0,0),(a:1,1,-1),(a:0,-1,0),(a:1,-1,0),(a:1,0,0),(a:-1,1,-1),(a:1,0,-1),(a:-1,0,1),(a:-1,1,0)),
&quot;1870&quot;,	(a:(a:-1,0,0),(a:-1,0,-1),(a:1,-1,0),(a:1,1,1),(a:-1,-1,-1),(a:-1,1,1),(a:1,1,0),(a:0,0,1),(a:1,0,1),(a:1,-1,1),(a:-1,1,-1),(a:-1,0,1),(a:0,1,0),(a:0,1,-1),(a:0,0,-1),(a:1,-1,-1),(a:0,1,1),(a:-1,-1,0),(a:-1,-1,1),(a:0,-1,-1),(a:0,-1,0),(a:1,0,0),(a:-1,1,0),(a:1,1,-1),(a:0,-1,1),(a:1,0,-1)),
&quot;1880&quot;,	(a:(a:-1,0,-1),(a:-1,1,1),(a:1,1,1),(a:-1,0,1),(a:1,-1,1),(a:-1,-1,1),(a:-1,1,0),(a:0,1,0),(a:0,-1,1),(a:-1,-1,0),(a:0,1,-1),(a:0,1,1),(a:1,-1,0),(a:1,-1,-1),(a:1,1,0),(a:0,-1,-1),(a:-1,0,0),(a:1,0,1),(a:0,0,-1),(a:0,0,1),(a:-1,1,-1),(a:-1,-1,-1),(a:1,1,-1),(a:0,-1,0),(a:1,0,-1),(a:1,0,0)),
&quot;1890&quot;,	(a:(a:-1,0,-1),(a:-1,0,0),(a:1,-1,1),(a:0,1,1),(a:0,0,1),(a:1,1,0),(a:0,-1,-1),(a:-1,-1,-1),(a:1,0,-1),(a:-1,-1,1),(a:-1,1,1),(a:0,-1,0),(a:-1,-1,0),(a:0,0,-1),(a:1,1,-1),(a:0,1,-1),(a:-1,0,1),(a:0,-1,1),(a:-1,1,-1),(a:1,-1,-1),(a:1,1,1),(a:0,1,0),(a:1,-1,0),(a:-1,1,0),(a:1,0,0),(a:1,0,1)),
&quot;1900&quot;,	(a:(a:-1,1,-1),(a:1,0,1),(a:-1,-1,-1),(a:1,-1,0),(a:0,1,1),(a:-1,1,0),(a:1,1,-1),(a:1,-1,-1),(a:0,-1,1),(a:0,-1,-1),(a:0,-1,0),(a:-1,0,1),(a:1,0,-1),(a:-1,0,0),(a:1,1,0),(a:1,-1,1),(a:1,0,0),(a:-1,0,-1),(a:0,1,0),(a:0,1,-1),(a:-1,1,1),(a:0,0,1),(a:-1,-1,0),(a:1,1,1),(a:-1,-1,1),(a:0,0,-1)),
&quot;1910&quot;,	(a:(a:1,0,-1),(a:-1,-1,1),(a:-1,0,-1),(a:-1,-1,-1),(a:-1,-1,0),(a:1,1,0),(a:1,0,1),(a:-1,0,1),(a:1,-1,0),(a:0,1,1),(a:0,1,-1),(a:0,-1,0),(a:0,1,0),(a:0,-1,-1),(a:0,-1,1),(a:-1,0,0),(a:-1,1,-1),(a:1,-1,-1),(a:-1,1,0),(a:1,1,-1),(a:1,-1,1),(a:-1,1,1),(a:1,1,1),(a:1,0,0),(a:0,0,-1),(a:0,0,1)),
&quot;1920&quot;,	(a:(a:0,-1,0),(a:1,0,-1),(a:1,0,1),(a:-1,1,1),(a:-1,1,-1),(a:1,1,1),(a:0,1,-1),(a:0,-1,-1),(a:0,1,1),(a:-1,-1,-1),(a:-1,-1,0),(a:1,1,-1),(a:1,0,0),(a:1,-1,0),(a:0,-1,1),(a:0,0,1),(a:1,1,0),(a:-1,-1,1),(a:0,1,0),(a:-1,0,0),(a:0,0,-1),(a:-1,0,-1),(a:-1,0,1),(a:-1,1,0),(a:1,-1,-1),(a:1,-1,1)),
&quot;1930&quot;,	(a:(a:0,1,1),(a:0,1,0),(a:-1,-1,1),(a:0,-1,-1),(a:1,0,0),(a:-1,1,0),(a:0,0,-1),(a:1,1,1),(a:-1,1,1),(a:1,-1,-1),(a:-1,0,1),(a:-1,-1,0),(a:0,1,-1),(a:-1,-1,-1),(a:-1,0,-1),(a:1,1,0),(a:-1,0,0),(a:-1,1,-1),(a:1,-1,0),(a:1,-1,1),(a:1,0,-1),(a:0,-1,0),(a:0,0,1),(a:0,-1,1),(a:1,1,-1),(a:1,0,1)),
&quot;1940&quot;,	(a:(a:1,-1,0),(a:-1,-1,0),(a:1,1,0),(a:0,1,1),(a:-1,1,-1),(a:-1,0,0),(a:-1,1,1),(a:-1,1,0),(a:-1,-1,-1),(a:0,0,-1),(a:-1,0,-1),(a:1,0,-1),(a:0,-1,1),(a:1,1,-1),(a:-1,-1,1),(a:1,0,1),(a:1,0,0),(a:-1,0,1),(a:0,-1,0),(a:0,1,-1),(a:1,-1,1),(a:1,1,1),(a:0,0,1),(a:1,-1,-1),(a:0,-1,-1),(a:0,1,0)),
&quot;1950&quot;,	(a:(a:1,-1,-1),(a:-1,1,0),(a:0,1,1),(a:-1,-1,1),(a:1,0,-1),(a:0,0,-1),(a:-1,1,-1),(a:0,1,-1),(a:0,-1,1),(a:-1,1,1),(a:0,-1,0),(a:1,1,-1),(a:0,-1,-1),(a:0,1,0),(a:-1,-1,0),(a:-1,-1,-1),(a:0,0,1),(a:1,-1,0),(a:1,0,1),(a:1,0,0),(a:1,1,1),(a:1,-1,1),(a:-1,0,-1),(a:1,1,0),(a:-1,0,0),(a:-1,0,1)),
&quot;1960&quot;,	(a:(a:-1,-1,-1),(a:-1,-1,0),(a:0,-1,-1),(a:-1,0,1),(a:0,1,-1),(a:0,1,1),(a:-1,1,-1),(a:1,0,-1),(a:1,1,0),(a:1,0,1),(a:0,0,1),(a:0,0,-1),(a:-1,0,0),(a:1,-1,0),(a:0,1,0),(a:-1,0,-1),(a:-1,1,0),(a:1,-1,-1),(a:0,-1,0),(a:0,-1,1),(a:1,0,0),(a:-1,-1,1),(a:1,1,-1),(a:-1,1,1),(a:1,-1,1),(a:1,1,1)),
&quot;1970&quot;,	(a:(a:1,-1,1),(a:1,0,1),(a:1,-1,0),(a:0,-1,0),(a:1,-1,-1),(a:0,-1,1),(a:-1,-1,1),(a:-1,1,0),(a:-1,-1,0),(a:0,0,-1),(a:-1,0,1),(a:1,1,0),(a:1,0,0),(a:1,0,-1),(a:0,1,-1),(a:-1,0,-1),(a:1,1,1),(a:0,1,0),(a:0,0,1),(a:-1,-1,-1),(a:0,-1,-1),(a:0,1,1),(a:-1,1,-1),(a:1,1,-1),(a:-1,1,1),(a:-1,0,0)),
&quot;1980&quot;,	(a:(a:0,0,-1),(a:0,1,1),(a:1,0,-1),(a:-1,0,0),(a:1,1,-1),(a:0,-1,0),(a:1,-1,1),(a:-1,-1,-1),(a:-1,-1,0),(a:0,-1,1),(a:1,1,0),(a:-1,1,1),(a:0,-1,-1),(a:1,0,0),(a:-1,1,-1),(a:0,1,-1),(a:1,-1,0),(a:-1,-1,1),(a:-1,0,1),(a:-1,1,0),(a:1,1,1),(a:1,0,1),(a:0,0,1),(a:0,1,0),(a:-1,0,-1),(a:1,-1,-1)),
&quot;1990&quot;,	(a:(a:1,0,0),(a:1,0,1),(a:-1,0,1),(a:1,-1,-1),(a:0,1,-1),(a:-1,-1,0),(a:1,-1,1),(a:0,-1,-1),(a:-1,1,1),(a:1,1,0),(a:-1,0,-1),(a:-1,-1,1),(a:-1,1,0),(a:0,-1,1),(a:-1,0,0),(a:0,0,1),(a:1,1,-1),(a:-1,-1,-1),(a:-1,1,-1),(a:0,-1,0),(a:1,1,1),(a:0,0,-1),(a:0,1,0),(a:0,1,1),(a:1,0,-1),(a:1,-1,0)),
&quot;2000&quot;,	(a:(a:-1,-1,-1),(a:-1,1,1),(a:0,0,1),(a:-1,0,1),(a:1,0,0),(a:1,0,1),(a:1,-1,1),(a:0,1,-1),(a:0,1,1),(a:0,-1,-1),(a:1,-1,0),(a:0,0,-1),(a:-1,0,0),(a:-1,1,-1),(a:0,1,0),(a:0,-1,1),(a:-1,-1,1),(a:1,1,0),(a:1,1,1),(a:-1,1,0),(a:1,0,-1),(a:-1,-1,0),(a:0,-1,0),(a:-1,0,-1),(a:1,-1,-1),(a:1,1,-1)),
&quot;2010&quot;,	(a:(a:1,-1,-1),(a:-1,1,1),(a:1,1,1),(a:-1,0,-1),(a:-1,-1,-1),(a:0,1,1),(a:-1,1,-1),(a:-1,0,1),(a:1,1,-1),(a:0,-1,0),(a:0,-1,1),(a:-1,-1,0),(a:0,-1,-1),(a:1,-1,0),(a:0,1,0),(a:1,1,0),(a:1,0,1),(a:-1,-1,1),(a:1,-1,1),(a:1,0,0),(a:0,0,-1),(a:0,1,-1),(a:-1,0,0),(a:-1,1,0),(a:0,0,1),(a:1,0,-1)),
&quot;2020&quot;,	(a:(a:1,1,0),(a:1,0,-1),(a:0,1,-1),(a:1,1,-1),(a:-1,-1,0),(a:0,0,-1),(a:1,1,1),(a:0,0,1),(a:0,1,1),(a:-1,1,1),(a:1,-1,0),(a:0,-1,-1),(a:1,-1,-1),(a:1,0,1),(a:-1,0,-1),(a:-1,-1,1),(a:-1,0,0),(a:-1,1,-1),(a:1,0,0),(a:-1,1,0),(a:1,-1,1),(a:-1,-1,-1),(a:-1,0,1),(a:0,-1,1),(a:0,-1,0),(a:0,1,0)),
&quot;2030&quot;,	(a:(a:0,1,1),(a:1,-1,-1),(a:0,1,-1),(a:-1,-1,1),(a:0,-1,-1),(a:1,1,0),(a:-1,-1,-1),(a:1,1,1),(a:0,0,-1),(a:-1,1,0),(a:-1,1,1),(a:0,1,0),(a:-1,0,0),(a:0,0,1),(a:1,0,0),(a:1,0,1),(a:1,-1,1),(a:-1,0,1),(a:0,-1,1),(a:-1,-1,0),(a:-1,0,-1),(a:1,0,-1),(a:1,-1,0),(a:-1,1,-1),(a:1,1,-1),(a:0,-1,0)),
&quot;2040&quot;,	(a:(a:0,1,-1),(a:1,0,1),(a:0,1,0),(a:-1,1,0),(a:-1,-1,-1),(a:1,-1,1),(a:-1,0,1),(a:1,-1,-1),(a:1,1,0),(a:1,0,-1),(a:-1,-1,1),(a:0,1,1),(a:1,1,1),(a:0,0,1),(a:0,0,-1),(a:0,-1,0),(a:-1,-1,0),(a:-1,0,0),(a:-1,1,1),(a:1,0,0),(a:-1,0,-1),(a:-1,1,-1),(a:0,-1,-1),(a:1,1,-1),(a:0,-1,1),(a:1,-1,0)),
&quot;2050&quot;,	(a:(a:-1,-1,-1),(a:-1,0,0),(a:0,-1,-1),(a:-1,0,1),(a:1,-1,0),(a:0,1,0),(a:0,0,-1),(a:1,0,1),(a:-1,-1,0),(a:0,1,-1),(a:1,-1,-1),(a:-1,-1,1),(a:0,1,1),(a:-1,0,-1),(a:1,1,1),(a:0,0,1),(a:0,-1,0),(a:1,-1,1),(a:-1,1,1),(a:-1,1,-1),(a:1,1,0),(a:0,-1,1),(a:1,1,-1),(a:-1,1,0),(a:1,0,-1),(a:1,0,0)),
&quot;2060&quot;,	(a:(a:0,0,1),(a:1,0,0),(a:0,1,0),(a:0,1,-1),(a:0,-1,-1),(a:0,-1,0),(a:-1,-1,0),(a:-1,-1,-1),(a:-1,0,-1),(a:0,-1,1),(a:-1,1,-1),(a:-1,-1,1),(a:0,0,-1),(a:1,-1,0),(a:1,1,-1),(a:-1,1,1),(a:1,1,1),(a:1,0,1),(a:1,0,-1),(a:-1,0,1),(a:-1,1,0),(a:-1,0,0),(a:0,1,1),(a:1,-1,1),(a:1,1,0),(a:1,-1,-1)),
&quot;2070&quot;,	(a:(a:1,0,1),(a:0,1,1),(a:1,1,0),(a:1,-1,-1),(a:-1,1,1),(a:-1,0,1),(a:-1,1,-1),(a:-1,0,-1),(a:-1,1,0),(a:0,-1,1),(a:0,1,0),(a:-1,0,0),(a:-1,-1,-1),(a:0,0,1),(a:1,1,-1),(a:1,-1,1),(a:0,-1,0),(a:-1,-1,0),(a:-1,-1,1),(a:1,0,0),(a:0,1,-1),(a:0,-1,-1),(a:0,0,-1),(a:1,-1,0),(a:1,1,1),(a:1,0,-1)),
&quot;2080&quot;,	(a:(a:0,0,1),(a:0,-1,1),(a:-1,-1,-1),(a:1,0,1),(a:0,0,-1),(a:1,1,1),(a:0,1,1),(a:0,1,-1),(a:1,1,-1),(a:0,1,0),(a:-1,-1,1),(a:1,-1,1),(a:-1,0,-1),(a:-1,0,1),(a:-1,1,-1),(a:-1,-1,0),(a:1,0,0),(a:0,-1,0),(a:0,-1,-1),(a:1,0,-1),(a:-1,1,1),(a:1,-1,0),(a:-1,0,0),(a:1,1,0),(a:1,-1,-1),(a:-1,1,0)),
&quot;2090&quot;,	(a:(a:0,0,1),(a:1,-1,1),(a:-1,0,0),(a:1,0,1),(a:1,1,1),(a:-1,0,-1),(a:-1,0,1),(a:1,1,-1),(a:1,-1,-1),(a:0,0,-1),(a:1,1,0),(a:-1,-1,0),(a:-1,-1,-1),(a:0,-1,-1),(a:0,-1,0),(a:-1,1,1),(a:0,1,0),(a:-1,1,0),(a:-1,1,-1),(a:0,1,1),(a:1,0,-1),(a:0,1,-1),(a:0,-1,1),(a:-1,-1,1),(a:1,-1,0),(a:1,0,0))
))
}</tw-passagedata><tw-passagedata pid="97" name="place schemas" tags="startup" position="1276,1585" size="100,100">&lt;!--
0 Place to grow. 
1 Place to have fun. Ampitheatre. Opium den. 
2 Place to learn, like a school, library, university or observatory. 
3 Place of love. A dance hall, boudoir, brothel, etc. 
4 Place to live. 
5 Place of conflict. 
6 Place of confinement, like a jail or labor camp. 
7 Place of spirituality, peace &amp; contemplation. Garden, temple, shrine or church. 
8 Place to be sick. 
9 Place of the dead. --&gt; 

(set: $decadeRef to  
(macro: [
	(set: $decadeReference to 1 + $floorInt * 100 + $decadeNum * 10)
	(output-data: &quot;&quot;)
	]
	))

(set: $locusWord to 
(macro: [
	(set: 
	(if: $thisRoomNumber &gt; 9)[(output-data: &quot;passage&quot;)]
	(else:)[(output-data: &quot;room&quot;)]
	]
	))

(set: $fixComplexVocab to 
(macro: [
	(if: $floorString is &quot;0&quot;)[(output-data:$catacombComplexes)]
	(if: $floorString is &quot;1&quot;)[(output-data:$romanComplexes)]
	(if: $floorString is &quot;2&quot;)[(output-data: $unknown)] 
		]
		))
		
		
&lt;!--the main sentence says &quot;you are on a __A___ somewhere ___B___&quot;. This provides the language for A.--&gt; 

(set: $setLocusPhrase to 
(macro: [
	(if: $thisRoomsNumber &gt; 9)[
		(set: $pathNoun to 2nd of (str: $decadeReference) of $passageTerms)
		(set: $pathAdj to 1st of (str: $decadeReference) of $passageTerms)]
	(else:) [
		(set: $pathNoun to 2nd of (str: $decadeReference) of $roomTerms)
		(set: $pathAdj to 1st of (str: $decadeReference) of $roomTerms)
		]
	(set: $pathPrep to $pathNoun of $lociPreps)
	(set: $pathArticle to (cond: 
		($firstLetterIsVowel:), &quot;an&quot;,
		&quot;a&quot;))
	(output-data: $pathArticle + $pathAdj + $pathNoun)
	]))

(set: $firstLetterIsVowel to 
(macro: string-type _word, [
	(set: _firstLetter to _word&#39;s 1st)
	(set: _firstLetterIsVowel to (cond: 
		_firstLetter is &quot;a&quot;, true,
		_firstLetter is &quot;e&quot;, true,
		_firstLetter is &quot;i&quot;, true,
		_firstLetter is &quot;o&quot;, true,
		_firstLetter is &quot;u&quot;, true,
		false))
	(output-data: _firstLetterIsVowel)
	]
	))
	
(set: $lociPreps to (dm: 
	&quot;path&quot;, &quot;on&quot;,
	&quot;passage&quot;, &quot;in&quot;,
	&quot;passageway&quot;, &quot;in&quot;,
	&quot;tunnel&quot;, &quot;in&quot;,
	&quot;corridor&quot;, &quot;on&quot;,
	&quot;pathway&quot;, &quot;on&quot;,
	&quot;street&quot;, &quot;on&quot;,
	&quot;alley&quot;, &quot;in&quot;,
	&quot;canal&quot;, &quot;on&quot;,
	&quot;bayou&quot;, &quot;on&quot;, 
	&quot;room&quot;, &quot;in&quot;,
	&quot;square&quot;, &quot;in&quot;,
	&quot;plaza&quot;, &quot;in&quot;,
	&quot;hall&quot;, &quot;in&quot;,
	&quot;battlement&quot;, &quot;on&quot;,
	&quot;aisle&quot;, &quot;on&quot;,
	&quot;plot&quot;, &quot;on&quot;, 
	&quot;chamber&quot;, &quot;in&quot;, 
	&quot;vault&quot;, &quot;in&quot;
	&quot;abode&quot;, &quot;in&quot;, 
	&quot;depot&quot;, &quot;in&quot;, 
	&quot;cell&quot;, &quot;in&quot;,
	&quot;sanctum&quot;, &quot;in&quot;, 
	&quot;ossuary&quot;, &quot;in&quot;
	))
	
	
(set: $passageTerms to (dm: 
	&quot;1&quot;, (a: &quot;earthy&quot;, &quot;path&quot;),
	&quot;11&quot;, (a: &quot;baking hot&quot;, &quot;corridor&quot;),
	&quot;21&quot;, (a: &quot;dim&quot;, &quot;passage&quot;),
	&quot;31&quot;, (a: &quot;cool&quot;, &quot;tunnel&quot;),
	&quot;41&quot;, (a: &quot;sandy&quot;, &quot;tunnel&quot;),
	&quot;51&quot;, (a: &quot;stone&quot;, &quot;corridor&quot;),
	&quot;61&quot;, (a: &quot;forbidding&quot;, &quot;corridor&quot;),
	&quot;71&quot;, (a: &quot;quiet&quot;, &quot;aisle&quot;),
	&quot;81&quot;, (a: &quot;neglected&quot;, &quot;tunnel&quot;),
	&quot;91&quot;, (a: &quot;cool&quot;, &quot;corridor&quot;)
	)
	)
	
(set: $roomTerms to (dm: 
	&quot;1&quot;, (a: &quot;fecund&quot;, &quot;plot&quot;),
	&quot;11&quot;, (a: &quot;busy&quot;, &quot;chamber&quot;),
	&quot;21&quot;, (a: &quot;quiet&quot;, &quot;room&quot;),
	&quot;31&quot;, (a: &quot;barrel filled&quot;, &quot;vault&quot;),
	&quot;41&quot;, (a: &quot;sparsely furnished&quot;, &quot;abode&quot;),
	&quot;51&quot;, (a: &quot;well stocked&quot;, &quot;depot&quot;),
	&quot;61&quot;, (a: &quot;uncomfortable&quot;, &quot;cell&quot;),
	&quot;71&quot;, (a: &quot;tranquil&quot;, &quot;sanctum&quot;),
	&quot;81&quot;, (a: &quot;scruffy&quot;, &quot;abode&quot;),
	&quot;91&quot;, (a: &quot;ancient&quot;, &quot;ossuary&quot;)
	)
	)
	

&lt;!--the main sentence says &quot;you are on a __A___ somewhere ___B___&quot;. This provides the language for B. --&gt; 

(set: $generalLanguage to (dm: 
	&quot;1&quot;, (a: &quot;in an&quot;, &quot;&quot;, &quot;underground mushroom garden&quot;,&quot;&quot;),
	&quot;11&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Hypogeum&quot;, &quot;beneath the colosseum&quot;), 
	&quot;21&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;underground spy complex of the Frumentarii&quot;, &quot;beneath the Roman senate&quot;),
	&quot;31&quot;, (a: &quot;in a&quot;, &quot;subterranean&quot;, &quot;brewery&quot;, &quot;beneath the city&quot;),
	&quot;41&quot;, (a: &quot;in the&quot;, &quot;hidden&quot;, &quot;underground hideouts&quot;, &quot;of the persecuted Christians&quot;),
	&quot;51&quot;, (a: &quot;in a&quot;, &quot;hidden&quot;, &quot;armory&quot;, &quot;beneath the city&quot;),
	&quot;61&quot;, (a: &quot;in an&quot;, &quot;&quot;, &quot;underground dungeon&quot;, &quot;where the convicted await execution&quot;),
	&quot;71&quot;, (a: &quot;in an&quot;, &quot;&quot;, &quot;underground chapel&quot;,&quot;where Christians worship their forbidden god&quot;),
	&quot;81&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;leper colony&quot;, &quot;in an abandoned part of the underground city&quot;),
	&quot;91&quot;, (a: &quot;in a&quot;, &quot;cobwebbed&quot;, &quot;crypt&quot;, &quot;&quot;),
	&quot;101&quot;, (a: &quot;in the&quot;, &quot;tranquil&quot;, &quot;garden of Lucullus&quot;,&quot;&quot;),
	&quot;111&quot;, (a: &quot;in the&quot;, &quot;dusty&quot;, &quot;gladitorial arenas&quot;, &quot;&quot;), 
	&quot;121&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;ludus&quot;, &quot;at which gladiators are trained&quot;),
	&quot;131&quot;, (a: &quot;in a&quot;, &quot;seedy&quot;, &quot;brothel&quot;, &quot;&quot;),
	&quot;141&quot;, (a: &quot;in the&quot;, &quot;opulent&quot;, &quot;house of Augustus and Livia&quot;, &quot;&quot;),
	&quot;151&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;Roman barracks&quot;, &quot;&quot;),
	&quot;161&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;slave market&quot;, &quot;where slaves are tethered like animals&quot;),
	&quot;171&quot;, (a: &quot;in the&quot;, &quot;sacred&quot;, &quot;temple of Juno&quot;, &quot;&quot;),
	&quot;181&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;surgery of Galen&quot;, &quot;&quot;),
	&quot;191&quot;, (a: &quot;in the&quot;, &quot;shadowy&quot;, &quot;necropolis&quot;, &quot;outside the walls of Rome&quot;),
	&quot;201&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Garden of General Liang Ji&quot;, &quot;&quot;),
	&quot;211&quot;, (a: &quot;among the&quot;, &quot;exciting&quot;, &quot;carnival of a hundred shows&quot;,&quot;amidst music, dance and demonstrations of cuju, wrestling and acrobatic prowess&quot;), 
	&quot;221&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Imperial Academy&quot;, &quot;among the disputes of the scholars of Confucius&quot;), 
	&quot;231&quot;, (a: &quot;in a&quot;, &quot;floating&quot;, &quot;brothel&quot;, &quot;on the Huangpu River, where the Shuyu attend to the needs of the city&#39;s elite&quot;),
	&quot;241&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;Siheyuan&quot;, &quot;courtyard-house&quot;),
	&quot;251&quot;, (a: &quot;in a&quot;, &quot;&quot;, &quot;gate house&quot;, &quot;guarded by the section of the imperial guard known as the  huben&quot;),
	&quot;261&quot;, (a: &quot;among the&quot;, &quot;&quot;, &quot;huts of the ten eunuchs&quot;, &quot;&quot;),
	&quot;271&quot;, (a: &quot;in the&quot;, &quot;sacred&quot;, &quot;White Horse buddhist temple&quot;, &quot;&quot;),
	&quot;281&quot;, (a: &quot;in the&quot;, &quot;abandoned&quot;, &quot;surgery of Hua Tuo&quot;, &quot;&quot;),
	&quot;291&quot;, (a: &quot;in the&quot;, &quot;&quot;, &quot;Dabaozi Cemetery&quot;, &quot;&quot;)
	))
	
</tw-passagedata><tw-passagedata pid="98" name="decade backgrounds" tags="startup" position="1404,1578" size="100,100">(set: $0backgrounds to (dm: 
	&quot;0&quot;, &quot;https://i.pinimg.com/originals/2b/90/0d/2b900d39f46ae0b09d8909624252e003.jpg&quot;))</tw-passagedata></tw-storydata>

<tw-storydata name="russian verb conjugations" startnode="1" creator="Twine" creator-version="2.3.12" ifid="189A9374-CE7C-4FF7-ACD2-888F9A8EA1FA" zoom="0.6" format="Harlowe" format-version="3.2.1" options="" hidden><style role="stylesheet" id="twine-user-stylesheet" type="text/twine-css"></style><script role="script" id="twine-user-script" type="text/twine-javascript"></script><tw-passagedata pid="1" name="" tags="" position="1331,980" size="100,100">

You are on the ground floor of the two towers, in an entrance hall. There is a big mirror here in the hall, in which you can see &#39;&#39;you&#39;&#39;. 

If you wander over to the base of the tower of , there are [[steps leading up to a raised platform-&gt;]] where cloaks are hung. There is also a ladder leading up to the [[to the kitchen chamber-&gt;2]] above. 

If, instead, you wander over to the tower of , [[there is another raised platform-&gt;]], but it leads to an area for people to smoke their pipes.  

There is also a ladder down into the basement of the tower of [[.-&gt;]].  

</tw-passagedata><tw-passagedata pid="2" name="" tags="" position="1323,615" size="100,100">
You are on the third floor of the tower of , in a split level bedroom chamber with steps leading up to a dais upon which is a four poster bed. 

Julius Caesar sits on the step. &quot;&#39;&#39;Et&#39;&#39; tu Brutus?&quot; he asks. 

You may use the steps to climb up [[to the bedroom area-&gt;]], or take the [[ladder-&gt;2]] down to the level below. 
</tw-passagedata><tw-passagedata pid="3" name="" tags="" position="1473,921" size="100,100">
You are on the ground floor of the tower of  in a split level entrance hall, standing on a dais where people have hung their cloaks. 

There are //many// people here hanging up their cloaks, including Judy Dench who plays &#39;&#39;M&#39;&#39;. 

Down a few steps from the dais is the [[lower area-&gt;]] where a door opens to the world. There is also a [[ladder here that goes up-&gt;3]] to a kitchen area on the next floor. </tw-passagedata><tw-passagedata pid="4" name="" tags="" position="1464,524" size="100,100">
You are on the third floor of the tower of , in a split level bedroom chamber on a raised dais upon which is a four poster bed. 

The walls here are wooden and rounded, like a &#39;&#39;yurt&#39;&#39;. The wind rattles the boards against one another and you decide not to stay up here for long. 

You may [[step down off the dais-&gt;]], or take the [[ladder-&gt;3]] down to the level below. 
</tw-passagedata><tw-passagedata pid="5" name="" tags="" position="1326,805" size="100,100">  
You are on the second floor of the tower of , in a split level kitchen chamber with steps leading up to the pantry area and a ladder leading up to the floor above. 

A yeti dressed in an apron stirs a boiling pot of broth. The Yeti turns to you and smiles &#39;&#39;politely&#39;&#39;, though you can see he is much &#39;&#39;yetier&#39;&#39; than the average yeti. 

Though there are steps to climb up [[to the pantry-&gt;3]], you think it is not really worth going up there. Instead, you could take the [[ladder-&gt;]] up to the next level. You can also exit through a door to what appears to be [[the bathroom area-&gt;]], or go down the ladder to the [[tower&#39;s entrance hall-&gt;]]. </tw-passagedata><tw-passagedata pid="6" name="3" tags="" position="1471,673" size="100,100">
You are on the second floor of the tower of  in a pantry. Down a few steps from the pantry is the [[kitchen area-&gt;2]], where you can see a yeti in an apron stirring the broth. The yeti is &#39;&#39;yetier&#39;&#39; than the average yeti. 

There is also a [[ladder here that goes up-&gt;]] to a bedroom area on the next floor. Or you can go [[down the ladder to the entrance level-&gt;]]. Lastly, a door leads off to a [[bathing area-&gt;2]]</tw-passagedata><tw-passagedata pid="7" name="" tags="" position="1578,810" size="100,100">
You are on the second floor of the tower of , in a split level toilet chamber. Down here are the latrines, and there are steps leading up to a bathing area. 

Gollum is perched on the only seated toilet. &quot;Will you be long?&quot; you ask. &quot;&#39;&#39;Yesh&#39;&#39;,&quot; Gollum replies. &quot;Are you taking a poo?&quot; you ask. &quot;&#39;&#39;Yesh&#39;&#39;,&quot; he replies again. &quot;Could you please flush afterwards?&quot; you request. &quot;&#39;&#39;Yesh&#39;&#39;,&quot; he agrees. 

You may climb up [[to the bathing area-&gt;2]], or take the [[door-&gt;2]] to the kitchen area. </tw-passagedata><tw-passagedata pid="8" name="2" tags="" position="1741,753" size="100,100">
You are on the second floor of the tower of , on a wooden platform above a split level kitchen, in an area where //many// pots and pans are stored.

Looking down you can see a yeti in an apron, stirring a pot of hot broth. He is &#39;&#39;yetier&#39;&#39; than the average yeti, but you have learned nothing new. 

You may step down [[to the latrines-&gt;]], or climb down to the [[kitchen area-&gt;3]]. </tw-passagedata><tw-passagedata pid="9" name="key" tags="" position="1020,679" size="100,100">(set: $basement to &quot;infinitive&quot;) 
(set: $cellar to &quot;stem&quot;) 
(set: $groundFloor to &quot;first person&quot;) 
(set: $secondFloor to &quot;second person&quot;)
(set: $thirdFloor to &quot;third person&quot;)

(set: $corridor to &quot;continuous&quot;) 

(set: $lower to &quot;singular&quot;) 
(set: $raised to &quot;plural&quot;) 

(set: $secretPassage to &quot;subjunctive&quot;) 
(set: $bell to &quot;imperative&quot;) 

(set: $northWing to &quot;future&quot;) 
(set: $southWing to &quot;past&quot;) 

(set: $luxury to &quot;perfect&quot;) 
(set: $spartan to &quot;imperfect&quot;) 

(set: $east to &quot;perfect&quot;)
(set: $west to &quot;imperfect&quot;) 

(set: $leftChamber to &quot;feminine&quot;) 
(set: $middleChamber to &quot;neutral&quot;) 
(set: $rightChamber to &quot;masculine&quot;) 

(set: $blockedOff to &quot;moot&quot;)

</tw-passagedata><tw-passagedata pid="10" name="" tags="" position="1331,1130" size="100,100">

You are in the basement of the tower of . From here, you can take a [[ladder up to the hallway area-&gt;]], take [[a narrow flight of stone steps down into the cellar-&gt;-]], or step through a door to explore the  complex.  </tw-passagedata><tw-passagedata pid="11" name="-" tags="" position="1191,1252" size="100,100">

You are in the cellar of the tower, in a room hewn from bare rock. There is a dusty etch-a-sketch here, abandoned atop the wine racks and covered in cobwebs so thick they form a gossamer blanket over it. A ladder goes up from here to the [[basement-&gt;]]. 

There are five other rooms in the rocky cellar complex, and you may access any of them via doors from here. They are [[room 2-&gt;-]], [[room 3-&gt;-]], [[room 4-&gt;-]], [[room 5-&gt;-]] and [[room 6-&gt;]]. 

Exceptions: , , , , , , </tw-passagedata><tw-passagedata pid="12" name="-" tags="" position="891,1402" size="100,100">-

You are in the cellar of the tower of , in a room hewn from bare rock. An miniature toy &#39;&#39;AT&#39;&#39;-AT is here. 

There are five other rooms in the rocky cellar complex, and you may access any of them via doors from here. They are [[room 1-&gt;-]], [[room 3-&gt;-]], [[room 4-&gt;-]], [[room 5-&gt;-]] and [[room 6-&gt;]]. 

Exceptions: , , , </tw-passagedata><tw-passagedata pid="13" name="-" tags="" position="1041,1402" size="100,100">

You are in the cellar of the tower, in a room hewn from bare rock. A upside down hull from an old &#39;&#39;yacht&#39;&#39; is here, its ventral fin poking up into the air. There is &#39;&#39;no tea&#39;&#39;, however. 

There are five other rooms in the rocky cellar complex, and you may access any of them via doors from here. They are [[room 1-&gt;-]], [[room 2-&gt;-]], [[room 4-&gt;-]], [[room 5-&gt;-]] and [[room 6-&gt;]]. </tw-passagedata><tw-passagedata pid="14" name="-" tags="" position="1191,1402" size="100,100">

You are in the cellar of the tower, in a room hewn from bare rock. There ar packets and packets of &#39;&#39;ot dogs&#39;&#39; here. 

There are five other rooms in the rocky cellar complex, and you may access any of them via doors from here. They are [[room 1-&gt;-]], [[room 2-&gt;-]], [[room 3-&gt;-]], [[room 5-&gt;-]] and [[room 6-&gt;]]. </tw-passagedata><tw-passagedata pid="15" name="-" tags="" position="1341,1402" size="100,100">

You are in the cellar of the tower, in a room hewn from bare rock. A Scotsman tells you to &quot;get &#39;&#39;oot&#39;&#39;&quot;. 

There are five other rooms in the rocky cellar complex, and you may access any of them via doors from here. They are [[room 1-&gt;-]], [[room 2-&gt;-]], [[room 3-&gt;-]], [[room 4-&gt;-]] and [[room 6-&gt;]]. </tw-passagedata><tw-passagedata pid="16" name="" tags="" position="1491,1402" size="100,100">

You are in the cellar of the tower, in a room hewn from bare rock. Pennywise the clown, aka &quot;&#39;&#39;IT&#39;&#39;&quot;, is here. 

There are five other rooms in the rocky cellar complex, and you may access any of them via doors from here. They are [[room 1-&gt;-]], [[room 2-&gt;-]], [[room 3-&gt;-]], [[room 4-&gt;-]] and [[room 6-&gt;]]. </tw-passagedata><tw-passagedata pid="17" name="" tags="" position="1491,1552" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="18" name="" tags="" position="305,925" size="100,100">Double-click this passage to edit it.</tw-passagedata></tw-storydata>

<tw-storydata name="verb conjugations template" startnode="1" creator="Twine" creator-version="2.3.12" ifid="36FBF3C9-D410-4EA0-A3A0-29CB87ADC50B" zoom="0.6" format="Harlowe" format-version="3.2.1" options="" hidden><style role="stylesheet" id="twine-user-stylesheet" type="text/twine-css"></style><script role="script" id="twine-user-script" type="text/twine-javascript"></script><tw-passagedata pid="1" name="first person singular" tags="" position="1332,920" size="100,100">You are on the ground floor of a tower, in a split level entrance hall. There are steps leading up to a raised platform where cloaks are hung. There is also a ladder leading up to the kitchen chamber above. You may climb up [[to the kitchen chamber-&gt;second person singular polite]], or take the [[steps up on to the dais-&gt;first person plural]] where the cloaks are hanging. </tw-passagedata><tw-passagedata pid="2" name="third person singular" tags="" position="1332,580" size="100,100">You are on the third floor of a tower, in a split level bedroom chamber with steps leading up to a dais upon which is a four poster bed. You may use the steps to climb up [[to the pantry-&gt;third person plural]], or take the [[ladder-&gt;second person singular polite]] down to the level below. 
</tw-passagedata><tw-passagedata pid="3" name="first person plural" tags="" position="1470,875" size="100,100">You are on the ground floor of a tower in a split level entrance hall, standing on a dais where people have hung their cloaks. Down a few steps from the dais is the [[lower area-&gt;first person singular]] where a door opens to the world. There is also a [[ladder here that goes up-&gt;second person plural polite]] to a kitchen area on the next floor. </tw-passagedata><tw-passagedata pid="4" name="third person plural" tags="" position="1463,544" size="100,100">You are at the South East end of the complex, where the South represents the plural and the East represents the third person. From here, you can go North to the [[third person singular]], or West to the [[second person plural polite]]. </tw-passagedata><tw-passagedata pid="5" name="second person singular polite" tags="" position="1328,745" size="100,100">You are on the second floor of a tower, in a split level kitchen chamber with steps leading up to the pantry area and a ladder leading up to the floor above. You may use the steps to climb up [[to the pantry-&gt;second person plural polite]], or take the [[ladder-&gt;third person singular]] up to the next level. You can also exit through a door to a what appears to be [[the bathroom area-&gt;second person singular impolite]], or go down the ladder to the [[tower&#39;s entrance hall-&gt;first person singular]]. </tw-passagedata><tw-passagedata pid="6" name="second person plural polite" tags="" position="1463,672" size="100,100">You are on the second floor of a tower in a pantry. Down a few steps from the pantry is the [[kitchen area-&gt;second person singular polite]]. There is also a [[ladder here that goes up-&gt;third person plural]] to a bedroom area on the next floor. Or you can go [[down the ladder to the entrance level-&gt;first person plural]]. Lastly, a door leads off to a [[bathing area-&gt;second person plural impolite]]</tw-passagedata><tw-passagedata pid="7" name="second person singular impolite" tags="" position="1593,752" size="100,100">You are on the second floor of a tower, in a split level toilet chamber. Down here are the latrines, and there are steps leading up to a bathing area. You may climb up [[to the bathing area-&gt;second person plural impolite]], or take the [[door-&gt;second person singular polite]] to the kitchen area. </tw-passagedata><tw-passagedata pid="8" name="second person plural impolite" tags="" position="1604,607" size="100,100">You are on the second floor of a tower, in a split level bathroom chamber. Up here is the bathing area, and there are steps leading down to the latrines. You may step down [[to the latrines-&gt;second person singular impolite]], or take the [[door-&gt;second person singular polite]] to the kitchen area. </tw-passagedata><tw-passagedata pid="9" name="key" tags="" position="1020,679" size="100,100">(set: $basement to &quot;infinitive&quot;) 
(set: $groundFloor to &quot;first person&quot;) 
(set: $secondFloor to &quot;second person&quot;)
(set: $thirdFloor to &quot;third person&quot;)

(set: $corridor to &quot;continuous&quot;) 

(set: $lower to &quot;singular&quot;) 
(set: $raised to &quot;plural&quot;) 

(set: $secretPassage to &quot;subjunctive&quot;) 
(set: $bell to &quot;imperative&quot;) 

(set: $north to &quot;future&quot;) 
(set: $south to &quot;past&quot;) 

(set: $luxury to &quot;perfect&quot;) 
(set: $spartan to &quot;imperfect&quot;) 

(set: $east to &quot;feminine&quot;)
(set: $west to &quot;masculine&quot;) 

</tw-passagedata></tw-storydata>

<tw-storydata name="sandbox" startnode="1" creator="Twine" creator-version="2.3.12" ifid="11017F17-1DBA-4572-B9E7-E456AB95DBA0" zoom="1" format="Harlowe" format-version="3.2.1" options="" hidden><style role="stylesheet" id="twine-user-stylesheet" type="text/twine-css"></style><script role="script" id="twine-user-script" type="text/twine-javascript"></script><tw-tag name="startup" color="red"></tw-tag><tw-passagedata pid="1" name="code" tags="" position="412,478" size="100,100">(set: $orderedArcs to (a: 
	(a: -1,-1,-1),
	(a: -1,-1,0),
	(a: -1,-1,1),
	(a: -1,0,-1),
	(a: -1,0,0),
	(a: -1,0,1),
	(a: -1,1,-1),
	(a: -1,1,0),
	(a: -1,1,1),
	(a: 0,-1,-1),
	(a: 0,-1,0),
	(a: 0,-1,1),
	(a: 0,0,-1),
	(a: 0,0,1),
	(a: 0,1,-1),
	(a: 0,1,0),
	(a: 0,1,1),
	(a: 1,-1,-1),
	(a: 1,-1,0),
	(a: 1,-1,1),
	(a: 1,0,-1),
	(a: 1,0,0),
	(a: 1,0,1),
	(a: 1,1,-1),
	(a: 1,1,0),
	(a: 1,1,1)
	)
	)


(set: $makeArcsRow to 
(macro: [
	(set: $arcTotal to length of $orderedArcs) 
	(set: $randomizedArcs to (a:))
	(set: $tempOrderedArcs to $orderedArcs)
	($cycleThroughArcs:)	
	(set: $dmRef to &#39;&quot;&#39; + (str: $arcsRowCounter) + &#39;&quot;&#39; + &quot;,&quot;)
	(set: $dmRef of $randomArcsMap to &quot;(a:&quot; + (str:$randomizedArcs) + &quot;),&quot;)
	(output-data:&quot;&quot;)
	]))
	
(set: $cycleThroughArcs to 
(macro: [
	(if: $arcTotal &gt; 0)[
		(set: _pick to (random: $arcTotal) +1)
		(set: _draw to (nth: _pick, ...$tempOrderedArcs))
		(set: _drawString to &quot;(a:&quot; + (str: _draw) + &quot;)&quot;)
		(set: $randomizedArcs to it + (a: _drawString))
		(set: $tempOrderedArcs to it - (a: _draw))
		(set: $arcTotal to it - 1)
		($cycleThroughArcs:)
		]
	(output-data: &quot;&quot;)
	]))

(set: $makeShortArcsDM to 
(macro: [
	(if: $arcsRowCounter &lt; 2100)
		[($makeArcsRow:)
		(set: $arcsRowCounter to it + 10)
		($makeShortArcsDM:)
		]
	(output-data: &quot;&quot;) 
	]
	))

(set: $randomArcsMap to (dm:))
(set: $arcsRowCounter to 2000)
($makeShortArcsDM:)

Here is the arcs map: 
(print: $randomArcsMap)
</tw-passagedata><tw-passagedata pid="2" name="tester" tags="" position="532,478" size="100,100">($getRandomWithMax:5)
$modulus
($getRandomWithMax:5)
$modulus
($getRandomWithMax:5)
$modulus
($getRandomWithMax:5)
$modulus
($getRandomWithMax:5)
$modulus
($getRandomWithMax:5)
$modulus
($getRandomWithMax:5)
$modulus
($getRandomWithMax:5)
$modulus
($getRandomWithMax:5)
$modulus
</tw-passagedata><tw-passagedata pid="3" name="compare" tags="" position="652,478" size="100,100">(set: $mod to 
(macro: num-type _dividend, num-type _divisor, [
	(if: _divisor is 0) 
		[(output-data: 0)] 
	(if: _divisor &gt;= _dividend) 
		[(output-data: _dividend)]
	(output:)[($mod: (_dividend - _divisor), _divisor)]
	]))

(set: $mod to 
(macro: num-type _dividend, num-type _divisor,
	[
	(if: _divisor is 0 or _divisor is 1)[(output-data: 0)]
	(if: _divisor &gt; _dividend)
		[(output-data:_dividend)]
	(else:)[
		(set: _newDividend to _dividend - _divisor)
		(output:) [($mod: _newDividend, _divisor)]]
	]
	))

(set: $mod to 
(macro: num-type _dividend, num-type _divisor,
	[
	(if: _divisor is 0 or _divisor is 1)[(output-data: 0)]
	(if: _divisor &gt; _dividend)
		[(output-data:_dividend)]
	(set: _newDividend to _dividend - _divisor)
	(output:) [($mod: _newDividend, _divisor)]
	]
	))
	
(set: $resetBranchlist to 
(macro: [
	(if: $suppressBranching &lt; 2)
		[(error: &quot;resetBranchlist needs argument 2 or greater&quot;)] 
	(set: _suppress to $suppressBranching)
	(set: _random to ($getRandomWithMaxData: $suppressBranching))
	(if: _random &gt; 0 and $branchList&#39;s length &gt; 0)
		[(set: $branchList to 2ndtolast of $branchList)]
	(output-data: &quot;&quot;)
		]
		))</tw-passagedata><tw-passagedata pid="4" name="tester2" tags="" position="772,478" size="100,100">($getRandomWithMaxData: 5)
($getRandomWithMaxData: 5)
($getRandomWithMaxData: 5)
($getRandomWithMaxData: 5)
($getRandomWithMaxData: 5)
($getRandomWithMaxData: 5)
($getRandomWithMaxData: 5)
($getRandomWithMaxData: 5)</tw-passagedata><tw-passagedata pid="5" name="modTest" tags="" position="892,478" size="100,100">(print: &quot;Should give me 1&quot;) 
($mod: 1, 5) 
(print: &quot;Should give me 0&quot;) 
($mod: 5, 1) 
(print: &quot;Should give me 0&quot;) 
($mod: 0, 5) 
(print: &quot;Should give me 5?&quot;) 
($mod: 5, 0) 
(print: &quot;Should give me 0&quot;) 
($mod: 0, 0)
(print: &quot;Should give me 0&quot;) 
($mod: 1, 1) </tw-passagedata><tw-passagedata pid="6" name="tester tester" tags="" position="1012,478" size="100,100">{

&lt;!--tester1 with input 5 outputs 5+5. I can&#39;t tell whether it is a string or a saturated macro.--&gt;

(set: $tester1 to 
(macro: num-type _argument, [
	(output:)[($function1: _argument)]
	]
	)
	)

(set: $function1 to 
(macro: num-type _argument, [
	(output:) [_argument + 5]
	]
	)
	)
	
&lt;!--syntax error.--&gt;
(set: $tester2 to 
(macro: num-type _argument, [
	(output:)[($function2: _argument)]
	]
	)
	)

(set: $function2 to 
(macro: num-type _argument, [
	(output:) [(_argument + 5)]
	]
	)
	)
	
&lt;!--outputs 10.--&gt;
(set: $tester3 to 
(macro: num-type _argument, [
	(output:)[($function3: _argument)]
	]
	)
	)

(set: $function3 to 
(macro: num-type _argument, [
	(output-data:_argument + 5) 
	]
	)
	)

}
	
($tester3: 5)</tw-passagedata><tw-passagedata pid="7" name="tester code" tags="" position="412,594" size="100,100">(set: $tester1 to 
(macro: num-type _argument, [
	(output:)[($function1: _argument)]
	]
	)
	)

(set: $function1 to 
(macro: num-type _argument, [
	(output:) [_argument + 5]
	]
	)
	)</tw-passagedata><tw-passagedata pid="8" name="branchList tester" tags="" position="532,594" size="100,100">($resetBranchlist:)</tw-passagedata><tw-passagedata pid="9" name="minimal example" tags="" position="652,594" size="100,100">{
(set: $return1 to 
(macro: [
	(output-data: 1)
	]
	)
	)
	
(set: $callReturn1 to 
(macro: [
	(set: _output to ($return1:))
	(output-data: _output)
	]
	))

(set: $testReturn1 to 
(macro: [
	(set: _output to ($return1:))
	(if: _output &gt; 0) [(set: $someGlobal to 2)] 
	(output-data: _output)
	]
	))
	
(set: $testTestreturn1 to 
(macro: [
	(set: _output to ($testReturn1:))
	(if: _output &gt; 0) [(set: $someOtherGlobal to 3)] 
	(output-data: _output)
	]
	))
}

($testTestreturn1:)
$someGlobal
$someOtherGlobal
	</tw-passagedata><tw-passagedata pid="10" name="code2" tags="" position="413,711" size="100,100">(set: $seedIndex to 1)
(set: $seedIndex20 to 1)
(set: $randomSeed to (a: 5,0,3,12,14,13,19,4,9,1,8,2,6,7,15,17,16,18,11))
(set: $report to (a:))
(set: $branchList to (a: &quot;x&quot;, &quot;x&quot;, &quot;x&quot;,&quot;x&quot;))
(set: $suppressBranching to 3)

(set: $mod to 
(macro: num-type _dividend, num-type _divisor, [
	(if: _divisor is 0) [(set: $modulus to 0)] 
	(if: _divisor &gt;= _dividend)[(set: $modulus to _dividend)] 
	(else:) [($mod: _dividend - _divisor, _divisor)]
	(output-data:&quot;&quot;) 
	]))
	
	
(set: $getRandomWithMax to 
(macro: num-type _limit, [
	(if: _limit &gt; 19)
		[(error:&quot;$getRandomWithMax cannot accept argument &gt;19&quot;)]
	(set: _starter to (nth: $seedIndex20, ...$randomSeed))
	(set: $seedIndex20 +=1)
	($mod: _starter, _limit)
	(set: $randomWithMax to $modulus)
	(output-data: &quot;&quot;)
	]))

	
(set: $resetBranchlist to 
(macro: [
	($getRandomWithMax: $suppressBranching)
	(if: $randomWithMax &gt; 0 and $branchList&#39;s length &gt; 0)
		[(set: $branchList to 2ndtolast of $branchList)]
	(output-data: &quot;&quot;) 
		]
		))

($resetBranchlist:)
$branchList
	</tw-passagedata><tw-passagedata pid="11" name="Untitled Passage" tags="" position="210,515" size="100,100">(set: $shortArcsDM to (dm: &quot;0&quot;,	(a:(a:-1,1,0),(a:1,0,1),(a:0,-1,1),(a:0,0,1),(a:0,-1,-1),(a:1,-1,-1),(a:-1,0,-1),(a:-1,-1,-1),(a:0,1,1),(a:1,-1,1),(a:1,0,0),(a:1,1,0),(a:0,0,-1),(a:-1,1,1),(a:0,-1,0),(a:-1,0,0),(a:-1,-1,0),(a:-1,-1,1),(a:1,-1,0),(a:0,1,-1),(a:0,1,0),(a:1,1,1),(a:1,0,-1),(a:-1,0,1),(a:1,1,-1),(a:-1,1,-1)),
&quot;10&quot;,	(a:(a:1,0,1),(a:1,1,-1),(a:0,-1,0),(a:1,-1,0),(a:1,1,0),(a:1,-1,1),(a:0,1,0),(a:0,0,-1),(a:-1,1,1),(a:-1,-1,1),(a:-1,0,-1),(a:-1,1,0),(a:-1,-1,0),(a:0,-1,1),(a:1,0,-1),(a:0,1,1),(a:-1,0,0),(a:-1,-1,-1),(a:-1,0,1),(a:1,1,1),(a:-1,1,-1),(a:1,0,0),(a:1,-1,-1),(a:0,0,1),(a:0,-1,-1),(a:0,1,-1)),
&quot;20&quot;,	(a:(a:0,1,-1),(a:0,-1,0),(a:1,1,0),(a:0,1,1),(a:-1,1,-1),(a:0,0,1),(a:1,0,-1),(a:-1,0,1),(a:-1,-1,-1),(a:1,-1,1),(a:-1,-1,1),(a:1,-1,-1),(a:0,-1,-1),(a:-1,-1,0),(a:0,0,-1),(a:1,0,1),(a:-1,0,-1),(a:1,0,0),(a:1,-1,0),(a:0,1,0),(a:0,-1,1),(a:-1,1,0),(a:1,1,-1),(a:-1,1,1),(a:-1,0,0),(a:1,1,1)),
&quot;30&quot;,	(a:(a:0,0,-1),(a:-1,0,0),(a:1,0,-1),(a:0,0,1),(a:0,1,0),(a:0,-1,-1),(a:-1,-1,-1),(a:1,-1,0),(a:1,1,-1),(a:1,1,0),(a:1,-1,-1),(a:0,1,-1),(a:1,0,1),(a:-1,-1,0),(a:0,1,1),(a:-1,1,1),(a:0,-1,0),(a:-1,-1,1),(a:1,-1,1),(a:-1,1,-1),(a:0,-1,1),(a:1,0,0),(a:-1,0,-1),(a:1,1,1),(a:-1,1,0),(a:-1,0,1)),
&quot;40&quot;,	(a:(a:-1,1,-1),(a:1,-1,-1),(a:-1,-1,-1),(a:-1,1,1),(a:-1,-1,0),(a:-1,0,-1),(a:1,0,1),(a:-1,1,0),(a:1,1,1),(a:0,1,0),(a:1,0,-1),(a:0,-1,1),(a:-1,0,1),(a:0,0,1),(a:1,-1,1),(a:0,1,-1),(a:0,-1,0),(a:-1,-1,1),(a:1,0,0),(a:0,1,1),(a:1,-1,0),(a:-1,0,0),(a:1,1,-1),(a:0,-1,-1),(a:0,0,-1),(a:1,1,0)),
&quot;50&quot;,	(a:(a:-1,-1,-1),(a:1,0,1),(a:1,-1,-1),(a:1,0,-1),(a:-1,0,1),(a:1,1,1),(a:1,0,0),(a:0,0,1),(a:0,0,-1),(a:1,-1,1),(a:0,-1,1),(a:-1,0,0),(a:-1,1,0),(a:-1,-1,0),(a:-1,-1,1),(a:1,1,0),(a:-1,1,1),(a:0,-1,-1),(a:1,-1,0),(a:-1,0,-1),(a:1,1,-1),(a:0,1,0),(a:0,1,1),(a:0,-1,0),(a:0,1,-1),(a:-1,1,-1)),
&quot;60&quot;,	(a:(a:0,1,0),(a:1,0,0),(a:1,-1,1),(a:-1,-1,-1),(a:0,1,-1),(a:1,1,0),(a:-1,0,-1),(a:1,0,-1),(a:0,1,1),(a:1,1,1),(a:1,0,1),(a:0,0,1),(a:1,1,-1),(a:-1,-1,0),(a:-1,0,0),(a:-1,1,0),(a:-1,1,1),(a:-1,1,-1),(a:0,-1,1),(a:1,-1,-1),(a:-1,-1,1),(a:-1,0,1),(a:0,-1,-1),(a:0,-1,0),(a:1,-1,0),(a:0,0,-1)),
&quot;70&quot;,	(a:(a:1,0,-1),(a:-1,0,1),(a:1,0,0),(a:1,-1,0),(a:1,-1,1),(a:1,1,0),(a:-1,-1,-1),(a:1,0,1),(a:0,1,-1),(a:-1,0,-1),(a:0,-1,0),(a:-1,1,-1),(a:1,1,1),(a:0,0,-1),(a:0,-1,1),(a:1,-1,-1),(a:-1,-1,0),(a:1,1,-1),(a:-1,0,0),(a:-1,1,1),(a:0,0,1),(a:-1,-1,1),(a:0,1,1),(a:-1,1,0),(a:0,1,0),(a:0,-1,-1)),
&quot;80&quot;,	(a:(a:1,1,0),(a:-1,0,-1),(a:-1,1,0),(a:0,0,-1),(a:-1,-1,-1),(a:0,1,0),(a:0,0,1),(a:1,0,1),(a:0,-1,-1),(a:1,-1,-1),(a:1,1,1),(a:-1,-1,0),(a:-1,0,0),(a:0,-1,1),(a:1,-1,1),(a:0,-1,0),(a:-1,0,1),(a:0,1,-1),(a:-1,1,1),(a:1,0,-1),(a:1,1,-1),(a:-1,-1,1),(a:-1,1,-1),(a:0,1,1),(a:1,-1,0),(a:1,0,0)),
&quot;90&quot;,	(a:(a:-1,-1,-1),(a:-1,1,-1),(a:-1,0,0),(a:1,0,0),(a:1,1,1),(a:0,1,-1),(a:-1,0,1),(a:1,1,0),(a:0,-1,1),(a:0,-1,-1),(a:0,1,1),(a:1,0,1),(a:-1,1,1),(a:0,1,0),(a:1,-1,0),(a:-1,-1,0),(a:-1,-1,1),(a:1,1,-1),(a:0,-1,0),(a:0,0,-1),(a:0,0,1),(a:-1,0,-1),(a:1,-1,1),(a:1,0,-1),(a:-1,1,0),(a:1,-1,-1)),
&quot;100&quot;,	(a:(a:1,1,1),(a:0,0,-1),(a:-1,1,-1),(a:0,1,1),(a:1,0,1),(a:0,-1,1),(a:-1,-1,0),(a:0,1,0),(a:-1,-1,1),(a:1,0,0),(a:-1,1,0),(a:-1,0,-1),(a:-1,1,1),(a:0,-1,0),(a:-1,-1,-1),(a:-1,0,0),(a:1,-1,0),(a:1,1,0),(a:1,0,-1),(a:1,-1,1),(a:0,1,-1),(a:0,-1,-1),(a:1,-1,-1),(a:1,1,-1),(a:-1,0,1),(a:0,0,1)),
&quot;110&quot;,	(a:(a:-1,-1,1),(a:0,-1,0),(a:-1,-1,0),(a:1,-1,1),(a:-1,1,1),(a:0,1,1),(a:1,-1,-1),(a:-1,-1,-1),(a:-1,0,1),(a:-1,0,-1),(a:-1,0,0),(a:0,1,0),(a:1,0,-1),(a:1,0,0),(a:1,1,1),(a:1,0,1),(a:1,1,0),(a:-1,1,-1),(a:0,0,-1),(a:-1,1,0),(a:0,-1,-1),(a:1,1,-1),(a:0,-1,1),(a:0,0,1),(a:1,-1,0),(a:0,1,-1)),
&quot;120&quot;,	(a:(a:0,-1,1),(a:-1,1,-1),(a:-1,0,-1),(a:-1,0,1),(a:0,-1,-1),(a:-1,1,0),(a:-1,0,0),(a:0,0,-1),(a:1,-1,0),(a:-1,-1,1),(a:1,0,0),(a:1,-1,-1),(a:0,1,1),(a:0,-1,0),(a:-1,-1,-1),(a:-1,-1,0),(a:0,1,-1),(a:1,0,-1),(a:1,0,1),(a:1,1,1),(a:-1,1,1),(a:0,0,1),(a:0,1,0),(a:1,1,-1),(a:1,1,0),(a:1,-1,1)),
&quot;130&quot;,	(a:(a:0,-1,-1),(a:-1,0,1),(a:0,0,-1),(a:1,-1,-1),(a:-1,-1,1),(a:0,1,1),(a:1,0,1),(a:-1,1,1),(a:0,-1,1),(a:1,0,0),(a:0,1,0),(a:-1,0,-1),(a:-1,1,0),(a:-1,-1,0),(a:-1,1,-1),(a:0,0,1),(a:-1,0,0),(a:1,-1,0),(a:1,1,1),(a:-1,-1,-1),(a:0,1,-1),(a:0,-1,0),(a:1,1,0),(a:1,1,-1),(a:1,-1,1),(a:1,0,-1)),
&quot;140&quot;,	(a:(a:-1,0,-1),(a:-1,1,-1),(a:-1,-1,-1),(a:-1,-1,0),(a:0,-1,-1),(a:0,1,-1),(a:-1,1,1),(a:1,-1,0),(a:-1,-1,1),(a:1,1,1),(a:1,0,0),(a:1,1,-1),(a:1,-1,-1),(a:0,0,1),(a:1,0,-1),(a:-1,0,0),(a:0,-1,0),(a:0,-1,1),(a:-1,0,1),(a:-1,1,0),(a:1,-1,1),(a:0,1,1),(a:0,0,-1),(a:1,1,0),(a:1,0,1),(a:0,1,0)),
&quot;150&quot;,	(a:(a:0,-1,0),(a:1,1,1),(a:0,0,-1),(a:-1,-1,0),(a:0,1,-1),(a:0,1,0),(a:1,0,1),(a:1,0,0),(a:1,1,-1),(a:-1,0,0),(a:0,0,1),(a:-1,1,-1),(a:0,-1,-1),(a:0,1,1),(a:-1,0,-1),(a:-1,-1,-1),(a:1,-1,1),(a:-1,-1,1),(a:1,-1,0),(a:1,1,0),(a:1,0,-1),(a:1,-1,-1),(a:-1,1,0),(a:-1,0,1),(a:-1,1,1),(a:0,-1,1)),
&quot;160&quot;,	(a:(a:1,1,-1),(a:1,1,0),(a:0,-1,0),(a:1,-1,0),(a:-1,0,-1),(a:0,-1,-1),(a:1,0,0),(a:0,1,1),(a:-1,0,1),(a:-1,-1,-1),(a:-1,1,1),(a:-1,0,0),(a:-1,-1,1),(a:1,-1,-1),(a:0,1,-1),(a:-1,1,-1),(a:1,-1,1),(a:0,0,1),(a:-1,1,0),(a:1,0,1),(a:-1,-1,0),(a:0,0,-1),(a:0,-1,1),(a:1,1,1),(a:0,1,0),(a:1,0,-1)),
&quot;170&quot;,	(a:(a:-1,1,0),(a:-1,-1,-1),(a:1,0,0),(a:1,-1,0),(a:-1,-1,1),(a:-1,-1,0),(a:-1,0,1),(a:0,-1,0),(a:-1,0,-1),(a:0,-1,-1),(a:-1,1,1),(a:-1,1,-1),(a:0,0,-1),(a:0,0,1),(a:1,-1,-1),(a:0,-1,1),(a:1,1,0),(a:1,1,1),(a:0,1,1),(a:-1,0,0),(a:1,0,-1),(a:0,1,0),(a:0,1,-1),(a:1,-1,1),(a:1,0,1),(a:1,1,-1)),
&quot;180&quot;,	(a:(a:-1,0,1),(a:-1,-1,-1),(a:1,1,1),(a:1,-1,1),(a:0,-1,1),(a:-1,-1,0),(a:-1,0,-1),(a:1,-1,0),(a:1,-1,-1),(a:0,-1,-1),(a:0,1,-1),(a:1,1,0),(a:0,0,-1),(a:1,0,-1),(a:0,0,1),(a:-1,-1,1),(a:1,0,1),(a:-1,1,-1),(a:-1,1,0),(a:-1,0,0),(a:1,1,-1),(a:0,1,0),(a:0,-1,0),(a:0,1,1),(a:-1,1,1),(a:1,0,0)),
&quot;190&quot;,	(a:(a:-1,-1,0),(a:-1,0,-1),(a:1,0,0),(a:-1,1,1),(a:0,0,1),(a:-1,-1,-1),(a:1,-1,1),(a:1,1,1),(a:-1,1,-1),(a:0,1,0),(a:0,-1,1),(a:1,0,1),(a:0,-1,0),(a:1,0,-1),(a:0,0,-1),(a:1,-1,0),(a:-1,1,0),(a:-1,0,0),(a:-1,-1,1),(a:0,-1,-1),(a:1,1,-1),(a:-1,0,1),(a:0,1,-1),(a:1,1,0),(a:0,1,1),(a:1,-1,-1)),
&quot;200&quot;,	(a:(a:-1,-1,0),(a:1,0,-1),(a:-1,0,1),(a:-1,1,-1),(a:0,-1,1),(a:0,1,-1),(a:1,-1,0),(a:-1,1,0),(a:1,-1,1),(a:-1,0,0),(a:1,1,1),(a:1,0,0),(a:0,0,-1),(a:1,-1,-1),(a:-1,-1,1),(a:-1,1,1),(a:0,-1,0),(a:-1,-1,-1),(a:0,1,1),(a:1,0,1),(a:0,-1,-1),(a:0,1,0),(a:-1,0,-1),(a:0,0,1),(a:1,1,-1),(a:1,1,0)),
&quot;210&quot;,	(a:(a:1,1,-1),(a:-1,1,0),(a:0,1,-1),(a:-1,1,1),(a:1,0,-1),(a:0,-1,1),(a:-1,0,1),(a:-1,1,-1),(a:1,1,0),(a:0,-1,-1),(a:1,-1,1),(a:-1,-1,-1),(a:1,1,1),(a:-1,0,-1),(a:1,-1,0),(a:-1,-1,0),(a:1,-1,-1),(a:1,0,1),(a:0,0,-1),(a:0,1,0),(a:1,0,0),(a:-1,-1,1),(a:-1,0,0),(a:0,-1,0),(a:0,1,1),(a:0,0,1)),
&quot;220&quot;,	(a:(a:-1,-1,-1),(a:-1,1,0),(a:1,0,0),(a:0,1,1),(a:0,0,-1),(a:1,1,1),(a:1,-1,0),(a:-1,-1,1),(a:-1,1,1),(a:0,-1,0),(a:0,-1,1),(a:-1,0,0),(a:0,0,1),(a:0,1,0),(a:-1,-1,0),(a:1,1,0),(a:-1,1,-1),(a:1,-1,1),(a:-1,0,1),(a:1,1,-1),(a:0,1,-1),(a:-1,0,-1),(a:0,-1,-1),(a:1,0,1),(a:1,-1,-1),(a:1,0,-1)),
&quot;230&quot;,	(a:(a:-1,-1,-1),(a:1,1,1),(a:-1,1,0),(a:-1,0,-1),(a:0,-1,-1),(a:1,1,-1),(a:0,1,1),(a:0,0,1),(a:-1,0,0),(a:-1,0,1),(a:-1,1,-1),(a:1,1,0),(a:1,0,-1),(a:-1,1,1),(a:1,-1,-1),(a:-1,-1,0),(a:1,-1,0),(a:1,0,0),(a:1,0,1),(a:0,-1,0),(a:0,0,-1),(a:0,-1,1),(a:-1,-1,1),(a:0,1,-1),(a:0,1,0),(a:1,-1,1)),
&quot;240&quot;,	(a:(a:-1,0,0),(a:0,1,-1),(a:-1,1,1),(a:-1,-1,0),(a:1,0,1),(a:-1,-1,-1),(a:0,1,1),(a:-1,0,1),(a:1,0,-1),(a:-1,-1,1),(a:0,-1,-1),(a:0,1,0),(a:1,0,0),(a:1,1,-1),(a:-1,1,-1),(a:0,-1,1),(a:0,-1,0),(a:1,1,1),(a:0,0,1),(a:1,-1,-1),(a:1,1,0),(a:-1,1,0),(a:1,-1,1),(a:-1,0,-1),(a:0,0,-1),(a:1,-1,0)),
&quot;250&quot;,	(a:(a:-1,1,1),(a:-1,1,-1),(a:1,-1,1),(a:0,1,0),(a:-1,0,0),(a:1,-1,0),(a:-1,0,-1),(a:1,0,0),(a:1,1,-1),(a:0,0,1),(a:-1,-1,-1),(a:1,-1,-1),(a:1,1,0),(a:-1,0,1),(a:1,1,1),(a:0,-1,1),(a:0,1,1),(a:-1,-1,0),(a:-1,-1,1),(a:0,0,-1),(a:1,0,-1),(a:-1,1,0),(a:1,0,1),(a:0,-1,-1),(a:0,-1,0),(a:0,1,-1)),
&quot;260&quot;,	(a:(a:0,0,1),(a:0,-1,-1),(a:0,1,1),(a:-1,0,-1),(a:1,-1,0),(a:-1,-1,-1),(a:1,0,-1),(a:0,-1,0),(a:1,1,1),(a:-1,-1,0),(a:1,1,0),(a:-1,0,0),(a:0,1,0),(a:1,-1,-1),(a:0,0,-1),(a:1,1,-1),(a:-1,1,0),(a:-1,-1,1),(a:-1,0,1),(a:1,0,1),(a:-1,1,-1),(a:-1,1,1),(a:1,-1,1),(a:0,1,-1),(a:0,-1,1),(a:1,0,0)),
&quot;270&quot;,	(a:(a:-1,0,-1),(a:1,0,0),(a:0,-1,1),(a:1,-1,0),(a:0,1,1),(a:1,-1,-1),(a:0,0,-1),(a:1,-1,1),(a:-1,-1,0),(a:-1,-1,-1),(a:1,0,1),(a:0,-1,-1),(a:-1,0,0),(a:-1,-1,1),(a:-1,1,1),(a:1,1,0),(a:0,-1,0),(a:0,1,-1),(a:-1,1,0),(a:1,1,-1),(a:0,0,1),(a:0,1,0),(a:-1,0,1),(a:-1,1,-1),(a:1,0,-1),(a:1,1,1)),
&quot;280&quot;,	(a:(a:-1,0,-1),(a:0,1,-1),(a:1,0,1),(a:1,0,-1),(a:-1,1,1),(a:1,-1,1),(a:1,1,1),(a:0,-1,-1),(a:-1,1,0),(a:0,1,1),(a:1,1,-1),(a:1,1,0),(a:-1,1,-1),(a:-1,-1,0),(a:0,0,-1),(a:0,0,1),(a:1,-1,-1),(a:0,-1,0),(a:0,-1,1),(a:-1,0,0),(a:-1,-1,-1),(a:1,-1,0),(a:-1,-1,1),(a:1,0,0),(a:-1,0,1),(a:0,1,0)),
&quot;290&quot;,	(a:(a:0,1,1),(a:1,-1,0),(a:0,1,0),(a:0,0,1),(a:0,1,-1),(a:-1,-1,0),(a:1,0,1),(a:0,-1,1),(a:1,-1,1),(a:-1,0,1),(a:0,-1,0),(a:-1,0,-1),(a:1,0,0),(a:1,0,-1),(a:-1,1,-1),(a:-1,-1,-1),(a:0,-1,-1),(a:1,-1,-1),(a:-1,-1,1),(a:-1,1,1),(a:1,1,1),(a:1,1,-1),(a:-1,1,0),(a:-1,0,0),(a:0,0,-1),(a:1,1,0)),
&quot;300&quot;,	(a:(a:0,-1,0),(a:1,0,1),(a:-1,-1,-1),(a:1,1,0),(a:0,-1,-1),(a:-1,1,0),(a:1,-1,0),(a:0,0,-1),(a:0,-1,1),(a:1,0,-1),(a:-1,-1,0),(a:-1,-1,1),(a:0,1,1),(a:-1,0,-1),(a:1,1,1),(a:0,0,1),(a:1,-1,-1),(a:1,-1,1),(a:0,1,-1),(a:-1,1,-1),(a:-1,0,0),(a:-1,0,1),(a:-1,1,1),(a:1,0,0),(a:0,1,0),(a:1,1,-1)),
&quot;310&quot;,	(a:(a:1,-1,-1),(a:0,1,-1),(a:1,0,0),(a:1,1,0),(a:-1,0,1),(a:0,-1,-1),(a:0,0,-1),(a:0,-1,1),(a:-1,1,-1),(a:-1,0,0),(a:0,1,1),(a:-1,-1,1),(a:-1,-1,-1),(a:-1,0,-1),(a:1,0,-1),(a:0,-1,0),(a:1,1,-1),(a:-1,1,1),(a:-1,-1,0),(a:0,1,0),(a:-1,1,0),(a:1,-1,0),(a:0,0,1),(a:1,-1,1),(a:1,0,1),(a:1,1,1)),
&quot;320&quot;,	(a:(a:0,-1,-1),(a:0,0,1),(a:0,-1,0),(a:1,1,1),(a:0,0,-1),(a:-1,1,0),(a:1,-1,0),(a:-1,-1,-1),(a:1,1,0),(a:0,-1,1),(a:1,0,-1),(a:1,-1,1),(a:0,1,0),(a:-1,-1,1),(a:1,0,1),(a:0,1,-1),(a:1,0,0),(a:-1,1,1),(a:1,-1,-1),(a:-1,-1,0),(a:-1,0,1),(a:-1,0,0),(a:-1,0,-1),(a:0,1,1),(a:1,1,-1),(a:-1,1,-1)),
&quot;330&quot;,	(a:(a:-1,0,-1),(a:1,0,-1),(a:0,1,-1),(a:0,-1,-1),(a:1,-1,-1),(a:1,1,1),(a:-1,0,1),(a:-1,-1,0),(a:1,0,0),(a:-1,-1,-1),(a:1,-1,0),(a:0,0,1),(a:0,-1,1),(a:1,-1,1),(a:-1,1,1),(a:0,0,-1),(a:-1,0,0),(a:1,0,1),(a:1,1,-1),(a:-1,-1,1),(a:0,-1,0),(a:-1,1,-1),(a:-1,1,0),(a:1,1,0),(a:0,1,1),(a:0,1,0)),
&quot;340&quot;,	(a:(a:0,-1,-1),(a:-1,0,0),(a:-1,0,1),(a:0,1,1),(a:-1,0,-1),(a:0,1,0),(a:1,0,-1),(a:-1,1,0),(a:1,-1,-1),(a:-1,1,-1),(a:-1,-1,0),(a:1,0,0),(a:1,-1,1),(a:-1,-1,-1),(a:0,-1,0),(a:1,1,-1),(a:1,0,1),(a:0,0,1),(a:0,0,-1),(a:1,1,0),(a:0,-1,1),(a:-1,1,1),(a:1,-1,0),(a:-1,-1,1),(a:0,1,-1),(a:1,1,1)),
&quot;350&quot;,	(a:(a:1,1,1),(a:0,1,-1),(a:0,-1,-1),(a:1,-1,0),(a:1,-1,-1),(a:0,0,-1),(a:-1,-1,-1),(a:1,1,0),(a:0,1,1),(a:0,-1,1),(a:-1,0,-1),(a:0,1,0),(a:1,1,-1),(a:-1,0,1),(a:1,0,1),(a:-1,0,0),(a:-1,-1,1),(a:1,0,-1),(a:0,0,1),(a:-1,1,1),(a:1,0,0),(a:-1,-1,0),(a:1,-1,1),(a:0,-1,0),(a:-1,1,0),(a:-1,1,-1)),
&quot;360&quot;,	(a:(a:-1,-1,-1),(a:1,-1,1),(a:1,1,0),(a:0,-1,0),(a:-1,0,1),(a:1,-1,0),(a:-1,-1,0),(a:0,1,-1),(a:1,0,-1),(a:-1,0,0),(a:-1,0,-1),(a:0,1,1),(a:1,-1,-1),(a:0,0,-1),(a:-1,-1,1),(a:0,-1,1),(a:-1,1,0),(a:0,-1,-1),(a:-1,1,-1),(a:-1,1,1),(a:0,1,0),(a:1,0,1),(a:0,0,1),(a:1,0,0),(a:1,1,1),(a:1,1,-1)),
&quot;370&quot;,	(a:(a:0,-1,0),(a:1,0,-1),(a:-1,1,-1),(a:1,1,1),(a:-1,-1,0),(a:1,-1,-1),(a:0,-1,1),(a:-1,1,0),(a:1,0,1),(a:-1,-1,1),(a:1,0,0),(a:0,1,1),(a:1,-1,0),(a:-1,-1,-1),(a:1,1,-1),(a:-1,0,0),(a:1,1,0),(a:-1,0,-1),(a:0,0,1),(a:-1,0,1),(a:0,0,-1),(a:0,-1,-1),(a:0,1,0),(a:0,1,-1),(a:-1,1,1),(a:1,-1,1)),
&quot;380&quot;,	(a:(a:1,1,-1),(a:-1,1,0),(a:0,-1,-1),(a:0,0,1),(a:0,-1,0),(a:-1,0,1),(a:0,1,1),(a:0,0,-1),(a:0,-1,1),(a:-1,1,1),(a:1,0,0),(a:-1,-1,1),(a:-1,1,-1),(a:-1,-1,0),(a:0,1,-1),(a:1,-1,0),(a:1,0,1),(a:1,-1,-1),(a:1,1,0),(a:1,-1,1),(a:-1,-1,-1),(a:1,0,-1),(a:1,1,1),(a:-1,0,-1),(a:-1,0,0),(a:0,1,0)),
&quot;390&quot;,	(a:(a:1,-1,1),(a:0,1,-1),(a:0,-1,0),(a:1,0,1),(a:1,1,-1),(a:0,-1,-1),(a:0,0,1),(a:0,1,0),(a:-1,0,-1),(a:0,0,-1),(a:-1,-1,1),(a:-1,0,1),(a:-1,-1,-1),(a:-1,-1,0),(a:-1,1,1),(a:1,-1,0),(a:-1,1,-1),(a:0,1,1),(a:-1,1,0),(a:-1,0,0),(a:1,0,-1),(a:1,1,1),(a:0,-1,1),(a:1,1,0),(a:1,0,0),(a:1,-1,-1)),
&quot;400&quot;,	(a:(a:1,-1,1),(a:0,-1,1),(a:0,1,0),(a:0,0,-1),(a:-1,0,0),(a:0,-1,-1),(a:1,-1,-1),(a:-1,-1,-1),(a:1,-1,0),(a:0,-1,0),(a:-1,-1,1),(a:-1,-1,0),(a:0,1,-1),(a:1,1,0),(a:-1,1,0),(a:0,0,1),(a:-1,1,1),(a:-1,0,-1),(a:1,0,-1),(a:1,0,1),(a:-1,0,1),(a:1,1,-1),(a:-1,1,-1),(a:0,1,1),(a:1,0,0),(a:1,1,1)),
&quot;410&quot;,	(a:(a:1,-1,1),(a:-1,1,0),(a:-1,-1,1),(a:0,0,-1),(a:1,-1,-1),(a:0,-1,-1),(a:-1,0,-1),(a:1,0,0),(a:-1,-1,0),(a:-1,0,0),(a:1,0,1),(a:0,0,1),(a:-1,1,-1),(a:1,1,-1),(a:0,1,0),(a:0,-1,1),(a:-1,-1,-1),(a:1,-1,0),(a:-1,0,1),(a:1,1,1),(a:0,-1,0),(a:-1,1,1),(a:0,1,-1),(a:0,1,1),(a:1,0,-1),(a:1,1,0)),
&quot;420&quot;,	(a:(a:1,-1,-1),(a:0,1,0),(a:0,1,-1),(a:-1,1,0),(a:-1,-1,-1),(a:0,-1,1),(a:-1,1,1),(a:1,0,1),(a:0,0,-1),(a:0,1,1),(a:-1,1,-1),(a:1,-1,1),(a:-1,-1,0),(a:-1,0,0),(a:-1,-1,1),(a:1,-1,0),(a:1,1,0),(a:1,1,1),(a:-1,0,-1),(a:0,-1,0),(a:-1,0,1),(a:1,1,-1),(a:0,-1,-1),(a:0,0,1),(a:1,0,-1),(a:1,0,0)),
&quot;430&quot;,	(a:(a:0,1,0),(a:-1,-1,0),(a:-1,0,1),(a:0,-1,0),(a:-1,1,-1),(a:-1,0,-1),(a:1,-1,0),(a:1,1,-1),(a:0,-1,-1),(a:1,1,0),(a:-1,1,0),(a:1,0,1),(a:-1,0,0),(a:0,0,1),(a:0,-1,1),(a:1,-1,-1),(a:0,1,1),(a:1,0,0),(a:1,-1,1),(a:-1,-1,1),(a:-1,1,1),(a:1,1,1),(a:-1,-1,-1),(a:1,0,-1),(a:0,0,-1),(a:0,1,-1)),
&quot;440&quot;,	(a:(a:0,1,0),(a:-1,0,1),(a:1,0,1),(a:0,0,-1),(a:0,-1,1),(a:1,0,-1),(a:1,1,1),(a:-1,-1,1),(a:-1,-1,-1),(a:-1,-1,0),(a:1,-1,-1),(a:0,1,-1),(a:-1,0,-1),(a:1,-1,0),(a:0,0,1),(a:0,-1,0),(a:-1,1,1),(a:-1,1,0),(a:-1,0,0),(a:1,0,0),(a:-1,1,-1),(a:1,1,0),(a:1,1,-1),(a:0,-1,-1),(a:0,1,1),(a:1,-1,1)),
&quot;450&quot;,	(a:(a:1,1,-1),(a:1,0,1),(a:0,-1,0),(a:0,0,1),(a:-1,0,-1),(a:1,-1,1),(a:1,-1,-1),(a:1,-1,0),(a:-1,-1,1),(a:0,-1,-1),(a:1,1,1),(a:1,0,-1),(a:0,1,1),(a:-1,1,1),(a:0,1,-1),(a:0,-1,1),(a:-1,0,0),(a:-1,-1,0),(a:1,0,0),(a:-1,1,-1),(a:0,0,-1),(a:-1,0,1),(a:-1,-1,-1),(a:-1,1,0),(a:1,1,0),(a:0,1,0)),
&quot;460&quot;,	(a:(a:1,0,0),(a:0,1,-1),(a:1,1,1),(a:0,-1,1),(a:-1,-1,-1),(a:-1,0,0),(a:-1,1,-1),(a:-1,1,0),(a:1,-1,1),(a:-1,-1,0),(a:0,0,-1),(a:1,1,-1),(a:-1,0,-1),(a:1,-1,0),(a:0,0,1),(a:0,-1,0),(a:-1,0,1),(a:0,-1,-1),(a:1,-1,-1),(a:1,1,0),(a:-1,-1,1),(a:-1,1,1),(a:0,1,0),(a:1,0,-1),(a:0,1,1),(a:1,0,1)),
&quot;470&quot;,	(a:(a:1,-1,0),(a:0,1,1),(a:1,-1,1),(a:1,0,-1),(a:-1,-1,1),(a:1,1,0),(a:0,1,0),(a:-1,1,0),(a:0,1,-1),(a:1,1,1),(a:1,0,1),(a:-1,-1,-1),(a:-1,0,1),(a:1,0,0),(a:1,1,-1),(a:-1,1,1),(a:0,-1,-1),(a:0,0,-1),(a:0,-1,0),(a:-1,-1,0),(a:1,-1,-1),(a:-1,0,-1),(a:-1,1,-1),(a:-1,0,0),(a:0,-1,1),(a:0,0,1)),
&quot;480&quot;,	(a:(a:-1,1,1),(a:1,0,0),(a:-1,0,-1),(a:-1,0,1),(a:0,0,1),(a:-1,-1,-1),(a:1,1,-1),(a:1,-1,1),(a:-1,1,0),(a:-1,-1,0),(a:0,-1,-1),(a:1,1,1),(a:-1,0,0),(a:1,1,0),(a:0,1,0),(a:1,0,-1),(a:1,0,1),(a:0,1,1),(a:-1,-1,1),(a:1,-1,0),(a:-1,1,-1),(a:0,1,-1),(a:0,-1,0),(a:0,0,-1),(a:0,-1,1),(a:1,-1,-1)),
&quot;490&quot;,	(a:(a:0,-1,0),(a:1,-1,-1),(a:0,-1,1),(a:-1,-1,-1),(a:-1,1,-1),(a:1,1,0),(a:1,-1,0),(a:1,1,-1),(a:-1,0,-1),(a:-1,-1,1),(a:-1,0,1),(a:0,-1,-1),(a:0,0,1),(a:1,0,0),(a:0,1,0),(a:1,0,1),(a:1,1,1),(a:-1,-1,0),(a:0,0,-1),(a:-1,0,0),(a:0,1,1),(a:-1,1,0),(a:-1,1,1),(a:1,-1,1),(a:0,1,-1),(a:1,0,-1)),
&quot;500&quot;,	(a:(a:-1,1,1),(a:0,-1,0),(a:-1,0,0),(a:1,0,1),(a:-1,0,1),(a:-1,1,-1),(a:-1,-1,1),(a:0,-1,1),(a:0,0,-1),(a:-1,0,-1),(a:0,1,1),(a:1,-1,1),(a:1,1,1),(a:-1,-1,-1),(a:1,0,0),(a:1,1,-1),(a:1,-1,0),(a:-1,1,0),(a:-1,-1,0),(a:0,0,1),(a:0,1,0),(a:0,-1,-1),(a:0,1,-1),(a:1,-1,-1),(a:1,0,-1),(a:1,1,0)),
&quot;510&quot;,	(a:(a:-1,-1,1),(a:0,0,1),(a:0,-1,0),(a:-1,-1,-1),(a:0,0,-1),(a:-1,0,0),(a:0,1,1),(a:-1,1,-1),(a:-1,-1,0),(a:-1,0,-1),(a:-1,0,1),(a:1,-1,0),(a:1,0,1),(a:1,0,0),(a:-1,1,0),(a:0,1,0),(a:1,1,1),(a:1,-1,-1),(a:0,-1,1),(a:1,1,0),(a:1,-1,1),(a:0,-1,-1),(a:-1,1,1),(a:1,1,-1),(a:1,0,-1),(a:0,1,-1)),
&quot;520&quot;,	(a:(a:1,-1,0),(a:0,1,0),(a:-1,0,0),(a:0,1,-1),(a:-1,0,-1),(a:1,1,1),(a:-1,-1,1),(a:1,0,1),(a:-1,-1,0),(a:1,0,-1),(a:1,1,0),(a:1,-1,-1),(a:0,0,-1),(a:0,-1,1),(a:1,1,-1),(a:1,0,0),(a:-1,0,1),(a:0,-1,-1),(a:0,1,1),(a:-1,-1,-1),(a:0,-1,0),(a:-1,1,1),(a:0,0,1),(a:-1,1,0),(a:-1,1,-1),(a:1,-1,1)),
&quot;530&quot;,	(a:(a:1,-1,0),(a:1,0,-1),(a:1,1,0),(a:-1,1,-1),(a:0,0,1),(a:-1,1,1),(a:1,1,1),(a:-1,-1,-1),(a:0,0,-1),(a:-1,0,-1),(a:0,-1,-1),(a:1,1,-1),(a:0,-1,1),(a:0,1,0),(a:1,0,1),(a:0,1,1),(a:0,1,-1),(a:-1,0,1),(a:-1,-1,0),(a:-1,-1,1),(a:-1,0,0),(a:1,0,0),(a:0,-1,0),(a:-1,1,0),(a:1,-1,1),(a:1,-1,-1)),
&quot;540&quot;,	(a:(a:0,0,1),(a:-1,0,-1),(a:-1,-1,-1),(a:1,1,-1),(a:1,1,1),(a:1,0,-1),(a:-1,0,0),(a:0,-1,0),(a:1,-1,-1),(a:-1,-1,0),(a:-1,1,0),(a:-1,-1,1),(a:0,1,1),(a:0,-1,-1),(a:0,1,0),(a:0,1,-1),(a:1,-1,1),(a:0,0,-1),(a:-1,0,1),(a:-1,1,-1),(a:1,0,1),(a:1,0,0),(a:0,-1,1),(a:1,1,0),(a:1,-1,0),(a:-1,1,1)),
&quot;550&quot;,	(a:(a:0,1,0),(a:0,0,-1),(a:1,-1,0),(a:1,-1,1),(a:-1,0,0),(a:0,-1,0),(a:0,-1,-1),(a:1,1,1),(a:-1,0,-1),(a:-1,1,0),(a:0,0,1),(a:-1,1,-1),(a:1,0,1),(a:-1,-1,1),(a:0,-1,1),(a:-1,-1,-1),(a:-1,-1,0),(a:1,1,-1),(a:-1,0,1),(a:1,1,0),(a:1,-1,-1),(a:1,0,-1),(a:-1,1,1),(a:0,1,1),(a:0,1,-1),(a:1,0,0)),
&quot;560&quot;,	(a:(a:1,0,1),(a:0,0,-1),(a:-1,1,-1),(a:-1,0,1),(a:-1,0,0),(a:0,-1,0),(a:0,1,0),(a:-1,1,1),(a:1,1,0),(a:0,1,1),(a:-1,-1,1),(a:1,-1,1),(a:1,-1,0),(a:0,0,1),(a:1,1,-1),(a:1,1,1),(a:1,0,0),(a:-1,-1,-1),(a:-1,-1,0),(a:1,-1,-1),(a:-1,0,-1),(a:0,-1,1),(a:-1,1,0),(a:1,0,-1),(a:0,-1,-1),(a:0,1,-1)),
&quot;570&quot;,	(a:(a:1,1,0),(a:1,1,-1),(a:-1,1,0),(a:-1,-1,-1),(a:1,-1,-1),(a:1,0,1),(a:0,-1,1),(a:1,-1,0),(a:0,1,-1),(a:1,0,-1),(a:1,-1,1),(a:-1,1,-1),(a:1,0,0),(a:-1,0,0),(a:0,1,1),(a:-1,0,-1),(a:-1,-1,0),(a:0,1,0),(a:-1,-1,1),(a:-1,0,1),(a:0,0,1),(a:1,1,1),(a:-1,1,1),(a:0,-1,-1),(a:0,0,-1),(a:0,-1,0)),
&quot;580&quot;,	(a:(a:0,-1,1),(a:1,0,-1),(a:-1,0,1),(a:-1,-1,0),(a:1,1,1),(a:0,-1,0),(a:1,-1,1),(a:0,-1,-1),(a:1,0,1),(a:0,1,-1),(a:-1,-1,1),(a:-1,-1,-1),(a:0,1,1),(a:-1,1,0),(a:-1,1,-1),(a:0,1,0),(a:1,-1,-1),(a:-1,0,-1),(a:-1,0,0),(a:-1,1,1),(a:1,-1,0),(a:1,1,-1),(a:1,0,0),(a:0,0,1),(a:0,0,-1),(a:1,1,0)),
&quot;590&quot;,	(a:(a:1,-1,0),(a:0,1,-1),(a:1,-1,1),(a:0,0,1),(a:-1,0,0),(a:-1,-1,1),(a:0,1,1),(a:-1,0,1),(a:-1,1,-1),(a:-1,0,-1),(a:0,0,-1),(a:1,1,0),(a:0,-1,1),(a:1,1,1),(a:1,-1,-1),(a:-1,1,0),(a:-1,1,1),(a:1,0,1),(a:1,0,-1),(a:-1,-1,-1),(a:0,-1,-1),(a:1,0,0),(a:0,1,0),(a:-1,-1,0),(a:0,-1,0),(a:1,1,-1)),
&quot;600&quot;,	(a:(a:0,1,1),(a:1,1,0),(a:0,0,-1),(a:1,0,-1),(a:1,-1,0),(a:-1,0,0),(a:0,-1,0),(a:1,0,1),(a:0,1,0),(a:-1,-1,-1),(a:0,1,-1),(a:1,1,1),(a:1,-1,1),(a:1,1,-1),(a:0,-1,1),(a:-1,-1,0),(a:-1,-1,1),(a:-1,0,1),(a:-1,1,0),(a:1,0,0),(a:1,-1,-1),(a:0,0,1),(a:-1,0,-1),(a:0,-1,-1),(a:-1,1,1),(a:-1,1,-1)),
&quot;610&quot;,	(a:(a:0,0,1),(a:-1,0,0),(a:-1,-1,-1),(a:1,1,1),(a:0,1,1),(a:-1,0,1),(a:0,1,0),(a:1,-1,0),(a:1,0,0),(a:1,1,-1),(a:0,-1,-1),(a:-1,-1,1),(a:1,1,0),(a:-1,-1,0),(a:1,-1,1),(a:1,0,1),(a:-1,0,-1),(a:-1,1,-1),(a:-1,1,0),(a:-1,1,1),(a:1,0,-1),(a:0,1,-1),(a:1,-1,-1),(a:0,0,-1),(a:0,-1,0),(a:0,-1,1)),
&quot;620&quot;,	(a:(a:1,-1,-1),(a:0,0,-1),(a:1,1,0),(a:1,1,1),(a:0,1,0),(a:1,0,1),(a:-1,0,1),(a:1,-1,1),(a:1,1,-1),(a:1,-1,0),(a:1,0,0),(a:0,0,1),(a:0,-1,0),(a:-1,-1,-1),(a:0,-1,-1),(a:1,0,-1),(a:-1,0,0),(a:-1,1,1),(a:-1,1,0),(a:0,1,-1),(a:-1,-1,0),(a:-1,1,-1),(a:-1,-1,1),(a:0,-1,1),(a:-1,0,-1),(a:0,1,1)),
&quot;630&quot;,	(a:(a:-1,-1,1),(a:1,0,1),(a:1,1,1),(a:1,0,-1),(a:0,0,1),(a:1,-1,-1),(a:0,1,-1),(a:1,1,0),(a:0,1,1),(a:0,-1,0),(a:-1,-1,-1),(a:1,-1,0),(a:0,1,0),(a:-1,1,0),(a:1,1,-1),(a:1,-1,1),(a:-1,0,-1),(a:-1,1,1),(a:-1,1,-1),(a:0,0,-1),(a:-1,0,1),(a:0,-1,1),(a:-1,-1,0),(a:-1,0,0),(a:0,-1,-1),(a:1,0,0)),
&quot;640&quot;,	(a:(a:1,-1,-1),(a:-1,0,0),(a:1,1,0),(a:0,1,0),(a:-1,1,-1),(a:0,1,1),(a:-1,-1,-1),(a:0,-1,-1),(a:0,0,-1),(a:0,1,-1),(a:1,-1,1),(a:-1,1,0),(a:1,-1,0),(a:0,-1,0),(a:-1,0,-1),(a:-1,-1,0),(a:0,-1,1),(a:1,1,-1),(a:1,0,1),(a:-1,-1,1),(a:-1,1,1),(a:0,0,1),(a:1,0,-1),(a:1,0,0),(a:1,1,1),(a:-1,0,1)),
&quot;650&quot;,	(a:(a:1,0,1),(a:-1,1,1),(a:1,1,1),(a:0,-1,1),(a:1,-1,0),(a:0,-1,-1),(a:-1,0,0),(a:-1,0,-1),(a:0,1,1),(a:-1,1,-1),(a:0,-1,0),(a:1,1,-1),(a:0,1,0),(a:-1,-1,1),(a:0,0,1),(a:0,1,-1),(a:1,0,0),(a:1,-1,1),(a:-1,1,0),(a:1,0,-1),(a:0,0,-1),(a:-1,-1,-1),(a:1,-1,-1),(a:1,1,0),(a:-1,-1,0),(a:-1,0,1)),
&quot;660&quot;,	(a:(a:-1,1,1),(a:1,0,1),(a:1,-1,1),(a:1,-1,-1),(a:0,-1,0),(a:-1,0,0),(a:1,1,1),(a:-1,-1,-1),(a:0,0,1),(a:1,0,0),(a:1,1,0),(a:-1,-1,0),(a:-1,1,-1),(a:1,0,-1),(a:0,0,-1),(a:-1,0,1),(a:0,1,-1),(a:1,-1,0),(a:0,1,1),(a:0,-1,1),(a:-1,-1,1),(a:0,1,0),(a:1,1,-1),(a:0,-1,-1),(a:-1,1,0),(a:-1,0,-1)),
&quot;670&quot;,	(a:(a:-1,-1,-1),(a:0,1,0),(a:-1,1,0),(a:1,1,-1),(a:1,-1,-1),(a:-1,1,-1),(a:0,0,1),(a:0,1,-1),(a:-1,-1,0),(a:0,1,1),(a:1,1,1),(a:1,-1,1),(a:-1,0,-1),(a:1,0,1),(a:0,-1,1),(a:1,-1,0),(a:0,-1,-1),(a:0,0,-1),(a:-1,-1,1),(a:-1,0,1),(a:1,0,0),(a:-1,0,0),(a:1,0,-1),(a:-1,1,1),(a:0,-1,0),(a:1,1,0)),
&quot;680&quot;,	(a:(a:0,0,-1),(a:-1,0,1),(a:-1,1,1),(a:-1,-1,-1),(a:1,-1,0),(a:1,-1,1),(a:-1,-1,0),(a:1,-1,-1),(a:0,-1,-1),(a:-1,0,-1),(a:0,-1,0),(a:1,0,1),(a:1,0,-1),(a:-1,-1,1),(a:0,-1,1),(a:0,1,0),(a:1,1,1),(a:1,1,-1),(a:-1,0,0),(a:-1,1,-1),(a:0,1,1),(a:1,1,0),(a:0,1,-1),(a:0,0,1),(a:-1,1,0),(a:1,0,0)),
&quot;690&quot;,	(a:(a:-1,-1,1),(a:-1,0,0),(a:-1,0,1),(a:0,1,0),(a:-1,0,-1),(a:1,-1,-1),(a:-1,-1,-1),(a:-1,1,0),(a:0,-1,0),(a:0,1,1),(a:1,-1,0),(a:1,0,-1),(a:-1,-1,0),(a:-1,1,1),(a:1,1,0),(a:1,1,-1),(a:1,0,1),(a:1,0,0),(a:0,-1,1),(a:0,-1,-1),(a:0,0,-1),(a:0,1,-1),(a:-1,1,-1),(a:1,-1,1),(a:1,1,1),(a:0,0,1)),
&quot;700&quot;,	(a:(a:-1,-1,-1),(a:1,1,1),(a:1,-1,-1),(a:0,-1,0),(a:1,0,-1),(a:1,0,0),(a:-1,0,0),(a:-1,1,1),(a:0,1,0),(a:0,-1,-1),(a:-1,0,1),(a:-1,1,0),(a:1,1,-1),(a:-1,0,-1),(a:0,0,-1),(a:-1,-1,1),(a:1,-1,1),(a:1,1,0),(a:-1,-1,0),(a:1,0,1),(a:0,1,-1),(a:0,-1,1),(a:-1,1,-1),(a:1,-1,0),(a:0,0,1),(a:0,1,1)),
&quot;710&quot;,	(a:(a:-1,-1,1),(a:-1,-1,-1),(a:0,1,0),(a:0,1,-1),(a:0,-1,0),(a:-1,0,1),(a:1,-1,-1),(a:1,0,1),(a:1,0,0),(a:-1,1,1),(a:-1,-1,0),(a:1,-1,0),(a:1,1,0),(a:-1,1,0),(a:0,-1,-1),(a:0,0,-1),(a:1,1,-1),(a:-1,0,0),(a:0,0,1),(a:-1,0,-1),(a:1,1,1),(a:1,0,-1),(a:-1,1,-1),(a:0,1,1),(a:0,-1,1),(a:1,-1,1)),
&quot;720&quot;,	(a:(a:0,1,1),(a:1,1,1),(a:-1,-1,1),(a:-1,1,-1),(a:0,1,-1),(a:-1,1,1),(a:-1,0,1),(a:-1,1,0),(a:1,-1,0),(a:1,0,1),(a:0,-1,-1),(a:1,-1,1),(a:0,-1,0),(a:0,0,-1),(a:1,1,-1),(a:1,1,0),(a:-1,-1,0),(a:0,0,1),(a:1,-1,-1),(a:-1,0,-1),(a:0,1,0),(a:1,0,-1),(a:-1,-1,-1),(a:0,-1,1),(a:-1,0,0),(a:1,0,0)),
&quot;730&quot;,	(a:(a:-1,0,0),(a:0,0,1),(a:1,1,1),(a:-1,-1,1),(a:0,0,-1),(a:-1,1,0),(a:1,0,1),(a:-1,0,1),(a:0,-1,0),(a:0,-1,1),(a:1,1,-1),(a:-1,1,1),(a:0,1,0),(a:1,-1,-1),(a:1,0,-1),(a:1,-1,1),(a:-1,-1,-1),(a:1,1,0),(a:1,0,0),(a:-1,0,-1),(a:0,1,-1),(a:-1,-1,0),(a:1,-1,0),(a:-1,1,-1),(a:0,1,1),(a:0,-1,-1)),
&quot;740&quot;,	(a:(a:-1,0,1),(a:0,-1,0),(a:0,-1,-1),(a:1,1,0),(a:1,-1,-1),(a:-1,-1,0),(a:1,1,1),(a:0,1,-1),(a:-1,-1,-1),(a:1,0,0),(a:1,-1,1),(a:0,1,1),(a:-1,0,-1),(a:-1,0,0),(a:-1,-1,1),(a:-1,1,1),(a:0,1,0),(a:-1,1,-1),(a:-1,1,0),(a:0,-1,1),(a:0,0,-1),(a:1,0,1),(a:1,0,-1),(a:1,-1,0),(a:0,0,1),(a:1,1,-1)),
&quot;750&quot;,	(a:(a:1,0,-1),(a:-1,1,-1),(a:0,-1,1),(a:0,-1,0),(a:-1,-1,-1),(a:1,1,-1),(a:-1,-1,0),(a:0,0,-1),(a:1,-1,1),(a:1,1,1),(a:1,-1,-1),(a:-1,1,1),(a:-1,0,0),(a:-1,-1,1),(a:0,-1,-1),(a:0,0,1),(a:0,1,-1),(a:-1,1,0),(a:1,0,0),(a:0,1,0),(a:0,1,1),(a:-1,0,1),(a:-1,0,-1),(a:1,0,1),(a:1,-1,0),(a:1,1,0)),
&quot;760&quot;,	(a:(a:-1,1,-1),(a:0,-1,0),(a:1,1,0),(a:-1,-1,-1),(a:1,0,0),(a:1,0,-1),(a:0,0,1),(a:1,1,1),(a:-1,0,0),(a:0,0,-1),(a:-1,1,0),(a:0,1,-1),(a:0,-1,-1),(a:1,1,-1),(a:1,-1,1),(a:-1,-1,1),(a:-1,0,-1),(a:-1,-1,0),(a:0,1,0),(a:-1,0,1),(a:1,-1,0),(a:1,0,1),(a:0,1,1),(a:0,-1,1),(a:1,-1,-1),(a:-1,1,1)),
&quot;770&quot;,	(a:(a:-1,1,1),(a:1,1,1),(a:1,0,1),(a:0,0,1),(a:-1,-1,0),(a:1,0,0),(a:0,-1,1),(a:0,1,1),(a:-1,0,1),(a:-1,1,0),(a:1,1,0),(a:1,-1,0),(a:-1,-1,-1),(a:-1,-1,1),(a:0,0,-1),(a:1,-1,-1),(a:-1,0,-1),(a:0,-1,-1),(a:-1,0,0),(a:1,0,-1),(a:0,-1,0),(a:1,1,-1),(a:1,-1,1),(a:0,1,0),(a:-1,1,-1),(a:0,1,-1)),
&quot;780&quot;,	(a:(a:1,0,-1),(a:1,-1,-1),(a:-1,0,1),(a:0,1,1),(a:1,0,0),(a:-1,0,-1),(a:0,1,-1),(a:-1,1,0),(a:0,0,-1),(a:0,0,1),(a:1,1,0),(a:-1,-1,-1),(a:-1,-1,0),(a:-1,1,-1),(a:0,1,0),(a:1,-1,0),(a:1,1,1),(a:-1,-1,1),(a:-1,0,0),(a:0,-1,0),(a:0,-1,1),(a:0,-1,-1),(a:-1,1,1),(a:1,0,1),(a:1,-1,1),(a:1,1,-1)),
&quot;790&quot;,	(a:(a:1,1,-1),(a:0,-1,-1),(a:-1,-1,0),(a:1,0,-1),(a:0,-1,1),(a:1,-1,0),(a:-1,1,-1),(a:-1,0,-1),(a:0,-1,0),(a:-1,0,0),(a:1,0,0),(a:1,-1,1),(a:-1,1,0),(a:-1,0,1),(a:0,1,1),(a:-1,1,1),(a:-1,-1,-1),(a:0,0,1),(a:1,1,1),(a:1,-1,-1),(a:-1,-1,1),(a:0,1,-1),(a:1,1,0),(a:1,0,1),(a:0,1,0),(a:0,0,-1)),
&quot;800&quot;,	(a:(a:0,0,-1),(a:1,1,-1),(a:-1,-1,0),(a:-1,0,0),(a:-1,-1,-1),(a:-1,0,-1),(a:1,-1,1),(a:1,0,-1),(a:-1,1,-1),(a:1,0,0),(a:1,1,1),(a:0,0,1),(a:-1,-1,1),(a:0,-1,0),(a:0,1,1),(a:0,1,0),(a:-1,1,0),(a:1,0,1),(a:1,-1,0),(a:1,1,0),(a:-1,0,1),(a:0,-1,-1),(a:0,1,-1),(a:1,-1,-1),(a:-1,1,1),(a:0,-1,1)),
&quot;810&quot;,	(a:(a:-1,-1,-1),(a:1,-1,-1),(a:1,0,-1),(a:0,1,0),(a:-1,0,1),(a:1,0,1),(a:-1,0,0),(a:0,1,-1),(a:1,1,-1),(a:-1,-1,0),(a:-1,1,0),(a:0,1,1),(a:-1,-1,1),(a:0,0,1),(a:1,0,0),(a:1,-1,0),(a:1,-1,1),(a:1,1,0),(a:-1,0,-1),(a:-1,1,-1),(a:-1,1,1),(a:0,-1,-1),(a:1,1,1),(a:0,0,-1),(a:0,-1,0),(a:0,-1,1)),
&quot;820&quot;,	(a:(a:-1,0,0),(a:0,1,0),(a:-1,0,-1),(a:0,1,-1),(a:-1,1,-1),(a:0,-1,-1),(a:0,0,-1),(a:-1,-1,-1),(a:-1,-1,0),(a:0,0,1),(a:0,-1,0),(a:1,-1,1),(a:1,1,-1),(a:-1,0,1),(a:1,1,1),(a:-1,1,1),(a:-1,-1,1),(a:1,-1,-1),(a:1,-1,0),(a:1,0,-1),(a:0,-1,1),(a:0,1,1),(a:-1,1,0),(a:1,0,0),(a:1,1,0),(a:1,0,1)),
&quot;830&quot;,	(a:(a:0,0,1),(a:-1,1,1),(a:1,0,-1),(a:0,-1,1),(a:0,1,0),(a:1,1,-1),(a:1,0,1),(a:0,0,-1),(a:1,1,1),(a:1,-1,1),(a:1,0,0),(a:0,1,-1),(a:-1,1,0),(a:1,-1,0),(a:0,-1,0),(a:1,1,0),(a:-1,0,-1),(a:-1,-1,-1),(a:-1,-1,1),(a:-1,0,0),(a:-1,0,1),(a:0,-1,-1),(a:-1,1,-1),(a:0,1,1),(a:1,-1,-1),(a:-1,-1,0)),
&quot;840&quot;,	(a:(a:-1,-1,-1),(a:-1,-1,1),(a:1,-1,1),(a:-1,0,0),(a:1,0,0),(a:0,1,0),(a:1,1,1),(a:0,1,-1),(a:0,0,1),(a:-1,1,0),(a:-1,1,-1),(a:0,1,1),(a:-1,0,1),(a:0,-1,0),(a:0,-1,1),(a:1,1,-1),(a:-1,-1,0),(a:-1,0,-1),(a:1,-1,0),(a:1,0,1),(a:0,-1,-1),(a:1,0,-1),(a:-1,1,1),(a:1,-1,-1),(a:1,1,0),(a:0,0,-1)),
&quot;850&quot;,	(a:(a:-1,-1,-1),(a:0,1,1),(a:0,-1,0),(a:0,-1,-1),(a:0,0,1),(a:1,1,0),(a:0,1,0),(a:-1,0,-1),(a:1,0,0),(a:0,1,-1),(a:1,-1,0),(a:1,1,1),(a:1,1,-1),(a:1,-1,1),(a:1,0,1),(a:-1,-1,1),(a:-1,1,1),(a:0,0,-1),(a:-1,1,0),(a:-1,0,1),(a:-1,-1,0),(a:-1,0,0),(a:1,-1,-1),(a:-1,1,-1),(a:1,0,-1),(a:0,-1,1)),
&quot;860&quot;,	(a:(a:1,-1,-1),(a:-1,0,-1),(a:1,0,1),(a:1,1,-1),(a:0,-1,0),(a:0,1,-1),(a:1,-1,0),(a:-1,-1,0),(a:-1,1,1),(a:0,0,1),(a:0,1,1),(a:-1,-1,-1),(a:0,1,0),(a:0,-1,-1),(a:0,0,-1),(a:-1,1,0),(a:1,0,0),(a:-1,-1,1),(a:1,-1,1),(a:-1,0,1),(a:-1,0,0),(a:-1,1,-1),(a:1,0,-1),(a:0,-1,1),(a:1,1,0),(a:1,1,1)),
&quot;870&quot;,	(a:(a:1,0,1),(a:1,-1,1),(a:-1,1,0),(a:1,0,0),(a:0,-1,1),(a:-1,0,1),(a:1,0,-1),(a:0,-1,-1),(a:0,1,1),(a:1,1,0),(a:-1,0,0),(a:-1,-1,-1),(a:-1,1,-1),(a:-1,-1,0),(a:-1,-1,1),(a:0,1,-1),(a:1,-1,0),(a:1,-1,-1),(a:1,1,1),(a:0,1,0),(a:0,-1,0),(a:0,0,-1),(a:0,0,1),(a:1,1,-1),(a:-1,0,-1),(a:-1,1,1)),
&quot;880&quot;,	(a:(a:-1,-1,-1),(a:0,-1,0),(a:-1,0,-1),(a:-1,1,1),(a:1,-1,1),(a:0,1,-1),(a:-1,0,1),(a:0,1,1),(a:-1,-1,0),(a:0,1,0),(a:1,-1,-1),(a:1,1,1),(a:1,1,0),(a:-1,-1,1),(a:-1,1,0),(a:0,0,1),(a:1,0,0),(a:0,0,-1),(a:1,0,-1),(a:1,0,1),(a:-1,0,0),(a:-1,1,-1),(a:0,-1,-1),(a:0,-1,1),(a:1,-1,0),(a:1,1,-1)),
&quot;890&quot;,	(a:(a:0,-1,-1),(a:0,1,1),(a:0,0,-1),(a:0,1,-1),(a:1,0,-1),(a:1,1,1),(a:-1,1,-1),(a:-1,0,1),(a:-1,0,-1),(a:-1,1,1),(a:1,-1,-1),(a:-1,-1,0),(a:1,1,0),(a:1,1,-1),(a:0,1,0),(a:-1,-1,1),(a:0,-1,1),(a:1,-1,1),(a:-1,1,0),(a:-1,0,0),(a:-1,-1,-1),(a:0,-1,0),(a:0,0,1),(a:1,-1,0),(a:1,0,0),(a:1,0,1)),
&quot;900&quot;,	(a:(a:-1,-1,1),(a:-1,1,1),(a:0,0,1),(a:1,-1,-1),(a:-1,-1,-1),(a:1,1,0),(a:-1,0,0),(a:0,-1,0),(a:1,-1,1),(a:0,1,-1),(a:0,0,-1),(a:0,1,1),(a:1,-1,0),(a:-1,1,-1),(a:1,1,-1),(a:1,0,0),(a:-1,-1,0),(a:-1,0,-1),(a:0,-1,-1),(a:0,-1,1),(a:1,1,1),(a:-1,0,1),(a:1,0,-1),(a:0,1,0),(a:-1,1,0),(a:1,0,1)),
&quot;910&quot;,	(a:(a:0,-1,1),(a:-1,0,-1),(a:1,-1,0),(a:1,0,0),(a:-1,-1,0),(a:-1,0,0),(a:1,-1,-1),(a:-1,-1,1),(a:1,1,0),(a:1,1,-1),(a:1,0,-1),(a:-1,1,-1),(a:-1,1,1),(a:0,0,-1),(a:0,-1,-1),(a:0,0,1),(a:0,-1,0),(a:-1,1,0),(a:-1,0,1),(a:1,0,1),(a:0,1,-1),(a:0,1,0),(a:1,-1,1),(a:-1,-1,-1),(a:0,1,1),(a:1,1,1)),
&quot;920&quot;,	(a:(a:1,0,0),(a:1,1,1),(a:0,-1,1),(a:-1,1,-1),(a:0,1,-1),(a:-1,-1,-1),(a:1,-1,-1),(a:0,-1,-1),(a:0,1,1),(a:1,1,-1),(a:1,0,1),(a:-1,1,0),(a:-1,0,0),(a:1,-1,0),(a:0,0,1),(a:-1,1,1),(a:0,1,0),(a:-1,-1,0),(a:-1,-1,1),(a:1,-1,1),(a:0,-1,0),(a:-1,0,-1),(a:-1,0,1),(a:0,0,-1),(a:1,0,-1),(a:1,1,0)),
&quot;930&quot;,	(a:(a:0,1,-1),(a:1,1,1),(a:0,0,1),(a:0,-1,1),(a:1,-1,-1),(a:0,-1,-1),(a:0,-1,0),(a:1,-1,0),(a:1,1,-1),(a:-1,0,-1),(a:1,0,-1),(a:-1,0,1),(a:1,0,1),(a:0,0,-1),(a:-1,-1,-1),(a:-1,1,0),(a:1,-1,1),(a:-1,1,1),(a:-1,0,0),(a:-1,-1,1),(a:0,1,0),(a:-1,-1,0),(a:0,1,1),(a:1,1,0),(a:1,0,0),(a:-1,1,-1)),
&quot;940&quot;,	(a:(a:-1,0,1),(a:1,-1,0),(a:1,0,-1),(a:0,0,1),(a:0,0,-1),(a:-1,1,1),(a:-1,-1,-1),(a:0,-1,1),(a:1,1,0),(a:0,1,0),(a:-1,-1,0),(a:0,-1,0),(a:1,0,1),(a:-1,1,-1),(a:1,1,-1),(a:0,-1,-1),(a:1,0,0),(a:1,1,1),(a:0,1,-1),(a:1,-1,1),(a:-1,-1,1),(a:-1,0,0),(a:1,-1,-1),(a:-1,0,-1),(a:0,1,1),(a:-1,1,0)),
&quot;950&quot;,	(a:(a:0,1,0),(a:-1,1,0),(a:1,0,0),(a:1,-1,1),(a:0,0,-1),(a:-1,-1,-1),(a:0,1,1),(a:0,-1,0),(a:-1,1,-1),(a:-1,-1,1),(a:0,1,-1),(a:-1,-1,0),(a:1,1,0),(a:-1,0,-1),(a:0,-1,-1),(a:1,-1,0),(a:0,0,1),(a:0,-1,1),(a:-1,0,0),(a:1,-1,-1),(a:-1,0,1),(a:1,1,-1),(a:1,0,-1),(a:1,0,1),(a:-1,1,1),(a:1,1,1)),
&quot;960&quot;,	(a:(a:0,1,-1),(a:1,1,-1),(a:0,0,1),(a:0,1,0),(a:-1,1,0),(a:0,1,1),(a:0,-1,1),(a:-1,0,1),(a:-1,-1,-1),(a:-1,-1,0),(a:0,0,-1),(a:0,-1,0),(a:-1,1,-1),(a:-1,-1,1),(a:1,-1,1),(a:1,0,-1),(a:1,0,1),(a:1,1,0),(a:1,0,0),(a:1,-1,-1),(a:1,-1,0),(a:0,-1,-1),(a:-1,1,1),(a:-1,0,-1),(a:-1,0,0),(a:1,1,1)),
&quot;970&quot;,	(a:(a:-1,1,1),(a:1,-1,-1),(a:-1,-1,-1),(a:0,0,-1),(a:1,0,1),(a:-1,-1,1),(a:1,0,-1),(a:0,0,1),(a:0,1,-1),(a:0,-1,1),(a:-1,-1,0),(a:1,1,-1),(a:0,1,0),(a:0,-1,0),(a:-1,0,-1),(a:-1,0,1),(a:-1,1,0),(a:1,1,0),(a:-1,0,0),(a:-1,1,-1),(a:1,1,1),(a:1,0,0),(a:1,-1,0),(a:0,-1,-1),(a:1,-1,1),(a:0,1,1)),
&quot;980&quot;,	(a:(a:-1,-1,-1),(a:-1,0,1),(a:-1,1,1),(a:0,-1,0),(a:0,1,0),(a:0,0,1),(a:0,0,-1),(a:1,0,-1),(a:-1,-1,1),(a:0,-1,-1),(a:-1,0,0),(a:-1,1,-1),(a:1,1,-1),(a:1,0,1),(a:1,-1,-1),(a:0,1,1),(a:1,1,1),(a:1,-1,1),(a:-1,1,0),(a:1,1,0),(a:-1,0,-1),(a:1,-1,0),(a:0,1,-1),(a:-1,-1,0),(a:0,-1,1),(a:1,0,0)),
&quot;990&quot;,	(a:(a:1,0,1),(a:-1,0,-1),(a:-1,1,-1),(a:-1,1,1),(a:1,-1,-1),(a:1,-1,0),(a:-1,-1,1),(a:-1,0,1),(a:-1,0,0),(a:1,1,0),(a:1,0,-1),(a:0,0,1),(a:-1,-1,0),(a:1,0,0),(a:-1,-1,-1),(a:0,1,-1),(a:0,0,-1),(a:0,1,0),(a:0,-1,0),(a:-1,1,0),(a:0,-1,1),(a:0,-1,-1),(a:1,1,1),(a:1,-1,1),(a:1,1,-1),(a:0,1,1)),
&quot;1000&quot;,	(a:(a:1,0,0),(a:0,0,-1),(a:1,-1,-1),(a:-1,0,1),(a:1,0,1),(a:0,-1,1),(a:0,0,1),(a:0,1,0),(a:-1,-1,1),(a:1,-1,1),(a:0,1,1),(a:0,-1,-1),(a:1,0,-1),(a:-1,-1,-1),(a:-1,1,1),(a:1,1,-1),(a:0,-1,0),(a:0,1,-1),(a:-1,-1,0),(a:-1,1,-1),(a:1,1,1),(a:-1,0,-1),(a:-1,0,0),(a:1,1,0),(a:1,-1,0),(a:-1,1,0)),
&quot;1010&quot;,	(a:(a:-1,-1,-1),(a:-1,-1,0),(a:1,0,0),(a:-1,1,-1),(a:0,1,0),(a:1,0,1),(a:0,1,1),(a:0,0,-1),(a:1,1,-1),(a:-1,-1,1),(a:1,-1,0),(a:-1,1,1),(a:1,1,0),(a:1,0,-1),(a:1,1,1),(a:0,-1,-1),(a:-1,0,-1),(a:1,-1,1),(a:0,0,1),(a:-1,0,0),(a:-1,1,0),(a:0,-1,1),(a:-1,0,1),(a:0,-1,0),(a:1,-1,-1),(a:0,1,-1)),
&quot;1020&quot;,	(a:(a:1,-1,-1),(a:1,1,1),(a:1,-1,1),(a:1,-1,0),(a:-1,1,0),(a:-1,0,-1),(a:0,0,1),(a:0,1,1),(a:0,1,-1),(a:-1,0,0),(a:0,-1,0),(a:0,1,0),(a:-1,-1,0),(a:-1,-1,1),(a:-1,1,-1),(a:1,0,1),(a:-1,1,1),(a:1,1,-1),(a:-1,0,1),(a:-1,-1,-1),(a:0,0,-1),(a:0,-1,-1),(a:0,-1,1),(a:1,0,0),(a:1,1,0),(a:1,0,-1)),
&quot;1030&quot;,	(a:(a:1,1,0),(a:-1,-1,1),(a:-1,-1,0),(a:0,0,1),(a:0,1,-1),(a:1,-1,-1),(a:-1,0,1),(a:1,1,1),(a:-1,0,0),(a:0,1,0),(a:-1,1,1),(a:1,-1,0),(a:1,0,0),(a:1,0,-1),(a:1,0,1),(a:-1,1,-1),(a:1,1,-1),(a:-1,0,-1),(a:0,-1,1),(a:0,1,1),(a:-1,-1,-1),(a:0,-1,-1),(a:1,-1,1),(a:0,0,-1),(a:0,-1,0),(a:-1,1,0)),
&quot;1040&quot;,	(a:(a:0,1,0),(a:-1,-1,-1),(a:1,-1,-1),(a:0,1,1),(a:-1,-1,0),(a:0,-1,0),(a:-1,0,-1),(a:1,-1,1),(a:0,0,1),(a:1,0,1),(a:0,-1,1),(a:-1,-1,1),(a:0,1,-1),(a:0,-1,-1),(a:1,0,0),(a:1,-1,0),(a:-1,0,0),(a:-1,0,1),(a:1,0,-1),(a:0,0,-1),(a:1,1,-1),(a:-1,1,0),(a:-1,1,-1),(a:-1,1,1),(a:1,1,0),(a:1,1,1)),
&quot;1050&quot;,	(a:(a:0,-1,1),(a:0,-1,-1),(a:0,0,-1),(a:0,1,1),(a:0,1,-1),(a:0,-1,0),(a:1,0,1),(a:1,-1,0),(a:-1,0,1),(a:-1,-1,-1),(a:-1,0,0),(a:-1,1,1),(a:1,1,0),(a:1,-1,-1),(a:1,1,-1),(a:1,0,0),(a:1,1,1),(a:-1,0,-1),(a:1,-1,1),(a:0,0,1),(a:-1,-1,0),(a:1,0,-1),(a:-1,1,-1),(a:-1,-1,1),(a:-1,1,0),(a:0,1,0)),
&quot;1060&quot;,	(a:(a:1,1,-1),(a:-1,0,1),(a:1,-1,-1),(a:1,1,1),(a:-1,1,0),(a:0,1,0),(a:0,-1,-1),(a:-1,1,-1),(a:-1,-1,-1),(a:1,0,-1),(a:0,-1,0),(a:-1,-1,1),(a:0,-1,1),(a:-1,-1,0),(a:1,-1,0),(a:-1,0,0),(a:-1,1,1),(a:1,0,0),(a:-1,0,-1),(a:0,0,-1),(a:1,1,0),(a:0,0,1),(a:0,1,1),(a:0,1,-1),(a:1,-1,1),(a:1,0,1)),
&quot;1070&quot;,	(a:(a:1,-1,1),(a:-1,0,-1),(a:0,0,-1),(a:1,0,1),(a:0,-1,0),(a:0,-1,1),(a:-1,1,0),(a:1,1,0),(a:0,-1,-1),(a:1,-1,0),(a:-1,-1,1),(a:1,0,0),(a:1,1,1),(a:1,1,-1),(a:-1,0,1),(a:1,-1,-1),(a:-1,-1,-1),(a:-1,-1,0),(a:-1,1,-1),(a:0,1,-1),(a:1,0,-1),(a:0,1,1),(a:0,1,0),(a:0,0,1),(a:-1,0,0),(a:-1,1,1)),
&quot;1080&quot;,	(a:(a:-1,0,-1),(a:0,0,-1),(a:1,1,-1),(a:-1,0,0),(a:1,1,1),(a:-1,1,-1),(a:-1,1,1),(a:1,0,1),(a:0,-1,0),(a:0,1,-1),(a:-1,-1,0),(a:1,0,0),(a:1,-1,0),(a:-1,0,1),(a:-1,1,0),(a:0,-1,1),(a:1,-1,1),(a:-1,-1,-1),(a:0,0,1),(a:1,1,0),(a:-1,-1,1),(a:1,-1,-1),(a:1,0,-1),(a:0,1,1),(a:0,-1,-1),(a:0,1,0)),
&quot;1090&quot;,	(a:(a:0,1,-1),(a:0,-1,1),(a:-1,-1,0),(a:-1,-1,-1),(a:1,-1,1),(a:1,0,0),(a:-1,0,0),(a:-1,-1,1),(a:-1,0,1),(a:1,1,1),(a:1,1,0),(a:0,-1,0),(a:1,-1,0),(a:0,1,0),(a:-1,1,-1),(a:-1,0,-1),(a:1,0,-1),(a:1,1,-1),(a:-1,1,0),(a:0,0,-1),(a:1,-1,-1),(a:-1,1,1),(a:1,0,1),(a:0,-1,-1),(a:0,0,1),(a:0,1,1)),
&quot;1100&quot;,	(a:(a:-1,0,1),(a:1,0,0),(a:-1,0,-1),(a:-1,1,1),(a:0,-1,0),(a:1,1,1),(a:1,1,0),(a:-1,-1,-1),(a:0,1,1),(a:0,-1,1),(a:1,0,-1),(a:0,-1,-1),(a:0,1,0),(a:-1,1,-1),(a:0,0,-1),(a:0,0,1),(a:1,0,1),(a:-1,0,0),(a:1,-1,0),(a:0,1,-1),(a:-1,-1,0),(a:-1,1,0),(a:1,1,-1),(a:1,-1,1),(a:-1,-1,1),(a:1,-1,-1)),
&quot;1110&quot;,	(a:(a:-1,1,0),(a:1,-1,-1),(a:1,1,0),(a:1,0,1),(a:-1,-1,-1),(a:1,1,1),(a:-1,1,1),(a:0,0,-1),(a:-1,-1,0),(a:-1,0,-1),(a:-1,1,-1),(a:-1,-1,1),(a:0,0,1),(a:0,-1,1),(a:1,1,-1),(a:0,1,0),(a:-1,0,1),(a:0,-1,-1),(a:-1,0,0),(a:0,1,1),(a:0,-1,0),(a:0,1,-1),(a:1,-1,1),(a:1,-1,0),(a:1,0,0),(a:1,0,-1)),
&quot;1120&quot;,	(a:(a:0,0,1),(a:-1,1,-1),(a:0,1,1),(a:1,0,-1),(a:-1,1,1),(a:-1,-1,-1),(a:0,1,0),(a:0,-1,0),(a:1,1,-1),(a:-1,-1,0),(a:0,1,-1),(a:-1,0,1),(a:1,-1,-1),(a:1,-1,0),(a:0,0,-1),(a:-1,0,0),(a:1,1,0),(a:-1,1,0),(a:-1,-1,1),(a:0,-1,1),(a:1,0,0),(a:-1,0,-1),(a:0,-1,-1),(a:1,1,1),(a:1,0,1),(a:1,-1,1)),
&quot;1130&quot;,	(a:(a:-1,-1,-1),(a:0,-1,0),(a:-1,0,0),(a:-1,1,-1),(a:1,-1,1),(a:0,-1,-1),(a:-1,-1,0),(a:1,1,1),(a:-1,1,0),(a:1,1,-1),(a:0,1,0),(a:1,0,-1),(a:1,-1,-1),(a:-1,1,1),(a:-1,0,1),(a:1,0,1),(a:-1,0,-1),(a:1,1,0),(a:0,1,1),(a:1,-1,0),(a:0,0,1),(a:0,1,-1),(a:0,-1,1),(a:1,0,0),(a:0,0,-1),(a:-1,-1,1)),
&quot;1140&quot;,	(a:(a:1,1,0),(a:0,0,1),(a:1,0,0),(a:1,1,1),(a:1,-1,0),(a:-1,-1,0),(a:0,-1,-1),(a:-1,1,0),(a:1,0,-1),(a:1,1,-1),(a:-1,-1,-1),(a:-1,-1,1),(a:-1,1,-1),(a:1,0,1),(a:0,-1,1),(a:-1,0,0),(a:0,1,-1),(a:1,-1,-1),(a:0,1,0),(a:0,-1,0),(a:0,0,-1),(a:-1,0,-1),(a:-1,0,1),(a:-1,1,1),(a:0,1,1),(a:1,-1,1)),
&quot;1150&quot;,	(a:(a:-1,0,-1),(a:0,-1,-1),(a:-1,1,-1),(a:0,-1,1),(a:-1,0,1),(a:0,0,1),(a:-1,-1,-1),(a:1,-1,0),(a:1,-1,-1),(a:1,0,-1),(a:1,-1,1),(a:-1,-1,0),(a:1,1,0),(a:-1,0,0),(a:0,0,-1),(a:1,1,1),(a:1,1,-1),(a:-1,1,0),(a:0,1,-1),(a:-1,-1,1),(a:-1,1,1),(a:0,-1,0),(a:1,0,1),(a:1,0,0),(a:0,1,0),(a:0,1,1)),
&quot;1160&quot;,	(a:(a:1,1,1),(a:0,0,1),(a:0,-1,-1),(a:-1,-1,1),(a:1,1,0),(a:-1,1,1),(a:1,-1,0),(a:1,-1,1),(a:1,1,-1),(a:1,-1,-1),(a:-1,-1,-1),(a:1,0,0),(a:-1,0,1),(a:-1,0,0),(a:0,1,1),(a:-1,-1,0),(a:0,-1,0),(a:-1,0,-1),(a:1,0,1),(a:0,1,-1),(a:0,0,-1),(a:1,0,-1),(a:-1,1,-1),(a:0,1,0),(a:-1,1,0),(a:0,-1,1)),
&quot;1170&quot;,	(a:(a:-1,-1,-1),(a:1,1,1),(a:0,-1,0),(a:0,0,-1),(a:1,-1,0),(a:0,1,1),(a:0,-1,1),(a:0,1,-1),(a:1,-1,1),(a:0,-1,-1),(a:1,0,0),(a:0,1,0),(a:-1,1,-1),(a:1,1,0),(a:1,-1,-1),(a:1,1,-1),(a:1,0,-1),(a:-1,-1,1),(a:-1,1,1),(a:-1,-1,0),(a:-1,1,0),(a:-1,0,-1),(a:-1,0,1),(a:-1,0,0),(a:0,0,1),(a:1,0,1)),
&quot;1180&quot;,	(a:(a:0,1,0),(a:1,1,-1),(a:-1,0,0),(a:0,0,-1),(a:1,-1,1),(a:0,1,1),(a:-1,-1,-1),(a:1,0,-1),(a:-1,1,-1),(a:0,0,1),(a:1,0,1),(a:-1,-1,0),(a:1,0,0),(a:0,-1,1),(a:0,1,-1),(a:1,-1,0),(a:-1,0,1),(a:-1,1,1),(a:-1,-1,1),(a:1,-1,-1),(a:-1,0,-1),(a:1,1,1),(a:1,1,0),(a:0,-1,0),(a:-1,1,0),(a:0,-1,-1)),
&quot;1190&quot;,	(a:(a:1,0,0),(a:-1,0,1),(a:0,1,0),(a:-1,0,-1),(a:1,1,-1),(a:0,-1,-1),(a:-1,-1,0),(a:1,1,1),(a:0,1,-1),(a:1,0,1),(a:1,1,0),(a:0,1,1),(a:0,-1,1),(a:0,0,-1),(a:0,0,1),(a:1,0,-1),(a:-1,-1,-1),(a:-1,-1,1),(a:1,-1,-1),(a:-1,1,0),(a:1,-1,1),(a:0,-1,0),(a:-1,1,-1),(a:-1,0,0),(a:-1,1,1),(a:1,-1,0)),
&quot;1200&quot;,	(a:(a:-1,1,0),(a:0,1,1),(a:-1,1,-1),(a:1,1,1),(a:0,0,-1),(a:1,1,-1),(a:-1,0,-1),(a:0,-1,1),(a:-1,-1,-1),(a:0,1,0),(a:1,-1,0),(a:0,-1,0),(a:1,1,0),(a:-1,-1,1),(a:-1,-1,0),(a:-1,1,1),(a:1,0,0),(a:0,-1,-1),(a:-1,0,0),(a:-1,0,1),(a:1,0,1),(a:1,0,-1),(a:1,-1,1),(a:0,1,-1),(a:0,0,1),(a:1,-1,-1)),
&quot;1210&quot;,	(a:(a:-1,0,0),(a:-1,1,0),(a:0,0,-1),(a:1,1,1),(a:-1,-1,-1),(a:1,-1,1),(a:0,1,1),(a:-1,-1,0),(a:1,1,0),(a:-1,1,-1),(a:0,-1,-1),(a:1,0,0),(a:1,0,-1),(a:1,0,1),(a:-1,1,1),(a:0,-1,1),(a:0,1,0),(a:-1,-1,1),(a:0,1,-1),(a:0,-1,0),(a:-1,0,-1),(a:1,-1,-1),(a:1,1,-1),(a:0,0,1),(a:-1,0,1),(a:1,-1,0)),
&quot;1220&quot;,	(a:(a:1,0,1),(a:-1,-1,-1),(a:0,-1,0),(a:-1,-1,0),(a:0,1,-1),(a:-1,-1,1),(a:0,-1,1),(a:0,0,1),(a:0,0,-1),(a:1,-1,1),(a:1,-1,0),(a:0,-1,-1),(a:0,1,1),(a:-1,1,1),(a:1,-1,-1),(a:-1,1,0),(a:1,0,0),(a:1,1,-1),(a:-1,0,1),(a:1,1,1),(a:1,1,0),(a:0,1,0),(a:-1,0,-1),(a:-1,1,-1),(a:1,0,-1),(a:-1,0,0)),
&quot;1230&quot;,	(a:(a:-1,1,1),(a:0,1,-1),(a:1,1,1),(a:-1,1,-1),(a:1,1,-1),(a:1,0,-1),(a:0,-1,1),(a:-1,-1,1),(a:0,1,1),(a:0,-1,-1),(a:0,-1,0),(a:-1,1,0),(a:1,0,0),(a:-1,-1,-1),(a:-1,0,-1),(a:1,-1,-1),(a:-1,-1,0),(a:1,1,0),(a:1,0,1),(a:-1,0,0),(a:0,1,0),(a:1,-1,0),(a:1,-1,1),(a:0,0,1),(a:-1,0,1),(a:0,0,-1)),
&quot;1240&quot;,	(a:(a:1,0,0),(a:-1,0,-1),(a:0,-1,1),(a:-1,1,-1),(a:-1,-1,-1),(a:1,0,1),(a:1,-1,0),(a:-1,-1,0),(a:-1,1,0),(a:0,0,1),(a:-1,1,1),(a:-1,0,1),(a:1,1,1),(a:1,1,0),(a:0,0,-1),(a:0,-1,-1),(a:0,-1,0),(a:1,1,-1),(a:-1,-1,1),(a:-1,0,0),(a:0,1,-1),(a:0,1,1),(a:0,1,0),(a:1,-1,1),(a:1,0,-1),(a:1,-1,-1)),
&quot;1250&quot;,	(a:(a:-1,-1,-1),(a:1,-1,1),(a:-1,1,1),(a:-1,-1,0),(a:1,-1,0),(a:0,0,-1),(a:0,-1,1),(a:-1,1,-1),(a:1,-1,-1),(a:1,0,-1),(a:0,1,0),(a:1,1,1),(a:1,1,0),(a:-1,-1,1),(a:-1,0,-1),(a:1,0,0),(a:1,1,-1),(a:0,1,-1),(a:0,1,1),(a:-1,0,0),(a:-1,1,0),(a:-1,0,1),(a:0,-1,0),(a:1,0,1),(a:0,0,1),(a:0,-1,-1)),
&quot;1260&quot;,	(a:(a:-1,-1,-1),(a:1,0,-1),(a:-1,-1,0),(a:1,0,0),(a:0,-1,0),(a:-1,0,1),(a:1,1,-1),(a:-1,1,-1),(a:1,1,1),(a:-1,1,1),(a:0,0,1),(a:0,-1,1),(a:-1,-1,1),(a:1,0,1),(a:0,-1,-1),(a:0,1,1),(a:-1,0,-1),(a:-1,0,0),(a:0,1,-1),(a:1,-1,-1),(a:1,1,0),(a:1,-1,0),(a:-1,1,0),(a:0,0,-1),(a:0,1,0),(a:1,-1,1)),
&quot;1270&quot;,	(a:(a:0,1,1),(a:0,-1,-1),(a:0,-1,1),(a:0,0,1),(a:1,-1,0),(a:0,1,0),(a:1,1,1),(a:-1,-1,1),(a:0,1,-1),(a:-1,-1,-1),(a:-1,-1,0),(a:1,1,-1),(a:1,-1,-1),(a:-1,0,-1),(a:-1,0,1),(a:1,0,-1),(a:1,0,1),(a:-1,1,1),(a:1,1,0),(a:-1,1,0),(a:0,-1,0),(a:1,0,0),(a:-1,0,0),(a:0,0,-1),(a:-1,1,-1),(a:1,-1,1)),
&quot;1280&quot;,	(a:(a:0,0,-1),(a:0,-1,1),(a:-1,0,1),(a:-1,-1,0),(a:1,1,0),(a:-1,0,0),(a:1,0,1),(a:0,1,-1),(a:-1,-1,-1),(a:1,0,-1),(a:1,-1,0),(a:1,-1,1),(a:-1,1,0),(a:1,0,0),(a:0,-1,0),(a:0,1,0),(a:1,1,-1),(a:1,1,1),(a:0,-1,-1),(a:-1,1,-1),(a:-1,-1,1),(a:-1,0,-1),(a:0,1,1),(a:-1,1,1),(a:0,0,1),(a:1,-1,-1)),
&quot;1290&quot;,	(a:(a:1,0,0),(a:-1,0,1),(a:0,1,-1),(a:0,1,0),(a:1,0,1),(a:-1,1,-1),(a:0,1,1),(a:0,0,-1),(a:1,-1,0),(a:1,1,0),(a:-1,1,0),(a:-1,-1,-1),(a:-1,0,0),(a:-1,1,1),(a:1,1,-1),(a:0,-1,0),(a:-1,0,-1),(a:-1,-1,0),(a:0,0,1),(a:1,1,1),(a:1,-1,-1),(a:-1,-1,1),(a:1,-1,1),(a:0,-1,-1),(a:0,-1,1),(a:1,0,-1)),
&quot;1300&quot;,	(a:(a:0,-1,1),(a:0,0,-1),(a:0,1,-1),(a:0,1,0),(a:0,-1,0),(a:1,1,-1),(a:-1,1,0),(a:-1,0,-1),(a:-1,-1,0),(a:-1,1,1),(a:1,1,0),(a:-1,0,1),(a:-1,-1,-1),(a:1,0,-1),(a:1,-1,1),(a:1,0,0),(a:0,0,1),(a:-1,-1,1),(a:1,-1,0),(a:1,1,1),(a:1,0,1),(a:1,-1,-1),(a:-1,0,0),(a:0,1,1),(a:-1,1,-1),(a:0,-1,-1)),
&quot;1310&quot;,	(a:(a:0,1,-1),(a:1,1,1),(a:1,-1,0),(a:-1,0,1),(a:1,0,0),(a:1,0,-1),(a:-1,0,-1),(a:-1,-1,-1),(a:1,-1,-1),(a:0,1,1),(a:0,0,-1),(a:-1,1,0),(a:-1,1,-1),(a:-1,-1,0),(a:1,0,1),(a:0,-1,1),(a:0,0,1),(a:0,-1,-1),(a:1,1,-1),(a:-1,1,1),(a:0,-1,0),(a:1,1,0),(a:0,1,0),(a:-1,-1,1),(a:-1,0,0),(a:1,-1,1)),
&quot;1320&quot;,	(a:(a:0,1,1),(a:1,0,1),(a:1,-1,0),(a:-1,0,1),(a:-1,-1,0),(a:-1,-1,-1),(a:1,1,1),(a:-1,0,0),(a:-1,-1,1),(a:0,-1,1),(a:0,-1,-1),(a:-1,1,0),(a:1,1,-1),(a:1,1,0),(a:0,1,0),(a:-1,0,-1),(a:-1,1,-1),(a:-1,1,1),(a:1,0,-1),(a:0,0,-1),(a:1,-1,1),(a:1,0,0),(a:0,-1,0),(a:1,-1,-1),(a:0,1,-1),(a:0,0,1)),
&quot;1330&quot;,	(a:(a:1,1,0),(a:1,0,1),(a:1,-1,0),(a:-1,-1,-1),(a:-1,-1,0),(a:0,1,0),(a:1,-1,1),(a:-1,-1,1),(a:-1,1,0),(a:0,0,-1),(a:0,0,1),(a:-1,0,0),(a:-1,1,-1),(a:-1,0,-1),(a:0,-1,-1),(a:1,0,-1),(a:-1,1,1),(a:0,-1,1),(a:1,-1,-1),(a:-1,0,1),(a:0,-1,0),(a:1,1,-1),(a:1,0,0),(a:1,1,1),(a:0,1,-1),(a:0,1,1)),
&quot;1340&quot;,	(a:(a:0,-1,-1),(a:-1,-1,0),(a:0,1,1),(a:-1,0,1),(a:1,-1,1),(a:1,1,1),(a:0,-1,0),(a:0,0,-1),(a:1,1,0),(a:0,0,1),(a:0,1,0),(a:-1,1,-1),(a:-1,1,1),(a:-1,-1,-1),(a:0,1,-1),(a:1,0,-1),(a:1,0,1),(a:0,-1,1),(a:1,1,-1),(a:-1,-1,1),(a:1,-1,0),(a:-1,0,-1),(a:-1,1,0),(a:1,0,0),(a:1,-1,-1),(a:-1,0,0)),
&quot;1350&quot;,	(a:(a:1,1,1),(a:-1,0,0),(a:1,1,-1),(a:-1,1,1),(a:-1,1,-1),(a:-1,-1,1),(a:1,-1,1),(a:0,-1,-1),(a:0,1,-1),(a:1,0,-1),(a:0,-1,1),(a:-1,0,1),(a:-1,-1,0),(a:1,1,0),(a:0,0,-1),(a:1,-1,0),(a:-1,-1,-1),(a:0,0,1),(a:1,0,0),(a:0,-1,0),(a:1,0,1),(a:-1,0,-1),(a:-1,1,0),(a:0,1,0),(a:0,1,1),(a:1,-1,-1)),
&quot;1360&quot;,	(a:(a:1,-1,-1),(a:1,0,1),(a:-1,-1,-1),(a:1,0,0),(a:-1,1,1),(a:-1,0,0),(a:1,-1,1),(a:-1,1,0),(a:0,1,-1),(a:0,0,1),(a:-1,1,-1),(a:0,-1,-1),(a:1,1,0),(a:1,1,-1),(a:1,1,1),(a:0,-1,0),(a:1,0,-1),(a:0,1,1),(a:0,1,0),(a:0,0,-1),(a:-1,0,-1),(a:0,-1,1),(a:-1,0,1),(a:1,-1,0),(a:-1,-1,0),(a:-1,-1,1)),
&quot;1370&quot;,	(a:(a:-1,1,-1),(a:-1,1,1),(a:1,-1,0),(a:-1,-1,0),(a:1,-1,-1),(a:0,-1,-1),(a:1,0,0),(a:-1,-1,-1),(a:1,1,1),(a:1,0,-1),(a:-1,0,0),(a:0,1,-1),(a:0,1,1),(a:0,0,-1),(a:1,1,-1),(a:0,-1,1),(a:1,1,0),(a:-1,0,-1),(a:0,1,0),(a:-1,1,0),(a:1,0,1),(a:1,-1,1),(a:-1,-1,1),(a:-1,0,1),(a:0,-1,0),(a:0,0,1)),
&quot;1380&quot;,	(a:(a:-1,-1,-1),(a:-1,0,1),(a:-1,0,0),(a:-1,1,1),(a:0,1,1),(a:-1,1,0),(a:1,-1,1),(a:-1,-1,0),(a:0,-1,1),(a:1,-1,0),(a:0,0,1),(a:-1,-1,1),(a:-1,1,-1),(a:1,0,1),(a:1,0,0),(a:1,1,-1),(a:0,-1,-1),(a:0,0,-1),(a:1,-1,-1),(a:0,1,-1),(a:1,0,-1),(a:1,1,1),(a:0,-1,0),(a:1,1,0),(a:0,1,0),(a:-1,0,-1)),
&quot;1390&quot;,	(a:(a:1,1,1),(a:1,-1,1),(a:-1,-1,-1),(a:-1,1,0),(a:1,0,1),(a:-1,-1,1),(a:1,-1,0),(a:-1,1,-1),(a:1,1,0),(a:1,-1,-1),(a:-1,-1,0),(a:1,0,-1),(a:-1,0,1),(a:0,-1,1),(a:0,1,0),(a:-1,0,-1),(a:1,0,0),(a:-1,0,0),(a:0,-1,-1),(a:0,0,1),(a:-1,1,1),(a:0,-1,0),(a:0,0,-1),(a:0,1,-1),(a:1,1,-1),(a:0,1,1)),
&quot;1400&quot;,	(a:(a:1,0,-1),(a:-1,1,0),(a:-1,-1,-1),(a:1,1,0),(a:0,0,-1),(a:1,-1,-1),(a:-1,0,-1),(a:0,1,0),(a:1,-1,0),(a:1,1,1),(a:1,0,1),(a:0,-1,1),(a:0,1,-1),(a:0,1,1),(a:-1,-1,0),(a:-1,0,1),(a:1,-1,1),(a:0,-1,0),(a:-1,0,0),(a:0,-1,-1),(a:0,0,1),(a:-1,1,-1),(a:1,0,0),(a:-1,1,1),(a:-1,-1,1),(a:1,1,-1)),
&quot;1410&quot;,	(a:(a:0,0,-1),(a:1,-1,0),(a:1,0,0),(a:0,0,1),(a:-1,-1,-1),(a:-1,1,0),(a:-1,-1,0),(a:-1,0,0),(a:-1,-1,1),(a:1,1,0),(a:0,-1,-1),(a:1,-1,1),(a:-1,0,1),(a:0,1,1),(a:0,1,-1),(a:1,-1,-1),(a:0,-1,1),(a:1,0,-1),(a:-1,0,-1),(a:-1,1,-1),(a:-1,1,1),(a:0,1,0),(a:0,-1,0),(a:1,0,1),(a:1,1,1),(a:1,1,-1)),
&quot;1420&quot;,	(a:(a:1,1,0),(a:1,-1,0),(a:-1,0,-1),(a:-1,-1,1),(a:-1,1,-1),(a:-1,1,1),(a:1,0,-1),(a:-1,0,0),(a:-1,-1,0),(a:1,-1,1),(a:1,0,1),(a:1,-1,-1),(a:0,1,0),(a:-1,1,0),(a:1,0,0),(a:-1,-1,-1),(a:0,1,-1),(a:0,0,-1),(a:1,1,-1),(a:-1,0,1),(a:0,-1,-1),(a:0,-1,1),(a:0,-1,0),(a:0,0,1),(a:1,1,1),(a:0,1,1)),
&quot;1430&quot;,	(a:(a:-1,-1,0),(a:0,0,-1),(a:1,-1,0),(a:0,-1,1),(a:-1,0,0),(a:1,0,-1),(a:1,1,0),(a:1,1,-1),(a:0,1,0),(a:-1,0,-1),(a:-1,1,0),(a:1,0,0),(a:-1,-1,1),(a:1,-1,1),(a:-1,-1,-1),(a:-1,0,1),(a:0,-1,-1),(a:-1,1,-1),(a:0,1,-1),(a:0,-1,0),(a:1,0,1),(a:1,1,1),(a:0,1,1),(a:0,0,1),(a:-1,1,1),(a:1,-1,-1)),
&quot;1440&quot;,	(a:(a:0,0,1),(a:-1,1,-1),(a:-1,0,0),(a:0,1,0),(a:-1,-1,1),(a:1,0,0),(a:-1,0,-1),(a:-1,1,0),(a:0,-1,0),(a:-1,0,1),(a:1,1,1),(a:-1,-1,0),(a:1,0,1),(a:-1,-1,-1),(a:0,1,-1),(a:0,1,1),(a:1,-1,0),(a:1,1,-1),(a:-1,1,1),(a:0,-1,-1),(a:0,-1,1),(a:1,-1,-1),(a:1,0,-1),(a:1,1,0),(a:1,-1,1),(a:0,0,-1)),
&quot;1450&quot;,	(a:(a:-1,-1,-1),(a:0,0,1),(a:-1,1,0),(a:0,1,1),(a:1,0,0),(a:-1,-1,0),(a:1,-1,0),(a:0,-1,0),(a:0,-1,-1),(a:0,0,-1),(a:-1,-1,1),(a:1,0,-1),(a:1,0,1),(a:1,1,0),(a:0,-1,1),(a:-1,0,1),(a:-1,0,-1),(a:0,1,-1),(a:1,1,1),(a:-1,0,0),(a:-1,1,-1),(a:1,1,-1),(a:1,-1,-1),(a:-1,1,1),(a:0,1,0),(a:1,-1,1)),
&quot;1460&quot;,	(a:(a:-1,1,-1),(a:-1,-1,1),(a:-1,1,0),(a:0,-1,0),(a:-1,0,1),(a:-1,0,-1),(a:-1,1,1),(a:1,1,1),(a:0,-1,1),(a:1,-1,-1),(a:-1,0,0),(a:-1,-1,0),(a:-1,-1,-1),(a:0,-1,-1),(a:0,1,-1),(a:0,1,0),(a:1,1,0),(a:0,0,1),(a:1,0,0),(a:1,0,-1),(a:1,0,1),(a:0,0,-1),(a:1,1,-1),(a:0,1,1),(a:1,-1,1),(a:1,-1,0)),
&quot;1470&quot;,	(a:(a:-1,1,-1),(a:-1,1,1),(a:0,0,1),(a:-1,0,0),(a:1,1,0),(a:1,-1,0),(a:1,0,1),(a:-1,0,1),(a:-1,-1,-1),(a:0,-1,-1),(a:0,1,1),(a:0,-1,1),(a:1,1,-1),(a:-1,1,0),(a:0,-1,0),(a:-1,-1,1),(a:1,-1,1),(a:-1,0,-1),(a:1,0,-1),(a:0,1,0),(a:1,-1,-1),(a:-1,-1,0),(a:1,1,1),(a:1,0,0),(a:0,0,-1),(a:0,1,-1)),
&quot;1480&quot;,	(a:(a:0,1,0),(a:0,-1,-1),(a:1,0,-1),(a:-1,0,-1),(a:-1,-1,-1),(a:0,-1,0),(a:1,0,0),(a:1,1,-1),(a:-1,1,0),(a:0,-1,1),(a:1,-1,-1),(a:-1,0,0),(a:0,0,1),(a:0,0,-1),(a:0,1,-1),(a:1,0,1),(a:-1,0,1),(a:1,-1,1),(a:1,1,1),(a:-1,-1,0),(a:-1,-1,1),(a:-1,1,-1),(a:1,1,0),(a:0,1,1),(a:1,-1,0),(a:-1,1,1)),
&quot;1490&quot;,	(a:(a:-1,1,-1),(a:1,0,-1),(a:-1,1,1),(a:-1,-1,0),(a:0,-1,-1),(a:-1,0,1),(a:-1,-1,-1),(a:1,0,0),(a:0,1,0),(a:1,-1,-1),(a:0,1,1),(a:0,-1,1),(a:0,1,-1),(a:0,0,1),(a:-1,1,0),(a:1,1,0),(a:1,-1,0),(a:0,0,-1),(a:-1,0,0),(a:0,-1,0),(a:1,1,1),(a:1,0,1),(a:-1,0,-1),(a:-1,-1,1),(a:1,1,-1),(a:1,-1,1)),
&quot;1500&quot;,	(a:(a:0,-1,0),(a:-1,-1,1),(a:0,1,-1),(a:0,0,-1),(a:-1,1,-1),(a:-1,-1,0),(a:1,0,0),(a:0,1,1),(a:-1,0,-1),(a:1,-1,-1),(a:0,1,0),(a:-1,0,0),(a:1,1,-1),(a:0,0,1),(a:1,0,1),(a:1,1,1),(a:0,-1,1),(a:1,-1,1),(a:-1,-1,-1),(a:-1,1,1),(a:-1,0,1),(a:0,-1,-1),(a:-1,1,0),(a:1,0,-1),(a:1,1,0),(a:1,-1,0)),
&quot;1510&quot;,	(a:(a:0,-1,1),(a:1,1,1),(a:-1,-1,0),(a:-1,1,1),(a:-1,-1,-1),(a:1,0,-1),(a:1,-1,-1),(a:0,-1,-1),(a:0,-1,0),(a:-1,0,1),(a:1,-1,1),(a:1,0,1),(a:0,0,1),(a:-1,1,-1),(a:-1,1,0),(a:0,1,-1),(a:-1,0,-1),(a:0,1,1),(a:1,-1,0),(a:1,1,0),(a:-1,-1,1),(a:1,1,-1),(a:-1,0,0),(a:0,1,0),(a:0,0,-1),(a:1,0,0)),
&quot;1520&quot;,	(a:(a:0,0,1),(a:0,1,-1),(a:0,1,0),(a:-1,-1,-1),(a:0,1,1),(a:1,0,0),(a:0,-1,0),(a:-1,0,1),(a:1,0,1),(a:1,-1,-1),(a:-1,1,-1),(a:1,1,1),(a:-1,-1,1),(a:0,-1,1),(a:1,1,0),(a:0,0,-1),(a:-1,-1,0),(a:-1,0,0),(a:-1,1,0),(a:1,-1,0),(a:0,-1,-1),(a:-1,0,-1),(a:-1,1,1),(a:1,0,-1),(a:1,-1,1),(a:1,1,-1)),
&quot;1530&quot;,	(a:(a:0,1,-1),(a:1,1,1),(a:1,1,0),(a:1,-1,0),(a:0,0,-1),(a:-1,0,0),(a:-1,-1,-1),(a:0,-1,-1),(a:1,1,-1),(a:1,-1,1),(a:-1,-1,0),(a:0,1,1),(a:0,-1,1),(a:1,0,1),(a:-1,1,0),(a:-1,1,-1),(a:-1,0,1),(a:-1,1,1),(a:-1,-1,1),(a:1,0,0),(a:1,-1,-1),(a:0,0,1),(a:1,0,-1),(a:-1,0,-1),(a:0,1,0),(a:0,-1,0)),
&quot;1540&quot;,	(a:(a:-1,-1,1),(a:1,1,1),(a:1,1,0),(a:1,-1,0),(a:-1,1,1),(a:-1,-1,-1),(a:1,-1,1),(a:-1,-1,0),(a:1,0,1),(a:0,-1,1),(a:-1,0,1),(a:0,-1,0),(a:0,1,0),(a:1,0,-1),(a:0,0,1),(a:-1,0,0),(a:-1,1,0),(a:-1,1,-1),(a:-1,0,-1),(a:0,1,1),(a:0,0,-1),(a:1,1,-1),(a:1,-1,-1),(a:0,-1,-1),(a:0,1,-1),(a:1,0,0)),
&quot;1550&quot;,	(a:(a:0,-1,1),(a:-1,1,0),(a:0,-1,-1),(a:1,-1,1),(a:-1,-1,-1),(a:1,1,0),(a:0,-1,0),(a:0,0,-1),(a:-1,-1,0),(a:1,0,1),(a:-1,1,1),(a:1,-1,-1),(a:1,1,-1),(a:-1,-1,1),(a:1,-1,0),(a:1,0,-1),(a:0,0,1),(a:-1,1,-1),(a:0,1,-1),(a:-1,0,-1),(a:-1,0,0),(a:1,0,0),(a:1,1,1),(a:0,1,1),(a:-1,0,1),(a:0,1,0)),
&quot;1560&quot;,	(a:(a:1,1,0),(a:1,-1,0),(a:1,-1,-1),(a:-1,-1,-1),(a:1,-1,1),(a:0,0,-1),(a:0,1,-1),(a:-1,1,0),(a:0,-1,0),(a:-1,-1,0),(a:1,0,-1),(a:1,0,1),(a:0,-1,1),(a:-1,0,0),(a:0,-1,-1),(a:-1,1,1),(a:1,1,1),(a:-1,1,-1),(a:0,0,1),(a:-1,-1,1),(a:1,1,-1),(a:-1,0,1),(a:0,1,1),(a:0,1,0),(a:-1,0,-1),(a:1,0,0)),
&quot;1570&quot;,	(a:(a:0,0,1),(a:-1,-1,1),(a:0,1,1),(a:1,1,1),(a:1,1,0),(a:1,0,1),(a:-1,1,0),(a:0,-1,-1),(a:1,-1,1),(a:1,0,0),(a:1,1,-1),(a:-1,0,0),(a:1,-1,0),(a:-1,0,-1),(a:-1,-1,0),(a:1,-1,-1),(a:0,-1,0),(a:-1,0,1),(a:-1,1,-1),(a:-1,-1,-1),(a:-1,1,1),(a:0,1,0),(a:0,0,-1),(a:0,-1,1),(a:0,1,-1),(a:1,0,-1)),
&quot;1580&quot;,	(a:(a:-1,-1,0),(a:-1,0,0),(a:1,-1,1),(a:1,0,1),(a:1,0,0),(a:1,-1,-1),(a:-1,1,1),(a:0,-1,-1),(a:1,-1,0),(a:-1,1,-1),(a:-1,0,1),(a:0,1,1),(a:0,0,1),(a:-1,1,0),(a:1,0,-1),(a:1,1,1),(a:0,0,-1),(a:0,1,0),(a:1,1,-1),(a:0,-1,1),(a:0,-1,0),(a:-1,-1,-1),(a:-1,0,-1),(a:1,1,0),(a:0,1,-1),(a:-1,-1,1)),
&quot;1590&quot;,	(a:(a:1,0,0),(a:-1,1,0),(a:-1,-1,-1),(a:1,0,-1),(a:-1,0,-1),(a:0,-1,-1),(a:-1,0,0),(a:-1,-1,0),(a:0,-1,1),(a:0,0,1),(a:0,-1,0),(a:-1,0,1),(a:1,0,1),(a:0,0,-1),(a:-1,1,1),(a:-1,1,-1),(a:0,1,0),(a:-1,-1,1),(a:0,1,-1),(a:1,1,-1),(a:1,-1,-1),(a:1,-1,1),(a:1,1,0),(a:0,1,1),(a:1,1,1),(a:1,-1,0)),
&quot;1600&quot;,	(a:(a:1,0,0),(a:0,-1,-1),(a:-1,1,-1),(a:1,-1,-1),(a:-1,-1,0),(a:0,1,0),(a:1,-1,0),(a:0,0,1),(a:1,1,0),(a:1,-1,1),(a:-1,-1,-1),(a:0,0,-1),(a:0,-1,0),(a:-1,0,0),(a:1,0,-1),(a:-1,1,1),(a:-1,0,-1),(a:1,0,1),(a:0,1,1),(a:1,1,-1),(a:-1,-1,1),(a:-1,1,0),(a:0,-1,1),(a:-1,0,1),(a:1,1,1),(a:0,1,-1)),
&quot;1610&quot;,	(a:(a:-1,-1,0),(a:-1,-1,-1),(a:-1,0,-1),(a:1,0,1),(a:0,-1,0),(a:1,-1,1),(a:0,1,0),(a:1,0,0),(a:-1,0,0),(a:1,-1,0),(a:-1,0,1),(a:-1,1,1),(a:1,-1,-1),(a:0,-1,1),(a:-1,1,-1),(a:-1,-1,1),(a:1,1,0),(a:0,1,1),(a:0,0,-1),(a:-1,1,0),(a:1,0,-1),(a:0,-1,-1),(a:0,1,-1),(a:1,1,1),(a:0,0,1),(a:1,1,-1)),
&quot;1620&quot;,	(a:(a:0,0,1),(a:0,1,0),(a:0,-1,-1),(a:0,-1,1),(a:1,-1,-1),(a:-1,-1,0),(a:-1,1,-1),(a:0,1,1),(a:-1,-1,-1),(a:0,-1,0),(a:-1,1,0),(a:-1,0,-1),(a:1,0,-1),(a:-1,0,0),(a:1,-1,1),(a:1,1,0),(a:-1,-1,1),(a:1,0,1),(a:-1,0,1),(a:1,0,0),(a:1,1,-1),(a:0,1,-1),(a:1,-1,0),(a:-1,1,1),(a:0,0,-1),(a:1,1,1)),
&quot;1630&quot;,	(a:(a:-1,-1,0),(a:1,0,0),(a:1,-1,1),(a:-1,0,0),(a:-1,1,1),(a:1,1,0),(a:0,-1,1),(a:1,1,-1),(a:0,-1,-1),(a:0,1,0),(a:1,-1,0),(a:0,-1,0),(a:-1,-1,1),(a:1,1,1),(a:-1,-1,-1),(a:-1,0,-1),(a:-1,1,-1),(a:-1,1,0),(a:0,1,1),(a:0,0,1),(a:1,0,-1),(a:1,0,1),(a:0,1,-1),(a:-1,0,1),(a:0,0,-1),(a:1,-1,-1)),
&quot;1640&quot;,	(a:(a:-1,0,1),(a:0,-1,-1),(a:1,-1,0),(a:0,-1,1),(a:0,1,0),(a:1,0,-1),(a:1,-1,-1),(a:-1,0,-1),(a:0,-1,0),(a:-1,-1,1),(a:1,1,1),(a:0,1,-1),(a:0,1,1),(a:1,1,0),(a:-1,-1,-1),(a:1,0,0),(a:1,1,-1),(a:0,0,1),(a:1,-1,1),(a:-1,1,1),(a:-1,1,-1),(a:-1,-1,0),(a:-1,0,0),(a:1,0,1),(a:-1,1,0),(a:0,0,-1)),
&quot;1650&quot;,	(a:(a:1,-1,0),(a:0,0,1),(a:0,1,1),(a:1,1,0),(a:0,-1,0),(a:1,0,-1),(a:0,0,-1),(a:-1,0,0),(a:-1,1,0),(a:1,1,-1),(a:-1,0,-1),(a:-1,-1,-1),(a:-1,-1,0),(a:0,1,0),(a:0,1,-1),(a:-1,1,1),(a:1,0,1),(a:1,-1,1),(a:1,-1,-1),(a:-1,0,1),(a:-1,-1,1),(a:0,-1,1),(a:-1,1,-1),(a:0,-1,-1),(a:1,0,0),(a:1,1,1)),
&quot;1660&quot;,	(a:(a:1,1,-1),(a:-1,1,0),(a:-1,0,1),(a:1,0,-1),(a:0,-1,1),(a:1,0,0),(a:1,-1,0),(a:0,-1,-1),(a:0,1,-1),(a:-1,1,1),(a:1,1,0),(a:-1,-1,0),(a:0,1,1),(a:-1,0,-1),(a:-1,-1,1),(a:0,-1,0),(a:-1,-1,-1),(a:1,1,1),(a:-1,0,0),(a:1,-1,1),(a:-1,1,-1),(a:0,0,1),(a:1,-1,-1),(a:1,0,1),(a:0,0,-1),(a:0,1,0)),
&quot;1670&quot;,	(a:(a:1,-1,1),(a:0,-1,-1),(a:1,0,1),(a:1,-1,0),(a:0,1,-1),(a:0,1,0),(a:1,-1,-1),(a:0,0,1),(a:-1,-1,1),(a:-1,1,-1),(a:0,1,1),(a:0,0,-1),(a:0,-1,1),(a:-1,-1,-1),(a:1,1,0),(a:-1,-1,0),(a:1,0,-1),(a:1,1,1),(a:0,-1,0),(a:-1,0,1),(a:-1,0,0),(a:-1,0,-1),(a:-1,1,0),(a:1,0,0),(a:-1,1,1),(a:1,1,-1)),
&quot;1680&quot;,	(a:(a:0,-1,0),(a:1,0,1),(a:1,1,0),(a:-1,0,0),(a:1,1,1),(a:-1,-1,1),(a:0,0,-1),(a:1,-1,-1),(a:-1,1,1),(a:-1,-1,-1),(a:0,0,1),(a:0,1,0),(a:-1,-1,0),(a:-1,1,0),(a:1,-1,0),(a:-1,0,-1),(a:1,0,0),(a:1,-1,1),(a:1,0,-1),(a:1,1,-1),(a:0,1,-1),(a:-1,0,1),(a:-1,1,-1),(a:0,-1,-1),(a:0,-1,1),(a:0,1,1)),
&quot;1690&quot;,	(a:(a:1,0,1),(a:-1,1,0),(a:-1,0,0),(a:0,0,1),(a:-1,-1,1),(a:0,-1,0),(a:-1,1,1),(a:-1,0,1),(a:1,-1,1),(a:1,-1,-1),(a:0,-1,1),(a:-1,1,-1),(a:1,0,-1),(a:-1,-1,0),(a:1,1,-1),(a:0,0,-1),(a:1,1,1),(a:-1,0,-1),(a:0,1,0),(a:0,-1,-1),(a:-1,-1,-1),(a:1,0,0),(a:1,-1,0),(a:0,1,-1),(a:1,1,0),(a:0,1,1)),
&quot;1700&quot;,	(a:(a:1,-1,1),(a:-1,-1,-1),(a:0,-1,1),(a:0,0,1),(a:0,-1,-1),(a:1,-1,-1),(a:0,1,1),(a:1,1,0),(a:-1,1,-1),(a:1,1,-1),(a:1,0,-1),(a:0,0,-1),(a:-1,1,1),(a:1,-1,0),(a:-1,0,1),(a:-1,-1,1),(a:-1,1,0),(a:1,0,1),(a:1,1,1),(a:-1,0,-1),(a:-1,0,0),(a:0,1,-1),(a:0,-1,0),(a:1,0,0),(a:0,1,0),(a:-1,-1,0)),
&quot;1710&quot;,	(a:(a:-1,0,-1),(a:-1,0,1),(a:0,-1,-1),(a:0,-1,1),(a:1,0,1),(a:1,1,1),(a:-1,-1,-1),(a:1,1,-1),(a:-1,-1,0),(a:-1,1,-1),(a:-1,0,0),(a:0,-1,0),(a:0,0,1),(a:1,-1,1),(a:0,1,1),(a:1,-1,-1),(a:-1,-1,1),(a:-1,1,1),(a:1,0,0),(a:0,0,-1),(a:1,-1,0),(a:0,1,0),(a:0,1,-1),(a:-1,1,0),(a:1,1,0),(a:1,0,-1)),
&quot;1720&quot;,	(a:(a:-1,0,0),(a:1,0,0),(a:-1,-1,1),(a:1,0,1),(a:1,0,-1),(a:0,-1,0),(a:-1,-1,0),(a:0,1,0),(a:-1,-1,-1),(a:-1,0,1),(a:1,1,0),(a:0,-1,-1),(a:-1,1,1),(a:-1,1,-1),(a:1,1,-1),(a:0,1,-1),(a:0,0,1),(a:-1,0,-1),(a:0,1,1),(a:0,-1,1),(a:-1,1,0),(a:1,-1,1),(a:1,-1,0),(a:0,0,-1),(a:1,-1,-1),(a:1,1,1)),
&quot;1730&quot;,	(a:(a:-1,-1,-1),(a:-1,0,1),(a:-1,1,-1),(a:1,1,0),(a:-1,-1,0),(a:0,0,1),(a:0,-1,1),(a:-1,-1,1),(a:0,1,-1),(a:0,-1,-1),(a:1,1,-1),(a:1,0,1),(a:1,-1,-1),(a:1,0,-1),(a:-1,0,0),(a:0,1,1),(a:1,0,0),(a:-1,1,0),(a:0,0,-1),(a:1,1,1),(a:1,-1,1),(a:-1,0,-1),(a:0,-1,0),(a:0,1,0),(a:-1,1,1),(a:1,-1,0)),
&quot;1740&quot;,	(a:(a:-1,0,-1),(a:0,1,-1),(a:0,-1,0),(a:-1,1,1),(a:0,1,1),(a:-1,1,-1),(a:1,0,0),(a:0,1,0),(a:1,1,1),(a:-1,0,1),(a:-1,-1,-1),(a:1,-1,-1),(a:-1,-1,0),(a:1,1,-1),(a:1,-1,1),(a:1,-1,0),(a:0,0,1),(a:-1,-1,1),(a:1,1,0),(a:0,-1,1),(a:1,0,-1),(a:-1,1,0),(a:-1,0,0),(a:0,0,-1),(a:1,0,1),(a:0,-1,-1)),
&quot;1750&quot;,	(a:(a:1,1,-1),(a:1,-1,-1),(a:-1,0,0),(a:-1,0,1),(a:1,-1,1),(a:0,1,0),(a:1,0,-1),(a:1,-1,0),(a:0,-1,0),(a:0,-1,1),(a:-1,0,-1),(a:-1,1,0),(a:0,1,1),(a:0,1,-1),(a:-1,-1,-1),(a:0,0,-1),(a:-1,-1,1),(a:1,1,0),(a:-1,1,-1),(a:-1,-1,0),(a:0,0,1),(a:-1,1,1),(a:1,0,1),(a:0,-1,-1),(a:1,0,0),(a:1,1,1)),
&quot;1760&quot;,	(a:(a:-1,-1,-1),(a:-1,1,1),(a:0,1,0),(a:0,0,1),(a:0,-1,1),(a:1,-1,0),(a:-1,1,0),(a:1,-1,-1),(a:1,0,1),(a:1,-1,1),(a:1,1,-1),(a:-1,0,1),(a:-1,-1,0),(a:-1,-1,1),(a:0,0,-1),(a:1,1,0),(a:0,1,1),(a:1,0,-1),(a:-1,0,-1),(a:0,-1,-1),(a:1,0,0),(a:-1,0,0),(a:-1,1,-1),(a:0,-1,0),(a:0,1,-1),(a:1,1,1)),
&quot;1770&quot;,	(a:(a:0,0,-1),(a:1,1,-1),(a:-1,0,1),(a:-1,0,-1),(a:0,-1,1),(a:1,-1,0),(a:0,1,1),(a:-1,0,0),(a:0,1,-1),(a:-1,1,-1),(a:-1,-1,-1),(a:-1,-1,0),(a:0,-1,-1),(a:1,0,1),(a:-1,-1,1),(a:-1,1,1),(a:-1,1,0),(a:1,1,0),(a:1,-1,1),(a:1,0,-1),(a:0,1,0),(a:0,-1,0),(a:1,-1,-1),(a:0,0,1),(a:1,0,0),(a:1,1,1)),
&quot;1780&quot;,	(a:(a:-1,0,0),(a:1,1,1),(a:0,1,0),(a:1,0,1),(a:0,0,1),(a:-1,0,1),(a:0,0,-1),(a:-1,-1,0),(a:0,-1,0),(a:1,0,-1),(a:-1,-1,-1),(a:-1,1,1),(a:-1,1,-1),(a:1,1,-1),(a:0,1,-1),(a:-1,-1,1),(a:1,0,0),(a:0,-1,-1),(a:1,-1,0),(a:-1,1,0),(a:0,1,1),(a:-1,0,-1),(a:1,-1,1),(a:0,-1,1),(a:1,-1,-1),(a:1,1,0)),
&quot;1790&quot;,	(a:(a:1,1,1),(a:-1,0,1),(a:-1,-1,0),(a:-1,1,1),(a:0,1,0),(a:-1,-1,-1),(a:-1,0,0),(a:1,-1,-1),(a:-1,-1,1),(a:0,0,1),(a:1,0,-1),(a:1,1,0),(a:0,0,-1),(a:0,1,-1),(a:0,-1,-1),(a:0,-1,1),(a:1,1,-1),(a:-1,1,0),(a:1,-1,0),(a:1,0,0),(a:1,0,1),(a:-1,1,-1),(a:-1,0,-1),(a:0,1,1),(a:1,-1,1),(a:0,-1,0)),
&quot;1800&quot;,	(a:(a:-1,-1,1),(a:1,-1,-1),(a:1,-1,1),(a:-1,-1,-1),(a:1,0,1),(a:-1,1,1),(a:0,1,1),(a:1,-1,0),(a:-1,0,0),(a:-1,0,-1),(a:1,1,-1),(a:0,0,-1),(a:1,1,1),(a:0,1,0),(a:-1,0,1),(a:0,0,1),(a:-1,1,-1),(a:0,-1,-1),(a:1,0,0),(a:-1,1,0),(a:1,1,0),(a:0,1,-1),(a:0,-1,0),(a:1,0,-1),(a:0,-1,1),(a:-1,-1,0)),
&quot;1810&quot;,	(a:(a:-1,1,0),(a:-1,0,-1),(a:1,0,0),(a:0,1,1),(a:1,-1,-1),(a:-1,0,1),(a:-1,1,1),(a:-1,1,-1),(a:1,0,1),(a:-1,-1,-1),(a:1,-1,0),(a:-1,-1,1),(a:0,0,-1),(a:1,1,-1),(a:1,1,0),(a:0,1,-1),(a:0,-1,1),(a:0,-1,-1),(a:-1,0,0),(a:0,-1,0),(a:0,0,1),(a:1,1,1),(a:0,1,0),(a:1,-1,1),(a:-1,-1,0),(a:1,0,-1)),
&quot;1820&quot;,	(a:(a:1,-1,0),(a:-1,-1,-1),(a:1,0,1),(a:0,-1,-1),(a:-1,-1,0),(a:-1,1,1),(a:-1,1,-1),(a:1,-1,1),(a:-1,0,0),(a:1,0,-1),(a:-1,-1,1),(a:-1,0,-1),(a:0,1,1),(a:1,1,0),(a:-1,0,1),(a:-1,1,0),(a:0,0,1),(a:1,-1,-1),(a:1,1,-1),(a:0,0,-1),(a:0,1,0),(a:0,-1,1),(a:0,1,-1),(a:0,-1,0),(a:1,0,0),(a:1,1,1)),
&quot;1830&quot;,	(a:(a:1,-1,0),(a:-1,-1,-1),(a:1,-1,-1),(a:-1,1,1),(a:0,0,1),(a:1,1,1),(a:-1,-1,1),(a:-1,1,0),(a:1,-1,1),(a:-1,0,1),(a:0,0,-1),(a:-1,-1,0),(a:0,-1,-1),(a:0,-1,0),(a:-1,0,-1),(a:0,1,-1),(a:1,1,-1),(a:1,0,1),(a:-1,0,0),(a:-1,1,-1),(a:1,1,0),(a:0,1,0),(a:1,0,0),(a:1,0,-1),(a:0,-1,1),(a:0,1,1)),
&quot;1840&quot;,	(a:(a:0,-1,-1),(a:1,-1,1),(a:-1,-1,-1),(a:0,1,1),(a:1,0,-1),(a:1,-1,0),(a:0,1,0),(a:-1,1,1),(a:1,-1,-1),(a:-1,1,0),(a:1,0,0),(a:0,-1,0),(a:0,-1,1),(a:-1,0,-1),(a:1,1,1),(a:0,1,-1),(a:-1,1,-1),(a:-1,-1,0),(a:-1,0,1),(a:-1,0,0),(a:0,0,1),(a:-1,-1,1),(a:0,0,-1),(a:1,1,-1),(a:1,0,1),(a:1,1,0)),
&quot;1850&quot;,	(a:(a:1,1,1),(a:1,1,0),(a:-1,-1,0),(a:-1,1,-1),(a:-1,0,1),(a:0,-1,0),(a:1,-1,1),(a:0,1,1),(a:0,-1,1),(a:1,1,-1),(a:-1,1,1),(a:-1,1,0),(a:1,-1,-1),(a:-1,-1,1),(a:0,1,-1),(a:0,0,1),(a:0,1,0),(a:1,-1,0),(a:-1,-1,-1),(a:-1,0,0),(a:1,0,0),(a:-1,0,-1),(a:1,0,-1),(a:0,0,-1),(a:0,-1,-1),(a:1,0,1)),
&quot;1860&quot;,	(a:(a:0,0,1),(a:-1,0,-1),(a:1,1,1),(a:1,-1,-1),(a:1,0,1),(a:0,1,0),(a:0,0,-1),(a:1,-1,1),(a:0,1,1),(a:0,-1,1),(a:-1,-1,1),(a:-1,-1,-1),(a:-1,-1,0),(a:1,1,0),(a:-1,1,1),(a:0,1,-1),(a:0,-1,-1),(a:-1,0,0),(a:1,1,-1),(a:0,-1,0),(a:1,-1,0),(a:1,0,0),(a:-1,1,-1),(a:1,0,-1),(a:-1,0,1),(a:-1,1,0)),
&quot;1870&quot;,	(a:(a:-1,0,0),(a:-1,0,-1),(a:1,-1,0),(a:1,1,1),(a:-1,-1,-1),(a:-1,1,1),(a:1,1,0),(a:0,0,1),(a:1,0,1),(a:1,-1,1),(a:-1,1,-1),(a:-1,0,1),(a:0,1,0),(a:0,1,-1),(a:0,0,-1),(a:1,-1,-1),(a:0,1,1),(a:-1,-1,0),(a:-1,-1,1),(a:0,-1,-1),(a:0,-1,0),(a:1,0,0),(a:-1,1,0),(a:1,1,-1),(a:0,-1,1),(a:1,0,-1)),
&quot;1880&quot;,	(a:(a:-1,0,-1),(a:-1,1,1),(a:1,1,1),(a:-1,0,1),(a:1,-1,1),(a:-1,-1,1),(a:-1,1,0),(a:0,1,0),(a:0,-1,1),(a:-1,-1,0),(a:0,1,-1),(a:0,1,1),(a:1,-1,0),(a:1,-1,-1),(a:1,1,0),(a:0,-1,-1),(a:-1,0,0),(a:1,0,1),(a:0,0,-1),(a:0,0,1),(a:-1,1,-1),(a:-1,-1,-1),(a:1,1,-1),(a:0,-1,0),(a:1,0,-1),(a:1,0,0)),
&quot;1890&quot;,	(a:(a:-1,0,-1),(a:-1,0,0),(a:1,-1,1),(a:0,1,1),(a:0,0,1),(a:1,1,0),(a:0,-1,-1),(a:-1,-1,-1),(a:1,0,-1),(a:-1,-1,1),(a:-1,1,1),(a:0,-1,0),(a:-1,-1,0),(a:0,0,-1),(a:1,1,-1),(a:0,1,-1),(a:-1,0,1),(a:0,-1,1),(a:-1,1,-1),(a:1,-1,-1),(a:1,1,1),(a:0,1,0),(a:1,-1,0),(a:-1,1,0),(a:1,0,0),(a:1,0,1)),
&quot;1900&quot;,	(a:(a:-1,1,-1),(a:1,0,1),(a:-1,-1,-1),(a:1,-1,0),(a:0,1,1),(a:-1,1,0),(a:1,1,-1),(a:1,-1,-1),(a:0,-1,1),(a:0,-1,-1),(a:0,-1,0),(a:-1,0,1),(a:1,0,-1),(a:-1,0,0),(a:1,1,0),(a:1,-1,1),(a:1,0,0),(a:-1,0,-1),(a:0,1,0),(a:0,1,-1),(a:-1,1,1),(a:0,0,1),(a:-1,-1,0),(a:1,1,1),(a:-1,-1,1),(a:0,0,-1)),
&quot;1910&quot;,	(a:(a:1,0,-1),(a:-1,-1,1),(a:-1,0,-1),(a:-1,-1,-1),(a:-1,-1,0),(a:1,1,0),(a:1,0,1),(a:-1,0,1),(a:1,-1,0),(a:0,1,1),(a:0,1,-1),(a:0,-1,0),(a:0,1,0),(a:0,-1,-1),(a:0,-1,1),(a:-1,0,0),(a:-1,1,-1),(a:1,-1,-1),(a:-1,1,0),(a:1,1,-1),(a:1,-1,1),(a:-1,1,1),(a:1,1,1),(a:1,0,0),(a:0,0,-1),(a:0,0,1)),
&quot;1920&quot;,	(a:(a:0,-1,0),(a:1,0,-1),(a:1,0,1),(a:-1,1,1),(a:-1,1,-1),(a:1,1,1),(a:0,1,-1),(a:0,-1,-1),(a:0,1,1),(a:-1,-1,-1),(a:-1,-1,0),(a:1,1,-1),(a:1,0,0),(a:1,-1,0),(a:0,-1,1),(a:0,0,1),(a:1,1,0),(a:-1,-1,1),(a:0,1,0),(a:-1,0,0),(a:0,0,-1),(a:-1,0,-1),(a:-1,0,1),(a:-1,1,0),(a:1,-1,-1),(a:1,-1,1)),
&quot;1930&quot;,	(a:(a:0,1,1),(a:0,1,0),(a:-1,-1,1),(a:0,-1,-1),(a:1,0,0),(a:-1,1,0),(a:0,0,-1),(a:1,1,1),(a:-1,1,1),(a:1,-1,-1),(a:-1,0,1),(a:-1,-1,0),(a:0,1,-1),(a:-1,-1,-1),(a:-1,0,-1),(a:1,1,0),(a:-1,0,0),(a:-1,1,-1),(a:1,-1,0),(a:1,-1,1),(a:1,0,-1),(a:0,-1,0),(a:0,0,1),(a:0,-1,1),(a:1,1,-1),(a:1,0,1)),
&quot;1940&quot;,	(a:(a:1,-1,0),(a:-1,-1,0),(a:1,1,0),(a:0,1,1),(a:-1,1,-1),(a:-1,0,0),(a:-1,1,1),(a:-1,1,0),(a:-1,-1,-1),(a:0,0,-1),(a:-1,0,-1),(a:1,0,-1),(a:0,-1,1),(a:1,1,-1),(a:-1,-1,1),(a:1,0,1),(a:1,0,0),(a:-1,0,1),(a:0,-1,0),(a:0,1,-1),(a:1,-1,1),(a:1,1,1),(a:0,0,1),(a:1,-1,-1),(a:0,-1,-1),(a:0,1,0)),
&quot;1950&quot;,	(a:(a:1,-1,-1),(a:-1,1,0),(a:0,1,1),(a:-1,-1,1),(a:1,0,-1),(a:0,0,-1),(a:-1,1,-1),(a:0,1,-1),(a:0,-1,1),(a:-1,1,1),(a:0,-1,0),(a:1,1,-1),(a:0,-1,-1),(a:0,1,0),(a:-1,-1,0),(a:-1,-1,-1),(a:0,0,1),(a:1,-1,0),(a:1,0,1),(a:1,0,0),(a:1,1,1),(a:1,-1,1),(a:-1,0,-1),(a:1,1,0),(a:-1,0,0),(a:-1,0,1)),
&quot;1960&quot;,	(a:(a:-1,-1,-1),(a:-1,-1,0),(a:0,-1,-1),(a:-1,0,1),(a:0,1,-1),(a:0,1,1),(a:-1,1,-1),(a:1,0,-1),(a:1,1,0),(a:1,0,1),(a:0,0,1),(a:0,0,-1),(a:-1,0,0),(a:1,-1,0),(a:0,1,0),(a:-1,0,-1),(a:-1,1,0),(a:1,-1,-1),(a:0,-1,0),(a:0,-1,1),(a:1,0,0),(a:-1,-1,1),(a:1,1,-1),(a:-1,1,1),(a:1,-1,1),(a:1,1,1)),
&quot;1970&quot;,	(a:(a:1,-1,1),(a:1,0,1),(a:1,-1,0),(a:0,-1,0),(a:1,-1,-1),(a:0,-1,1),(a:-1,-1,1),(a:-1,1,0),(a:-1,-1,0),(a:0,0,-1),(a:-1,0,1),(a:1,1,0),(a:1,0,0),(a:1,0,-1),(a:0,1,-1),(a:-1,0,-1),(a:1,1,1),(a:0,1,0),(a:0,0,1),(a:-1,-1,-1),(a:0,-1,-1),(a:0,1,1),(a:-1,1,-1),(a:1,1,-1),(a:-1,1,1),(a:-1,0,0)),
&quot;1980&quot;,	(a:(a:0,0,-1),(a:0,1,1),(a:1,0,-1),(a:-1,0,0),(a:1,1,-1),(a:0,-1,0),(a:1,-1,1),(a:-1,-1,-1),(a:-1,-1,0),(a:0,-1,1),(a:1,1,0),(a:-1,1,1),(a:0,-1,-1),(a:1,0,0),(a:-1,1,-1),(a:0,1,-1),(a:1,-1,0),(a:-1,-1,1),(a:-1,0,1),(a:-1,1,0),(a:1,1,1),(a:1,0,1),(a:0,0,1),(a:0,1,0),(a:-1,0,-1),(a:1,-1,-1)),
&quot;1990&quot;,	(a:(a:1,0,0),(a:1,0,1),(a:-1,0,1),(a:1,-1,-1),(a:0,1,-1),(a:-1,-1,0),(a:1,-1,1),(a:0,-1,-1),(a:-1,1,1),(a:1,1,0),(a:-1,0,-1),(a:-1,-1,1),(a:-1,1,0),(a:0,-1,1),(a:-1,0,0),(a:0,0,1),(a:1,1,-1),(a:-1,-1,-1),(a:-1,1,-1),(a:0,-1,0),(a:1,1,1),(a:0,0,-1),(a:0,1,0),(a:0,1,1),(a:1,0,-1),(a:1,-1,0)),
&quot;2000&quot;,	(a:(a:-1,-1,-1),(a:-1,1,1),(a:0,0,1),(a:-1,0,1),(a:1,0,0),(a:1,0,1),(a:1,-1,1),(a:0,1,-1),(a:0,1,1),(a:0,-1,-1),(a:1,-1,0),(a:0,0,-1),(a:-1,0,0),(a:-1,1,-1),(a:0,1,0),(a:0,-1,1),(a:-1,-1,1),(a:1,1,0),(a:1,1,1),(a:-1,1,0),(a:1,0,-1),(a:-1,-1,0),(a:0,-1,0),(a:-1,0,-1),(a:1,-1,-1),(a:1,1,-1)),
&quot;2010&quot;,	(a:(a:1,-1,-1),(a:-1,1,1),(a:1,1,1),(a:-1,0,-1),(a:-1,-1,-1),(a:0,1,1),(a:-1,1,-1),(a:-1,0,1),(a:1,1,-1),(a:0,-1,0),(a:0,-1,1),(a:-1,-1,0),(a:0,-1,-1),(a:1,-1,0),(a:0,1,0),(a:1,1,0),(a:1,0,1),(a:-1,-1,1),(a:1,-1,1),(a:1,0,0),(a:0,0,-1),(a:0,1,-1),(a:-1,0,0),(a:-1,1,0),(a:0,0,1),(a:1,0,-1)),
&quot;2020&quot;,	(a:(a:1,1,0),(a:1,0,-1),(a:0,1,-1),(a:1,1,-1),(a:-1,-1,0),(a:0,0,-1),(a:1,1,1),(a:0,0,1),(a:0,1,1),(a:-1,1,1),(a:1,-1,0),(a:0,-1,-1),(a:1,-1,-1),(a:1,0,1),(a:-1,0,-1),(a:-1,-1,1),(a:-1,0,0),(a:-1,1,-1),(a:1,0,0),(a:-1,1,0),(a:1,-1,1),(a:-1,-1,-1),(a:-1,0,1),(a:0,-1,1),(a:0,-1,0),(a:0,1,0)),
&quot;2030&quot;,	(a:(a:0,1,1),(a:1,-1,-1),(a:0,1,-1),(a:-1,-1,1),(a:0,-1,-1),(a:1,1,0),(a:-1,-1,-1),(a:1,1,1),(a:0,0,-1),(a:-1,1,0),(a:-1,1,1),(a:0,1,0),(a:-1,0,0),(a:0,0,1),(a:1,0,0),(a:1,0,1),(a:1,-1,1),(a:-1,0,1),(a:0,-1,1),(a:-1,-1,0),(a:-1,0,-1),(a:1,0,-1),(a:1,-1,0),(a:-1,1,-1),(a:1,1,-1),(a:0,-1,0)),
&quot;2040&quot;,	(a:(a:0,1,-1),(a:1,0,1),(a:0,1,0),(a:-1,1,0),(a:-1,-1,-1),(a:1,-1,1),(a:-1,0,1),(a:1,-1,-1),(a:1,1,0),(a:1,0,-1),(a:-1,-1,1),(a:0,1,1),(a:1,1,1),(a:0,0,1),(a:0,0,-1),(a:0,-1,0),(a:-1,-1,0),(a:-1,0,0),(a:-1,1,1),(a:1,0,0),(a:-1,0,-1),(a:-1,1,-1),(a:0,-1,-1),(a:1,1,-1),(a:0,-1,1),(a:1,-1,0)),
&quot;2050&quot;,	(a:(a:-1,-1,-1),(a:-1,0,0),(a:0,-1,-1),(a:-1,0,1),(a:1,-1,0),(a:0,1,0),(a:0,0,-1),(a:1,0,1),(a:-1,-1,0),(a:0,1,-1),(a:1,-1,-1),(a:-1,-1,1),(a:0,1,1),(a:-1,0,-1),(a:1,1,1),(a:0,0,1),(a:0,-1,0),(a:1,-1,1),(a:-1,1,1),(a:-1,1,-1),(a:1,1,0),(a:0,-1,1),(a:1,1,-1),(a:-1,1,0),(a:1,0,-1),(a:1,0,0)),
&quot;2060&quot;,	(a:(a:0,0,1),(a:1,0,0),(a:0,1,0),(a:0,1,-1),(a:0,-1,-1),(a:0,-1,0),(a:-1,-1,0),(a:-1,-1,-1),(a:-1,0,-1),(a:0,-1,1),(a:-1,1,-1),(a:-1,-1,1),(a:0,0,-1),(a:1,-1,0),(a:1,1,-1),(a:-1,1,1),(a:1,1,1),(a:1,0,1),(a:1,0,-1),(a:-1,0,1),(a:-1,1,0),(a:-1,0,0),(a:0,1,1),(a:1,-1,1),(a:1,1,0),(a:1,-1,-1)),
&quot;2070&quot;,	(a:(a:1,0,1),(a:0,1,1),(a:1,1,0),(a:1,-1,-1),(a:-1,1,1),(a:-1,0,1),(a:-1,1,-1),(a:-1,0,-1),(a:-1,1,0),(a:0,-1,1),(a:0,1,0),(a:-1,0,0),(a:-1,-1,-1),(a:0,0,1),(a:1,1,-1),(a:1,-1,1),(a:0,-1,0),(a:-1,-1,0),(a:-1,-1,1),(a:1,0,0),(a:0,1,-1),(a:0,-1,-1),(a:0,0,-1),(a:1,-1,0),(a:1,1,1),(a:1,0,-1)),
&quot;2080&quot;,	(a:(a:0,0,1),(a:0,-1,1),(a:-1,-1,-1),(a:1,0,1),(a:0,0,-1),(a:1,1,1),(a:0,1,1),(a:0,1,-1),(a:1,1,-1),(a:0,1,0),(a:-1,-1,1),(a:1,-1,1),(a:-1,0,-1),(a:-1,0,1),(a:-1,1,-1),(a:-1,-1,0),(a:1,0,0),(a:0,-1,0),(a:0,-1,-1),(a:1,0,-1),(a:-1,1,1),(a:1,-1,0),(a:-1,0,0),(a:1,1,0),(a:1,-1,-1),(a:-1,1,0)),
&quot;2090&quot;,	(a:(a:0,0,1),(a:1,-1,1),(a:-1,0,0),(a:1,0,1),(a:1,1,1),(a:-1,0,-1),(a:-1,0,1),(a:1,1,-1),(a:1,-1,-1),(a:0,0,-1),(a:1,1,0),(a:-1,-1,0),(a:-1,-1,-1),(a:0,-1,-1),(a:0,-1,0),(a:-1,1,1),(a:0,1,0),(a:-1,1,0),(a:-1,1,-1),(a:0,1,1),(a:1,0,-1),(a:0,1,-1),(a:0,-1,1),(a:-1,-1,1),(a:1,-1,0),(a:1,0,0))
))</tw-passagedata></tw-storydata>

<tw-storydata name="century template 5.0" startnode="15" creator="Twine" creator-version="2.3.12" ifid="25003F5B-F098-4372-A79F-6A8E41B9B9B2" zoom="0.6" format="Harlowe" format-version="3.2.1" options="" hidden><style role="stylesheet" id="twine-user-stylesheet" type="text/twine-css">.passage img {
    display: block;
    max-width: 100%;
    height: auto;
    margin: 0 auto;
}</style><script role="script" id="twine-user-script" type="text/twine-javascript">window.Harlowe = { 'State' : State };
window.processInputElements = function () {
    $('input[data-varname]').on('change', function () {
        var varName = $(this).attr('data-varname');
        Harlowe.State.variables[varName] = this.value;
        $("tw-story").css("background-size","cover");
        if(Harlowe.State.variables[varName] == 0)
        			{$("tw-story").css("background-image","url(https://th.bing.com/th/id/Rf5fecfd0d9830aab6202cf747bd3ad01?rik=L2W1jbILOWUswA&riu=http%3a%2f%2fak3.picdn.net%2fshutterstock%2fvideos%2f3933461%2fthumb%2f2.jpg&ehk=Jj2vK1CpTF0Tkwwx8bW4RAHwBltP9rnWO4IfZTCfsMY%3d&risl=&pid=ImgRaw)");
        			}
			else if(Harlowe.State.variables[varName] == 1)
        			{$("tw-story").css("background-image","url(https://i.pinimg.com/originals/4f/0b/88/4f0b88df6b723ffda1fb80629884521a.jpg)");
							}
			else if(Harlowe.State.variables[varName] == 2)
        			{$("tw-story").css("background-image","url(https://i.pinimg.com/originals/5b/c7/19/5bc719f84cfc170ff0558702b2c97876.jpg)");
							}
			else if(Harlowe.State.variables[varName] == 3)
        			{$("tw-story").css("background-image","url(https://www.realmofhistory.com/wp-content/uploads/2016/05/3D_Animations_Layout_Roman_Domus_House_1-770x437.jpg)");
							}
						else if(Harlowe.State.variables[varName] == 4)
        			{$("tw-story").css("background-image","url(https://images.fineartamerica.com/images/artworkimages/mediumlarge/1/roman-ruin-architecture-with-predigendem-st-paul-giovanni-paolo-panini.jpg)");
							}
			else if(Harlowe.State.variables[varName] == 5)
        			{$("tw-story").css("background-image","url(https://www.artranked.com/images/24/24079a74065dcd363eff01805c36d6ed.jpg)");
							}
			else if(Harlowe.State.variables[varName] == 6)
        			{$("tw-story").css("background-image","url(https://vignette.wikia.nocookie.net/assassinscreed/images/b/b8/Damascus-depth.jpg/revision/latest?cb=20100918105609)");
							}
			else if(Harlowe.State.variables[varName] == 7)
        			{$("tw-story").css("background-image","url(https://www.ancient-origins.net/sites/default/files/field/image/viking-tar.jpg)");
							}
						else if(Harlowe.State.variables[varName] == 8)
        			{$("tw-story").css("background-image","url(file:///private/var/folders/kl/xdjgclbs2rd7j83lrx2kjygr0000gp/T/6f3dc60b-15c8-438b-b96d-458185d4b829.html)");
							}
				else if(Harlowe.State.variables[varName] == 9)
        			{$("tw-story").css("background-image","url(https://vignette.wikia.nocookie.net/lotrfanon/images/6/6a/Mordor.png/revision/latest?cb=20170724095433)");
							}
			else if(Harlowe.State.variables[varName] == 10)
        			{$("tw-story").css("background-image","url(https://4.bp.blogspot.com/-H7YcbEPiqH4/VbisGV8F-8I/AAAAAAAEtBs/sQETZ8PgdVM/s1600/John%2BMartin%2BTutt%2527Art%2540%2B%252825%2529.jpg)");
							}
			else if(Harlowe.State.variables[varName] == 11)
        			{$("tw-story").css("background-image","url(https://i.pinimg.com/originals/32/d1/2d/32d12d3eb111ccb5065073c181007cc3.jpg)");
							}
			else if(Harlowe.State.variables[varName] == 12)
        			{$("tw-story").css("background-image","url(https://i.pinimg.com/originals/98/82/b2/9882b2685e23b81832d9b8a3258fa65a.jpg)");
							}
			else if(Harlowe.State.variables[varName] == 13)
        			{$("tw-story").css("background-image","url(https://i.pinimg.com/originals/ea/31/23/ea31239d3f7eba975360f044906a3aba.jpg)");
							}		
			else if(Harlowe.State.variables[varName] == 14)
        			{$("tw-story").css("background-image","url(https://i.ytimg.com/vi/2QUYYOXUF4o/maxresdefault.jpg)");
							}	
			else if(Harlowe.State.variables[varName] == 15)
        			{$("tw-story").css("background-image","url(https://upload.wikimedia.org/wikipedia/commons/e/ef/Avvakum_by_Pyotr_Yevgenyevich_Myasoyedov.jpg)");
							}	
			else if(Harlowe.State.variables[varName] == 16)
        			{$("tw-story").css("background-image","url(https://i.postimg.cc/j5Gr8x8r/artwork-fantasy-city-town-digital-river-bridge-boat-medieval-1743259.jpg)");
							}	
			else if(Harlowe.State.variables[varName] == 17)
        			{$("tw-story").css("background-image","url(https://i.postimg.cc/tgkQHd2D/heads-On-Pikes.jpg)");
							}	
			else if(Harlowe.State.variables[varName] == 18)
        			{$("tw-story").css("background-image","url(https://i.pinimg.com/originals/cd/41/30/cd413085d15e1fbf4ef0f18b8ddbcdf1.jpg)");
							}	
			else if(Harlowe.State.variables[varName] == 19)
        			{$("tw-story").css("background-image","url(https://w-dog.pw/android-wallpapers/7/16/532616445160923/art-war-france-saint-lo-street-us-troops-men-uniforms-shop-rifles-m1903a3-and-m1903a4-shots-smoke-ruins-ww2-picture.jpg)");
							}
			else if(Harlowe.State.variables[varName] == 20)
        			{$("tw-story").css("background-image","url(https://cdnb.artstation.com/p/assets/images/images/006/670/547/large/ricardo-garcia-hernanz-proyecto-final-concept-art-definitivo.jpg?1500361155)");
							}
			
					
    });
};

</script><tw-tag name="startup" color="red"></tw-tag><tw-passagedata pid="1" name="top bar pathType" tags="" position="1911,1266" size="100,100">(background:black)[($levelSentence:), ($occupyingP:) a $passageType heading from $2Direction to $4Direction. ($capitalize: ($appendIndefinite: $doorType)) $signIntro ($decadeSign: 2) exits to the [[$1Direction-&gt;decade two]]. If you do not wish to go this way, you can follow the $passageType to the [[$4Direction-&gt;main pathType top corner]] end, or to the [[$2Direction end-&gt;d1 door]].]
</tw-passagedata><tw-passagedata pid="2" name="main pathType upper" tags="" position="1706,1495" size="100,100">(background:black)[($levelSentence:), which heads both [[$1Direction-&gt;main pathType top corner]] and [[$3Direction-&gt;main pathType middle]] from here. If you wish to leave this $passageType, there are a pair of ($plural: $doorType) directly opposite one another, one heading [[$2Direction-&gt;decade three]] $signIntro ($decadeSign: 3) and the other heading [[$4Direction-&gt;decade nine]] $signIntro ($decadeSign: 9)].</tw-passagedata><tw-passagedata pid="3" name="decade zero" tags="" position="1700,1118" size="100,100">(if: $heading is &quot;Leaving&quot;)[(set: $heading to &quot;South&quot;) You mount the stairs towards the exit to decade zero. At the top is a door. You [[step through it-&gt;main pathType top corner]].]
(else:) [(set: $heading to &quot;South&quot;) You step through the door into decade 0. Steps lead down to the [[entrance chamber-&gt;0 entrance chamber]].]</tw-passagedata><tw-passagedata pid="4" name="decade two" tags="" position="1914,1405" size="100,100">(if: $heading is &quot;out&quot;) [Steps lead up and out of the stable area. You step through a door into the [[central nexus.-&gt;top bar pathType]]]
(else:) [You step through the door into the decade 2 complex. Steps lead down into a [[stable area]].]</tw-passagedata><tw-passagedata pid="5" name="d1 door" tags="" position="2100,1269" size="100,100">(background:black)[($altLevelSentence:). To the $2Direction, there is [[($appendIndefinite: $doorType)-&gt;decade one]] $signIntro ($decadeSign: 1). If you do not wish to go that way, you may head [[$4Direction along the $passageType-&gt;top bar pathType]].] </tw-passagedata><tw-passagedata pid="6" name="decade three" tags="" position="1847,1522" size="100,100">You step through the door into decade 3. </tw-passagedata><tw-passagedata pid="7" name="main pathType middle" tags="" position="1708,1653" size="100,100">(background:black)[($levelSentence:) which heads both [[$1Direction-&gt;main pathType upper]] and [[$3Direction-&gt;main pathType lower]] from here. Another $passageType branches off to the $2Direction, [[which you may take-&gt;middle bar pathType]] if you wish.] </tw-passagedata><tw-passagedata pid="8" name="middle bar pathType" tags="" position="1979,1653" size="100,100">(background:black)[($levelSentence:) which heads both [[$2Direction-&gt;outside d5]] and [[$4Direction-&gt;main pathType middle]] from here. A $doorType $signIntro ($decadeSign: 4) turns off to the [[$1Direction-&gt;decade four]]. A little further to the $2Direction, another $doorType $signIntro ($decadeSign: 6) turns off to the [[$3Direction-&gt;decade six]].  ]</tw-passagedata><tw-passagedata pid="9" name="main pathType lower" tags="" position="1700,1813" size="100,100">(background:black)[($altLevelSentence:), at a [[$doorType-&gt;decade eight]] $signIntro ($decadeSign: 8). Opposite the $doorType, the $passageType heads off to the [[$1Direction-&gt;main pathType middle]]. A second $doorType exits to the [[$2Direction-&gt;narthex]], $signIntro ($decadeSign: 9). ]</tw-passagedata><tw-passagedata pid="10" name="decade four" tags="" position="1978,1527" size="100,100">You step through the door into decade 4. </tw-passagedata><tw-passagedata pid="11" name="decade six" tags="" position="1985,1817" size="100,100">You step through the door into decade 6. </tw-passagedata><tw-passagedata pid="12" name="decade eight" tags="" position="1700,1963" size="100,100">You step through the door into decade 8. </tw-passagedata><tw-passagedata pid="13" name="outside d5" tags="" position="2135,1650" size="100,100">(background:black)[($altLevelSentence:), which heads [[$4Direction-&gt;middle bar pathType]] from here. Otherwise, the only option is a $doorType $signIntro ($decadeSign: 5) that goes from here to the [[$2Direction-&gt;d5r1]].]</tw-passagedata><tw-passagedata pid="14" name="Untitled Passage" tags="" position="2281,1519" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="15" name="Elevator" tags="" position="1554,1116" size="100,100">

You are in an elevator. The dial permits you to choose any floor from 0 through 20. Please input the floor you desire.  
&lt;input type=&quot;text&quot; data-varname=&quot;floorString&quot;&gt;
&lt;script&gt;processInputElements();&lt;/script&gt;
(link-goto: &quot;Done&quot;)
</tw-passagedata><tw-passagedata pid="16" name="main pathType top corner" tags="" position="1706,1270" size="100,100">(background:black)[($levelSentence:). ($capitalize: ($plural: $passageType)) lead [[$2Direction-&gt;top bar pathType]] and [[$3Direction-&gt;main pathType upper]] from here. You can also exit [[$1Direction via ($appendIndefinite: $doorType)-&gt;decade zero]] $signIntro ($decadeSign: 0), or step $4Direction into the [[Elevator]]. ]






</tw-passagedata><tw-passagedata pid="17" name="Done" tags="" position="1552,1005" size="100,100">&lt;!--MAIN TEXT--&gt;
	(background:black)[The elevator shunts into life and you begin to move through the centuries...] 
	

{
&lt;!--1--&gt;
(ignore: (set: $floorInt to (num:$floorString)))
&lt;!--2--&gt;

(set: $optional to (macro: string-type _optional, [
	(output-data: (either: _optional, &#39;&#39;))
	]
	)
)



&lt;!--23--&gt;
(set: $fixDirection to 
	(macro: num-type _directionNum, 
	[
	(set: $directions to 
		(cond: 
		_directionNum is 0,(a:&#39;North&#39;,&#39;East&#39;,&#39;South&#39;,&#39;West&#39;),
		_directionNum is 1,(a: &#39;East&#39;,&#39;South&#39;,&#39;West&#39;,&#39;North&#39;),
		_directionNum is 2,(a: &#39;South&#39;,&#39;West&#39;,&#39;North&#39;,&#39;East&#39;),
		_directionNum is 3,(a: &#39;West&#39;,&#39;North&#39;,&#39;East&#39;,&#39;South&#39;),
		&#39;fail&#39;))
	(if: $directions is &#39;fail&#39;)
		[(set: $directions to ($fixDirection:_directionNum - 4))]
	(output-data: $directions)
	]
	)
)



		
&lt;!--3--&gt;
&lt;!-- Alternate NP generator. Fixes the alternate sentence structure with forced prep to give a context sentence upon exiting the elevator--&gt;
(set: $NPplus to (macro: num-type _nounIndex, [
			($setVocab:)
			(set: $altIndex to 1)
			(set: _output to 
				($detNP: _nounIndex) +
				&#39; &#39; + ($prepPH: _nounIndex)
				)
			(output-data: _output)
				]				
				)
				)

&lt;!-- RANDOM NP generator. Takes two numbers as input. These keep track of the level of grammatical depth (1 is the main clause). It passes them to other parts of speech to coordinate everything. --&gt;
&lt;!--4--&gt;
(set: $NPandPrep to (macro: num-type _nounIndex, [
			($setVocab:)
			(set: $altIndex to (either: 0,1))
			(set: _output to 
				($detNP: _nounIndex) +
				($optional: &#39; &#39; + ($prepPH: _nounIndex))
				)
			(output-data: _output)
				]				
				)
				)
		
		
		
&lt;!-- Takes the nounindex and determines the NP+ first then, if the determiner is not definite, checks the first letter of the np. If it&#39;s a vowel, it returns &#39;an&#39; + the NP. Else, it returns &#39;a&#39; plus the NP.--&gt;
&lt;!--5--&gt;
(set: $detNP to (macro: num-type _nounIndex, [
	(set: _determiner to ($det: _nounIndex))
	(set: _noDeterminer to
		($optional: 
			($adjPH: _nounIndex) + &#39; &#39;) +
		($noun: _nounIndex)
	)
	(set: _output to (cond: 
		_determiner is &#39;the&#39;, &#39;the&#39; + &#39; &#39; + _noDeterminer,
		_determiner is &#39;&#39;, _noDeterminer,
		($appendIndefinite: _noDeterminer)
	))
	(output-data: _output)
			]
)
)

(set: $appendIndefinite to (macro: str-type _noDeterminer, [
	(set: _noDeterminer to (cond: 
		_noDeterminer&#39;s 1st is &#39; &#39;, (substring: _noDeterminer, 2, -1),
		_noDeterminer))
	(set: _output to (cond: 
		_noDeterminer&#39;s 1st is &#39;a&#39;, &#39;an &#39; + _noDeterminer,
		_noDeterminer&#39;s 1st is &#39;e&#39;, &#39;an &#39; + _noDeterminer,
		_noDeterminer&#39;s 1st is &#39;i&#39;, &#39;an &#39; + _noDeterminer,
		_noDeterminer&#39;s 1st is &#39;o&#39;, &#39;an &#39; + _noDeterminer,
		_noDeterminer&#39;s 1st is &#39;u&#39;, &#39;an &#39; + _noDeterminer,
		&#39;a &#39; + _noDeterminer))
	(output-data: _output)
	]
	))


&lt;!--6--&gt;
&lt;!--i think this is no longer used. Test and remove. --&gt;
(set: $NP to (macro: num-type _nounIndex, [
	(set: _output to
			($det: _nounIndex) +
			($optional: 
				&#39; &#39; + 
				($adjPH: _nounIndex)) + 
			&#39; &#39; + 
			($noun: _nounIndex)
	)
	(output-data: _output)
			]
)
)

&lt;!--7--&gt;
(set: $adjPH to (macro: num-type _adjIndex, [
	(set: _output to 
		($optional: ($subAdjPH: _adjIndex +10) + &#39; &#39;) +
		($subAdjPH: _adjIndex)
		)
	(output-data: _output)
	]
	)
	)

&lt;!--8--&gt;
(set: $subAdjPH to (macro: num-type _adjIndex, [
	(set: _output to
		($optional: ($adv: _adjIndex) + &#39; &#39;) +
		($adj: _adjIndex) 
		)
	(output-data: _output)	
		]
		)
		)
	

&lt;!--PREPOSITIONAL PHRASES--&gt;
&lt;!--MAX DEPTH--&gt;
&lt;!--sets the max recursion depth by level--&gt;
&lt;!--maxDepth should be set to one less than the highest noun index--&gt;

&lt;!--9--&gt;


&lt;!--tester that takes a prep index and returns a simple prepositional phrase if the prep index is high. Otherwise, returns a complex prepositional phrase.--&gt;
&lt;!--10--&gt;
(set: $prepPH to (macro: num-type _prepIndex, [
	(set: _output to (cond: 
		_prepIndex is $maxDepth, ($simplePrep: _prepIndex),
		($complexPrep: _prepIndex)
		)
		)
	(output-data: _output)
	]
	)
	)

&lt;!--assigns the prep with the right prepindex to introduce the NP with level one higher--&gt;
&lt;!--11--&gt;
(set: $simplePrep to (macro: num-type _prepIndex,[
		(set: _output to 
			($prep: _prepIndex) + 
			&#39; &#39; +
			($NP: _prepIndex + 1)
			)
		(output-data: _output)
		]
		)
		)

&lt;!--provides three alternatives: basic prep, basic prep plus a clause, alt prep --&gt;
&lt;!--12--&gt;
(set: $complexPrep to (macro: num-type _prepIndex, [
	(set: _output to 
			($prep: _prepIndex) +
			&#39; &#39; +
			($NP: _prepIndex + 1) +
			&#39; &#39; +
			($optional: ($prep: _prepIndex +1) +
					&#39; &#39; +
					($NP: _prepIndex + 2)
			)
		)
	(output-data: _output)
	]
	)
)

(set: $codePage to (cond: 
	$floorInt is 0, &#39;0code&#39;,
	$floorInt is 1, &#39;1code&#39;,
	$floorInt is 2, &#39;2code&#39;,
	$floorInt is 3, &#39;3code&#39;,
	$floorInt is 4, &#39;4code&#39;,
	$floorInt is 5, &#39;5code&#39;,
	$floorInt is 6, &#39;6code&#39;,
	$floorInt is 7, &#39;7code&#39;,
	$floorInt is 8, &#39;8code&#39;,
	$floorInt is 9, &#39;9code&#39;,
	$floorInt is 10, &#39;10code&#39;,
	$floorInt is 11, &#39;11code&#39;,
	$floorInt is 12, &#39;12code&#39;,
	$floorInt is 13, &#39;13code&#39;,
	$floorInt is 14, &#39;14code&#39;,
	$floorInt is 15, &#39;15code&#39;,
	$floorInt is 16, &#39;16code&#39;,
	$floorInt is 17, &#39;17code&#39;,
	$floorInt is 18, &#39;18code&#39;,
	$floorInt is 19, &#39;19code&#39;,
	$floorInt is 20, &#39;20code&#39;,
	&quot;Error. Unrecognized code page.&quot;))
	




&lt;!--22--&gt;
(set: $occupyingP to 
	(macro: 
		[
		(set: _output to (cond: 
		(a: 0,2,3,8,19) contains $floorInt, &#39;in&#39;,
		&#39;on&#39;
			))
		(output-data: _output)
		]
	)
)





&lt;!--24--&gt;
(set: $hundreds to ($floorInt * 100))
(if: $hundreds is 0)
	[(set: $hundredstring to &quot;the first century a.d.&quot;)]
(else:) [(set: $hundredstring to &#39;the&#39; + (string: $hundreds) + &#39;s&#39;)]

(set: $1Direction to ($fixDirection: $floorInt)&#39;s 1st)
(set: $2Direction to $directions&#39;s 2nd)
(set: $3Direction to $directions&#39;s 3rd)
(set: $4Direction to $directions&#39;s 4th)




}
At last the elevator [[comes to a halt-&gt;$codePage]]. 

</tw-passagedata><tw-passagedata pid="18" name="0code" tags="" position="1557,1235" size="100,100">{
&lt;!--maxDepth should be set to one less than the highest noun index--&gt;
(set: $maxDepth to 2)

&lt;!--VOCAB PREPOSITION MACRO --&gt;
&lt;!--13--&gt;
(set: $prep to (macro: num-type _prepIndex, [
	(set: $attributes to (a: _prepIndex, $altIndex))
	(set: _output to (cond: 
		$attributes matches (a: 1,0), $dugTunnel,
		$attributes matches (a: 1,1), $inTunnel,
		$attributes matches (a: 2,1), &#39;of&#39;,
				&#39;&#39;))
			(output-data: _output)
	]
	))







&lt;!--VOCAB DETERMINER MACRO --&gt;
&lt;!--14--&gt;

		
(set: $det to (macro: num-type _nounIndex, [
	(set: $attributes to (a: _nounIndex, $altIndex))
	(set: _output to (cond: 
		$attributes matches (a: 1,num), &#39;a&#39;,
		$attributes matches (a: 2,num), &#39;the&#39;,
		$attributes matches (a: 3,1), &#39;&#39;,
			&#39;&#39;))
	(output-data: _output)
	]
	))	
		

	
&lt;!--VOCAB NOUN MACRO --&gt;
&lt;!--15--&gt;


(set: $noun to (macro: num-type _nounIndex,[
	(set: $attributes to (a: _nounIndex, $altIndex))
	(set: _output to (cond: 
		$attributes matches (a: 1,0), $tunnel,
		$attributes matches (a: 1,1), $tunnel,
		$attributes matches (a: 2,0), $ground,
		$attributes matches (a: 2,1), &#39;catacombs&#39;,
		$attributes matches (a: 3,1), &#39;Callixtus&#39;,
		&#39;&#39;))
		(output-data: _output)
	]
	))
	
	
	
&lt;!--VOCAB ADJECTIVE MACRO --&gt;
&lt;!--16--&gt;
(set: $adj to (macro: num-type _adjIndex, [
	(set: $attributes to (a: _adjIndex, $altIndex))
	(set: _output to (cond: 
		$attributes matches (a: 1,num), $hot,
		$attributes matches (a: 2,num), $sandy,
		$attributes matches (a: 12,num), $dusty,
		$attributes matches (a: 2,1), $cataKind,
				&#39;&#39;))
		(output-data: _output)
	]
	))	
		

	
&lt;!--VOCAB ADVERB MACRO --&gt;
&lt;!--17--&gt;
(set: $adv to (macro: num-type _advIndex, [
	(set: $attributes to (a: _advIndex, $altIndex))
	(set: _output to (cond: 
		$attributes matches (a: 1,num), $hotAdv,
		&#39;&#39;))
	(output-data: _output)
	]
	))




&lt;!--19--&gt;
(set: $setVocab to (macro: [
	(set: $hotAdv to (either: 
		&#39;sweltering&#39;, &#39;baking&#39;, &#39;searing&#39;, 
		&#39;blazing&#39;, &#39;blistering&#39;, &#39;boiling&#39;, &#39;roasting&#39;))
	(set: $hot to &#39;hot&#39;)
	(set: $ground to (either: 
		&#39;ground&#39;, &#39;earth&#39;, &#39;land&#39;, &#39;soil&#39;, &#39;terrain&#39;))
	(set: $tunnel to (either:
		&#39;tunnel&#39;,&#39;underground passage&#39;))
	(set: $dugTunnel to (either: 
		&#39;dug through&#39;,&#39;bored through&#39;,&#39;excavated from&#39;,
		&#39;quarried from&#39;,&#39;gouged out of&#39;,&#39;burrowed from&#39;))
	(set: $dusty to (either: 
		&#39;dusty&#39;, &#39;gritty&#39;, &#39;crumbly&#39;, &#39;friable&#39;))
	(set: $sandy to (either:
		&#39;sandy&#39;, &#39;sandstone&#39;, &#39;desert&#39;, &#39;dry&#39;))
	(set: $inTunnel to (either: 
		&#39;in&#39;,&#39;somewhere in&#39;,&#39;down in&#39;,&#39;within&#39;,&#39;somewhere within&#39;))
	(set: $cataKind to (either: 
		&#39;Roman&#39;, &#39;Christian&#39;))
	(output-data:&#39;&#39;)
	]
	)
	)
	
(set: $signIntro to &quot;with a sign that says &quot;)
(set: $passageType to &#39;tunnel&#39;)
(set: $doorType to &#39;stairwell&#39;)
(set: $complexWord to &quot;catacombs&quot;)

(set: $decadeSign to (macro: num-type _input, [
	(set: _output to &quot;&quot; + ($romanDecades: _input) + &quot;&quot;)
	(output-data: _output)
	]
	)
	)

(set: $levelSentence to (macro: [
	(set: $mainSentence to &quot;You are &quot; + ($occupyingP:) + &quot; &quot; + ($NPplus: 1))
	(output-data: $mainSentence)
	]
	)
	)
	
(set: $altLevelSentence to (macro: [
	(set: $mainSentence to &quot;You are at one end of &quot; + ($NPplus: 1))
	(output-data: $mainSentence)
	]
	)
	)
	
	
}

The elevator doors open onto $hundredstring and you [[step out -&gt;main pathType top corner]].

</tw-passagedata><tw-passagedata pid="19" name="$codePage" tags="" position="1435,1121" size="100,100">This is a dummy page generated by the use of a variable for a link. </tw-passagedata><tw-passagedata pid="20" name="1code" tags="" position="1437,1233" size="100,100">{
&lt;!--maxDepth should be set to one less than the highest noun index--&gt;
(set: $maxDepth to 3)

(set: $prep to (macro: num-type _prepIndex, [
	(set: $attributes to (a: _prepIndex, $altIndex))
	(set: _output to (cond: 
		$attributes matches (a: 1,0), &#39;with&#39;,
		$attributes matches (a: 2,0), $setAgainst,
		$attributes matches (a: 3,0), &#39;of&#39;,
		$attributes matches (a: 1,1), &#39;on&#39;,
		$attributes matches (a: 2,1), &#39;in&#39;,
		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $det to (macro: num-type _nounIndex, [
	(set: $attributes to (a: _nounIndex, $altIndex))
	(set: _output to (cond: 		
		$attributes matches (a: 2,0), &#39;&#39;,
		$attributes matches (a: 2,1), &#39;the&#39;,
		$attributes matches (a: 3,0), &#39;the&#39;,
		$attributes matches (a: 4,0), &#39;&#39;,
			&#39;&#39;))
	(output-data: _output)
	]
	))

(set: $noun to (macro: num-type _nounIndex,[
(set: $attributes to (a: _nounIndex, $altIndex))	
	(set: _output to (cond:
		$attributes matches (a: 1,num), $street,
		$attributes matches (a: 2,1), $forum,
		$attributes matches (a: 3,1), $rome,
		$attributes matches (a: 2,0), $stalls,
		$attributes matches (a: 3,0), $insulaeWalls,
		$attributes matches (a: 4,0), $insulae,
		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $adj to (macro: num-type _adjIndex, [
	(set: $attributes to (a: _adjIndex, $altIndex))
	(set: _output to (cond: 		
		$attributes matches (a: 1,num), $market,
		$attributes matches (a: 11,num), $bustling,
		$attributes matches (a: 3,1), $romeMod,
		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $adv to (macro: num-type _advIndex, [
	(output-data: &#39;&#39;)
	]
	))

&lt;!--20--&gt;
(set: $setVocab to (macro: [
	(set: $bustling to (either: 
		&#39;bustling&#39;, &#39;busy&#39;, &#39;crowded&#39;, &#39;teeming&#39;, 
		&#39;thronged&#39;, &#39;buzzing&#39;, &#39;hectic&#39;, &#39;lively&#39;))
	(set: $market to &#39;market&#39;)
	(set: $street to &#39;street&#39;)
	(set: $with to &#39;with&#39;)
	(set: $stalls to (either:
		&#39;stands&#39;, &#39;stalls&#39;, &#39;counters&#39; ))
	(set: $setAgainst to (either:&#39;set against&#39;, &#39;leaning against&#39;, &#39;put up along&#39;, &#39;erected against&#39;,&#39;shoved up against&#39;))
	(set: $insulaeWalls to  (either: &#39;walls&#39;,&#39;sides&#39;))
	(set: $mudBricked to &#39;mud-brick&#39;)
	(set: $squalid to (either: 
		&#39;squalid&#39;, &#39;ugly&#39;, &#39;wretched&#39;, &#39;run down&#39;, &#39;scruffy&#39;, &#39;ramshackle&#39;, &#39;crumbling&#39;))
	(set: $insulae to (either: 
		&#39;insulae&#39;, &#39;tenements&#39;))
	(set: $forum to (either: &#39;forum&#39;, &#39;forum boarium&#39;))
	(set: $in to &#39;in&#39;)
	(set: $romeMod to (either: &#39;ancient&#39;, &#39;central&#39;, &#39;downtown&#39;))
	(set: $rome to &#39;Rome&#39;)
	
	(output-data:&#39;&#39;)
	]
	)
	)
	
(set: $passageType to &#39;street&#39;)
(set: $doorType to &#39;alley&#39;)
}
The elevator doors open onto $hundredstring and you [[step out -&gt;main pathType top corner]].

(set: $levelSentence to (macro: [
	(set: $mainSentence to &quot;You are &quot; + ($occupyingP:) + &quot; &quot; + ($NPplus: 1))
	(output-data: $mainSentence)
	]
	)
	)
	
(set: $altLevelSentence to (macro: [
	(set: $mainSentence to &quot;You are at one end of &quot; + ($NPplus: 1))
	(output-data: $mainSentence)
	]
	)
	)</tw-passagedata><tw-passagedata pid="21" name="2code" tags="" position="1553,1343" size="100,100">{
&lt;!--maxDepth should be set to one less than the highest noun index--&gt;
(set: $maxDepth to 1)

(set: $prep to (macro: num-type _prepIndex, [
	(set: $attributes to (a: _prepIndex, $altIndex))
	(set: _output to (cond: 
		$attributes matches (a: 1,1), &#39;of&#39;,
		$attributes matches (a: 1,0), &#39;near&#39;,
		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $det to (macro: num-type _nounIndex, [
	(set: $attributes to (a: _nounIndex, $altIndex))
	(set: _output to (cond: 		
		$attributes matches (a: 1,0), &#39;a&#39;,
		$attributes matches (a: 1,1), &#39;the&#39;,
		$attributes matches (a: 2,num), &#39;&#39;,
			&#39;&#39;))
	(output-data: _output)
	]
	))

(set: $noun to (macro: num-type _nounIndex,[
(set: $attributes to (a: _nounIndex, $altIndex))	
	(set: _output to (cond:
		$attributes matches (a: 1,0), $garden,
		$attributes matches (a: 1,1), &#39;gardens&#39;,
		$attributes matches (a: 2,0), $rome,
		$attributes matches (a: 2,1), $Lucullus,
		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $adj to (macro: num-type _adjIndex, [
	(set: $attributes to (a: _adjIndex, $altIndex))
	(set: _output to (cond: 		
		$attributes matches (a: 1,num), $gardenMod,
		$attributes matches (a: 11,num), $peaceful,
		$attributes matches (a: 2,0), $romeMod,
		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $adv to (macro: num-type _advIndex, [
	(output-data: &#39;&#39;)
	]
	))

&lt;!--20--&gt;
(set: $setVocab to (macro: [
	(set: $peaceful to (either: 
		&#39;peaceful&#39;, &#39;tranquil&#39;, &#39;serene&#39;, &#39;private&#39;,&#39;restful&#39;, 
		&#39;quiet&#39;))
	(set: $gardenMod to (either: &#39;water&#39;,&#39;Persian&#39;,&#39;fountain&#39;,&#39;water font&#39;,&#39;reservoir&#39;, &#39;Persio-Roman&#39;))
	(set: $garden to &#39;garden&#39;)
	(set: $gardens to &#39;gardens&#39;)
	(set: $Lucullus to (either: &#39;Lucullus&#39;, &#39;Lucius Licinius Lucullus&#39;))
	(set: $romeMod to (either: &#39;ancient&#39;, &#39;the capital of the empire of&#39;))
	(set: $rome to &#39;Rome&#39;)
	(output-data:&#39;&#39;)
	]
	)
	)
	
(set: $passageType to &#39;path&#39;)
(set: $doorType to &#39;gate&#39;)
}
The elevator doors open onto $hundredstring and you [[step out -&gt;main pathType top corner]].</tw-passagedata><tw-passagedata pid="22" name="3code" tags="" position="1438,1345" size="100,100">{
&lt;!--maxDepth should be set to one less than the highest noun index--&gt;
(set: $maxDepth to 2)

(set: $prep to (macro: num-type _prepIndex, [
	(set: $attributes to (a: _prepIndex, $altIndex))
	(set: _output to (cond: 
		$attributes matches (a: 1,1), &#39;of&#39;,
		$attributes matches (a: 1,0), &#39;with&#39;,
		$attributes matches (a: 1,0), $decorated + &#39; with&#39;,
		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $det to (macro: num-type _nounIndex, [
	(set: $attributes to (a: _nounIndex, $altIndex))
	(set: _output to (cond: 		
		$attributes matches (a: 1,0), &#39;a&#39;,
		$attributes matches (a: 1,1), &#39;the&#39;,
		$attributes matches (a: 2,num), &#39;&#39;,
			&#39;&#39;))
	(output-data: _output)
	]
	))

(set: $noun to (macro: num-type _nounIndex,[
(set: $attributes to (a: _nounIndex, $altIndex))	
	(set: _output to (cond:
		$attributes matches (a: 1,num), $villa,
		$attributes matches (a: 2,0), $walls,
		$attributes matches (a: 2,1), $Livia,
		$attributes matches (a: 3,0), $frescoes,
		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $adj to (macro: num-type _adjIndex, [
	(set: $attributes to (a: _adjIndex, $altIndex))
	(set: _output to (cond: 		
		$attributes matches (a: 1,num), $Roman,
		$attributes matches (a: 11,num), $lavish,
		$attributes matches (a: 2,0), $paneled,
		$attributes matches (a: 12,0), $marble,
		$attributes matches (a: 12,0), $expensive,

		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $adv to (macro: num-type _advIndex, [
	(output-data: &#39;&#39;)
	]
	))

&lt;!--20--&gt;
(set: $setVocab to (macro: [
	(set: $decorated to (either: 
		&#39;decorated&#39;, &#39;bedecked&#39;, &#39;ornamented&#39;, &#39;adorned&#39;,&#39;embellished&#39;, 
		&#39;festooned&#39;))
	(set: $villa to (either: &#39;villa&#39;,&#39;house&#39;,&#39;home&#39;,&#39;residence&#39;))
	(set: $walls to &#39;walls&#39;)
	(set: $Livia to &#39;Livia and Augustus&#39;)
	(set: $frescoes to (either: &#39;frescoes&#39;, &#39;mosaics&#39;, &#39;tapestries&#39;,&#39;paintings&#39;,&#39;sculptures&#39;))
	(set: $Roman to (either: &#39;Roman&#39;, &#39;imperial&#39;))
	(set: $lavish to (either: &#39;lavish&#39;, &#39;sumptuous&#39;, &#39;luxurious&#39;, &#39;opulent&#39;, &#39;grand&#39;, &#39;splendid&#39;))
	(set: $paneled to (either: &#39;paneled&#39;, &#39;stuccoed&#39;, &#39;tiled&#39;))
	(set: $marble to (either: &#39;marble&#39;, &#39;ceramic&#39;))
	(set: $expensive to (either: &#39;expensive&#39;, &#39;valuable&#39;, &#39;priceless&#39;))


	(output-data:&#39;&#39;)
	]
	)
	)
	
(set: $passageType to &#39;hallway&#39;)
(set: $doorType to &#39;doorway&#39;)
}
The elevator doors open onto $hundredstring and you [[step out -&gt;main pathType top corner]].</tw-passagedata><tw-passagedata pid="23" name="4code" tags="" position="1326,1343" size="100,100">{
&lt;!--maxDepth should be set to one less than the highest noun index--&gt;
(set: $maxDepth to 3)

(set: $prep to (macro: num-type _prepIndex, [
	(set: $attributes to (a: _prepIndex, $altIndex))
	(set: _output to (cond: 
		$attributes matches (a: 1, num), &#39;through&#39;,
		$attributes matches (a: 2,0), (either: $surrounded + &#39; by&#39;, &#39;standing &#39; + $amid),
		$attributes matches (a: 3,0), &#39;and&#39;,
		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $det to (macro: num-type _nounIndex, [
	(set: $attributes to (a: _nounIndex, $altIndex))
	(set: _output to (cond: 		
		$attributes matches (a: 1,num), &#39;a&#39;,
		$attributes matches (a: 2,num), &#39;the&#39;,
		$attributes matches (a: 3,0), &#39;&#39;,
			&#39;&#39;))
	(output-data: _output)
	]
	))

(set: $noun to (macro: num-type _nounIndex,[
(set: $attributes to (a: _nounIndex, $altIndex))	
	(set: _output to (cond:
		$attributes matches (a: 1,num), &#39;path&#39;,
		$attributes matches (a: 2,0), $ruinsOfACity,
		$attributes matches (a: 2,1), $ruinsOfRome,
		$attributes matches (a: 3,0), $collapsingStructures,
		$attributes matches (a: 4,0), $chunksOfStuff,
		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $adj to (macro: num-type _adjIndex, [
	(set: $attributes to (a: _adjIndex, $altIndex))
	(set: _output to (cond: 		
		$attributes matches (a: 2,num), $crumbling,
		$attributes matches (a: 3,0), $columnar,
		$attributes matches (a: 13,0), $collapsed,
		$attributes matches (a: 4,0), $broken,

		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $adv to (macro: num-type _advIndex, [
	(output-data: &#39;&#39;)
	]
	))


&lt;!--20--&gt;
&lt;!--These settings are included in a macro so that they get set afresh every time the macro is called by the sentence builder. Produces variation.--&gt;  
(set: $setVocab to (macro: [
	(set: $surrounded to (either: 
		&#39;surrounded&#39;, &#39;encircled&#39;, &#39;girdled&#39;))
	(set: $ruins to (either: &#39;ruins&#39;,&#39;ruins&#39;,&#39;remnants&#39;,&#39;remains&#39;,&#39;rubble&#39;,&#39;wreckage&#39;, &#39;desolation&#39;))
	(set: $amid to (either: &#39;amid&#39;, &#39;amidst&#39;,&#39;in the midst of&#39;,&#39;amongst&#39;))
	(set: $city to (either: &#39;city&#39;, &#39;metropolis&#39;))
	(set: $frescoes to (either: &#39;frescoes&#39;, &#39;mosaics&#39;, &#39;tapestries&#39;,&#39;paintings&#39;,&#39;sculptures&#39;))
	(set: $Rome to (either: &#39;Rome&#39;, &#39;Rome&#39;, &#39;Rome&#39;, &#39;the Eternal City&#39;, &#39;the city of Romulus&#39;, &#39;the Caput Mundi&#39;, &#39;the city of the seven hills&#39;))
	(set: $structures to (either: &#39;structures&#39;, &#39;structures&#39;, &#39;buildings&#39;, &#39;edifices&#39;))
	(set: $chunks to (either: &#39;chunks&#39;, &#39;hunks&#39;, &#39;lumps&#39;, &#39;slabs&#39;))
	(set: $crumbling to (either: &#39;crumbling&#39;, &#39;disintegrating&#39;, &#39;collapsing&#39;, &#39;decaying&#39;, &#39;perishing&#39;))
	(set: $cityMod to (either: &#39;ancient&#39;, &#39;once great&#39;, &#39;once glorious&#39;, &#39;sacked&#39;, &#39;beaten&#39;, &#39;vanquished&#39;, &#39;defeated&#39;))
	(set: $columnar to (either: &#39;columnar&#39;, &#39;pillared&#39;, &#39;arched&#39;, &#39;domed&#39;))
	(set: $collapsed to (either: &#39;collapsed&#39;, &#39;caved&#39;, &#39;subsided&#39;, &#39;buckled&#39;, &#39;crumpled&#39;, &#39;slumped&#39;, &#39;saggy&#39;, &#39;crooked&#39;))
	(set: $broken to (either: &#39;broken&#39;, &#39;smashed&#39;, &#39;fragmented&#39;, &#39;splintered&#39;, &#39;crushed&#39;, &#39;pulverised&#39;))
	(set: $material to (either: &#39;marble&#39;, &#39;stone&#39;, &#39;Roman concrete&#39;, &#39;statues&#39;, &#39;buildings&#39;, &#39;wall&#39;, &#39;road&#39;))
	(set: $ruinsOfACity to $ruins + &#39; of a &#39; + ($optional: $cityMod + &#39; &#39;) + $city)
	(set: $ruinsOfRome to $ruins + &#39; of &#39; + $Rome)
	(set: $chunksOfStuff to $chunks + &#39; of &#39; + $material)
	(set: $collapsingStructures to $collapsed + &#39; &#39; + $columnar + &#39; &#39; + $structures)

	(output-data:&#39;&#39;)
	]
	)
	)
	
(set: $passageType to &#39;pathway&#39;)
(set: $doorType to &#39;opening&#39;)
}
The elevator doors open onto $hundredstring and you [[step out -&gt;main pathType top corner]].</tw-passagedata><tw-passagedata pid="24" name="5code" tags="" position="1440,1453" size="100,100">{
&lt;!--maxDepth should be set to one less than the highest noun index--&gt;
(set: $maxDepth to 2)

(set: $prep to (macro: num-type _prepIndex, [
	(set: $attributes to (a: _prepIndex, $altIndex))
	(set: _output to (cond: 
		$attributes matches (a: 1,1), $besetWith,
		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $det to (macro: num-type _nounIndex, [
	(set: $attributes to (a: _nounIndex, $altIndex))
	(set: _output to (cond: 		
		$attributes matches (a: 2,0), &#39;the&#39;,
			&#39;&#39;))
	(output-data: _output)
	]
	))

(set: $noun to (macro: num-type _nounIndex,[
(set: $attributes to (a: _nounIndex, $altIndex))	
	(set: _output to (cond:
		$attributes matches (a: 1,num), $villa,
		$attributes matches (a: 2,0), $walls,
		$attributes matches (a: 2,1), $Livia,
		$attributes matches (a: 3,0), $frescoes,
		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $adj to (macro: num-type _adjIndex, [
	(set: $attributes to (a: _adjIndex, $altIndex))
	(set: _output to (cond: 		
		$attributes matches (a: 1,num), $Roman,
		$attributes matches (a: 11,num), $lavish,
		$attributes matches (a: 2,0), $paneled,
		$attributes matches (a: 12,0), $marble,
		$attributes matches (a: 12,0), $expensive,

		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $adv to (macro: num-type _advIndex, [
	(output-data: &#39;&#39;)
	]
	))

&lt;!--20--&gt;
(set: $setVocab to (macro: [
	(set: $decorated to (either: 
		&#39;decorated&#39;, &#39;bedecked&#39;, &#39;ornamented&#39;, &#39;adorned&#39;,&#39;embellished&#39;, 
		&#39;festooned&#39;))
	(set: $villa to (either: &#39;villa&#39;,&#39;house&#39;,&#39;home&#39;,&#39;residence&#39;))
	(set: $walls to &#39;walls&#39;)
	(set: $Livia to &#39;Livia and Augustus&#39;)
	(set: $frescoes to (either: &#39;frescoes&#39;, &#39;mosaics&#39;, &#39;tapestries&#39;,&#39;paintings&#39;,&#39;sculptures&#39;))
	(set: $Roman to (either: &#39;Roman&#39;, &#39;imperial&#39;))
	(set: $lavish to (either: &#39;lavish&#39;, &#39;sumptuous&#39;, &#39;luxurious&#39;, &#39;opulent&#39;, &#39;grand&#39;, &#39;splendid&#39;))
	(set: $paneled to (either: &#39;paneled&#39;, &#39;stuccoed&#39;, &#39;tiled&#39;))
	(set: $marble to (either: &#39;marble&#39;, &#39;ceramic&#39;))
	(set: $expensive to (either: &#39;expensive&#39;, &#39;valuable&#39;, &#39;priceless&#39;))


	(output-data:&#39;&#39;)
	]
	)
	)
	
(set: $passageType to &#39;road&#39;)
(set: $doorType to &#39;path&#39;)
}
The elevator doors open onto $hundredstring and you [[step out -&gt;main pathType top corner]].</tw-passagedata><tw-passagedata pid="25" name="Set Decade Vocab" tags="startup" position="1326,1119" size="100,100">{
(set: $romanDecades to (macro: num-type _decade, [
	(set: _output to (cond: 
		_decade is 0, &quot;Nulla Decennium&quot;,
		_decade is 1, &quot;Decennium Unum&quot;,
		_decade is 2, &quot;Decennium Duo &quot;,
		_decade is 3, &quot;Decennium Tria &quot;,
		_decade is 4, &quot;Decennium Quatuor&quot;,
	  	_decade is 5, &quot;Decennium Quinque&quot;,
		_decade is 6, &quot;Sex Decennium &quot;,
		_decade is 7, &quot;Decennium Septem&quot;,
		_decade is 8, &quot;Decennium Octo&quot;,
		_decade is 9, &quot;Decennium Novem&quot;,
	&quot;&quot;))
	(output-data: _output)
	]
	)
	)
	
	}</tw-passagedata><tw-passagedata pid="26" name="_passageMaker with NLP" tags="startup" position="2044,701" size="100,100">{
(set: $wordIterator to 1)
(set: $directionText to &quot;&quot;)

(set: $vectorDescription to 
(macro: array-type _vector, [
	(set: _eW to (cond:
		(1st of _vector) is 1, &quot;east&quot;,
		(1st of _vector) is -1, &quot;west&quot;,
		&quot;&quot;))
	(set: _nS to (cond:
		(2nd of _vector) is 1, &quot;north&quot;,
		(2nd of _vector) is -1, &quot;south&quot;,
		&quot;&quot;))
	(set: _uD to (cond:
		(3rd of _vector) is 1, &quot;up&quot;,
		(3rd of _vector) is -1, &quot;down&quot;,
		&quot;&quot;))
	(set: _output to _uD +_nS +_eW)
	(output-data: _output)
	]
	))
	
(set: $vectorDescription to (macro: array-type _vector,[
	(set: _through_way to ($elevation: _vector))
	(set: _eW to (cond:
		(1st of _vector) is 1, &quot;east&quot;,
		(1st of _vector) is -1, &quot;west&quot;,
		&quot;&quot;))
	(set: _nS to (cond:
		(2nd of _vector) is 1, &quot;north&quot;,
		(2nd of _vector) is -1, &quot;south&quot;,
		&quot;&quot;))
	(set: _uD to (cond:
		(3rd of _vector) is 1, &quot;up&quot;,
		(3rd of _vector) is -1, &quot;down&quot;,
		&quot;&quot;))
	(set: _conjunctionPhrase to (cond: 
		_through_way is &quot;a stairwell&quot;, &quot; and to the &quot;,
		&quot;&quot;))
	(set: _output to _uD + _conjunctionPhrase + _nS + _eW)
	(output-data: _output)
	]
	))
	
&lt;!--takes a list of vectors and calls writeDirection for each--&gt;
(set: $listExits to 
(macro: array-type _list, [
	(for: each _vector, ..._list)[
		($writeLink: _vector)
		(set: $wordIterator +=1)
		]
	(output-data:&quot;&quot;)
	]))
	

(set: $wordLink to 
(macro: array-type _vector, [
	($writeIntro:_vector) 
	(set: $directionText to $directionText 
	+ &quot; [[&quot; 
	+ ($getDirectionWords: _vector) 
	+ &quot;.&quot;
	+ &quot;-&gt;&quot; 
	+ ($getOtherRoomName:_vector) 
	+ &quot;]]&quot;)
	(output-data: &quot;&quot;)
	]
))

(set: $writeLink to 
(macro: array-type _vector, [
	($writeIntro:_vector) 
	(set: $directionText to $directionText 
	+ &quot; [[&quot; 
	+ ($vectorDescription: _vector) 
	+ &quot;.&quot;
	+ &quot;-&gt;&quot; 
	+ ($getOtherRoomName:_vector) 
	+ &quot;]]&quot;)
	(output-data: &quot;&quot;)
	]
))





&lt;!--takes an arc, adds it to the current coords to get the other rooms coords, then uses them to find out &amp; output the other room&#39;s number --&gt;

(set: $getOtherRoomsNumber to 
(macro: array-type _vector, [
	(set: _otherRoomCoords to ($vectorAdd3: $theseCoords, _vector))
	(set: _otherRoomNumber to ($getRoomFromCoords: _otherRoomCoords))
	(output-data: _otherRoomNumber)
	]))


(set: $getOtherRoomName to 
(macro: array-type _vector, [
	(set: _numberString to (str: ($getOtherRoomsNumber: _vector)))
	(output-data: _numberString)
	]))

	
(set: $writeIntro to 
(macro: array-type _vector, [	
	(set: _through_way to ($elevation: _vector))
	(if: $wordIterator is 1)
		[(set: $directionText to $directionText + (upperfirst: ($fromHere:)) + &quot; &quot; + _through_way + &quot; &quot; + ($goes:) )]
	(if: $wordIterator is 2)
		[(set: $directionText to $directionText + &quot; &quot; + (upperfirst: _through_way) + &quot; also &quot; + ($goes:))]
	(if: $wordIterator is 3)
		[(set: $directionText to $directionText + &quot; &quot; + (upperfirst: ($alternatively:)) + _through_way + &quot; &quot; + ($goes:) + &quot; &quot;)]
	(if: $wordIterator &gt; 3)
		[(set: $directionText to $directionText + &quot; &quot; + &quot;You &quot; + ($can:) + &quot; &quot; + ($go:) +&quot; via &quot; + _through_way)]
	(output-data: &quot;&quot;)
	]))

(set: $go to 
(macro: [
	(set: _output to (either: &quot;go&quot;, &quot;head&quot;))
	(output-data: _output) 
	]
	))
	
(set: $goes to 
(macro: [
	(set: _output to (either: &quot;goes&quot;, &quot;heads&quot;))
	(output-data: _output) 
	]
	))
	
(set: $alternatively to 
(macro: [
	(set: _output to (either: &quot;alternatively, &quot;))
	(output-data: _output) 
	]
	))
	
(set: $fromHere to 
(macro: [
	(set: _output to (either: &quot;from here&quot;))
	(output-data: _output) 
	]
	))
	
(set: $can to 
(macro: [
	(set: _output to (either: &quot; can&quot;, &quot; might&quot;, &quot; may&quot;, &quot; could&quot;))
	(output-data: _output) 
	]
	))
	
(set: $languageVariation to 
(macro: array-type _vector, string-type _through_way, [
	(set: _output to 
		&quot;You&quot; + 
		(either: &quot; can&quot;, &quot; might&quot;, &quot; may&quot;, &quot; could&quot;) + 
		(either: &quot; also&quot;, &quot; alternatively&quot;, &quot;&quot;, &quot; instead&quot;) + 
		(either: &quot; go&quot;, &quot; opt to go&quot;, &quot; head&quot;, &quot; opt to head&quot;, &quot; choose to go&quot;, &quot; choose to head&quot;, &quot; decide to go&quot;, &quot; decide to head&quot;) + 
		($vectorDescription: _vector) + 
		&quot; via a &quot; + 
		_through_way 
		+ &quot;.&quot;)
		(output-data: _output)]))

(set: $getDirectionWords to (macro: array-type _vector,[
	(set: _through_way to ($elevation: _vector))
	(set: _eW to (cond:
		(1st of _vector) is 1, &quot;east&quot;,
		(1st of _vector) is -1, &quot;west&quot;,
		&quot;&quot;))
	(set: _nS to (cond:
		(2nd of _vector) is 1, &quot;north&quot;,
		(2nd of _vector) is -1, &quot;south&quot;,
		&quot;&quot;))
	(set: _uD to (cond:
		(3rd of _vector) is 1, &quot;up&quot;,
		(3rd of _vector) is -1, &quot;down&quot;,
		&quot;&quot;))
	(set: _conjunctionPhrase to (cond: 
		_through_way is &quot;a stairwell goes &quot;, &quot; and to the &quot;,
		&quot;&quot;))
	(set: _output to &quot;From here, &quot; + _through_way + _uD + _conjunctionPhrase + _nS + _eW)
	(output-data: _output)
	]
	))



&lt;!--from exit vector decides whether apt exit type is ladder, stairwell or passage--&gt;

(set: $elevation to (macro: array-type _vector, [
	(set: _throughway to (cond: 
		(3rd of _vector is 0), 0,
		(1st of _vector is 0) and (2nd of _vector is 0), 1,
		2))
	(set: _output to (cond: 
		_throughway is 0, &quot;a passage&quot;,
		_throughway is 1, &quot;a ladder&quot;,
		_throughway is 2, &quot;a stairwell&quot;,
		&quot;&quot;))
	(output-data: _output)
		]))
		
(set: $locusWord to 
(macro: [
	(if: $thisRoomNumber &gt; 9)[(output-data: &quot;passage&quot;)]
	(else:)[(output-data: &quot;room&quot;)]
	]
	))

}



</tw-passagedata><tw-passagedata pid="27" name="_simple vector ops" tags="startup" position="2276,703" size="100,100">{

&lt;!--subtracts the last three elements of one array from the other--&gt; 
(set: $subtractN3s to
(macro: array-type _first, array-type _second,[
	(set: _first to (subarray: _first, -3, -1))
	(set: _second to (subarray: _second, -3, -1))
	(set: _a to 1st of _first - 1st of _second)
	(set: _b to 2nd of _first - 2nd of _second)
	(set: _c to 3rd of _first - 3rd of _second)
	(output-data: (a: _a,_b,_c))
	]))
	
&lt;!--adds the last three elements of one array to the other--&gt; 
(set: $addN3s to
(macro: array-type _first, array-type _second,[
	(set: $report3 to $report3 + &quot; addN3s &quot;)

	(set: _first to (subarray: _first, -3, -1))
	(set: _second to (subarray: _second, -3, -1))
	(set: _a to 1st of _first + 1st of _second)
	(set: _b to 2nd of _first + 2nd of _second)
	(set: _c to 3rd of _first + 3rd of _second)
	(output-data: (a: _a,_b,_c))
	]))
	
&lt;!--This is a simple non-general vector addition macro for macros of 3 elements--&gt; 

(set: $vectorAdd3 to (macro: array-type _threeVector, array-type _threevector2, [
	(set: _a to _threeVector&#39;s 1st + _threevector2&#39;s 1st)
	(set: _b to _threeVector&#39;s 2nd + _threevector2&#39;s 2nd)
	(set: _c to _threeVector&#39;s 3rd + _threevector2&#39;s 3rd)
	(set: _output to (a: _a, _b, _c))
	(output-data: _output)
	]
	))
	
&lt;!--This takes a 6 vector and returns the last 3 elements as an array--&gt; 

(set: $lastThree to (macro: array-type _vector6, [
	(output-data: (a: _vector6&#39;s 4th, _vector6&#39;s 5th, _vector6&#39;s 6th))]))

&lt;!--This takes a 6 vector and returns the first 3 elements as an array--&gt; 

(set: $firstThree to (macro: array-type _vector6, [
	(output-data: (a: _vector6&#39;s 1st, _vector6&#39;s 2nd, _vector6&#39;s 3rd))]))
	
	
(set: $getTernaryVector to (macro: [
	(set: _x to ($getTernaryValue:))
	(set: _y to ($getTernaryValue:))
	(set: _z to ($getTernaryValue:))
	(set: _output to (a: _x, _y, _z))
	(output-data: _output)
	]
	))
	

		
&lt;!--the following adds the first elements of two vectors. Returns array with sum. --&gt;

(set: $1stElementAdd to (macro: array-type _v1, array-type _v2, [
	(set: _x to (1st of _v1) + (1st of _v2))
	(set: _outputE to (a:_x))
	(output-data: _outputE)
	]
	))
	

		
&lt;!--takes a 6 long arc vector and creates the opposite directioned arc--&gt;
(set: $oppositeArc6 to (macro: array-type _arc, [
	(set: 
		_a to -1 * 1st of _arc,
		_b to -1 * 2nd of _arc,
		_c to -1 * 3rd of _arc,
		_d to -1 * 4th of _arc,
		_e to -1 * 5th of _arc,
		_f to -1 * 6th of _arc)
	(set: _x to (a: _a,_b,_c,_d,_e,_f))
	(output-data: _x)
	]))

&lt;!--takes a 3 long arc vector and creates the opposite directioned arc--&gt;
(set: $oppositeArc to (macro: array-type _arc, [
	(set: 
		_a to -1 * 1st of _arc,
		_b to -1 * 2nd of _arc,
		_c to -1 * 3rd of _arc)
	(output-data: (a: _a,_b,_c))
	]))
	
	}


</tw-passagedata><tw-passagedata pid="28" name="tester" tags="" position="2995,699" size="100,100">Here is the returned polarity of 0: 

($returnPolarities: 0)

Here is the returned polarity of 1: 

($returnPolarities: 1)

Here is the returned polarity of -1: 

($returnPolarities: -1)

Here is the returned polarity of 3: 

($returnPolarities: 3)

Here is the returned polarity of -3: 

($returnPolarities: -3)

Here is the returned polarity of -6: 

($returnPolarities: -6)

</tw-passagedata><tw-passagedata pid="29" name="_random value ops" tags="startup" position="2161,701" size="100,100">{
(set: $seedIndex to 1)
(set: $seedIndex20 to 1)
(set: $seedIndex25 to 1)
(set: $randomSeed to (a: 5,0,3,12,14,13,19,4,9,1,8,2,6,7,15,17,16,18,11))
(set: $randomSeed25 to (a: 23,5,3,12,20,14,13,19,21,25,4,9,1,8,2,6,7,22, 15,17,16,18,24,11))

	
(set: $getBinaryValue to (macro: [
	(set: _output to (nth: $seedIndex, 0,1,0,0,1,0,1,0,0,0,1,1,1,0,1,0,0))
	(if: $seedIndex &gt; 20) [(set: $seedIndex to 1)]
	(else:) [(set: $seedIndex +=1)]
	(output-data: _output)]))

(set: $getStableRandom20 to (macro: [
	(set: _output to (nth: $seedIndex20, ...$randomSeed))
	(if: $seedIndex &gt; 20) [(set: $seedIndex to 1)]
	(set: $seedIndex20 +=1)
	(output-data: _output)]))
	

(set: $mod to 
(macro: num-type _dividend, num-type _divisor, [
	(if: _divisor &lt; 0) [(error: &quot;divisor less than 0&quot;)]
	(if: _dividend &lt; 0) [(error: &quot;dividend less than 0&quot;)]
	(if: _divisor is 0) [(set: $modulus to 0)] 
	(else:)[
	(if: _divisor &gt; _dividend)[(set: $modulus to _dividend)]
	(else:) [($mod: _dividend - _divisor, _divisor)]
	]
	(output-data:&quot;&quot;) 
	]))
	
	
(set: $getRandomWithMax to 
(macro: num-type _limit, [
	(if: _limit &gt; 19)
		[(error:&quot;$getRandomWithMax cannot accept argument &gt;19&quot;)]
	(set: _starter to (nth: $seedIndex20, ...$randomSeed))
	(if: $seedIndex20 &gt; 40) [(set: $seedIndex to 1)]
	(else:) [(set: $seedIndex20 +=1)]
	($mod: _starter, _limit)
	(set: $randomWithMax to $modulus)
	(output-data: &quot;&quot;)
	]))

	

	
&lt;!--sets a stable random value from the range -1, 0, 1.--&gt;
(set: $getTernaryValue to (macro: [
	(set: _output to (nth: $seedIndex, 0,-1,0,1,-1,0,1,1,0,-1,1,1,-1,1,1,1,0))
	(if: $seedIndex &gt; 20) [(set: $seedIndex to 1)]
	(else:) [(set: $seedIndex +=1)]
	(output-data: _output)]))
		


(set: $makeRootArc to (macro: [
	(set: _from to (a: 0, 0, 0))
	(set: _to to ($getTernaryVector:)) 
	(output-data: _from + _to)]
	))
	
	
	
&lt;!--GET SHORTARCS --&gt; 
&lt;!--GET SHORTARCS --&gt; 
&lt;!--GET SHORTARCS --&gt; 
&lt;!--GET SHORTARCS --&gt;

(set: $getNextShortArc to 
(macro: [ 
	(set: $seedReport to it + (a:$seedIndex25))
	(set: _output to (nth: $seedIndex25, ...$shortArcs))
	(if: $seedIndex25 &gt; 25) [(set: $seedIndex25 to 1)]
	(else:) [(set: $seedIndex25 +=1)
		 ]
	(output-data: _output)]))
	
}</tw-passagedata><tw-passagedata pid="30" name="sandbox" tags="" position="1463,820" size="100,100">(set: $printTen to (macro: num-type _counter, string-type _string, [
	(if: _counter &gt; 9) [(output-data: _string)]
	(else:) [
		(set: _counter +=1)
		(set: _string to _string + &quot; ten&quot;) 
		(output:) [($printTen: _counter, _string)]
		]
		]))</tw-passagedata><tw-passagedata pid="31" name="legacy _graph builder control v1" tags="" position="3220,453" size="100,100">{

&lt;!--SETUP--&gt;
&lt;!--SETUP--&gt; 
&lt;!--SETUP--&gt;
&lt;!--SETUP--&gt; 
&lt;!--SETUP--&gt;
&lt;!--THESE AREN&#39;T JUST FOR TESTING--&gt;
&lt;!--THESE AREN&#39;T JUST FOR TESTING--&gt;
&lt;!--THESE AREN&#39;T JUST FOR TESTING--&gt;
&lt;!--THESE AREN&#39;T JUST FOR TESTING--&gt;

&lt;!--these help determine an orderly path between rooms--&gt;
(set: $arcs to (a:
(a:0,1),(a:1,0),
(a:1,2),(a:2,1),
(a:2,3),(a:3,2),
(a:3,4),(a:4,3),
(a:4,5),(a:5,4),
(a:5,6),(a:6,5),
(a:6,7),(a:7,6),
(a:7,8),(a:8,7),
(a:8,9),(a:9,8),
(a:9,10),(a:10,9)))

(set: $startState to 0)

(set: $nodes to (a: (a: 0,0,0)))

&lt;!--This sets up a root locus, from which the others will proceed--&gt;
(set: $loci to (a:
	(a: 0, &quot;locus 0&quot;, 0, 0, 0)
	))
	
&lt;!--To start, the root locus is the only locus whose coordinates are realized --&gt;	
(set: $realLoci to (a:(a:0,0,0)))

&lt;!--The counter checks when (i) all rooms have been realized and only subloci remain, and (ii) we&#39;re out of subloci. This helps control the generation.--&gt;

(set: $counter to 1)

&lt;!--The secondcounter keeps track of the non-room loci. This allows for opportunities to insert non-rooms during the first wave of generation.--&gt;
(set: $secondCounter to 11)

&lt;!--the following datamap of arrays represents the exits from each locus. Each name is a string of the locus number and the corresponding value is the list of exits from that locus, each of which will be a triple that signifies the direction of exit--&gt; 
(set: $exits to (dm: &quot;0&quot;, (a:), &quot;1&quot;,(a:), &quot;2&quot;, (a:),&quot;3&quot;, (a:),&quot;4&quot;,(a:),&quot;5&quot;,(a:),&quot;6&quot;,(a:),&quot;7&quot;,(a:),&quot;8&quot;,(a:),&quot;9&quot;,(a:),&quot;10&quot;,(a:),&quot;11&quot;,(a:),&quot;12&quot;,(a:),&quot;13&quot;,(a:),&quot;14&quot;,(a:),&quot;15&quot;,(a:),&quot;16&quot;,(a:),&quot;17&quot;,(a:),&quot;18&quot;,(a:),&quot;19&quot;,(a:), &quot;20&quot;,(a:), &quot;21&quot;,(a:), &quot;22&quot;,(a:), &quot;23&quot;,(a:), &quot;24&quot;,(a:), &quot;25&quot;,(a:)))

(set: $arcDirection to (a:))
	


&lt;!--CONTROL--&gt; 
&lt;!--CONTROL--&gt; 
&lt;!--CONTROL--&gt; 
&lt;!--CONTROL--&gt;
&lt;!--CONTROL--&gt; 



		
&lt;!--This is the top level control for building both rooms and subloci. It merely controls the loop, passing off the substance to $expandstructure .--&gt;  
		
(set: $buildLoci to 
(macro: [
	($expandStructure:)
	(set: $counter to $counter +1)
	(if: $counter &gt;30)[(error: &quot;Counter has exceeded 30&quot;)]
	(if: $counter &lt; 25) [($buildLoci:)]
	(output-data: &quot;&quot;)
		]
		))
	
		


&lt;!--Upper management function is the substantial controller for loci generation. Directs functions to create loci even if their space is already taken. Arcs will not be built to such &quot;ghost&quot; loci, however.--&gt;

(set: $expandStructure to 
(macro: [
	($createNaddN3:)
	(if: $arcDirection is not an array)[(error: &quot;arc direction is not array after createNaddN3&quot;)]
	($createNaddLocus:)
	($addN3toStructure:)
	(if: $counter &lt; 10)[($makeArc:)]
	(else:) [($makeContingentArc:)]
	($addExits:)
	(output-data: &quot;&quot;)
	]
	))



	




	

	
&lt;!--DEBUGGING--&gt;
&lt;!--DEBUGGING--&gt; 
&lt;!--DEBUGGING--&gt; 
&lt;!--DEBUGGING--&gt; 

(set: $arcBad to 
(macro: array-type _arc, [
	(if: any of _arc &gt; 1 or any of _arc &lt; -1)[(output-data: true)]
	(else:) [(output-data: false)]
	]
	))
	




	

}
</tw-passagedata><tw-passagedata pid="32" name="graph cleanup legacy" tags="" position="3103,456" size="100,100">{

	

&lt;!--CLEAN UP--&gt; 
&lt;!--CLEAN UP--&gt; 
&lt;!--CLEAN UP--&gt; 
&lt;!--CLEAN UP--&gt; 

&lt;!--removes duplicates--&gt; 
(set: $cleanGraphs to 
(macro: [
	[($cleanLocuses:)
	($cleanArcs:)
	(output-data:&quot;&quot;)]
	]
	))

(set: $cleanLocuses to
(macro: [
	(set: $cleanloci to (a:))
	($removeDuplicateLoci:)
	(output-data:&quot;&quot;)
	]))
	

(set: $cleanArcs to 
(macro: [
	(set:$cleanConnections to (a:))
	($removeDuplicates:)
	(set:$outConnections to (a:))
	($removeLoopyArcs:)
	(set:$completeConnections to (a:))
	($addReturnPaths:)
	(set:$cleanConnections to (a:))
	($removeDuplicates:)
	(output-data:&quot;&quot;)
	]
	))
	
(set: $removeDuplicates to 
(macro: [
	(if: length of $arcs is 0)[(set: $arcs to $cleanConnections)
		]
	(else:) [
		($copyList:)
		($removeDuplicates:)
	]	
	(output-data:&quot;&quot;)
	]
	))
	

(set: $copyList to 
(macro: [
	(set: _x to 1st of $arcs)
	(set: $arcs to $arcs - (a:1st of $arcs))
	(set: $cleanConnections to $cleanConnections + (a:_x))
	(output-data: &quot;&quot;)
		]
		))

&lt;!--This removes any arcs that connect a single node to itself. If this is called after duplicate nodes are removed, cleanConnections must be reset to an empty array before calling it. --&gt; 

(set: $removeLoopyArcs to 
(macro: [
	(if: length of $arcs is 0)[
		(set: $arcs to $outConnections)]
	(else:)[($removeLoopyArc:)
			($removeLoopyArcs:)]
	(output-data:&quot;&quot;)
	]
))

&lt;!--This expects arcs to be nonempty when called. It checks the first arc in arcs to see if it loops a node to itself. If it does, it simply removes it from arcs, without copying it to cleanConnections.--&gt; 
(set: $removeLoopyArc to 
(macro: [
	(set: _x to 1st of $arcs)
	(set: $arcs to $arcs - (a:_x))
	(if: 1st of _x is not 2nd of _x)
		[(set: $outConnections to $outConnections + (a:_x))
		]
	(output-data:&quot;&quot;)
	]
	))

(set: $addReturnPaths to 
(macro: [
	(if: length of $arcs is 0)[(set: $arcs to $completeConnections)]
	(else:) [($copyWithReverse:)
			($addReturnPaths:)]
	(output-data:&quot;&quot;)
	]
	))
	
(set: $copyWithReverse to 
(macro: [
	(set: _x to 1st of $arcs)
	(set: _reversal to (a: 2nd of _x,1st of _x))
	(set: $completeConnections to $completeConnections + (a:_x,_reversal))
	(set: $arcs to $arcs - (a:_x))
	(output-data:&quot;&quot;)
	]
	))

&lt;!--remove the latter of two loci that have the same coordinates--&gt;
(set: $removeDuplicateLoci to 
(macro: [
	(if: length of $loci is 0)[(set: $loci to $cleanloci)]
	(else:) [
		($copylocus:)
		($removeDuplicateLoci:)
	]	
	(output-data:&quot;&quot;)
	]
	))
	
&lt;!--needs cleanLoci to be set as array before being called--&gt; 
(set: $copylocus to 
(macro: [
	(set: _x to 1st of $loci)
	(set: $currentlyCleaning to (a:3rd of _x, 4th of _x, 5th of _x))
						
	(set: $competitors to 
		(find: _item where _item matches (a:num,string,3rd of _x, 4th of _x, 5th of _x), ...$loci))
	(set: $loci to $loci - $competitors)		
	(if: length of $competitors is 1)
		[(set: $cleanloci to $cleanloci + (a:_x))] 
	(else:)[(set: $leader to _x)
			($getLowestLocus:)
			(set: $cleanloci to $cleanloci + (a:$winner))]
	(output-data: &quot;&quot;)
		]
		
		))
	
	
&lt;!--Puts the lowest numbered locus from an array of loci into winner--&gt; 
&lt;!--Expects competitors and an initial leader to be set before being called--&gt; 
(set: $getLowestLocus to 
(macro: [
	(if: length of $competitors is 0)[(set: $winner to $leader)]
	(else:) [(set: _entrant1 to 1st of $competitors)
			(set: $competitors to $competitors - (a:1st of $competitors))
			(if: 1st of _entrant1 &lt; 1st of $leader) [
				(set: $leader to _entrant1)
				]
			($getLowestLocus:)
]
	(output-data:&quot;&quot;)
	]))

}


</tw-passagedata><tw-passagedata pid="33" name="locus 0" tags="" position="2482,900" size="100,100">($buildMap:) 

{(set: $thisRoomsNumber to 0)
(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)
(set: $wordIterator to 1)
($getTheseCoords:)
($getExitVectors:)
($listExits: $exitVectors)


}
1
You are at ($locusWord:) $thisRoomsNumber. 
(print: $directionText) 
(if: $theseCoords is $mostExtreme)[$returnText]
Here are the exit vectors: 
(for: each _item, ...$exitVectors) [* _item]

</tw-passagedata><tw-passagedata pid="34" name="entrance" tags="" position="2284,899" size="100,100">You enter [[the complex.-&gt;locus 0]] 

	($buildLoci:)
	($cleanGraphs:)
</tw-passagedata><tw-passagedata pid="35" name="legacy _graph access v2" tags="" position="2723,346" size="100,100">&lt;!--takes room coords and returns list of all surrounding spaces. Should be called with _current set to (a: -1,-1,-1) --&gt; 
(set: $getSurroundingSpaces to
(macro: array-type _vector, array-type _current, [
	(set: $surroundings to (a:))
	(if: _current is not (a:0,0,0)[
		(set: _space to ($addN3s: _vector, _current))
		(set: $surroundings to $surroundings + (a:_space))]
	(if: _current is (a:1,1,1))[(output-data: &quot;&quot;)]
	(else:)
		[(set: _newCurrent to ($upClock: _current))
		($getSurroundingSpaces: _newCurrent)]
	(output-data: &quot;&quot;)]))


&lt;!--takes room coords and returns name of room--&gt; 
(set: $getRoomFromCoords to
(macro: array-type _vector, [
	(set: _matcher to (a:num, string) + _vector)
	(if: length of _matcher is not 5) [(error: &quot;matcher wrong length&quot;)]
	(set: _locusList to (find: _item where _item matches _matcher, ...$loci))
	(if: length of _locusList is 0)[(error: &quot;cannot find locus &quot; + (print:_matcher)] 
	(set: _locus to 1st of _locusList)
	(set: _output to 2nd of _locus)
	(output-data:_output)
	]))
	
(set: $getThisLocus to
(macro: [
	(set: $thisLocus to 1st of (find: _item where _item matches (a:$thisRoomsNumber,string,num, num, num), ...$loci))
	(set: $report to $report + &quot; $thisLocus&quot;)
	(output-data:&quot;&quot;)
	]))
	
(set: $thisLocisNumber to 
(macro: [
	($getThisLocus:)
	(set: _output to 1st of $thisLocus)
	(output-data: _output)
	]
))

&lt;!--assumes getThisLocus has already been called--&gt; 
(set: $getTheseCoords to 
(macro: [
	(set: _c1 to 3rd of $thisLocus) 
	(set: _c2 to 4th of $thisLocus) 
	(set: _c3 to 5th of $thisLocus) 
	(set: $theseCoords to (a:_c1,_c2,_c3))
	(output-data:&quot;&quot;)
	]
	))
	
(set: $getArcsFromHere to 
(macro: [
	(set: $arcsFromHere to 
		(find: _item where _item matches (a:$thisRoomsNumber,num), ...$arcs))
		(output-data: &quot;&quot;)
		]))

&lt;!--this takes the arcs that begin with this room number and subtracts this room number, leaving the other one--&gt; 
(set: $getNeighbors to 
(macro: [
	(if: $arcsFromHere matches (a:))[(error: &quot;this room has no neighbors!&quot;)]
	(set: $neighbors to 
		(altered: _item via 2nd of _item, ... $arcsFromHere))
	(output-data:&quot;&quot;)
	]
	
	))


&lt;!--not sure what this does. Could be mis-written.--&gt; 
(set: $getRoomWithNum to
(macro: num-type _locus, [
	(set: _output to (find: _item where _item matches (a:_locus,num), ...$loci)
	(output-data:_output)
	]))
	
	
	
	
(set: $getNeighboringLoci to 
(macro: [
	(set: $scanner to length of $loci)
	($gnlLoop:)
	(output-data:&quot;&quot;)
	]
	))

(set: $gnlLoop to 
(macro: [
	(if: $scanner &lt;= 1)[(set: $neighboringLoci to $neighboringLoci)]
	(else:) [
		(if: (a: num,$scanner) is in $arcsFromHere)
			[(set: $neighboringLoci to $neighboringLoci + ($getRoomWithNum: $scanner))]
		(set: $scanner to $scanner - 1)
		($gnlLoop:)
		]
	(output-data:&quot;&quot;)
	]
	))
	
	
&lt;!--An exit vector is a 3 array whose first element is the room # to which it connects, second # is the name of that room, and whose remaining elements are the three coordinates that specify its direction--&gt;
&lt;!--Gets the value for the string thisRoomsNumber from the datamap exits--&gt;
(set: $getExitVectors to 
(macro: [
	(set: _roomString to (str: $thisRoomsNumber))
	(set: $exitVectors to _roomString of $exits)
	(output-data:&quot;&quot;)
	]))

(set: $deductLoci to 
(macro: array-type _locus1, array-type _locus2, [
	(set: _c1 to 3rd of _locus1 - 3rd of _locus2)
	(set: _c2 to 4th of _locus1 - 4th of _locus2)
	(set: _c3 to 5th of _locus1 - 5th of _locus2)
	(set: _output to (a: 1st of _locus1, 2nd of _locus1, _c1, _c2, _c3))
	(output-data: _output)
	]
	))
		
	
	
	
	
	


	</tw-passagedata><tw-passagedata pid="36" name="empty test" tags="" position="3063,817" size="100,100">

(set: $report to &quot;&quot;)
($buildLoci:)
Here are the loci before cleaning: $loci
($cleanGraphs:)

Here are the loci after cleaning: $loci
Here are the arcs: $arcs
Here is the report: $report










</tw-passagedata><tw-passagedata pid="37" name="output test" tags="" position="3179,819" size="100,100">(set: $b1 to 
(macro: [
	($buildLoci:)
	(output-data:&quot;&quot;)
	]
	))

($b1:)
$arcs
$loci
</tw-passagedata><tw-passagedata pid="38" name="temp tester" tags="" position="3131,702" size="100,100">($mod: 0,1)
$modulus
($mod: 1,0)
$modulus
($mod: 1,1)
$modulus
($mod: 1,2)
$modulus
($mod: 2,1)
$modulus
($mod: 2,2)
$modulus
($mod: 1,3)
$modulus
($mod: 3,1)
$modulus
($mod: 3,3)
$modulus

($mod: 1,12)
$modulus($mod: 12,1)
$modulus
($mod: 3,16)
$modulus
($mod: 16,3)
$modulus
($mod: 4,9)
$modulus
($mod: 4,-9)
$modulus
($mod: -4,9)
$modulus
</tw-passagedata><tw-passagedata pid="39" name="Untitled Passage 1" tags="" position="2915,851" size="100,100">go to [[empty test]]</tw-passagedata><tw-passagedata pid="40" name="locus 1" tags="" position="2486,1020" size="100,100">{(set: $thisRoomsNumber to 1)
(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)
(set: $wordIterator to 1)

($getTheseCoords:)
($getExitVectors:)
($listExits: $exitVectors)

}
1
(print: $directionText) 
(if: $theseCoords is $mostExtreme)[$returnText]
</tw-passagedata><tw-passagedata pid="41" name="locus 2" tags="" position="2600,1021" size="100,100">{(set: $thisRoomsNumber to 2)
(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)

($getTheseCoords:)
($getExitVectors:)
($listExits: $exitVectors)
(set: $wordIterator to 1)

}
location 2
(print: $directionText) 
(if: $theseCoords is $mostExtreme)[$returnText]
</tw-passagedata><tw-passagedata pid="42" name="LEGACY building arcs and loci v1" tags="" position="3219,349" size="100,100">
&lt;!--BUILDING ARCS--&gt; 
&lt;!--BUILDING ARCS--&gt; 
&lt;!--BUILDING ARCS--&gt; 
&lt;!--BUILDING ARCS--&gt; 

&lt;!--given the new n3, checks whether something exists already at that location and uses that to decide whether to make an arc from the template to the current occupant or create a new node. Calls the appropriate functions.--&gt; 

(set: $makeContingentArc to 
(macro: [
	(if: $n3 is in $realLoci)[($makeArcToOldNode:)]
	(else:)[($makeArc:)]
	(output-data: &quot;&quot;)
	]))
	
&lt;!--given that the new node already exists, this finds the room at those coordinates and calls getRoomAt to set oldnode to that locus number. then creates an arc from the getBranchingPoint to it.--&gt; 
(set: $makeArcToOldNode to 
(macro: [
	($getRoomAt:)
	(set: $arcs to $arcs + (a:(a:1st of $branchingPoint, $oldNode)))
	(output-data: &quot;&quot;)
	]
	))
	
(set: $makeArc to 
(macro: [
	(if: $branchingPointNo is $counter)[(error: &quot;current template and counter have the same number in makeArc&quot;)]
	(set: $arcs to $arcs + (a: (a: $branchingPointNo, $counter)))
	(output-data: &quot;&quot;)
	]
	))
	


&lt;!--called by $makeArcToOldNode, sets $oldNode to the number of the room at the n3 coordinates. If there are multiple, returns the least. Hence this returns the room rather than the nonroom. This macro expects a nonempty array, and reports an error if it does not get one. --&gt;

(set: $getRoomAt to 
(macro: [
	(set: _matches to 
		(find: _locus where _locus&#39;s 3rdto5th is $n3, ...$loci))
	(if: _matches&#39;s length is 0)[
		(error: &quot;$getRoomAt has been handed an empty array!&quot;)]
	(if: _matches&#39;s length is 1) [
		(set: _node to 1st of _matches)
		(set: $oldNode to 1st of _node)]
	(else:)[
		(set: _locusNumbers to 
			(altered: _node via 1st of _node,  ..._matches))
		(set: $oldNode to (min:10000,..._locusNumbers))
		(if:$oldNode is 10000) 
			[(error: &quot;$getroom given empty array, or # rooms &gt;10000&quot;)]]
		(output-data: &quot;&quot;)
	]
	))


&lt;!--BUILDING LOCI --&gt; 
&lt;!--BUILDING LOCI --&gt; 
&lt;!--BUILDING LOCI --&gt; 
&lt;!--BUILDING LOCI --&gt; 


(set: $createNaddLocus to 
(macro: [
	($makeLocus:)
	(if: $arcDirection is not an array)
		[(error: &quot;arcDirection is not array when makeLocus concludes&quot;)]
	($addLocustoStructure:)
&lt;!---here is where addexits used to be--&gt; 	
	(output-data: &quot;&quot;)
	]
	))

&lt;!--takes an n3 and forms a locus from it.--&gt;
(set: $makeLocus to 
(macro: [
	(set: $newName to &quot;locus &quot; + (str: $counter))
	(set: $newLocus to (a:$counter, $newName) + $n3)
	(output-data: &quot;&quot;)
	]
	)
	)</tw-passagedata><tw-passagedata pid="43" name="legacy adding to structure v2" tags="" position="2609,351" size="100,100">
&lt;!--ADDING UNITS TO STRUCTURE--&gt; 
&lt;!--ADDING UNITS TO STRUCTURE--&gt; 
&lt;!--ADDING UNITS TO STRUCTURE--&gt; 
&lt;!--ADDING UNITS TO STRUCTURE--&gt; 

&lt;!--takes an n3 created by $createN3 and adds it to the realLoci list to keep track of that position being occupied--&gt;
(set: $addN3toStructure to 
(macro: [
	(set: $realLoci to $realLoci + (a:$n3))
	(output-data: &quot;&quot;)
	]
	))
	
&lt;!--takes an newly created locus and adds it to the Loci list --&gt;
(set: $addLocustoStructure to 
(macro: [
	(set: $loci to $loci + (a:$newLocus))
	(output-data: &quot;&quot;)
	]
	))
		
&lt;!--ADDING EXITS TO EXIT LIST--&gt; 
&lt;!--ADDING EXITS TO EXIT LIST--&gt; 
&lt;!--ADDING EXITS TO EXIT LIST--&gt; 
&lt;!--ADDING EXITS TO EXIT LIST--&gt; 


(set: $OLDaddExits to 
(macro:[
	(if: $branchingPointNo is $maxRoom)[(output-data: &quot;&quot;)] 
	(if: $arcDirection does not match (a:0,0,0))[
		(set: $branch to &quot;branch&quot;)
		($addExit: $branchingPointNo, $arcDirection)
		(set: $branch to &quot;return passage&quot;)
		($addExit: $currentBuildNo, ($reverseValues: $arcDirection))]
	(output-data:&quot;&quot;)
	]
	))
	

&lt;!--adds an arc direction to the corresponding member of exits--&gt; 

(set: $addExits to 
(macro:[
	(if: $arcDirection does not match (a:0,0,0))[
		($addExit: $branchingPointNo, $arcDirection)
		($addExit: $currentBuildNo, ($reverseValues: $arcDirection))
		]
	(if: $branchingPointNo &gt; 9) [
		(set:$arcReport to $arcReport + &quot;branching point is &quot; + (str:$branchingPointNo) + &quot; &quot;)]
	(output-data:&quot;&quot;)
	]
	))

&lt;!--adds an arc direction to the corresponding member of exits--&gt; 
(set: $addExit to 
(macro: num-type _locus, array-type _arcDirection, [
	(set: _roomString to (str: _locus))
	(if: _roomString of $exits does not contain _arcDirection)
		[
		(set: _roomString of $exits to it + (a:_arcDirection))]
	(output-data:&quot;&quot;)
	]
	))

&lt;!--takes an arc and returns the reverse polarity for each coord.--&gt; 
(set: $reverseValues to 
(macro: array-type _arc, [
	(if: _arc is not an array)[(error: &quot;$reverseValues given something other than array&quot;)]
	(set: _roomString to (str: _arc))
	(set: _output to (a: 
		($reverseValue: 1st of _arc),
		($reverseValue: 2nd of _arc),
		($reverseValue: 3rd of _arc)))
	(output-data:_output)
	]
	))
	
&lt;!--Returns -1 if its argument is positive, 1 if negative, and 0 otherwise--&gt; 
(set: $reverseValue to 
(macro: num-type _x, [
	(if: _x is not 0)[(set: _x to -_x/(abs:_x))]
	(output-data: _x)]
	))
</tw-passagedata><tw-passagedata pid="44" name="LEGACY building n3s v1" tags="" position="3101,347" size="100,100">&lt;!--BUILDING N3s --&gt; 
&lt;!--BUILDING N3s --&gt; 
&lt;!--BUILDING N3s --&gt; 
&lt;!--BUILDING N3s --&gt; 

&lt;!--Middle management function aggregates the creation of the n3 with its addition to the structure--&gt; 

(set: $createNaddN3 to 
(macro: [
	($createN3:)
	($addN3toStructure:)
	(output-data:&quot;&quot;)
	]
	))

&lt;!--takes a template locus and populates coords on next locus to make it one unit away. Calls different coordinate functions depending on whether the locus is a room or a sublocus. The called functions will set the variable $n3. Requires $getBranchingPoint or $getRandomTemplate to have been called.--&gt; 
	
(set: $createN3 to
(macro: [
	(if: $currentBuildNo &lt; 10)
		[($getBranchingPoint:)
		($getElaborateCoords:)]
	(else:) 
		[($getNonRoomCoords:)
	]
	(output-data: &quot;&quot;)
	]
	))

&lt;!--decides at random whether to assign coordinates at random or whether to project in the same direction--&gt; 

(set: $getElaborateCoords to
(macro: [
	($getBranchingPoint:)
	(if: $branchingPointNo is 0)[($getNewCoords:)]
	(else:) [
		(set: _random to ($getBinaryValue:))
		(if: _random is 0) [($getNewCoords:)]
		(else:) [($tryProjectedCoords:)]]
	(if: length of $arcDirection is not 3)[(error: &quot;arc direction has wrong length as $getElaborateCoords terminates&quot;)]
	(output-data:&quot;&quot;)
	]))
	
&lt;!--Keeps trying getNonNullArc until it gets something new.--&gt; 
(set: $getNewCoords to 
(macro: [
	($getNonNullArc:)
	(if: $n3 is not in $nodes)[(set: $nodes to $nodes + (a:$n3))]
	(else:)[($getNewCoords:)]
	(if: length of $arcDirection is not 3)[(error: &quot;arc direction has wrong length as getNewCoords terminates!&quot;)]
	(output-data: &quot;&quot;)
	]))
	
	
&lt;!--Tries projecting first, then if it fails, calls getNewCoords to keep trying getSimpleCoords until it gets something new.--&gt; 
(set: $tryProjectedCoords to 
(macro: [
	($getProjectedCoords:)
	(if: $n3 is not in $nodes)[(set: $nodes to $nodes + (a:$n3))]
	(else:)[($getNewCoords:)]
	(if: length of $arcDirection is not 3)[(error: &quot;arc direction has wrong length as tryProjectedCoords terminates!&quot;)]
	(output-data: &quot;&quot;)
	]))
	
(set: $getNonNullArc to 
(macro: [
	($getSimpleCoords:)
	(if: $arcDirection matches (a:0,0,0))[($getNonNullArc:)]
	(output-data:&quot;&quot;)
	]))


&lt;!--simply assigns coordinates at random, such that the new n3 is no more than one step from the template--&gt; 

(set: $getSimpleCoords to 
(macro: [
	(set: $arcDirection to (a: ($getTernaryValue:),($getTernaryValue:),($getTernaryValue:)))

	(if: length of $arcDirection is not 3)[(error: &quot;arc direction has wrong length right after being set!&quot;)]

	(set: _c1 to 1st of $arcDirection + 3rd of $branchingPoint)
	(set: _c2 to 2nd of $arcDirection + 4th of $branchingPoint)
	(set: _c3 to 3rd of $arcDirection + 5th of $branchingPoint)
	(set: $n3 to (a: _c1, _c2, _c3))
	(if: length of $arcDirection is not 3)[(error: &quot;arc direction has wrong length as getSimpleCoords terminates!&quot;)]
	(if: $arcDirection contains 2 or $arcDirection contains -2)[(error: &quot;too large an arc in getSimpleCoords&quot;)]

	(output-data:&quot;&quot;)
	]
	))
	
&lt;!--If called in the &lt;10 phase, this creates long structures by expanding outwards, rather than at random.--&gt; 

(set: $getProjectedCoords to 
(macro: [
	(set: _c1 to ($increment: 3rd of $branchingPoint))
	(set: _c2 to ($increment: 4th of $branchingPoint))
	(set: _c3 to ($increment: 5th of $branchingPoint))
	(set: $n3 to (a: _c1, _c2, _c3))
	(set: $arcDirection to ($subtractN3s: $n3, $branchingPoint))

	(if: length of $arcDirection is not 3)[(error: &quot;arc direction has wrong length as getprojectedcoords terminates!&quot;)]
	(if: $arcDirection contains 2 or $arcDirection contains -2)[(error: &quot;too large an arc in getProjectedCoords&quot;)]
	(output-data:&quot;&quot;)
	]
	))

&lt;!--This adds 1 to positive values and deducts 1 from negative--&gt; 
(set: $increment to 
(macro: num-type _x, [
	(set: _output to (cond: 
		_x is &gt;0, _x + 1, 
		_x &lt; 0, _x -1, 
		0))
	(output-data: _output)
	]
	))


&lt;!--when it comes to creating subloci, we want them to generally head back towards the origin of the complex in order to create functional connections between rooms. This function uses branchingPoint to create a node 1 step in the direction of the origin. It is assumed that ($getRandomTemplate:) has already been run.--&gt; 

(set: $getReturnCoords to 
(macro: [
(set: _n3 to (a: $branchingPoint&#39;s 3rd, $branchingPoint&#39;s 4th, $branchingPoint&#39;s 5th))
	(if: $branchingPoint&#39;s 3rd is not a number)[
		(set: _x to (str: $branchingPoint))
		(error: &quot;getBranchingPoint has wrong format--&gt;look!&quot; + _x)]
	(set: $arcDirection to
		($reverseValues: (a:_n3&#39;s 1st, _n3&#39;s 2nd, _n3&#39;s 3rd)))
	(set: $n3 to ($addN3s: $arcDirection, $branchingPoint))
	(if: $arcDirection contains 2 or $arcDirection contains -2)[(error: &quot;too large an arc in getReturnCoords&quot;)]
	(if: length of $arcDirection is not 3)[(error: &quot;arc direction has wrong length as getReturnCoords terminates&quot;)]
	(output-data: &quot;&quot;)
	]
	))
	
(set: $subtractN3s to
(macro: array-type _first, array-type _second,[
	(set: _first to (subarray: _first, -3, -1))
	(set: _second to (subarray: _second, -3, -1))
	(set: _a to 1st of _first - 1st of _second)
	(set: _b to 2nd of _first - 2nd of _second)
	(set: _c to 3rd of _first - 3rd of _second)
	(output-data: (a: _a,_b,_c))
	]))
	
(set: $addN3s to
(macro: array-type _first, array-type _second,[
	(set: _first to (subarray: _first, -3, -1))
	(set: _second to (subarray: _second, -3, -1))
	(set: _a to 1st of _first + 1st of _second)
	(set: _b to 2nd of _first + 2nd of _second)
	(set: _c to 3rd of _first + 3rd of _second)
	(output-data: (a: _a,_b,_c))
	]))



&lt;!--using the above function alone generates back paths that proceed too directly to be interesting. So it is called by the following, which mixes this up a bit.--&gt; 

(set: $getNonRoomCoords to
(macro: [
	($getRandomTemplate:)
	(set: _random to ($getTernaryValue:))
	(if: _random is 0) [($getReturnCoords:)]
	(else:) [
		(if: _random is -1)[($getProjectedCoords:)]
		(else:) [($tryNewCoords:)]
		]
	(output-data:&quot;&quot;)
	]))

&lt;!--this is just for the return path generation. It attempts to get some simple coords at random, but if they&#39;re not new, it refers the process back to getnonroomcoords, which may select a different template.--&gt; 
(set: $tryNewCoords to 
(macro: [
	($getSimpleCoords:)
	(if: $n3 is not in $nodes)[(set: $nodes to $nodes + (a:$n3))]
	(else:)[($getNonRoomCoords:)]
	(if: length of $arcDirection is not 3)[(error: &quot;arc direction has wrong length as tryNewCoords terminates&quot;)]
	(output-data: &quot;&quot;)
	]))

&lt;!--Resets getBranchingPoint to the new counter value, and sets the template number accordingly. To be used at the beginning of every cycle during room generation.--&gt;

(set: $getBranchingPoint to 
(macro: [
	(set: _current to $counter)
	(set: $branchingPoint to _current of $loci)
	(if: 2nd of $branchingPoint is not a string)[(error: &quot;getBranchingPoint is not a 5-locus&quot;)]
	(set: $branchingPointNo to 1st of $branchingPoint)
	(if: $branchingPointNo is not _current -1)[(error: &quot;either _current or getBranchingPointNo is wrong&quot;)]
	(output-data: &quot;&quot;)
	]))
	
&lt;!--Resets getBranchingPoint to a random locus, and sets the template number accordingly. To be used at the beginning of every cycle during subloci generation.--&gt;
(set: $getRandomTemplate to 
(macro: [ 
	(set: _random to ($getStableRandom20:) +6)
	(set: $branchingPoint to (nth:_random, ...$loci))
	(set: $branchingPointNo to 1st of $branchingPoint)
	(output-data: &quot;&quot;)
	]))
</tw-passagedata><tw-passagedata pid="45" name="locus 3" tags="" position="2715,1019" size="100,100">{(set: $thisRoomsNumber to 3)
(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)

($getTheseCoords:)
($getExitVectors:)
($listExits: $exitVectors)
(set: $wordIterator to 1)

}
3
(print: $directionText) 
(if: $theseCoords is $mostExtreme)[$returnText]
</tw-passagedata><tw-passagedata pid="46" name="test" tags="" position="2659,894" size="100,100">just some stuff. 

just some stuff. 


just some stuff. </tw-passagedata><tw-passagedata pid="47" name="locus 5" tags="" position="2951,1019" size="100,100">{(set: $thisRoomsNumber to 5)
(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)

($getTheseCoords:)
($getExitVectors:)
($listExits: $exitVectors)
(set: $wordIterator to 1)

}
5

(print: $directionText) 
(if: $theseCoords is $mostExtreme)[$returnText]
</tw-passagedata><tw-passagedata pid="48" name="locus 4" tags="" position="2833,1022" size="100,100">{(set: $thisRoomsNumber to 4)
(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)
(set: $wordIterator to 1)

($getTheseCoords:)
($getExitVectors:)
($listExits: $exitVectors)



}

4
(print: $directionText) 
(if: $theseCoords is $mostExtreme)[$returnText]
</tw-passagedata><tw-passagedata pid="49" name="locus 6" tags="" position="3076,1015" size="100,100">{(set: $thisRoomsNumber to 6)
(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)

($getTheseCoords:)
($getExitVectors:)
($listExits: $exitVectors)
(set: $wordIterator to 1)

}
6

(print: $directionText) 
(if: $theseCoords is $mostExtreme)[$returnText]
</tw-passagedata><tw-passagedata pid="50" name="locus 7" tags="" position="3198,1019" size="100,100">{(set: $thisRoomsNumber to 7)
(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)

($getTheseCoords:)
($getExitVectors:)
($listExits: $exitVectors)
(set: $wordIterator to 1)

}
7

(print: $directionText) 
(if: $theseCoords is $mostExtreme)[$returnText]
</tw-passagedata><tw-passagedata pid="51" name="locus 8" tags="" position="2489,1134" size="100,100">{(set: $thisRoomsNumber to 8)
(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)

($getTheseCoords:)
($getExitVectors:)
($listExits: $exitVectors)
(set: $wordIterator to 1)

}
8

(print: $directionText) 
(if: $theseCoords is $mostExtreme)[$returnText]
</tw-passagedata><tw-passagedata pid="52" name="locus 9" tags="" position="2599,1134" size="100,100">{(set: $thisRoomsNumber to 9)
(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)

($getTheseCoords:)
($getExitVectors:)
($listExits: $exitVectors)
(set: $wordIterator to 1)

}
9

(print: $directionText) 
(if: $theseCoords is $mostExtreme)[$returnText]
</tw-passagedata><tw-passagedata pid="53" name="locus 10" tags="" position="2714,1134" size="100,100">{(set: $thisRoomsNumber to 10)
(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)

($getTheseCoords:)
($getExitVectors:)
($listExits: $exitVectors)
(set: $wordIterator to 1)

}
10

(print: $directionText) 
(if: $theseCoords is $mostExtreme)[$returnText]
</tw-passagedata><tw-passagedata pid="54" name="locus 11" tags="" position="2833,1134" size="100,100">{(set: $thisRoomsNumber to 11)
(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)

($getTheseCoords:)
($getExitVectors:)
($listExits: $exitVectors)
(set: $wordIterator to 1)

}

(print: $directionText) 
(if: $theseCoords is $mostExtreme)[$returnText]
</tw-passagedata><tw-passagedata pid="55" name="locus 12" tags="" position="2949,1133" size="100,100">{(set: $thisRoomsNumber to 12)
(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)

($getTheseCoords:)
($getExitVectors:)
($listExits: $exitVectors)
(set: $wordIterator to 1)

}

(print: $directionText) 
(if: $theseCoords is $mostExtreme)[$returnText]
</tw-passagedata><tw-passagedata pid="56" name="locus 13" tags="" position="3071,1133" size="100,100">{(set: $thisRoomsNumber to 13)
(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)

($getTheseCoords:)
($getExitVectors:)
($listExits: $exitVectors)
(set: $wordIterator to 1)

}

(print: $directionText) 
(if: $theseCoords is $mostExtreme)[$returnText]
</tw-passagedata><tw-passagedata pid="57" name="locus 14" tags="" position="3193,1134" size="100,100">{(set: $thisRoomsNumber to 14)
(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)

($getTheseCoords:)
($getExitVectors:)
($listExits: $exitVectors)
(set: $wordIterator to 1)

}

(print: $directionText) 
(if: $theseCoords is $mostExtreme)[$returnText]
</tw-passagedata><tw-passagedata pid="58" name="locus 15" tags="" position="2491,1256" size="100,100">{(set: $thisRoomsNumber to 15)
(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)

($getTheseCoords:)
($getExitVectors:)
($listExits: $exitVectors)
(set: $wordIterator to 1)

}

(print: $directionText) 
(if: $theseCoords is $mostExtreme)[$returnText]
</tw-passagedata><tw-passagedata pid="59" name="locus 16" tags="" position="2603,1256" size="100,100">{(set: $thisRoomsNumber to 16)
(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)

($getTheseCoords:)
($getExitVectors:)
($listExits: $exitVectors)
(set: $wordIterator to 1)

}

(print: $directionText) 
(if: $theseCoords is $mostExtreme)[$returnText]
</tw-passagedata><tw-passagedata pid="60" name="locus 17" tags="" position="2716,1256" size="100,100">{(set: $thisRoomsNumber to 17)
(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)

($getTheseCoords:)
($getExitVectors:)
($listExits: $exitVectors)
(set: $wordIterator to 1)

}

(print: $directionText) 
(if: $theseCoords is $mostExtreme)[$returnText]
</tw-passagedata><tw-passagedata pid="61" name="locus 18" tags="" position="2836,1261" size="100,100">{(set: $thisRoomsNumber to 18)
(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)

($getTheseCoords:)
($getExitVectors:)
($listExits: $exitVectors)
(set: $wordIterator to 1)

}

(print: $directionText) 
(if: $theseCoords is $mostExtreme)[$returnText]
</tw-passagedata><tw-passagedata pid="62" name="locus 19" tags="" position="2949,1253" size="100,100">{(set: $thisRoomsNumber to 19)
(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)

($getTheseCoords:)
($getExitVectors:)
($listExits: $exitVectors)
(set: $wordIterator to 1)

}

(print: $directionText) 
(if: $theseCoords is $mostExtreme)[$returnText]
</tw-passagedata><tw-passagedata pid="63" name="locus 20" tags="" position="3073,1251" size="100,100">{(set: $thisRoomsNumber to 20)
(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)

($getTheseCoords:)
($getExitVectors:)
($listExits: $exitVectors)
(set: $wordIterator to 1)

}

(print: $directionText) 
(if: $theseCoords is $mostExtreme)[$returnText]
</tw-passagedata><tw-passagedata pid="64" name="locus 21" tags="" position="3189,1258" size="100,100">{(set: $thisRoomsNumber to 21)
(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)

($getTheseCoords:)
($getExitVectors:)
($listExits: $exitVectors)
(set: $wordIterator to 1)

}

(print: $directionText) 
(if: $theseCoords is $mostExtreme)[$returnText]
</tw-passagedata><tw-passagedata pid="65" name="locus 22" tags="" position="2488,1376" size="100,100">{(set: $thisRoomsNumber to 22)
(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)

($getTheseCoords:)
($getExitVectors:)
($listExits: $exitVectors)
(set: $wordIterator to 1)

}

(print: $directionText) 
(if: $theseCoords is $mostExtreme)[$returnText]
</tw-passagedata><tw-passagedata pid="66" name="locus 23" tags="" position="2606,1376" size="100,100">{(set: $thisRoomsNumber to 23)
(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)

($getTheseCoords:)
($getExitVectors:)
($listExits: $exitVectors)
(set: $wordIterator to 1)

}

(print: $directionText) 
(if: $theseCoords is $mostExtreme)[$returnText]
</tw-passagedata><tw-passagedata pid="67" name="locus 24" tags="" position="2718,1376" size="100,100">{(set: $thisRoomsNumber to 24)
(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)

($getTheseCoords:)
($getExitVectors:)
($listExits: $exitVectors)
(set: $wordIterator to 1)

}

(print: $directionText) 
(if: $theseCoords is $mostExtreme)[$returnText]
</tw-passagedata><tw-passagedata pid="68" name="locus 25" tags="" position="2838,1374" size="100,100">{(set: $thisRoomsNumber to 25)
(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)

($getTheseCoords:)
($getExitVectors:)
($listExits: $exitVectors)
(set: $wordIterator to 1)

}

(print: $directionText) 
(if: $theseCoords is $mostExtreme)[$returnText]
</tw-passagedata><tw-passagedata pid="69" name="legacy graph builder control v2" tags="" position="2916,231" size="100,100">{




&lt;!--CONTROL--&gt; 
&lt;!--CONTROL--&gt; 
&lt;!--CONTROL--&gt; 
&lt;!--CONTROL--&gt;
&lt;!--CONTROL--&gt; 



		
&lt;!--This is the top level control for building both rooms and subloci. It merely controls the loop, passing off the substance to $expandstructure .  --&gt;  
		
(set: $buildLoci to 
(macro: [
	($switchTemplate:) &lt;!--get new template from branchlist--&gt;
	($expandStructure:)
	(if: $buildAttempt is &quot;successful&quot;)
		[($updateCounter:)]
	($updateBranchList:)	
	(if: $counter &gt; 9 and $secondCounter &gt; $maxRoom) [(output-data: &quot;&quot;)]
	(else:)[($buildLoci:)]
	(output-data: &quot;&quot;)
		]
		))

(set: $updateCounter to 
(macro: [
	(if: $currentBuildNo &lt; 10)&lt;!--if structure just built = room  --&gt; 
		[(set: $counter to $counter +1)]
	(else:)[(set: $secondCounter to $secondCounter +1)]
	(output-data: &quot;&quot;)
		]
		))

	



&lt;!--switchTemplate manages graph generation by maintaining branchList. Pops the front of branchList from the list and sets the new template to it. The template is the branchpoint from which the next build occurs.--&gt;

(set: $switchTemplate to 
(macro: [
	(set: $report3 to $report3 + &quot; switchTemplate &quot;)
	(if: length of $branchList is 0)
		[(error: &quot;switchTemplate called on empty branchlist&quot;)]
	(set: $branchingPoint to 1st of $branchList) 
	($getBranchingPointCoords:)
	($resetBranchlist:) 
	(output-data: &quot;&quot;)
		]
		))
		


&lt;!--expandStructure is an upper management function is the substantial controller for loci generation. Directs functions to create loci even if their space is already taken. Arcs will not be built to such &quot;ghost&quot; loci, however.--&gt;
	
&lt;!--assuming there are still rooms and passages left in the bank, i.e. counter and secondcounter are beneath 10 and 25 respectively, expandStructure branches to either create a room, in which case counter is incremented, or to create a nonroom, in which case it is secondCounter that is incremented.--&gt;

(set: $expandStructure to 
(macro: [
	(if: $counter &gt; 9 and $secondCounter &gt; $maxRoom)
		[(output-data: &quot;&quot;)]
	(if: $counter &gt; 9)
		[($makeReturnPassage:)]
	(else:)&lt;!--counter is less than 10--&gt;
		[
		(if: $secondCounter &gt; $maxRoom)[($makeARoom:)]
		(else:) [($makeRoomOrPassage:)]
		]
	(output-data: &quot;&quot;)
	]
	))




	
&lt;!--UPDATING BRANCHLIST--&gt; 
&lt;!--UPDATING BRANCHLIST--&gt; 
&lt;!--UPDATING BRANCHLIST--&gt; 
&lt;!--UPDATING BRANCHLIST--&gt; 
&lt;!--UPDATING BRANCHLIST--&gt; 


&lt;!--this decides whether to remove the locus from the branchlist, or leave it in place to create another branch from it later. The higher the value for suppressBranching:, the more likely the node will be a straightforward corridor. The argument should be at least 2, in which case there will be a 2/3 chance (0, 1) that the branch will be reused.--&gt;

(set: $resetBranchlist to 
(macro: [
	(set: $report3 to $report3 + &quot; resetBranchlist &quot;)
	($getRandomWithMax: $suppressBranching)
	(if: $randomWithMax &gt; 0 and $branchList&#39;s length &gt; 0)
		[(set: $branchList to 2ndtolast of $branchList)]
	(output-data: &quot;&quot;) 
		]
		))
		
&lt;!--decides whether to add the new n3 to the branchlist to be a template for future builds or a dead end. Always makes the node available if the branchlist is empty, or if the current build is a passage, otherwise probabilistically.--&gt;

(set: $updateBranchList to 
(macro: [
	($getRandomWithMax: $suppressBranching)
	(if: $branchList&#39;s length is 0 or $currentBuildNo &gt; 9 or $randomWithMax &gt; 0)
		[(set: $branchList to $branchList + (a: $n3))]
	(output-data: &quot;&quot;)
		]
		))


	

	
&lt;!--DEBUGGING--&gt;
&lt;!--DEBUGGING--&gt; 
&lt;!--DEBUGGING--&gt; 
&lt;!--DEBUGGING--&gt; 

(set: $arcBad to 
(macro: array-type _arc, [
	(if: any of _arc &gt; 1 or any of _arc &lt; -1)[(output-data: true)]
	(else:) [(output-data: false)]
	]
	))
	




	

}
</tw-passagedata><tw-passagedata pid="70" name="legacy building n3s v2" tags="" position="2570,235" size="100,100">(set: $getBranchingPointCoords to 
(macro: [
	(set: $branchingPointCoords to 
	(a: 3rd of $branchingPoint, 4th of $branchingPoint, 5th of $branchingPoint))
	(output-data:&quot;&quot;)
	]
	))


&lt;!--MAKE ROOMS AND PASSAGES --&gt; 
&lt;!--MAKE ROOMS AND PASSAGES --&gt; 
&lt;!--MAKE ROOMS AND PASSAGES --&gt; 
&lt;!--MAKE ROOMS AND PASSAGES  --&gt; 

(set: $makeRoomOrPassage to 
(macro: [
	(set: $report3 to $report3 + &quot; makeRoomOrPassage &quot;)
	(set: _random to ($roomProbability:))
	(if: _random is 0) [($makeARoom:)]
	(else:) [($makeOutpassage:)]
	(output-data: &quot;&quot;)
	]
	))

(set: $makeReturnPassage to
(macro: [
	(set: $currentBuildNo to $secondCounter)
	($getReturnCoords:)
	($buildFromN3:) 
	(output-data: &quot;&quot;)
	]
	))


(set: $makeARoom to 
(macro: [
	(set: $report3 to $report3 + &quot; makeARoom &quot;)
	(set: $currentBuildNo to $counter)
	($getNewCoords:)
	($buildFromN3:)
	(output-data: &quot;&quot;)
	]
	))

(set: $makeOutpassage to 
(macro: [
	(set: $currentBuildNo to $secondCounter)
	($getElaborateCoords:)
	($buildFromN3:)
	(output-data: &quot;&quot;)
	]
	))



&lt;!--BUILDING N3s --&gt; 
&lt;!--BUILDING N3s --&gt; 
&lt;!--BUILDING N3s --&gt; 
&lt;!--BUILDING N3s --&gt; 

&lt;!--once the n3 is generated, governs the creation of the locus and its integration into the structure.--&gt;
(set: $buildFromN3 to
(macro: [
	($createNaddLocus:)
	($addN3toStructure:)	
	($makeContingentArc:)
	($addExits:)
	(output-data: &quot;&quot;)
	]
	))

&lt;!--Middle management function aggregates the creation of the n3 with its addition to the structure--&gt; 

(set: $makeAndAddRoomN3 to 
(macro: [
	(set: $currentBuildNo to $counter)
	($getNewCoords:)
	($addN3toStructure:)
	(output-data:&quot;&quot;)
	]
	))
	

(set: $addOutPassageN3 to 
(macro: [
	(set: $report3 to $report3 + &quot; addOutPassageN3 &quot;)
	(set: $currentBuildNo to $secondCounter)
	($getElaborateCoords:)
	($addN3toStructure:)
	(output-data:&quot;&quot;)
	]
	))

(set: $addReturnPassageN3 to 
(macro: [
	(set: $report3 to $report3 + &quot; addReturnPassageN3 &quot;)
	(set: $currentBuildNo to $secondCounter)
	($getReturnCoords:)
	($addN3toStructure:)
	(output-data:&quot;&quot;)
	]
	))


&lt;!--COORD TYPES --&gt; 
&lt;!--COORD TYPES --&gt; 
&lt;!--COORD TYPES --&gt; 
&lt;!--COORD TYPES --&gt; 

&lt;!--decides at random whether to assign coordinates at random or whether to project in the same direction--&gt; 

(set: $getElaborateCoords to
(macro: [
	($getBranchingPoint:)
	(if: $branchingPointNo is 0)[($getNewCoords:)]
	(else:) [
		(set: _random to ($getBinaryValue:))
		(if: _random is 0) [($getNewCoords:)]
		(else:) [($tryProjectedCoords:)]]
	(output-data:&quot;&quot;)
	]))

	
&lt;!--Requests new arcDirection from getNonNullArc. Uses it to create a new n3.--&gt; 

(set: $getNewCoords to 
(macro: [
	($getNewN3:)
	($addToNodes:) 
	(output-data: &quot;&quot;)
	]))

&lt;!--Checks whether something already exists at new n3 coords, then adds to nodes if not.--&gt; 
(set: $addToNodes to 
(macro: [
	(if: $n3 is not in $nodes)
		[(set: $nodes to $nodes + (a:$n3))
		(set: $buildAttempt to &quot;successful&quot;)]
	(else:)[(set: $buildAttempt to &quot;failure&quot;)]
		(output-data:&quot;&quot;)
	]))
	
(set: $keepTryingRoomsFartherOut to
(macro: [
	(if: $n3 is not in $nodes)[(set: $nodes to $nodes + (a:$n3))]
	(else:)[(set: $branchingPoint to ($getRoomFromCoords: $n3))
			($getAFartherRoom:)
			($keepTryingRoomsFartherOut:)]
	(output-data:&quot;&quot;)
	]))

(set: $getAFartherRoom to 
(macro: [
	(set: _x to ($getTernaryValue:))
	(if: _x is -1) [($incrementN3: 1)]
	(if: _x is 0) [($incrementN3: 2)]
	(if: _x is 1) [($incrementN3: 3)]
	(output-data:&quot;&quot;)
	]))
	
(set: $incrementN3 to 
(macro: num-type _position, [
	(set: _x to _position of $n3)
	(set: _y to ($increment: _x))
	(set: _position of $n3 to _y)
	(output-data:&quot;&quot;)
	]))

	
	
&lt;!--Tries projecting first, then if it fails, calls getNewCoords.--&gt; 
(set: $tryProjectedCoords to 
(macro: [
	($getProjectedCoords:)
	($addToNodes:)
	(if: $buildAttempt is &quot;failure&quot;)
		[($getNewCoords:)]
	(output-data: &quot;&quot;)
	]))

&lt;!--Generates a three number vector to constitute a connecting arc. It&#39;s important than at least one coordinate be nonzero, or else the arc leads nowhere. Puts new arc in arcdirection.--&gt;	
(set: $getNonNullArc to 
(macro: [
	(set: _firstCoord to ($getTernaryValue:))
	(set: _secondCoord to ($getTernaryValue:))
	(if: _firstCoord is 0 and _secondCoord is 0)
		[(set: _x to ($getBinaryValue))
		(set: $thirdCoord to (cond: 
			_x is 0, -1,
			1))]
	(else:) [(set: $thirdCoord to ($getTernaryValue:))]
	(set: $arcDirection to 
		(a: _firstCoord,_secondCoord,$thirdCoord))
	(output-data:&quot;&quot;)
	]
	))


	
(set: $getNewN3 to 
(macro: [
	(set: _random to ($getRandom25:))
	(set: $neighbors to (a:))
	(for: each _a, ...$shortArcs)[
		(set: $neighborRep to ($addN3s: _a, $branchingPointCoords))
		(if: $neighborRep is not in $nodes) 
			[(set: $neighbors to $neighbors + (a:$neighborRep))]]
	(if: length of $neighbors is 0)[(error: &quot;length of $neighbors is nil&quot;)]
	(set: $n3 to (nth: _random, ...$neighbors))
	(set: $arcDirection to ($subtractN3s: $n3,$branchingPointCoords))
	(output-data:&quot;&quot;)
	]))
	
(set: $getRandom25 to	
(macro: [
	(set: _random to (nth: $seedIndex25, ...$randomSeed25))
	(if: $seedIndex25 &gt; 25) [(set: $seedIndex25 to 1)]
	(else:) [(set: $seedIndex25 +=1)]
	(output-data: _random)
	]))

&lt;!--simply assigns coordinates at random, such that the new n3 is no more than one step from the template--&gt; 

(set: $getSimpleCoords to 
(macro: [
	(set: $arcDirection to 
		(a: ($getTernaryValue:),($getTernaryValue:),($getTernaryValue:)))
	(set: $n3 to ($addN3s: $arcDirection,$branchingPoint))
	($addToNodes:)
	(output-data:&quot;&quot;)
	]
	))
	
&lt;!--If called in the &lt;10 phase, this creates long structures by expanding outwards, rather than at random.--&gt; 

(set: $getProjectedCoords to 
(macro: [
	(set: _c1 to ($increment: 3rd of $branchingPoint))
	(set: _c2 to ($increment: 4th of $branchingPoint))
	(set: _c3 to ($increment: 5th of $branchingPoint))
	(set: $n3 to (a:_c1, _c2, _c3))
	(set: $arcDirection to ($subtractN3s: $n3, $branchingPoint))
	(output-data:&quot;&quot;)
	]
	))

&lt;!--This adds 1 to positive values and deducts 1 from negative--&gt; 
(set: $increment to 
(macro: num-type _x, [
	(set: _output to (cond: 
		_x is &gt;0, _x + 1, 
		_x &lt; 0, _x -1, 
		0))
	(output-data: _output)
	]
	))


&lt;!--when it comes to creating subloci, we want them to generally head back towards the origin of the complex in order to create functional connections between rooms. This function uses branchingPoint to create a node 1 step in the direction of the origin. It is assumed that ($getRandomTemplate:) has already been run.--&gt; 

(set: $getReturnCoords to 
(macro: [
	(set: _n3 to 
		(a: $branchingPoint&#39;s 3rd, 
		$branchingPoint&#39;s 4th, 
		$branchingPoint&#39;s 5th))
	(set: $arcDirection to
		($reverseValues: (a:_n3&#39;s 1st, _n3&#39;s 2nd, _n3&#39;s 3rd)))
	(set: $n3 to ($addN3s: $arcDirection, $branchingPoint))
	(output-data: &quot;&quot;)
	]
	))

&lt;!--using the above function alone generates back paths that proceed too directly to be interesting. So it is called by the following, which mixes this up a bit.--&gt; 

(set: $getNonRoomCoords to
(macro: [
	($getRandomTemplate:)
	(set: _random to ($getTernaryValue:))
	(if: _random is 0) [($getReturnCoords:)]
	(else:) [
		(if: _random is -1)[($getProjectedCoords:)]
		(else:) [($tryNewCoords:)]
		]
	(set: $report3 to $report3 + &quot; Exiting getNonRoomCoords &quot;)

	(output-data:&quot;&quot;)
	]))



&lt;!--Resets branchingPoint to the new counter value, and sets the template number accordingly. To be used at the beginning of every cycle during room generation.--&gt;

(set: $getBranchingPoint to 
(macro: [
	(set: _current to $counter)
	(set: $branchingPoint to _current of $loci)
	(if: 2nd of $branchingPoint is not a string)[(error: &quot;getBranchingPoint is not a 5-locus&quot;)]
	(set: $branchingPointNo to 1st of $branchingPoint)
	(output-data: &quot;&quot;)
	]))
	
&lt;!--Resets getBranchingPoint to a random locus, and sets the template number accordingly. To be used at the beginning of every cycle during subloci generation.--&gt;
(set: $getRandomTemplate to 
(macro: [ 
	(set: $report3 to $report3 + &quot; getRandomTemplate &quot;)

	(set: _random to ($getStableRandom20:) +6)
	(set: $branchingPoint to (nth:_random, ...$loci))
	(set: $branchingPointNo to 1st of $branchingPoint)
	(output-data: &quot;&quot;)
	]))
	

</tw-passagedata><tw-passagedata pid="71" name="legacy building arcs and loci v2" tags="" position="2680,237" size="100,100">
&lt;!--BUILDING ARCS--&gt; 
&lt;!--BUILDING ARCS--&gt; 
&lt;!--BUILDING ARCS--&gt; 
&lt;!--BUILDING ARCS--&gt; 

&lt;!--given the new n3, checks whether something exists already at that location and uses that to decide whether to make an arc from the template to the current occupant or create a new node. Calls the appropriate functions.--&gt; 

(set: $makeContingentArc to 
(macro: [
	(if: $n3 is in $realLoci)[($makeArcToOldNode:)]
	(else:)[($makeArc:)]
	(output-data: &quot;&quot;)
	]))
	
&lt;!--given that the new node already exists, this finds the room at those coordinates and calls getRoomAt to set oldnode to that locus number. then creates an arc from the getBranchingPoint to it.--&gt; 
(set: $makeArcToOldNode to 
(macro: [
	($getRoomAt:)
	(set: $arcs to $arcs + (a:(a:$branchingPointNo, $oldNode)))
	(output-data: &quot;&quot;)
	]
	))

(set: $makeArc to 
(macro: [
	(if: $branchingPointNo is $currentBuildNo)
		[(error: &quot;Template &amp; build have same number in makeArc&quot;)]
	(set: $arcs to $arcs + (a: (a: $branchingPointNo, $currentBuildNo)))
	(output-data: &quot;&quot;)
	]
	))
	


&lt;!--called by $makeArcToOldNode, sets $oldNode to the number of the room at the n3 coordinates. If there are multiple, returns the least. Hence this returns the room rather than the nonroom. This macro expects a nonempty array, and reports an error if it does not get one. --&gt;

(set: $getRoomAt to 
(macro: [
	(set: _matches to 
		(find: _locus where _locus&#39;s 3rdto5th is $n3, ...$loci))
	(if: _matches&#39;s length is 0)[
		(error: &quot;$getRoomAt receives empty array!&quot;)]
	(if: _matches&#39;s length is 1) [
		(set: _node to 1st of _matches)
		(set: $oldNode to 1st of _node)]
	(else:)[
		(set: _locusNumbers to 
			(altered: _node via 1st of _node,  ..._matches))
		(set: $oldNode to (min:10000,..._locusNumbers))
		(if:$oldNode is 10000) 
			[(error: &quot;$getroom given empty array, or # rooms &gt;10000&quot;)]]
		(output-data: &quot;&quot;)
	]
	))


&lt;!--BUILDING LOCI --&gt; 
&lt;!--BUILDING LOCI --&gt; 
&lt;!--BUILDING LOCI --&gt; 
&lt;!--BUILDING LOCI --&gt; 


(set: $createNaddLocus to 
(macro: [
	($makeLocus:)
	(if: $arcDirection is not an array)
		[(error: &quot;arcDirection is not array when makeLocus concludes&quot;)]
	($addLocustoStructure:)
&lt;!---here is where addexits used to be--&gt; 	
	(output-data: &quot;&quot;)
	]
	))

&lt;!--takes an n3 and forms a locus from it.--&gt;
(set: $makeLocus to 
(macro: [
	(set: $newName to &quot;locus &quot; + (str: $currentBuildNo))
	(set: $newLocus to (a:$currentBuildNo, $newName) + $n3)
	(output-data: &quot;&quot;)
	]
	)
	)</tw-passagedata><tw-passagedata pid="72" name="ops" tags="startup" position="2397,701" size="100,100"></tw-passagedata><tw-passagedata pid="73" name="legacy graph cleanup v2" tags="" position="3030,237" size="100,100">{

	

&lt;!--CLEAN UP--&gt; 
&lt;!--CLEAN UP--&gt; 
&lt;!--CLEAN UP--&gt; 
&lt;!--CLEAN UP--&gt; 

&lt;!--removes duplicates--&gt; 
(set: $cleanGraphs to 
(macro: [
	(set: $report4 to $report4 + &quot; cleanGraphs &quot;)
	[($cleanLocuses:)
	($cleanArcs:)
	(output-data:&quot;&quot;)]
	]
	))

(set: $cleanLocuses to
(macro: [
	(set: $report4 to $report4 + &quot; cleanLocuses &quot;)

	(set: $cleanloci to (a:))
	($removeDuplicateLoci:)
	(output-data:&quot;&quot;)
	]))
	

(set: $cleanArcs to 
(macro: [
	(set: $report4 to $report4 + &quot; cleanArcs &quot;)

	(set:$cleanConnections to (a:))
	($removeDuplicates:)
	(set:$outConnections to (a:))
	($removeLoopyArcs:)
	(set:$completeConnections to (a:))
	($addReturnPaths:)
	(set:$cleanConnections to (a:))
	($removeDuplicates:)
	(output-data:&quot;&quot;)
	]
	))
	
(set: $removeDuplicates to 
(macro: [
	(set: $report4 to $report4 + &quot; removeDuplicates &quot;)

	(if: length of $arcs is 0)[(set: $arcs to $cleanConnections)
		]
	(else:) [
		($copyList:)
		($removeDuplicates:)
	]	
	(output-data:&quot;&quot;)
	]
	))
	
(set: $removeDuplicates to
(macro: [
	(set: $report4 to $report4 + &quot; removeDuplicates &quot;)
	(for: each _a, ...$arcs)
		[(if: _a is not in $cleanConnections)
			[(set:$cleanConnections to $cleanConnections + (a: _a))]]
	(set: $arcs to $cleanConnections)
	(output-data:&quot;&quot;)
	]
	))

(set: $copyList to 
(macro: [
	(set: $report4 to $report4 + &quot; copyList &quot;)

	(set: _x to 1st of $arcs)
	(set: $arcs to $arcs - (a:1st of $arcs))
	(set: $cleanConnections to $cleanConnections + (a:_x))
	(output-data: &quot;&quot;)
		]
		))

&lt;!--This removes any arcs that connect a single node to itself. If this is called after duplicate nodes are removed, cleanConnections must be reset to an empty array before calling it. --&gt; 

(set: $removeLoopyArcs to 
(macro: [
	(set: $report4 to $report4 + &quot; removeLoopyArcs &quot;)

	(if: length of $arcs is 0)[
		(set: $arcs to $outConnections)]
	(else:)[($removeLoopyArc:)
			($removeLoopyArcs:)]
	(output-data:&quot;&quot;)
	]
))

&lt;!--This expects arcs to be nonempty when called. It checks the first arc in arcs to see if it loops a node to itself. If it does, it simply removes it from arcs, without copying it to cleanConnections.--&gt; 
(set: $removeLoopyArc to 
(macro: [
	(set: $report4 to $report4 + &quot; removeLoopyArc &quot;)

	(set: _x to 1st of $arcs)
	(set: $arcs to $arcs - (a:_x))
	(if: 1st of _x is not 2nd of _x)
		[(set: $outConnections to $outConnections + (a:_x))
		]
	(output-data:&quot;&quot;)
	]
	))

(set: $addReturnPaths to 
(macro: [
	(set: $report4 to $report4 + &quot; addReturnPaths &quot;)

	(if: length of $arcs is 0)[(set: $arcs to $completeConnections)]
	(else:) [($copyWithReverse:)
			($addReturnPaths:)]
	(output-data:&quot;&quot;)
	]
	))
	
(set: $copyWithReverse to 
(macro: [
	(set: $report4 to $report4 + &quot; copyWithReverse &quot;)

	(set: _x to 1st of $arcs)
	(set: _reversal to (a: 2nd of _x,1st of _x))
	(set: $completeConnections to $completeConnections + (a:_x,_reversal))
	(set: $arcs to $arcs - (a:_x))
	(output-data:&quot;&quot;)
	]
	))

&lt;!--remove the latter of two loci that have the same coordinates--&gt;
(set: $removeDuplicateLoci to 
(macro: [
	(set: $report4 to $report4 + &quot; removeDuplicateLoci &quot;)

	(if: length of $loci is 0)[(set: $loci to $cleanloci)]
	(else:) [
		($copylocus:)
		($removeDuplicateLoci:)
	]	
	(output-data:&quot;&quot;)
	]
	))
	
&lt;!--takes each locus, looks for duplicates, if it&#39;s alone, adds it to the new list of clean loci. otherwise, calls getLowestLocus to add the locus with the lowest room number to the clean loci--&gt; 
&lt;!--needs cleanLoci to be set as array before being called--&gt; 
(set: $copylocus to 
(macro: [
	(set: $report4 to $report4 + &quot; copyLocus &quot;)

	(set: _x to 1st of $loci)
	(set: $currentlyCleaning to (a:3rd of _x, 4th of _x, 5th of _x))
						
	(set: $competitors to 
		(find: _item where _item matches (a:num,string,3rd of _x, 4th of _x, 5th of _x), ...$loci))
	(set: $loci to $loci - $competitors)		
	(if: length of $competitors is 1)
		[(set: $cleanloci to $cleanloci + (a:_x))] 
	(else:)[(set: $leader to _x)
			($getLowestLocus:)
			(set: $cleanloci to $cleanloci + (a:$winner))]
	(output-data: &quot;&quot;)
		]
		
		))
	
	
&lt;!--Puts the lowest numbered locus from an array of loci into winner--&gt; 
&lt;!--Expects competitors and an initial leader to be set before being called--&gt; 
(set: $getLowestLocus to 
(macro: [
	(set: $report4 to $report4 + &quot; getLowestLocus &quot;)

	(if: length of $competitors is 0)[(set: $winner to $leader)]
	(else:) [(set: _entrant1 to 1st of $competitors)
			(set: $competitors to $competitors - (a:1st of $competitors))
			(if: 1st of _entrant1 &lt; 1st of $leader) [
				(set: $leader to _entrant1)
				]
			($getLowestLocus:)
]
	(output-data:&quot;&quot;)
	]))

}


</tw-passagedata><tw-passagedata pid="74" name="legacy setup" tags="" position="2799,230" size="100,100">&lt;!--SETUP--&gt;
&lt;!--SETUP--&gt; 
&lt;!--SETUP--&gt;
&lt;!--SETUP--&gt; 
&lt;!--SETUP--&gt;


(set: $arcs to (a:))

(set: $startState to 0)
(set: $currentBuildNo to 0)

(set: $nodes to (a: (a: 0,0,0)))

&lt;!--This sets up a root locus, from which the others will proceed--&gt;
(set: $loci to (a:
	(a: 0, &quot;locus 0&quot;, 0, 0, 0)
	))
	
&lt;!--To start, the root locus is the only locus whose coordinates are realized --&gt;	
(set: $realLoci to (a:(a:0,0,0)))

&lt;!--The counter checks when (i) all rooms have been realized and only subloci remain, and (ii) we&#39;re out of subloci. This helps control the generation.--&gt;

(set: $counter to 1)

&lt;!--The secondcounter keeps track of the non-room loci. This allows for opportunities to insert non-rooms during the first wave of generation.--&gt;
(set: $secondCounter to 11)

&lt;!--the following datamap of arrays represents the exits from each locus. Each name is a string of the locus number and the corresponding value is the list of exits from that locus, each of which will be a triple that signifies the direction of exit--&gt; 
(set: $exits to (dm: &quot;0&quot;, (a:), &quot;1&quot;,(a:), &quot;2&quot;, (a:),&quot;3&quot;, (a:),&quot;4&quot;,(a:),&quot;5&quot;,(a:),&quot;6&quot;,(a:),&quot;7&quot;,(a:),&quot;8&quot;,(a:),&quot;9&quot;,(a:),&quot;10&quot;,(a:),&quot;11&quot;,(a:),&quot;12&quot;,(a:),&quot;13&quot;,(a:),&quot;14&quot;,(a:),&quot;15&quot;,(a:),&quot;16&quot;,(a:),&quot;17&quot;,(a:),&quot;18&quot;,(a:),&quot;19&quot;,(a:), &quot;20&quot;,(a:), &quot;21&quot;,(a:), &quot;22&quot;,(a:), &quot;23&quot;,(a:), &quot;24&quot;,(a:), &quot;25&quot;,(a:)))

(set: $arcDirection to (a:))
	
&lt;!--branchingPoint is a locus, i.e. a list of 5 elements, the first two of which are the room number and name, and the latter three of which are coordinates. It is initialized as room 0.--&gt;

(set: $branchingPoint to (a:0,&quot;locus 0&quot;, 0, 0, 0))

&lt;!--Branchlist is a list of loci. It is initialized to only contain room 0. --&gt;

(set: $branchList to (a:$branchingPoint))

(set: $shortArcs to (a: 
	(a: -1,-1,-1),
	(a: -1,-1,0),
	(a: -1,-1,1),
	(a: -1,0,-1),
	(a: -1,0,0),
	(a: -1,0,1),
	(a: -1,1,-1),
	(a: -1,1,0),
	(a: -1,1,1),
	(a: 0,-1,-1),
	(a: 0,-1,0),
	(a: 0,-1,1),
	(a: 0,0,-1),
	(a: 0,0,1),
	(a: 0,1,-1),
	(a: 0,1,0),
	(a: 0,1,1),
	(a: 1,-1,-1),
	(a: 1,-1,0),
	(a: 1,-1,1),
	(a: 1,0,-1),
	(a: 1,0,0),
	(a: 1,0,1),
	(a: 1,1,-1),
	(a: 1,1,0),
	(a: 1,1,1)
	)
	)
</tw-passagedata><tw-passagedata pid="75" name="adjustables" tags="startup" position="2152,430" size="100,100">&lt;!--ADJUSTABLE PARAMETERS--&gt;

(set: $maxRoom to 18) 

&lt;!--this sets the probability that, when there are both rooms and passages left to generate, the builder chooses to build a room. Set the probability lower to increase the passage distance between rooms.--&gt;
(set: $roomProbability to
(macro: [
	(set: $report3 to $report3 + &quot; roomProbability &quot;)
	($getRandomWithMax: 2)
	(output-data: $randomWithMax)
	]
	))

&lt;!--The higher the  value for suppressBranching:, the more likely the node will be a straightforward corridor. The argument should be at least 2, in which case there will be a 2/3 chance (0, 1) that the branch will be reused.--&gt;
	
(set: $suppressBranching to 3)


</tw-passagedata><tw-passagedata pid="76" name="basic grammar ops" tags="startup" position="2041,567" size="100,100">(set: $plural to (macro: str-type _singular, [
	(set: _output to (cond:
		_singular&#39;s last is &#39;s&#39;, _singular,
		_singular + &#39;s&#39;))
	(output-data: _output)
	]
	)
	)
	
	
(set: $capitalize to (macro: string-type _string, [
	(set: _firstLetter to _string&#39;s 1st)
	(set: _rest to (substring: _string, 2, -1))
	(set: _output to (cond:
		_firstLetter is &#39;a&#39;, &#39;A&#39; + _rest,
		_firstLetter is &#39;b&#39;, &#39;B&#39; + _rest,
		_firstLetter is &#39;c&#39;, &#39;C&#39; + _rest,
		_firstLetter is &#39;d&#39;, &#39;D&#39; + _rest,
		_firstLetter is &#39;e&#39;, &#39;E&#39; + _rest,
		_firstLetter is &#39;f&#39;, &#39;F&#39; + _rest,
		_firstLetter is &#39;g&#39;, &#39;G&#39; + _rest,
		_firstLetter is &#39;h&#39;, &#39;H&#39; + _rest,
		_firstLetter is &#39;i&#39;, &#39;I&#39; + _rest,
		_firstLetter is &#39;j&#39;, &#39;J&#39; + _rest,
		_firstLetter is &#39;k&#39;, &#39;K&#39; + _rest,
		_firstLetter is &#39;l&#39;, &#39;L&#39; + _rest,
		_firstLetter is &#39;m&#39;, &#39;M&#39; + _rest,
		_firstLetter is &#39;n&#39;, &#39;N&#39; + _rest,
		_firstLetter is &#39;o&#39;, &#39;O&#39; + _rest,
		_firstLetter is &#39;p&#39;, &#39;P&#39; + _rest,
		_firstLetter is &#39;q&#39;, &#39;Q&#39; + _rest,
		_firstLetter is &#39;r&#39;, &#39;R&#39; + _rest,
		_firstLetter is &#39;s&#39;, &#39;S&#39; + _rest,
		_firstLetter is &#39;t&#39;, &#39;T&#39; + _rest,
		_firstLetter is &#39;u&#39;, &#39;U&#39; + _rest,
		_firstLetter is &#39;v&#39;, &#39;V&#39; + _rest,
		_firstLetter is &#39;w&#39;, &#39;W&#39; + _rest,
		_firstLetter is &#39;x&#39;, &#39;X&#39; + _rest,
		_firstLetter is &#39;y&#39;, &#39;Y&#39; + _rest,
		_firstLetter is &#39;z&#39;, &#39;Z&#39; + _rest,
		_firstLetter))
	(output-data: _output)
	]))</tw-passagedata><tw-passagedata pid="77" name="debug" tags="debug-footer" position="2022,426" size="100,100">The northernmost room is: 
($findMostExtreme: &quot;north&quot;)
$mostExtreme

The southernmost room is: 
($findMostExtreme: &quot;south&quot;)
$mostExtreme

The eastmost room is: 
($findMostExtreme: &quot;east&quot;)
$mostExtreme

The westmost room is: 
($findMostExtreme: &quot;west&quot;)
$mostExtreme





Here are the coordinates: 
$coordMap

(set: $coordMapCounter to 1) 
(set: $coordMapLengths to (a:))
(set: $measureCoordMap to 
(macro: [
	(set: _entry to (str: $coordMapCounter) of $coordMap)
	(set: _length to length of _entry)
	(set: $coordMapLengths to it + (a:_length))
	(if: $coordMapCounter &lt; 25) 
		[(set: $coordMapCounter +=1)
		($measureCoordMap:)]
	(output-data:&quot;&quot;)
	]
	))

Here are the coordinates in reverse: 
$numberMap

Here are the exits: 
$exitMap

Here are the nodes: 
(for: each _item, ...$nodes) [* _item]

(set: $exitMapCounter to 1) 
(set: $exitMapLengths to (a:))
(set: $measureExitMap to 
(macro: [
	(set: _entry to (str: $exitMapCounter) of $exitMap)
	(set: _length to length of _entry)
	(set: $exitMapLengths to it + (a:_length))
	(if: $exitMapCounter &lt; 25) 
		[(set: $exitMapCounter +=1)
		($measureExitMap:)]
	(output-data:&quot;&quot;)
	]
	))

Here is the branch report: 
(for: each _item, ...$branchReport) [* _item]

Here are the random vectors: 
$exitReport

Here are the seed numbers: 
$seedReport</tw-passagedata><tw-passagedata pid="78" name="trashcan" tags="" position="2841,351" size="100,100">&lt;!--this is just for the return path generation. It attempts to get some simple coords at random, but if they&#39;re not new, it refers the process back to getnonroomcoords, which may select a different template.--&gt; 
(set: $tryNewCoords to 
(macro: [
	($getSimpleCoords:)
	(if: $n3 is not in $nodes)[(set: $nodes to $nodes + (a:$n3))]
	(else:)[($getNonRoomCoords:)]
	(output-data: &quot;&quot;)
	]))</tw-passagedata><tw-passagedata pid="79" name="test n3 builder" tags="" position="2458,235" size="100,100">(set: $getBranchingPointCoords to 
(macro: [
	(set: $branchingPointCoords to 
	(a: 3rd of $branchingPoint, 4th of $branchingPoint, 5th of $branchingPoint))
	(output-data:&quot;&quot;)
	]
	))


&lt;!--MAKE ROOMS AND PASSAGES --&gt; 
&lt;!--MAKE ROOMS AND PASSAGES --&gt; 
&lt;!--MAKE ROOMS AND PASSAGES --&gt; 
&lt;!--MAKE ROOMS AND PASSAGES  --&gt; 

(set: $makeRoomOrPassage to 
(macro: [
	(set: $report3 to $report3 + &quot; makeRoomOrPassage &quot;)
	(set: _random to ($roomProbability:))
	(if: _random is 0) [($makeARoom:)]
	(else:) [($makeOutpassage:)]
	(output-data: &quot;&quot;)
	]
	))

(set: $makeReturnPassage to
(macro: [
	(set: $currentBuildNo to $secondCounter)
	($getReturnCoords:)
	($buildFromN3:) 
	(output-data: &quot;&quot;)
	]
	))


(set: $makeARoom to 
(macro: [
	(set: $currentBuildNo to $counter)
	($getNewCoords:)
	($buildFromN3:)
	(output-data: &quot;&quot;)
	]
	))

(set: $makeOutpassage to 
(macro: [
	(set: $currentBuildNo to $secondCounter)
	($tryProjectedCoords:)&lt;!--from getElaborateCoords --&gt;
	($buildFromN3:)
	(output-data: &quot;&quot;)
	]
	))



&lt;!--BUILDING N3s --&gt; 
&lt;!--BUILDING N3s --&gt; 
&lt;!--BUILDING N3s --&gt; 
&lt;!--BUILDING N3s --&gt; 

&lt;!--once the n3 is generated, governs the creation of the locus and its integration into the structure.--&gt;
(set: $buildFromN3 to
(macro: [
	($createNaddLocus:)
	($addN3toStructure:)	
	($makeContingentArc:)
	($addExits:)
	(output-data: &quot;&quot;)
	]
	))

&lt;!--Middle management function aggregates the creation of the n3 with its addition to the structure--&gt; 

(set: $makeAndAddRoomN3 to 
(macro: [
	(set: $currentBuildNo to $counter)
	($getNewCoords:)
	($addN3toStructure:)
	(output-data:&quot;&quot;)
	]
	))
	

(set: $addOutPassageN3 to 
(macro: [
	(set: $report3 to $report3 + &quot; addOutPassageN3 &quot;)
	(set: $currentBuildNo to $secondCounter)
	($getElaborateCoords:)
	($addN3toStructure:)
	(output-data:&quot;&quot;)
	]
	))

(set: $addReturnPassageN3 to 
(macro: [
	(set: $report3 to $report3 + &quot; addReturnPassageN3 &quot;)
	(set: $currentBuildNo to $secondCounter)
	($getReturnCoords:)
	($addN3toStructure:)
	(output-data:&quot;&quot;)
	]
	))


&lt;!--COORD TYPES --&gt; 
&lt;!--COORD TYPES --&gt; 
&lt;!--COORD TYPES --&gt; 
&lt;!--COORD TYPES --&gt; 

&lt;!--decides at random whether to assign coordinates at random or whether to project in the same direction--&gt; 

(set: $getElaborateCoords to
(macro: [
	($getBranchingPoint:)
	(if: $branchingPointNo is 0)[($getNewCoords:)]
	(else:) [
		(set: _random to ($getBinaryValue:))
		(if: _random is 0) [($getNewCoords:)]
		(else:) [($tryProjectedCoords:)]]
	(output-data:&quot;&quot;)
	]))

	
&lt;!--Requests new arcDirection from getNonNullArc. Uses it to create a new n3.--&gt; 

(set: $getNewCoords to 
(macro: [
	($getNewN3:)
	($addToNodes:) 
	(output-data: &quot;&quot;)
	]))

&lt;!--Checks whether something already exists at new n3 coords, then adds to nodes if not.--&gt; 
(set: $addToNodes to 
(macro: [
	(if: $n3 is not in $nodes)
		[(set: $nodes to $nodes + (a:$n3))
		(set: $buildAttempt to &quot;successful&quot;)]
	(else:)[(set: $buildAttempt to &quot;failure&quot;)]
		(output-data:&quot;&quot;)
	]))
	
(set: $keepTryingRoomsFartherOut to
(macro: [
	(if: $n3 is not in $nodes)[(set: $nodes to $nodes + (a:$n3))]
	(else:)[(set: $branchingPoint to ($getRoomFromCoords: $n3))
			($getAFartherRoom:)
			($keepTryingRoomsFartherOut:)]
	(output-data:&quot;&quot;)
	]))

(set: $getAFartherRoom to 
(macro: [
	(set: _x to ($getTernaryValue:))
	(if: _x is -1) [($incrementN3: 1)]
	(if: _x is 0) [($incrementN3: 2)]
	(if: _x is 1) [($incrementN3: 3)]
	(output-data:&quot;&quot;)
	]))
	
(set: $incrementN3 to 
(macro: num-type _position, [
	(set: _x to _position of $n3)
	(set: _y to ($increment: _x))
	(set: _position of $n3 to _y)
	(output-data:&quot;&quot;)
	]))

	
	
&lt;!--Tries projecting first, then if it fails, calls getNewCoords.--&gt; 
(set: $tryProjectedCoords to 
(macro: [
	($getProjectedCoords:)
	($addToNodes:)
	(if: $buildAttempt is &quot;failure&quot;)
		[($getNewCoords:)]
	(output-data: &quot;&quot;)
	]))

&lt;!--Generates a three number vector to constitute a connecting arc. It&#39;s important than at least one coordinate be nonzero, or else the arc leads nowhere. Puts new arc in arcdirection.--&gt;	
(set: $getNonNullArc to 
(macro: [
	(set: _firstCoord to ($getTernaryValue:))
	(set: _secondCoord to ($getTernaryValue:))
	(if: _firstCoord is 0 and _secondCoord is 0)
		[(set: _x to ($getBinaryValue))
		(set: $thirdCoord to (cond: 
			_x is 0, -1,
			1))]
	(else:) [(set: $thirdCoord to ($getTernaryValue:))]
	(set: $arcDirection to 
		(a: _firstCoord,_secondCoord,$thirdCoord))
	(output-data:&quot;&quot;)
	]
	))


	
(set: $getNewN3 to 
(macro: [
	(set: _random to ($getRandom25:))
	(set: $neighbors to (a:))
	(for: each _a, ...$shortArcs)[
		(set: $neighborRep to ($addN3s: _a, $branchingPointCoords))
		(if: $neighborRep is not in $nodes) 
			[(set: $neighbors to $neighbors + (a:$neighborRep))]]
	(if: length of $neighbors is 0)[(error: &quot;length of $neighbors is nil&quot;)]
	(set: $n3 to (nth: _random, ...$neighbors))
	(set: $arcDirection to ($subtractN3s: $n3,$branchingPointCoords))
	(output-data:&quot;&quot;)
	]))
	
(set: $getRandom25 to	
(macro: [
	(set: _random to (nth: $seedIndex25, ...$randomSeed25))
	(if: $seedIndex25 &gt; 25) [(set: $seedIndex25 to 1)]
	(else:) [(set: $seedIndex25 +=1)]
	(output-data: _random)
	]))

&lt;!--simply assigns coordinates at random, such that the new n3 is no more than one step from the template--&gt; 

(set: $getSimpleCoords to 
(macro: [
	(set: $arcDirection to 
		(a: ($getTernaryValue:),($getTernaryValue:),($getTernaryValue:)))
	(set: $n3 to ($addN3s: $arcDirection,$branchingPoint))
	($addToNodes:)
	(output-data:&quot;&quot;)
	]
	))
	
&lt;!--If called in the &lt;10 phase, this creates long structures by expanding outwards, rather than at random.--&gt; 

(set: $getProjectedCoords to 
(macro: [
	(set: _c1 to ($increment: 3rd of $branchingPoint))
	(set: _c2 to ($increment: 4th of $branchingPoint))
	(set: _c3 to ($increment: 5th of $branchingPoint))
	(set: $n3 to (a:_c1, _c2, _c3))
	(set: $arcDirection to ($subtractN3s: $n3, $branchingPoint))
	(output-data:&quot;&quot;)
	]
	))

&lt;!--This adds 1 to positive values and deducts 1 from negative--&gt; 
(set: $increment to 
(macro: num-type _x, [
	(set: _output to (cond: 
		_x is &gt;0, _x + 1, 
		_x &lt; 0, _x -1, 
		0))
	(output-data: _output)
	]
	))


&lt;!--when it comes to creating subloci, we want them to generally head back towards the origin of the complex in order to create functional connections between rooms. This function uses branchingPoint to create a node 1 step in the direction of the origin. It is assumed that ($getRandomTemplate:) has already been run.--&gt; 

(set: $getReturnCoords to 
(macro: [
	(set: _n3 to 
		(a: $branchingPoint&#39;s 3rd, 
		$branchingPoint&#39;s 4th, 
		$branchingPoint&#39;s 5th))
	(set: $arcDirection to
		($reverseValues: (a:_n3&#39;s 1st, _n3&#39;s 2nd, _n3&#39;s 3rd)))
	(set: $n3 to ($addN3s: $arcDirection, $branchingPoint))
	(output-data: &quot;&quot;)
	]
	))

&lt;!--using the above function alone generates back paths that proceed too directly to be interesting. So it is called by the following, which mixes this up a bit.--&gt; 

(set: $getNonRoomCoords to
(macro: [
	(set: $report3 to $report3 + &quot; getNonRoomCoords &quot;)

	($getRandomTemplate:)
	(set: _random to ($getTernaryValue:))
	(if: _random is 0) [($getReturnCoords:)]
	(else:) [
		(if: _random is -1)[($getProjectedCoords:)]
		(else:) [($tryNewCoords:)]
		]
	(set: $report3 to $report3 + &quot; Exiting getNonRoomCoords &quot;)

	(output-data:&quot;&quot;)
	]))



&lt;!--Resets branchingPoint to the new counter value, and sets the template number accordingly. To be used at the beginning of every cycle during room generation.--&gt;

(set: $getBranchingPoint to 
(macro: [
	(set: $report3 to $report3 + &quot; getBranchingPoint &quot;)

	(set: _current to $counter)
	(set: $branchingPoint to _current of $loci)
	(if: 2nd of $branchingPoint is not a string)[(error: &quot;getBranchingPoint is not a 5-locus&quot;)]
	(set: $branchingPointNo to 1st of $branchingPoint)
	(output-data: &quot;&quot;)
	]))
	
&lt;!--Resets getBranchingPoint to a random locus, and sets the template number accordingly. To be used at the beginning of every cycle during subloci generation.--&gt;
(set: $getRandomTemplate to 
(macro: [ 
	(set: $report3 to $report3 + &quot; getRandomTemplate &quot;)

	(set: _random to ($getStableRandom20:) +6)
	(set: $branchingPoint to (nth:_random, ...$loci))
	(set: $branchingPointNo to 1st of $branchingPoint)
	(output-data: &quot;&quot;)
	]))
	

</tw-passagedata><tw-passagedata pid="80" name="debug header" tags="debug-header" position="2027,307" size="100,100">(set: $coordsReport to (a:))
(set: $exitReport to (a:))
(set: $seedReport to (a:))
(set: $branchReport to (a:))
(set: $currentCoordsReport to (a:))</tw-passagedata><tw-passagedata pid="81" name="legacy graph builder control v3" tags="" position="2668,564" size="100,100">{
	

(set: $buildMap to 
(macro: [
	($makeLocus:) 
		&lt;!-counters incremented--&gt;
		&lt;!-thisBuild set to old counter--&gt;
		&lt;!-updates nodes--&gt;
	($getExits:)
	(if: length of $branchList &gt; 0)[($buildMap:)]
	(output-data: &quot;&quot;)
	]
	))


(set: $makeLocus to 
(macro: [
	($popCoordsFromBranchList:) 
		&lt;!-sets currentCoords, removes coords from stack--&gt;
		&lt;!-updates nodes--&gt;
	($getLocusNumber:)  
		&lt;!-passage vs room decided here--&gt;
		&lt;!-counters incremented--&gt;
	($assignCoordsToLocusNumber:)
		&lt;!-roomString fixed here--&gt;
	($assignLocusNumberToCoords:)
	($makeExitVector:)
		&lt;!-makes an empty array into which exits can be put--&gt;
	(if: length of $reverseArcs &gt; 0)[($makeReversePath:)]
	(output-data: &quot;&quot;)
	]
	))


&lt;!-adds the first exit waiting in reverseArcs to new node--&gt; 
&lt;!-this should synch with branchList. the first coordinates to be popped off branchlist should be the room to which this exit belongs --&gt; 

(set: $makeReversePath to 
(macro: [
	(set: _returnPath to 1st of $reverseArcs)
	(set: $roomString of $exitMap to it + (a:_returnPath))
	(set: $reverseArcs to it - (a:_returnPath))
	(output-data: &quot;&quot;)
	]
	))

(set: $makeExitVector to 
(macro: [
	(set: $roomString of $exitMap to (a:))
	(output-data: &quot;&quot;)
	]
	))


&lt;!-stack should be initialized with a: 0, 0, 0 as only member--&gt;
&lt;!-assumes that stack is not empty--&gt;
(set: $popCoordsFromBranchList to 
(macro: [	
	(set: $currentCoords to 1st of $branchList) 
	(set: $branchList to it - (a: $currentCoords)) 
	(set: $nodes to $nodes + (a: $currentCoords))
	(output-data: &quot;&quot;)
	]
	))
	
	
&lt;!-gets a room number for current coords --&gt;
&lt;!-currentRoom and currentPassage should be initialized to 0 and 10--&gt;

(set: $getLocusNumber to 
(macro: [	
	($getRandomWithMax: $passaginess)
	(if: $currentRoom &gt; 9 or $randomWithMax &gt; 3)
		[(set: $thisBuild to $currentPassage)
		(set: $currentPassage to it + 1)]
	(else:) 
		[(set: $thisBuild to $currentRoom)
		(set: $currentRoom to it +1)]
	(output-data: &quot;&quot;)
	]
	))

&lt;!-assigns current coords to current room number on datamap--&gt;

(set: $assignCoordsToLocusNumber to 
(macro: [	
	(set: $roomString to (str: $thisBuild)) 
		&lt;!-moved from last line of getlocusnumber--&gt;
	(set: $roomString of $coordMap to $currentCoords)
	(output-data: &quot;&quot;)
	]
	))
	
(set: $assignLocusNumberToCoords to 
(macro: [	
	(set: $coordString to (str: $currentCoords)) 
	(set: $coordString of $numberMap to $thisBuild)
	(output-data: &quot;&quot;)
	]
	))

&lt;!-exits are shortarcs, so that they can be interpreted for direction--&gt;
&lt;!-exits are NOT locus coords--&gt;
(set: $getExits to 
(macro: [
	(set: _threshold to $stopValue - $branchiness)
	&lt;!-more branchy builds overproduce, so start heading back early--&gt;
	(if: $thisBuild &lt; _threshold) 
		[($makeExit:) &lt;!-make at least 1 exit--&gt;
		($getMoreExits:) &lt;!-random factor for more exits--&gt;
		] 
	(else:) [($makeReturnExit:)] &lt;!-make an exit that heads back--&gt;
	(output-data: &quot;&quot;)
	]
	))
	
	
&lt;!-gets a random shortarc, calls for a corresponding room to be made--&gt;
&lt;!-DELETE--&gt;
(set: $LEGACYmakeExit to 
(macro: [
	(set: $currentExit to ($getNextShortArc:))
	(set: $roomString of $exitMap to it + (a: $currentExit))
	(set: $newCoords to ($vectorAdd3: $currentCoords, $currentExit))
	($pushNewCoordsToBranchlist:)
	(output-data: &quot;&quot;)
	]
	))

&lt;!-gets a random shortarc, calls for a corresponding room to be made--&gt;
(set: $makeReturnExit to 
(macro: [
	(set: $currentExit to ($makeNegativeArc:$currentCoords))
	(set: $roomString of $exitMap to (a: $currentExit))
	(set: $newCoords to ($vectorAdd3: $currentCoords, $currentExit))
	($decideWhetherToMakeNewRoom:) 
	(output-data: &quot;&quot;)
	]
	))
	
&lt;!-gets a random shortarc, calls for a corresponding room to be made--&gt;
(set: $makeExit to 
(macro: [
	(set: $currentExit to ($getNextShortArc:))
	(set: $roomString of $exitMap to it + (a: $currentExit))
	(set: $distalCoords to ($vectorAdd3: $currentCoords, $currentExit))
	($decideWhetherToMakeNewRoom:) 
	(output-data: &quot;&quot;)
	]
	))
	
&lt;!-makes a nominal path back to correspond to backtracking along the given path, stores it in reverseArcs to be added to the yet-to-be-built locus that will be at the end of the path--&gt;
(set: $LEGACYmakeReversePath to 
(macro: [
	(set: _reverseArc to ($oppositeArc: $currentExit))
	(set: $reverseArcs to it + (a: _reverseArc))
	(output-data: &quot;&quot;)
	]
	))	


&lt;!-checks whether coords at paths end have already been turned into room. Adds to branchlist if not and puts a nominal path back into reverseArcs to be added to the room when built. Otherwise, ensures a return path is built from old room. --&gt;
(set: $decideWhetherToMakeNewRoom to
(macro: [
	(set: _reverseArc to ($oppositeArc: $currentExit))
	(if: $distalCoords is not in $nodes) 
		[(set: $branchList to it + (a: $distalCoords))
		(set: $reverseArcs to it + (a: _reverseArc))]
	(else:)[($returnPathFromDistal: _reverseArc)] 
	(output-data: &quot;&quot;)
	]
	))
	
(set: $returnPathFromDistal to 
(macro: array-type _reverseArc, [
	(set: _coordString to (str: $distalCoords))
	(set: _roomNumber to _coordString of $numberMap)
	(set: _roomString to (str: _roomNumber))
	(set: _roomString of $exitMap to it + (a: _reverseArc))
	(output-data: &quot;&quot;)
	]
	))
	


&lt;!-possibly generates some more exits to be added to branchlist.--&gt;

(set: $getMoreExits to
(macro: [
	($getRandomWithMax: $branchiness)
	(if: $randomWithMax &gt; 3)
		[($makeExit:)
		($getMoreExits:)] 
	(output-data: &quot;&quot;)
	]
	))

&lt;!-Returns 1 for numbers with positive value, 0 for 0 and -1 for numbers with negative value--&gt;
(set: $returnPolarities to 
(macro: num-type _x, [
	(if: _x is not 0)[(set: _x to _x/(abs:_x))]
	(output-data: _x)]
	))

&lt;!-takes an arc and substitutes -1 for positive values 0 for 0 and 1 for negative values--&gt;
&lt;!-Rationale: To get a path that tends back to the origin 0, 0, 0, we need arcs that go downstairs if the current place is upstairs, east if the current place is west, etc--&gt;

(set: $makeNegativeArc to 
(macro: array-type _arc, [
	(if: _arc is not an array)
		[(error: &quot;$makeNegativeArc given something other than array&quot;)]
	(set: _output to (a: 
		-($returnPolarities: 1st of _arc),
		-($returnPolarities: 2nd of _arc),
		-($returnPolarities: 3rd of _arc)))
	(output-data:_output)
	]
	))

	

}
</tw-passagedata><tw-passagedata pid="82" name="legacy_setup v3" tags="" position="2871,591" size="100,100">{
(set: $inverseSprawl to 7)
(set: $passaginess to 5)
(set: $branchiness to 7)
(set: $shortArcs to (a: 
	(a: -1,-1,-1),
	(a: -1,-1,0),
	(a: -1,-1,1),
	(a: -1,0,-1),
	(a: -1,0,0),
	(a: -1,0,1),
	(a: -1,1,-1),
	(a: -1,1,0),
	(a: -1,1,1),
	(a: 0,-1,-1),
	(a: 0,-1,0),
	(a: 0,-1,1),
	(a: 0,0,-1),
	(a: 0,0,1),
	(a: 0,1,-1),
	(a: 0,1,0),
	(a: 0,1,1),
	(a: 1,-1,-1),
	(a: 1,-1,0),
	(a: 1,-1,1),
	(a: 1,0,-1),
	(a: 1,0,0),
	(a: 1,0,1),
	(a: 1,1,-1),
	(a: 1,1,0),
	(a: 1,1,1)
	)
	)

(set: $reserveBranch to (a:0,0,0))
(set: $newCoords to (a:))
(set: $branchList to (a: (a: 0,0,0)))
(set: $currentCoords to (a: 0,0,0))
(set: $currentRoom to 0)
(set: $currentPassage to 10)
(set: $thisBuild to 10) 
(set: $nodes to (a:)) 
(set: $stopValue to 25)
(set: $roomString to &quot;10&quot;)
(set: $reverseArcs to (a:))



&lt;!--the following datamap of arrays represents the exits from each locus. Each name is a string of the locus number and the corresponding value is the list of exits from that locus, each of which will be a triple that signifies the direction of exit--&gt; 
(set: $exitMap to (dm: &quot;0&quot;, (a:), &quot;10&quot;,(a:)))


(set: $coordMap to (dm: &quot;0&quot;, (a:), &quot;10&quot;,(a:)))

(set: $numberMap to (dm: &quot;0,0,0&quot;,10))

}</tw-passagedata><tw-passagedata pid="83" name="legacy graph builder v3 alternative " tags="" position="2950,466" size="100,100">{
&lt;!-DELETE--&gt;
(set: $LEGACYbuildMap to 
(macro: [
	($makeLocus:) 
	($getExits:)
	(if: length of $branchList &gt; 0)[($buildMap:)]
	(output-data: &quot;&quot;)
	]
	))
	
	

(set: $buildMap to 
(macro: [
	($makeLocus:) 
		&lt;!-counters incremented--&gt;
		&lt;!-thisBuild set to old counter--&gt;
		&lt;!-updates nodes--&gt;
	(if: length of $branchList &gt; 0)[($buildMap:)]
	(output-data: &quot;&quot;)
	]
	))


(set: $makeLocus to 
(macro: [
	($popCoordsFromBranchList:) 
		&lt;!-sets currentCoords, removes coords from stack--&gt;
		&lt;!-updates nodes--&gt;
	($makeLocusFromCoords:)
	(output-data: &quot;&quot;)
	]
	))
	
(set: $makeLocusFromCoords to 
(macro: [
	($assignLocusNumber:)
	($assignExits:)
		(output-data: &quot;&quot;)
	]
	))

(set: $assignExits to 
(macro: [
	($makeExitVector:)
		&lt;!-makes an empty array into which exits can be put--&gt;
	(if: length of $reverseArcs &gt; 0)[($makeReversePath:)]
	($getExits:)
	(output-data: &quot;&quot;)
	]
	))

(set: $assignLocusNumber to 
(macro: [
	($getLocusNumber:)  
		&lt;!-passage vs room decided here--&gt;
		&lt;!-counters incremented--&gt;
	($assignCoordsToLocusNumber:)
		&lt;!-roomString fixed here--&gt;
	($assignLocusNumberToCoords:)
	(output-data: &quot;&quot;)
	]
	))

&lt;!-adds the first exit waiting in reverseArcs to new node--&gt; 
&lt;!-this should synch with branchList. the first coordinates to be popped off branchlist should be the room to which this exit belongs --&gt; 

(set: $makeReversePath to 
(macro: [
	(set: _returnPath to 1st of $reverseArcs)
	(set: $roomString of $exitMap to it + (a:_returnPath))
	(set: $reverseArcs to it - (a:_returnPath))
	(output-data: &quot;&quot;)
	]
	))

(set: $makeExitVector to 
(macro: [
	(set: $roomString of $exitMap to (a:))
	(output-data: &quot;&quot;)
	]
	))


&lt;!-stack should be initialized with a: 0, 0, 0 as only member--&gt;
&lt;!-assumes that stack is not empty--&gt;
(set: $popCoordsFromBranchList to 
(macro: [	
	(set: $currentCoords to 1st of $branchList) 
	(set: $branchList to it - (a: $currentCoords)) 
	(set: $nodes to $nodes + (a: $currentCoords))
	(output-data: &quot;&quot;)
	]
	))
	
	
&lt;!-gets a room number for current coords --&gt;
&lt;!-currentRoom and currentPassage should be initialized to 0 and 10--&gt;
&lt;!-if a room is picked, a simple room generator is run. If a passage is picked, the room generator AND the passage generator is run. This puts a room on the stack under the passage, so that the passage goes somewhere.--&gt;

(set: $getLocusNumber to 
(macro: [	
	($getRandomWithMax: $passaginess)
	(if: $currentRoom &gt; 9 or $randomWithMax &gt; 3)
		[(set: $thisBuild to $currentPassage)
		(set: $currentPassage to it + 1)]
	(else:) 
		[(set: $thisBuild to $currentRoom)
		(set: $currentRoom to it +1)]
	(output-data: &quot;&quot;)
	]
	))

&lt;!-assigns current coords to current room number on datamap--&gt;

(set: $assignCoordsToLocusNumber to 
(macro: [	
	(set: $roomString to (str: $thisBuild)) 
		&lt;!-moved from last line of getlocusnumber--&gt;
	(set: $roomString of $coordMap to $currentCoords)
	(output-data: &quot;&quot;)
	]
	))
	
(set: $assignLocusNumberToCoords to 
(macro: [	
	(set: $coordString to (str: $currentCoords)) 
	(set: $coordString of $numberMap to $thisBuild)
	(output-data: &quot;&quot;)
	]
	))

&lt;!-exits are shortarcs, so that they can be interpreted for direction--&gt;
&lt;!-exits are NOT locus coords--&gt;
(set: $getExits to 
(macro: [
	(set: _threshold to $stopValue - $branchiness)
	&lt;!-more branchy builds overproduce, so start heading back early--&gt;
	(if: $thisBuild &lt; _threshold) 
		[($makeExit:) &lt;!-make at least 1 exit--&gt;
		($getMoreExits:) &lt;!-random factor for more exits--&gt;
		] 
	(else:) [($makeReturnExit:)] &lt;!-make an exit that heads back--&gt;
	(output-data: &quot;&quot;)
	]
	))
	
	
&lt;!-gets a random shortarc, calls for a corresponding room to be made--&gt;
&lt;!-DELETE--&gt;
(set: $LEGACYmakeExit to 
(macro: [
	(set: $currentExit to ($getNextShortArc:))
	(set: $roomString of $exitMap to it + (a: $currentExit))
	(set: $newCoords to ($vectorAdd3: $currentCoords, $currentExit))
	($pushNewCoordsToBranchlist:)
	(output-data: &quot;&quot;)
	]
	))

&lt;!-gets a random shortarc, calls for a corresponding room to be made--&gt;
(set: $makeReturnExit to 
(macro: [
	(set: $currentExit to ($makeNegativeArc:$currentCoords))
	(set: $roomString of $exitMap to (a: $currentExit))
	(set: $newCoords to ($vectorAdd3: $currentCoords, $currentExit))
	($decideWhetherToMakeNewRoom:) 
	(output-data: &quot;&quot;)
	]
	))
	
&lt;!-gets a random shortarc, calls for a corresponding room to be made--&gt;
(set: $makeExit to 
(macro: [
	(set: $currentExit to ($getNextShortArc:))
	(set: $roomString of $exitMap to it + (a: $currentExit))
	(set: $distalCoords to ($vectorAdd3: $currentCoords, $currentExit))
	($decideWhetherToMakeNewRoom:) 
	(output-data: &quot;&quot;)
	]
	))
	
&lt;!-makes a nominal path back to correspond to backtracking along the given path, stores it in reverseArcs to be added to the yet-to-be-built locus that will be at the end of the path--&gt;
(set: $LEGACYmakeReversePath to 
(macro: [
	(set: _reverseArc to ($oppositeArc: $currentExit))
	(set: $reverseArcs to it + (a: _reverseArc))
	(output-data: &quot;&quot;)
	]
	))	


&lt;!-checks whether coords at paths end have already been turned into room. Adds to branchlist if not and puts a nominal path back into reverseArcs to be added to the room when built. Otherwise, ensures a return path is built from old room. --&gt;
(set: $decideWhetherToMakeNewRoom to
(macro: [
	(set: _reverseArc to ($oppositeArc: $currentExit))
	(if: $distalCoords is not in $nodes) 
		[(set: $branchList to it + (a: $distalCoords))
		(set: $reverseArcs to it + (a: _reverseArc))]
	(else:)[($returnPathFromDistal: _reverseArc)] 
	(output-data: &quot;&quot;)
	]
	))
	
(set: $returnPathFromDistal to 
(macro: array-type _reverseArc, [
	(set: _coordString to (str: $distalCoords))
	(set: _roomNumber to _coordString of $numberMap)
	(set: _roomString to (str: _roomNumber))
	(set: _roomString of $exitMap to it + (a: _reverseArc))
	(output-data: &quot;&quot;)
	]
	))
	


&lt;!-possibly generates some more exits to be added to branchlist.--&gt;

(set: $getMoreExits to
(macro: [
	($getRandomWithMax: $branchiness)
	(if: $randomWithMax &gt; 3)
		[($makeExit:)
		($getMoreExits:)] 
	(output-data: &quot;&quot;)
	]
	))

&lt;!-Returns 1 for numbers with positive value, 0 for 0 and -1 for numbers with negative value--&gt;
(set: $returnPolarities to 
(macro: num-type _x, [
	(if: _x is not 0)[(set: _x to _x/(abs:_x))]
	(output-data: _x)]
	))

&lt;!-takes an arc and substitutes -1 for positive values 0 for 0 and 1 for negative values--&gt;
&lt;!-Rationale: To get a path that tends back to the origin 0, 0, 0, we need arcs that go downstairs if the current place is upstairs, east if the current place is west, etc--&gt;

(set: $makeNegativeArc to 
(macro: array-type _arc, [
	(if: _arc is not an array)
		[(error: &quot;$makeNegativeArc given something other than array&quot;)]
	(set: _output to (a: 
		-($returnPolarities: 1st of _arc),
		-($returnPolarities: 2nd of _arc),
		-($returnPolarities: 3rd of _arc)))
	(output-data:_output)
	]
	))

	

}
</tw-passagedata><tw-passagedata pid="84" name="legacy graph maker v3.1" tags="" position="2820,466" size="100,100">{
	

(set: $buildMap to 
(macro: [
	(if: length of $branchList is 0 and $counter &lt; 10)
		[(set: $branchList to it + (a: $reserveBranch))
		&lt;!-adds reserve branch to branchlist--&gt;
		]
	(if: length of $branchList &gt; 0) 
		[($makeLocus:) 
			&lt;!-counters incremented--&gt;
			&lt;!-thisBuild set to old counter--&gt;
			&lt;!-updates nodes--&gt;
		($getExits:)
		($buildMap:)]
	(output-data: &quot;&quot;)
	]
	))


(set: $makeLocus to 
(macro: [
	($popCoordsFromBranchList:) 
		&lt;!-sets currentCoords, removes coords from stack--&gt;
		&lt;!-updates nodes--&gt;
	($getRandomWithMax: 2)
	(if: $randomWithMax &lt; 1)[(set: $reserveBranch to $currentCoords)]
		&lt;!-prepares reserve branch for back up branching--&gt;
	($getLocusNumber:)  
		&lt;!-passage vs room decided here--&gt;
		&lt;!-counters incremented--&gt;
	($assignCoordsToLocusNumber:)
		&lt;!-roomString fixed here--&gt;
	($assignLocusNumberToCoords:)
	($makeExitVector:)
		&lt;!-makes an empty array into which exits can be put--&gt;
	(if: length of $reverseArcs &gt; 0)[($makeReversePath:)]
	(output-data: &quot;&quot;)
	]
	))


&lt;!-adds the first exit waiting in reverseArcs to new node--&gt; 
&lt;!-this should synch with branchList. the first coordinates to be popped off branchlist should be the room to which this exit belongs --&gt; 

(set: $makeReversePath to 
(macro: [
	(set: _returnPath to 1st of $reverseArcs)
	(set: $roomString of $exitMap to it + (a:_returnPath))
	(set: $reverseArcs to it - (a:_returnPath))
	(output-data: &quot;&quot;)
	]
	))

(set: $makeExitVector to 
(macro: [
	(set: $roomString of $exitMap to (a:))
	(output-data: &quot;&quot;)
	]
	))


&lt;!-stack should be initialized with a: 0, 0, 0 as only member--&gt;
&lt;!-assumes that stack is not empty--&gt;
(set: $popCoordsFromBranchList to 
(macro: [	
	(set: $currentCoords to 1st of $branchList) 
	(set: $branchList to it - (a: $currentCoords)) 
	(output-data: &quot;&quot;)
	]
	))
	
	
(set: $getLocusNumber to 
(macro: [
	&lt;!-if the coords already have a room number, use that--&gt;
	(if: $nodes contains $currentCoords)
		[ (set: $coordString to (str:$currentCoords))
		(set: $thisBuild to $coordString of $numberMap)]
	(else:) [(set: $nodes to $nodes + (a: $currentCoords))
			($getNewLocusNumber:)]
	(output-data: &quot;&quot;)
	]
	))


&lt;!-gets a room number for current coords --&gt;
&lt;!-currentRoom and currentPassage should be initialized to 0 and 10--&gt;

(set: $getNewLocusNumber to 
(macro: [	
	($getRandomWithMax: $passaginess)
	(if: $currentRoom &gt; 9 or $randomWithMax &gt; 3)
		[(set: $thisBuild to $currentPassage)
		(set: $currentPassage to it + 1)]
	(else:) 
		[(set: $thisBuild to $currentRoom)
		(set: $currentRoom to it +1)]
	(output-data: &quot;&quot;)
	]
	))

&lt;!-assigns current coords to current room number on datamap--&gt;

(set: $assignCoordsToLocusNumber to 
(macro: [	
	(set: $roomString to (str: $thisBuild)) 
		&lt;!-moved from last line of getlocusnumber--&gt;
	(set: $roomString of $coordMap to $currentCoords)
	(output-data: &quot;&quot;)
	]
	))
	
(set: $assignLocusNumberToCoords to 
(macro: [	
	(set: $coordString to (str: $currentCoords)) 
	(set: $coordString of $numberMap to $thisBuild)
	(output-data: &quot;&quot;)
	]
	))

&lt;!-exits are shortarcs, so that they can be interpreted for direction--&gt;
&lt;!-exits are NOT locus coords--&gt;
(set: $LEGACYgetExits to 
(macro: [
	(set: _threshold to $stopValue - $branchiness)
	&lt;!-more branchy builds overproduce, so start heading back early--&gt;
	(if: $thisBuild &lt; _threshold) 
		[($makeExit:) &lt;!-make at least 1 exit--&gt;
		($getMoreExits:) &lt;!-random factor for more exits--&gt;
		] 
	(else:) [($makeReturnExit:)] &lt;!-make an exit that heads back--&gt;
	(output-data: &quot;&quot;)
	]
	))

&lt;!-if it&#39;s a room and the branchlist is empty, make an exit. Otherwise, if it&#39;s a passage, make at least one.--&gt;
(set: $getExits to 
(macro: [
	(if: $currentRoom &lt; 10 and length of $branchList is 0) 
		[($makeTwoExits:)]
	(if: $thisBuild &gt; 9) 
		[($makeExit:) &lt;!-make at least 1 exit--&gt;
		($getMoreExits:)
		] 
	(output-data: &quot;&quot;)
	]
	))

(set: $makeTwoExits to 
(macro: [
	($makeExit:) 
	($makeExit:) 
	(output-data: &quot;&quot;)
	]
	))
	
	
&lt;!-gets a random shortarc, calls for a corresponding room to be made--&gt;
&lt;!-DELETE--&gt;
(set: $LEGACYmakeExit to 
(macro: [
	(set: $currentExit to ($getNextShortArc:))
	(set: $roomString of $exitMap to it + (a: $currentExit))
	(set: $newCoords to ($vectorAdd3: $currentCoords, $currentExit))
	($pushNewCoordsToBranchlist:)
	(output-data: &quot;&quot;)
	]
	))

&lt;!-gets a random shortarc, calls for a corresponding room to be made--&gt;
(set: $makeReturnExit to 
(macro: [
	(set: $currentExit to ($makeNegativeArc:$currentCoords))
	(set: $roomString of $exitMap to (a: $currentExit))
	(set: $newCoords to ($vectorAdd3: $currentCoords, $currentExit))
	($decideWhetherToMakeNewRoom:) 
	(output-data: &quot;&quot;)
	]
	))
	
&lt;!-gets a random shortarc, calls for a corresponding room to be made--&gt;
(set: $makeExit to 
(macro: [
	(if: $thisBuild &gt; 17)
		[($makeReturnExit:)]
	(else:)[($makeRandomExit:)]
	(output-data: &quot;&quot;)
	]
	))	


&lt;!-gets a random shortarc, calls for a corresponding room to be made--&gt;
(set: $makeRandomExit to 
(macro: [
	(set: $currentExit to ($getNextShortArc:))
	(set: $roomString of $exitMap to it + (a: $currentExit))
	(set: $distalCoords to ($vectorAdd3: $currentCoords, $currentExit))
	($decideWhetherToMakeNewRoom:) 
	(output-data: &quot;&quot;)
	]
	))
	
&lt;!-makes a nominal path back to correspond to backtracking along the given path, stores it in reverseArcs to be added to the yet-to-be-built locus that will be at the end of the path--&gt;
(set: $LEGACYmakeReversePath to 
(macro: [
	(set: _reverseArc to ($oppositeArc: $currentExit))
	(set: $reverseArcs to it + (a: _reverseArc))
	(output-data: &quot;&quot;)
	]
	))	


&lt;!-checks whether coords at paths end have already been turned into room. Adds to branchlist if not and puts a nominal path back into reverseArcs to be added to the room when built. Otherwise, ensures a return path is built from old room. --&gt;
(set: $decideWhetherToMakeNewRoom to
(macro: [
	(set: _reverseArc to ($oppositeArc: $currentExit))
	(if: $distalCoords is not in $nodes) 
		[(set: $branchList to it + (a: $distalCoords))
		(set: $reverseArcs to it + (a: _reverseArc))]
	(else:)[($returnPathFromDistal: _reverseArc)] 
	(output-data: &quot;&quot;)
	]
	))
	
(set: $returnPathFromDistal to 
(macro: array-type _reverseArc, [
	(set: _coordString to (str: $distalCoords))
	(set: _roomNumber to _coordString of $numberMap)
	(set: _roomString to (str: _roomNumber))
	(set: _roomString of $exitMap to it + (a: _reverseArc))
	(output-data: &quot;&quot;)
	]
	))
	


&lt;!-possibly generates some more exits to be added to branchlist.--&gt;

(set: $getMoreExits to
(macro: [
	($getRandomWithMax: $branchiness)
	(if: $randomWithMax &gt; 3)
		[($makeExit:)
		($getMoreExits:)] 
	(output-data: &quot;&quot;)
	]
	))

&lt;!-Returns 1 for numbers with positive value, 0 for 0 and -1 for numbers with negative value--&gt;
(set: $returnPolarities to 
(macro: num-type _x, [
	(if: _x is not 0)[(set: _x to _x/(abs:_x))]
	(output-data: _x)]
	))

&lt;!-takes an arc and substitutes -1 for positive values 0 for 0 and 1 for negative values--&gt;
&lt;!-Rationale: To get a path that tends back to the origin 0, 0, 0, we need arcs that go downstairs if the current place is upstairs, east if the current place is west, etc--&gt;

(set: $makeNegativeArc to 
(macro: array-type _arc, [
	(if: _arc is not an array)
		[(error: &quot;$makeNegativeArc given something other than array&quot;)]
	(set: _output to (a: 
		-($returnPolarities: 1st of _arc),
		-($returnPolarities: 2nd of _arc),
		-($returnPolarities: 3rd of _arc)))
	(output-data:_output)
	]
	))

	

}
</tw-passagedata><tw-passagedata pid="85" name="graph builder 3.2" tags="" position="2556,497" size="100,100">{
	
&lt;!-starts the build at passage 10, at coords 0,0,0, set in setup, then calls the recursive buildMap to continue from there.--&gt; 

(set: $startMap to 
(macro: [
	($assignCoordsToLocusNumber:)
		&lt;!-roomString fixed here--&gt;
	($assignLocusNumberToCoords:)
	($makeArrayForExits:)
	($getExits:)
	(set: $currentPassage to it + 1)
	(set: $startReport to $branchList)
	($buildMap:)
	(output-data: &quot;&quot;)
	]
	))


(set: $buildMap to 
(macro: [
&lt;!-if the branchList is empty, add the reservebranch.--&gt; 
	(if: length of $branchList is 0 and $currentRoom &gt; 9)
		[(output-data:&quot;&quot;)]
	(if: length of $branchList is 0)
		[($branchWithEmptyList:)
		&lt;!-adds reserve branch to branchlist--&gt;
		]
&lt;!-Provided we haven&#39;t passed counter = 9, there should be something on the branchlist. Make a locus from it, make exits for it, then recurse.--&gt; 
	(else:) 
		[($makeLocus:) 
			&lt;!-counters incremented--&gt;
			&lt;!-thisBuild set to old counter--&gt;
			&lt;!-updates nodes--&gt;
		($getExits:)
		($buildMap:)]
	(output-data: &quot;&quot;)
	]
	))

(set: $branchWithEmptyList to 
(macro: [
	($branchFromRandomNode:)
	(if: length of $branchList is 0)[($branchWithEmptyList:)]
	(output-data:&quot;&quot;)
	]))

(set: $branchFromRandomNode to 
(macro: [
	($getRandomWithMax: 20)
	(set: $branchingPoint to (nth: $randomWithMax, $nodes))
	(set: $branchingString to (str: $branchingPoint))
	(set: $reserveExit to ($getNextShortArc:))
	(if: $reserveExit is not in $branchingString of $exitMap)
		[(set:$branchingString of $exitMap to it + (a:$reserveExit))
		(set: $distalCoords to ($vectorAdd3: $branchingPoint, $reserveExit))
		($decideOnNewRoom:)
		]
	(else: $branchFromRandomNode)
	(output-data: &quot;&quot;)
]))
	

(set: $makeLocus to 
(macro: [
	($popCoordsFromBranchList:) 
		&lt;!-sets currentCoords, removes coords from stack--&gt;
		&lt;!-updates nodes--&gt;
	($getRandomWithMax: 4)
	(if: $randomWithMax &lt; 3)[(set: $reserveBranch to $currentCoords)]
		&lt;!-prepares reserve branch for back up branching--&gt;
	($getLocusNumber:)  
		&lt;!-passage vs room decided here--&gt;
		&lt;!-counters incremented--&gt;
	($assignCoordsToLocusNumber:)
		&lt;!-roomString fixed here--&gt;
	($assignLocusNumberToCoords:)
	($makeArrayForExits:)
		&lt;!-makes an empty array into which exits can be put--&gt;
	(if: length of $reverseArcs &gt; 0)[($makeReversePath:)]
	(output-data: &quot;&quot;)
	]
	))


&lt;!-adds the first exit waiting in reverseArcs to new node--&gt; 
&lt;!-this should synch with branchList. the first coordinates to be popped off branchlist should be the room to which this exit belongs --&gt; 

(set: $makeReversePath to 
(macro: [
	(set: _returnPath to 1st of $reverseArcs)
	(set: $roomString of $exitMap to it + (a:_returnPath))
	&lt;!-below is commented out to leave exit data in place...--&gt; 
	&lt;!- to be used when building new passages != to old passages--&gt; 
	&lt;!-&quot;(set: $reverseArcs to it - (a:_returnPath))&quot;--&gt; 
	(output-data: &quot;&quot;)
	]
	))

&lt;!-creates an array into which exits can be placed--&gt; 

(set: $makeArrayForExits to 
(macro: [
	(set: $roomString of $exitMap to (a:))
	(output-data: &quot;&quot;)
	]
	))


&lt;!-stack should be initialized with a: 0, 0, 0 as only member--&gt;
&lt;!-assumes that stack is not empty--&gt;
(set: $popCoordsFromBranchList to 
(macro: [	
	(set: $currentCoords to 1st of $branchList) 
	(set: $branchList to it - (a: $currentCoords)) 
	(set: $nodes to $nodes + (a: $currentCoords))
	(output-data: &quot;&quot;)
	]
	))
	
	
&lt;!-gets a room number for current coords --&gt;
&lt;!-currentRoom and currentPassage should be initialized to 0 and 10--&gt;

(set: $getLocusNumber to 
(macro: [	
	($getRandomWithMax: $passaginess)
	(if: $currentRoom &gt; 9 or $randomWithMax &gt; 3)
		[(set: $thisBuild to $currentPassage)
		(set: $currentPassage to it + 1)]
	(else:) 
		[(set: $thisBuild to $currentRoom)
		(set: $currentRoom to it +1)]
	(output-data: &quot;&quot;)
	]
	))

&lt;!-assigns current coords to current room number on datamap--&gt;

(set: $assignCoordsToLocusNumber to 
(macro: [	
	(set: $roomString to (str: $thisBuild)) 
		&lt;!-moved from last line of getlocusnumber--&gt;
	(set: $roomString of $coordMap to $currentCoords)
	(output-data: &quot;&quot;)
	]
	))
	
(set: $assignLocusNumberToCoords to 
(macro: [	
	(set: $coordString to (str: $currentCoords)) 
	(set: $coordString of $numberMap to $thisBuild)
	(output-data: &quot;&quot;)
	]
	))

&lt;!-exits are shortarcs, so that they can be interpreted for direction--&gt;
&lt;!-exits are NOT locus coords--&gt;
(set: $LEGACYgetExits to 
(macro: [
	(set: _threshold to $stopValue - $branchiness)
	&lt;!-more branchy builds overproduce, so start heading back early--&gt;
	(if: $thisBuild &lt; _threshold) 
		[($makeExit:) &lt;!-make at least 1 exit--&gt;
		($getMoreExits:) &lt;!-random factor for more exits--&gt;
		] 
	(else:) [($makeReturnExit:)] &lt;!-make an exit that heads back--&gt;
	(output-data: &quot;&quot;)
	]
	))

&lt;!- exits are shortarcs, so that they can be interpreted for direction--&gt;
&lt;!- exits are NOT locus coords--&gt;
&lt;!-if passage, directs to makePassageExit; makes rooms into dead ends--&gt;

(set: $getExits to 
(macro: [
	(if: $thisBuild &gt; 9) 
		[($makePassageExit:)]
	(output-data: &quot;&quot;)
	]
	))

&lt;!-the purpose of this function is to decide (i) how many exits and (ii) what kind of exits to make for a given passage.--&gt;
&lt;!-passages ought to have at least two exits in order to be a passage anywhere--&gt;
&lt;!-checks whether there is anything in reversePaths = checks whether a path leads here, if so, creates a distinct exit--&gt;
&lt;!-else, then this must be the first passage. Makes two distinct exits.--&gt; 
&lt;!-also adds 0 to n random exits--&gt;
(set: $makePassageExit to 
(macro: [
		(if: length of $reverseArcs &gt; 0) 
			[
			($makeStoredExit:)
			($makeAptExit:)&lt;!-make a headback exit, if required--&gt;
			($makeSecondExit:) &lt;!-makes a second exit, if none there--&gt; 
			]
		(else:) [($makeExit:)
				($makeExit:)
				]
		($getMoreExits:) &lt;!-random factor for more exits--&gt;
		(output-data:&quot;&quot;)
		] ))
		
&lt;!-check that passage has more than one exit. Make a new one if not.--&gt;
(set: $makeSecondExit to 
(macro: [
		(set: _exits to $roomString of $exitMap)
		(if: length of _exits is 1)[
			($makeExit:)]
		(output-data:&quot;&quot;)
		] ))		
		
&lt;!-decides whether to make a passage at random, or a passage that tends back towards the start--&gt; 

(set: $makeAptExit to 
(macro: [
	(set: _threshold to $stopValue - $inverseSprawl)
	&lt;!-more branchy builds overproduce, so start heading back early--&gt;
	(if: $thisBuild &gt; _threshold) 
		[($makeHeadBackExit:)]
	(else:) [($makeExit:)]
	(output-data:&quot;&quot;)
		] ))
	

&lt;!-makes a path that heads back towards 0,0,0--&gt;
(set: $LEGACYmakeReturnExit to 
(macro: [
	(set: $currentExit to ($makeNegativeArc:$currentCoords))
	(set: $roomString of $exitMap to (a: $currentExit))
	(set: $newCoords to ($vectorAdd3: $currentCoords, $currentExit))
	($decideWhetherToMakeNewRoom:) 
	(output-data: &quot;&quot;)
	]
	))

&lt;!-makes a path that heads back towards 0,0,0--&gt;
&lt;!-distalCoords are the coords of the room to which the passage leads--&gt;

(set: $makeHeadBackExit to 
(macro: [
	(set: $currentExit to ($makeNegativeArc:$currentCoords))
	(set: _exits to $roomString of $exitMap)
	(if: $currentExit is not in _exits)[
		(set: $roomString of $exitMap to it + (a: $currentExit))
		(set: $distalCoords to ($vectorAdd3: $currentCoords, $currentExit))
		($decideOnNewRoom:)]
	(output-data: &quot;&quot;)
	]
	))
	
&lt;!-gets a random shortarc, calls for a corresponding room to be made--&gt;
&lt;!-distalCoords are the coords of the room to which the passage leads--&gt;
&lt;!-if the first exit is already there, it recurses til it gets a new one--&gt;

(set: $makeExit to 
(macro: [
	(set: _exits to $roomString of $exitMap)
	(set: $currentExit to ($getNextShortArc:))
	(if: $currentExit is not in _exits)[
		(set: $roomString of $exitMap to it + (a: $currentExit))
		(set: $distalCoords to ($vectorAdd3: $currentCoords, $currentExit))
		($decideOnNewRoom:)]
	(else:) [($makeExit:)]
	(output-data: &quot;&quot;)
	]
	))

&lt;!-checks whether coords at paths end have already been turned into room. Adds to branchlist if not and puts a nominal path back into reverseArcs to be added to the room when built. Otherwise, ensures a return path is built from old room. --&gt;
(set: $decideOnNewRoom to
(macro: [
	(set: _reverseArc to ($oppositeArc: $currentExit))
	(if: $distalCoords is not in $nodes) 
		[(set: $branchList to it + (a: $distalCoords))
		(set: $reverseArcs to it + (a: _reverseArc))]
	(else:)[($addPathToOldRoom: _reverseArc)] 
	(output-data: &quot;&quot;)
	]
	))
	
&lt;!-makes a nominal path back to correspond to backtracking along the given path, stores it in reverseArcs to be added to the yet-to-be-built locus that will be at the end of the path--&gt;
(set: $LEGACYmakeReversePath to 
(macro: [
	(set: _reverseArc to ($oppositeArc: $currentExit))
	(set: $reverseArcs to it + (a: _reverseArc))
	(output-data: &quot;&quot;)
	]
	))	
	
&lt;!-instantiates the path stored from when a path to this room was built, that backtracks to the original --&gt;	
(set: $makeStoredExit to 
(macro: [
	(set: _returnPath to 1st of $reverseArcs) 
	(set: $roomString of $exitMap to it + (a: _returnPath))
	(set: $reverseArcs to it - (a:_returnPath))
	(output-data: &quot;&quot;)
	]
	))



&lt;!-This is called when a path loops back to a pre-existing room. In that case, a corresponding exit from the pre-existing room needs to be added to the pre-existing room--&gt;
&lt;!-Takes the required exit as input, so just needs to add it to the exitMap--&gt;
&lt;!-distalCoords have already been set to the old room--&gt;

(set: $addPathToOldRoom to 
(macro: array-type _reverseArc, [
		&lt;!-set coords to string to look up on numberMap --&gt;
	(set: _coordString to (str: $distalCoords))
		&lt;!-set roomnumber to corresponding value on numberMap --&gt;
	(set: _roomNumber to _coordString of $numberMap)
		&lt;!-set that to string to look up on exitmap --&gt;
	(set: _roomString to (str: _roomNumber))
		&lt;!- add the exit coords to the old room&#39;s entry on exitmap--&gt;
	(set: _roomString of $exitMap to it + (a: _reverseArc))
	(output-data: &quot;&quot;)
	]
	))
	


&lt;!-possibly generates some more exits to be added to branchlist.--&gt;

(set: $getMoreExits to
(macro: [
	($getRandomWithMax: $branchiness)
	(if: $randomWithMax &gt; 3)
		[($makeExit:)
		($getMoreExits:)] 
	(output-data: &quot;&quot;)
	]
	))

&lt;!-Returns 1 for numbers with positive value, 0 for 0 and -1 for numbers with negative value--&gt;
(set: $returnPolarities to 
(macro: num-type _num4polar, [
	(if: _num4polar is not 0)[(set: _num4polar to _num4polar/(abs:_num4polar))]
	(output-data: _num4polar)]
	))

&lt;!-takes an arc and substitutes -1 for positive values 0 for 0 and 1 for negative values--&gt;
&lt;!-Rationale: To get a path that tends back to the origin 0, 0, 0, we need arcs that go downstairs if the current place is upstairs, east if the current place is west, etc--&gt;

(set: $makeNegativeArc to 
(macro: array-type _arc, [
	(if: _arc is not an array)
		[(error: &quot;$makeNegativeArc given something other than array&quot;)]
	(set: _output to (a: 
		-($returnPolarities: 1st of _arc),
		-($returnPolarities: 2nd of _arc),
		-($returnPolarities: 3rd of _arc)))
	(output-data:_output)
	]
	))

	

}
</tw-passagedata><tw-passagedata pid="86" name="graph builder 4.0" tags="startup" position="2325,569" size="100,100">&lt;!- ONE --&gt; 
(set: $buildMap to 
(macro: [
	(if: $currentRoom &lt; 10 and length of $branchList is 0)
		[($branchFromRandomNode:)]
	(if: $currentRoom &lt; 10) [
		(set: $gotBranch to 1st of $branchList)
		(set: $branchList to it - (a:$gotBranch))
		(set: $oldCoords to 1st of $gotBranch)
		(set: $currentCoords to 2nd of $gotBranch)
		(if: length of $currentCoords is not 3)[(error: &quot;currentcoords is  length&quot; + (str:length of $currentCoords))]
		(if: $currentCoords is not in $nodes)
			[(set: $nodes to it + (a:$currentCoords))]
		($makeLocus:) &lt;!- TWO --&gt; 
		($buildMap:)
		]
	(output-data: &quot;&quot;)
	]
	))

&lt;!- TWO --&gt; 
(set: $makeLocus to 
(macro: [
	($getLocusNumber:)  
	($assignCoordsToLocusNumber:)  
	($assignLocusNumberToCoords:)  
	(set: $roomString of $exitMap to (a:))
	($makePathBackToBranch:)
	(if: $thisBuild &gt; 9 and $thisBuild &lt; 15)[
		($createRandomNeighbor:)]
	(if: $thisBuild &gt; 9)[
		($createRandomNeighbor:)]
	(output-data: &quot;&quot;)
	]
	))
	

	
	
	
&lt;!- THREE --&gt;
&lt;!-gets a room number for current coords --&gt;
&lt;!-currentRoom and currentPassage should be initialized to 0 and 10--&gt;

(set: $getLocusNumber to 
(macro: [	
	($getRandomWithMax: $passaginess)
	(if: $currentRoom &gt; 9 or $randomWithMax &gt; 3)
		[(set: $thisBuild to $currentPassage)
		(set: $currentPassage to it + 1)]
	(else:) 
		[(set: $thisBuild to $currentRoom)
		(set: $currentRoom to it +1)]
	(output-data: &quot;&quot;)
	]
	))


&lt;!- FOUR --&gt;
&lt;!-assigns current coords to current room number on datamap--&gt;

(set: $assignCoordsToLocusNumber to 
(macro: [	
	(set: $roomString to (str: $thisBuild)) 
		&lt;!-moved from last line of getlocusnumber--&gt;
	(set: $roomString of $coordMap to $currentCoords)
	(output-data: &quot;&quot;)
	]
	))
	
&lt;!- FIVE --&gt;
(set: $assignLocusNumberToCoords to 
(macro: [	
	(set: $coordString to (str: $currentCoords)) 
	(set: $coordString of $numberMap to $thisBuild)
	(output-data: &quot;&quot;)
	]
	))
	
&lt;!- SIX --&gt;	
(set: $makePathBackToBranch to 
(macro: [
	(if: $oldCoords is not $currentCoords)
		[(set: _pathForward to ($subtractN3s: $currentCoords, $oldCoords))
		(set: _pathBack to ($subtractN3s: $oldCoords,$currentCoords))
		(set: $roomString of $exitMap to it + (a:_pathBack))
		(set: $oldString to (str: $oldCoords))
		(set: $oldNumber to $oldString of $numberMap)
		(set: (str: $oldNumber) of $exitMap to it + (a:_pathForward))
		]
	(output-data: &quot;&quot;)
	]
	))

&lt;!- SEVEN --&gt;
&lt;!- creates a random neighbor of currentCoords for branchList. Recurses until it finds a non duplicate.--&gt;

(set: $createRandomNeighbor to 
(macro: [
	(set: $currentExit to ($getNextShortArc:))
	(if: length of $currentCoords is not 3)[(error: &quot;currentcoords is  length&quot; + (str:length of $currentCoords))]
	(set: $distalCoords to ($vectorAdd3: $currentCoords, $currentExit))
	(if: $distalCoords is not in $nodes) 
		[
		(set: $putBranch to (a: $currentCoords, $distalCoords))
		(set: $branchList to it + (a: $putBranch))
		(set: $branchReport to it + (a: $branchList))
		]
	(else:) [($createRandomNeighbor:)]
	(output-data: &quot;&quot;)
	]
	))




&lt;!- EIGHT --&gt;
(set: $branchFromRandomNode to 
(macro: [
	($getRandomWithMax: 19)
	(set: _index to $randomWithMax + 1)
	(set: $currentCoords to (nth: _index, ...$nodes))
	(if: length of $currentCoords is not 3)[(error: &quot;branchFromRandomNode is buggering up currentcoords&quot;)]
	($createRandomNeighbor:)
	(output-data: &quot;&quot;)
]))

</tw-passagedata><tw-passagedata pid="87" name="setup v4" tags="startup" position="2320,432" size="100,100">{
(set: $inverseSprawl to 7)
(set: $passaginess to 5)
(set: $branchiness to 7)
(set: $shortArcs to (a: 
	(a: -1,-1,-1),
	(a: -1,-1,0),
	(a: -1,-1,1),
	(a: -1,0,-1),
	(a: -1,0,0),
	(a: -1,0,1),
	(a: -1,1,-1),
	(a: -1,1,0),
	(a: -1,1,1),
	(a: 0,-1,-1),
	(a: 0,-1,0),
	(a: 0,-1,1),
	(a: 0,0,-1),
	(a: 0,0,1),
	(a: 0,1,-1),
	(a: 0,1,0),
	(a: 0,1,1),
	(a: 1,-1,-1),
	(a: 1,-1,0),
	(a: 1,-1,1),
	(a: 1,0,-1),
	(a: 1,0,0),
	(a: 1,0,1),
	(a: 1,1,-1),
	(a: 1,1,0),
	(a: 1,1,1)
	)
	)

(set: $branchList to (a: (a: (a: 0,0,0),(a: 0,0,0))))
(set: $currentRoom to 0)
(set: $currentPassage to 10)
(set: $thisBuild to 10) 
(set: $nodes to (a:)) 
(set: $stopValue to 25)
(set: $roomString to &quot;10&quot;)



&lt;!--the following datamap of arrays represents the exits from each locus. Each name is a string of the locus number and the corresponding value is the list of exits from that locus, each of which will be a triple that signifies the direction of exit--&gt; 
(set: $exitMap to (dm: &quot;0&quot;, (a:), &quot;10&quot;,(a:)))


(set: $coordMap to (dm: &quot;0&quot;, (a:), &quot;10&quot;,(a:)))

(set: $numberMap to (dm:))

}</tw-passagedata><tw-passagedata pid="88" name="graph access v4" tags="startup" position="2521,700" size="100,100">&lt;!--  --&gt; 
&lt;!--  --&gt; 
(set: $getTheseCoords to 
(macro: [
	(set: _roomString to (str: $thisRoomsNumber))
	(set: $theseCoords to _roomString of $coordMap)
	(output-data:&quot;&quot;)
	]
	))


&lt;!--Gets the value for the string thisRoomsNumber from the datamap exits--&gt;
(set: $getExitVectors to 
(macro: [
	(set: _roomString to (str: $thisRoomsNumber))
	(set: $exitVectors to _roomString of $exitMap)
	(output-data:&quot;&quot;)
	]))
	
&lt;!--takes room coords and returns name of room--&gt; 
(set: $getRoomFromCoords to
(macro: array-type _vector, [
	(set: _roomNo to (str: _vector) of $numberMap)
	(set: _output to &quot;locus &quot; + (str: _roomNo))
	(output-data: _output)
	]))

&lt;!--finds most extreme point in a given direction--&gt; 
(set: $findMostExtreme to 
(macro: string-type _direction, [
	(set: _currentMostExtreme to (a: 0,0,0)) 
	(set: $extremePosition to (cond: 
		_direction is &quot;north&quot;, 2, 
		_direction is &quot;south&quot;, 2, 
		1))
	(set: $highOrLow to (cond: 
		_direction is &quot;north&quot;, &quot;highest&quot;, 
		_direction is &quot;east&quot;, &quot;highest&quot;, 
		&quot;lowest&quot;))
	(if: $highOrLow is &quot;highest&quot;)[
		(set: ($extremePosition) of _currentMostExtreme to -30)
		(for: each _item, ...$nodes) [
			(if: ($extremePosition) of _item &gt; ($extremePosition) of _currentMostExtreme)[(set:_currentMostExtreme to _item)]]]
	(else:)[(set: ($extremePosition) of _currentMostExtreme to 30)
		(for: each _item, ...$nodes) [
			(if: ($extremePosition) of _item &lt; ($extremePosition) of _currentMostExtreme)[(set:_currentMostExtreme to _item)]]]
	(set: $mostExtreme to _currentMostExtreme)
	(output-data:&quot;&quot;)
	]
	))







</tw-passagedata><tw-passagedata pid="89" name="decade one" tags="" position="2266,1271" size="100,100">{($buildMap:) 
($findMostExtreme: $4Direction)
(set: $theseCoords to $mostExtreme)
(set: $startCoords to $theseCoords) 
(set: $thisRoomsNumber to (str: $theseCoords) of $numberMap)

(set: $counterTrack to 1)
(set: $report to &quot;&quot;)
(set: $directionText to &quot;&quot;)
(set: $wordIterator to 1)
($getExitVectors:)
($listExits: $exitVectors)


}
1
You are at ($locusWord:) $thisRoomsNumber. 
(print: $directionText) 

(set: $returnText to &quot;You can also head back to the $4Direction into the [[$complexWord-&gt;d1 door]].&quot;) 
$returnText</tw-passagedata></tw-storydata>

<tw-storydata name="century template 4.0" startnode="15" creator="Twine" creator-version="2.3.12" ifid="F8F232A3-A9E3-4E2E-9E94-2CAFD2B675BA" zoom="0.6" format="Harlowe" format-version="3.2.1" options="" hidden><style role="stylesheet" id="twine-user-stylesheet" type="text/twine-css">.passage img {
    display: block;
    max-width: 100%;
    height: auto;
    margin: 0 auto;
}</style><script role="script" id="twine-user-script" type="text/twine-javascript">window.Harlowe = { 'State' : State };
window.processInputElements = function () {
    $('input[data-varname]').on('change', function () {
        var varName = $(this).attr('data-varname');
        Harlowe.State.variables[varName] = this.value;
        $("tw-story").css("background-size","cover");
        if(Harlowe.State.variables[varName] == 0)
        			{$("tw-story").css("background-image","url(https://th.bing.com/th/id/Rf5fecfd0d9830aab6202cf747bd3ad01?rik=L2W1jbILOWUswA&riu=http%3a%2f%2fak3.picdn.net%2fshutterstock%2fvideos%2f3933461%2fthumb%2f2.jpg&ehk=Jj2vK1CpTF0Tkwwx8bW4RAHwBltP9rnWO4IfZTCfsMY%3d&risl=&pid=ImgRaw)");
        			}
			else if(Harlowe.State.variables[varName] == 1)
        			{$("tw-story").css("background-image","url(https://i.pinimg.com/originals/4f/0b/88/4f0b88df6b723ffda1fb80629884521a.jpg)");
							}
			else if(Harlowe.State.variables[varName] == 2)
        			{$("tw-story").css("background-image","url(https://i.pinimg.com/originals/5b/c7/19/5bc719f84cfc170ff0558702b2c97876.jpg)");
							}
			else if(Harlowe.State.variables[varName] == 3)
        			{$("tw-story").css("background-image","url(https://www.realmofhistory.com/wp-content/uploads/2016/05/3D_Animations_Layout_Roman_Domus_House_1-770x437.jpg)");
							}
						else if(Harlowe.State.variables[varName] == 4)
        			{$("tw-story").css("background-image","url(https://images.fineartamerica.com/images/artworkimages/mediumlarge/1/roman-ruin-architecture-with-predigendem-st-paul-giovanni-paolo-panini.jpg)");
							}
			else if(Harlowe.State.variables[varName] == 5)
        			{$("tw-story").css("background-image","url(https://www.artranked.com/images/24/24079a74065dcd363eff01805c36d6ed.jpg)");
							}
			else if(Harlowe.State.variables[varName] == 6)
        			{$("tw-story").css("background-image","url(https://vignette.wikia.nocookie.net/assassinscreed/images/b/b8/Damascus-depth.jpg/revision/latest?cb=20100918105609)");
							}
			else if(Harlowe.State.variables[varName] == 7)
        			{$("tw-story").css("background-image","url(https://www.ancient-origins.net/sites/default/files/field/image/viking-tar.jpg)");
							}
						else if(Harlowe.State.variables[varName] == 8)
        			{$("tw-story").css("background-image","url(file:///private/var/folders/kl/xdjgclbs2rd7j83lrx2kjygr0000gp/T/6f3dc60b-15c8-438b-b96d-458185d4b829.html)");
							}
				else if(Harlowe.State.variables[varName] == 9)
        			{$("tw-story").css("background-image","url(https://vignette.wikia.nocookie.net/lotrfanon/images/6/6a/Mordor.png/revision/latest?cb=20170724095433)");
							}
			else if(Harlowe.State.variables[varName] == 10)
        			{$("tw-story").css("background-image","url(https://4.bp.blogspot.com/-H7YcbEPiqH4/VbisGV8F-8I/AAAAAAAEtBs/sQETZ8PgdVM/s1600/John%2BMartin%2BTutt%2527Art%2540%2B%252825%2529.jpg)");
							}
			else if(Harlowe.State.variables[varName] == 11)
        			{$("tw-story").css("background-image","url(https://i.pinimg.com/originals/32/d1/2d/32d12d3eb111ccb5065073c181007cc3.jpg)");
							}
			else if(Harlowe.State.variables[varName] == 12)
        			{$("tw-story").css("background-image","url(https://i.pinimg.com/originals/98/82/b2/9882b2685e23b81832d9b8a3258fa65a.jpg)");
							}
			else if(Harlowe.State.variables[varName] == 13)
        			{$("tw-story").css("background-image","url(https://i.pinimg.com/originals/ea/31/23/ea31239d3f7eba975360f044906a3aba.jpg)");
							}		
			else if(Harlowe.State.variables[varName] == 14)
        			{$("tw-story").css("background-image","url(https://i.ytimg.com/vi/2QUYYOXUF4o/maxresdefault.jpg)");
							}	
			else if(Harlowe.State.variables[varName] == 15)
        			{$("tw-story").css("background-image","url(https://upload.wikimedia.org/wikipedia/commons/e/ef/Avvakum_by_Pyotr_Yevgenyevich_Myasoyedov.jpg)");
							}	
			else if(Harlowe.State.variables[varName] == 16)
        			{$("tw-story").css("background-image","url(https://i.postimg.cc/j5Gr8x8r/artwork-fantasy-city-town-digital-river-bridge-boat-medieval-1743259.jpg)");
							}	
			else if(Harlowe.State.variables[varName] == 17)
        			{$("tw-story").css("background-image","url(https://i.postimg.cc/tgkQHd2D/heads-On-Pikes.jpg)");
							}	
			else if(Harlowe.State.variables[varName] == 18)
        			{$("tw-story").css("background-image","url(https://i.pinimg.com/originals/cd/41/30/cd413085d15e1fbf4ef0f18b8ddbcdf1.jpg)");
							}	
			else if(Harlowe.State.variables[varName] == 19)
        			{$("tw-story").css("background-image","url(https://w-dog.pw/android-wallpapers/7/16/532616445160923/art-war-france-saint-lo-street-us-troops-men-uniforms-shop-rifles-m1903a3-and-m1903a4-shots-smoke-ruins-ww2-picture.jpg)");
							}
			else if(Harlowe.State.variables[varName] == 20)
        			{$("tw-story").css("background-image","url(https://cdnb.artstation.com/p/assets/images/images/006/670/547/large/ricardo-garcia-hernanz-proyecto-final-concept-art-definitivo.jpg?1500361155)");
							}
			
					
    });
};

</script><tw-tag name="startup" color="red"></tw-tag><tw-passagedata pid="1" name="top bar pathType" tags="" position="1911,1266" size="100,100">(background:black)[($levelSentence:), ($occupyingP:) a $passageType heading from $2Direction to $4Direction. ($capitalize: ($appendIndefinite: $doorType)) $signIntro ($decadeSign: 2) exits to the [[$1Direction-&gt;decade two]]. If you do not wish to go this way, you can follow the $passageType to the [[$4Direction-&gt;main pathType top corner]] end, or to the [[$2Direction end-&gt;d1 door]].]
</tw-passagedata><tw-passagedata pid="2" name="main pathType upper" tags="" position="1706,1495" size="100,100">(background:black)[($levelSentence:), which heads both [[$1Direction-&gt;main pathType top corner]] and [[$3Direction-&gt;main pathType middle]] from here. If you wish to leave this $passageType, there are a pair of ($plural: $doorType) directly opposite one another, one heading [[$2Direction-&gt;decade three]] $signIntro ($decadeSign: 3) and the other heading [[$4Direction-&gt;decade nine]] $signIntro ($decadeSign: 9)].</tw-passagedata><tw-passagedata pid="3" name="decade zero" tags="" position="1700,1118" size="100,100">(if: $heading is &quot;Leaving&quot;)[(set: $heading to &quot;South&quot;) You mount the stairs towards the exit to decade zero. At the top is a door. You [[step through it-&gt;main pathType top corner]].]
(else:) [(set: $heading to &quot;South&quot;) You step through the door into decade 0. Steps lead down to the [[entrance chamber-&gt;0 entrance chamber]].]</tw-passagedata><tw-passagedata pid="4" name="decade two" tags="" position="1914,1405" size="100,100">(if: $heading is &quot;out&quot;) [Steps lead up and out of the stable area. You step through a door into the [[central nexus.-&gt;top bar pathType]]]
(else:) [You step through the door into the decade 2 complex. Steps lead down into a [[stable area]].]</tw-passagedata><tw-passagedata pid="5" name="d1 door" tags="" position="2079,1269" size="100,100">(background:black)[($altLevelSentence:). To the $2Direction, there is [[($appendIndefinite: $doorType)-&gt;decade one]] $signIntro ($decadeSign: 1). If you do not wish to go that way, you may head [[$4Direction along the $passageType-&gt;top bar pathType]].] </tw-passagedata><tw-passagedata pid="6" name="decade three" tags="" position="1847,1522" size="100,100">You step through the door into decade 3. </tw-passagedata><tw-passagedata pid="7" name="main pathType middle" tags="" position="1708,1653" size="100,100">(background:black)[($levelSentence:) which heads both [[$1Direction-&gt;main pathType upper]] and [[$3Direction-&gt;main pathType lower]] from here. Another $passageType branches off to the $2Direction, [[which you may take-&gt;middle bar pathType]] if you wish.] </tw-passagedata><tw-passagedata pid="8" name="middle bar pathType" tags="" position="1979,1653" size="100,100">(background:black)[($levelSentence:) which heads both [[$2Direction-&gt;outside d5]] and [[$4Direction-&gt;main pathType middle]] from here. A $doorType $signIntro ($decadeSign: 4) turns off to the [[$1Direction-&gt;decade four]]. A little further to the $2Direction, another $doorType $signIntro ($decadeSign: 6) turns off to the [[$3Direction-&gt;decade six]].  ]</tw-passagedata><tw-passagedata pid="9" name="main pathType lower" tags="" position="1700,1813" size="100,100">(background:black)[($altLevelSentence:), at a [[$doorType-&gt;decade eight]] $signIntro ($decadeSign: 8). Opposite the $doorType, the $passageType heads off to the [[$1Direction-&gt;main pathType middle]]. A second $doorType exits to the [[$2Direction-&gt;narthex]], $signIntro ($decadeSign: 9). ]</tw-passagedata><tw-passagedata pid="10" name="decade four" tags="" position="1978,1527" size="100,100">You step through the door into decade 4. </tw-passagedata><tw-passagedata pid="11" name="decade six" tags="" position="1985,1817" size="100,100">You step through the door into decade 6. </tw-passagedata><tw-passagedata pid="12" name="decade eight" tags="" position="1700,1963" size="100,100">You step through the door into decade 8. </tw-passagedata><tw-passagedata pid="13" name="outside d5" tags="" position="2135,1650" size="100,100">(background:black)[($altLevelSentence:), which heads [[$4Direction-&gt;middle bar pathType]] from here. Otherwise, the only option is a $doorType $signIntro ($decadeSign: 5) that goes from here to the [[$2Direction-&gt;d5r1]].]</tw-passagedata><tw-passagedata pid="14" name="Untitled Passage" tags="" position="2098,1516" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="15" name="Elevator" tags="" position="1554,1116" size="100,100">

You are in an elevator. The dial permits you to choose any floor from 0 through 20. Please input the floor you desire.  
&lt;input type=&quot;text&quot; data-varname=&quot;floorString&quot;&gt;
&lt;script&gt;processInputElements();&lt;/script&gt;
(link-goto: &quot;Done&quot;)
</tw-passagedata><tw-passagedata pid="16" name="main pathType top corner" tags="" position="1706,1270" size="100,100">(background:black)[($levelSentence:). ($capitalize: ($plural: $passageType)) lead [[$2Direction-&gt;top bar pathType]] and [[$3Direction-&gt;main pathType upper]] from here. You can also exit [[$1Direction via ($appendIndefinite: $doorType)-&gt;decade zero]] $signIntro ($decadeSign: 0), or step $4Direction into the [[Elevator]]. ]






</tw-passagedata><tw-passagedata pid="17" name="Done" tags="" position="1552,1005" size="100,100">&lt;!--MAIN TEXT--&gt;
	(background:black)[The elevator shunts into life and you begin to move through the centuries...] 
	

{
&lt;!--1--&gt;
(ignore: (set: $floorInt to (num:$floorString)))
&lt;!--2--&gt;

(set: $optional to (macro: string-type _optional, [
	(output-data: (either: _optional, &#39;&#39;))
	]
	)
)

(set: $plural to (macro: str-type _singular, [
	(set: _output to (cond:
		_singular&#39;s last is &#39;s&#39;, _singular,
		_singular + &#39;s&#39;))
	(output-data: _output)
	]
	)
	)
	
	
(set: $capitalize to (macro: string-type _string, [
	(set: _firstLetter to _string&#39;s 1st)
	(set: _rest to (substring: _string, 2, -1))
	(set: _output to (cond:
		_firstLetter is &#39;a&#39;, &#39;A&#39; + _rest,
		_firstLetter is &#39;b&#39;, &#39;B&#39; + _rest,
		_firstLetter is &#39;c&#39;, &#39;C&#39; + _rest,
		_firstLetter is &#39;d&#39;, &#39;D&#39; + _rest,
		_firstLetter is &#39;e&#39;, &#39;E&#39; + _rest,
		_firstLetter is &#39;f&#39;, &#39;F&#39; + _rest,
		_firstLetter is &#39;g&#39;, &#39;G&#39; + _rest,
		_firstLetter is &#39;h&#39;, &#39;H&#39; + _rest,
		_firstLetter is &#39;i&#39;, &#39;I&#39; + _rest,
		_firstLetter is &#39;j&#39;, &#39;J&#39; + _rest,
		_firstLetter is &#39;k&#39;, &#39;K&#39; + _rest,
		_firstLetter is &#39;l&#39;, &#39;L&#39; + _rest,
		_firstLetter is &#39;m&#39;, &#39;M&#39; + _rest,
		_firstLetter is &#39;n&#39;, &#39;N&#39; + _rest,
		_firstLetter is &#39;o&#39;, &#39;O&#39; + _rest,
		_firstLetter is &#39;p&#39;, &#39;P&#39; + _rest,
		_firstLetter is &#39;q&#39;, &#39;Q&#39; + _rest,
		_firstLetter is &#39;r&#39;, &#39;R&#39; + _rest,
		_firstLetter is &#39;s&#39;, &#39;S&#39; + _rest,
		_firstLetter is &#39;t&#39;, &#39;T&#39; + _rest,
		_firstLetter is &#39;u&#39;, &#39;U&#39; + _rest,
		_firstLetter is &#39;v&#39;, &#39;V&#39; + _rest,
		_firstLetter is &#39;w&#39;, &#39;W&#39; + _rest,
		_firstLetter is &#39;x&#39;, &#39;X&#39; + _rest,
		_firstLetter is &#39;y&#39;, &#39;Y&#39; + _rest,
		_firstLetter is &#39;z&#39;, &#39;Z&#39; + _rest,
		&quot;error in capitalize:input not matching&quot;))
	(output-data: _output)
	]))

&lt;!--23--&gt;
(set: $fixDirection to 
	(macro: num-type _directionNum, 
	[
	(set: $directions to 
		(cond: 
		_directionNum is 0,(a:&#39;North&#39;,&#39;East&#39;,&#39;South&#39;,&#39;West&#39;),
		_directionNum is 1,(a: &#39;East&#39;,&#39;South&#39;,&#39;West&#39;,&#39;North&#39;),
		_directionNum is 2,(a: &#39;South&#39;,&#39;West&#39;,&#39;North&#39;,&#39;East&#39;),
		_directionNum is 3,(a: &#39;West&#39;,&#39;North&#39;,&#39;East&#39;,&#39;South&#39;),
		&#39;fail&#39;))
	(if: $directions is &#39;fail&#39;)
		[(set: $directions to ($fixDirection:_directionNum - 4))]
	(output-data: $directions)
	]
	)
)



		
&lt;!--3--&gt;
&lt;!-- Alternate NP generator. Fixes the alternate sentence structure with forced prep to give a context sentence upon exiting the elevator--&gt;
(set: $NPplus to (macro: num-type _nounIndex, [
			($setVocab:)
			(set: $altIndex to 1)
			(set: _output to 
				($detNP: _nounIndex) +
				&#39; &#39; + ($prepPH: _nounIndex)
				)
			(output-data: _output)
				]				
				)
				)

&lt;!-- RANDOM NP generator. Takes two numbers as input. These keep track of the level of grammatical depth (1 is the main clause). It passes them to other parts of speech to coordinate everything. --&gt;
&lt;!--4--&gt;
(set: $NPandPrep to (macro: num-type _nounIndex, [
			($setVocab:)
			(set: $altIndex to (either: 0,1))
			(set: _output to 
				($detNP: _nounIndex) +
				($optional: &#39; &#39; + ($prepPH: _nounIndex))
				)
			(output-data: _output)
				]				
				)
				)
		
		
		
&lt;!-- Takes the nounindex and determines the NP+ first then, if the determiner is not definite, checks the first letter of the np. If it&#39;s a vowel, it returns &#39;an&#39; + the NP. Else, it returns &#39;a&#39; plus the NP.--&gt;
&lt;!--5--&gt;
(set: $detNP to (macro: num-type _nounIndex, [
	(set: _determiner to ($det: _nounIndex))
	(set: _noDeterminer to
		($optional: 
			($adjPH: _nounIndex) + &#39; &#39;) +
		($noun: _nounIndex)
	)
	(set: _output to (cond: 
		_determiner is &#39;the&#39;, &#39;the&#39; + &#39; &#39; + _noDeterminer,
		_determiner is &#39;&#39;, _noDeterminer,
		($appendIndefinite: _noDeterminer)
	))
	(output-data: _output)
			]
)
)

(set: $appendIndefinite to (macro: str-type _noDeterminer, [
	(set: _noDeterminer to (cond: 
		_noDeterminer&#39;s 1st is &#39; &#39;, (substring: _noDeterminer, 2, -1),
		_noDeterminer))
	(set: _output to (cond: 
		_noDeterminer&#39;s 1st is &#39;a&#39;, &#39;an &#39; + _noDeterminer,
		_noDeterminer&#39;s 1st is &#39;e&#39;, &#39;an &#39; + _noDeterminer,
		_noDeterminer&#39;s 1st is &#39;i&#39;, &#39;an &#39; + _noDeterminer,
		_noDeterminer&#39;s 1st is &#39;o&#39;, &#39;an &#39; + _noDeterminer,
		_noDeterminer&#39;s 1st is &#39;u&#39;, &#39;an &#39; + _noDeterminer,
		&#39;a &#39; + _noDeterminer))
	(output-data: _output)
	]
	))


&lt;!--6--&gt;
&lt;!--i think this is no longer used. Test and remove. --&gt;
(set: $NP to (macro: num-type _nounIndex, [
	(set: _output to
			($det: _nounIndex) +
			($optional: 
				&#39; &#39; + 
				($adjPH: _nounIndex)) + 
			&#39; &#39; + 
			($noun: _nounIndex)
	)
	(output-data: _output)
			]
)
)

&lt;!--7--&gt;
(set: $adjPH to (macro: num-type _adjIndex, [
	(set: _output to 
		($optional: ($subAdjPH: _adjIndex +10) + &#39; &#39;) +
		($subAdjPH: _adjIndex)
		)
	(output-data: _output)
	]
	)
	)

&lt;!--8--&gt;
(set: $subAdjPH to (macro: num-type _adjIndex, [
	(set: _output to
		($optional: ($adv: _adjIndex) + &#39; &#39;) +
		($adj: _adjIndex) 
		)
	(output-data: _output)	
		]
		)
		)
	

&lt;!--PREPOSITIONAL PHRASES--&gt;
&lt;!--MAX DEPTH--&gt;
&lt;!--sets the max recursion depth by level--&gt;
&lt;!--maxDepth should be set to one less than the highest noun index--&gt;

&lt;!--9--&gt;


&lt;!--tester that takes a prep index and returns a simple prepositional phrase if the prep index is high. Otherwise, returns a complex prepositional phrase.--&gt;
&lt;!--10--&gt;
(set: $prepPH to (macro: num-type _prepIndex, [
	(set: _output to (cond: 
		_prepIndex is $maxDepth, ($simplePrep: _prepIndex),
		($complexPrep: _prepIndex)
		)
		)
	(output-data: _output)
	]
	)
	)

&lt;!--assigns the prep with the right prepindex to introduce the NP with level one higher--&gt;
&lt;!--11--&gt;
(set: $simplePrep to (macro: num-type _prepIndex,[
		(set: _output to 
			($prep: _prepIndex) + 
			&#39; &#39; +
			($NP: _prepIndex + 1)
			)
		(output-data: _output)
		]
		)
		)

&lt;!--provides three alternatives: basic prep, basic prep plus a clause, alt prep --&gt;
&lt;!--12--&gt;
(set: $complexPrep to (macro: num-type _prepIndex, [
	(set: _output to 
			($prep: _prepIndex) +
			&#39; &#39; +
			($NP: _prepIndex + 1) +
			&#39; &#39; +
			($optional: ($prep: _prepIndex +1) +
					&#39; &#39; +
					($NP: _prepIndex + 2)
			)
		)
	(output-data: _output)
	]
	)
)

(set: $codePage to (cond: 
	$floorInt is 0, &#39;0code&#39;,
	$floorInt is 1, &#39;1code&#39;,
	$floorInt is 2, &#39;2code&#39;,
	$floorInt is 3, &#39;3code&#39;,
	$floorInt is 4, &#39;4code&#39;,
	$floorInt is 5, &#39;5code&#39;,
	$floorInt is 6, &#39;6code&#39;,
	$floorInt is 7, &#39;7code&#39;,
	$floorInt is 8, &#39;8code&#39;,
	$floorInt is 9, &#39;9code&#39;,
	$floorInt is 10, &#39;10code&#39;,
	$floorInt is 11, &#39;11code&#39;,
	$floorInt is 12, &#39;12code&#39;,
	$floorInt is 13, &#39;13code&#39;,
	$floorInt is 14, &#39;14code&#39;,
	$floorInt is 15, &#39;15code&#39;,
	$floorInt is 16, &#39;16code&#39;,
	$floorInt is 17, &#39;17code&#39;,
	$floorInt is 18, &#39;18code&#39;,
	$floorInt is 19, &#39;19code&#39;,
	$floorInt is 20, &#39;20code&#39;,
	&quot;Error. Unrecognized code page.&quot;))
	




&lt;!--22--&gt;
(set: $occupyingP to 
	(macro: 
		[
		(set: _output to (cond: 
		(a: 0,2,3,8,19) contains $floorInt, &#39;in&#39;,
		&#39;on&#39;
			))
		(output-data: _output)
		]
	)
)





&lt;!--24--&gt;
(set: $hundreds to ($floorInt * 100))
(if: $hundreds is 0)
	[(set: $hundredstring to &quot;the first century a.d.&quot;)]
(else:) [(set: $hundredstring to &#39;the&#39; + (string: $hundreds) + &#39;s&#39;)]

(set: $1Direction to ($fixDirection: $floorInt)&#39;s 1st)
(set: $2Direction to $directions&#39;s 2nd)
(set: $3Direction to $directions&#39;s 3rd)
(set: $4Direction to $directions&#39;s 4th)




}
At last the elevator [[comes to a halt-&gt;$codePage]]. 

</tw-passagedata><tw-passagedata pid="18" name="0code" tags="" position="1557,1235" size="100,100">{
&lt;!--maxDepth should be set to one less than the highest noun index--&gt;
(set: $maxDepth to 2)

&lt;!--VOCAB PREPOSITION MACRO --&gt;
&lt;!--13--&gt;
(set: $prep to (macro: num-type _prepIndex, [
	(set: $attributes to (a: _prepIndex, $altIndex))
	(set: _output to (cond: 
		$attributes matches (a: 1,0), $dugTunnel,
		$attributes matches (a: 1,1), $inTunnel,
		$attributes matches (a: 2,1), &#39;of&#39;,
				&#39;&#39;))
			(output-data: _output)
	]
	))







&lt;!--VOCAB DETERMINER MACRO --&gt;
&lt;!--14--&gt;

		
(set: $det to (macro: num-type _nounIndex, [
	(set: $attributes to (a: _nounIndex, $altIndex))
	(set: _output to (cond: 
		$attributes matches (a: 1,num), &#39;a&#39;,
		$attributes matches (a: 2,num), &#39;the&#39;,
		$attributes matches (a: 3,1), &#39;&#39;,
			&#39;&#39;))
	(output-data: _output)
	]
	))	
		

	
&lt;!--VOCAB NOUN MACRO --&gt;
&lt;!--15--&gt;


(set: $noun to (macro: num-type _nounIndex,[
	(set: $attributes to (a: _nounIndex, $altIndex))
	(set: _output to (cond: 
		$attributes matches (a: 1,0), $tunnel,
		$attributes matches (a: 1,1), $tunnel,
		$attributes matches (a: 2,0), $ground,
		$attributes matches (a: 2,1), &#39;catacombs&#39;,
		$attributes matches (a: 3,1), &#39;Callixtus&#39;,
		&#39;&#39;))
		(output-data: _output)
	]
	))
	
	
	
&lt;!--VOCAB ADJECTIVE MACRO --&gt;
&lt;!--16--&gt;
(set: $adj to (macro: num-type _adjIndex, [
	(set: $attributes to (a: _adjIndex, $altIndex))
	(set: _output to (cond: 
		$attributes matches (a: 1,num), $hot,
		$attributes matches (a: 2,num), $sandy,
		$attributes matches (a: 12,num), $dusty,
		$attributes matches (a: 2,1), $cataKind,
				&#39;&#39;))
		(output-data: _output)
	]
	))	
		

	
&lt;!--VOCAB ADVERB MACRO --&gt;
&lt;!--17--&gt;
(set: $adv to (macro: num-type _advIndex, [
	(set: $attributes to (a: _advIndex, $altIndex))
	(set: _output to (cond: 
		$attributes matches (a: 1,num), $hotAdv,
		&#39;&#39;))
	(output-data: _output)
	]
	))




&lt;!--19--&gt;
(set: $setVocab to (macro: [
	(set: $hotAdv to (either: 
		&#39;sweltering&#39;, &#39;baking&#39;, &#39;searing&#39;, 
		&#39;blazing&#39;, &#39;blistering&#39;, &#39;boiling&#39;, &#39;roasting&#39;))
	(set: $hot to &#39;hot&#39;)
	(set: $ground to (either: 
		&#39;ground&#39;, &#39;earth&#39;, &#39;land&#39;, &#39;soil&#39;, &#39;terrain&#39;))
	(set: $tunnel to (either:
		&#39;tunnel&#39;,&#39;underground passage&#39;))
	(set: $dugTunnel to (either: 
		&#39;dug through&#39;,&#39;bored through&#39;,&#39;excavated from&#39;,
		&#39;quarried from&#39;,&#39;gouged out of&#39;,&#39;burrowed from&#39;))
	(set: $dusty to (either: 
		&#39;dusty&#39;, &#39;gritty&#39;, &#39;crumbly&#39;, &#39;friable&#39;))
	(set: $sandy to (either:
		&#39;sandy&#39;, &#39;sandstone&#39;, &#39;desert&#39;, &#39;dry&#39;))
	(set: $inTunnel to (either: 
		&#39;in&#39;,&#39;somewhere in&#39;,&#39;down in&#39;,&#39;within&#39;,&#39;somewhere within&#39;))
	(set: $cataKind to (either: 
		&#39;Roman&#39;, &#39;Christian&#39;))
	(output-data:&#39;&#39;)
	]
	)
	)
	
(set: $signIntro to &quot;with a sign that says &quot;)
(set: $passageType to &#39;tunnel&#39;)
(set: $doorType to &#39;stairwell&#39;)

(set: $decadeSign to (macro: num-type _input, [
	(set: _output to &quot;&quot; + ($romanDecades: _input) + &quot;&quot;)
	(output-data: _output)
	]
	)
	)

(set: $levelSentence to (macro: [
	(set: $mainSentence to &quot;You are &quot; + ($occupyingP:) + &quot; &quot; + ($NPplus: 1))
	(output-data: $mainSentence)
	]
	)
	)
	
(set: $altLevelSentence to (macro: [
	(set: $mainSentence to &quot;You are at one end of &quot; + ($NPplus: 1))
	(output-data: $mainSentence)
	]
	)
	)
	
	
}

The elevator doors open onto $hundredstring and you [[step out -&gt;main pathType top corner]].

</tw-passagedata><tw-passagedata pid="19" name="$codePage" tags="" position="1435,1121" size="100,100">This is a dummy page generated by the use of a variable for a link. </tw-passagedata><tw-passagedata pid="20" name="1code" tags="" position="1437,1233" size="100,100">{
&lt;!--maxDepth should be set to one less than the highest noun index--&gt;
(set: $maxDepth to 3)

(set: $prep to (macro: num-type _prepIndex, [
	(set: $attributes to (a: _prepIndex, $altIndex))
	(set: _output to (cond: 
		$attributes matches (a: 1,0), &#39;with&#39;,
		$attributes matches (a: 2,0), $setAgainst,
		$attributes matches (a: 3,0), &#39;of&#39;,
		$attributes matches (a: 1,1), &#39;on&#39;,
		$attributes matches (a: 2,1), &#39;in&#39;,
		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $det to (macro: num-type _nounIndex, [
	(set: $attributes to (a: _nounIndex, $altIndex))
	(set: _output to (cond: 		
		$attributes matches (a: 2,0), &#39;&#39;,
		$attributes matches (a: 2,1), &#39;the&#39;,
		$attributes matches (a: 3,0), &#39;the&#39;,
		$attributes matches (a: 4,0), &#39;&#39;,
			&#39;&#39;))
	(output-data: _output)
	]
	))

(set: $noun to (macro: num-type _nounIndex,[
(set: $attributes to (a: _nounIndex, $altIndex))	
	(set: _output to (cond:
		$attributes matches (a: 1,num), $street,
		$attributes matches (a: 2,1), $forum,
		$attributes matches (a: 3,1), $rome,
		$attributes matches (a: 2,0), $stalls,
		$attributes matches (a: 3,0), $insulaeWalls,
		$attributes matches (a: 4,0), $insulae,
		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $adj to (macro: num-type _adjIndex, [
	(set: $attributes to (a: _adjIndex, $altIndex))
	(set: _output to (cond: 		
		$attributes matches (a: 1,num), $market,
		$attributes matches (a: 11,num), $bustling,
		$attributes matches (a: 3,1), $romeMod,
		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $adv to (macro: num-type _advIndex, [
	(output-data: &#39;&#39;)
	]
	))

&lt;!--20--&gt;
(set: $setVocab to (macro: [
	(set: $bustling to (either: 
		&#39;bustling&#39;, &#39;busy&#39;, &#39;crowded&#39;, &#39;teeming&#39;, 
		&#39;thronged&#39;, &#39;buzzing&#39;, &#39;hectic&#39;, &#39;lively&#39;))
	(set: $market to &#39;market&#39;)
	(set: $street to &#39;street&#39;)
	(set: $with to &#39;with&#39;)
	(set: $stalls to (either:
		&#39;stands&#39;, &#39;stalls&#39;, &#39;counters&#39; ))
	(set: $setAgainst to (either:&#39;set against&#39;, &#39;leaning against&#39;, &#39;put up along&#39;, &#39;erected against&#39;,&#39;shoved up against&#39;))
	(set: $insulaeWalls to  (either: &#39;walls&#39;,&#39;sides&#39;))
	(set: $mudBricked to &#39;mud-brick&#39;)
	(set: $squalid to (either: 
		&#39;squalid&#39;, &#39;ugly&#39;, &#39;wretched&#39;, &#39;run down&#39;, &#39;scruffy&#39;, &#39;ramshackle&#39;, &#39;crumbling&#39;))
	(set: $insulae to (either: 
		&#39;insulae&#39;, &#39;tenements&#39;))
	(set: $forum to (either: &#39;forum&#39;, &#39;forum boarium&#39;))
	(set: $in to &#39;in&#39;)
	(set: $romeMod to (either: &#39;ancient&#39;, &#39;central&#39;, &#39;downtown&#39;))
	(set: $rome to &#39;Rome&#39;)
	
	(output-data:&#39;&#39;)
	]
	)
	)
	
(set: $passageType to &#39;street&#39;)
(set: $doorType to &#39;alley&#39;)
}
The elevator doors open onto $hundredstring and you [[step out -&gt;main pathType top corner]].

(set: $levelSentence to (macro: [
	(set: $mainSentence to &quot;You are &quot; + ($occupyingP:) + &quot; &quot; + ($NPplus: 1))
	(output-data: $mainSentence)
	]
	)
	)
	
(set: $altLevelSentence to (macro: [
	(set: $mainSentence to &quot;You are at one end of &quot; + ($NPplus: 1))
	(output-data: $mainSentence)
	]
	)
	)</tw-passagedata><tw-passagedata pid="21" name="2code" tags="" position="1553,1343" size="100,100">{
&lt;!--maxDepth should be set to one less than the highest noun index--&gt;
(set: $maxDepth to 1)

(set: $prep to (macro: num-type _prepIndex, [
	(set: $attributes to (a: _prepIndex, $altIndex))
	(set: _output to (cond: 
		$attributes matches (a: 1,1), &#39;of&#39;,
		$attributes matches (a: 1,0), &#39;near&#39;,
		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $det to (macro: num-type _nounIndex, [
	(set: $attributes to (a: _nounIndex, $altIndex))
	(set: _output to (cond: 		
		$attributes matches (a: 1,0), &#39;a&#39;,
		$attributes matches (a: 1,1), &#39;the&#39;,
		$attributes matches (a: 2,num), &#39;&#39;,
			&#39;&#39;))
	(output-data: _output)
	]
	))

(set: $noun to (macro: num-type _nounIndex,[
(set: $attributes to (a: _nounIndex, $altIndex))	
	(set: _output to (cond:
		$attributes matches (a: 1,0), $garden,
		$attributes matches (a: 1,1), &#39;gardens&#39;,
		$attributes matches (a: 2,0), $rome,
		$attributes matches (a: 2,1), $Lucullus,
		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $adj to (macro: num-type _adjIndex, [
	(set: $attributes to (a: _adjIndex, $altIndex))
	(set: _output to (cond: 		
		$attributes matches (a: 1,num), $gardenMod,
		$attributes matches (a: 11,num), $peaceful,
		$attributes matches (a: 2,0), $romeMod,
		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $adv to (macro: num-type _advIndex, [
	(output-data: &#39;&#39;)
	]
	))

&lt;!--20--&gt;
(set: $setVocab to (macro: [
	(set: $peaceful to (either: 
		&#39;peaceful&#39;, &#39;tranquil&#39;, &#39;serene&#39;, &#39;private&#39;,&#39;restful&#39;, 
		&#39;quiet&#39;))
	(set: $gardenMod to (either: &#39;water&#39;,&#39;Persian&#39;,&#39;fountain&#39;,&#39;water font&#39;,&#39;reservoir&#39;, &#39;Persio-Roman&#39;))
	(set: $garden to &#39;garden&#39;)
	(set: $gardens to &#39;gardens&#39;)
	(set: $Lucullus to (either: &#39;Lucullus&#39;, &#39;Lucius Licinius Lucullus&#39;))
	(set: $romeMod to (either: &#39;ancient&#39;, &#39;the capital of the empire of&#39;))
	(set: $rome to &#39;Rome&#39;)
	(output-data:&#39;&#39;)
	]
	)
	)
	
(set: $passageType to &#39;path&#39;)
(set: $doorType to &#39;gate&#39;)
}
The elevator doors open onto $hundredstring and you [[step out -&gt;main pathType top corner]].</tw-passagedata><tw-passagedata pid="22" name="3code" tags="" position="1438,1345" size="100,100">{
&lt;!--maxDepth should be set to one less than the highest noun index--&gt;
(set: $maxDepth to 2)

(set: $prep to (macro: num-type _prepIndex, [
	(set: $attributes to (a: _prepIndex, $altIndex))
	(set: _output to (cond: 
		$attributes matches (a: 1,1), &#39;of&#39;,
		$attributes matches (a: 1,0), &#39;with&#39;,
		$attributes matches (a: 1,0), $decorated + &#39; with&#39;,
		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $det to (macro: num-type _nounIndex, [
	(set: $attributes to (a: _nounIndex, $altIndex))
	(set: _output to (cond: 		
		$attributes matches (a: 1,0), &#39;a&#39;,
		$attributes matches (a: 1,1), &#39;the&#39;,
		$attributes matches (a: 2,num), &#39;&#39;,
			&#39;&#39;))
	(output-data: _output)
	]
	))

(set: $noun to (macro: num-type _nounIndex,[
(set: $attributes to (a: _nounIndex, $altIndex))	
	(set: _output to (cond:
		$attributes matches (a: 1,num), $villa,
		$attributes matches (a: 2,0), $walls,
		$attributes matches (a: 2,1), $Livia,
		$attributes matches (a: 3,0), $frescoes,
		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $adj to (macro: num-type _adjIndex, [
	(set: $attributes to (a: _adjIndex, $altIndex))
	(set: _output to (cond: 		
		$attributes matches (a: 1,num), $Roman,
		$attributes matches (a: 11,num), $lavish,
		$attributes matches (a: 2,0), $paneled,
		$attributes matches (a: 12,0), $marble,
		$attributes matches (a: 12,0), $expensive,

		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $adv to (macro: num-type _advIndex, [
	(output-data: &#39;&#39;)
	]
	))

&lt;!--20--&gt;
(set: $setVocab to (macro: [
	(set: $decorated to (either: 
		&#39;decorated&#39;, &#39;bedecked&#39;, &#39;ornamented&#39;, &#39;adorned&#39;,&#39;embellished&#39;, 
		&#39;festooned&#39;))
	(set: $villa to (either: &#39;villa&#39;,&#39;house&#39;,&#39;home&#39;,&#39;residence&#39;))
	(set: $walls to &#39;walls&#39;)
	(set: $Livia to &#39;Livia and Augustus&#39;)
	(set: $frescoes to (either: &#39;frescoes&#39;, &#39;mosaics&#39;, &#39;tapestries&#39;,&#39;paintings&#39;,&#39;sculptures&#39;))
	(set: $Roman to (either: &#39;Roman&#39;, &#39;imperial&#39;))
	(set: $lavish to (either: &#39;lavish&#39;, &#39;sumptuous&#39;, &#39;luxurious&#39;, &#39;opulent&#39;, &#39;grand&#39;, &#39;splendid&#39;))
	(set: $paneled to (either: &#39;paneled&#39;, &#39;stuccoed&#39;, &#39;tiled&#39;))
	(set: $marble to (either: &#39;marble&#39;, &#39;ceramic&#39;))
	(set: $expensive to (either: &#39;expensive&#39;, &#39;valuable&#39;, &#39;priceless&#39;))


	(output-data:&#39;&#39;)
	]
	)
	)
	
(set: $passageType to &#39;hallway&#39;)
(set: $doorType to &#39;doorway&#39;)
}
The elevator doors open onto $hundredstring and you [[step out -&gt;main pathType top corner]].</tw-passagedata><tw-passagedata pid="23" name="4code" tags="" position="1326,1343" size="100,100">{
&lt;!--maxDepth should be set to one less than the highest noun index--&gt;
(set: $maxDepth to 3)

(set: $prep to (macro: num-type _prepIndex, [
	(set: $attributes to (a: _prepIndex, $altIndex))
	(set: _output to (cond: 
		$attributes matches (a: 1, num), &#39;through&#39;,
		$attributes matches (a: 2,0), (either: $surrounded + &#39; by&#39;, &#39;standing &#39; + $amid),
		$attributes matches (a: 3,0), &#39;and&#39;,
		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $det to (macro: num-type _nounIndex, [
	(set: $attributes to (a: _nounIndex, $altIndex))
	(set: _output to (cond: 		
		$attributes matches (a: 1,num), &#39;a&#39;,
		$attributes matches (a: 2,num), &#39;the&#39;,
		$attributes matches (a: 3,0), &#39;&#39;,
			&#39;&#39;))
	(output-data: _output)
	]
	))

(set: $noun to (macro: num-type _nounIndex,[
(set: $attributes to (a: _nounIndex, $altIndex))	
	(set: _output to (cond:
		$attributes matches (a: 1,num), &#39;path&#39;,
		$attributes matches (a: 2,0), $ruinsOfACity,
		$attributes matches (a: 2,1), $ruinsOfRome,
		$attributes matches (a: 3,0), $collapsingStructures,
		$attributes matches (a: 4,0), $chunksOfStuff,
		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $adj to (macro: num-type _adjIndex, [
	(set: $attributes to (a: _adjIndex, $altIndex))
	(set: _output to (cond: 		
		$attributes matches (a: 2,num), $crumbling,
		$attributes matches (a: 3,0), $columnar,
		$attributes matches (a: 13,0), $collapsed,
		$attributes matches (a: 4,0), $broken,

		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $adv to (macro: num-type _advIndex, [
	(output-data: &#39;&#39;)
	]
	))


&lt;!--20--&gt;
&lt;!--These settings are included in a macro so that they get set afresh every time the macro is called by the sentence builder. Produces variation.--&gt;  
(set: $setVocab to (macro: [
	(set: $surrounded to (either: 
		&#39;surrounded&#39;, &#39;encircled&#39;, &#39;girdled&#39;))
	(set: $ruins to (either: &#39;ruins&#39;,&#39;ruins&#39;,&#39;remnants&#39;,&#39;remains&#39;,&#39;rubble&#39;,&#39;wreckage&#39;, &#39;desolation&#39;))
	(set: $amid to (either: &#39;amid&#39;, &#39;amidst&#39;,&#39;in the midst of&#39;,&#39;amongst&#39;))
	(set: $city to (either: &#39;city&#39;, &#39;metropolis&#39;))
	(set: $frescoes to (either: &#39;frescoes&#39;, &#39;mosaics&#39;, &#39;tapestries&#39;,&#39;paintings&#39;,&#39;sculptures&#39;))
	(set: $Rome to (either: &#39;Rome&#39;, &#39;Rome&#39;, &#39;Rome&#39;, &#39;the Eternal City&#39;, &#39;the city of Romulus&#39;, &#39;the Caput Mundi&#39;, &#39;the city of the seven hills&#39;))
	(set: $structures to (either: &#39;structures&#39;, &#39;structures&#39;, &#39;buildings&#39;, &#39;edifices&#39;))
	(set: $chunks to (either: &#39;chunks&#39;, &#39;hunks&#39;, &#39;lumps&#39;, &#39;slabs&#39;))
	(set: $crumbling to (either: &#39;crumbling&#39;, &#39;disintegrating&#39;, &#39;collapsing&#39;, &#39;decaying&#39;, &#39;perishing&#39;))
	(set: $cityMod to (either: &#39;ancient&#39;, &#39;once great&#39;, &#39;once glorious&#39;, &#39;sacked&#39;, &#39;beaten&#39;, &#39;vanquished&#39;, &#39;defeated&#39;))
	(set: $columnar to (either: &#39;columnar&#39;, &#39;pillared&#39;, &#39;arched&#39;, &#39;domed&#39;))
	(set: $collapsed to (either: &#39;collapsed&#39;, &#39;caved&#39;, &#39;subsided&#39;, &#39;buckled&#39;, &#39;crumpled&#39;, &#39;slumped&#39;, &#39;saggy&#39;, &#39;crooked&#39;))
	(set: $broken to (either: &#39;broken&#39;, &#39;smashed&#39;, &#39;fragmented&#39;, &#39;splintered&#39;, &#39;crushed&#39;, &#39;pulverised&#39;))
	(set: $material to (either: &#39;marble&#39;, &#39;stone&#39;, &#39;Roman concrete&#39;, &#39;statues&#39;, &#39;buildings&#39;, &#39;wall&#39;, &#39;road&#39;))
	(set: $ruinsOfACity to $ruins + &#39; of a &#39; + ($optional: $cityMod + &#39; &#39;) + $city)
	(set: $ruinsOfRome to $ruins + &#39; of &#39; + $Rome)
	(set: $chunksOfStuff to $chunks + &#39; of &#39; + $material)
	(set: $collapsingStructures to $collapsed + &#39; &#39; + $columnar + &#39; &#39; + $structures)

	(output-data:&#39;&#39;)
	]
	)
	)
	
(set: $passageType to &#39;pathway&#39;)
(set: $doorType to &#39;opening&#39;)
}
The elevator doors open onto $hundredstring and you [[step out -&gt;main pathType top corner]].</tw-passagedata><tw-passagedata pid="24" name="5code" tags="" position="1440,1453" size="100,100">{
&lt;!--maxDepth should be set to one less than the highest noun index--&gt;
(set: $maxDepth to 2)

(set: $prep to (macro: num-type _prepIndex, [
	(set: $attributes to (a: _prepIndex, $altIndex))
	(set: _output to (cond: 
		$attributes matches (a: 1,1), $besetWith,
		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $det to (macro: num-type _nounIndex, [
	(set: $attributes to (a: _nounIndex, $altIndex))
	(set: _output to (cond: 		
		$attributes matches (a: 2,0), &#39;the&#39;,
			&#39;&#39;))
	(output-data: _output)
	]
	))

(set: $noun to (macro: num-type _nounIndex,[
(set: $attributes to (a: _nounIndex, $altIndex))	
	(set: _output to (cond:
		$attributes matches (a: 1,num), $villa,
		$attributes matches (a: 2,0), $walls,
		$attributes matches (a: 2,1), $Livia,
		$attributes matches (a: 3,0), $frescoes,
		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $adj to (macro: num-type _adjIndex, [
	(set: $attributes to (a: _adjIndex, $altIndex))
	(set: _output to (cond: 		
		$attributes matches (a: 1,num), $Roman,
		$attributes matches (a: 11,num), $lavish,
		$attributes matches (a: 2,0), $paneled,
		$attributes matches (a: 12,0), $marble,
		$attributes matches (a: 12,0), $expensive,

		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $adv to (macro: num-type _advIndex, [
	(output-data: &#39;&#39;)
	]
	))

&lt;!--20--&gt;
(set: $setVocab to (macro: [
	(set: $decorated to (either: 
		&#39;decorated&#39;, &#39;bedecked&#39;, &#39;ornamented&#39;, &#39;adorned&#39;,&#39;embellished&#39;, 
		&#39;festooned&#39;))
	(set: $villa to (either: &#39;villa&#39;,&#39;house&#39;,&#39;home&#39;,&#39;residence&#39;))
	(set: $walls to &#39;walls&#39;)
	(set: $Livia to &#39;Livia and Augustus&#39;)
	(set: $frescoes to (either: &#39;frescoes&#39;, &#39;mosaics&#39;, &#39;tapestries&#39;,&#39;paintings&#39;,&#39;sculptures&#39;))
	(set: $Roman to (either: &#39;Roman&#39;, &#39;imperial&#39;))
	(set: $lavish to (either: &#39;lavish&#39;, &#39;sumptuous&#39;, &#39;luxurious&#39;, &#39;opulent&#39;, &#39;grand&#39;, &#39;splendid&#39;))
	(set: $paneled to (either: &#39;paneled&#39;, &#39;stuccoed&#39;, &#39;tiled&#39;))
	(set: $marble to (either: &#39;marble&#39;, &#39;ceramic&#39;))
	(set: $expensive to (either: &#39;expensive&#39;, &#39;valuable&#39;, &#39;priceless&#39;))


	(output-data:&#39;&#39;)
	]
	)
	)
	
(set: $passageType to &#39;road&#39;)
(set: $doorType to &#39;path&#39;)
}
The elevator doors open onto $hundredstring and you [[step out -&gt;main pathType top corner]].</tw-passagedata><tw-passagedata pid="25" name="Set Decade Vocab" tags="startup" position="1326,1119" size="100,100">{
(set: $romanDecades to (macro: num-type _decade, [
	(set: _output to (cond: 
		_decade is 0, &quot;Nulla Decennium&quot;,
		_decade is 1, &quot;Decennium Unum&quot;,
		_decade is 2, &quot;Decennium Duo &quot;,
		_decade is 3, &quot;Decennium Tria &quot;,
		_decade is 4, &quot;Decennium Quatuor&quot;,
	  	_decade is 5, &quot;Decennium Quinque&quot;,
		_decade is 6, &quot;Sex Decennium &quot;,
		_decade is 7, &quot;Decennium Septem&quot;,
		_decade is 8, &quot;Decennium Octo&quot;,
		_decade is 9, &quot;Decennium Novem&quot;,
	&quot;&quot;))
	(output-data: _output)
	]
	)
	)
	
	}</tw-passagedata><tw-passagedata pid="26" name="passageMaker with NLP" tags="startup" position="1936,1011" size="100,100">{


	

(set: $getDirectionWords to (macro: array-type _vector,[
	(set: _through_way to ($elevation: _vector))
	(set: _eW to (cond:
		(1st of _vector) is 1, &quot;east&quot;,
		(1st of _vector) is -1, &quot;west&quot;,
		&quot;&quot;))
	(set: _nS to (cond:
		(2nd of _vector) is 1, &quot;north&quot;,
		(2nd of _vector) is -1, &quot;south&quot;,
		&quot;&quot;))
	(set: _uD to (cond:
		(3rd of _vector) is 1, &quot;up&quot;,
		(3rd of _vector) is -1, &quot;down&quot;,
		&quot;&quot;))
	(set: _conjunctionPhrase to (cond: 
		_through_way is &quot;a stairwell goes &quot;, &quot; and to the &quot;,
		&quot;&quot;))
	(set: _output to &quot;From here, &quot; + _through_way + _uD + _conjunctionPhrase + _nS + _eW)
	(output-data: _output)
	]
	))

&lt;!--from exit vector decides whether apt exit type is ladder, stairwell or passage--&gt;

(set: $elevation to (macro: array-type _vector, [
	(set: _throughway to (cond: 
		(3rd of _vector is 0), 0,
		(1st of _vector is 0) and (2nd of _vector is 0), 1,
		2))
	(set: _output to (cond: 
		_throughway is 0, &quot;a passage goes &quot;,
		_throughway is 1, &quot;a ladder goes &quot;,
		_throughway is 2, &quot;a stairwell goes &quot;,
		&quot;&quot;))
	(output-data: _output)
		]))
		


}



</tw-passagedata><tw-passagedata pid="27" name="vector ops" tags="" position="2103,1024" size="100,100">
	
	(set: $ifEmpty to (macro: array-type _v, [
	(set: _output to (cond: 
		_v&#39;s length is 0, true, 
		false))
	(output-data: _output)
	]
	)
	)

(set: $getFirst to (macro: array-type _v, [
	(set: _x to (cond: 
		_v&#39;s length &gt; 0, _v,
		(a:11)))
	(set: _output to _x&#39;s 1st)
	(output-data: _output)
	]
	)
	)
		
		
	
&lt;!--If either input vector is length 0, it halts the recursion by returning an empty array.
Otherwise it passes the problem to addElements--&gt;

(set: $vectorAdd to (macro: array-type _v1, array-type _v2, [
	(set: array-type _newV1 to (cond:
		_v1&#39;s length &gt; 0, _v1,
		(a:10000)
		)
		)
	(set: array-type _newV2 to (cond:
		_v2&#39;s length &gt;0, _v2,
		(a:10000)
		)
		)	
	(set: array-type _outputV to (cond:
		_newV1&#39;s 1st is 10000, (a:),
		_newV2&#39;s 1st is 10000, (a:),
		($addElements: _newV1, _newV2)
		)
		)		
	(output-data: _outputV)
	]))
	
&lt;!--the following takes two arrays and adds the first elements then passes the remainder to $restAdd (which passes them to $vectorAdd).--&gt;

(set: $addElements to (macro: array-type _v1, array-type _v2, [
	(set: array-type _first to ($1stElementAdd:_v1, _v2))
	(set: num-type _dummy to (cond: 
		_v1&#39;s length &lt; 2, 0,
		_v2&#39;s length &lt; 2, 0,
		1)
	(set: _outputA to (cond: 
		_dummy is 0, (a:),
		($restAdd: _v1, _v2)))
	(set: array-type _outputA to _first + _second)
	(output-data: _outputA)
	]
	))

&lt;!--the following adds the first elements of two vectors. Returns array with sum. --&gt;

(set: $1stElementAdd to (macro: array-type _v1, array-type _v2, [
	(set: _x to (1st of _v1) + (1st of _v2))
	(set: _outputE to (a:_x))
	(output-data: _outputE)
	]
	))

&lt;!--the following chops off the first elements of two vectors, then passes the remainder to $vectorAdd --&gt;

(set: $restAdd to (macro: array-type _v1, array-type _v2, [
	(set: _rest1 to _v1&#39;s 2ndtolast)
	(set: _rest2 to _v2&#39;s 2ndtolast)
	(set: _outputR to ($vectorAdd: _rest1, _rest2))
	(output-data: _outputR)
	]))



($addElements: (a:1) , (a:2))


</tw-passagedata><tw-passagedata pid="28" name="simple vector ops" tags="startup" position="2275,1015" size="100,100">{
	
&lt;!--This is a simple non-general vector addition macro for macros of 3 elements--&gt; 

(set: $vectorAdd3 to (macro: array-type _threeVector, array-type _threevector2, [
	(set: _a to _threeVector&#39;s 1st + _threevector2&#39;s 1st)
	(set: _b to _threeVector&#39;s 2nd + _threevector2&#39;s 2nd)
	(set: _c to _threeVector&#39;s 3rd + _threevector2&#39;s 3rd)
	(set: _output to (a: _a, _b, _c))
	(output-data: _output)
	]
	))
	
&lt;!--This takes a 6 vector and returns the last 3 elements as an array--&gt; 

(set: $lastThree to (macro: array-type _vector6, [
	(output-data: (a: _vector6&#39;s 4th, _vector6&#39;s 5th, _vector6&#39;s 6th))]))

&lt;!--This takes a 6 vector and returns the first 3 elements as an array--&gt; 

(set: $firstThree to (macro: array-type _vector6, [
	(output-data: (a: _vector6&#39;s 1st, _vector6&#39;s 2nd, _vector6&#39;s 3rd))]))
	
	
(set: $getTernaryVector to (macro: [
	(set: _x to ($getTernaryValue:))
	(set: _y to ($getTernaryValue:))
	(set: _z to ($getTernaryValue:))
	(set: _output to (a: _x, _y, _z))
	(output-data: _output)
	]
	))
	

		
&lt;!--the following adds the first elements of two vectors. Returns array with sum. --&gt;

(set: $1stElementAdd to (macro: array-type _v1, array-type _v2, [
	(set: _x to (1st of _v1) + (1st of _v2))
	(set: _outputE to (a:_x))
	(output-data: _outputE)
	]
	))
	

		
&lt;!--takes a 6 long arc vector and creates the opposite directioned arc--&gt;
(set: $oppositeArc to (macro: array-type _arc, [
	(set: 
		_a to -1 * 1st of _arc,
		_b to -1 * 2nd of _arc,
		_c to -1 * 3rd of _arc,
		_d to -1 * 4th of _arc,
		_e to -1 * 5th of _arc,
		_f to -1 * 6th of _arc)
	(set: _x to (a: _a,_b,_c,_d,_e,_f))
	(output-data: _x)
	]))
	
	}


</tw-passagedata><tw-passagedata pid="29" name="xxxx legacy graph builder" tags="" position="2098,905" size="100,100">{
(set: $seedIndex to 1)

(set: $getStableRandom to (macro: [
	(set: _output to (nth: $seedIndex, 5,0,3,4,9,1,8,2,6,7))
	(set: $seedIndex +=1)
	(output-data: _output)]))
	
(set: $unRooms to (a:1,2,3,4,5,6,7,8,9))
(set: $arcs to (a:))
(set: $rootNode to (a: 0,0,0))
(set: $rootRoom to (a: 0,0,0,0))
(set: $nodes to (a:$rootNode))
(set: $rooms to (a:$rootRoom))
	
(set: $generate to (macro: [
	(set: _unRooms to $unRooms) 
	(set: _arcs to $arcs)
	(set: _rootNode to $rootNode)
	(set: _rootRoom to $rootRoom)
	(set: _nodes to $nodes)
	(set: _rooms to $rooms)
	(output:($makeMap: $arcs))
	]
	)
	)
	
(set: $makeMap to (macro: array-type _arcs, array-type _unRooms [
	(if: _unRooms&#39;s length = 0)[
		(output-data: _arcs)]
	(else: [
		(set: _maybeAroom to ($ifRoom:) 
		(set: _newArcs to ($addArc: _arcs, _maybeAroom))
		(output-data: _newArcs)]
		]
		)
		)

		
		
(set: $removeRoom to (macro: [
	(if: $unRooms&#39;s length &gt; 0)[
		(set: _room to ($getUnRoom:))
		(set: _unRooms to $unRooms - (a:_room)) 
		(output-data:_unRooms)	
	]
	(else:) [(output-data: (a:))]
		]
		)
		)


&lt;!--accepts an array of arcs, and a room or empty array, picks a node, adds an arc to another node, --&gt;

(set: $addArc to (macro: array-type _arcs, array-type _maybeAroom, [
		(set: _arc to ($getArc: _arcs))
		(set: _newArc to ($makeArcAndNode: _arc))
		(if:_newArc is not in _arcs)[
			(set: _reverseArc to ($oppositeArc: _newArc))
			(set: $arcs to (a:_newArc) + (a:_reverseArc) + $arcs)]
		(set: _newNode to ($lastThree:_newArc))
		(if: _newNode is not in $nodes) [
			(set:$nodes to (a:_newNode) + $nodes)]
		(if: (a: num, _newNode) is not in $rooms)[
			($ifRoom: _newNode)
			]
		(output-data: $arcs)
			]))

(set: $getArc to (macro: array-type _arcs [
	(set: _x to ($getStableRandom:))
	(set: _newArc to (nth: _x, ..._arcs))
	(output-data: _newArc)
	]))

(set: $getNode to (macro: [
	(set: _x to ($getStableRandom:))
	(set: _newNode to (nth: _x, ...$nodes))
	(output-data: _newNode)
	]))

&lt;!--takes a 6 long arc vector and creates the opposite directioned arc--&gt;
(set: $oppositeArc to (macro: array-type _arc, [
	(set: 
		_a to -1 * 1st of _arc,
		_b to -1 * 2nd of _arc,
		_c to -1 * 3rd of _arc,
		_d to -1 * 4th of _arc,
		_e to -1 * 5th of _arc,
		_f to -1 * 6th of _arc)
	(set: _x to (a: _a,_b,_c,_d,_e,_f))
	(output-data: _x)
	]))
	
&lt;!-- from an original 3 digit node, determines a new 6 digit arc  .--&gt;
(set: $makeArcAndNode to (macro: array-type _branchingNode3, [
	(set: _v to ($getTernaryVector:))
	(set: _newNode to ($vectorAddFor3: _branchingNode3, _v))
	(set: _newArc to _branchingNode3 + _newNode)
	(output-data: _newArc)]))
	

		
&lt;!--sets a stable random value from the range 0, 1.--&gt;
(set: $getBinaryValue to (macro: [
	(set: _x to ($getStableRandom:))
	(set: _output to (cond: 
		_x &lt; 5, 0,
		1))
	(output-data: _output)
		]
		))

&lt;!--half the time, returns a room, the other half, an empty --&gt;
(set: $ifRoom to (macro: array-type _node, [
	(set: _x to ($getBinaryValue:))
	(set: _y to ($getUnRoom:)) 
	(if: _x is 1) [
		(set: $unRooms to $unRooms - (a:_y))
		(set: _newRoom to (a:_y) + _node) 
		(set: $rooms to (a:_newRoom) + $rooms)
		(output-data: _newRoom)]
	(output-data: (a:))]
	))

(set: $getUnRoom to (macro: [
	(set: _x to ($getStableRandom:) +1)
	(set: _room to (nth: _x, ...$unRooms))
	(output-data: _room)
	]
	)
	)

	}
	

</tw-passagedata><tw-passagedata pid="30" name="from greyelf" tags="" position="2401,877" size="100,100">(set: $getFirst to (macro: array-type _v, [
	(if: _v&#39;s length is 0)[
		(output-data: 0)
	]
	(else:)[
		(output-data: _v&#39;s 1st)
	]
]))

($getFirst: (a:))</tw-passagedata><tw-passagedata pid="31" name="tester" tags="" position="2571,788" size="100,100">{
(set: $loci to (a:
	(a: 1, &quot;locus 1&quot;, 1, 1, 1),
	(a: 2, &quot;locus 2&quot;, 0, 1, 0),
	(a: 3, &quot;locus 3&quot;, 1, 1, 0),
	(a: 4, &quot;locus 4&quot;, 0, 1, 1),
	(a: 5, &quot;locus 5&quot;, 4, 0, 1),
	(a: 6, &quot;locus 6&quot;, 1, 1, 1),
	(a: 7, &quot;locus 7&quot;, 0, -1, 0),
	(a: 8, &quot;locus 8&quot;, -1, -1, -1),
	(a: 9, &quot;locus 9&quot;, 1, 2, 1)
	)
	)



(set: $n3 to (a:1,1,1))
(set: $firstElements to (a:))
(set: $counter to 5)
(set: $newLocus to (a:25, &quot;locus 25&quot;, 4,6,1))
}

($getRandomTemplate:)
Current template is $currentTemplate
Debug is $debug
Dug3 is $debug3




</tw-passagedata><tw-passagedata pid="32" name="legacy graph builder 2" tags="" position="1918,859" size="100,100">{
(set: $example to (macro: [
	(if: true)[
		(set: _output to 1)
		(output-data: _output) 
		]
	(else:) [(output-data: 0)]
	]
	)
	)

(set: $grapher to (macro: num-type _counter, array-type _arcs, [
		(if: _counter &gt; 9)[(output-data: _arcs)]
		(else:)[
		(output:) [($incrementer: _counter, _arcs)]
		]
		]
		)
		)

(set: $incrementer to (macro: num-type _counter, array-type _arcs, [
	(set: _newArcs to ($addArc: _arcs))
	(set: _counter += ($getBinaryValue:))
	(output:) [($grapher:_counter,_newArcs)]
		]))

	

(set: $addArc to (macro: array-type _arcs, [
	(set: _arc to ($getArc: _arcs))
	(set: _node to ($firstThree: _arc))
	(set: _vectortoAdd to ($getTernaryVector:))
	(set: _newNode to ($vectorAdd3: _node, _vectortoAdd))
	(set: _newArc to _node + _newNode)
	(set: _newArcs to (a:_newArc) + _arcs)
	(output-data: _newArcs)
	]
	)
	)
	
(set: $getArc to (macro: array-type _arcs, [
	(set: _random to ($getStableRandom:))
	(set: _arc to (nth: _random, ..._arcs))
	(output-data: _arc)
	]
	)
	)

(set: $roomTest to (macro: array-type _arcs, [
	(set: _random to ($getBinaryValue:))
	(if: _random is 1) [
		(set: _newArcs to ($addRoom:_arcs))
		(output-data: _newArcs)
		]
	(else:) [(output-data: _arcs)]
	]
	)
	)
	
	}
	
	
	

</tw-passagedata><tw-passagedata pid="33" name="random value ops" tags="startup" position="2411,1015" size="100,100">{
(set: $seedIndex to 1)
(set: $seedIndex20 to 1)

(set: $getStableRandom to (macro: [
	(set: _output to (nth: $seedIndex, 5,0,3,4,9,1,8,2,6,7))
	(if: $seedIndex &gt; 20) [(set: $seedIndex to 1)]
	(else: [(set: $seedIndex +=1)]
	(output-data: _output)]))
	
(set: $getBinaryValue to (macro: [
	(set: _output to (nth: $seedIndex, 0,1,0,0,1,0,1,0,0,0,1,1,1,0,1,0,0))
	(if: $seedIndex &gt; 20) [(set: $seedIndex to 1)]
	(else: [(set: $seedIndex +=1)]
	(output-data: _output)]))

(set: $getStableRandom20 to (macro: [
	(set: _output to (nth: $seedIndex20, 5,0,3,4,9,1,8,2,6,7,12,14,13,19,15,17,16,18,11))
	(if: $seedIndex &gt; 20) [(set: $seedIndex to 1)]
	(set: $seedIndex20 +=1)
	(output-data: _output)]))

(set: $getRandomLocus to (macro: [
	(set: _output to (nth: $seedIndex20, &quot;5&quot;,&quot;0&quot;,&quot;3&quot;,&quot;4&quot;,&quot;9&quot;,&quot;1&quot;,&quot;8&quot;,&quot;2&quot;,&quot;6&quot;,&quot;7&quot;,&quot;12&quot;,&quot;14&quot;,&quot;13&quot;,&quot;19&quot;,&quot;15&quot;,&quot;17&quot;,&quot;16&quot;,&quot;18&quot;,&quot;11&quot;))
	(set: $seedIndex20 +=1)
	(output-data: _output)]))
	
&lt;!--sets a stable random value from the range -1, 0, 1.--&gt;
&lt;!--0 is slightly more probable.--&gt; 
(set: $getTernaryValue to (macro: [
	(set: _x to ($getStableRandom:))
	(set: _output to (cond: 
		_x &lt; 3, -1,
		_x &lt; 7, 0,
		1))
	(output-data: _output)
		]
		))
		


(set: $makeRootArc to (macro: [
	(set: _from to (a: 0, 0, 0))
	(set: _to to ($getTernaryVector:)) 
	(output-data: _from + _to)]
	))
	
}</tw-passagedata><tw-passagedata pid="34" name="tester 2" tags="" position="2528,907" size="100,100">(set: $loci to (a:
	(a: 1, &quot;locus 1&quot;, 1, 1, 1),
	(a: 2, &quot;locus 2&quot;, 0, 1, 0),
	(a: 3, &quot;locus 3&quot;, 1, 1, 0),
	(a: 4, &quot;locus 4&quot;, 0, 1, 1),
	(a: 5, &quot;locus 5&quot;, 4, 0, 1),
	(a: 6, &quot;locus 6&quot;, 1, 1, 1),
	(a: 7, &quot;locus 7&quot;, 0, -1, 0),
	(a: 8, &quot;locus 8&quot;, -1, -1, -1),
	(a: 9, &quot;locus 9&quot;, 1, 2, 1)
	)
	)
	
(set: $doci to (a:
	(a: 1, &quot;locus 1&quot;, 1, 1, 1),
	(a: 2, &quot;locus 2&quot;, 0, 1, 0),
	)
	)

loci&#39;s first is $loci&#39;s 1st
doci&#39;s first is $doci&#39;s 1st</tw-passagedata><tw-passagedata pid="35" name="trash" tags="" position="2561,1116" size="100,100">(set: $grapher to (macro: num-type _counter, array-type _arcs, [
	(if: _counter &gt; 3)[(output-data: _arcs)]
	(else:)[ 
		(set: _output to ($incrementer: _counter, _arcs))
		(output-data: _output)
		]
		]
		)
		)

(set: $incrementer to (macro: num-type _counter, array-type _arcs, [
	(set: _newArcs to ($addArc: _arcs))
	(set: _counter += ($getBinaryValue:))
	(set: _output to ($grapher:_counter,_newArcs))
	(output-data: _output)]))</tw-passagedata><tw-passagedata pid="36" name="tester 3" tags="" position="2656,903" size="100,100">($getTemplate:)
($buildLoci:)
The loci are $loci
The realLoci are $realLoci
The arcs are $arcs</tw-passagedata><tw-passagedata pid="37" name="legacy room locator" tags="" position="1786,863" size="100,100">(set: $root to [($makeRootArc:)])
(set: $dirtyGraph to [($grapher: 0, (a:$root))])
(set: $dirtyGraphSize to $dirtyGraph&#39;s length) 
(set: $graph to [($cleanGraph: 0, $graph)])
(set: $graphSize to $graph&#39;s length)
(set: $nodeList to [($getNodes: 1, (a:))])


&lt;!--this takes the graph and removes all duplicate arcs--&gt; 
(set: $cleanGraph to (macro: num-type _position, array-type _cleaned, [
	(if: _position &gt; $dirtyGraphSize)[(output-data: _cleaned)]
	(else:) [
		(set: _current to (_position) of $dirtyGraph)
		(if: _current is not in _cleaned)
			[(output:)
				[($cleanGraph: _position +1, _cleaned + (a: _current))
				]
			]
		(else:) [(output:)[($cleanGraph: _position +1, _cleaned)
				]
				]
			]
																		]
		))
	


&lt;!--this takes the cleaned graph and returns all nodes, removing duplicates--&gt; 

(set: $getNodes to (macro: num-type _counter, array-type _nodes [
	(if: _counter &gt; $graphSize) [(output-data: _nodes)]
	(else:) [
		(set: _current to (_counter) of $graph) 
		(if: _current is not in _nodes) 
			[(output:) [($getNodes: _counter, (a:_current) + _nodes)]]
		(else:) [(output:) [($getNodes: _counter, _nodes)]]
			]
			]))
	

&lt;!--this takes the graph and returns a list of three digit &quot;bare&quot; rooms--&gt; 
(set: $roomPicker to (macro: num-type _counter, array-type _arcs, array-type _rooms, [
	(if: _counter &gt; 9)[(output-data:_rooms)]
	(set: _x to $getStableRandom)
	(set: _arc to (nth: _x _arcs))
	(_set: _room to ($firstThree: _arc))
	(if: ($notAlreadyIn: _room _rooms))[
		(set: _rooms to _rooms + (a:_room)) 
		(set: _arcs to _arcs - (a:_arc)) 
		(set: _counter +=1)
		(output:) [($roomPicker: _counter, _arcs, _rooms)]
	(else:) [(output:)[($roomPicker: _counter, _arcs, _rooms)]]
	]
	)
	)


	
&lt;!--this makes the skeleton of the structure, with rooms, --&gt; 
&lt;!--it returns a pair of arrays, the arclist and the roomlist --&gt; 
(set: $makeStructure to (macro: [
	(set: _bareRooms to ($roomPicker: 0, $graph, (a:)))
	(set: _rooms to ($numberRooms: _bareRooms))
	(output-data: (a: _graph, _rooms))
	]
	))



&lt;!--goes through all the nodes and numbers them.--&gt; 
&lt;!--rooms get a number from 0 to 9--&gt;
&lt;!--other nodes get a number larger than 9--&gt;

(set: $assignNumbers to (macro: 
							num-type _RoomNumberToAssign,
							num-type _nonRoomNumberToAssign,
							array-type _arcs, 
							array-type _unexplored,
							array-type _rooms,
							array-type _numberedLoci, [
	(if: length of _unexplored is 0) [(output-data: _numberedLoci)]
	(else:) 
		(set: _currentLocus to 1st of _unexplored)
		(set: _unexplored to 2ndtolast of _unexplored) 
		(set: _newAssignments to (cond: 
			_currentLocus is in _rooms, (a: _RoomNumberToAssign, 1, 0), 
			(a: _nonRoomNumberToAssign, 0, 1)
		)
		(set: _numberToAssign to 1st of _newAssignments)
		(set: _RoomNumberToAssign to _RoomNumberToAssign + 2nd of _newAssignments)
		(set: _nonRoomNumberToAssign to _nonRoomNumberToAssign + 3rd of _newAssignments)		
		(set: _numberedLocus to (a:_numberToAssign) + _currentLocus)
		(set: _numberedLoci to _numberedLoci + _numberedLocus)
		(output:) [($assignNumbers: 
						_RoomNumberToAssign,
						_nonRoomNumberToAssign,
						_arcs,
						_unexplored,
						_rooms,
						_numberedLoci)
		]
		))
						
	
	
	
	if it&#39;s a room, number it with latest number
	findAllExitsFrom it
	add them to the front of _unexplored 
	findpath unexplored
	
	

 

	
	
	
	
	
(set: $makeRooms to (macro: num-type _counter, _roomArcs, </tw-passagedata><tw-passagedata pid="38" name="legacy graph builder 3" tags="" position="1660,868" size="100,100">{
(set: $graph to ($grapherOutput:))

(set: $grapherOutput to (macro: [
	(set: _root to ($makeRootArc:))
	(set: _x to ($grapher: 0, (a:_root)))
	(set: _graph to [($cleanGraph: 0, _x)]) 
	(output-data: _graph)
	]
	))

(set: $grapher to (macro: num-type _counter, array-type _arcs, [
	(if: _counter &gt; 15) [(output-data: _arcs)]
	(else:) [
		(set: _counter +=1)
		(set: _newArc to ($newArc: _arcs))
		(set: _arcs to _arcs + (a:_newArc) + (a: ($oppositeArc:_newArc) )) 
		(output:) [($grapher: _counter, _arcs)]
		]
		]))

&lt;!--this takes the graph and removes all duplicate arcs--&gt; 
(set: $cleanGraph to (macro: array-type _graph, array-type _cleaned,[
	(if: _graph&#39;s length is 0)[(output-data: _cleaned)]
	(else:) [
		(set: _current to 1st of _graph)
		(set: _graph to 2ndtolast of _graph)
		(if: _current is not in _cleaned)
			[(output:)
				[($cleanGraph: _graph, _cleaned + (a: _current))
				]
			]
		(else:) [(output:)[($cleanGraph: _graph, _cleaned)
				]
				]
			]
																		]
		))

(set: $newArc to (macro: array-type _arcs, [
	(set:_random to ($getStableRandom:)+1)
	(set: _arc to (nth: _random, ..._arcs))
	(set: _firstSum to (either: -1, 0, 1))  
	(set: _secondSum to (either: -1, 0, 1))
	(set: _thirdSum to (cond: 
		_firstSum is 0 and _secondSum is 0, (either: -1, 1),
		(either: -1,0,1)))
	(set: _newArc to (a: _arc&#39;s 4th, _arc&#39;s 5th, _arc&#39;s 6th, _arc&#39;s 4th +_firstSum, _arc&#39;s 5th + _secondSum, _arc&#39;s 6th + _thirdSum))
	(output-data: _newArc)]
	))
	
}</tw-passagedata><tw-passagedata pid="39" name="sandbox" tags="" position="1463,820" size="100,100">(set: $printTen to (macro: num-type _counter, string-type _string, [
	(if: _counter &gt; 9) [(output-data: _string)]
	(else:) [
		(set: _counter +=1)
		(set: _string to _string + &quot; ten&quot;) 
		(output:) [($printTen: _counter, _string)]
		]
		]))</tw-passagedata><tw-passagedata pid="40" name="($makeRootArc:)" tags="" position="1672,1013" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="41" name="legacy graph builder 4" tags="" position="2041,770" size="100,100">{


&lt;!--this function takes the current room number and subloci number as input--&gt; 
&lt;!--if subloci have run out, it returns the room number--&gt; 
&lt;!--otherwise it returns either the room number or the subloci number--&gt; 

(set: $assignNumber to (macro: num-type _roomNo, num-type _subLociNo, [
	(if: _subLociNo &gt; 19)[(output-data: _roomNo)]
	(else:) [(output-data: (either: _roomNo, _subLociNo))]]))

&lt;!--this function takes a node and a number to be assigned and returns a labeled node, i.e. a four digit array that begins with a locus number--&gt;
(set: $affixNumber to (macro: num-type _locusNo, array-type _locus, [
	(set: _locus to (a: _locusNo) + _locus)]))


		


(set: $graph to ($grapherOutput:))

(set: $grapherOutput to (macro: [
	(set: _root to ($makeRootArc:))
	(set: _x to ($grapher: 0, (a:_root)))
	(set: _graph to [($cleanGraph: 0, _x)]) 
	(output-data: _graph)
	]
	))

(set: $grapher to (macro: num-type _counter, array-type _arcs, [
	(if: _counter &gt; 15) [(output-data: _arcs)]
	(else:) [
		(set: _counter +=1)
		(set: _newArc to ($newArc: _arcs))
		(set: _arcs to _arcs + (a:_newArc) + (a: ($oppositeArc:_newArc) )) 
		(output:) [($grapher: _counter, _arcs)]
		]
		]))

&lt;!--this takes the graph and removes all duplicate arcs--&gt; 
(set: $cleanGraph to (macro: array-type _graph, array-type _cleaned,[
	(if: _graph&#39;s length is 0)[(output-data: _cleaned)]
	(else:) [
		(set: _current to 1st of _graph)
		(set: _graph to 2ndtolast of _graph)
		(if: _current is not in _cleaned)
			[(output:)
				[($cleanGraph: _graph, _cleaned + (a: _current))
				]
			]
		(else:) [(output:)[($cleanGraph: _graph, _cleaned)
				]
				]
			]
																		]
		))

(set: $newArc to (macro: array-type _arcs, [
	(set:_random to ($getStableRandom:)+1)
	(set: _arc to (nth: _random, ..._arcs))
	(set: _firstSum to (either: -1, 0, 1))  
	(set: _secondSum to (either: -1, 0, 1))
	(set: _thirdSum to (cond: 
		_firstSum is 0 and _secondSum is 0, (either: -1, 1),
		(either: -1,0,1)))
	(set: _newArc to (a: _arc&#39;s 4th, _arc&#39;s 5th, _arc&#39;s 6th, _arc&#39;s 4th +_firstSum, _arc&#39;s 5th + _secondSum, _arc&#39;s 6th + _thirdSum))
	(output-data: _newArc)]
	))
	
}</tw-passagedata><tw-passagedata pid="42" name="graph builder 5" tags="" position="2205,760" size="100,100">&lt;!--In this version the builder creates arcs with eight digits.--&gt; 
&lt;!--The first and fifth digits represent the node number.--&gt;
&lt;!--Rooms get numbers smaller than 10. Subloci get numbers larger than ten. --&gt;
&lt;!--The process is controlled by both numbers.--&gt; 
&lt;!--When Subloci numbers run out, only room numbers are assigned--&gt; 
&lt;!--When room numbers run out, the generation halts, regardless of whether all subLoci numbers are assigned--&gt;
&lt;!--Duplicate arcs are not added.--&gt;
&lt;!--CURRENTLY NO LOOPS IN THE STRUCTURE: fix by testing for whether a new origin has been used as an origin before, and if not then permit (or force) it to have an old destination--&gt;
&lt;!--CURRENTLY NO SYMMETRICAL PATHS--&gt; 
&lt;!--CURRENTLY CONTROL NOT CALLED WITH ROOM NO. INSTANTIATIONS, 0 FOR ROOMS AND 10 FOR SUBLOCI--&gt; 
&lt;!--GRAPH WILL BE USED IN CONJUNCTION WITH 20 ROOM, MAXIMALLY CONNECTED TWINE COMPLEX. EACH ROOM WILL BE ONE LOCUS AND WILL INSTANTIATE ITS CONNECTIONS AND CONNECTION NAMES BY CONSULTING THE GRAPH.--&gt; 
&lt;!--NEEDS DEBUGGING--&gt; 
&lt;!--Each locus number corresponds to one twine passage. Each passage will be titled &quot;locus n&quot;, where n is the corresponding locus number. If there is an arc from passage n to passage m in the graph, there will be corresponding text on the page with a clickable link.--&gt; 
&lt;!--People will be special units that represent themselves. They take you on a guide through their lives.--&gt; 

&lt;!--This is the top control function--&gt;

(set: $grapher to (macro: num-type _roomNo, num-type _subLociNo, array-type _graphSoFar, [
	(if: _roomNo &gt; 9) [(output-data: _graphSoFar)]
	(else:) [
		(set: _number to ($getNodeNumber: _roomNo, _subLociNo))
		(set: _x to ($makeANEWArc:_graphSoFar, _number))
		(set: _graphSoFar to _graphSoFar + (a: _x))
		(if: 1st of _x &lt; 10) [(output:) [($grapher: _roomNo +1, _subLociNo,_graphSoFar)]]
		(else: [(output:) [($grapher: _roomNo, _subLociNo +1,_graphSoFar)]]
		]
		]
		))

&lt;!--takes the graph so far (an array of n8s) and a node number and returns a new arc with that number--&gt;
&lt;!--should be called after having determined node number from room and subloci numbers--&gt;
&lt;!--(if: _destination is 0) might appear to lead to a syntactic loop, but it should just find a different origin (via $getOrigin&#39;s random contribution) after finding there are no arcs to be made from this one. The power theorem should guarantee there are viable origins, and randomness, though inefficient, is warranted given that this scenario will be rare.--&gt;  
(set: $makeANEWArc to (macro: array-type _graphSoFar, num-type _nodeNumber, [
	(set: _origin to ($getOrigin: _graphSoFar))
	(set: _destination to ($pickCoords: (a:_number),_graphSoFar))
	(if: _destination is 0)[(output:)[
		($makeANEWArc: _graphSoFar, _nodeNumber)]]
	(else:) 
		(output-data: _origin + _destination)
		]
		))
		
&lt;!--returns an n4 that is the last four of some arc in the graph--&gt;
(set: $getOrigin to (macro: array-type _graphSoFar, [
	(set: _random to ($getStableRandom:))
	(set: _randomArc to (nth: _random of _graphSoFar))
	(set: _a to 5th of _randomArc, _b to 6th of _randomArc, _c to 7th of _randomArc, _d to 8th of _randomArc)
	(output-data: (a: _a, _b, _c, _d))
	]))
	



&lt;!--takes a group of n8s (a comparison class)  and returns an n4 that differs from them all in the latter four positions--&gt;
&lt;!--checks if comparison class is empty. If so, chooses remaining coordinates randomly. If not, gets smallest comparison class, picks the coordinate to match theirs, and moves to the next.--&gt; 
&lt;!--if there is no way to make a node that differs from the others, returns the empty array--&gt; 
&lt;!--_coordsSoFar should be initialized to have node number in first position--&gt;

(set: $pickCoords to (macro: array-type _coordsSoFar, array-type _n8comparisons, [
	(set: _position to _coordsSoFar&#39;s length +1) 
	(if: _n8comparisons&#39;s length is 0)
		[(output:) [($randomizeRemainders:_coordsSoFar)]]
	(else:) [
		(set: _x to ($adviceArray:_position, _n8comparisons))
		(set: _coordsSoFar to _coordsSoFar + (a:1st of _x), _n8comparisons to 2nd of _x)
		(if: _position is 4)[
			(if: _n8comparisons&#39;s length &gt; 0)[
				(output-data: (a:))]
			(else:) [(output-data: _coordsSoFar)]]
		(else:)[(output:) [($pickCoords: _coordsSoFar, _n8comparisons)]]
		]]))
		
		
&lt;!--takes a partially constructed n4 and randomizes the remaining coordinates--&gt; 

(set: $randomizeRemainders to (macro: array-type _coordsSoFar [
	(set: _position to _coordsSoFar&#39;s length +1)
	(set:_newValue to ($getTernaryValue:))
	(set: _coordsSoFar to _coordsSoFar + (a:_newValue))
	(if: _position is 4)[(output-data:_coordsSoFar)]
	(else:) [
		(output:) [($randomizeRemainders: _coordsSoFar)]
		]]))
	
		
&lt;!--returns an array whose first position is the ternary number least represented in the position, and whose first position is the set of n8s it is represented in--&gt; 
&lt;!--position is changed to position +4 when threeGroups is called, since it is the last thre positions in the n8 that we are interested in --&gt; 

(set: $adviceArray to (macro: num-type _position, num-type _n8comparisons, [
	(set: _threeGroups to ($makeThreeGroups: _position +4, _n8comparisons, (a:(a:),(a:),(a:))))
	(set: _neg1s to _threeGroups&#39;s 1st, _zeroes to _threeGroups&#39;s 2nd, _ones to _threeGroups&#39;s 3rd) 
	(set: _advice to (cond: 
		_negs&#39;s length &lt; _ones&#39;s length and _negs&#39;s length &lt; _zeroes&#39;s length, (a: -1, _neg1s),
		_ones&#39;s length &lt; _zeroes&#39;s length, (a: 1, _ones),
		(a: 0, _zeroes)))
	(output-data:_advice)
	]))
	

	


&lt;!--takes a comparison group of n8s and splits it into three, depending on each n8&#39;s value for the coordinate at _position. The smallest of which will be taken as recommended by the calling function.--&gt; 
&lt;!--proceeds by recursion on the set of n8s.--&gt;
&lt;!--_groupOf3Groups should be initialized as three empty groups--&gt; 
&lt;!--if the comparison class is empty it returns what it has--&gt; 
&lt;!--if not, it recurses through the comparison class, putting each member into one of the three groups--&gt; 

(set: $makeThreeGroups to 
	(macro: num-type _position, array-type _n8s, array-type _groupOf3Groups [
	(if: _n8s&#39;s length is 0)[(output-data: _groupOf3Groups)]
	(else:)[
		(set: _current to 1st of _n8s)
		(set: _groupOf3Groups to ($adjustGroupTally: _position, _current, _groupOf3Groups))
		(if: _n8s&#39;s length is 1)
			[(output-data:_groupOf3Groups)]
		(else:) [		
			[(output:) [($makeThreeGroups: _position, 2ndtolast of _n8s, _groupOf3Groups)]]
		]]]
		))

&lt;!--returns the smallest group, ones beating negs and zeroes beating all in the case of tie--&gt;
(set: $smallest to (macro: array-type _groupOf3Groups, [
		(set: _neg1s to 1st of _groupOf3Groups, _zeroes to 2nd of _groupOf3Groups, _ones to 3rd of _groupOf3Groups)
		(set: _smallest1 to (cond: 
			_neg1s&#39;s length &lt; _ones&#39;s length, _neg1s,
			_ones))
		(set: _smallest to (cond: 
			_smallest1&#39;s length &lt; _zeroes&#39;s length, _smallest1,
			_zeroes))	
		(output-data: _smallest)
		]))
			
		


&lt;!--adds the n8 to the correct group based on value at _position, returns updated groups--&gt; 
(set: $adjustGroupTally to (macro: num-type _position, array-type _n8, array-type _groupOf3Groups,[
	(set: _value to (_position) of _n8)
	(set: _neg1s to 1st of _groupOf3Groups, _zeroes to 2nd of _groupOf3Groups, _ones to 3rd of _groupOf3Groups)
	(set: _newGroups to (cond: 
		_value is -1, (a: _neg1s +(a:_value), _zeroes, _ones),
		_value is 0, (a: _neg1s, _zeroes + (a:_value), _ones),
		(a: _neg1s, _zeroes, _ones + (a:_value)))
		)
	(output-data: _newGroups)
	]
	)
	)
	
	

	


</tw-passagedata><tw-passagedata pid="43" name="legacy minimal tester" tags="" position="2743,791" size="100,100">{

(set: $makeTallyOfEight to (macro: array-type _soFar, [
	(if: _soFar&#39;s length is 8) [(output-data: _soFar)]
	(else:) [
		(output:) [($makeTallyOfEight: _soFar + (a:1))]
		]
		]
		))
&lt;!--success--&gt;
		
(set: $makeTallyOfSeven to (macro: array-type _soFar, [
	(if: _soFar&#39;s length is 7) [(output-data: _soFar)]
	(else:) [
		(set: _xM to ($makeTallyOfSeven: _soFar + (a:1)))
		(print: _xM)
		(output-data:_xM)]
		]
		))
&lt;!--There isn&#39;t a temp variable named _xM in this place.--&gt;
		
(set: $makeTallyOfSix to (macro: array-type _soFar, [
	(if: _soFar&#39;s length is 6) [(output-data: _soFar)]
	(else:) [
		(output:)[($makeTallyOfSix: _soFar + (a:1))]
		]]
		))
&lt;!--success--&gt;
		
(set: $anEightTally to (macro: [
	(set: _y to (a:))
	(set: _x to ($makeTallyOfEight: _y))
	(output-data: _x)
	]
	))
&lt;!--There isn&#39;t a temp variable named _x in this place--&gt;
	
(set: $aSevenTally to (macro: [
	(set: _x7 to ($makeTallyOfSeven: (a:)))
	(output-data: _x7)
	]
	))
&lt;!--There isn&#39;t a temp variable named _x7 in this place.--&gt;

(set: $aSixTally to (macro: [
	(output:)[($makeTallyOfSix:(a:))]
	]
	))
&lt;!--success--&gt;
	
(set: $sixTallyData to (macro: [
	(set: _data to ($makeTallyOfSix:(a:)))
	(output-data: _data)
	]
	))
&lt;!--There isn&#39;t a temp variable named _data in this place.--&gt;
		
(set: $makeArbitraryTally to (macro: num-type _howMany, array-type _soFar, [
	(if: _soFar&#39;s length is _howMany) [(output-data: _soFar)]
	(else:) [
		(output:) [($makeArbitraryTally: _howMany, _soFar + (a:1))]
		]
		]
		))
&lt;!--success--&gt;

		
(set: $makeBunchesOfTallies to (macro: num-type _howMany, array-type _soFar, [
	(if: _soFar&#39;s length is _howMany) [(output-data: _soFar)]
	(else:) [
		(set: _newTally to ($makeTallyOfEight:(a:)))
		(output:) [($makeBunchesOfTallies: _howMany, _soFar + (a:_newTally))]
		]
		]
		))
		&lt;!--There isn&#39;t a temp variable named _howMany in this place.--&gt;
		
(set: $makeHellaTallies to (macro: num-type _howMany, array-type _soFar, [
	(set: $howMany to _howMany)
	(set: $soFar to _soFar)
	(set: $newTally to ($makeTallyOfEight:(a:)))
	(print:_soFar&#39;s length)
	(if: _soFar&#39;s length is $howMany) [(output-data: $soFar)]
	(else:) [
		(output:) [($makeHellaTallies: $howMany, $soFar + (a:$newTally))]
		]
		]
		))
&lt;!--Printing this expression may have trapped me in an infinite loop.--&gt;		
		
(set: $makeLotsOfTallies to (macro: num-type _howMany, array-type _soFar, [
	(if: _soFar&#39;s length is _howMany) [(output-data: _soFar)]
	(else:) [
		(set: _newTally to ($anEightTally:))
		(output:) [($makeLotsOfTallies: _howMany, _soFar + (a:_newTally))]
		]
		]
		))
		
		

(set: $makeLotsa6Tallies to (macro: array-type _soFar, [
	(if: _soFar&#39;s length is $howMany) [(output-data: _soFar)]
	(else:) [
		(output:)[
			(set: $x to ($makeTallyOfSix:(a:)))
			($makeLotsa6Tallies: (a:$x) + _soFar)
		]
		]
		]
		))
		
(set: $shell4sixes to (macro: num-type _howMany, [
	(set: $howMany to _howMany)
	(output:)[($makeLotsa6Tallies: (a:))]
	]
	))

(set: $repeatStructure to (macro: num-type _n, array-type _structureToRepeat, [
	(output:)[($repeatStruct: _n, _structureToRepeat, (a:))]
	]
	))

(set: $repeatStruct to (macro: num-type _n, array-type _structureToRepeat, array-type _thusFar, [
	(if: _n is 0)[(output-data:_thusFar)]
	(else:)[(output:) [($repeatStruct: _n -1, (a:_structureToRepeat) + _thusFar)]]
	]
	))
		

(set: $make6sThenRepeatnTimes to (macro: num-type _n,[
	(set: _x to ($makeTallyOfSix: (a:)))
	(set: _y to ($repeatStructure: _n, (a:_x)))
	(output-data: _y)
	]
	))
	

}

($makeHellaTallies:3,(a:))


</tw-passagedata><tw-passagedata pid="44" name="legacy minimal tester 2" tags="" position="2846,979" size="100,100">(set: $isTrueTrue to
(macro:  [
	(if: true)[(output-data: &quot;yes!&quot;)]
	(output-data: &quot;no!&quot;)
]))

(set: $isTrueTrue2 to
(macro: [
	(text-style: &#39;outline&#39;)[(output-data: &quot;yes!&quot;)]
]))

(set: $isTrueTrue3 to
(macro: [
	(output-data: &quot;yes!&quot;)
]))

(set: $isTrueTrue4 to 
(macro: [
	(set: _x to ($isTrueTrue:))
	(output-data: _x)
	]
	))

(set: $isTrueTrue5 to 
(macro: [
	(set:$x to ($isTrueTrue:))
	(output-data: $x)
	]
	))
	
(set: $isTrueTrue6 to 
(macro: [
	(output:)[($isTrueTrue:)]
	]
	))

(set: $isTrueTrue7 to 
(macro: [
	(output-data:($isTrueTrue:))
	]
	))
	
(set: $truNotInMacro to ($isTrueTrue:))
(set: $isTrueTrue8 to 
(macro: [
	(output-data:$truNotInMacro)
	]
	))

(set: $truNotInMacro to &quot;no&quot;)
(set: $isTrueTrue9 to 
(macro: [
	(set: $truNotInMacro to &#39;yes indeed!&#39;)
	(output-data:$truNotInMacro)
	]
	))


Is True true? (print: ($isTrueTrue:))

Is True true if I remember it globally?
	(set: $tru  to ($isTrueTrue:)) $tru

&lt;!-- the following fails --&gt;
Is True true if I only think of it temporarily?
	(set: _tru  to ($isTrueTrue:)) _tru

&lt;!-- the following fails --&gt;
Is True true inside a hook in a macro?
	(set: _tru  to ($isTrueTrue2:)) _tru

Is True true inside a hook in a macro (globally)?
	(set: $truG  to ($isTrueTrue2:)) $truG

Is True true if I just say &quot;yes&quot; without if/then, even when i&#39;m being temporary about it?
	(set: _truY  to ($isTrueTrue3:)) _truY
	
Can isTrueTrue2 be printed? (print: ($isTrueTrue2:))
Can isTrueTrue3 be printed? (print: ($isTrueTrue3:))

&lt;!-- the following returns [the _x in the $isTrueTrue4 macro call #1 macro] --&gt;
Can isTrueTrue4 be printed? (print: ($isTrueTrue4:))

&lt;!-- the following returns [the $x macro]--&gt;
Can isTrueTrue5 be printed? (print: ($isTrueTrue5:))

&lt;!-- the following returns [a custom command] --&gt;
Can isTrueTrue6 be printed? (print: ($isTrueTrue6:))




&lt;!-- the following fails --&gt;
Is True true when it is a temp variable set to a macro call? 
	(set: $truM to ($isTrueTrue4:)) _truM
	
&lt;!-- the following fails --&gt;
Is True true when it is a global variable set to a macro call? 
	(set: $truMG to ($isTrueTrue5:)) _truMG

&lt;!-- the following fails --&gt;	
Is True true when its macro is called inside output? 
	(set: $truO to ($isTrueTrue6:)) _truO
	
&lt;!-- the following fails --&gt;
&lt;!-- the isTrueTrue7 macros didn&#39;t output any data or hooks using output or output data --&gt;
Is True true when its macro is called inside output-data? 
	(set: $truOD to ($isTrueTrue7:)) _truOD
	
Is True true when it is set to a global from outside the macro, then called by the macro? 
	(set: _truOUTSIDE to ($isTrueTrue8:)) _truOUTSIDE
	
Is True true when the global (set globally) is changed by the macro? 
	(set: _truChange to ($isTrueTrue9:)) _truChange

Is true true after that? 
	_truChange</tw-passagedata><tw-passagedata pid="45" name="graph builder 6" tags="" position="2324,724" size="100,100">&lt;!--This version is designed from the ground up to get around Harlowe&#39;s limitations re passing variables. a datamap is set to represent rooms. Each entry is an array of coordinates, named by locus number. At initiation, the root locus is set with the room number 0 and the coordinates 0, 0, 0. All other arrays are empty at initiation. Macros are then called to populate the arrays with three coordinates.--&gt; 
&lt;!--the structure of the graph is contained in the $arcs variable. An initiation, it contains a path through the rooms (but not all loci). As the process gets underway, macros populate the array with further arcs, which are pairs of loci numbers representing a passage between the corresponding rooms.--&gt; 
&lt;!--The process is driven from the root arc, which finds a partner and links to it via an arc. If the partner has a room number (i.e. less than 10) a tally is added to the rooms variable. The process stops when that tally reaches 10.--&gt; 

(set: $roomsTotal to 0)
(set: $arcs to (a:
(a:&quot;start&quot;,&quot;0&quot;),
(a:&quot;0&quot;,&quot;1&quot;),(a:&quot;1&quot;,&quot;0&quot;),
(a:&quot;1&quot;,&quot;2&quot;),(a:&quot;2&quot;,&quot;1&quot;),
(a:&quot;2&quot;,&quot;3&quot;),(a:&quot;3&quot;,&quot;2&quot;),
(a:&quot;3&quot;,&quot;4&quot;),(a:&quot;4&quot;,&quot;3&quot;),
(a:&quot;4&quot;,&quot;5&quot;),(a:&quot;5&quot;,&quot;4&quot;),
(a:&quot;5&quot;,&quot;6&quot;),(a:&quot;6&quot;,&quot;5&quot;),
(a:&quot;6&quot;,&quot;7&quot;),(a:&quot;7&quot;,&quot;6&quot;),
(a:&quot;7&quot;,&quot;8&quot;),(a:&quot;8&quot;,&quot;7&quot;),
(a:&quot;8&quot;,&quot;9&quot;),(a:&quot;9&quot;,&quot;8&quot;),
(a:&quot;9&quot;,&quot;10&quot;),(a:&quot;10&quot;,&quot;9&quot;),
(a:&quot;10&quot;,&quot;exit&quot;)))
 
(set: $counter to 0)
	
(set: $realLoci to (a:)) &lt;!--array of n3s for checking duplicates--&gt; 
(set: $unrealLoci to $loci)



(set: $getLocusArray to 
(macro: [
	(set: $templateLocusArray to $templateLocusName of $loci)
	(set: $newLocusArray to $newLocusName of $loci)
	(output-data: &quot;&quot;)
	]))

&lt;!--takes a real locus and populates coords on next locus to make it one unit away--&gt;   
(set: $assignCoords to
(macro: [
	($getLocusArray:)
	(set: _coords to $templateLocusArray) 
	(set: _c1 to ($getTernaryValue:) + 2nd of _coords)
	(set: _c2 to ($getTernaryValue:) + 3rd of _coords)
	(set: _c3 to ($getTernaryValue:) + 4th of _coords)
	(set: $n3 to (a: _c1, _c2, _c3))
	(if: $n3 is not in $realLoci)[
		(set: $newLocusArray to $newLocusArray + $n3)
		(set: loci&#39;s $newLocusName to $newLocusArray)
		(set: $templateLocusNo to $templateLocusNo + 1)
		(set: $newLocusNo to $newLocusNo + 1)
		(set: $templateLocusName to &quot;locus &quot; + (str:$templateLocusNo)) 
		(set: $newLocusName to &quot;locus &quot; + (str: $newLocusNo))
		(if: $roomCounter &lt; 10)
			[(set: $roomCounter to $roomCounter + 1)]]
	(output-data: &quot;&quot;)
	]
	)
	)
	
	
(set: $makeArc to 
(macro: [
	(set: _current1 to ($getRandomLocus:))
	(set: _current2 to ($getRandomLocus:))
	(set: $currentArc to (a:_current1,_current2))
	(output-data: (a:))
	]
	)
	)
	
($getLocusArray:)
Current room counter value is $roomCounter. 
The name of the template locus is $templateLocusName.
The name of the new locus is $newLocusName. 
The array of the new locus is $newLocusArray. 
($assignCoords:)
Current room counter value is $roomCounter. 
The name of the template locus is $templateLocusName.
The name of the new locus is $newLocusName. 
The array of the new locus is $newLocusArray.  

</tw-passagedata><tw-passagedata pid="46" name="graph builder 7" tags="startup" position="2442,709" size="100,100">{

&lt;!--SETUP--&gt;
&lt;!--SETUP--&gt; 
&lt;!--SETUP--&gt;
&lt;!--SETUP--&gt; 
&lt;!--SETUP--&gt;

(set: $arcs to (a:
(a:0,1),(a:1,0),
(a:1,2),(a:2,1),
(a:2,3),(a:3,2),
(a:3,4),(a:4,3),
(a:4,5),(a:5,4),
(a:5,6),(a:6,5),
(a:6,7),(a:7,6),
(a:7,8),(a:8,7),
(a:8,9),(a:9,8),
(a:9,10),(a:10,9)))


(set: $loci to (a:
	(a: 0, &quot;locus 0&quot;, 0, 0, 0)
	))
(set: $realLoci to (a:(a:0,0,0)))
(set: $counter to 1)

	


&lt;!--CONTROL--&gt; 
&lt;!--CONTROL--&gt; 
&lt;!--CONTROL--&gt; 
&lt;!--CONTROL--&gt;
&lt;!--CONTROL--&gt; 

&lt;!--A control function that increments the counter--&gt; 
	
&lt;!--Resets currentTemplate to the new counter value, and sets the template number accordingly. TO be used at the beginning of every cycle.--&gt;

(set: $getTemplate to 
(macro: [
	(set: $currentTemplate to $counter of $loci)
	(set: $currentTemplateNo to 1st of $currentTemplate)
	(output-data: &quot;&quot;)
	]))
	
&lt;!--called by     . Resets currentTemplate to a random locus, and sets the template number accordingly.--&gt;
(set: $getRandomTemplate to 
(macro: [
	(set: _random to ($getStableRandom20:) +1)
	(set: $currentTemplate to (nth:_random, ...$loci))
	(set: $currentTemplateNo to 1st of $currentTemplate)
	(output-data: &quot;&quot;)
	]))


		
&lt;!--This is the second level control for building both rooms and subloci. It merely controls the loop, passing off the substance to $expandstructure--&gt;  

(set: $buildLoci to 
(macro: [
	(if: $counter &lt; 10)[($getTemplate:)]
	(else:) [($getRandomTemplate:)]
	($expandStructure:)
	(set: $counter to $counter +1)
	(if: $counter &gt;25)[(error: &quot;Counter has exceeded 25&quot;)]
	(if: $counter &lt; 19) [($buildLoci:)]
	(output-data: &quot;&quot;)
		]
		))

&lt;!--Upper management function is the substantial controller for loci generation. Directs functions to create loci eeven if their space is already taken. Arcs will not be built to such &quot;ghost&quot; loci, however.--&gt;

(set: $expandStructure to 
(macro: [
	($createNaddN3:)
	($createNaddLocus:)
	($addN3toStructure:)
	(if: $counter &lt; 10)[($makeArc:)]
	(else:) [($makeContingentArc:)]
	(output-data: &quot;&quot;)
	]
	))
	

&lt;!--BUILDING ARCS--&gt; 
&lt;!--BUILDING ARCS--&gt; 
&lt;!--BUILDING ARCS--&gt; 
&lt;!--BUILDING ARCS--&gt; 

&lt;!--given the new n3, checks whether something exists already at that location and uses that to decide whether to make an arc from the template to the current occupant or create a new node. Calls the appropriate functions.--&gt; 

(set: $makeContingentArc to 
(macro: [
	(if: $n3 is in $realLoci)[($makeArcToOldNode:)]
	(else:)[($makeArc:)]
	(output-data: &quot;&quot;)
	]))
	
&lt;!--given that the new node already exists, this finds the room at those coordinates and calls getRoomAt to set oldnode to that locus number. then creates an arc from the currentTemplate to it.--&gt; 
(set: $makeArcToOldNode to 
(macro: [
	($getRoomAt:)
	(set: $arcs to $arcs + (a:(a:1st of $currentTemplate, $oldNode)))
	(output-data: &quot;&quot;)
	]
	))
	
(set: $makeArc to 
(macro: [
	(set: $arcs to $arcs + (a: (a: $currentTemplateNo, $counter)))
	(output-data: &quot;&quot;)
	]
	))
	


&lt;!--called by $makeArcToOldNode, sets $oldNode to the number of the room at the n3 coordinates. If there are multiple, returns the least. Hence this returns the room rather than the nonroom. This macro expects a nonempty array, and reports an error if it does not get one. --&gt;

(set: $getRoomAt to 
(macro: [
	(set: _matches to 
		(find: _locus where _locus&#39;s 3rdto5th is $n3, ...$loci))
	(if: _matches&#39;s length is 0)[
		(error: &quot;$getRoomAt has been handed an empty array!&quot;)]
	(if: _matches&#39;s length is 1) [
		(set: _node to 1st of _matches)
		(set: $oldNode to 1st of _node)]
	(else:)[
		(set: _locusNumbers to 
			(altered: _node via 1st of _node,  ..._matches))
		(set: $oldNode to (min:10000,..._locusNumbers))
		(if:$oldNode is 10000) 
			[(error: &quot;$getroom given empty array, or # rooms &gt;10000&quot;)]]
		(output-data: &quot;&quot;)
	]
	))


&lt;!--BUILDING N3s --&gt; 
&lt;!--BUILDING N3s --&gt; 
&lt;!--BUILDING N3s --&gt; 
&lt;!--BUILDING N3s --&gt; 

&lt;!--Middle management function aggregates the creation of the n3 with its addition to the structure--&gt; 

(set: $createNaddN3 to 
(macro: [
	($createN3:)
	($addN3toStructure:)
	(output-data:&quot;&quot;)
	]
	))

&lt;!--takes a template locus and populates coords on next locus to make it one unit away. Calls different coordinate functions depending on whether the locus is a room or a sublocus. The called functions will set the variable $n3. Requires $getTemplate or $getRandomTemplate to have been called.--&gt; 

(set: $createN3 to
(macro: [
	(set: _coords to $currentTemplate) 
	(if: $counter &lt; 10)
		[($getSimpleCoords:)]
	(else:) 
		[($getReturnCoords:)
	]
	(output-data: &quot;&quot;)
	]
	))

&lt;!--simply assigns coordinates at random, such that the new n3 is no more than one step from the template--&gt; 

(set: $getSimpleCoords to 
(macro: [
	(set: _c1 to ($getTernaryValue:) + 3rd of $currentTemplate)
	(set: _c2 to ($getTernaryValue:) + 4th of $currentTemplate)
	(set: _c3 to ($getTernaryValue:) + 5th of $currentTemplate)
	(set: $n3 to (a: _c1, _c2, _c3))
	(output-data:&quot;&quot;)
	]
	))

&lt;!--when it comes to creating subloci, we want them to head back towards the origin of the complex in order to create functional connections between rooms. This function uses currenttemplate to create a node 1 step in the direction of the origin. It is assumed that ($getRandomTemplate:) has already been run.--&gt; 

(set: $getReturnCoords to 
(macro: [
(set: _n3 to (a: $currentTemplate&#39;s 3rd, $currentTemplate&#39;s 4th, $currentTemplate&#39;s 5th))
	(if: $currentTemplate&#39;s 3rd is not a number)[
		(set: _x to (str: $currentTemplate))
		(error: &quot;currentTemplate has wrong format--&gt;look!&quot; + _x)]
	(set: $n3 to (a: 
		($reverseValue: _n3&#39;s 1st) + _n3&#39;s 1st, 
		($reverseValue: _n3&#39;s 2nd) + _n3&#39;s 2nd, 
		($reverseValue: _n3&#39;s 3rd) + _n3&#39;s 3rd))
	(output-data: &quot;&quot;)
	]
	))

&lt;!--Returns -1 if its argument is positive, 1 if negative, and 0 otherwise--&gt; 
(set: $reverseValue to 
(macro: num-type _x, [
	(if: _x is not 0)[(set: _x to -_x/(abs:_x))]
	(output-data: _x)]
	))
	
&lt;!--BUILDING LOCI --&gt; 
&lt;!--BUILDING LOCI --&gt; 
&lt;!--BUILDING LOCI --&gt; 
&lt;!--BUILDING LOCI --&gt; 


(set: $createNaddLocus to 
(macro: [
	($makeLocus:)
	($addLocustoStructure:)
	(output-data: &quot;&quot;)
	]
	))

&lt;!--takes an n3 and forms a locus from it.--&gt;
(set: $makeLocus to 
(macro: [
	(set: $newName to &quot;locus &quot; + (str: $counter))
	(set: $newLocus to (a:$counter, $newName) + $n3)
	(output-data: &quot;&quot;)
	]
	)
	)
	
&lt;!--ADDING UNITS TO STRUCTURE--&gt; 
&lt;!--ADDING UNITS TO STRUCTURE--&gt; 
&lt;!--ADDING UNITS TO STRUCTURE--&gt; 
&lt;!--ADDING UNITS TO STRUCTURE--&gt; 

&lt;!--takes an n3 created by $createN3 and adds it to the realLoci list to keep track of that position being occupied--&gt;
(set: $addN3toStructure to 
(macro: [
	(set: $realLoci to $realLoci + (a:$n3))
	(output-data: &quot;&quot;)
	]
	))
	
&lt;!--takes an newly created locus and adds it to the Loci list --&gt;
(set: $addLocustoStructure to 
(macro: [
	(set: $loci to $loci + (a:$newLocus))
	(output-data: &quot;&quot;)
	]
	))
		

&lt;!--CLEAN UP--&gt; 
&lt;!--CLEAN UP--&gt; 
&lt;!--CLEAN UP--&gt; 
&lt;!--CLEAN UP--&gt; 

&lt;!--removes duplicates--&gt; 
(set: $cleanGraphs to 
(macro: [
	[($cleanLocuses:)
	($cleanArcs:)]
	]
	))

&lt;!--removes duplicates--&gt; 
(set: $cleanLocuses to 
(macro: [
	(set: $cleanLoci to (a:))
	(if: length of $cleanLoci is 0)[(set: $cleanLoci to $cleanLoci + (a:1st of $loci))]
	(if: length of $loci is 1 and 1st of $loci is in $cleanLoci)
		[(set: $loci to $cleanLoci)
		(output-data: &quot;&quot;)]
	(if: 1st of $loci is in $cleanLoci)
		[(set: $loci to 2ndtolast of $loci)
		($cleanLocuses:)]
	(else:) [
		(set: $cleanLoci to $cleanLoci + (a:1st of $loci))
		(set: $loci to 2ndtolast of $loci)
		($cleanLocuses:)]
	(output-data: &quot;&quot;)
		]))

&lt;!--removes duplicates and any loops from locus to itself--&gt; 
(set: $cleanArcs to 
(macro: [
	(set: $cleanConnections to (a:))
	(if: length of $cleanConnections is 0)[(set: $cleanConnections to $cleanConnections + (a: 1st of $arcs))]
	(if: length of $arcs is 1 and 1st of $arcs is in $cleanConnections)
		[(set: $arcs to $cleanConnections)
		(output-data: &quot;&quot;)]
	(if: 1st of $arcs is in $cleanConnections)
		[(set: $arcs to 2ndtolast of $arcs)
		($cleanArcs:)]
	(if: 1st of $arcs matches (a: _n,_n))
		[(set: $arcs to 2ndtolast of $arcs)
		($cleanArcs:)]
	(else:) [
		(set: $cleanConnections to $cleanConnections + (a:1st of $arcs))
		(set: $arcs to 2ndtolast of $arcs)
		($cleanArcs:)]
	(if: 1st of clean arcs loops back to itself, remov it. OR just put a dummy value in at the beginning, then remove it at the end. 
	(output-data: &quot;&quot;)
		]))
	

}
</tw-passagedata><tw-passagedata pid="47" name="bug report" tags="" position="2688,639" size="100,100">~!--set up --&gt; 

{
(set: $loci to (a:
	(a: 1, &quot;locus 1&quot;, 1, 0, 0),
	(a: 2, &quot;locus 2&quot;, 0, 1, 0),
	(a: 3, &quot;locus 3&quot;, 1, 1, 0),
	(a: 4, &quot;locus 4&quot;, 0, 1, 1),
	(a: 5, &quot;locus 5&quot;, 1, 0, 1),
	(a: 6, &quot;locus 6&quot;, 1, 1, 1),
	(a: 7, &quot;locus 7&quot;, 0, -1, 0),
	(a: 8, &quot;locus 8&quot;, -1, -1, -1),
	(a: 9, &quot;locus 9&quot;, 1, 1, 1)
	)
	)

(set: $realLoci to (a:
	(a: 1, 0, 0),
	(a: 0, 1, 0),
	(a: 1, 1, 0),
	(a: 0, 1, 1),
	(a: 1, 0, 1),
	(a: 1, 1, 1),
	(a: 0, -1, 0),
	(a: -1, -1, -1),
	(a: 1, 1, 1)
	)
	)

(set: $n3 to (a:0,1,1))
(set: $firstElements to (a:))

}

($getRandomTemplate:)
$currentTemplate
($getReturnCoords:)
$n3
($getRandomTemplate:)
$currentTemplate
($getReturnCoords:)
$n3
($getRandomTemplate:)
$currentTemplate
($getReturnCoords:)
$n3
($getRandomTemplate:)
$currentTemplate
($getReturnCoords:)
$n3




&lt;!--this produces a bug error when called with assignments--&gt; 

(set: $getReturnCoords to 
(macro: [
	(set: _coords to $currentTemplate)
	(set: _newCoords to (a:, _c1,_c2,_c3))
	(set: $n3 to (altered: _i via (_i+2) of _coords,  ..._newCoords))
	(set: $n3 to (altered: _i via ,  ...$n3))
	(for: each _i, $n3)
		[(set: _p to _i&#39;s pos)
		(set: (_p) of $n3 to (cond: _i is 0, 0, _i - _i/(abs:_i)))]
	(output-data: &quot;&quot;)
	]
	))</tw-passagedata><tw-passagedata pid="48" name="minimal tester" tags="" position="2895,790" size="100,100">(set: $arrayOfArrays to (a: (a:1,2,3),(a:4,5,6)))

The first member of the array of arrays is: (print: $arrayOfArrays&#39;s 1st)</tw-passagedata></tw-storydata>

<tw-storydata name="century template 3.0" startnode="105" creator="Twine" creator-version="2.3.12" ifid="D1018907-0834-4513-AF0A-528482FD1DA9" zoom="0.6" format="Harlowe" format-version="3.2.1" options="" hidden><style role="stylesheet" id="twine-user-stylesheet" type="text/twine-css">.passage img {
    display: block;
    max-width: 100%;
    height: auto;
    margin: 0 auto;
}</style><script role="script" id="twine-user-script" type="text/twine-javascript">window.Harlowe = { 'State' : State };
window.processInputElements = function () {
    $('input[data-varname]').on('change', function () {
        var varName = $(this).attr('data-varname');
        Harlowe.State.variables[varName] = this.value;
        $("tw-story").css("background-size","cover");
        if(Harlowe.State.variables[varName] == 0)
        			{$("tw-story").css("background-image","url(https://th.bing.com/th/id/Rf5fecfd0d9830aab6202cf747bd3ad01?rik=L2W1jbILOWUswA&riu=http%3a%2f%2fak3.picdn.net%2fshutterstock%2fvideos%2f3933461%2fthumb%2f2.jpg&ehk=Jj2vK1CpTF0Tkwwx8bW4RAHwBltP9rnWO4IfZTCfsMY%3d&risl=&pid=ImgRaw)");
        			}
			else if(Harlowe.State.variables[varName] == 1)
        			{$("tw-story").css("background-image","url(https://i.pinimg.com/originals/4f/0b/88/4f0b88df6b723ffda1fb80629884521a.jpg)");
							}
			else if(Harlowe.State.variables[varName] == 2)
        			{$("tw-story").css("background-image","url(https://i.pinimg.com/originals/5b/c7/19/5bc719f84cfc170ff0558702b2c97876.jpg)");
							}
			else if(Harlowe.State.variables[varName] == 3)
        			{$("tw-story").css("background-image","url(https://www.realmofhistory.com/wp-content/uploads/2016/05/3D_Animations_Layout_Roman_Domus_House_1-770x437.jpg)");
							}
						else if(Harlowe.State.variables[varName] == 4)
        			{$("tw-story").css("background-image","url(https://images.fineartamerica.com/images/artworkimages/mediumlarge/1/roman-ruin-architecture-with-predigendem-st-paul-giovanni-paolo-panini.jpg)");
							}
			else if(Harlowe.State.variables[varName] == 5)
        			{$("tw-story").css("background-image","url(https://www.artranked.com/images/24/24079a74065dcd363eff01805c36d6ed.jpg)");
							}
			else if(Harlowe.State.variables[varName] == 6)
        			{$("tw-story").css("background-image","url(https://vignette.wikia.nocookie.net/assassinscreed/images/b/b8/Damascus-depth.jpg/revision/latest?cb=20100918105609)");
							}
			else if(Harlowe.State.variables[varName] == 7)
        			{$("tw-story").css("background-image","url(https://www.ancient-origins.net/sites/default/files/field/image/viking-tar.jpg)");
							}
						else if(Harlowe.State.variables[varName] == 8)
        			{$("tw-story").css("background-image","url(file:///private/var/folders/kl/xdjgclbs2rd7j83lrx2kjygr0000gp/T/6f3dc60b-15c8-438b-b96d-458185d4b829.html)");
							}
				else if(Harlowe.State.variables[varName] == 9)
        			{$("tw-story").css("background-image","url(https://vignette.wikia.nocookie.net/lotrfanon/images/6/6a/Mordor.png/revision/latest?cb=20170724095433)");
							}
			else if(Harlowe.State.variables[varName] == 10)
        			{$("tw-story").css("background-image","url(https://4.bp.blogspot.com/-H7YcbEPiqH4/VbisGV8F-8I/AAAAAAAEtBs/sQETZ8PgdVM/s1600/John%2BMartin%2BTutt%2527Art%2540%2B%252825%2529.jpg)");
							}
			else if(Harlowe.State.variables[varName] == 11)
        			{$("tw-story").css("background-image","url(https://i.pinimg.com/originals/32/d1/2d/32d12d3eb111ccb5065073c181007cc3.jpg)");
							}
			else if(Harlowe.State.variables[varName] == 12)
        			{$("tw-story").css("background-image","url(https://i.pinimg.com/originals/98/82/b2/9882b2685e23b81832d9b8a3258fa65a.jpg)");
							}
			else if(Harlowe.State.variables[varName] == 13)
        			{$("tw-story").css("background-image","url(https://i.pinimg.com/originals/ea/31/23/ea31239d3f7eba975360f044906a3aba.jpg)");
							}		
			else if(Harlowe.State.variables[varName] == 14)
        			{$("tw-story").css("background-image","url(https://i.ytimg.com/vi/2QUYYOXUF4o/maxresdefault.jpg)");
							}	
			else if(Harlowe.State.variables[varName] == 15)
        			{$("tw-story").css("background-image","url(https://upload.wikimedia.org/wikipedia/commons/e/ef/Avvakum_by_Pyotr_Yevgenyevich_Myasoyedov.jpg)");
							}	
			else if(Harlowe.State.variables[varName] == 16)
        			{$("tw-story").css("background-image","url(https://i.postimg.cc/j5Gr8x8r/artwork-fantasy-city-town-digital-river-bridge-boat-medieval-1743259.jpg)");
							}	
			else if(Harlowe.State.variables[varName] == 17)
        			{$("tw-story").css("background-image","url(https://i.postimg.cc/tgkQHd2D/heads-On-Pikes.jpg)");
							}	
			else if(Harlowe.State.variables[varName] == 18)
        			{$("tw-story").css("background-image","url(https://i.pinimg.com/originals/cd/41/30/cd413085d15e1fbf4ef0f18b8ddbcdf1.jpg)");
							}	
			else if(Harlowe.State.variables[varName] == 19)
        			{$("tw-story").css("background-image","url(https://w-dog.pw/android-wallpapers/7/16/532616445160923/art-war-france-saint-lo-street-us-troops-men-uniforms-shop-rifles-m1903a3-and-m1903a4-shots-smoke-ruins-ww2-picture.jpg)");
							}
			else if(Harlowe.State.variables[varName] == 20)
        			{$("tw-story").css("background-image","url(https://cdnb.artstation.com/p/assets/images/images/006/670/547/large/ricardo-garcia-hernanz-proyecto-final-concept-art-definitivo.jpg?1500361155)");
							}
			
					
    });
};

</script><tw-tag name="startup" color="red"></tw-tag><tw-passagedata pid="1" name="top bar pathType" tags="" position="1911,1266" size="100,100">(background:black)[You are ($occupyingP:) a $passageType heading $2Direction $4Direction. ($capitalize: ($appendIndefinite: $doorType)) labeled &quot;Decade 2&quot; exits to the [[$1Direction-&gt;decade two]]. If you do not wish to go this way, you can follow the $passageType to the [[$4Direction-&gt;main pathType top corner]] end, or to the [[$2Direction end-&gt;d1 door]].]
</tw-passagedata><tw-passagedata pid="2" name="main pathType upper" tags="" position="1706,1495" size="100,100">(background:black)[You are ($occupyingP:) ($NPandPrep:1), which heads both [[$1Direction-&gt;main pathType top corner]] and [[$3Direction-&gt;main pathType middle]] from here. If you wish to leave this $passageType, there are a pair of ($plural: $doorType) directly opposite one another, one heading [[$2Direction-&gt;decade three]] and the other heading [[$4Direction-&gt;decade nine]].]</tw-passagedata><tw-passagedata pid="3" name="decade zero" tags="" position="1700,1118" size="100,100">(if: $heading is &quot;Leaving&quot;)[(set: $heading to &quot;South&quot;) You mount the stairs towards the exit to decade zero. At the top is a door. You [[step through it-&gt;main pathType top corner]].]
(else:) [(set: $heading to &quot;South&quot;) You step through the door into decade 0. Steps lead down to the [[entrance chamber-&gt;0 entrance chamber]].]</tw-passagedata><tw-passagedata pid="4" name="decade two" tags="" position="1914,1405" size="100,100">(if: $heading is &quot;out&quot;) [Steps lead up and out of the stable area. You step through a door into the [[central nexus.-&gt;top bar pathType]]]
(else:) [You step through the door into the decade 2 complex. Steps lead down into a [[stable area]].]</tw-passagedata><tw-passagedata pid="5" name="d1 door" tags="" position="2079,1269" size="100,100">(background:black)[You are at the $2Direction end of ($NPandPrep: 1). To the $2Direction, there is [[($appendIndefinite: $doorType)-&gt;decade one]]. If you do not wish to go that way, you may head [[$4Direction along the $passageType-&gt;top bar pathType]].] </tw-passagedata><tw-passagedata pid="6" name="decade nine" tags="" position="1099,1501" size="100,100">You step through the door into the decade 9 complex. You proceed down a $passageType and emerge into a square keep. You entered through [[wall zero-&gt;d9w0]]. To your left and right, respectively, are walls [[one-&gt;d9w1]] and [[two-&gt;d9w2]]. On wall two a ladder leads up to the [[attic-&gt;d9attic]]. Across from you is [[wall three-&gt;d9w3]]. The wall is rounded where wall two meets wall three, and there is a door there that enters into a [[round turret-&gt;d9turret]].  </tw-passagedata><tw-passagedata pid="7" name="decade three" tags="" position="1847,1522" size="100,100">You step through the door into decade 3. </tw-passagedata><tw-passagedata pid="8" name="main pathType middle" tags="" position="1708,1653" size="100,100">(background:black)[You are ($occupyingP:) ($NPandPrep:1), which heads both [[$1Direction-&gt;main pathType upper]] and [[$3Direction-&gt;main pathType lower]] from here. Another $passageType branches off to the $2Direction, [[which you may take-&gt;middle bar pathType]] if you wish.] </tw-passagedata><tw-passagedata pid="9" name="middle bar pathType" tags="" position="1979,1653" size="100,100">(background:black)[You are ($occupyingP:) ($NPandPrep:1), which heads both [[$2Direction-&gt;outside d5]] and [[$4Direction-&gt;main pathType middle]] from here. A $doorType turns off to the [[$1Direction-&gt;decade four]]. A little further to the $2Direction, another $doorType turns off to the [[$3Direction-&gt;decade six]].  ]</tw-passagedata><tw-passagedata pid="10" name="main pathType lower" tags="" position="1700,1813" size="100,100">(background:black)[You are at the $3Direction end of ($NPandPrep:1), at a [[$doorType-&gt;decade eight]]. Opposite the $doorType, the $passageType heads off to the [[$1Direction-&gt;main pathType middle]]. There is a second $doorType here, that heads [[$2Direction-&gt;narthex]]. ]</tw-passagedata><tw-passagedata pid="11" name="decade four" tags="" position="1978,1527" size="100,100">You step through the door into decade 4. </tw-passagedata><tw-passagedata pid="12" name="decade six" tags="" position="1985,1817" size="100,100">You step through the door into decade 6. </tw-passagedata><tw-passagedata pid="13" name="narthex" tags="" position="2110,2028" size="100,100">(if: $direction is &quot;neutral&quot;) [You are in the narthex of a church. To one side is [[wall one-&gt;d7w1]]. In the opposite direction, through an ornate railing, is the [[nave]].]
(else:) [You step through the door into the decade 7 complex. You are in the narthex of a church. You entered through [[wall one-&gt;d7w1]]. If you have no interest in this wall, you can proceed in the opposite direction, where a railing separates the narthex from the [[nave]].]</tw-passagedata><tw-passagedata pid="14" name="decade eight" tags="" position="1700,1963" size="100,100">You step through the door into decade 8. </tw-passagedata><tw-passagedata pid="15" name="outside d5" tags="" position="2135,1650" size="100,100">(background:black)[You are at the $2Direction end of ($NPandPrep:1), which heads [[$4Direction-&gt;middle bar pathType]] from here. Otherwise, the only option is a $doorType that goes from here to the [[$2Direction-&gt;d5r1]].]</tw-passagedata><tw-passagedata pid="16" name="decade one" tags="" position="3211,433" size="100,100">(if: $heading is &quot;down&quot;) [You are at the exit door to the decade one room complex. [[You may step through the door-&gt;d1 door]].] 

(else:) [(set: $heading to &quot;up&quot;) You step through the door into the decade 1 room complex. Steps lead up to [[the entrance chamber-&gt;d1l1]].]</tw-passagedata><tw-passagedata pid="17" name="0 entrance chamber" tags="" position="612,271" size="100,100">(if:$heading is &quot;South&quot;) [You are in a narrow passage. To your right is [[wall 0-&gt;wall 0 zero]], which you can pause to scrutinize. To your left is [[wall 1-&gt;wall 0 one]], which you can also pause to look at. Alternatively, you can [[press forward-&gt;0 T Junction]] into the room complex.] 
(else:) [(set: $heading to &quot;Leaving&quot;) You are in the exit $passageType to the room complex. To your left is [[wall 0-&gt;wall 0 zero]]. To your right is [[wall 1-&gt;wall 0 one]]. You can [[press ahead-&gt;decade zero]] and leave the room complex.]</tw-passagedata><tw-passagedata pid="18" name="0 T Junction" tags="" position="612,133" size="100,100">(if: $heading is &quot;South&quot;) [You are at a T junction. The wall 0 opposite is [[wall 5-&gt;wall 0 5]], which you can pause to look at. Or you can turn right towards a [[square room-&gt;0 square room]], or left towards a [[triangular room-&gt;0 triangular room]].] 
(if: $heading is &quot;East&quot;) [The [[exit to the room complex-&gt;0 entrance chamber]]  branches off to the left, passing between walls 0 and 1. On your right is [[wall 5-&gt;wall 0 five]], which you can scrutinize. Or you can go forward into the [[triangular room-&gt;0 triangular room]].]
(if: $heading is &quot;West&quot;) [The [[exit to the room complex-&gt;0 entrance chamber]]  branches off to the right, passing between walls 0 and 1. On your left is [[wall 5-&gt;wall 0 five]], which you can scrutinize. Or you can go forward into the [[square room-&gt;0 square room]].]</tw-passagedata><tw-passagedata pid="19" name="0 square room" tags="" position="747,139" size="100,100">(set: $heading to &quot;East&quot;) You have entered the corner of a square room. The wall you are entering through is [[wall 6-&gt;wall 0 six]], which stretches off to your left before running into the perpendicular [[wall 7-&gt;wall 0 seven]], which faces you to the left. Opposite you is [[wall 8-&gt;wall 0 eight]]. And coming along your right, forming a wall that runs continuous with the $passageType from which you came, is [[wall 9-&gt;wall 0 nine]]. If you do not wish to pause to examine these walls, you may [[head back into the $passageType behind you-&gt;0 T Junction]].  </tw-passagedata><tw-passagedata pid="20" name="0 triangular room" tags="" position="474,133" size="100,100">(set: $heading to &quot;West&quot;) You are in the ninety degree corner of a room shaped like a right angled triangle. To your left, the wall from the $passageType behind you runs continuously into the room, forming [[wall 2-&gt;wall 0 two]]. Opposite you to the right is the hypotenuse of the triangle, [[wall 3-&gt;wall 0 three]]. Coming up to your right is the third wall, [[wall 4-&gt;wall 0 four]], which is the wall you entered through. If you do not wish to scrutinize these walls, you may [[head back into the $passageType behind you-&gt;0 T Junction]]. </tw-passagedata><tw-passagedata pid="21" name="wall 0 zero" tags="" position="474,261" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="22" name="wall 0 one" tags="" position="742,273" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="23" name="wall 0 six" tags="" position="677,12" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="24" name="wall 0 seven" tags="" position="792,11" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="25" name="wall 0 eight" tags="" position="872,262" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="26" name="wall 0 nine" tags="" position="919,116" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="27" name="wall 0 two" tags="" position="349,259" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="28" name="wall 0 three" tags="" position="341,62" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="29" name="wall 0 four" tags="" position="472,1" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="30" name="wall 0 5" tags="" position="234,191" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="31" name="wall 0 five" tags="" position="1004,261" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="32" name="d1l1" tags="" position="3335,278" size="100,100">(if: $heading is &quot;up&quot;) [You are in the lower courtyard of an ascending split-level chamber. You have emerged through [[wall one-&gt;d1w1]]. To your left and right, respectively, are walls [[two-&gt;d1w2]] and [[three-&gt;d1w3]]. Across from you is [[wall four-&gt;d1w4]], at one side of which a flight of steps [[leads up to the next level-&gt;d1l2]].]
(if: $heading is &quot;down&quot;) [You are in the lower courtyard of an ascending split-level chamber. To your right is [[wall two-&gt;d1w2]] and to your left [[wall three-&gt;d1w3]]. Behind  you is [[wall four-&gt;d1w4]], at one side of which a flight of steps [[leads up to the next level-&gt;d1l2]]. Before you is [[wall one-&gt;d1w1]], to the left of which a [[narrow flight of steps leads down-&gt;decade one]] towards the exit of the room complex.]</tw-passagedata><tw-passagedata pid="33" name="d1w1" tags="" position="3335,404" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="34" name="d1w2" tags="" position="3206,281" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="35" name="d1w3" tags="" position="3465,294" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="36" name="d1w4" tags="" position="3206,143" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="37" name="d1l2" tags="" position="3581,154" size="100,100">(if: $heading is &quot;up&quot;) [You are on the middle level platform of a large split level chamber. Behind you is mostly a sheer drop down into the lower courtyard, with [[just a narrow flight of steps heading down-&gt;d1l1]]. To your left is [[wall five-&gt;d1w5]], to your right [[wall six-&gt;d1w6]], and ahead of you [[wall seven-&gt;d1w7]]. To the side of wall seven is a flight of steps [[leading up to the top level of the chamber-&gt;d1l3]].]
(if: $heading is &quot;down&quot;) [You are on the middle level platform of a large split level chamber. Before you is mostly a sheer drop down into the lower courtyard, with [[just a narrow flight of steps heading down-&gt;d1l1]]. To your right is [[wall five-&gt;d1w5]], to your left [[wall six-&gt;d1w6]], and behind you [[wall seven-&gt;d1w7]]. To the side of wall seven is a flight of steps [[leading up to the top level of the chamber-&gt;d1l3]].]</tw-passagedata><tw-passagedata pid="38" name="d1w5" tags="" position="3580,21" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="39" name="d1w6" tags="" position="3581,298" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="40" name="d1w7" tags="" position="3723,224" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="41" name="d1l3" tags="" position="3856,159" size="100,100">(set: $heading to &quot;down&quot;) You are on the highest platform of a large three level chamber. to your left is [[wall eight-&gt;d1w8]]. To your right [[wall nine-&gt;d1w9]]. And ahead of you is [[wall ten-&gt;d1w10]]. Behind you is a sheer drop to the middle platform of the chamber, to one side of which is [[a flight of steps going down-&gt;d1l2]]. </tw-passagedata><tw-passagedata pid="42" name="d1w8" tags="" position="3855,296" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="43" name="d1w9" tags="" position="3855,22" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="44" name="d1w10" tags="" position="3995,161" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="45" name="d5r1" tags="" position="3380,1598" size="100,100">(set: $position to 1) 
(if: $heading is &quot;clockwise&quot;) [You are heading clockwise around a large pentagonal $passageType. To your left, the outer wall is [[wall 1-&gt;d5w1]]. There is a door in this wall that exits the decade 5 complex. The opposite, inner, wall is [[wall 2-&gt;d5w2]]. You may also [[continue clockwise around the pentagon-&gt;d5r2]].Or [[you might prefer to go in the other direction-&gt;d5reverse]].]
(if: $heading is &quot;counterclockwise&quot;) [You are heading counterclockwise around a large pentagonal $passageType. To your right, the outer wall is [[wall 1-&gt;d5w1]]. There is a door in this wall that exits the decade 5 complex. The opposite, inner, wall is [[wall 2-&gt;d5w2]]. You may also [[continue counterclockwise around the pentagon-&gt;d5r5]].Or [[you might prefer to go in the other direction-&gt;d5reverse]].]
(else:)[(set: $heading to &quot;clockwise&quot;) You are in a $passageType that circles around on itself in the shape of a pentagon. You have entered through [[wall 1-&gt;d5w1]], and opposite you is [[wall 2-&gt;d5w2]]. Turning left, you may [[go clockwise around the pentagon-&gt;d5r2]]. Or [[you might prefer to go in the other direction-&gt;d5reverse]].]</tw-passagedata><tw-passagedata pid="46" name="d5w1" tags="" position="3262,1647" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="47" name="d5w2" tags="" position="3507,1644" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="48" name="d5r2" tags="" position="3439,1449" size="100,100">(set: $position to 2)
(if: $heading is &quot;clockwise&quot;) [You are proceeding clockwise around a large pentagonal $passageType. The outer wall to your left is [[wall 3-&gt;d5w3]]. The inner wall to your right is [[wall 4-&gt;d5w4]]. Or you may [[continue clockwise around the pentagon-&gt;d5r3]]. Or [[you might prefer to go in the other direction-&gt;d5reverse]].]
(if: $heading is &quot;counterclockwise&quot;) [You are proceeding counterclockwise around a large pentagonal $passageType. The outer wall to your right is [[wall 3-&gt;d5w3]]. The inner wall to your left is [[wall 4-&gt;d5w4]]. Or you may [[continue counterclockwise around the pentagon-&gt;d5r1]].Or [[you might prefer to go in the other direction-&gt;d5reverse]].]</tw-passagedata><tw-passagedata pid="49" name="d5r5" tags="" position="3617,1896" size="100,100">(set: $position to 5)
(if: $heading is &quot;clockwise&quot;) [You are proceeding clockwise around a large pentagonal $passageType. The outer wall to your left is [[wall 9-&gt;d5w9]]. The inner wall to your right is [[wall 10-&gt;d5w10]]. Or you may [[continue clockwise around the pentagon-&gt;d5r1]]. Alternatively, you can [[turn around-&gt;d5reverse]].]
(if: $heading is &quot;counterclockwise&quot;) [You are proceeding counterclockwise around a large pentagonal $passageType. The outer wall to your right is [[wall 9-&gt;d5w9]]. The inner wall to your left is [[wall 10-&gt;d5w10]]. You may [[continue counterclockwise around the pentagon-&gt;d5r4]]. Or [[you might prefer to go in the other direction-&gt;d5reverse]].]</tw-passagedata><tw-passagedata pid="50" name="d5w3" tags="" position="3302,1359" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="51" name="d5w4" tags="" position="3564,1524" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="52" name="d5r3" tags="" position="3785,1449" size="100,100">(set: $position to 3)
(if: $heading is &quot;clockwise&quot;) [You are proceeding clockwise around a large pentagonal $passageType. The outer wall to your left is [[wall 5-&gt;d5w5]]. The inner wall to your right is [[wall 6-&gt;d5w6]]. Or you may [[continue clockwise around the pentagon-&gt;d5r4]]. Alternatively, you can [[turn around-&gt;d5reverse]].]
(if: $heading is &quot;counterclockwise&quot;) [You are proceeding counterclockwise around a large pentagonal $passageType. The outer wall to your right is [[wall 5-&gt;d5w5]]. The inner wall to your left is [[wall 6-&gt;d5w6]]. Or you may [[continue counterclockwise around the pentagon-&gt;d5r2]]. Or [[you might prefer to go in the other direction-&gt;d5reverse]].]</tw-passagedata><tw-passagedata pid="53" name="d5r4" tags="" position="3874,1644" size="100,100">(set: $position to 4)
(if: $heading is &quot;clockwise&quot;) [You are proceeding clockwise around a large pentagonal $passageType. The outer wall to your left is [[wall 7-&gt;d5w7]]. The inner wall to your right is [[wall 8-&gt;d5w8]]. Or you may [[continue clockwise around the pentagon-&gt;d5r5]]. Alternatively, you can [[turn around-&gt;d5reverse]].]
(if: $heading is &quot;counterclockwise&quot;) [You are proceeding counterclockwise around a large pentagonal $passageType. The outer wall to your right is [[wall 7-&gt;d5w7]]. The inner wall to your left is [[wall 8-&gt;d5w8]]. Or you may [[continue counterclockwise around the pentagon-&gt;d5r3]]. Or [[you might prefer to go in the other direction-&gt;d5reverse]].]</tw-passagedata><tw-passagedata pid="54" name="d5w5" tags="" position="3915,1309" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="55" name="d5w6" tags="" position="3670,1526" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="56" name="d5w7" tags="" position="3744,1642" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="57" name="d5w8" tags="" position="4000,1646" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="58" name="d5w9" tags="" position="3614,2026" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="59" name="d5w10" tags="" position="3619,1756" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="60" name="d5reverse" tags="" position="3618,1641" size="100,100">(if: $heading is &quot;clockwise&quot;)
	[(set: $heading to &quot;counterclockwise&quot;)
	(if: $position is 1) [(set: $position to 5) You turn and head in the [[opposite direction-&gt;d5r5]].]
	(else:) [(set: $position -= 1) You turn around and head in the [[opposite direction-&gt;d5r$position]].]
	]
(else:)
	[(set: $heading to &quot;clockwise&quot;)
	(if: $position is 5) [(set: $position to 1) You turn and head in the [[opposite direction-&gt;d5r5]].]
	(else:) [(set: $position += 1) You turn around and head in the [[opposite direction-&gt;d5r$position]].]
	]</tw-passagedata><tw-passagedata pid="61" name="d9w0" tags="" position="1277,1541" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="62" name="d9w1" tags="" position="1099,1642" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="63" name="d9w2" tags="" position="1157,1380" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="64" name="d9attic" tags="" position="1042,1169" size="100,100">You are in the attic of the decade nine keep. Wall [[five-&gt;d9w5]] and wall [[seven-&gt;d9w7]] are triangular walls, opposite to one another. [[Wall four-&gt;d9w4]] and [[wall six-&gt;d9w6]] are rectangular roof walls that incline towards one another and meet above your head. If you do not wish to look at any of these walls, a ladder leads down to the [[keep-&gt;decade nine]]. </tw-passagedata><tw-passagedata pid="65" name="d9w3" tags="" position="920,1499" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="66" name="d9turret" tags="" position="752,1264" size="100,100">You are in a round turret, surrounded by [[wall nine-&gt;d9w8]]. A flight of steps curls around the room, [[leading up-&gt;turret battlements]]. </tw-passagedata><tw-passagedata pid="67" name="d9w5" tags="" position="910,1170" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="68" name="d9w7" tags="" position="1169,1169" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="69" name="d9w6" tags="" position="1004,1295" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="70" name="d9w8" tags="" position="761,1105" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="71" name="d9w9" tags="" position="620,1049" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="72" name="turret battlements" tags="" position="607,1187" size="100,100">You are on the turret battlements. [[Wall nine-&gt;d9w9]] is the circular parapet that surrounds you, punctuated by embrasures. If you do not wish to scrutinize your surroundings any further, you can descend to the [[turret-&gt;d9turret]]. </tw-passagedata><tw-passagedata pid="73" name="d9w4" tags="" position="1039,1029" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="74" name="d7w0" tags="" position="2702,2011" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="75" name="d7w1" tags="" position="1972,2024" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="76" name="d7w2" tags="" position="2109,1901" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="77" name="church&#39;s crossing" tags="" position="2379,2011" size="100,100">You are at the church&#39;s crossing. Ahead of you is a hemispheric apse and [[altar]]. To your left is the [[Epistle transept]]. To your right is the [[Gospel transept]]. Or you can return to the [[nave-&gt;nave]]. </tw-passagedata><tw-passagedata pid="78" name="altar" tags="" position="2559,2012" size="100,100">You are in the apse of the church, by the altar. On one side of you, down the apse steps, the apse opens up to the main area of the church. If you wish to go this way, you can head down the steps to the [[church&#39;s crossing]]. On the other side, the apse is bounded by a single half dome wall. This is [[wall zero-&gt;d7w0]]. </tw-passagedata><tw-passagedata pid="79" name="Epistle transept" tags="" position="2392,2166" size="100,100">You are in the Epistle transept to the right of the church. There are three walls here. Proceeding clockwise, they are [[Wall seven-&gt;d7w7]], [[wall eight-&gt;d7w8]] and [[wall nine-&gt;d7w9]]. Or you can return to the [[church&#39;s crossing]]. </tw-passagedata><tw-passagedata pid="80" name="Gospel transept" tags="" position="2380,1876" size="100,100">You are in the Epistle transept to the left of the church. There are three walls here. Proceeding clockwise, they are [[Wall four-&gt;d7w4]], [[wall five-&gt;d7w5]] and [[wall six-&gt;d7w6]]. Or you can return to the [[church&#39;s crossing]]. </tw-passagedata><tw-passagedata pid="81" name="d7w3" tags="" position="2115,2159" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="82" name="d7w4" tags="" position="2260,1879" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="83" name="d7w5" tags="" position="2368,1744" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="84" name="d7w6" tags="" position="2505,1874" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="85" name="d7w7" tags="" position="2534,2159" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="86" name="d7w8" tags="" position="2397,2298" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="87" name="d7w9" tags="" position="2262,2167" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="88" name="nave" tags="" position="2250,2019" size="100,100">You are in the nave of a church. To the sides of the nave are walls [[two-&gt;d7w2]] and [[three-&gt;d7w3]].] You can go towards the front of the church by heading for the [[church&#39;s crossing]], or to the rear by heading towards the [[narthex]]. </tw-passagedata><tw-passagedata pid="89" name="stable area" tags="" position="2589,1328" size="100,100">(set: $heading to &quot;out&quot;) You are in a stable area. On three sides of the stable are walls [[zero-&gt;d2w0]], through which a door leads back to the [[complex entrance-&gt;decade two]], as well as walls [[one-&gt;d2w1]] and [[two-&gt;d2w2]], which are opposite one another. On the fourth side, opposite wall zero, are the [[first-&gt;stall1]], [[second-&gt;stall2]] and [[third-&gt;stall3]] stalls. </tw-passagedata><tw-passagedata pid="90" name="d2w0" tags="" position="2404,1389" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="91" name="d2w1" tags="" position="2539,1478" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="92" name="d2w2" tags="" position="2583,954" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="93" name="stall1" tags="" position="2741,962" size="100,100">You are in the first open stall in the stable area. To your left, the end of wall one forms one side of the stall, but you can get a better view of the whole wall by stepping back into the main [[stable area]]. In front of you is [[wall three-&gt;d2w3]] and to your right is [[wall four-&gt;d2w4]]. </tw-passagedata><tw-passagedata pid="94" name="stall2" tags="" position="2748,1318" size="100,100">You are in the central open stall in the stable area. Behind you is the main [[stable area]]. The three walls enclosing the open stall are walls [[five-&gt;d2w5]] to your left, [[six-&gt;d2w6]] right ahead and [[seven-&gt;d2w7]] to your right. </tw-passagedata><tw-passagedata pid="95" name="stall3" tags="" position="2763,1686" size="100,100">You are in the third open stall in the stable area. The end of wall two forms the right hand side of the stall, but you can get a better view of the whole wall by stepping back into the main [[stable area]]. [[Wall nine-&gt;d2w9]] is in front of you and [[wall ten-&gt;d2w10]] is to your left. </tw-passagedata><tw-passagedata pid="96" name="d2w3" tags="" position="2858,961" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="97" name="d2w4" tags="" position="2739,1082" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="98" name="d2w9" tags="" position="2774,1561" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="99" name="d2w10" tags="" position="2884,1684" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="100" name="d2w5" tags="" position="2743,1198" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="101" name="d2w6" tags="" position="2876,1319" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="102" name="d2w7" tags="" position="2754,1436" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="103" name="Legacy elevator" tags="" position="1259,1958" size="100,100">{
&lt;!-- DEFAULT VARIABLE SETTINGS TO RESET ON RETURN TO ELEVATOR--&gt; 
(set: $wind to &quot;&quot;)
(set: $determiner to &quot;&quot;)
(set: $weather to &quot;WARNING UNCHANGED WEATHER&quot;)&lt;!-- ERROR CHECK--&gt; 
(set: $environment to &quot;WARNING UNCHANGED ENVIRON&quot;)&lt;!-- ERROR CHECK--&gt;
(set: $light to &quot;&quot;)
(set: $passagePrep to &quot;of&quot;)
(set: $passageMaterial to &quot;brick&quot;) 
(set: $buildingPrep to &quot;&quot;)
(set: $adornedWith to &quot;&quot;)
(set: $madeOf to &quot;&quot;)
(set: $passageAdjective to &quot;&quot;)

(set: $external to (a: 0, 2, 4, 6, 8, 10, 12, 14, 16, 18, 20,))
(set: $antiquity to (a:0,1,2,3,4,))

&lt;!-- PERIOD SETTINGS--&gt;
(set: $antiquity to (a:0,1,2,3,4,))
(set: $earlyMid to (a:5,6,7,8,9,))
(set: $highMid to (a:10,11,12,))
(set: $lateMid to (a:13,14,15,))
(set: $earlyMod to (a:16,17,))
(set: $lateMod to (a: 18))
(set: $postMod to (a: 19))
(set: $contemporary to (a:20))

&lt;!-- WEATHER SETTINGS--&gt;
(set: $hot to (a:0,1,2,3,9,10,11,12,20,))
(set: $cold to (a: 5, 6, 7, 14,15,16,17,18,))
(set: $autumnal to (a: 4, 8, 13, 19,))
(set: $stormy to (a: 4, 15, 17, 20,))


&lt;!-- LIGHT SETTINGS--&gt;
(set: $ordinaryLight to (a: 3,11,12,13,14,15,18,))
(set: $bright to (a:0,1,2,16,17,))
(set: $twilight to (a:5,11,20,))
(set: $sunChange to (a: 4,10,19,))

&lt;!-- PHYSICAL ENVIRONMENT SETTINGS--&gt;
(set: $catacombs to (a:0,))
(set: $swamp to (a: 8))
(set: $urban to (a: 1, 6, 9, 10, 13, 15, 18, 19,))
(set: $ruins to (a: 5, 20,))
(set: $garden to (a: 2, 17,))
(set: $woods to (a: 4, 11))
(set: $palace to (a: 3, 17 ))
(set: $mines to (a: ))
(set: $castle to (a: 7, 12))
(set: $docks to (a: 14)) 



&lt;!--ELEVATOR PROMPT--&gt;

(set: $floorString to (prompt: &quot;You are in an elevator in the central nexus. Choose a floor between 0 and 20&quot;, &quot;0&quot;))
(if:$floorInt &lt; 0 or $floorInt &gt;20) 
	[You must enter a number between 0 and 20. [[Start over-&gt;Legacy elevator]]]
	
(else:) [(set: $floorInt to (num:$floorString))]


&lt;!--SET WEATHER--&gt;
(if: $autumnal contains $floorInt)[(set: $weather to &quot;autumnal&quot;, $weathercast to &quot; leaves, all brown and amber, have gathered on the ground&quot;)] 
(if: $hot contains $floorInt)[(set: $weather to &quot;hot and sticky&quot;, $weathercast to &quot; flies buzz in the heat&quot;)]
(if: $cold contains $floorInt)[(set: $weather to &quot;icy cold&quot;, $weathercast to &quot; air is so frigid it stings your lungs&quot;)]
&lt;!--WIND--&gt;
(set: $wind to &quot;the air is ominously still&quot;)
(if: $stormy contains ($floorInt+2)) [(set: $wind to &quot;a light breeze blows&quot;)]
	(if: $stormy contains ($floorInt+1)) [(set: $wind to &quot;a blustery wind blows&quot;)]
	(if: $stormy contains ($floorInt)) [(set: $wind to &quot;a howling wind blows&quot;)]
	

&lt;!--SET LIGHT--&gt;
(if: $earlyMid contains $floorInt)[(set: $light to &quot;the darkness of &quot;)]
(if: $sunChange contains $floorInt) [(set: $light to &quot;the red and gold of  &quot;)]
(if: $twilight contains $floorInt) [(set: $light to &quot;the twilight of &quot;)]
(if: $bright contains $floorInt)[(set: $light to &quot;the brilliance of &quot;)]
(if: $ordinaryLight contains $floorInt)[(set: $light to &quot;the sights and sounds of &quot;)]

&lt;!--SET TIME--&gt;
(if: $floorInt is 18 or $antiquity contains $floorInt) [(set: $time to &quot;late afternoon&quot;)]
(if: $floorInt is 10) [(set: $time to &quot;dawn&quot;)] 
(if: $earlyMid contains $floorInt)[(set: $time to &quot;night&quot;)]
(if: $floorInt is 5) [(set: $time to &quot;late evening&quot;)] 
(if: $highMid contains $floorInt)[(set: $time to &quot;morning&quot;)]
(if: $lateMid contains $floorInt) [(set: $time to &quot;noon&quot;)]
(if: $earlyMod contains $floorInt) [(set: $time to &quot;early afternoon&quot;)]
(if: $floorInt is 4 or $floorInt is 19) [(set: $time to &quot;sunset&quot;)]
(if: $floorInt is 20) [(set: $time to &quot;evening&quot;)]


&lt;!--SET PHYSICAL FEATURES--&gt;
&lt;!--SET BUILDINGMATERIALS--&gt;
(if: $antiquity contains $floorInt) [(set: $buildingMaterials to &quot;stone pillars and clay brick&quot;, $passageAdjective to &quot;elegant&quot;)]
(if: $earlyMid contains $floorInt) [(set: $buildingMaterials to &quot;wood and packed mud&quot;)]
(if: $floorInt is 5) [(set: $buildingMaterials to &quot;stone pillars and clay brick&quot;)]
(if: $highMid contains $floorInt) [(set: $buildingMaterials to &quot;iron and stone&quot;)]
(if: $lateMid contains $floorInt) [(set: $buildingMaterials to &quot;wattle and daub&quot;)]
(if: $earlyMod contains $floorInt) [(set: $buildingMaterials to &quot;timber and stone&quot;)]
(if: $lateMod contains $floorInt) [(set: $buildingMaterials to &quot;soot blackened brick&quot;)]
(if: $postMod contains $floorInt) [(set: $buildingMaterials to &quot;concrete and brick&quot;)]
(if: $contemporary contains $floorInt) [(set: $buildingMaterials to &quot;concrete and steel&quot;)]
(if: $palace contains $floorInt) [(set: $buildingMaterials to &quot;paintings and statues&quot;)]

(if: $floorInt is 20) [(set: $buildingMaterials to &quot;rubbled stone&quot;)]



&lt;!--SET PASSAGE TYPE--&gt;
(if: $urban contains $floorInt)[(set: $complexType to &quot;quarter&quot;, $portalType to &quot;door &quot;, $portalTypes to &quot;doors&quot;,$passageType to &quot; alley&quot;, $passageTypes to &quot; alleys&quot;, $altPassageType to &quot;street&quot;, $altPassageTypes to &quot;streets&quot;, $passagePrep to &quot;between&quot;, $passageMaterial to &quot;buildings&quot;, $madeOf to &quot;made of&quot;, $environment to &quot;outdoors&quot;)] 
(if: $garden contains $floorInt)[(set: $complexType to &quot;enclosure&quot;, $portalType to &quot;gate&quot;, $portalTypes to &quot;gates&quot;,$passageType to &quot; path&quot;, $passageTypes to &quot; paths&quot;, $passagePrep to &quot;between&quot;, $passageMaterial to &quot;neatly trimmed hedgerows&quot;, $environment to &quot;outdoors&quot;)] 
(if: $woods contains $floorInt)[(set: $complexType to &quot;forest&quot;, $portalType to &quot;opening &quot;, $portalTypes to &quot;openings &quot;, $passageType to &quot; path&quot;, $passageTypes to &quot; paths&quot;, $passagePrep to &quot;through the&quot;, $passageMaterial to &quot;trees&quot;, $environment to &quot;outdoors&quot;)] 
(if: $swamp contains $floorInt)[(set: $complexType to &quot;barrow&quot;, $portalType to &quot;opening &quot;, $portalTypes to &quot;openings &quot;,$passageType to &quot;waterlogged path&quot;, $passageTypes to &quot; waterlogged paths&quot;, $passagePrep to &quot;through the&quot;, $passageMaterial to &quot;dense reeds&quot;, $environment to &quot;outdoors&quot;)] 
(if: $palace contains $floorInt)[(set: $complexType to &quot;wing&quot;, $portalType to &quot;ornate door&quot;, $portalTypes to &quot;ornate doors&quot;,$passageType to &quot;marble tiled corridor&quot;, $passageTypes to &quot; marble tiled corridors&quot;, $passagePrep to &quot;through&quot;, $passageMaterial to &quot;arches&quot;, $madeOf to &quot;adorned with&quot;, $passageAdjective to &quot;elegant&quot;, $environment to &quot;indoors&quot;)] 
(if: $mines contains $floorInt)[(set: $complexType to &quot;lode&quot;, $portalType to &quot;door jamb&quot;, $portalTypes to &quot;door jambs&quot;, $passageType to &quot;tunnel held up by wooden supports&quot;, $passageTypes to &quot; narrow mined tunnels&quot;, $passagePrep to &quot;through&quot;, $passageMaterial to &quot; rock&quot;, $environment to &quot;indoors&quot;)] 
(if: $catacombs contains $floorInt)[(set: $complexType to &quot;nexus&quot;, $portalType to &quot;door jamb&quot;, $portalTypes to &quot;door jambs&quot;, $passageType to &quot; tunnel&quot;, $passageTypes to &quot; tunnels&quot;, $passagePrep to &quot;through&quot;, $passageMaterial to &quot; sandstone&quot;, $environment to &quot;indoors&quot;)] 
(if: $castle contains $floorInt)[(set: $complexType to &quot;gatehouse&quot;, $portalType to &quot;iron door&quot;, $portalTypes to &quot;iron doors&quot;,$passageType to &quot; passage&quot;, $passageTypes to &quot; passages&quot;, $passagePrep to &quot;of&quot;, $passageMaterial to &quot; stone brick&quot;, $environment to &quot;indoors&quot;)] 
(if: $ruins contains $floorInt)[(set: $complexType to &quot;desolation&quot;, $portalType to &quot;damaged opening&quot;, $portalTypes to &quot;openings&quot;, $passageType to &quot; rubbled street&quot;, $passageTypes to &quot; rubbled streets&quot;, $passagePrep to &quot;of&quot;, $passageAdjective to &quot; crumbling &quot;,$passageMaterial to &quot;buildings&quot;,$madeOf to &quot; of&quot;, $environment to &quot;outdoors&quot;)] 
(if: $docks contains $floorInt)[(set: $complexType to &quot;ship&quot;, $portalType to &quot;gang plank&quot;, $portalTypes to &quot;gang planks&quot;,$passageType to &quot; jetty&quot;, $passageTypes to &quot; jetties&quot;, $altPassageType to &quot;wharf&quot;, $altPassageTypes to &quot; wharfs&quot;, $passagePrep to &quot;between&quot;, $passageMaterial to &quot;ships&quot;, $madeOf to &quot;&quot;, $environment to &quot;outdoors&quot;)] 





&lt;!--SET INTERNAL/EXTERNAL LANGUAGE--&gt;
(if: $environment is &quot;outdoors&quot;)[(set: $determiner to &quot;The&quot;)]
	(else:) [(set: $determiner to &quot;Beyond these walls, the &quot;)]
	

	

&lt;!--SET BACKGROUND--&gt;
var: $floorInt
var: &lt;script&gt;CustomScripts.updateBackground.State.variables[&#39;var&#39;];&lt;/script&gt;
	
	
&lt;!--MAIN TEXT--&gt;
	The elevator doors open onto floor $floorString. (set: $heading to &quot;East&quot;) You step out of the elevator to find yourself at a [[junction-&gt;main pathType top corner]] of two $passageTypes $passagePrep $passageMaterial
$madeOf $passageAdjective $buildingMaterials. $determiner world is bathed in $light $time, and the $weathercast. The weather is $weather and  {
	(if: $wind is not &quot;&quot;) [ 
		(if: $environment is &quot;indoors&quot;)[(set: $determiner to &quot;outside&quot;)] (else:) [(set: $determiner to &quot;&quot;)]
		]
	}
	$wind $determiner.

}</tw-passagedata><tw-passagedata pid="104" name="Untitled Passage" tags="" position="2098,1516" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="105" name="Elevator" tags="" position="1554,1116" size="100,100">

You are in an elevator. The dial permits you to choose any floor from 0 through 20. Please input the floor you desire.  
&lt;input type=&quot;text&quot; data-varname=&quot;floorString&quot;&gt;
&lt;script&gt;processInputElements();&lt;/script&gt;
(link-goto: &quot;Done&quot;)
</tw-passagedata><tw-passagedata pid="106" name="Legacy Done" tags="" position="1370,2027" size="100,100">
{
(set: $fixDirection to 
	(macro: num-type _directionNum, 
	[
	(set: $mainDirection to (cond: _directionNum is 0,&#39;North&#39;, _directionNum is 1, &#39;East&#39;,_directionNum is 2, &#39;South&#39;,_directionNum is 3, &#39;West&#39;,&#39;fail&#39;))
	(if: $mainDirection is &#39;fail&#39;)[(set: $mainDirection to ($fixDirection:_directionNum - 4))]
	(output-data: $mainDirection)
	]
	)
)

(set: $floorInt to (num:$floorString))


&lt;!-- takes a floorint as input, sets just those globals required for that level, returns empty text. rationale: causes the variables to be reinstantiated at every passage to improve variation + helps debugging --&gt;

(set: $fixVariables to (macro: num-type _floorInt, [
	(if: _floorInt is 0)[
	  (set: $hotAdv to (either: &#39;sweltering&#39;,&#39;baking&#39;,&#39;searing&#39;,&#39;blazing&#39;,&#39;blistering&#39;,&#39;boiling&#39;,&#39;roasting&#39;))
	  (set: $hot to (either: &#39;hot&#39;, (joined: &quot; &quot;, $hotAdv, &#39;hot&#39;)))
	  (set: $ground to (either: &#39;ground&#39;, &#39;earth&#39;, &#39;land&#39;, &#39;soil&#39;, &#39;terrain&#39;))

	  (set: $dugTunnel to (either: &#39;dug through the&#39;,&#39;bored through the&#39;,&#39;excavated from the&#39;,&#39;quarried from the&#39;,&#39;gouged out of the&#39;,&#39;burrowed from the&#39;))
	  (set: $lev0Adj to &#39; &#39; + $hot + &#39; &#39;)
	  (set: $lev0WallAdj1 to (either: &#39;dusty&#39;, &#39;gritty&#39;, &#39;crumbly&#39;, &#39;friable&#39;))
	  (set: $lev0WallAdj2 to (either: &#39;sandy&#39;, &#39;sandstone&#39;, &#39;desert&#39;))
	  (set: $lev0WallAdjPhr to (joined: &quot; &quot;, &quot; &quot;, $lev0WallAdj1, $lev0WallAdj2))
	  (set: $lev0Phr to (either: &#39; tunnel&#39;, $lev0Adj + &#39; tunnel&#39;, &#39;n underground passage&#39;, $lev0Adj + &#39;underground passage&#39;))
	  (set: $lev0PrepPhr to &#39; &#39; + &#39;with&#39; + $lev0WallAdjPhr + &#39; walls&#39;)
	  (set: $lev0PrepPhr3 to &#39; &#39; + $dugTunnel + $lev0WallAdjPhr + &#39; &#39; + $ground)

	  (set: $inTunnel to (either: &#39;in&#39;,&#39;somewhere in&#39;,&#39;down in&#39;,&#39;within&#39;,&#39;somewhere within&#39;))
	  (set: $oflev0 to &#39; of Callixtus&#39;)
	  (set: $lev0WallAdjPhr2 to &#39; the&#39; + (either: &#39; Roman&#39;, &#39; Christian&#39;, &#39;&#39;) + &#39; Catacomb&#39; + $oflev0)
	  (set: $lev0PrepPhr2 to &#39; &#39; + $inTunnel + $lev0WallAdjPhr2)

	  (set: $lev0 to (either: $lev0Phr, $lev0Phr + $lev0PrepPhr, $lev0Phr + $lev0PrepPhr2, $lev0Phr + $lev0PrepPhr3))
]
	(if: _floorInt is 1)[
		(set: $street to (either: &#39;street&#39;, &#39;lane&#39;, &#39;thoroughfare&#39;))
	(set: $busy to (either: &#39;busy&#39;, &#39;bustling&#39;, &#39;hectic&#39;, &#39;active&#39;, &#39;lively&#39;, &#39;crowded&#39;, &#39;swarming&#39;, &#39;teeming&#39;, &#39;thronged&#39;))
	(set: $market to (either: &#39;market&#39;, &#39;marketplace&#39;))
	(set: $merchant to (either: &#39;merchant&#39;, &#39;trader&#39;, &#39;dealer&#39;, &#39;wholesaler&#39;, &#39;peddler&#39;))
	(set: $stall to (either: &#39;stall&#39;, &#39;stand&#39;, &#39;table&#39;, &#39;counter&#39;, &#39;booth&#39;)) 
	(set: $standModifier to (either: $market, $merchant + &#39;s&#39;))
	(set: $stalls to (either: &#39;stalls&#39;, $standModifier + &#39; &#39; + $stall +&#39;s&#39;))
	(set: $bothWays to (either: &#39;on both sides&#39;, &#39;on either side&#39;, &#39;to the left and right&#39;))
	(set: $overfull to (either: &#39;overflowing&#39;, &#39;overful&#39;, &#39;well stocked&#39;))
	(set: $noisy to (either: &#39;clamorous&#39;, &#39;noisy&#39;, &#39;rowdy&#39;, &#39;boisterous&#39;, &#39;uproarious&#39;, &#39;riotous&#39;, &#39;chattering&#39;))
	(set: $gaudy to (either: &#39;gaudy&#39;, &#39;garish&#39;, &#39;lurid&#39;, &#39;showy&#39;, &#39;brassy&#39;, &#39;tawdry&#39;))
	(set: $wooden to (either: &#39;wooden&#39;, &#39;timber&#39;, &#39;carpentered&#39;))
	(set: $rickety to (either: &#39;rickety&#39;, &#39;ramshackle&#39;, &#39;shaky&#39;))

	(set: $lev1Adj to &#39; &#39; + $busy + &#39; &#39;)
	(set: $lev1Phr to (either: &#39; Roman &#39; + $street, $lev1Adj + &#39; Roman &#39; + $street))

	(set: $lev1WallAdj1 to (either: $overfull, $noisy, $gaudy, $rickety ))
	(set: $lev1PrepPhr to &#39; &#39; + &#39;with&#39; + &quot; &quot; + $lev1WallAdj1 + &#39; &#39; + $stalls + &#39; &#39; + $bothWays)

	(set: $lev1 to (either: $lev1Phr, $lev1Phr + $lev1PrepPhr))
	]
		(if: _floorInt is 2)[
			(set: $garden to &#39;garden&#39;)

	(set: $quiet to (either: &#39;quiet&#39;, &#39;peaceful&#39;, &#39;tranquil&#39;, &#39;restful&#39;, &#39;serene&#39;))

	(set: $yellowflowers to (either: &#39;marigolds&#39;, &#39;sunflowers&#39;, &#39;dandelions&#39;))
	(set: $blueflowers to (either: &#39;bluebells&#39;, &#39;blue iris&#39;, &#39;blue lotus flowers&#39;))
	(set: $redflowers to (either: &#39;roses&#39;, &#39;crimson tulips&#39;, &#39;poppies&#39;, &#39;scarlet carnations&#39;))
	(set: $purpleflowers to (either: &#39;lavendar&#39;, &#39;violet bells&#39;, &#39;purple lilies&#39;))

	(set: $flowers1 to (either: $yellowflowers, $blueflowers))
	(set: $flowers2 to (either: $redflowers, $purpleflowers))

	(set: $flowerAdj to (either: &#39;blooming&#39;, &#39;blossoming&#39;, &#39;flowering&#39;)) 
	(set: $flowerConj to $flowers1 + &#39; and &#39; + $flowers2)




	(set: $gardenStuff1 to (either: &#39;hedges&#39;, &#39;bushes&#39;, &#39;shrubbery&#39;))
	(set: $gardenStuff2 to $flowerAdj + &#39; &#39; + $flowerConj)
	(set: $lev2Conj to (either: $gardenStuff1 + &#39; growing beside &#39; + $gardenStuff2, $gardenStuff1, $gardenStuff2))
	(set: $lev2Adj to &#39; &#39; + $quiet + &#39; &#39;)
	(set: $lev2Phr to (either: &#39; Roman &#39; + $garden, $lev2Adj + &#39; Roman &#39; + $garden))

	(set: $lev2WallAdv to (either: &#39;neatly&#39;, &#39;beautifully&#39;, &#39;lovingly&#39;))
	(set: $lev2Wallverb to (either: &#39;trimmed&#39;, &#39;pruned&#39;, &#39;tended&#39; ))
	(set: $lev2Wallmod to $lev2WallAdv + &#39; &#39; + $lev2Wallverb)

	(set: $lev2PrepPhr to &#39; &#39; + &#39;with&#39; + &quot; &quot; + $lev2Wallmod + &#39; &#39; + $lev2Conj )

	(set: $lev2 to (either: $lev2Phr, $lev2Phr + $lev2PrepPhr))

		]
(output-data: &#39;&#39;)]))








(set: $passageType to 
	(macro: num-type _floorInt, 
		[
		(output-data: 
			(cond: 
		_floorInt is 0, $lev0,	
		_floorInt is 1, $lev1,
		_floorInt is 2, $lev2, 		
		_floorInt is 3, &#39;hall&#39;,
		_floorInt is 4, &#39;street&#39;,
		_floorInt is 5, &#39;path&#39;,
		_floorInt is 6, &#39;rooftop&#39;,
		_floorInt is 7, &#39;road&#39;,
		_floorInt is 8, &#39;bayou&#39;,
		_floorInt is 9, &#39;pike&#39;,
		_floorInt is 10, &#39;path&#39;,
		_floorInt is 11, &#39;walkway&#39;,
		_floorInt is 12, &#39;allure&#39;,
		_floorInt is 13, &#39;path&#39;,
		_floorInt is 14, &#39;wharf&#39;,
		_floorInt is 15, &#39;pike&#39;,
		_floorInt is 16, &#39;canal&#39;,
		_floorInt is 17, &#39;rue&#39;,
		_floorInt is 18, &#39;street&#39;,
		_floorInt is 19, &#39;square&#39;,
		_floorInt is 20, &#39;street&#39;,
		&#39;passage&#39;
			)
		)
		]
	)
)

(set: $occupyingP to 
	(macro: num-type _floorInt, 
		[
		(output-data: 
			(cond: 
		_floorInt is 0, &#39;in&#39;,	
		_floorInt is 2, &#39;in&#39;,
		_floorInt is 3, &#39;in&#39;,
		_floorInt is 8, &#39;in&#39;,
		_floorInt is 19, &#39;in&#39;,

		&#39;on&#39;
			)
		)
		]
	)
)

(set: $MainSentence to 
	(macro: num-type _floorInt,
		[(output:)[You are ($occupyingP: _floorInt) a($passageType: _floorInt).]]
	)
)
}

&lt;!--MAIN TEXT--&gt;
($fixVariables: $floorInt)
	(background:black)[The elevator doors open onto floor $floorInt. ($MainSentence:$floorInt) There is a path to the ($fixDirection: $floorInt).]</tw-passagedata><tw-passagedata pid="107" name="test start" tags="" position="1375,1914" size="100,100">{
(set: $passageType to 
	(macro: num-type _floorInt, 
		[
		(output-data: 
			(cond: 
		_floorInt is 1, street, 
		_floorInt is 2, path, 		
		_floorInt is 3, hall,
		_floorInt is 4, street,
		_floorInt is 5, path,
		_floorInt is 6, rooftop,
		_floorInt is 7, road,
		_floorInt is 8, bayou,
		_floorInt is 9, pike,
		_floorInt is 10, path,
		_floorInt is 11, walkway,
		_floorInt is 12, allure,
		_floorInt is 13, path,
		_floorInt is 14, wharf,
		_floorInt is 15, pike,
		_floorInt is 16, canal,
		_floorInt is 17, rue,
		_floorInt is 18, street,
		_floorInt is 19, square,
		_floorInt is 20, street,
		&quot;passage&quot;
			)
		)
		]
	)
)
}</tw-passagedata><tw-passagedata pid="108" name="main pathType top corner" tags="" position="1706,1270" size="100,100">(background:black)[You are ($occupyingP:) ($NPplus: 1). ($capitalize: ($plural: $passageType)) lead [[$2Direction-&gt;top bar pathType]] and [[$3Direction-&gt;main pathType upper]] from here. You can also exit [[$1Direction via ($appendIndefinite: $doorType)-&gt;decade zero]], or step $4Direction into the [[Elevator]]. ]






</tw-passagedata><tw-passagedata pid="109" name="LegacyDone" tags="" position="1374,1796" size="100,100">{
&lt;!--1--&gt;
(ignore: (set: $floorInt to (num:$floorString)))
&lt;!--2--&gt;

(set: $optional to (macro: string-type _optional, [
	(output-data: (either: _optional, &#39;&#39;))
	]
	)
)

(set: $plural to (macro: str-type _singular, [
	(set: _output to (cond:
		_singular&#39;s last is &#39;s&#39;, _singular,
		_singular + &#39;s&#39;))
	(output-data: _output)
	]
	)
	)
	
	
(set: $capitalize to (macro: string-type _string, [
	(set: _firstLetter to _string&#39;s 1st)
	(set: _rest to (substring: _string, 2, -1))
	(set: _output to (cond:
		_firstLetter is &#39;a&#39;, &#39;A&#39; + _rest,
		_firstLetter is &#39;b&#39;, &#39;B&#39; + _rest,
		_firstLetter is &#39;c&#39;, &#39;C&#39; + _rest,
		_firstLetter is &#39;d&#39;, &#39;D&#39; + _rest,
		_firstLetter is &#39;e&#39;, &#39;E&#39; + _rest,
		_firstLetter is &#39;f&#39;, &#39;F&#39; + _rest,
		_firstLetter is &#39;g&#39;, &#39;G&#39; + _rest,
		_firstLetter is &#39;h&#39;, &#39;H&#39; + _rest,
		_firstLetter is &#39;i&#39;, &#39;I&#39; + _rest,
		_firstLetter is &#39;j&#39;, &#39;J&#39; + _rest,
		_firstLetter is &#39;k&#39;, &#39;K&#39; + _rest,
		_firstLetter is &#39;l&#39;, &#39;L&#39; + _rest,
		_firstLetter is &#39;m&#39;, &#39;M&#39; + _rest,
		_firstLetter is &#39;n&#39;, &#39;N&#39; + _rest,
		_firstLetter is &#39;o&#39;, &#39;O&#39; + _rest,
		_firstLetter is &#39;p&#39;, &#39;P&#39; + _rest,
		_firstLetter is &#39;q&#39;, &#39;Q&#39; + _rest,
		_firstLetter is &#39;r&#39;, &#39;R&#39; + _rest,
		_firstLetter is &#39;s&#39;, &#39;S&#39; + _rest,
		_firstLetter is &#39;t&#39;, &#39;T&#39; + _rest,
		_firstLetter is &#39;u&#39;, &#39;U&#39; + _rest,
		_firstLetter is &#39;v&#39;, &#39;V&#39; + _rest,
		_firstLetter is &#39;w&#39;, &#39;W&#39; + _rest,
		_firstLetter is &#39;x&#39;, &#39;X&#39; + _rest,
		_firstLetter is &#39;y&#39;, &#39;Y&#39; + _rest,
		_firstLetter is &#39;z&#39;, &#39;Z&#39; + _rest,
		&quot;error in capitalize:input not matching&quot;))
	(output-data: _output)
	]))






		
&lt;!--3--&gt;
&lt;!-- Fixes the alternate sentence structure with forced prep to give a context sentence upon exiting the elevator--&gt;
(set: $NPplus to (macro: num-type _nounIndex, [
			($setVariables:)
			(set: $altIndex to 1)
			(set: _output to 
				($detNP: _nounIndex) +
				&#39; &#39; + ($prepPH: _nounIndex)
				)
			(output-data: _output)
				]				
				)
				)

&lt;!-- takes two numbers as input. These keep track of the level of grammatical depth (1 is the main clause). It passes them to other parts of speech to coordinate everything. --&gt;
&lt;!--4--&gt;
(set: $NPandPrep to (macro: num-type _nounIndex, [
			($setVariables:)
			(set: $altIndex to (either: 0,1))
			(set: _output to 
				($detNP: _nounIndex) +
				($optional: &#39; &#39; + ($prepPH: _nounIndex))
				)
			(output-data: _output)
				]				
				)
				)
		
		
		
&lt;!-- Takes the nounindex and determines the NP+ first then, if the determiner is not definite, checks the first letter of the np. If it&#39;s a vowel, it returns &#39;an&#39; + the NP. Else, it returns &#39;a&#39; plus the NP.--&gt;
&lt;!--5--&gt;
(set: $detNP to (macro: num-type _nounIndex, [
	(set: _determiner to ($det: _nounIndex))
	(set: _noDeterminer to
		($optional: 
			&#39; &#39; + 
			($adjPH: _nounIndex)) + 
		&#39; &#39; + 
		($noun: _nounIndex)
	)
	(set: _output to (cond: 
		_determiner is &#39;the&#39;, &#39;the&#39; + &#39; &#39; + _noDeterminer,
		_determiner is &#39;&#39;, _noDeterminer,
		_noDeterminer&#39;s 2nd is &#39;a&#39;, &#39;an&#39; + _noDeterminer,
		_noDeterminer&#39;s 2nd is &#39;e&#39;, &#39;an&#39; + _noDeterminer,
		_noDeterminer&#39;s 2nd is &#39;i&#39;, &#39;an&#39; + _noDeterminer,
		_noDeterminer&#39;s 2nd is &#39;o&#39;, &#39;an&#39; + _noDeterminer,
		_noDeterminer&#39;s 2nd is &#39;u&#39;, &#39;an&#39; + _noDeterminer,
		&#39;a&#39; + _noDeterminer))
	(output-data: _output)
			]
)
)

&lt;!--6--&gt;
&lt;!--i think this is no longer used. Test and remove. --&gt;
(set: $NP to (macro: num-type _nounIndex, [
	(set: _output to
			($det: _nounIndex) +
			($optional: 
				&#39; &#39; + 
				($adjPH: _nounIndex)) + 
			&#39; &#39; + 
			($noun: _nounIndex)
	)
	(output-data: _output)
			]
)
)

&lt;!--7--&gt;
(set: $adjPH to (macro: num-type _adjIndex, [
	(set: _output to 
		($optional: ($subAdjPH: _adjIndex +10) + &#39; &#39;) +
		($subAdjPH: _adjIndex)
		)
	(output-data: _output)
	]
	)
	)

&lt;!--8--&gt;
(set: $subAdjPH to (macro: num-type _adjIndex, [
	(set: _output to
		($optional: ($adv: _adjIndex) + &#39; &#39;) +
		($adj: _adjIndex) 
		)
	(output-data: _output)	
		]
		)
		)
	

&lt;!--PREPOSITIONAL PHRASES--&gt;
&lt;!--MAX DEPTH--&gt;
&lt;!--sets the max recursion depth by level--&gt;
&lt;!--maxDepth should be set to one less than the highest noun index--&gt;

&lt;!--9--&gt;
(set: $maxDepth to (macro: [
	(set: _output to (cond: 
		$floorInt is 0, 2,
		$floorInt is 1, 3,
		2
	))
	(output-data: _output)
	]
	)
	)
	

&lt;!--tester that takes a prep index and returns a simple prepositional phrase if the prep index is high. Otherwise, returns a complex prepositional phrase.--&gt;
&lt;!--10--&gt;
(set: $prepPH to (macro: num-type _prepIndex, [
	(set: _output to (cond: 
		_prepIndex is ($maxDepth:), ($simplePrep: _prepIndex),
		($complexPrep: _prepIndex)
		)
		)
	(output-data: _output)
	]
	)
	)

&lt;!--assigns the prep with the right prepindex to introduce the NP with level one higher--&gt;
&lt;!--11--&gt;
(set: $simplePrep to (macro: num-type _prepIndex,[
		(set: _output to 
			($prep: _prepIndex) + 
			&#39; &#39; +
			($NP: _prepIndex + 1)
			)
		(output-data: _output)
		]
		)
		)

&lt;!--provides three alternatives: basic prep, basic prep plus a clause, alt prep --&gt;
&lt;!--12--&gt;
(set: $complexPrep to (macro: num-type _prepIndex, [
	(set: _output to 
			($prep: _prepIndex) +
			&#39; &#39; +
			($NP: _prepIndex + 1) +
			&#39; &#39; +
			($optional: ($prep: _prepIndex +1) +
					&#39; &#39; +
					($NP: _prepIndex + 2)
			)
		)
	(output-data: _output)
	]
	)
)

&lt;!--VOCAB PREPOSITION MACRO --&gt;
&lt;!--13--&gt;
(set: $prep to (macro: num-type _prepIndex, [
	(set: $attributes to (a: $floorInt, _prepIndex, $altIndex))
	(set: _output to (cond: 
		$attributes matches (a: 0,1,0), $dugTunnel,
		$attributes matches (a: 0,1,1), $inTunnel,
		$attributes matches (a: 0,2,1), &#39;of&#39;,
		$attributes matches (a: 1,1,0), &#39;with&#39;,
		$attributes matches (a: 1,2,0), $setAgainst,
		$attributes matches (a: 1,3,0), &#39;of&#39;,
		$attributes matches (a: 1,1,1), &#39;on&#39;,
		$attributes matches (a: 1,2,1), &#39;in&#39;,
		&#39;&#39;))
	(output-data: _output)
	]
	))





&lt;!--VOCAB DETERMINER MACRO --&gt;
&lt;!--14--&gt;

(set: $det to (macro: num-type _nounIndex, [
	(set: _output to (cond: 
		$floorInt is 0, ($det0: _nounIndex),
		$floorInt is 1, ($det1: _nounIndex),
		&#39;&#39;
		)
		)
		(output-data: _output)
		]
		)
		)
		
(set: $det0 to (macro: num-type _nounIndex, [
	(set: $attributes to (a: _nounIndex, $altIndex))
	(set: _output to (cond: 
		$attributes matches (a: 1,num), &#39;a&#39;,
		$attributes matches (a: 2,num), &#39;the&#39;,
		$attributes matches (a: 3,1), &#39;&#39;,
			&#39;&#39;))
	(output-data: _output)
	]
	))	
		
(set: $det1 to (macro: num-type _nounIndex, [
	(set: $attributes to (a: _nounIndex, $altIndex))
	(set: _output to (cond: 		
		$attributes matches (a: 2,0), &#39;&#39;,
		$attributes matches (a: 2,1), &#39;the&#39;,
		$attributes matches (a: 3,0), &#39;the&#39;,
		$attributes matches (a: 4,0), &#39;&#39;,
			&#39;&#39;))
	(output-data: _output)
	]
	))



	
&lt;!--VOCAB NOUN MACRO --&gt;
&lt;!--15--&gt;

(set: $noun to (macro: num-type _nounIndex, [
	(set: _output to (cond: 
		$floorInt is 0, ($noun0: _nounIndex),
		$floorInt is 1, ($noun1: _nounIndex),
		&#39;&#39;
		)
		)
		(output-data: _output)
		]
		)
		)



(set: $noun0 to (macro: num-type _nounIndex,[
	(set: $attributes to (a: _nounIndex, $altIndex))
	(set: _output to (cond: 
		$attributes matches (a: 1,0), $tunnel,
		$attributes matches (a: 1,1), $tunnel,
		$attributes matches (a: 2,0), $ground,
		$attributes matches (a: 2,1), &#39;catacombs&#39;,
		$attributes matches (a: 3,1), &#39;Callixtus&#39;,
		&#39;&#39;))
		(output-data: _output)
	]
	))
		
(set: $noun1 to (macro: num-type _nounIndex,[
(set: $attributes to (a: _nounIndex, $altIndex))	
	(set: _output to (cond:
		$attributes matches (a: 1,num), $street,
		$attributes matches (a: 2,1), $forum,
		$attributes matches (a: 3,1), $rome,
		$attributes matches (a: 2,0), $stalls,
		$attributes matches (a: 3,0), $insulaeWalls,
		$attributes matches (a: 4,0), $insulae,
		&#39;&#39;))
	(output-data: _output)
	]
	))
	
	
&lt;!--VOCAB ADJECTIVE MACRO --&gt;
&lt;!--16--&gt;
(set: $adj to (macro: num-type _adjIndex, [
	(set: $attributes to (a: $floorInt, _adjIndex, $altIndex))
	(set: _output to (cond: 
		$attributes matches (a: 0,1,num), $hot,
		$attributes matches (a: 0,2,num), $sandy,
		$attributes matches (a: 0,12,num), $dusty,
		$attributes matches (a: 0,2,1), $cataKind,
		$attributes matches (a: 1,1,num), $market,
		$attributes matches (a: 1,11,num), $bustling,
		$attributes matches (a: 1,3,1), $romeMod,
		&#39;&#39;))
	(output-data: _output)
	]
	))
	
&lt;!--VOCAB ADVERB MACRO --&gt;
&lt;!--17--&gt;
(set: $adv to (macro: num-type _advIndex, [
	(set: $attributes to (a: $floorInt, _advIndex, $altIndex))
	(set: _output to (cond: 
		$attributes matches (a: 0,1,num), $hotAdv,
		&#39;&#39;))
	(output-data: _output)
	]
	))


&lt;!--18--&gt;
(set: $setVariables to (macro: [
	(if: $floorInt is 0)[
		($setFloor0vocab:)]
	(if: $floorInt is 1)[
		($setFloor1vocab:)
						]
	(output-data:&#39;&#39;)]
	)
	)

&lt;!--19--&gt;
(set: $setFloor0vocab to (macro: [
	(set: $hotAdv to (either: 
		&#39;sweltering&#39;, &#39;baking&#39;, &#39;searing&#39;, 
		&#39;blazing&#39;, &#39;blistering&#39;, &#39;boiling&#39;, &#39;roasting&#39;))
	(set: $hot to &#39;hot&#39;)
	(set: $ground to (either: 
		&#39;ground&#39;, &#39;earth&#39;, &#39;land&#39;, &#39;soil&#39;, &#39;terrain&#39;))
	(set: $tunnel to (either:
		&#39;tunnel&#39;,&#39;underground passage&#39;))
	(set: $dugTunnel to (either: 
		&#39;dug through&#39;,&#39;bored through&#39;,&#39;excavated from&#39;,
		&#39;quarried from&#39;,&#39;gouged out of&#39;,&#39;burrowed from&#39;))
	(set: $dusty to (either: 
		&#39;dusty&#39;, &#39;gritty&#39;, &#39;crumbly&#39;, &#39;friable&#39;))
	(set: $sandy to (either:
		&#39;sandy&#39;, &#39;sandstone&#39;, &#39;desert&#39;, &#39;dry&#39;))
	(set: $inTunnel to (either: 
		&#39;in&#39;,&#39;somewhere in&#39;,&#39;down in&#39;,&#39;within&#39;,&#39;somewhere within&#39;))
	(set: $cataKind to (either: 
		&#39;Roman&#39;, &#39;Christian&#39;))
	(output-data:&#39;&#39;)
	]
	)
	)
	
&lt;!--20--&gt;
(set: $setFloor1vocab to (macro: [
	(set: $bustling to (either: 
		&#39;bustling&#39;, &#39;busy&#39;, &#39;crowded&#39;, &#39;teeming&#39;, 
		&#39;thronged&#39;, &#39;buzzing&#39;, &#39;hectic&#39;, &#39;lively&#39;))
	(set: $market to &#39;market&#39;)
	(set: $street to &#39;street&#39;)
	(set: $with to &#39;with&#39;)
	(set: $stalls to (either:
		&#39;stands&#39;, &#39;stalls&#39;, &#39;counters&#39; ))
	(set: $setAgainst to (either:&#39;set against&#39;, &#39;leaning against&#39;, &#39;put up along&#39;, &#39;erected against&#39;,&#39;shoved up against&#39;))
	(set: $insulaeWalls to  (either: &#39;walls&#39;,&#39;sides&#39;))
	(set: $mudBricked to &#39;mud-brick&#39;)
	(set: $squalid to (either: 
		&#39;squalid&#39;, &#39;ugly&#39;, &#39;wretched&#39;, &#39;run down&#39;, &#39;scruffy&#39;, &#39;ramshackle&#39;, &#39;crumbling&#39;))
	(set: $insulae to (either: 
		&#39;insulae&#39;, &#39;tenements&#39;))
	(set: $forum to (either: &#39;forum&#39;, &#39;forum boarium&#39;))
	(set: $in to &#39;in&#39;)
	(set: $romeMod to (either: &#39;ancient&#39;, &#39;central&#39;, &#39;downtown&#39;))
	(set: $rome to &#39;Rome&#39;)
	
	(output-data:&#39;&#39;)
	]
	)
	)

(set: $defaultPassages to &#39;passage&#39;)
(set: $0passages to &#39;tunnel&#39;)
(set: $1passages to &#39;street&#39;)


(set: $defaultDoors to &#39;opening&#39;)
(set: $0doors to &#39;stairwell&#39;)
(set: $1doors to &#39;alley&#39;)


&lt;!--21--&gt;
&lt;!--singular, plural CAPSingular, CAPSplural, shortform--&gt;
(set: $doorsAndPassages to (macro: [
	(set: $passageType to (cond:
		$floorInt is 0, $0passages,
		$floorInt is 1, $1passages,
		$defaultPassages
		))
	(set: $doorType to (cond:
		$floorInt is 0, $0doors,
		$floorInt is 1, $1doors,
		$defaultDoors))
	(output-data:&#39;&#39;)
	]
	)
	)




&lt;!--22--&gt;
(set: $occupyingP to 
	(macro: 
		[
		(set: _output to (cond: 
		(a: 0,2,3,8,19) contains $floorInt, &#39;in&#39;,
		&#39;on&#39;
			))
		(output-data: _output)
		]
	)
)

&lt;!--23--&gt;
(set: $fixDirection to 
	(macro: num-type _directionNum, 
	[
	(set: $directions to 
		(cond: 
		_directionNum is 0,(a:&#39;North&#39;,&#39;East&#39;,&#39;South&#39;,&#39;West&#39;),
		_directionNum is 1,(a: &#39;East&#39;,&#39;South&#39;,&#39;West&#39;,&#39;North&#39;),
		_directionNum is 2,(a: &#39;South&#39;,&#39;West&#39;,&#39;North&#39;,&#39;East&#39;),
		_directionNum is 3,(a: &#39;West&#39;,&#39;North&#39;,&#39;East&#39;,&#39;South&#39;),
		&#39;fail&#39;))
	(if: $directions is &#39;fail&#39;)
		[(set: $directions to ($fixDirection:_directionNum - 4))]
	(output-data: $directions)
	]
	)
)



&lt;!--24--&gt;
(set: $hundreds to ($floorInt * 100))
(if: $hundreds is 0)
	[(set: $hundredstring to &quot;the first century a.d.&quot;)]
(else:) [(set: $hundredstring to (string: $hundreds) + &#39;s&#39;)]

(set: $1Direction to ($fixDirection: $floorInt)&#39;s 1st)
(set: $2Direction to $directions&#39;s 2nd)
(set: $3Direction to $directions&#39;s 3rd)
(set: $4Direction to $directions&#39;s 4th)
($doorsAndPassages:)




}
&lt;!--MAIN TEXT--&gt;
	(background:black)[($capitalize: &#39;the&#39;) elevator ($plural: &#39;door&#39;) open onto $hundredstring and you [[step out -&gt;main pathType top corner]].]
	</tw-passagedata><tw-passagedata pid="110" name="workspace" tags="" position="1499,1950" size="100,100">(set $floorInt to 2) 

(set: $setFloor1vocab to (macro: [
	(set: $peaceful to (either: 
		&#39;peaceful&#39;, &#39;tranquil&#39;, &#39;serene&#39;, &#39;private&#39;,&#39;restful&#39;, 
		&#39;quiet&#39;))
	(set: $gardenMod to (either: &#39;water&#39;,&#39;Persian&#39;,&#39;fountain&#39;,&#39;water font&#39;,&#39;reservoir&#39;, &#39;Persio-Roman&#39;))
	(set: $garden to &#39;garden&#39;)
	(set: $gardens to &#39;gardens&#39;)
	(set: $Lucullus to (either: &#39;Lucullus&#39;, &#39;Lucius Licinius Lucullus&#39;))
	(set: $romeMod to (either: &#39;ancient&#39;, &#39;the capital of the empire of&#39;))
	(set: $rome to &#39;Rome&#39;)
	(output-data:&#39;&#39;)
	]
	)
	)
	
(set: $2passages to (a: &#39;path&#39;, &#39;paths&#39;, &#39;Path&#39;, &#39;Paths&#39;))
(set: $2doors to (a: &#39;walk&#39;, &#39;walks&#39;, &#39;Walk&#39;, &#39;Walks&#39;))

</tw-passagedata><tw-passagedata pid="111" name="Done" tags="" position="1552,1005" size="100,100">&lt;!--MAIN TEXT--&gt;
	(background:black)[The elevator shunts into life and you begin to move through the centuries...] 
	

{
&lt;!--1--&gt;
(ignore: (set: $floorInt to (num:$floorString)))
&lt;!--2--&gt;

(set: $optional to (macro: string-type _optional, [
	(output-data: (either: _optional, &#39;&#39;))
	]
	)
)

(set: $plural to (macro: str-type _singular, [
	(set: _output to (cond:
		_singular&#39;s last is &#39;s&#39;, _singular,
		_singular + &#39;s&#39;))
	(output-data: _output)
	]
	)
	)
	
	
(set: $capitalize to (macro: string-type _string, [
	(set: _firstLetter to _string&#39;s 1st)
	(set: _rest to (substring: _string, 2, -1))
	(set: _output to (cond:
		_firstLetter is &#39;a&#39;, &#39;A&#39; + _rest,
		_firstLetter is &#39;b&#39;, &#39;B&#39; + _rest,
		_firstLetter is &#39;c&#39;, &#39;C&#39; + _rest,
		_firstLetter is &#39;d&#39;, &#39;D&#39; + _rest,
		_firstLetter is &#39;e&#39;, &#39;E&#39; + _rest,
		_firstLetter is &#39;f&#39;, &#39;F&#39; + _rest,
		_firstLetter is &#39;g&#39;, &#39;G&#39; + _rest,
		_firstLetter is &#39;h&#39;, &#39;H&#39; + _rest,
		_firstLetter is &#39;i&#39;, &#39;I&#39; + _rest,
		_firstLetter is &#39;j&#39;, &#39;J&#39; + _rest,
		_firstLetter is &#39;k&#39;, &#39;K&#39; + _rest,
		_firstLetter is &#39;l&#39;, &#39;L&#39; + _rest,
		_firstLetter is &#39;m&#39;, &#39;M&#39; + _rest,
		_firstLetter is &#39;n&#39;, &#39;N&#39; + _rest,
		_firstLetter is &#39;o&#39;, &#39;O&#39; + _rest,
		_firstLetter is &#39;p&#39;, &#39;P&#39; + _rest,
		_firstLetter is &#39;q&#39;, &#39;Q&#39; + _rest,
		_firstLetter is &#39;r&#39;, &#39;R&#39; + _rest,
		_firstLetter is &#39;s&#39;, &#39;S&#39; + _rest,
		_firstLetter is &#39;t&#39;, &#39;T&#39; + _rest,
		_firstLetter is &#39;u&#39;, &#39;U&#39; + _rest,
		_firstLetter is &#39;v&#39;, &#39;V&#39; + _rest,
		_firstLetter is &#39;w&#39;, &#39;W&#39; + _rest,
		_firstLetter is &#39;x&#39;, &#39;X&#39; + _rest,
		_firstLetter is &#39;y&#39;, &#39;Y&#39; + _rest,
		_firstLetter is &#39;z&#39;, &#39;Z&#39; + _rest,
		&quot;error in capitalize:input not matching&quot;))
	(output-data: _output)
	]))

&lt;!--23--&gt;
(set: $fixDirection to 
	(macro: num-type _directionNum, 
	[
	(set: $directions to 
		(cond: 
		_directionNum is 0,(a:&#39;North&#39;,&#39;East&#39;,&#39;South&#39;,&#39;West&#39;),
		_directionNum is 1,(a: &#39;East&#39;,&#39;South&#39;,&#39;West&#39;,&#39;North&#39;),
		_directionNum is 2,(a: &#39;South&#39;,&#39;West&#39;,&#39;North&#39;,&#39;East&#39;),
		_directionNum is 3,(a: &#39;West&#39;,&#39;North&#39;,&#39;East&#39;,&#39;South&#39;),
		&#39;fail&#39;))
	(if: $directions is &#39;fail&#39;)
		[(set: $directions to ($fixDirection:_directionNum - 4))]
	(output-data: $directions)
	]
	)
)



		
&lt;!--3--&gt;
&lt;!-- Alternate NP generator. Fixes the alternate sentence structure with forced prep to give a context sentence upon exiting the elevator--&gt;
(set: $NPplus to (macro: num-type _nounIndex, [
			($setVocab:)
			(set: $altIndex to 1)
			(set: _output to 
				($detNP: _nounIndex) +
				&#39; &#39; + ($prepPH: _nounIndex)
				)
			(output-data: _output)
				]				
				)
				)

&lt;!-- RANDOM NP generator. Takes two numbers as input. These keep track of the level of grammatical depth (1 is the main clause). It passes them to other parts of speech to coordinate everything. --&gt;
&lt;!--4--&gt;
(set: $NPandPrep to (macro: num-type _nounIndex, [
			($setVocab:)
			(set: $altIndex to (either: 0,1))
			(set: _output to 
				($detNP: _nounIndex) +
				($optional: &#39; &#39; + ($prepPH: _nounIndex))
				)
			(output-data: _output)
				]				
				)
				)
		
		
		
&lt;!-- Takes the nounindex and determines the NP+ first then, if the determiner is not definite, checks the first letter of the np. If it&#39;s a vowel, it returns &#39;an&#39; + the NP. Else, it returns &#39;a&#39; plus the NP.--&gt;
&lt;!--5--&gt;
(set: $detNP to (macro: num-type _nounIndex, [
	(set: _determiner to ($det: _nounIndex))
	(set: _noDeterminer to
		($optional: 
			($adjPH: _nounIndex) + &#39; &#39;) +
		($noun: _nounIndex)
	)
	(set: _output to (cond: 
		_determiner is &#39;the&#39;, &#39;the&#39; + &#39; &#39; + _noDeterminer,
		_determiner is &#39;&#39;, _noDeterminer,
		($appendIndefinite: _noDeterminer)
	))
	(output-data: _output)
			]
)
)

(set: $appendIndefinite to (macro: str-type _noDeterminer, [
	(set: _noDeterminer to (cond: 
		_noDeterminer&#39;s 1st is &#39; &#39;, (substring: _noDeterminer, 2, -1),
		_noDeterminer))
	(set: _output to (cond: 
		_noDeterminer&#39;s 1st is &#39;a&#39;, &#39;an &#39; + _noDeterminer,
		_noDeterminer&#39;s 1st is &#39;e&#39;, &#39;an &#39; + _noDeterminer,
		_noDeterminer&#39;s 1st is &#39;i&#39;, &#39;an &#39; + _noDeterminer,
		_noDeterminer&#39;s 1st is &#39;o&#39;, &#39;an &#39; + _noDeterminer,
		_noDeterminer&#39;s 1st is &#39;u&#39;, &#39;an &#39; + _noDeterminer,
		&#39;a &#39; + _noDeterminer))
	(output-data: _output)
	]
	))


&lt;!--6--&gt;
&lt;!--i think this is no longer used. Test and remove. --&gt;
(set: $NP to (macro: num-type _nounIndex, [
	(set: _output to
			($det: _nounIndex) +
			($optional: 
				&#39; &#39; + 
				($adjPH: _nounIndex)) + 
			&#39; &#39; + 
			($noun: _nounIndex)
	)
	(output-data: _output)
			]
)
)

&lt;!--7--&gt;
(set: $adjPH to (macro: num-type _adjIndex, [
	(set: _output to 
		($optional: ($subAdjPH: _adjIndex +10) + &#39; &#39;) +
		($subAdjPH: _adjIndex)
		)
	(output-data: _output)
	]
	)
	)

&lt;!--8--&gt;
(set: $subAdjPH to (macro: num-type _adjIndex, [
	(set: _output to
		($optional: ($adv: _adjIndex) + &#39; &#39;) +
		($adj: _adjIndex) 
		)
	(output-data: _output)	
		]
		)
		)
	

&lt;!--PREPOSITIONAL PHRASES--&gt;
&lt;!--MAX DEPTH--&gt;
&lt;!--sets the max recursion depth by level--&gt;
&lt;!--maxDepth should be set to one less than the highest noun index--&gt;

&lt;!--9--&gt;


&lt;!--tester that takes a prep index and returns a simple prepositional phrase if the prep index is high. Otherwise, returns a complex prepositional phrase.--&gt;
&lt;!--10--&gt;
(set: $prepPH to (macro: num-type _prepIndex, [
	(set: _output to (cond: 
		_prepIndex is $maxDepth, ($simplePrep: _prepIndex),
		($complexPrep: _prepIndex)
		)
		)
	(output-data: _output)
	]
	)
	)

&lt;!--assigns the prep with the right prepindex to introduce the NP with level one higher--&gt;
&lt;!--11--&gt;
(set: $simplePrep to (macro: num-type _prepIndex,[
		(set: _output to 
			($prep: _prepIndex) + 
			&#39; &#39; +
			($NP: _prepIndex + 1)
			)
		(output-data: _output)
		]
		)
		)

&lt;!--provides three alternatives: basic prep, basic prep plus a clause, alt prep --&gt;
&lt;!--12--&gt;
(set: $complexPrep to (macro: num-type _prepIndex, [
	(set: _output to 
			($prep: _prepIndex) +
			&#39; &#39; +
			($NP: _prepIndex + 1) +
			&#39; &#39; +
			($optional: ($prep: _prepIndex +1) +
					&#39; &#39; +
					($NP: _prepIndex + 2)
			)
		)
	(output-data: _output)
	]
	)
)

(set: $codePage to (cond: 
	$floorInt is 0, &#39;0code&#39;,
	$floorInt is 1, &#39;1code&#39;,
	$floorInt is 2, &#39;2code&#39;,
	$floorInt is 3, &#39;3code&#39;,
	$floorInt is 4, &#39;4code&#39;,
	$floorInt is 5, &#39;5code&#39;,
	$floorInt is 6, &#39;6code&#39;,
	$floorInt is 7, &#39;7code&#39;,
	$floorInt is 8, &#39;8code&#39;,
	$floorInt is 9, &#39;9code&#39;,
	$floorInt is 10, &#39;10code&#39;,
	$floorInt is 11, &#39;11code&#39;,
	$floorInt is 12, &#39;12code&#39;,
	$floorInt is 13, &#39;13code&#39;,
	$floorInt is 14, &#39;14code&#39;,
	$floorInt is 15, &#39;15code&#39;,
	$floorInt is 16, &#39;16code&#39;,
	$floorInt is 17, &#39;17code&#39;,
	$floorInt is 18, &#39;18code&#39;,
	$floorInt is 19, &#39;19code&#39;,
	$floorInt is 20, &#39;20code&#39;,
	&quot;Error. Unrecognized code page.&quot;))
	




&lt;!--22--&gt;
(set: $occupyingP to 
	(macro: 
		[
		(set: _output to (cond: 
		(a: 0,2,3,8,19) contains $floorInt, &#39;in&#39;,
		&#39;on&#39;
			))
		(output-data: _output)
		]
	)
)





&lt;!--24--&gt;
(set: $hundreds to ($floorInt * 100))
(if: $hundreds is 0)
	[(set: $hundredstring to &quot;the first century a.d.&quot;)]
(else:) [(set: $hundredstring to &#39;the&#39; + (string: $hundreds) + &#39;s&#39;)]

(set: $1Direction to ($fixDirection: $floorInt)&#39;s 1st)
(set: $2Direction to $directions&#39;s 2nd)
(set: $3Direction to $directions&#39;s 3rd)
(set: $4Direction to $directions&#39;s 4th)




}
At last the elevator [[comes to a halt-&gt;$codePage]]. 

</tw-passagedata><tw-passagedata pid="112" name="01startup code" tags="" position="1243,1815" size="100,100">{
&lt;!--1--&gt;
(ignore: (set: $floorInt to (num:$floorString)))
&lt;!--2--&gt;

(set: $optional to (macro: string-type _optional, [
	(output-data: (either: _optional, &#39;&#39;))
	]
	)
)

(set: $plural to (macro: str-type _singular, [
	(set: _output to (cond:
		_singular&#39;s last is &#39;s&#39;, _singular,
		_singular + &#39;s&#39;))
	(output-data: _output)
	]
	)
	)
	
	
(set: $capitalize to (macro: string-type _string, [
	(set: _firstLetter to _string&#39;s 1st)
	(set: _rest to (substring: _string, 2, -1))
	(set: _output to (cond:
		_firstLetter is &#39;a&#39;, &#39;A&#39; + _rest,
		_firstLetter is &#39;b&#39;, &#39;B&#39; + _rest,
		_firstLetter is &#39;c&#39;, &#39;C&#39; + _rest,
		_firstLetter is &#39;d&#39;, &#39;D&#39; + _rest,
		_firstLetter is &#39;e&#39;, &#39;E&#39; + _rest,
		_firstLetter is &#39;f&#39;, &#39;F&#39; + _rest,
		_firstLetter is &#39;g&#39;, &#39;G&#39; + _rest,
		_firstLetter is &#39;h&#39;, &#39;H&#39; + _rest,
		_firstLetter is &#39;i&#39;, &#39;I&#39; + _rest,
		_firstLetter is &#39;j&#39;, &#39;J&#39; + _rest,
		_firstLetter is &#39;k&#39;, &#39;K&#39; + _rest,
		_firstLetter is &#39;l&#39;, &#39;L&#39; + _rest,
		_firstLetter is &#39;m&#39;, &#39;M&#39; + _rest,
		_firstLetter is &#39;n&#39;, &#39;N&#39; + _rest,
		_firstLetter is &#39;o&#39;, &#39;O&#39; + _rest,
		_firstLetter is &#39;p&#39;, &#39;P&#39; + _rest,
		_firstLetter is &#39;q&#39;, &#39;Q&#39; + _rest,
		_firstLetter is &#39;r&#39;, &#39;R&#39; + _rest,
		_firstLetter is &#39;s&#39;, &#39;S&#39; + _rest,
		_firstLetter is &#39;t&#39;, &#39;T&#39; + _rest,
		_firstLetter is &#39;u&#39;, &#39;U&#39; + _rest,
		_firstLetter is &#39;v&#39;, &#39;V&#39; + _rest,
		_firstLetter is &#39;w&#39;, &#39;W&#39; + _rest,
		_firstLetter is &#39;x&#39;, &#39;X&#39; + _rest,
		_firstLetter is &#39;y&#39;, &#39;Y&#39; + _rest,
		_firstLetter is &#39;z&#39;, &#39;Z&#39; + _rest,
		&quot;error in capitalize:input not matching&quot;))
	(output-data: _output)
	]))






		
&lt;!--3--&gt;
&lt;!-- Fixes the alternate sentence structure with forced prep to give a context sentence upon exiting the elevator--&gt;
(set: $NPplus to (macro: num-type _nounIndex, [
			($setVariables:)
			(set: $altIndex to 1)
			(set: _output to 
				($detNP: _nounIndex) +
				&#39; &#39; + ($prepPH: _nounIndex)
				)
			(output-data: _output)
				]				
				)
				)

&lt;!-- takes two numbers as input. These keep track of the level of grammatical depth (1 is the main clause). It passes them to other parts of speech to coordinate everything. --&gt;
&lt;!--4--&gt;
(set: $NPandPrep to (macro: num-type _nounIndex, [
			($setVariables:)
			(set: $altIndex to (either: 0,1))
			(set: _output to 
				($detNP: _nounIndex) +
				($optional: &#39; &#39; + ($prepPH: _nounIndex))
				)
			(output-data: _output)
				]				
				)
				)
		
		
		
&lt;!-- Takes the nounindex and determines the NP+ first then, if the determiner is not definite, checks the first letter of the np. If it&#39;s a vowel, it returns &#39;an&#39; + the NP. Else, it returns &#39;a&#39; plus the NP.--&gt;
&lt;!--5--&gt;
(set: $detNP to (macro: num-type _nounIndex, [
	(set: _determiner to ($det: _nounIndex))
	(set: _noDeterminer to
		($optional: 
			&#39; &#39; + 
			($adjPH: _nounIndex)) + 
		&#39; &#39; + 
		($noun: _nounIndex)
	)
	(set: _output to (cond: 
		_determiner is &#39;the&#39;, &#39;the&#39; + &#39; &#39; + _noDeterminer,
		_determiner is &#39;&#39;, _noDeterminer,
		_noDeterminer&#39;s 2nd is &#39;a&#39;, &#39;an&#39; + _noDeterminer,
		_noDeterminer&#39;s 2nd is &#39;e&#39;, &#39;an&#39; + _noDeterminer,
		_noDeterminer&#39;s 2nd is &#39;i&#39;, &#39;an&#39; + _noDeterminer,
		_noDeterminer&#39;s 2nd is &#39;o&#39;, &#39;an&#39; + _noDeterminer,
		_noDeterminer&#39;s 2nd is &#39;u&#39;, &#39;an&#39; + _noDeterminer,
		&#39;a&#39; + _noDeterminer))
	(output-data: _output)
			]
)
)

&lt;!--6--&gt;
&lt;!--i think this is no longer used. Test and remove. --&gt;
(set: $NP to (macro: num-type _nounIndex, [
	(set: _output to
			($det: _nounIndex) +
			($optional: 
				&#39; &#39; + 
				($adjPH: _nounIndex)) + 
			&#39; &#39; + 
			($noun: _nounIndex)
	)
	(output-data: _output)
			]
)
)

&lt;!--7--&gt;
(set: $adjPH to (macro: num-type _adjIndex, [
	(set: _output to 
		($optional: ($subAdjPH: _adjIndex +10) + &#39; &#39;) +
		($subAdjPH: _adjIndex)
		)
	(output-data: _output)
	]
	)
	)

&lt;!--8--&gt;
(set: $subAdjPH to (macro: num-type _adjIndex, [
	(set: _output to
		($optional: ($adv: _adjIndex) + &#39; &#39;) +
		($adj: _adjIndex) 
		)
	(output-data: _output)	
		]
		)
		)
	

&lt;!--PREPOSITIONAL PHRASES--&gt;
&lt;!--MAX DEPTH--&gt;
&lt;!--sets the max recursion depth by level--&gt;
&lt;!--maxDepth should be set to one less than the highest noun index--&gt;

&lt;!--9--&gt;
(set: $maxDepth to (macro: [
	(set: _output to (cond: 
		$floorInt is 0, 2,
		$floorInt is 1, 3,
		2
	))
	(output-data: _output)
	]
	)
	)
	

&lt;!--tester that takes a prep index and returns a simple prepositional phrase if the prep index is high. Otherwise, returns a complex prepositional phrase.--&gt;
&lt;!--10--&gt;
(set: $prepPH to (macro: num-type _prepIndex, [
	(set: _output to (cond: 
		_prepIndex is ($maxDepth:), ($simplePrep: _prepIndex),
		($complexPrep: _prepIndex)
		)
		)
	(output-data: _output)
	]
	)
	)

&lt;!--assigns the prep with the right prepindex to introduce the NP with level one higher--&gt;
&lt;!--11--&gt;
(set: $simplePrep to (macro: num-type _prepIndex,[
		(set: _output to 
			($prep: _prepIndex) + 
			&#39; &#39; +
			($NP: _prepIndex + 1)
			)
		(output-data: _output)
		]
		)
		)

&lt;!--provides three alternatives: basic prep, basic prep plus a clause, alt prep --&gt;
&lt;!--12--&gt;
(set: $complexPrep to (macro: num-type _prepIndex, [
	(set: _output to 
			($prep: _prepIndex) +
			&#39; &#39; +
			($NP: _prepIndex + 1) +
			&#39; &#39; +
			($optional: ($prep: _prepIndex +1) +
					&#39; &#39; +
					($NP: _prepIndex + 2)
			)
		)
	(output-data: _output)
	]
	)
)
}</tw-passagedata><tw-passagedata pid="113" name="0code" tags="" position="1557,1235" size="100,100">{
&lt;!--maxDepth should be set to one less than the highest noun index--&gt;
(set: $maxDepth to 2)

&lt;!--VOCAB PREPOSITION MACRO --&gt;
&lt;!--13--&gt;
(set: $prep to (macro: num-type _prepIndex, [
	(set: $attributes to (a: _prepIndex, $altIndex))
	(set: _output to (cond: 
		$attributes matches (a: 1,0), $dugTunnel,
		$attributes matches (a: 1,1), $inTunnel,
		$attributes matches (a: 2,1), &#39;of&#39;,
				&#39;&#39;))
			(output-data: _output)
	]
	))







&lt;!--VOCAB DETERMINER MACRO --&gt;
&lt;!--14--&gt;

		
(set: $det to (macro: num-type _nounIndex, [
	(set: $attributes to (a: _nounIndex, $altIndex))
	(set: _output to (cond: 
		$attributes matches (a: 1,num), &#39;a&#39;,
		$attributes matches (a: 2,num), &#39;the&#39;,
		$attributes matches (a: 3,1), &#39;&#39;,
			&#39;&#39;))
	(output-data: _output)
	]
	))	
		

	
&lt;!--VOCAB NOUN MACRO --&gt;
&lt;!--15--&gt;


(set: $noun to (macro: num-type _nounIndex,[
	(set: $attributes to (a: _nounIndex, $altIndex))
	(set: _output to (cond: 
		$attributes matches (a: 1,0), $tunnel,
		$attributes matches (a: 1,1), $tunnel,
		$attributes matches (a: 2,0), $ground,
		$attributes matches (a: 2,1), &#39;catacombs&#39;,
		$attributes matches (a: 3,1), &#39;Callixtus&#39;,
		&#39;&#39;))
		(output-data: _output)
	]
	))
	
	
	
&lt;!--VOCAB ADJECTIVE MACRO --&gt;
&lt;!--16--&gt;
(set: $adj to (macro: num-type _adjIndex, [
	(set: $attributes to (a: _adjIndex, $altIndex))
	(set: _output to (cond: 
		$attributes matches (a: 1,num), $hot,
		$attributes matches (a: 2,num), $sandy,
		$attributes matches (a: 12,num), $dusty,
		$attributes matches (a: 2,1), $cataKind,
				&#39;&#39;))
		(output-data: _output)
	]
	))	
		

	
&lt;!--VOCAB ADVERB MACRO --&gt;
&lt;!--17--&gt;
(set: $adv to (macro: num-type _advIndex, [
	(set: $attributes to (a: _advIndex, $altIndex))
	(set: _output to (cond: 
		$attributes matches (a: 1,num), $hotAdv,
		&#39;&#39;))
	(output-data: _output)
	]
	))




&lt;!--19--&gt;
(set: $setVocab to (macro: [
	(set: $hotAdv to (either: 
		&#39;sweltering&#39;, &#39;baking&#39;, &#39;searing&#39;, 
		&#39;blazing&#39;, &#39;blistering&#39;, &#39;boiling&#39;, &#39;roasting&#39;))
	(set: $hot to &#39;hot&#39;)
	(set: $ground to (either: 
		&#39;ground&#39;, &#39;earth&#39;, &#39;land&#39;, &#39;soil&#39;, &#39;terrain&#39;))
	(set: $tunnel to (either:
		&#39;tunnel&#39;,&#39;underground passage&#39;))
	(set: $dugTunnel to (either: 
		&#39;dug through&#39;,&#39;bored through&#39;,&#39;excavated from&#39;,
		&#39;quarried from&#39;,&#39;gouged out of&#39;,&#39;burrowed from&#39;))
	(set: $dusty to (either: 
		&#39;dusty&#39;, &#39;gritty&#39;, &#39;crumbly&#39;, &#39;friable&#39;))
	(set: $sandy to (either:
		&#39;sandy&#39;, &#39;sandstone&#39;, &#39;desert&#39;, &#39;dry&#39;))
	(set: $inTunnel to (either: 
		&#39;in&#39;,&#39;somewhere in&#39;,&#39;down in&#39;,&#39;within&#39;,&#39;somewhere within&#39;))
	(set: $cataKind to (either: 
		&#39;Roman&#39;, &#39;Christian&#39;))
	(output-data:&#39;&#39;)
	]
	)
	)
	
(set: $passageType to &#39;tunnel&#39;)
(set: $doorType to &#39;stairwell&#39;)







}

The elevator doors open onto $hundredstring and you [[step out -&gt;main pathType top corner]].
</tw-passagedata><tw-passagedata pid="114" name="$codePage" tags="" position="1435,1121" size="100,100">This is a dummy page generated by the use of a variable for a link. </tw-passagedata><tw-passagedata pid="115" name="1code" tags="" position="1437,1233" size="100,100">{
&lt;!--maxDepth should be set to one less than the highest noun index--&gt;
(set: $maxDepth to 3)

(set: $prep to (macro: num-type _prepIndex, [
	(set: $attributes to (a: _prepIndex, $altIndex))
	(set: _output to (cond: 
		$attributes matches (a: 1,0), &#39;with&#39;,
		$attributes matches (a: 2,0), $setAgainst,
		$attributes matches (a: 3,0), &#39;of&#39;,
		$attributes matches (a: 1,1), &#39;on&#39;,
		$attributes matches (a: 2,1), &#39;in&#39;,
		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $det to (macro: num-type _nounIndex, [
	(set: $attributes to (a: _nounIndex, $altIndex))
	(set: _output to (cond: 		
		$attributes matches (a: 2,0), &#39;&#39;,
		$attributes matches (a: 2,1), &#39;the&#39;,
		$attributes matches (a: 3,0), &#39;the&#39;,
		$attributes matches (a: 4,0), &#39;&#39;,
			&#39;&#39;))
	(output-data: _output)
	]
	))

(set: $noun to (macro: num-type _nounIndex,[
(set: $attributes to (a: _nounIndex, $altIndex))	
	(set: _output to (cond:
		$attributes matches (a: 1,num), $street,
		$attributes matches (a: 2,1), $forum,
		$attributes matches (a: 3,1), $rome,
		$attributes matches (a: 2,0), $stalls,
		$attributes matches (a: 3,0), $insulaeWalls,
		$attributes matches (a: 4,0), $insulae,
		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $adj to (macro: num-type _adjIndex, [
	(set: $attributes to (a: _adjIndex, $altIndex))
	(set: _output to (cond: 		
		$attributes matches (a: 1,num), $market,
		$attributes matches (a: 11,num), $bustling,
		$attributes matches (a: 3,1), $romeMod,
		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $adv to (macro: num-type _advIndex, [
	(output-data: &#39;&#39;)
	]
	))

&lt;!--20--&gt;
(set: $setVocab to (macro: [
	(set: $bustling to (either: 
		&#39;bustling&#39;, &#39;busy&#39;, &#39;crowded&#39;, &#39;teeming&#39;, 
		&#39;thronged&#39;, &#39;buzzing&#39;, &#39;hectic&#39;, &#39;lively&#39;))
	(set: $market to &#39;market&#39;)
	(set: $street to &#39;street&#39;)
	(set: $with to &#39;with&#39;)
	(set: $stalls to (either:
		&#39;stands&#39;, &#39;stalls&#39;, &#39;counters&#39; ))
	(set: $setAgainst to (either:&#39;set against&#39;, &#39;leaning against&#39;, &#39;put up along&#39;, &#39;erected against&#39;,&#39;shoved up against&#39;))
	(set: $insulaeWalls to  (either: &#39;walls&#39;,&#39;sides&#39;))
	(set: $mudBricked to &#39;mud-brick&#39;)
	(set: $squalid to (either: 
		&#39;squalid&#39;, &#39;ugly&#39;, &#39;wretched&#39;, &#39;run down&#39;, &#39;scruffy&#39;, &#39;ramshackle&#39;, &#39;crumbling&#39;))
	(set: $insulae to (either: 
		&#39;insulae&#39;, &#39;tenements&#39;))
	(set: $forum to (either: &#39;forum&#39;, &#39;forum boarium&#39;))
	(set: $in to &#39;in&#39;)
	(set: $romeMod to (either: &#39;ancient&#39;, &#39;central&#39;, &#39;downtown&#39;))
	(set: $rome to &#39;Rome&#39;)
	
	(output-data:&#39;&#39;)
	]
	)
	)
	
(set: $passageType to &#39;street&#39;)
(set: $doorType to &#39;alley&#39;)
}
The elevator doors open onto $hundredstring and you [[step out -&gt;main pathType top corner]].</tw-passagedata><tw-passagedata pid="116" name="trash bag" tags="" position="1490,1822" size="100,100">&lt;!--18--&gt;
(set: $setVariables to (macro: [
	(if: $floorInt is 0)[
		($setFloor0vocab:)]
	(if: $floorInt is 1)[
		($setFloor1vocab:)
						]
	(output-data:&#39;&#39;)]
	)
	)
	
(set: $setVariables to (macro: [
	($setVocab:)
	]
	(output-data:&#39;&#39;)
	))
	
&lt;!--21--&gt;
&lt;!--singular, plural CAPSingular, CAPSplural, shortform--&gt;
(set: $doorsAndPassages to (macro: [
	(set: $passageType to (cond:
		$floorInt is 0, $0passages,
		$floorInt is 1, $1passages,
		$defaultPassages
		))
	(set: $doorType to (cond:
		$floorInt is 0, $0doors,
		$floorInt is 1, $1doors,
		$defaultDoors))
	(output-data:&#39;&#39;)
	]
	)
	)
	
	(set: $maxDepth to (macro: [
	(set: _output to (cond: 
		$floorInt is 0, 2,
		$floorInt is 1, 3,
		2
	))
	(output-data: _output)
	]
	)
	)</tw-passagedata><tw-passagedata pid="117" name="2code" tags="" position="1553,1343" size="100,100">{
&lt;!--maxDepth should be set to one less than the highest noun index--&gt;
(set: $maxDepth to 1)

(set: $prep to (macro: num-type _prepIndex, [
	(set: $attributes to (a: _prepIndex, $altIndex))
	(set: _output to (cond: 
		$attributes matches (a: 1,1), &#39;of&#39;,
		$attributes matches (a: 1,0), &#39;near&#39;,
		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $det to (macro: num-type _nounIndex, [
	(set: $attributes to (a: _nounIndex, $altIndex))
	(set: _output to (cond: 		
		$attributes matches (a: 1,0), &#39;a&#39;,
		$attributes matches (a: 1,1), &#39;the&#39;,
		$attributes matches (a: 2,num), &#39;&#39;,
			&#39;&#39;))
	(output-data: _output)
	]
	))

(set: $noun to (macro: num-type _nounIndex,[
(set: $attributes to (a: _nounIndex, $altIndex))	
	(set: _output to (cond:
		$attributes matches (a: 1,0), $garden,
		$attributes matches (a: 1,1), &#39;gardens&#39;,
		$attributes matches (a: 2,0), $rome,
		$attributes matches (a: 2,1), $Lucullus,
		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $adj to (macro: num-type _adjIndex, [
	(set: $attributes to (a: _adjIndex, $altIndex))
	(set: _output to (cond: 		
		$attributes matches (a: 1,num), $gardenMod,
		$attributes matches (a: 11,num), $peaceful,
		$attributes matches (a: 2,0), $romeMod,
		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $adv to (macro: num-type _advIndex, [
	(output-data: &#39;&#39;)
	]
	))

&lt;!--20--&gt;
(set: $setVocab to (macro: [
	(set: $peaceful to (either: 
		&#39;peaceful&#39;, &#39;tranquil&#39;, &#39;serene&#39;, &#39;private&#39;,&#39;restful&#39;, 
		&#39;quiet&#39;))
	(set: $gardenMod to (either: &#39;water&#39;,&#39;Persian&#39;,&#39;fountain&#39;,&#39;water font&#39;,&#39;reservoir&#39;, &#39;Persio-Roman&#39;))
	(set: $garden to &#39;garden&#39;)
	(set: $gardens to &#39;gardens&#39;)
	(set: $Lucullus to (either: &#39;Lucullus&#39;, &#39;Lucius Licinius Lucullus&#39;))
	(set: $romeMod to (either: &#39;ancient&#39;, &#39;the capital of the empire of&#39;))
	(set: $rome to &#39;Rome&#39;)
	(output-data:&#39;&#39;)
	]
	)
	)
	
(set: $passageType to &#39;path&#39;)
(set: $doorType to &#39;gate&#39;)
}
The elevator doors open onto $hundredstring and you [[step out -&gt;main pathType top corner]].</tw-passagedata><tw-passagedata pid="118" name="3code" tags="" position="1438,1345" size="100,100">{
&lt;!--maxDepth should be set to one less than the highest noun index--&gt;
(set: $maxDepth to 2)

(set: $prep to (macro: num-type _prepIndex, [
	(set: $attributes to (a: _prepIndex, $altIndex))
	(set: _output to (cond: 
		$attributes matches (a: 1,1), &#39;of&#39;,
		$attributes matches (a: 1,0), &#39;with&#39;,
		$attributes matches (a: 1,0), $decorated + &#39; with&#39;,
		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $det to (macro: num-type _nounIndex, [
	(set: $attributes to (a: _nounIndex, $altIndex))
	(set: _output to (cond: 		
		$attributes matches (a: 1,0), &#39;a&#39;,
		$attributes matches (a: 1,1), &#39;the&#39;,
		$attributes matches (a: 2,num), &#39;&#39;,
			&#39;&#39;))
	(output-data: _output)
	]
	))

(set: $noun to (macro: num-type _nounIndex,[
(set: $attributes to (a: _nounIndex, $altIndex))	
	(set: _output to (cond:
		$attributes matches (a: 1,num), $villa,
		$attributes matches (a: 2,0), $walls,
		$attributes matches (a: 2,1), $Livia,
		$attributes matches (a: 3,0), $frescoes,
		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $adj to (macro: num-type _adjIndex, [
	(set: $attributes to (a: _adjIndex, $altIndex))
	(set: _output to (cond: 		
		$attributes matches (a: 1,num), $Roman,
		$attributes matches (a: 11,num), $lavish,
		$attributes matches (a: 2,0), $paneled,
		$attributes matches (a: 12,0), $marble,
		$attributes matches (a: 12,0), $expensive,

		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $adv to (macro: num-type _advIndex, [
	(output-data: &#39;&#39;)
	]
	))

&lt;!--20--&gt;
(set: $setVocab to (macro: [
	(set: $decorated to (either: 
		&#39;decorated&#39;, &#39;bedecked&#39;, &#39;ornamented&#39;, &#39;adorned&#39;,&#39;embellished&#39;, 
		&#39;festooned&#39;))
	(set: $villa to (either: &#39;villa&#39;,&#39;house&#39;,&#39;home&#39;,&#39;residence&#39;))
	(set: $walls to &#39;walls&#39;)
	(set: $Livia to &#39;Livia and Augustus&#39;)
	(set: $frescoes to (either: &#39;frescoes&#39;, &#39;mosaics&#39;, &#39;tapestries&#39;,&#39;paintings&#39;,&#39;sculptures&#39;))
	(set: $Roman to (either: &#39;Roman&#39;, &#39;imperial&#39;))
	(set: $lavish to (either: &#39;lavish&#39;, &#39;sumptuous&#39;, &#39;luxurious&#39;, &#39;opulent&#39;, &#39;grand&#39;, &#39;splendid&#39;))
	(set: $paneled to (either: &#39;paneled&#39;, &#39;stuccoed&#39;, &#39;tiled&#39;))
	(set: $marble to (either: &#39;marble&#39;, &#39;ceramic&#39;))
	(set: $expensive to (either: &#39;expensive&#39;, &#39;valuable&#39;, &#39;priceless&#39;))


	(output-data:&#39;&#39;)
	]
	)
	)
	
(set: $passageType to &#39;hallway&#39;)
(set: $doorType to &#39;doorway&#39;)
}
The elevator doors open onto $hundredstring and you [[step out -&gt;main pathType top corner]].</tw-passagedata><tw-passagedata pid="119" name="4code" tags="" position="1326,1343" size="100,100">{
&lt;!--maxDepth should be set to one less than the highest noun index--&gt;
(set: $maxDepth to 3)

(set: $prep to (macro: num-type _prepIndex, [
	(set: $attributes to (a: _prepIndex, $altIndex))
	(set: _output to (cond: 
		$attributes matches (a: 1, num), &#39;through&#39;,
		$attributes matches (a: 2,0), (either: $surrounded + &#39; by&#39;, &#39;standing &#39; + $amid),
		$attributes matches (a: 3,0), &#39;and&#39;,
		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $det to (macro: num-type _nounIndex, [
	(set: $attributes to (a: _nounIndex, $altIndex))
	(set: _output to (cond: 		
		$attributes matches (a: 1,num), &#39;a&#39;,
		$attributes matches (a: 2,num), &#39;the&#39;,
		$attributes matches (a: 3,0), &#39;&#39;,
			&#39;&#39;))
	(output-data: _output)
	]
	))

(set: $noun to (macro: num-type _nounIndex,[
(set: $attributes to (a: _nounIndex, $altIndex))	
	(set: _output to (cond:
		$attributes matches (a: 1,num), &#39;path&#39;,
		$attributes matches (a: 2,0), $ruinsOfACity,
		$attributes matches (a: 2,1), $ruinsOfRome,
		$attributes matches (a: 3,0), $collapsingStructures,
		$attributes matches (a: 4,0), $chunksOfStuff,
		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $adj to (macro: num-type _adjIndex, [
	(set: $attributes to (a: _adjIndex, $altIndex))
	(set: _output to (cond: 		
		$attributes matches (a: 2,num), $crumbling,
		$attributes matches (a: 3,0), $columnar,
		$attributes matches (a: 13,0), $collapsed,
		$attributes matches (a: 4,0), $broken,

		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $adv to (macro: num-type _advIndex, [
	(output-data: &#39;&#39;)
	]
	))


&lt;!--20--&gt;
&lt;!--These settings are included in a macro so that they get set afresh every time the macro is called by the sentence builder. Produces variation.--&gt;  
(set: $setVocab to (macro: [
	(set: $surrounded to (either: 
		&#39;surrounded&#39;, &#39;encircled&#39;, &#39;girdled&#39;))
	(set: $ruins to (either: &#39;ruins&#39;,&#39;ruins&#39;,&#39;remnants&#39;,&#39;remains&#39;,&#39;rubble&#39;,&#39;wreckage&#39;, &#39;desolation&#39;))
	(set: $amid to (either: &#39;amid&#39;, &#39;amidst&#39;,&#39;in the midst of&#39;,&#39;amongst&#39;))
	(set: $city to (either: &#39;city&#39;, &#39;metropolis&#39;))
	(set: $frescoes to (either: &#39;frescoes&#39;, &#39;mosaics&#39;, &#39;tapestries&#39;,&#39;paintings&#39;,&#39;sculptures&#39;))
	(set: $Rome to (either: &#39;Rome&#39;, &#39;Rome&#39;, &#39;Rome&#39;, &#39;the Eternal City&#39;, &#39;the city of Romulus&#39;, &#39;the Caput Mundi&#39;, &#39;the city of the seven hills&#39;))
	(set: $structures to (either: &#39;structures&#39;, &#39;structures&#39;, &#39;buildings&#39;, &#39;edifices&#39;))
	(set: $chunks to (either: &#39;chunks&#39;, &#39;hunks&#39;, &#39;lumps&#39;, &#39;slabs&#39;))
	(set: $crumbling to (either: &#39;crumbling&#39;, &#39;disintegrating&#39;, &#39;collapsing&#39;, &#39;decaying&#39;, &#39;perishing&#39;))
	(set: $cityMod to (either: &#39;ancient&#39;, &#39;once great&#39;, &#39;once glorious&#39;, &#39;sacked&#39;, &#39;beaten&#39;, &#39;vanquished&#39;, &#39;defeated&#39;))
	(set: $columnar to (either: &#39;columnar&#39;, &#39;pillared&#39;, &#39;arched&#39;, &#39;domed&#39;))
	(set: $collapsed to (either: &#39;collapsed&#39;, &#39;caved&#39;, &#39;subsided&#39;, &#39;buckled&#39;, &#39;crumpled&#39;, &#39;slumped&#39;, &#39;saggy&#39;, &#39;crooked&#39;))
	(set: $broken to (either: &#39;broken&#39;, &#39;smashed&#39;, &#39;fragmented&#39;, &#39;splintered&#39;, &#39;crushed&#39;, &#39;pulverised&#39;))
	(set: $material to (either: &#39;marble&#39;, &#39;stone&#39;, &#39;Roman concrete&#39;, &#39;statues&#39;, &#39;buildings&#39;, &#39;wall&#39;, &#39;road&#39;))
	(set: $ruinsOfACity to $ruins + &#39; of a &#39; + ($optional: $cityMod + &#39; &#39;) + $city)
	(set: $ruinsOfRome to $ruins + &#39; of &#39; + $Rome)
	(set: $chunksOfStuff to $chunks + &#39; of &#39; + $material)
	(set: $collapsingStructures to $collapsed + &#39; &#39; + $columnar + &#39; &#39; + $structures)

	(output-data:&#39;&#39;)
	]
	)
	)
	
(set: $passageType to &#39;pathway&#39;)
(set: $doorType to &#39;opening&#39;)
}
The elevator doors open onto $hundredstring and you [[step out -&gt;main pathType top corner]].</tw-passagedata><tw-passagedata pid="120" name="5code" tags="" position="1440,1453" size="100,100">{
&lt;!--maxDepth should be set to one less than the highest noun index--&gt;
(set: $maxDepth to 2)

(set: $prep to (macro: num-type _prepIndex, [
	(set: $attributes to (a: _prepIndex, $altIndex))
	(set: _output to (cond: 
		$attributes matches (a: 1,1), $besetWith,
		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $det to (macro: num-type _nounIndex, [
	(set: $attributes to (a: _nounIndex, $altIndex))
	(set: _output to (cond: 		
		$attributes matches (a: 2,0), &#39;the&#39;,
			&#39;&#39;))
	(output-data: _output)
	]
	))

(set: $noun to (macro: num-type _nounIndex,[
(set: $attributes to (a: _nounIndex, $altIndex))	
	(set: _output to (cond:
		$attributes matches (a: 1,num), $villa,
		$attributes matches (a: 2,0), $walls,
		$attributes matches (a: 2,1), $Livia,
		$attributes matches (a: 3,0), $frescoes,
		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $adj to (macro: num-type _adjIndex, [
	(set: $attributes to (a: _adjIndex, $altIndex))
	(set: _output to (cond: 		
		$attributes matches (a: 1,num), $Roman,
		$attributes matches (a: 11,num), $lavish,
		$attributes matches (a: 2,0), $paneled,
		$attributes matches (a: 12,0), $marble,
		$attributes matches (a: 12,0), $expensive,

		&#39;&#39;))
	(output-data: _output)
	]
	))
	
(set: $adv to (macro: num-type _advIndex, [
	(output-data: &#39;&#39;)
	]
	))

&lt;!--20--&gt;
(set: $setVocab to (macro: [
	(set: $decorated to (either: 
		&#39;decorated&#39;, &#39;bedecked&#39;, &#39;ornamented&#39;, &#39;adorned&#39;,&#39;embellished&#39;, 
		&#39;festooned&#39;))
	(set: $villa to (either: &#39;villa&#39;,&#39;house&#39;,&#39;home&#39;,&#39;residence&#39;))
	(set: $walls to &#39;walls&#39;)
	(set: $Livia to &#39;Livia and Augustus&#39;)
	(set: $frescoes to (either: &#39;frescoes&#39;, &#39;mosaics&#39;, &#39;tapestries&#39;,&#39;paintings&#39;,&#39;sculptures&#39;))
	(set: $Roman to (either: &#39;Roman&#39;, &#39;imperial&#39;))
	(set: $lavish to (either: &#39;lavish&#39;, &#39;sumptuous&#39;, &#39;luxurious&#39;, &#39;opulent&#39;, &#39;grand&#39;, &#39;splendid&#39;))
	(set: $paneled to (either: &#39;paneled&#39;, &#39;stuccoed&#39;, &#39;tiled&#39;))
	(set: $marble to (either: &#39;marble&#39;, &#39;ceramic&#39;))
	(set: $expensive to (either: &#39;expensive&#39;, &#39;valuable&#39;, &#39;priceless&#39;))


	(output-data:&#39;&#39;)
	]
	)
	)
	
(set: $passageType to &#39;road&#39;)
(set: $doorType to &#39;path&#39;)
}
The elevator doors open onto $hundredstring and you [[step out -&gt;main pathType top corner]].</tw-passagedata></tw-storydata>

<tw-storydata name="century template Copy Copy" startnode="106" creator="Twine" creator-version="2.3.12" ifid="3B8E31AD-EB77-4375-A909-6F707C11AFF0" zoom="0.6" format="Harlowe" format-version="3.2.1" options="" hidden><style role="stylesheet" id="twine-user-stylesheet" type="text/twine-css">.passage img {
    display: block;
    max-width: 100%;
    height: auto;
    margin: 0 auto;
}</style><script role="script" id="twine-user-script" type="text/twine-javascript">window.Harlowe = { 'State' : State };
window.processInputElements = function () {
    $('input[data-varname]').on('change', function () {
        var varName = $(this).attr('data-varname');
        Harlowe.State.variables[varName] = this.value;
        $("tw-story").css("background-size","cover");
        if(Harlowe.State.variables[varName] == 0)
        			{$("tw-story").css("background-image","url(https://th.bing.com/th/id/Rf5fecfd0d9830aab6202cf747bd3ad01?rik=L2W1jbILOWUswA&riu=http%3a%2f%2fak3.picdn.net%2fshutterstock%2fvideos%2f3933461%2fthumb%2f2.jpg&ehk=Jj2vK1CpTF0Tkwwx8bW4RAHwBltP9rnWO4IfZTCfsMY%3d&risl=&pid=ImgRaw)");
        			}
			else if(Harlowe.State.variables[varName] == 1)
        			{$("tw-story").css("background-image","url(https://i.pinimg.com/originals/4f/0b/88/4f0b88df6b723ffda1fb80629884521a.jpg)");
							}
			else if(Harlowe.State.variables[varName] == 2)
        			{$("tw-story").css("background-image","url(https://i.pinimg.com/originals/5b/c7/19/5bc719f84cfc170ff0558702b2c97876.jpg)");
							}
			else if(Harlowe.State.variables[varName] == 3)
        			{$("tw-story").css("background-image","url(https://www.realmofhistory.com/wp-content/uploads/2016/05/3D_Animations_Layout_Roman_Domus_House_1-770x437.jpg)");
							}
						else if(Harlowe.State.variables[varName] == 4)
        			{$("tw-story").css("background-image","url(https://images.fineartamerica.com/images/artworkimages/mediumlarge/1/roman-ruin-architecture-with-predigendem-st-paul-giovanni-paolo-panini.jpg)");
							}
			else if(Harlowe.State.variables[varName] == 5)
        			{$("tw-story").css("background-image","url(https://www.artranked.com/images/24/24079a74065dcd363eff01805c36d6ed.jpg)");
							}
			else if(Harlowe.State.variables[varName] == 6)
        			{$("tw-story").css("background-image","url(https://vignette.wikia.nocookie.net/assassinscreed/images/b/b8/Damascus-depth.jpg/revision/latest?cb=20100918105609)");
							}
			else if(Harlowe.State.variables[varName] == 7)
        			{$("tw-story").css("background-image","url(https://www.ancient-origins.net/sites/default/files/field/image/viking-tar.jpg)");
							}
						else if(Harlowe.State.variables[varName] == 8)
        			{$("tw-story").css("background-image","url(file:///private/var/folders/kl/xdjgclbs2rd7j83lrx2kjygr0000gp/T/6f3dc60b-15c8-438b-b96d-458185d4b829.html)");
							}
				else if(Harlowe.State.variables[varName] == 9)
        			{$("tw-story").css("background-image","url(https://vignette.wikia.nocookie.net/lotrfanon/images/6/6a/Mordor.png/revision/latest?cb=20170724095433)");
							}
			else if(Harlowe.State.variables[varName] == 10)
        			{$("tw-story").css("background-image","url(https://4.bp.blogspot.com/-H7YcbEPiqH4/VbisGV8F-8I/AAAAAAAEtBs/sQETZ8PgdVM/s1600/John%2BMartin%2BTutt%2527Art%2540%2B%252825%2529.jpg)");
							}
			else if(Harlowe.State.variables[varName] == 11)
        			{$("tw-story").css("background-image","url(https://i.pinimg.com/originals/32/d1/2d/32d12d3eb111ccb5065073c181007cc3.jpg)");
							}
			else if(Harlowe.State.variables[varName] == 12)
        			{$("tw-story").css("background-image","url(https://i.pinimg.com/originals/98/82/b2/9882b2685e23b81832d9b8a3258fa65a.jpg)");
							}
			else if(Harlowe.State.variables[varName] == 13)
        			{$("tw-story").css("background-image","url(https://i.pinimg.com/originals/ea/31/23/ea31239d3f7eba975360f044906a3aba.jpg)");
							}		
			else if(Harlowe.State.variables[varName] == 14)
        			{$("tw-story").css("background-image","url(https://i.ytimg.com/vi/2QUYYOXUF4o/maxresdefault.jpg)");
							}	
			else if(Harlowe.State.variables[varName] == 15)
        			{$("tw-story").css("background-image","url(https://upload.wikimedia.org/wikipedia/commons/e/ef/Avvakum_by_Pyotr_Yevgenyevich_Myasoyedov.jpg)");
							}	
			else if(Harlowe.State.variables[varName] == 16)
        			{$("tw-story").css("background-image","url(https://i.postimg.cc/j5Gr8x8r/artwork-fantasy-city-town-digital-river-bridge-boat-medieval-1743259.jpg)");
							}	
			else if(Harlowe.State.variables[varName] == 17)
        			{$("tw-story").css("background-image","url(https://i.postimg.cc/tgkQHd2D/heads-On-Pikes.jpg)");
							}	
			else if(Harlowe.State.variables[varName] == 18)
        			{$("tw-story").css("background-image","url(https://i.pinimg.com/originals/cd/41/30/cd413085d15e1fbf4ef0f18b8ddbcdf1.jpg)");
							}	
			else if(Harlowe.State.variables[varName] == 19)
        			{$("tw-story").css("background-image","url(https://w-dog.pw/android-wallpapers/7/16/532616445160923/art-war-france-saint-lo-street-us-troops-men-uniforms-shop-rifles-m1903a3-and-m1903a4-shots-smoke-ruins-ww2-picture.jpg)");
							}
			else if(Harlowe.State.variables[varName] == 20)
        			{$("tw-story").css("background-image","url(https://cdnb.artstation.com/p/assets/images/images/006/670/547/large/ricardo-garcia-hernanz-proyecto-final-concept-art-definitivo.jpg?1500361155)");
							}
					 
					
    });
};

</script><tw-passagedata pid="1" name="main pathType top corner" tags="" position="1704,1267" size="100,100">(if: $heading is &quot;South&quot;) [You are at a corner where two $passageTypes meet. There is a $portalType behind you labeled &quot;Decade 0&quot; which you can [[step through-&gt;decade zero]], and an [[elevator]] door to your right. A $passageType stretches off to your left, and [[you may choose to head down it-&gt;top bar pathType]]. Alternatively, you can head down the $passageType[[ ahead-&gt;main pathType upper]].] 
(if: $heading is &quot;North&quot;)[You are at a corner where two $passageTypes meet. There is a $portalType in front of you labeled &quot;Decade 0&quot;, and an [[elevator]] door to your left. Stretching off to your right is the $passageType that you can head [[along-&gt;top bar pathType]]. Alternatively, you can go through the [[door in front of you-&gt;decade zero]].]
(if: $heading is &quot;West&quot;)[The $passageType turns sharp left. You may step [[through a $portalType-&gt;decade zero]] in the corner to the right of you labeled &quot;Decade 0&quot;. Alternatively, you can follow the $passageType[[ off to your left-&gt;main pathType upper]]. There is also an [[elevator]] door in front of you.]
(if: $heading is &quot;East&quot;) [You are at a corner where two $passageTypes meet. There is an [[elevator]] behind you, and a $portalType [[immediately to your left-&gt;decade zero]] labeled &quot;Decade 0&quot;. A $passageType stretches off ahead which [[you may choose to head along-&gt;top bar pathType]]. Alternatively, you can head down the $passageType[[ stretching off to your right-&gt;main pathType upper]].] 
(if: $heading is &quot;out&quot;)[The $passageType turns sharp left. You may step [[through a $portalType-&gt;decade zero]] in the corner to the right of you labeled &quot;Decade 0&quot;. Alternatively, you can follow the $passageType[[ off to your left-&gt;main pathType upper]]. There is also an [[elevator]] door in front of you.]</tw-passagedata><tw-passagedata pid="2" name="top bar pathType" tags="" position="1911,1266" size="100,100">(if: $heading is &quot;West&quot;) [Halfway along the $passageType is a door to the left labeled &quot;Decade 2&quot;. You can [[take this-&gt;decade two]], or you can [[continue along the $passageType-&gt;main pathType top corner]] to where it turns left.] 
(else:) [
(if: $heading is &quot;out&quot;) [You step into a $passageType heading left to right. To the left, the $passageType goes along a ways before [[turning left at a pair of doors-&gt;main pathType top corner]]. To the right, [[the $passageType ends in a door-&gt;d1 door]].]
(else:) [(set: $heading to &quot;East&quot;) Halfway along the $passageType is a door to the right labeled &quot;Decade 2&quot;. You can [[take this-&gt;decade two]], or you can [[head on down the $passageType-&gt;d1 door]] to where it ends at a door.] 
]</tw-passagedata><tw-passagedata pid="3" name="main pathType upper" tags="" position="1706,1500" size="100,100">(if: $heading is &quot;North&quot;)[The $passageType passes between twin doors to the [[left-&gt;decade nine]], labeled &quot;Decade 9&quot;, and [[right -&gt;decade three]] labeled &quot;Decade 3&quot;,. You can take either door or, alternatively, [[press on-&gt;main pathType top corner]] up the $passageType.]
(else:) [(set: $heading to &quot;South&quot;) The $passageType passes between twin doors to the [[right-&gt;decade nine]], labeled &quot;Decade 9&quot;, and [[left -&gt;decade three]], labeled &quot;Decade 3&quot;,. You can take either door or, alternatively, [[press on-&gt;main pathType middle]] down the $passageType.]</tw-passagedata><tw-passagedata pid="4" name="decade zero" tags="" position="1700,1118" size="100,100">(if: $heading is &quot;Leaving&quot;)[(set: $heading to &quot;South&quot;) You mount the stairs towards the exit to decade zero. At the top is a door. You [[step through it-&gt;main pathType top corner]].]
(else:) [(set: $heading to &quot;South&quot;) You step through the door into decade 0. Steps lead down to the [[entrance chamber-&gt;0 entrance chamber]].]</tw-passagedata><tw-passagedata pid="5" name="decade two" tags="" position="1914,1405" size="100,100">(if: $heading is &quot;out&quot;) [Steps lead up and out of the stable area. You step through a door into the [[central nexus.-&gt;top bar pathType]]]
(else:) [You step through the door into the decade 2 complex. Steps lead down into a [[stable area]].]</tw-passagedata><tw-passagedata pid="6" name="d1 door" tags="" position="2079,1269" size="100,100">(if: $heading is &quot;East&quot;) [(set: $heading to &quot;West&quot;) The $passageType ends in a door labeled &quot;Decade 1&quot;. If you wish to [[step through this door-&gt;decade one]] you may. Otherwise you can [[double back-&gt;top bar pathType]] along the $passageType.]
(else:)[
(if: $heading is &quot;out&quot;) [(set: $heading to &quot;West&quot;) The $passageType ends in a door labeled &quot;Decade 1&quot;. If you wish to [[step through this door-&gt;decade one]] you may. Otherwise you can [[double back-&gt;top bar pathType]] along the $passageType.]
(else:) [(set: $heading to &quot;West&quot;) You emerge onto a $passageType that you may [[go along-&gt;top bar pathType]].]
]</tw-passagedata><tw-passagedata pid="7" name="decade nine" tags="" position="1099,1501" size="100,100">You step through the door into the decade 9 complex. You proceed down a $passageType and emerge into a square keep. You entered through [[wall zero-&gt;d9w0]]. To your left and right, respectively, are walls [[one-&gt;d9w1]] and [[two-&gt;d9w2]]. On wall two a ladder leads up to the [[attic-&gt;d9attic]]. Across from you is [[wall three-&gt;d9w3]]. The wall is rounded where wall two meets wall three, and there is a door there that enters into a [[round turret-&gt;d9turret]].  </tw-passagedata><tw-passagedata pid="8" name="decade three" tags="" position="1847,1522" size="100,100">You step through the door into decade 3. </tw-passagedata><tw-passagedata pid="9" name="main pathType middle" tags="" position="1708,1653" size="100,100">(if: $heading is &quot;South&quot;) [A passage branches off to the left. You can [[take it-&gt;middle bar pathType]] or [[press on-&gt;main pathType lower]] towards the end of the $passageType, where you can see two doors.] 
(if: $heading is &quot;North&quot;) [A passage branches off to the right. You can [[take it-&gt;middle bar pathType]] or [[press on-&gt;main pathType upper]] up the $passageType.] 
(if: $heading is &quot;West&quot;) [(set: $heading to &quot;North&quot;) You arrive at a T-junction. You can [[head left and down-&gt;main pathType lower]] or [[right and up-&gt;main pathType upper]] the $passageType.] </tw-passagedata><tw-passagedata pid="10" name="middle bar pathType" tags="" position="1979,1653" size="100,100">(if: $heading is &quot;West&quot;) [Heading along the $passageType, there is a [[door on the left-&gt;decade six]] labeled &quot;Decade 6&quot; and, further along, another [[door on the right-&gt;decade four]] labeled &quot;Decade 4&quot;. Or you can [[press ahead-&gt;main pathType middle]] to where the $passageType meets the main $passageType.]
(else:) [(set: $heading to &quot;East&quot;) This $passageType is marked by three doors. First there is a [[door on the left-&gt;decade four]] labeled &quot;Decade 4&quot;. Then further down, there is a [[door on the right-&gt;decade six]] labeled &quot;Decade 6&quot;. You can take any of these doors. Alternatively, you can [[press ahead-&gt;outside d5]] to where the $passageType ends in a door.]</tw-passagedata><tw-passagedata pid="11" name="main pathType lower" tags="" position="1700,1813" size="100,100">(set: $heading to &quot;North&quot;)[This $passageType ends at two doors, one to the [[left-&gt;narthex]] labeled &quot;Decade 7&quot; and [[one directly ahead-&gt;decade eight]] labeled &quot;Decade 8&quot;. You may take either door or [[double back-&gt;main pathType middle]].]</tw-passagedata><tw-passagedata pid="12" name="decade four" tags="" position="1978,1527" size="100,100">You step through the door into decade 4. </tw-passagedata><tw-passagedata pid="13" name="decade six" tags="" position="1985,1817" size="100,100">You step through the door into decade 6. </tw-passagedata><tw-passagedata pid="14" name="narthex" tags="" position="2110,2028" size="100,100">(if: $direction is &quot;neutral&quot;) [You are in the narthex of a church. To one side is [[wall one-&gt;d7w1]]. In the opposite direction, through an ornate railing, is the [[nave]].]
(else:) [You step through the door into the decade 7 complex. You are in the narthex of a church. You entered through [[wall one-&gt;d7w1]]. If you have no interest in this wall, you can proceed in the opposite direction, where a railing separates the narthex from the [[nave]].]</tw-passagedata><tw-passagedata pid="15" name="decade eight" tags="" position="1700,1963" size="100,100">You step through the door into decade 8. </tw-passagedata><tw-passagedata pid="16" name="outside d5" tags="" position="2135,1650" size="100,100">(set: $heading to &quot;West&quot;) The $passageType ends at a door labeled &quot;Decade 5&quot;. You can [[take this door-&gt;d5r1]] or you can [[double back-&gt;middle bar pathType]].</tw-passagedata><tw-passagedata pid="17" name="decade one" tags="" position="3211,433" size="100,100">(if: $heading is &quot;down&quot;) [You are at the exit door to the decade one room complex. [[You may step through the door-&gt;d1 door]].] 

(else:) [(set: $heading to &quot;up&quot;) You step through the door into the decade 1 room complex. Steps lead up to [[the entrance chamber-&gt;d1l1]].]</tw-passagedata><tw-passagedata pid="18" name="0 entrance chamber" tags="" position="612,271" size="100,100">(if:$heading is &quot;South&quot;) [You are in a narrow passage. To your right is [[wall 0-&gt;wall 0 zero]], which you can pause to scrutinize. To your left is [[wall 1-&gt;wall 0 one]], which you can also pause to look at. Alternatively, you can [[press forward-&gt;0 T Junction]] into the room complex.] 
(else:) [(set: $heading to &quot;Leaving&quot;) You are in the exit $passageType to the room complex. To your left is [[wall 0-&gt;wall 0 zero]]. To your right is [[wall 1-&gt;wall 0 one]]. You can [[press ahead-&gt;decade zero]] and leave the room complex.]</tw-passagedata><tw-passagedata pid="19" name="0 T Junction" tags="" position="612,133" size="100,100">(if: $heading is &quot;South&quot;) [You are at a T junction. The wall 0 opposite is [[wall 5-&gt;wall 0 5]], which you can pause to look at. Or you can turn right towards a [[square room-&gt;0 square room]], or left towards a [[triangular room-&gt;0 triangular room]].] 
(if: $heading is &quot;East&quot;) [The [[exit to the room complex-&gt;0 entrance chamber]]  branches off to the left, passing between walls 0 and 1. On your right is [[wall 5-&gt;wall 0 five]], which you can scrutinize. Or you can go forward into the [[triangular room-&gt;0 triangular room]].]
(if: $heading is &quot;West&quot;) [The [[exit to the room complex-&gt;0 entrance chamber]]  branches off to the right, passing between walls 0 and 1. On your left is [[wall 5-&gt;wall 0 five]], which you can scrutinize. Or you can go forward into the [[square room-&gt;0 square room]].]</tw-passagedata><tw-passagedata pid="20" name="0 square room" tags="" position="747,139" size="100,100">(set: $heading to &quot;East&quot;) You have entered the corner of a square room. The wall you are entering through is [[wall 6-&gt;wall 0 six]], which stretches off to your left before running into the perpendicular [[wall 7-&gt;wall 0 seven]], which faces you to the left. Opposite you is [[wall 8-&gt;wall 0 eight]]. And coming along your right, forming a wall that runs continuous with the $passageType from which you came, is [[wall 9-&gt;wall 0 nine]]. If you do not wish to pause to examine these walls, you may [[head back into the $passageType behind you-&gt;0 T Junction]].  </tw-passagedata><tw-passagedata pid="21" name="0 triangular room" tags="" position="474,133" size="100,100">(set: $heading to &quot;West&quot;) You are in the ninety degree corner of a room shaped like a right angled triangle. To your left, the wall from the $passageType behind you runs continuously into the room, forming [[wall 2-&gt;wall 0 two]]. Opposite you to the right is the hypotenuse of the triangle, [[wall 3-&gt;wall 0 three]]. Coming up to your right is the third wall, [[wall 4-&gt;wall 0 four]], which is the wall you entered through. If you do not wish to scrutinize these walls, you may [[head back into the $passageType behind you-&gt;0 T Junction]]. </tw-passagedata><tw-passagedata pid="22" name="wall 0 zero" tags="" position="474,261" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="23" name="wall 0 one" tags="" position="742,273" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="24" name="wall 0 six" tags="" position="677,12" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="25" name="wall 0 seven" tags="" position="792,11" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="26" name="wall 0 eight" tags="" position="872,262" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="27" name="wall 0 nine" tags="" position="919,116" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="28" name="wall 0 two" tags="" position="349,259" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="29" name="wall 0 three" tags="" position="341,62" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="30" name="wall 0 four" tags="" position="472,1" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="31" name="wall 0 5" tags="" position="234,191" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="32" name="wall 0 five" tags="" position="1004,261" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="33" name="d1l1" tags="" position="3335,278" size="100,100">(if: $heading is &quot;up&quot;) [You are in the lower courtyard of an ascending split-level chamber. You have emerged through [[wall one-&gt;d1w1]]. To your left and right, respectively, are walls [[two-&gt;d1w2]] and [[three-&gt;d1w3]]. Across from you is [[wall four-&gt;d1w4]], at one side of which a flight of steps [[leads up to the next level-&gt;d1l2]].]
(if: $heading is &quot;down&quot;) [You are in the lower courtyard of an ascending split-level chamber. To your right is [[wall two-&gt;d1w2]] and to your left [[wall three-&gt;d1w3]]. Behind  you is [[wall four-&gt;d1w4]], at one side of which a flight of steps [[leads up to the next level-&gt;d1l2]]. Before you is [[wall one-&gt;d1w1]], to the left of which a [[narrow flight of steps leads down-&gt;decade one]] towards the exit of the room complex.]</tw-passagedata><tw-passagedata pid="34" name="d1w1" tags="" position="3335,404" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="35" name="d1w2" tags="" position="3206,281" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="36" name="d1w3" tags="" position="3465,294" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="37" name="d1w4" tags="" position="3206,143" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="38" name="d1l2" tags="" position="3581,154" size="100,100">(if: $heading is &quot;up&quot;) [You are on the middle level platform of a large split level chamber. Behind you is mostly a sheer drop down into the lower courtyard, with [[just a narrow flight of steps heading down-&gt;d1l1]]. To your left is [[wall five-&gt;d1w5]], to your right [[wall six-&gt;d1w6]], and ahead of you [[wall seven-&gt;d1w7]]. To the side of wall seven is a flight of steps [[leading up to the top level of the chamber-&gt;d1l3]].]
(if: $heading is &quot;down&quot;) [You are on the middle level platform of a large split level chamber. Before you is mostly a sheer drop down into the lower courtyard, with [[just a narrow flight of steps heading down-&gt;d1l1]]. To your right is [[wall five-&gt;d1w5]], to your left [[wall six-&gt;d1w6]], and behind you [[wall seven-&gt;d1w7]]. To the side of wall seven is a flight of steps [[leading up to the top level of the chamber-&gt;d1l3]].]</tw-passagedata><tw-passagedata pid="39" name="d1w5" tags="" position="3580,21" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="40" name="d1w6" tags="" position="3581,298" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="41" name="d1w7" tags="" position="3723,224" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="42" name="d1l3" tags="" position="3856,159" size="100,100">(set: $heading to &quot;down&quot;) You are on the highest platform of a large three level chamber. to your left is [[wall eight-&gt;d1w8]]. To your right [[wall nine-&gt;d1w9]]. And ahead of you is [[wall ten-&gt;d1w10]]. Behind you is a sheer drop to the middle platform of the chamber, to one side of which is [[a flight of steps going down-&gt;d1l2]]. </tw-passagedata><tw-passagedata pid="43" name="d1w8" tags="" position="3855,296" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="44" name="d1w9" tags="" position="3855,22" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="45" name="d1w10" tags="" position="3995,161" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="46" name="d5r1" tags="" position="3380,1642" size="100,100">(set: $position to 1) 
(if: $heading is &quot;clockwise&quot;) [You are heading clockwise around a large pentagonal $passageType. To your left, the outer wall is [[wall 1-&gt;d5w1]]. There is a door in this wall that exits the decade 5 complex. The opposite, inner, wall is [[wall 2-&gt;d5w2]]. You may also [[continue clockwise around the pentagon-&gt;d5r2]].Or [[you might prefer to go in the other direction-&gt;d5reverse]].]
(if: $heading is &quot;counterclockwise&quot;) [You are heading counterclockwise around a large pentagonal $passageType. To your right, the outer wall is [[wall 1-&gt;d5w1]]. There is a door in this wall that exits the decade 5 complex. The opposite, inner, wall is [[wall 2-&gt;d5w2]]. You may also [[continue counterclockwise around the pentagon-&gt;d5r5]].Or [[you might prefer to go in the other direction-&gt;d5reverse]].]
(else:)[(set: $heading to &quot;clockwise&quot;) You are in a $passageType that circles around on itself in the shape of a pentagon. You have entered through [[wall 1-&gt;d5w1]], and opposite you is [[wall 2-&gt;d5w2]]. Turning left, you may [[go clockwise around the pentagon-&gt;d5r2]]. Or [[you might prefer to go in the other direction-&gt;d5reverse]].]</tw-passagedata><tw-passagedata pid="47" name="d5w1" tags="" position="3262,1647" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="48" name="d5w2" tags="" position="3507,1644" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="49" name="d5r2" tags="" position="3439,1449" size="100,100">(set: $position to 2)
(if: $heading is &quot;clockwise&quot;) [You are proceeding clockwise around a large pentagonal $passageType. The outer wall to your left is [[wall 3-&gt;d5w3]]. The inner wall to your right is [[wall 4-&gt;d5w4]]. Or you may [[continue clockwise around the pentagon-&gt;d5r3]]. Or [[you might prefer to go in the other direction-&gt;d5reverse]].]
(if: $heading is &quot;counterclockwise&quot;) [You are proceeding counterclockwise around a large pentagonal $passageType. The outer wall to your right is [[wall 3-&gt;d5w3]]. The inner wall to your left is [[wall 4-&gt;d5w4]]. Or you may [[continue counterclockwise around the pentagon-&gt;d5r1]].Or [[you might prefer to go in the other direction-&gt;d5reverse]].]</tw-passagedata><tw-passagedata pid="50" name="d5r5" tags="" position="3617,1896" size="100,100">(set: $position to 5)
(if: $heading is &quot;clockwise&quot;) [You are proceeding clockwise around a large pentagonal $passageType. The outer wall to your left is [[wall 9-&gt;d5w9]]. The inner wall to your right is [[wall 10-&gt;d5w10]]. Or you may [[continue clockwise around the pentagon-&gt;d5r1]]. Alternatively, you can [[turn around-&gt;d5reverse]].]
(if: $heading is &quot;counterclockwise&quot;) [You are proceeding counterclockwise around a large pentagonal $passageType. The outer wall to your right is [[wall 9-&gt;d5w9]]. The inner wall to your left is [[wall 10-&gt;d5w10]]. You may [[continue counterclockwise around the pentagon-&gt;d5r4]]. Or [[you might prefer to go in the other direction-&gt;d5reverse]].]</tw-passagedata><tw-passagedata pid="51" name="d5w3" tags="" position="3302,1359" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="52" name="d5w4" tags="" position="3564,1524" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="53" name="d5r3" tags="" position="3785,1449" size="100,100">(set: $position to 3)
(if: $heading is &quot;clockwise&quot;) [You are proceeding clockwise around a large pentagonal $passageType. The outer wall to your left is [[wall 5-&gt;d5w5]]. The inner wall to your right is [[wall 6-&gt;d5w6]]. Or you may [[continue clockwise around the pentagon-&gt;d5r4]]. Alternatively, you can [[turn around-&gt;d5reverse]].]
(if: $heading is &quot;counterclockwise&quot;) [You are proceeding counterclockwise around a large pentagonal $passageType. The outer wall to your right is [[wall 5-&gt;d5w5]]. The inner wall to your left is [[wall 6-&gt;d5w6]]. Or you may [[continue counterclockwise around the pentagon-&gt;d5r2]]. Or [[you might prefer to go in the other direction-&gt;d5reverse]].]</tw-passagedata><tw-passagedata pid="54" name="d5r4" tags="" position="3874,1644" size="100,100">(set: $position to 4)
(if: $heading is &quot;clockwise&quot;) [You are proceeding clockwise around a large pentagonal $passageType. The outer wall to your left is [[wall 7-&gt;d5w7]]. The inner wall to your right is [[wall 8-&gt;d5w8]]. Or you may [[continue clockwise around the pentagon-&gt;d5r5]]. Alternatively, you can [[turn around-&gt;d5reverse]].]
(if: $heading is &quot;counterclockwise&quot;) [You are proceeding counterclockwise around a large pentagonal $passageType. The outer wall to your right is [[wall 7-&gt;d5w7]]. The inner wall to your left is [[wall 8-&gt;d5w8]]. Or you may [[continue counterclockwise around the pentagon-&gt;d5r3]]. Or [[you might prefer to go in the other direction-&gt;d5reverse]].]</tw-passagedata><tw-passagedata pid="55" name="d5w5" tags="" position="3915,1309" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="56" name="d5w6" tags="" position="3670,1526" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="57" name="d5w7" tags="" position="3744,1642" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="58" name="d5w8" tags="" position="4000,1646" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="59" name="d5w9" tags="" position="3614,2026" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="60" name="d5w10" tags="" position="3619,1756" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="61" name="d5reverse" tags="" position="3618,1641" size="100,100">(if: $heading is &quot;clockwise&quot;)
	[(set: $heading to &quot;counterclockwise&quot;)
	(if: $position is 1) [(set: $position to 5) You turn and head in the [[opposite direction-&gt;d5r5]].]
	(else:) [(set: $position -= 1) You turn around and head in the [[opposite direction-&gt;d5r$position]].]
	]
(else:)
	[(set: $heading to &quot;clockwise&quot;)
	(if: $position is 5) [(set: $position to 1) You turn and head in the [[opposite direction-&gt;d5r5]].]
	(else:) [(set: $position += 1) You turn around and head in the [[opposite direction-&gt;d5r$position]].]
	]</tw-passagedata><tw-passagedata pid="62" name="d9w0" tags="" position="1277,1541" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="63" name="d9w1" tags="" position="1099,1642" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="64" name="d9w2" tags="" position="1157,1380" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="65" name="d9attic" tags="" position="1042,1169" size="100,100">You are in the attic of the decade nine keep. Wall [[five-&gt;d9w5]] and wall [[seven-&gt;d9w7]] are triangular walls, opposite to one another. [[Wall four-&gt;d9w4]] and [[wall six-&gt;d9w6]] are rectangular roof walls that incline towards one another and meet above your head. If you do not wish to look at any of these walls, a ladder leads down to the [[keep-&gt;decade nine]]. </tw-passagedata><tw-passagedata pid="66" name="d9w3" tags="" position="920,1499" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="67" name="d9turret" tags="" position="752,1264" size="100,100">You are in a round turret, surrounded by [[wall nine-&gt;d9w8]]. A flight of steps curls around the room, [[leading up-&gt;turret battlements]]. </tw-passagedata><tw-passagedata pid="68" name="d9w5" tags="" position="910,1170" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="69" name="d9w7" tags="" position="1169,1169" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="70" name="d9w6" tags="" position="1004,1295" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="71" name="d9w8" tags="" position="761,1105" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="72" name="d9w9" tags="" position="620,1049" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="73" name="turret battlements" tags="" position="607,1187" size="100,100">You are on the turret battlements. [[Wall nine-&gt;d9w9]] is the circular parapet that surrounds you, punctuated by embrasures. If you do not wish to scrutinize your surroundings any further, you can descend to the [[turret-&gt;d9turret]]. </tw-passagedata><tw-passagedata pid="74" name="d9w4" tags="" position="1039,1029" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="75" name="d7w0" tags="" position="2702,2011" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="76" name="d7w1" tags="" position="1972,2024" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="77" name="d7w2" tags="" position="2109,1901" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="78" name="church&#39;s crossing" tags="" position="2379,2011" size="100,100">You are at the church&#39;s crossing. Ahead of you is a hemispheric apse and [[altar]]. To your left is the [[Epistle transept]]. To your right is the [[Gospel transept]]. Or you can return to the [[nave-&gt;nave]]. </tw-passagedata><tw-passagedata pid="79" name="altar" tags="" position="2559,2012" size="100,100">You are in the apse of the church, by the altar. On one side of you, down the apse steps, the apse opens up to the main area of the church. If you wish to go this way, you can head down the steps to the [[church&#39;s crossing]]. On the other side, the apse is bounded by a single half dome wall. This is [[wall zero-&gt;d7w0]]. </tw-passagedata><tw-passagedata pid="80" name="Epistle transept" tags="" position="2392,2166" size="100,100">You are in the Epistle transept to the right of the church. There are three walls here. Proceeding clockwise, they are [[Wall seven-&gt;d7w7]], [[wall eight-&gt;d7w8]] and [[wall nine-&gt;d7w9]]. Or you can return to the [[church&#39;s crossing]]. </tw-passagedata><tw-passagedata pid="81" name="Gospel transept" tags="" position="2380,1876" size="100,100">You are in the Epistle transept to the left of the church. There are three walls here. Proceeding clockwise, they are [[Wall four-&gt;d7w4]], [[wall five-&gt;d7w5]] and [[wall six-&gt;d7w6]]. Or you can return to the [[church&#39;s crossing]]. </tw-passagedata><tw-passagedata pid="82" name="d7w3" tags="" position="2115,2159" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="83" name="d7w4" tags="" position="2260,1879" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="84" name="d7w5" tags="" position="2368,1744" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="85" name="d7w6" tags="" position="2505,1874" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="86" name="d7w7" tags="" position="2534,2159" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="87" name="d7w8" tags="" position="2397,2298" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="88" name="d7w9" tags="" position="2262,2167" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="89" name="nave" tags="" position="2250,2019" size="100,100">You are in the nave of a church. To the sides of the nave are walls [[two-&gt;d7w2]] and [[three-&gt;d7w3]].] You can go towards the front of the church by heading for the [[church&#39;s crossing]], or to the rear by heading towards the [[narthex]]. </tw-passagedata><tw-passagedata pid="90" name="stable area" tags="" position="2589,1328" size="100,100">(set: $heading to &quot;out&quot;) You are in a stable area. On three sides of the stable are walls [[zero-&gt;d2w0]], through which a door leads back to the [[complex entrance-&gt;decade two]], as well as walls [[one-&gt;d2w1]] and [[two-&gt;d2w2]], which are opposite one another. On the fourth side, opposite wall zero, are the [[first-&gt;stall1]], [[second-&gt;stall2]] and [[third-&gt;stall3]] stalls. </tw-passagedata><tw-passagedata pid="91" name="d2w0" tags="" position="2438,1343" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="92" name="d2w1" tags="" position="2539,1478" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="93" name="d2w2" tags="" position="2583,954" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="94" name="stall1" tags="" position="2741,962" size="100,100">You are in the first open stall in the stable area. To your left, the end of wall one forms one side of the stall, but you can get a better view of the whole wall by stepping back into the main [[stable area]]. In front of you is [[wall three-&gt;d2w3]] and to your right is [[wall four-&gt;d2w4]]. </tw-passagedata><tw-passagedata pid="95" name="stall2" tags="" position="2748,1318" size="100,100">You are in the central open stall in the stable area. Behind you is the main [[stable area]]. The three walls enclosing the open stall are walls [[five-&gt;d2w5]] to your left, [[six-&gt;d2w6]] right ahead and [[seven-&gt;d2w7]] to your right. </tw-passagedata><tw-passagedata pid="96" name="stall3" tags="" position="2763,1686" size="100,100">You are in the third open stall in the stable area. The end of wall two forms the right hand side of the stall, but you can get a better view of the whole wall by stepping back into the main [[stable area]]. [[Wall nine-&gt;d2w9]] is in front of you and [[wall ten-&gt;d2w10]] is to your left. </tw-passagedata><tw-passagedata pid="97" name="d2w3" tags="" position="2858,961" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="98" name="d2w4" tags="" position="2739,1082" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="99" name="d2w9" tags="" position="2774,1561" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="100" name="d2w10" tags="" position="2884,1684" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="101" name="d2w5" tags="" position="2743,1198" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="102" name="d2w6" tags="" position="2876,1319" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="103" name="d2w7" tags="" position="2754,1436" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="104" name="elevator" tags="" position="1543,1267" size="100,100">{
&lt;!-- DEFAULT VARIABLE SETTINGS TO RESET ON RETURN TO ELEVATOR--&gt; 
(set: $wind to &quot;&quot;)
(set: $determiner to &quot;&quot;)
(set: $weather to &quot;WARNING UNCHANGED WEATHER&quot;)&lt;!-- ERROR CHECK--&gt; 
(set: $environment to &quot;WARNING UNCHANGED ENVIRON&quot;)&lt;!-- ERROR CHECK--&gt;
(set: $light to &quot;&quot;)
(set: $passagePrep to &quot;of&quot;)
(set: $passageMaterial to &quot;brick&quot;) 
(set: $buildingPrep to &quot;&quot;)
(set: $adornedWith to &quot;&quot;)
(set: $madeOf to &quot;&quot;)
(set: $passageAdjective to &quot;&quot;)

(set: $external to (a: 0, 2, 4, 6, 8, 10, 12, 14, 16, 18, 20,))
(set: $antiquity to (a:0,1,2,3,4,))

&lt;!-- PERIOD SETTINGS--&gt;
(set: $antiquity to (a:0,1,2,3,4,))
(set: $earlyMid to (a:5,6,7,8,9,))
(set: $highMid to (a:10,11,12,))
(set: $lateMid to (a:13,14,15,))
(set: $earlyMod to (a:16,17,))
(set: $lateMod to (a: 18))
(set: $postMod to (a: 19))
(set: $contemporary to (a:20))

&lt;!-- WEATHER SETTINGS--&gt;
(set: $hot to (a:0,1,2,3,9,10,11,12,20,))
(set: $cold to (a: 5, 6, 7, 14,15,16,17,18,))
(set: $autumnal to (a: 4, 8, 13, 19,))
(set: $stormy to (a: 4, 15, 17, 20,))


&lt;!-- LIGHT SETTINGS--&gt;
(set: $ordinaryLight to (a: 3,11,12,13,14,15,18,))
(set: $bright to (a:0,1,2,16,17,))
(set: $twilight to (a:5,11,20,))
(set: $sunChange to (a: 4,10,19,))

&lt;!-- PHYSICAL ENVIRONMENT SETTINGS--&gt;
(set: $catacombs to (a:0,))
(set: $swamp to (a: 8))
(set: $urban to (a: 1, 6, 9, 10, 13, 15, 18, 19,))
(set: $ruins to (a: 5, 20,))
(set: $garden to (a: 2, 17,))
(set: $woods to (a: 4, 11))
(set: $palace to (a: 3, 17 ))
(set: $mines to (a: ))
(set: $castle to (a: 7, 12))
(set: $docks to (a: 14)) 



&lt;!--ELEVATOR PROMPT--&gt;

(set: $floorString to (prompt: &quot;You are in an elevator in the central nexus. Choose a floor between 0 and 20&quot;, &quot;0&quot;))
(if:$floorInt &lt; 0 or $floorInt &gt;20) 
	[You must enter a number between 0 and 20. [[Start over-&gt;elevator]]]
	
(else:) [(set: $floorInt to (num:$floorString))]


&lt;!--SET WEATHER--&gt;
(if: $autumnal contains $floorInt)[(set: $weather to &quot;autumnal&quot;, $weathercast to &quot; leaves, all brown and amber, have gathered on the ground&quot;)] 
(if: $hot contains $floorInt)[(set: $weather to &quot;hot and sticky&quot;, $weathercast to &quot; flies buzz in the heat&quot;)]
(if: $cold contains $floorInt)[(set: $weather to &quot;icy cold&quot;, $weathercast to &quot; air is so frigid it stings your lungs&quot;)]
&lt;!--WIND--&gt;
(set: $wind to &quot;the air is ominously still&quot;)
(if: $stormy contains ($floorInt+2)) [(set: $wind to &quot;a light breeze blows&quot;)]
	(if: $stormy contains ($floorInt+1)) [(set: $wind to &quot;a blustery wind blows&quot;)]
	(if: $stormy contains ($floorInt)) [(set: $wind to &quot;a howling wind blows&quot;)]
	

&lt;!--SET LIGHT--&gt;
(if: $earlyMid contains $floorInt)[(set: $light to &quot;the darkness of &quot;)]
(if: $sunChange contains $floorInt) [(set: $light to &quot;the red and gold of  &quot;)]
(if: $twilight contains $floorInt) [(set: $light to &quot;the twilight of &quot;)]
(if: $bright contains $floorInt)[(set: $light to &quot;the brilliance of &quot;)]
(if: $ordinaryLight contains $floorInt)[(set: $light to &quot;the sights and sounds of &quot;)]

&lt;!--SET TIME--&gt;
(if: $floorInt is 18 or $antiquity contains $floorInt) [(set: $time to &quot;late afternoon&quot;)]
(if: $floorInt is 10) [(set: $time to &quot;dawn&quot;)] 
(if: $earlyMid contains $floorInt)[(set: $time to &quot;night&quot;)]
(if: $floorInt is 5) [(set: $time to &quot;late evening&quot;)] 
(if: $highMid contains $floorInt)[(set: $time to &quot;morning&quot;)]
(if: $lateMid contains $floorInt) [(set: $time to &quot;noon&quot;)]
(if: $earlyMod contains $floorInt) [(set: $time to &quot;early afternoon&quot;)]
(if: $floorInt is 4 or $floorInt is 19) [(set: $time to &quot;sunset&quot;)]
(if: $floorInt is 20) [(set: $time to &quot;evening&quot;)]


&lt;!--SET PHYSICAL FEATURES--&gt;
&lt;!--SET BUILDINGMATERIALS--&gt;
(if: $antiquity contains $floorInt) [(set: $buildingMaterials to &quot;stone pillars and clay brick&quot;, $passageAdjective to &quot;elegant&quot;)]
(if: $earlyMid contains $floorInt) [(set: $buildingMaterials to &quot;wood and packed mud&quot;)]
(if: $floorInt is 5) [(set: $buildingMaterials to &quot;stone pillars and clay brick&quot;)]
(if: $highMid contains $floorInt) [(set: $buildingMaterials to &quot;iron and stone&quot;)]
(if: $lateMid contains $floorInt) [(set: $buildingMaterials to &quot;wattle and daub&quot;)]
(if: $earlyMod contains $floorInt) [(set: $buildingMaterials to &quot;timber and stone&quot;)]
(if: $lateMod contains $floorInt) [(set: $buildingMaterials to &quot;soot blackened brick&quot;)]
(if: $postMod contains $floorInt) [(set: $buildingMaterials to &quot;concrete and brick&quot;)]
(if: $contemporary contains $floorInt) [(set: $buildingMaterials to &quot;concrete and steel&quot;)]
(if: $palace contains $floorInt) [(set: $buildingMaterials to &quot;paintings and statues&quot;)]

(if: $floorInt is 20) [(set: $buildingMaterials to &quot;rubbled stone&quot;)]



&lt;!--SET PASSAGE TYPE--&gt;
(if: $urban contains $floorInt)[(set: $complexType to &quot;quarter&quot;, $portalType to &quot;door &quot;, $portalTypes to &quot;doors&quot;,$passageType to &quot; alley&quot;, $passageTypes to &quot; alleys&quot;, $altPassageType to &quot;street&quot;, $altPassageTypes to &quot;streets&quot;, $passagePrep to &quot;between&quot;, $passageMaterial to &quot;buildings&quot;, $madeOf to &quot;made of&quot;, $environment to &quot;outdoors&quot;)] 
(if: $garden contains $floorInt)[(set: $complexType to &quot;enclosure&quot;, $portalType to &quot;gate&quot;, $portalTypes to &quot;gates&quot;,$passageType to &quot; path&quot;, $passageTypes to &quot; paths&quot;, $passagePrep to &quot;between&quot;, $passageMaterial to &quot;neatly trimmed hedgerows&quot;, $environment to &quot;outdoors&quot;)] 
(if: $woods contains $floorInt)[(set: $complexType to &quot;forest&quot;, $portalType to &quot;opening &quot;, $portalTypes to &quot;openings &quot;, $passageType to &quot; path&quot;, $passageTypes to &quot; paths&quot;, $passagePrep to &quot;through the&quot;, $passageMaterial to &quot;trees&quot;, $environment to &quot;outdoors&quot;)] 
(if: $swamp contains $floorInt)[(set: $complexType to &quot;barrow&quot;, $portalType to &quot;opening &quot;, $portalTypes to &quot;openings &quot;,$passageType to &quot;waterlogged path&quot;, $passageTypes to &quot; waterlogged paths&quot;, $passagePrep to &quot;through the&quot;, $passageMaterial to &quot;dense reeds&quot;, $environment to &quot;outdoors&quot;)] 
(if: $palace contains $floorInt)[(set: $complexType to &quot;wing&quot;, $portalType to &quot;ornate door&quot;, $portalTypes to &quot;ornate doors&quot;,$passageType to &quot;marble tiled corridor&quot;, $passageTypes to &quot; marble tiled corridors&quot;, $passagePrep to &quot;through&quot;, $passageMaterial to &quot;arches&quot;, $madeOf to &quot;adorned with&quot;, $passageAdjective to &quot;elegant&quot;, $environment to &quot;indoors&quot;)] 
(if: $mines contains $floorInt)[(set: $complexType to &quot;lode&quot;, $portalType to &quot;door jamb&quot;, $portalTypes to &quot;door jambs&quot;, $passageType to &quot;tunnel held up by wooden supports&quot;, $passageTypes to &quot; narrow mined tunnels&quot;, $passagePrep to &quot;through&quot;, $passageMaterial to &quot; rock&quot;, $environment to &quot;indoors&quot;)] 
(if: $catacombs contains $floorInt)[(set: $complexType to &quot;nexus&quot;, $portalType to &quot;door jamb&quot;, $portalTypes to &quot;door jambs&quot;, $passageType to &quot; tunnel&quot;, $passageTypes to &quot; tunnels&quot;, $passagePrep to &quot;through&quot;, $passageMaterial to &quot; sandstone&quot;, $environment to &quot;indoors&quot;)] 
(if: $castle contains $floorInt)[(set: $complexType to &quot;gatehouse&quot;, $portalType to &quot;iron door&quot;, $portalTypes to &quot;iron doors&quot;,$passageType to &quot; passage&quot;, $passageTypes to &quot; passages&quot;, $passagePrep to &quot;of&quot;, $passageMaterial to &quot; stone brick&quot;, $environment to &quot;indoors&quot;)] 
(if: $ruins contains $floorInt)[(set: $complexType to &quot;desolation&quot;, $portalType to &quot;damaged opening&quot;, $portalTypes to &quot;openings&quot;, $passageType to &quot; rubbled street&quot;, $passageTypes to &quot; rubbled streets&quot;, $passagePrep to &quot;of&quot;, $passageAdjective to &quot; crumbling &quot;,$passageMaterial to &quot;buildings&quot;,$madeOf to &quot; of&quot;, $environment to &quot;outdoors&quot;)] 
(if: $docks contains $floorInt)[(set: $complexType to &quot;ship&quot;, $portalType to &quot;gang plank&quot;, $portalTypes to &quot;gang planks&quot;,$passageType to &quot; jetty&quot;, $passageTypes to &quot; jetties&quot;, $altPassageType to &quot;wharf&quot;, $altPassageTypes to &quot; wharfs&quot;, $passagePrep to &quot;between&quot;, $passageMaterial to &quot;ships&quot;, $madeOf to &quot;&quot;, $environment to &quot;outdoors&quot;)] 





&lt;!--SET INTERNAL/EXTERNAL LANGUAGE--&gt;
(if: $environment is &quot;outdoors&quot;)[(set: $determiner to &quot;The&quot;)]
	(else:) [(set: $determiner to &quot;Beyond these walls, the &quot;)]
	

	

&lt;!--SET BACKGROUND--&gt;
var: $floorInt
var: &lt;script&gt;CustomScripts.updateBackground.State.variables[&#39;var&#39;];&lt;/script&gt;
	
	
&lt;!--MAIN TEXT--&gt;
	The elevator doors open onto floor $floorString. (set: $heading to &quot;East&quot;) You step out of the elevator to find yourself at a [[junction-&gt;main pathType top corner]] of two $passageTypes $passagePrep $passageMaterial
$madeOf $passageAdjective $buildingMaterials. $determiner world is bathed in $light $time, and the $weathercast. The weather is $weather and  {
	(if: $wind is not &quot;&quot;) [ 
		(if: $environment is &quot;indoors&quot;)[(set: $determiner to &quot;outside&quot;)] (else:) [(set: $determiner to &quot;&quot;)]
		]
	}
	$wind $determiner.

}</tw-passagedata><tw-passagedata pid="105" name="Untitled Passage" tags="" position="2098,1516" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="106" name="name" tags="" position="1449,1970" size="100,100">

You are in an elevator. The dial permits you to choose any floor from 0 through 20. Please input the floor you desire.  
&lt;input type=&quot;text&quot; data-varname=&quot;floorString&quot;&gt;
&lt;script&gt;processInputElements();&lt;/script&gt;
(link-goto: &quot;Done&quot;)
</tw-passagedata><tw-passagedata pid="107" name="Done" tags="" position="1445,2114" size="100,100">
{
(set: $fixDirection to 
	(macro: num-type _directionNum, 
	[
	(set: $mainDirection to (cond: _directionNum is 0,&#39;North&#39;, _directionNum is 1, &#39;East&#39;,_directionNum is 2, &#39;South&#39;,_directionNum is 3, &#39;West&#39;,&#39;fail&#39;))
	(if: $mainDirection is &#39;fail&#39;)[(set: $mainDirection to ($fixDirection:_directionNum - 4))]
	(output-data: $mainDirection)
	]
	)
)

(set: $floorInt to (num:$floorString))


&lt;!-- takes a floorint as input, sets just those globals required for that level, returns empty text. rationale: causes the variables to be reinstantiated at every passage to improve variation + helps debugging --&gt;

(set: $fixVariables to (macro: num-type _floorInt, [
	(if: _floorInt is 0)[
	  (set: $hotAdv to (either: &#39;sweltering&#39;,&#39;baking&#39;,&#39;searing&#39;,&#39;blazing&#39;,&#39;blistering&#39;,&#39;boiling&#39;,&#39;roasting&#39;))
	  (set: $hot to (either: &#39;hot&#39;, (joined: &quot; &quot;, $hotAdv, &#39;hot&#39;)))
	  (set: $ground to (either: &#39;ground&#39;, &#39;earth&#39;, &#39;land&#39;, &#39;soil&#39;, &#39;terrain&#39;))

	  (set: $dugTunnel to (either: &#39;dug through the&#39;,&#39;bored through the&#39;,&#39;excavated from the&#39;,&#39;quarried from the&#39;,&#39;gouged out of the&#39;,&#39;burrowed from the&#39;))
	  (set: $lev0Adj to &#39; &#39; + $hot + &#39; &#39;)
	  (set: $lev0WallAdj1 to (either: &#39;dusty&#39;, &#39;gritty&#39;, &#39;crumbly&#39;, &#39;friable&#39;))
	  (set: $lev0WallAdj2 to (either: &#39;sandy&#39;, &#39;sandstone&#39;, &#39;desert&#39;))
	  (set: $lev0WallAdjPhr to (joined: &quot; &quot;, &quot; &quot;, $lev0WallAdj1, $lev0WallAdj2))
	  (set: $lev0Phr to (either: &#39; tunnel&#39;, $lev0Adj + &#39; tunnel&#39;, &#39;n underground passage&#39;, $lev0Adj + &#39;underground passage&#39;))
	  (set: $lev0PrepPhr to &#39; &#39; + &#39;with&#39; + $lev0WallAdjPhr + &#39; walls&#39;)
	  (set: $lev0PrepPhr3 to &#39; &#39; + $dugTunnel + $lev0WallAdjPhr + &#39; &#39; + $ground)

	  (set: $inTunnel to (either: &#39;in&#39;,&#39;somewhere in&#39;,&#39;down in&#39;,&#39;within&#39;,&#39;somewhere within&#39;))
	  (set: $oflev0 to &#39; of Callixtus&#39;)
	  (set: $lev0WallAdjPhr2 to &#39; the&#39; + (either: &#39; Roman&#39;, &#39; Christian&#39;, &#39;&#39;) + &#39; Catacomb&#39; + $oflev0)
	  (set: $lev0PrepPhr2 to &#39; &#39; + $inTunnel + $lev0WallAdjPhr2)

	  (set: $lev0 to (either: $lev0Phr, $lev0Phr + $lev0PrepPhr, $lev0Phr + $lev0PrepPhr2, $lev0Phr + $lev0PrepPhr3))
]
	(if: _floorInt is 1)[
		(set: $street to (either: &#39;street&#39;, &#39;lane&#39;, &#39;thoroughfare&#39;))
	(set: $busy to (either: &#39;busy&#39;, &#39;bustling&#39;, &#39;hectic&#39;, &#39;active&#39;, &#39;lively&#39;, &#39;crowded&#39;, &#39;swarming&#39;, &#39;teeming&#39;, &#39;thronged&#39;))
	(set: $market to (either: &#39;market&#39;, &#39;marketplace&#39;))
	(set: $merchant to (either: &#39;merchant&#39;, &#39;trader&#39;, &#39;dealer&#39;, &#39;wholesaler&#39;, &#39;peddler&#39;))
	(set: $stall to (either: &#39;stall&#39;, &#39;stand&#39;, &#39;table&#39;, &#39;counter&#39;, &#39;booth&#39;)) 
	(set: $standModifier to (either: $market, $merchant + &#39;s&#39;))
	(set: $stalls to (either: &#39;stalls&#39;, $standModifier + &#39; &#39; + $stall +&#39;s&#39;))
	(set: $bothWays to (either: &#39;on both sides&#39;, &#39;on either side&#39;, &#39;to the left and right&#39;))
	(set: $overfull to (either: &#39;overflowing&#39;, &#39;overful&#39;, &#39;well stocked&#39;))
	(set: $noisy to (either: &#39;clamorous&#39;, &#39;noisy&#39;, &#39;rowdy&#39;, &#39;boisterous&#39;, &#39;uproarious&#39;, &#39;riotous&#39;, &#39;chattering&#39;))
	(set: $gaudy to (either: &#39;gaudy&#39;, &#39;garish&#39;, &#39;lurid&#39;, &#39;showy&#39;, &#39;brassy&#39;, &#39;tawdry&#39;))
	(set: $wooden to (either: &#39;wooden&#39;, &#39;timber&#39;, &#39;carpentered&#39;))
	(set: $rickety to (either: &#39;rickety&#39;, &#39;ramshackle&#39;, &#39;shaky&#39;))

	(set: $lev1Adj to &#39; &#39; + $busy + &#39; &#39;)
	(set: $lev1Phr to (either: &#39; Roman &#39; + $street, $lev1Adj + &#39; Roman &#39; + $street))

	(set: $lev1WallAdj1 to (either: $overfull, $noisy, $gaudy, $rickety ))
	(set: $lev1PrepPhr to &#39; &#39; + &#39;with&#39; + &quot; &quot; + $lev1WallAdj1 + &#39; &#39; + $stalls + &#39; &#39; + $bothWays)

	(set: $lev1 to (either: $lev1Phr, $lev1Phr + $lev1PrepPhr))
	]
		(if: _floorInt is 2)[
			(set: $garden to &#39;garden&#39;)

	(set: $quiet to (either: &#39;quiet&#39;, &#39;peaceful&#39;, &#39;tranquil&#39;, &#39;restful&#39;, &#39;serene&#39;))

	(set: $yellowflowers to (either: &#39;marigolds&#39;, &#39;sunflowers&#39;, &#39;dandelions&#39;))
	(set: $blueflowers to (either: &#39;bluebells&#39;, &#39;blue iris&#39;, &#39;blue lotus flowers&#39;))
	(set: $redflowers to (either: &#39;roses&#39;, &#39;crimson tulips&#39;, &#39;poppies&#39;, &#39;scarlet carnations&#39;))
	(set: $purpleflowers to (either: &#39;lavendar&#39;, &#39;violet bells&#39;, &#39;purple lilies&#39;))

	(set: $flowers1 to (either: $yellowflowers, $blueflowers))
	(set: $flowers2 to (either: $redflowers, $purpleflowers))

	(set: $flowerAdj to (either: &#39;blooming&#39;, &#39;blossoming&#39;, &#39;flowering&#39;)) 
	(set: $flowerConj to $flowers1 + &#39; and &#39; + $flowers2)




	(set: $gardenStuff1 to (either: &#39;hedges&#39;, &#39;bushes&#39;, &#39;shrubbery&#39;))
	(set: $gardenStuff2 to $flowerAdj + &#39; &#39; + $flowerConj)
	(set: $lev2Conj to (either: $gardenStuff1 + &#39; growing beside &#39; + $gardenStuff2, $gardenStuff1, $gardenStuff2))
	(set: $lev2Adj to &#39; &#39; + $quiet + &#39; &#39;)
	(set: $lev2Phr to (either: &#39; Roman &#39; + $garden, $lev2Adj + &#39; Roman &#39; + $garden))

	(set: $lev2WallAdv to (either: &#39;neatly&#39;, &#39;beautifully&#39;, &#39;lovingly&#39;))
	(set: $lev2Wallverb to (either: &#39;trimmed&#39;, &#39;pruned&#39;, &#39;tended&#39; ))
	(set: $lev2Wallmod to $lev2WallAdv + &#39; &#39; + $lev2Wallverb)

	(set: $lev2PrepPhr to &#39; &#39; + &#39;with&#39; + &quot; &quot; + $lev2Wallmod + &#39; &#39; + $lev2Conj )

	(set: $lev2 to (either: $lev2Phr, $lev2Phr + $lev2PrepPhr))

		]
(output-data: &#39;&#39;)]))








(set: $passageType to 
	(macro: num-type _floorInt, 
		[
		(output-data: 
			(cond: 
		_floorInt is 0, $lev0,	
		_floorInt is 1, $lev1,
		_floorInt is 2, $lev2, 		
		_floorInt is 3, &#39;hall&#39;,
		_floorInt is 4, &#39;street&#39;,
		_floorInt is 5, &#39;path&#39;,
		_floorInt is 6, &#39;rooftop&#39;,
		_floorInt is 7, &#39;road&#39;,
		_floorInt is 8, &#39;bayou&#39;,
		_floorInt is 9, &#39;pike&#39;,
		_floorInt is 10, &#39;path&#39;,
		_floorInt is 11, &#39;walkway&#39;,
		_floorInt is 12, &#39;allure&#39;,
		_floorInt is 13, &#39;path&#39;,
		_floorInt is 14, &#39;wharf&#39;,
		_floorInt is 15, &#39;pike&#39;,
		_floorInt is 16, &#39;canal&#39;,
		_floorInt is 17, &#39;rue&#39;,
		_floorInt is 18, &#39;street&#39;,
		_floorInt is 19, &#39;square&#39;,
		_floorInt is 20, &#39;street&#39;,
		&#39;passage&#39;
			)
		)
		]
	)
)

(set: $occupyingP to 
	(macro: num-type _floorInt, 
		[
		(output-data: 
			(cond: 
		_floorInt is 0, &#39;in&#39;,	
		_floorInt is 2, &#39;in&#39;,
		_floorInt is 3, &#39;in&#39;,
		_floorInt is 8, &#39;in&#39;,
		_floorInt is 19, &#39;in&#39;,

		&#39;on&#39;
			)
		)
		]
	)
)

(set: $MainSentence to 
	(macro: num-type _floorInt,
		[(output:)[You are ($occupyingP: _floorInt) a($passageType: _floorInt).]]
	)
)
}

&lt;!--MAIN TEXT--&gt;
($fixVariables: $floorInt)
	(background:black)[The elevator doors open onto floor $floorInt. ($MainSentence:$floorInt) There is a path to the ($fixDirection: $floorInt).]</tw-passagedata><tw-passagedata pid="108" name="test start" tags="" position="1437,1768" size="100,100">{
(set: $passageType to 
	(macro: num-type _floorInt, 
		[
		(output-data: 
			(cond: 
		_floorInt is 1, street, 
		_floorInt is 2, path, 		
		_floorInt is 3, hall,
		_floorInt is 4, street,
		_floorInt is 5, path,
		_floorInt is 6, rooftop,
		_floorInt is 7, road,
		_floorInt is 8, bayou,
		_floorInt is 9, pike,
		_floorInt is 10, path,
		_floorInt is 11, walkway,
		_floorInt is 12, allure,
		_floorInt is 13, path,
		_floorInt is 14, wharf,
		_floorInt is 15, pike,
		_floorInt is 16, canal,
		_floorInt is 17, rue,
		_floorInt is 18, street,
		_floorInt is 19, square,
		_floorInt is 20, street,
		&quot;passage&quot;
			)
		)
		]
	)
)
}</tw-passagedata><tw-passagedata pid="109" name="Main Code" tags="" position="1600,2106" size="100,100">{

(ignore: (set: $floorInt to (num:$floorString)))

(set: $optional to (macro: string-type _optional, [
	(output-data: (either: _optional, &#39;&#39;))
	]
	)
)

&lt;!-- takes two numbers as input. These keep track of the level of grammatical depth (1 is the main clause). It passes them to other parts of speech to coordinate everything. --&gt;

(set: $NPplus to (macro: num-type _nounIndex, [
			($setVariables:)
			(set: $altIndex to (either: 0,1))
			(set: _output to 
				($NP: _nounIndex) +
				($optional: &#39; &#39; + ($prepPH: _nounIndex))
				)
			(output-data: _output)
				]				
				)
				)

(set: $NP to (macro: num-type _nounIndex, [
	(set: _output to
			($det: _nounIndex) +
			($optional: 
				&#39; &#39; + 
				($adjPH: _nounIndex)) + 
			&#39; &#39; + 
			($noun: _nounIndex)
	)
	(output-data: _output)
			]
)
)

	
(set: $adjPH to (macro: num-type _adjIndex, [
	(set: _output to 
		($optional: ($subAdjPH: _adjIndex +10)) +
		($subAdjPH: _adjIndex)
		)
	(output-data: _output)
	]
	)
	)
	
(set: $subAdjPH to (macro: num-type _adjIndex, [
	(set: _output to
		($optional: ($adv: _adjIndex) + &#39; &#39;) +
		($adj: _adjIndex) 
		)
	(output-data: _output)	
		]
		)
		)
	

&lt;!--PREPOSITIONAL PHRASES--&gt;
&lt;!--tester that takes a prep index and returns a simple prepositional phrase if the prep index is high. Otherwise, returns a complex prepositional phrase.--&gt;

(set: $prepPH to (macro: num-type _prepIndex, [
	(set: _output to (cond: 
		_prepIndex is 2, ($simplePrep: _prepIndex),
		($complexPrep: _prepIndex)
		)
		)
	(output-data: _output)
	]
	)
	)

&lt;!--assigns the prep with the right prepindex to introduce the NP with level one higher--&gt;
(set: $simplePrep to (macro: num-type _prepIndex,[
		(set: _output to 
			($prep: _prepIndex) + 
			&#39; &#39; +
			($NP: _prepIndex + 1)
			)
		(output-data: _output)
		]
		)
		)

&lt;!--provides three alternatives: basic prep, basic prep plus a clause, alt prep --&gt;
(set: $complexPrep to (macro: num-type _prepIndex, [
	(set: _output to 
			($prep: _prepIndex) +
			&#39; &#39; +
			($NP: _prepIndex + 1) +
			&#39; &#39; +
			($optional: ($prep: _prepIndex +1) +
					&#39; &#39; +
					($NP: _prepIndex + 2)
			)
		)
	(output-data: _output)
	]
	)
)

&lt;!--VOCAB PREPOSITION MACRO --&gt;
(set: $prep to (macro: num-type _prepIndex, [
	(set: $attributes to (a: $floorInt, _prepIndex, $altIndex))
	(set: _output to (cond: 
		$attributes matches (a: 0,1,0), $dugTunnel,
		$attributes matches (a: 0,1,1), $inTunnel,
		$attributes matches (a: 0,2,1), &#39;of&#39;,
		&#39;&#39;))
	(output-data: _output)
	]
	))



&lt;!--VOCAB DETERMINER MACRO --&gt;
(set: $det to (macro: num-type _nounIndex, [
	(set: $attributes to (a: $floorInt, _nounIndex, $altIndex))
	(set: _output to (cond: 
		$attributes matches (a: 0,1,0), &#39;a&#39;,
		$attributes matches (a: 0,1,1), &#39;an&#39;,
		$attributes matches (a: 0,2,0), &#39;the&#39;,
		$attributes matches (a: 0,2,1), &#39;the&#39;,
		$attributes matches (a: 0,3,1), &#39;&#39;,
		&#39;&#39;))
	(output-data: _output)
	]
	))
	
&lt;!--VOCAB NOUN MACRO --&gt;
(set: $noun to (macro: num-type _nounIndex, [
	(set: $attributes to (a: $floorInt, _nounIndex, $altIndex))
	(set: _output to (cond: 
		$attributes matches (a: 0,1,0), $tunnel,
		$attributes matches (a: 0,1,1), $ugp,
		$attributes matches (a: 0,2,0), $ground,
		$attributes matches (a: 0,2,1), &#39;catacombs&#39;,
		$attributes matches (a: 0,3,1), &#39;Callixtus&#39;,
		&#39;&#39;))
	(output-data: _output)
	]
	))
	
	
&lt;!--VOCAB ADJECTIVE MACRO --&gt;
(set: $adj to (macro: num-type _adjIndex, [
	(set: $attributes to (a: $floorInt, _adjIndex, $altIndex))
	(set: _output to (cond: 
		$attributes matches (a: 0,1,0), $hot,
		$attributes matches (a: 0,1,1), $hot,
		$attributes matches (a: 0,2,0), $sandy,
		$attributes matches (a: 0,12,0), $dusty,
		$attributes matches (a: 0,2,1), $cataKind,
		&#39;&#39;))
	(output-data: _output)
	]
	))
	
&lt;!--VOCAB ADVERB MACRO --&gt;
(set: $adv to (macro: num-type _advIndex, [
	(set: $attributes to (a: $floorInt, _advIndex, $altIndex))
	(set: _output to (cond: 
		$attributes matches (a: 0,1,0), $hotAdv,
		$attributes matches (a: 0,1,1), $hotAdv,
		&#39;&#39;))
	(output-data: _output)
	]
	))


	
(set: $setVariables to (macro: [
	(if: $floorInt is 0)[
		($setFloor0vocab:)
						]
	(output-data:&#39;&#39;)]
	)
	)

(set: $setFloor0vocab to (macro: [
	(set: $hotAdv to (either: 
		&#39;sweltering&#39;, &#39;baking&#39;, &#39;searing&#39;, 
		&#39;blazing&#39;, &#39;blistering&#39;, &#39;boiling&#39;, &#39;roasting&#39;))
	(set: $hot to &#39;hot&#39;)
	(set: $ground to (either: 
		&#39;ground&#39;, &#39;earth&#39;, &#39;land&#39;, &#39;soil&#39;, &#39;terrain&#39;))
	(set: $tunnel to
		&#39;tunnel&#39;)
	(set: $ugp to
		&#39;underground passage&#39;)
	(set: $dugTunnel to (either: 
		&#39;dug through&#39;,&#39;bored through&#39;,&#39;excavated from&#39;,
		&#39;quarried from&#39;,&#39;gouged out of&#39;,&#39;burrowed from&#39;))
	(set: $dusty to (either: 
		&#39;dusty&#39;, &#39;gritty&#39;, &#39;crumbly&#39;, &#39;friable&#39;))
	(set: $sandy to (either:
		&#39;sandy&#39;, &#39;sandstone&#39;, &#39;desert&#39;, &#39;dry&#39;))
	(set: $inTunnel to (either: 
		&#39;in&#39;,&#39;somewhere in&#39;,&#39;down in&#39;,&#39;within&#39;,&#39;somewhere within&#39;))
	(set: $cataKind to (either: 
		&#39;Roman&#39;, &#39;Christian&#39;))
	(output-data:&#39;&#39;)
	]
	)
	)
	
(set: $doorsAndPassages to (macro: [
	(set: $passages to (cond:
		$floorInt is 0, (a: &#39;tunnel&#39;, &#39;tunnels&#39;, &#39;Tunnel&#39;, &#39;Tunnels&#39;),
		(a: &#39;passage&#39;, &#39;passages&#39;, &#39;Passage&#39;, &#39;Passages&#39;)
		))
	(set: $doors to (cond:
		$floorInt is 0, (a: &#39;jamb&#39;, &#39;jambs&#39;, &#39;Jamb&#39;, &#39;Jambs&#39;),
		(a: &#39;opening&#39;, &#39;openings&#39;, &#39;Opening&#39;, &#39;Openings&#39;)))
	(output-data:&#39;&#39;)
	]
	)
	)





(set: $occupyingP to 
	(macro: num-type _floorInt, 
		[
		(set: _output to (cond: 
		_floorInt is 0, &#39;in&#39;,	
		_floorInt is 2, &#39;in&#39;,
		_floorInt is 3, &#39;in&#39;,
		_floorInt is 8, &#39;in&#39;,
		_floorInt is 19, &#39;in&#39;,
		&#39;on&#39;
			))
		(output-data: _output)
		]
	)
)

(set: $fixDirection to 
	(macro: num-type _directionNum, 
	[
	(set: $directions to 
		(cond: 
		_directionNum is 0,(a:&#39;North&#39;,&#39;East&#39;,&#39;South&#39;,&#39;West&#39;),
		_directionNum is 1,(a: &#39;East&#39;,&#39;South&#39;,&#39;West&#39;,&#39;North&#39;),
		_directionNum is 2,(a: &#39;South&#39;,&#39;West&#39;,&#39;North&#39;,&#39;East&#39;),
		_directionNum is 3,(a: &#39;West&#39;,&#39;North&#39;,&#39;East&#39;,&#39;South&#39;),
		&#39;fail&#39;))
	(if: $directions is &#39;fail&#39;)
		[(set: $directions to ($fixDirection:_directionNum - 4))]
	(output-data: $directions)
	]
	)
)


}
{	 
&lt;!--TEMPORARY FOR TESTING--&gt;
num:
(set: $floorInt to 0)
(set: $hundreds to ($floorInt * 100))
(if: $hundreds is 0)
	[(set: $hundredstring to &quot;the first century a.d.&quot;)]
(else:) [(set: $hundredstring to (string: $hundreds) + &#39;s&#39;)]

(set: $1Direction to ($fixDirection: $floorInt)&#39;s 1st)
(set: $2Direction to $directions&#39;s 2nd)
(set: $3Direction to $directions&#39;s 3rd)
(set: $4Direction to $directions&#39;s 4th)
($doorsAndPassages:)
(set: $passageType to $passages&#39;s 1st)
(set: $passageTypes to $passages&#39;s 2nd)
(set: $passageCAP to $passages&#39;s 3rd)
(set: $passagesCAPS to $passages&#39;s 4th)
(set: $doorType to $doors&#39;s 1st)
(set: $doorTypes to $doors&#39;s 2nd)
(set: $doorCAP to $doors&#39;s 3rd)
(set: $doorsCAPS to $doors&#39;s 4th)

&lt;!--MAIN TEXT--&gt;
}
(background:black)[The elevator doors open onto $hundredstring. You are ($occupyingP: $floorInt) ($NPplus: 1). $passagesCAPS lead [[$2Direction-&gt;top bar pathType]] and [[$3Direction-&gt;main pathType upper]] from here. You can exit [[$1Direction via a $doorType-&gt;decade zero]], or step $4Direction into the [[elevator]]. ]






</tw-passagedata></tw-storydata>

<tw-storydata name="century template Copy" startnode="104" creator="Twine" creator-version="2.3.12" ifid="3FBA3CC7-9FAA-4CA9-B715-D1A39B1E1B5D" zoom="0.6" format="Harlowe" format-version="3.2.1" options="" hidden><style role="stylesheet" id="twine-user-stylesheet" type="text/twine-css"></style><script role="script" id="twine-user-script" type="text/twine-javascript"></script><tw-passagedata pid="1" name="main pathType top corner" tags="" position="1704,1267" size="100,100">(if: $heading is &quot;South&quot;) [You are at a corner where two $passageTypes meet. There is a door behind you labeled &quot;Decade 0&quot; which you can [[step through-&gt;decade zero]], and an elevator door to your right. A $passageType stretches off to your left, and [[you may choose to head down it-&gt;top bar pathType]]. Alternatively, you can head down the $passageType[[ ahead-&gt;main pathType upper]].] 
(if: $heading is &quot;North&quot;)[You are at a corner where two $passageTypes meet. There is a door in front of you labeled &quot;Decade 0&quot;, and an elevator door to your left. Stretching off to your right is the $passageType that you can head [[along-&gt;top bar pathType]]. Alternatively, you can go through the [[door in front of you-&gt;decade zero]].]
(if: $heading is &quot;West&quot;)[The $passageType turns sharp left. You may step [[through a door-&gt;decade zero]] in the corner to the right of you labeled &quot;Decade 0&quot;. Alternatively, you can follow the $passageType[[ off to your left-&gt;main pathType upper]]. There is also an elevator door in front of you.]
(if: $heading is &quot;East&quot;) [You are at a corner where two $passageTypes meet. There is an elevator behind you, and a door [[immediately to your left-&gt;decade zero]] labeled &quot;Decade 0&quot;. A $passageType stretches off ahead which [[you may choose to head along-&gt;top bar pathType]]. Alternatively, you can head down the $passageType[[ stretching off to your right-&gt;main pathType upper]].] 
(if: $heading is &quot;out&quot;)[The $passageType turns sharp left. You may step [[through a door-&gt;decade zero]] in the corner to the right of you labeled &quot;Decade 0&quot;. Alternatively, you can follow the $passageType[[ off to your left-&gt;main pathType upper]]. There is also an elevator door in front of you.]</tw-passagedata><tw-passagedata pid="2" name="top bar pathType" tags="" position="1911,1266" size="100,100">(if: $heading is &quot;West&quot;) [Halfway along the corridor is a door to the left labeled &quot;Decade 2&quot;. You can [[take this-&gt;decade two]], or you can [[continue along the corridor-&gt;main pathType top corner]] to where it turns left.] 
(if: $heading is &quot;out&quot;) [You step into a corridor heading left to right. To the left, the corridor goes along a ways before [[turning left at a pair of doors-&gt;main pathType top corner]]. To the right, [[the corridor ends in a door-&gt;d1 door]].]
(else:) [(set: $heading to &quot;East&quot;) Halfway along the corridor is a door to the right labeled &quot;Decade 2&quot;. You can [[take this-&gt;decade two]], or you can [[head on down the corridor-&gt;d1 door]] to where it ends at a door.] </tw-passagedata><tw-passagedata pid="3" name="main pathType upper" tags="" position="1706,1500" size="100,100">(if: $heading is &quot;North&quot;)[The corridor passes between twin doors to the [[left-&gt;decade nine]], labeled &quot;Decade 9&quot;, and [[right -&gt;decade three]] labeled &quot;Decade 3&quot;,. You can take either door or, alternatively, [[press on-&gt;main pathType top corner]] up the corridor.]
(else:) [(set: $heading to &quot;South&quot;) The corridor passes between twin doors to the [[right-&gt;decade nine]], labeled &quot;Decade 9&quot;, and [[left -&gt;decade three]], labeled &quot;Decade 3&quot;,. You can take either door or, alternatively, [[press on-&gt;main pathType middle]] down the corridor.]</tw-passagedata><tw-passagedata pid="4" name="decade zero" tags="" position="1700,1118" size="100,100">(if: $heading is &quot;Leaving&quot;)[(set: $heading to &quot;South&quot;) You mount the stairs towards the exit to decade zero. At the top is a door. You [[step through it-&gt;main pathType top corner]].]
(else:) [(set: $heading to &quot;South&quot;) You step through the door into decade 0. Steps lead down to the [[entrance chamber-&gt;0 entrance chamber]].]</tw-passagedata><tw-passagedata pid="5" name="decade two" tags="" position="1914,1405" size="100,100">(if: $heading is &quot;out&quot;) [Steps lead up and out of the stable area. You step through a door into the [[central nexus.-&gt;top bar pathType]]]
(else:) [You step through the door into the decade 2 complex. Steps lead down into a [[stable area]].]</tw-passagedata><tw-passagedata pid="6" name="d1 door" tags="" position="2079,1269" size="100,100">(if: $heading is &quot;East&quot;) [(set: $heading to &quot;West&quot;) The corridor ends in a door labeled &quot;Decade 1&quot;. If you wish to [[step through this door-&gt;decade one]] you may. Otherwise you can [[double back-&gt;top bar pathType]] along the corridor.]
(if: $heading is &quot;out&quot;) [(set: $heading to &quot;West&quot;) The corridor ends in a door labeled &quot;Decade 1&quot;. If you wish to [[step through this door-&gt;decade one]] you may. Otherwise you can [[double back-&gt;top bar pathType]] along the corridor.]
(else:) [(set: $heading to &quot;West&quot;) You emerge onto a corridor that you may [[go along-&gt;top bar pathType]].]</tw-passagedata><tw-passagedata pid="7" name="decade nine" tags="" position="1099,1501" size="100,100">You step through the door into the decade 9 complex. You proceed down a corridor and emerge into a square keep. You entered through [[wall zero-&gt;d9w0]]. To your left and right, respectively, are walls [[one-&gt;d9w1]] and [[two-&gt;d9w2]]. On wall two a ladder leads up to the [[attic-&gt;d9attic]]. Across from you is [[wall three-&gt;d9w3]]. The wall is rounded where wall two meets wall three, and there is a door there that enters into a [[round turret-&gt;d9turret]].  </tw-passagedata><tw-passagedata pid="8" name="decade three" tags="" position="1847,1522" size="100,100">You step through the door into decade 3. </tw-passagedata><tw-passagedata pid="9" name="main pathType middle" tags="" position="1708,1653" size="100,100">(if: $heading is &quot;South&quot;) [A passage branches off to the left. You can [[take it-&gt;middle bar pathType]] or [[press on-&gt;main pathType lower]] towards the end of the corridor, where you can see two doors.] 
(if: $heading is &quot;North&quot;) [A passage branches off to the right. You can [[take it-&gt;middle bar pathType]] or [[press on-&gt;main pathType upper]] up the corridor.] 
(if: $heading is &quot;West&quot;) [(set: $heading to &quot;North&quot;) You arrive at a T-junction. You can [[head left and down-&gt;main pathType lower]] or [[right and up-&gt;main pathType upper]] the corridor.] </tw-passagedata><tw-passagedata pid="10" name="middle bar pathType" tags="" position="1979,1653" size="100,100">(if: $heading is &quot;West&quot;) [Heading along the corridor, there is a [[door on the left-&gt;decade six]] labeled &quot;Decade 6&quot; and, further along, another [[door on the right-&gt;decade four]] labeled &quot;Decade 4&quot;. Or you can [[press ahead-&gt;main pathType middle]] to where the corridor meets the main corridor.]
(else:) [(set: $heading to &quot;East&quot;) This corridor is marked by three doors. First there is a [[door on the left-&gt;decade four]] labeled &quot;Decade 4&quot;. Then further down, there is a [[door on the right-&gt;decade six]] labeled &quot;Decade 6&quot;. You can take any of these doors. Alternatively, you can [[press ahead-&gt;outside d5]] to where the corridor ends in a door.]</tw-passagedata><tw-passagedata pid="11" name="main pathType lower" tags="" position="1700,1813" size="100,100">(set: $heading to &quot;North&quot;)[This corridor ends at two doors, one to the [[left-&gt;narthex]] labeled &quot;Decade 7&quot; and [[one directly ahead-&gt;decade eight]] labeled &quot;Decade 8&quot;. You may take either door or [[double back-&gt;main pathType middle]].]</tw-passagedata><tw-passagedata pid="12" name="decade four" tags="" position="1978,1527" size="100,100">You step through the door into decade 4. </tw-passagedata><tw-passagedata pid="13" name="decade six" tags="" position="1985,1817" size="100,100">You step through the door into decade 6. </tw-passagedata><tw-passagedata pid="14" name="narthex" tags="" position="2110,2028" size="100,100">(if: $direction is &quot;neutral&quot;) [You are in the narthex of a church. To one side is [[wall one-&gt;d7w1]]. In the opposite direction, through an ornate railing, is the [[nave]].]
(else:) [You step through the door into the decade 7 complex. You are in the narthex of a church. You entered through [[wall one-&gt;d7w1]]. If you have no interest in this wall, you can proceed in the opposite direction, where a railing separates the narthex from the [[nave]].]</tw-passagedata><tw-passagedata pid="15" name="decade eight" tags="" position="1700,1963" size="100,100">You step through the door into decade 8. </tw-passagedata><tw-passagedata pid="16" name="outside d5" tags="" position="2135,1650" size="100,100">(set: $heading to &quot;West&quot;) The corridor ends at a door labeled &quot;Decade 5&quot;. You can [[take this door-&gt;d5r1]] or you can [[double back-&gt;middle bar pathType]].</tw-passagedata><tw-passagedata pid="17" name="decade one" tags="" position="3211,433" size="100,100">(if: $heading is &quot;down&quot;) [You are at the exit door to the decade one room complex. [[You may step through the door-&gt;d1 door]].] 

(else:) [(set: $heading to &quot;up&quot;) You step through the door into the decade 1 room complex. Steps lead up to [[the entrance chamber-&gt;d1l1]].]</tw-passagedata><tw-passagedata pid="18" name="0 entrance chamber" tags="" position="612,271" size="100,100">(if:$heading is &quot;South&quot;) [You are in a narrow passage. To your right is [[wall 0-&gt;wall 0 zero]], which you can pause to scrutinize. To your left is [[wall 1-&gt;wall 0 one]], which you can also pause to look at. Alternatively, you can [[press forward-&gt;0 T Junction]] into the room complex.] 
(else:) [(set: $heading to &quot;Leaving&quot;) You are in the exit corridor to the room complex. To your left is [[wall 0-&gt;wall 0 zero]]. To your right is [[wall 1-&gt;wall 0 one]]. You can [[press ahead-&gt;decade zero]] and leave the room complex.]</tw-passagedata><tw-passagedata pid="19" name="0 T Junction" tags="" position="612,133" size="100,100">(if: $heading is &quot;South&quot;) [You are at a T junction. The wall 0 opposite is [[wall 5-&gt;wall 0 5]], which you can pause to look at. Or you can turn right towards a [[square room-&gt;0 square room]], or left towards a [[triangular room-&gt;0 triangular room]].] 
(if: $heading is &quot;East&quot;) [The [[exit to the room complex-&gt;0 entrance chamber]]  branches off to the left, passing between walls 0 and 1. On your right is [[wall 5-&gt;wall 0 five]], which you can scrutinize. Or you can go forward into the [[triangular room-&gt;0 triangular room]].]
(if: $heading is &quot;West&quot;) [The [[exit to the room complex-&gt;0 entrance chamber]]  branches off to the right, passing between walls 0 and 1. On your left is [[wall 5-&gt;wall 0 five]], which you can scrutinize. Or you can go forward into the [[square room-&gt;0 square room]].]</tw-passagedata><tw-passagedata pid="20" name="0 square room" tags="" position="747,139" size="100,100">(set: $heading to &quot;East&quot;) You have entered the corner of a square room. The wall you are entering through is [[wall 6-&gt;wall 0 six]], which stretches off to your left before running into the perpendicular [[wall 7-&gt;wall 0 seven]], which faces you to the left. Opposite you is [[wall 8-&gt;wall 0 eight]]. And coming along your right, forming a wall that runs continuous with the corridor from which you came, is [[wall 9-&gt;wall 0 nine]]. If you do not wish to pause to examine these walls, you may [[head back into the corridor behind you-&gt;0 T Junction]].  </tw-passagedata><tw-passagedata pid="21" name="0 triangular room" tags="" position="474,133" size="100,100">(set: $heading to &quot;West&quot;) You are in the ninety degree corner of a room shaped like a right angled triangle. To your left, the wall from the corridor behind you runs continuously into the room, forming [[wall 2-&gt;wall 0 two]]. Opposite you to the right is the hypotenuse of the triangle, [[wall 3-&gt;wall 0 three]]. Coming up to your right is the third wall, [[wall 4-&gt;wall 0 four]], which is the wall you entered through. If you do not wish to scrutinize these walls, you may [[head back into the corridor behind you-&gt;0 T Junction]]. </tw-passagedata><tw-passagedata pid="22" name="wall 0 zero" tags="" position="474,261" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="23" name="wall 0 one" tags="" position="742,273" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="24" name="wall 0 six" tags="" position="677,12" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="25" name="wall 0 seven" tags="" position="792,11" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="26" name="wall 0 eight" tags="" position="872,262" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="27" name="wall 0 nine" tags="" position="919,116" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="28" name="wall 0 two" tags="" position="349,259" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="29" name="wall 0 three" tags="" position="341,62" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="30" name="wall 0 four" tags="" position="472,1" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="31" name="wall 0 5" tags="" position="234,191" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="32" name="wall 0 five" tags="" position="1004,261" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="33" name="d1l1" tags="" position="3335,278" size="100,100">(if: $heading is &quot;up&quot;) [You are in the lower courtyard of an ascending split-level chamber. You have emerged through [[wall one-&gt;d1w1]]. To your left and right, respectively, are walls [[two-&gt;d1w2]] and [[three-&gt;d1w3]]. Across from you is [[wall four-&gt;d1w4]], at one side of which a flight of steps [[leads up to the next level-&gt;d1l2]].]
(if: $heading is &quot;down&quot;) [You are in the lower courtyard of an ascending split-level chamber. To your right is [[wall two-&gt;d1w2]] and to your left [[wall three-&gt;d1w3]]. Behind  you is [[wall four-&gt;d1w4]], at one side of which a flight of steps [[leads up to the next level-&gt;d1l2]]. Before you is [[wall one-&gt;d1w1]], to the left of which a [[narrow flight of steps leads down-&gt;decade one]] towards the exit of the room complex.]</tw-passagedata><tw-passagedata pid="34" name="d1w1" tags="" position="3335,404" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="35" name="d1w2" tags="" position="3206,281" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="36" name="d1w3" tags="" position="3465,294" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="37" name="d1w4" tags="" position="3206,143" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="38" name="d1l2" tags="" position="3581,154" size="100,100">(if: $heading is &quot;up&quot;) [You are on the middle level platform of a large split level chamber. Behind you is mostly a sheer drop down into the lower courtyard, with [[just a narrow flight of steps heading down-&gt;d1l1]]. To your left is [[wall five-&gt;d1w5]], to your right [[wall six-&gt;d1w6]], and ahead of you [[wall seven-&gt;d1w7]]. To the side of wall seven is a flight of steps [[leading up to the top level of the chamber-&gt;d1l3]].]
(if: $heading is &quot;down&quot;) [You are on the middle level platform of a large split level chamber. Before you is mostly a sheer drop down into the lower courtyard, with [[just a narrow flight of steps heading down-&gt;d1l1]]. To your right is [[wall five-&gt;d1w5]], to your left [[wall six-&gt;d1w6]], and behind you [[wall seven-&gt;d1w7]]. To the side of wall seven is a flight of steps [[leading up to the top level of the chamber-&gt;d1l3]].]</tw-passagedata><tw-passagedata pid="39" name="d1w5" tags="" position="3580,21" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="40" name="d1w6" tags="" position="3581,298" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="41" name="d1w7" tags="" position="3723,224" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="42" name="d1l3" tags="" position="3856,159" size="100,100">(set: $heading to &quot;down&quot;) You are on the highest platform of a large three level chamber. to your left is [[wall eight-&gt;d1w8]]. To your right [[wall nine-&gt;d1w9]]. And ahead of you is [[wall ten-&gt;d1w10]]. Behind you is a sheer drop to the middle platform of the chamber, to one side of which is [[a flight of steps going down-&gt;d1l2]]. </tw-passagedata><tw-passagedata pid="43" name="d1w8" tags="" position="3855,296" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="44" name="d1w9" tags="" position="3855,22" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="45" name="d1w10" tags="" position="3995,161" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="46" name="d5r1" tags="" position="3380,1642" size="100,100">(set: $position to 1) 
(if: $heading is &quot;clockwise&quot;) [You are heading clockwise around a large pentagonal corridor. To your left, the outer wall is [[wall 1-&gt;d5w1]]. There is a door in this wall that exits the decade 5 complex. The opposite, inner, wall is [[wall 2-&gt;d5w2]]. You may also [[continue clockwise around the pentagon-&gt;d5r2]].Or [[you might prefer to go in the other direction-&gt;d5reverse]].]
(if: $heading is &quot;counterclockwise&quot;) [You are heading counterclockwise around a large pentagonal corridor. To your right, the outer wall is [[wall 1-&gt;d5w1]]. There is a door in this wall that exits the decade 5 complex. The opposite, inner, wall is [[wall 2-&gt;d5w2]]. You may also [[continue counterclockwise around the pentagon-&gt;d5r5]].Or [[you might prefer to go in the other direction-&gt;d5reverse]].]
(else:)[(set: $heading to &quot;clockwise&quot;) You are in a corridor that circles around on itself in the shape of a pentagon. You have entered through [[wall 1-&gt;d5w1]], and opposite you is [[wall 2-&gt;d5w2]]. Turning left, you may [[go clockwise around the pentagon-&gt;d5r2]]. Or [[you might prefer to go in the other direction-&gt;d5reverse]].]</tw-passagedata><tw-passagedata pid="47" name="d5w1" tags="" position="3262,1647" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="48" name="d5w2" tags="" position="3507,1644" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="49" name="d5r2" tags="" position="3439,1449" size="100,100">(set: $position to 2)
(if: $heading is &quot;clockwise&quot;) [You are proceeding clockwise around a large pentagonal corridor. The outer wall to your left is [[wall 3-&gt;d5w3]]. The inner wall to your right is [[wall 4-&gt;d5w4]]. Or you may [[continue clockwise around the pentagon-&gt;d5r3]]. Or [[you might prefer to go in the other direction-&gt;d5reverse]].]
(if: $heading is &quot;counterclockwise&quot;) [You are proceeding counterclockwise around a large pentagonal corridor. The outer wall to your right is [[wall 3-&gt;d5w3]]. The inner wall to your left is [[wall 4-&gt;d5w4]]. Or you may [[continue counterclockwise around the pentagon-&gt;d5r1]].Or [[you might prefer to go in the other direction-&gt;d5reverse]].]</tw-passagedata><tw-passagedata pid="50" name="d5r5" tags="" position="3617,1896" size="100,100">(set: $position to 5)
(if: $heading is &quot;clockwise&quot;) [You are proceeding clockwise around a large pentagonal corridor. The outer wall to your left is [[wall 9-&gt;d5w9]]. The inner wall to your right is [[wall 10-&gt;d5w10]]. Or you may [[continue clockwise around the pentagon-&gt;d5r1]]. Alternatively, you can [[turn around-&gt;d5reverse]].]
(if: $heading is &quot;counterclockwise&quot;) [You are proceeding counterclockwise around a large pentagonal corridor. The outer wall to your right is [[wall 9-&gt;d5w9]]. The inner wall to your left is [[wall 10-&gt;d5w10]]. You may [[continue counterclockwise around the pentagon-&gt;d5r4]]. Or [[you might prefer to go in the other direction-&gt;d5reverse]].]</tw-passagedata><tw-passagedata pid="51" name="d5w3" tags="" position="3302,1359" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="52" name="d5w4" tags="" position="3564,1524" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="53" name="d5r3" tags="" position="3785,1449" size="100,100">(set: $position to 3)
(if: $heading is &quot;clockwise&quot;) [You are proceeding clockwise around a large pentagonal corridor. The outer wall to your left is [[wall 5-&gt;d5w5]]. The inner wall to your right is [[wall 6-&gt;d5w6]]. Or you may [[continue clockwise around the pentagon-&gt;d5r4]]. Alternatively, you can [[turn around-&gt;d5reverse]].]
(if: $heading is &quot;counterclockwise&quot;) [You are proceeding counterclockwise around a large pentagonal corridor. The outer wall to your right is [[wall 5-&gt;d5w5]]. The inner wall to your left is [[wall 6-&gt;d5w6]]. Or you may [[continue counterclockwise around the pentagon-&gt;d5r2]]. Or [[you might prefer to go in the other direction-&gt;d5reverse]].]</tw-passagedata><tw-passagedata pid="54" name="d5r4" tags="" position="3874,1644" size="100,100">(set: $position to 4)
(if: $heading is &quot;clockwise&quot;) [You are proceeding clockwise around a large pentagonal corridor. The outer wall to your left is [[wall 7-&gt;d5w7]]. The inner wall to your right is [[wall 8-&gt;d5w8]]. Or you may [[continue clockwise around the pentagon-&gt;d5r5]]. Alternatively, you can [[turn around-&gt;d5reverse]].]
(if: $heading is &quot;counterclockwise&quot;) [You are proceeding counterclockwise around a large pentagonal corridor. The outer wall to your right is [[wall 7-&gt;d5w7]]. The inner wall to your left is [[wall 8-&gt;d5w8]]. Or you may [[continue counterclockwise around the pentagon-&gt;d5r3]]. Or [[you might prefer to go in the other direction-&gt;d5reverse]].]</tw-passagedata><tw-passagedata pid="55" name="d5w5" tags="" position="3915,1309" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="56" name="d5w6" tags="" position="3670,1526" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="57" name="d5w7" tags="" position="3744,1642" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="58" name="d5w8" tags="" position="4000,1646" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="59" name="d5w9" tags="" position="3614,2026" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="60" name="d5w10" tags="" position="3619,1756" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="61" name="d5reverse" tags="" position="3618,1641" size="100,100">(if: $heading is &quot;clockwise&quot;)
	[(set: $heading to &quot;counterclockwise&quot;)
	(if: $position is 1) [(set: $position to 5) You turn and head in the [[opposite direction-&gt;d5r5]].]
	(else:) [(set: $position -= 1) You turn around and head in the [[opposite direction-&gt;d5r$position]].]
	]
(else:)
	[(set: $heading to &quot;clockwise&quot;)
	(if: $position is 5) [(set: $position to 1) You turn and head in the [[opposite direction-&gt;d5r5]].]
	(else:) [(set: $position += 1) You turn around and head in the [[opposite direction-&gt;d5r$position]].]
	]</tw-passagedata><tw-passagedata pid="62" name="d9w0" tags="" position="1277,1541" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="63" name="d9w1" tags="" position="1099,1642" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="64" name="d9w2" tags="" position="1157,1380" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="65" name="d9attic" tags="" position="1042,1169" size="100,100">You are in the attic of the decade nine keep. Wall [[five-&gt;d9w5]] and wall [[seven-&gt;d9w7]] are triangular walls, opposite to one another. [[Wall four-&gt;d9w4]] and [[wall six-&gt;d9w6]] are rectangular roof walls that incline towards one another and meet above your head. If you do not wish to look at any of these walls, a ladder leads down to the [[keep-&gt;decade nine]]. </tw-passagedata><tw-passagedata pid="66" name="d9w3" tags="" position="920,1499" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="67" name="d9turret" tags="" position="752,1264" size="100,100">You are in a round turret, surrounded by [[wall nine-&gt;d9w8]]. A flight of steps curls around the room, [[leading up-&gt;turret battlements]]. </tw-passagedata><tw-passagedata pid="68" name="d9w5" tags="" position="910,1170" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="69" name="d9w7" tags="" position="1169,1169" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="70" name="d9w6" tags="" position="1004,1295" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="71" name="d9w8" tags="" position="761,1105" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="72" name="d9w9" tags="" position="620,1049" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="73" name="turret battlements" tags="" position="607,1187" size="100,100">You are on the turret battlements. [[Wall nine-&gt;d9w9]] is the circular parapet that surrounds you, punctuated by embrasures. If you do not wish to scrutinize your surroundings any further, you can descend to the [[turret-&gt;d9turret]]. </tw-passagedata><tw-passagedata pid="74" name="d9w4" tags="" position="1039,1029" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="75" name="d7w0" tags="" position="2702,2011" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="76" name="d7w1" tags="" position="1972,2024" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="77" name="d7w2" tags="" position="2109,1901" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="78" name="church&#39;s crossing" tags="" position="2379,2011" size="100,100">You are at the church&#39;s crossing. Ahead of you is a hemispheric apse and [[altar]]. To your left is the [[Epistle transept]]. To your right is the [[Gospel transept]]. Or you can return to the [[nave-&gt;nave]]. </tw-passagedata><tw-passagedata pid="79" name="altar" tags="" position="2559,2012" size="100,100">You are in the apse of the church, by the altar. On one side of you, down the apse steps, the apse opens up to the main area of the church. If you wish to go this way, you can head down the steps to the [[church&#39;s crossing]]. On the other side, the apse is bounded by a single half dome wall. This is [[wall zero-&gt;d7w0]]. </tw-passagedata><tw-passagedata pid="80" name="Epistle transept" tags="" position="2392,2166" size="100,100">You are in the Epistle transept to the right of the church. There are three walls here. Proceeding clockwise, they are [[Wall seven-&gt;d7w7]], [[wall eight-&gt;d7w8]] and [[wall nine-&gt;d7w9]]. Or you can return to the [[church&#39;s crossing]]. </tw-passagedata><tw-passagedata pid="81" name="Gospel transept" tags="" position="2380,1876" size="100,100">You are in the Epistle transept to the left of the church. There are three walls here. Proceeding clockwise, they are [[Wall four-&gt;d7w4]], [[wall five-&gt;d7w5]] and [[wall six-&gt;d7w6]]. Or you can return to the [[church&#39;s crossing]]. </tw-passagedata><tw-passagedata pid="82" name="d7w3" tags="" position="2115,2159" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="83" name="d7w4" tags="" position="2260,1879" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="84" name="d7w5" tags="" position="2368,1744" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="85" name="d7w6" tags="" position="2505,1874" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="86" name="d7w7" tags="" position="2534,2159" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="87" name="d7w8" tags="" position="2397,2298" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="88" name="d7w9" tags="" position="2262,2167" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="89" name="nave" tags="" position="2250,2019" size="100,100">You are in the nave of a church. To the sides of the nave are walls [[two-&gt;d7w2]] and [[three-&gt;d7w3]].] You can go towards the front of the church by heading for the [[church&#39;s crossing]], or to the rear by heading towards the [[narthex]]. </tw-passagedata><tw-passagedata pid="90" name="stable area" tags="" position="2589,1328" size="100,100">(set: $heading to &quot;out&quot;) You are in a stable area. On three sides of the stable are walls [[zero-&gt;d2w0]], through which a door leads back to the [[complex entrance-&gt;decade two]], as well as walls [[one-&gt;d2w1]] and [[two-&gt;d2w2]], which are opposite one another. On the fourth side, opposite wall zero, are the [[first-&gt;stall1]], [[second-&gt;stall2]] and [[third-&gt;stall3]] stalls. </tw-passagedata><tw-passagedata pid="91" name="d2w0" tags="" position="2438,1343" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="92" name="d2w1" tags="" position="2539,1478" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="93" name="d2w2" tags="" position="2583,954" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="94" name="stall1" tags="" position="2741,962" size="100,100">You are in the first open stall in the stable area. To your left, the end of wall one forms one side of the stall, but you can get a better view of the whole wall by stepping back into the main [[stable area]]. In front of you is [[wall three-&gt;d2w3]] and to your right is [[wall four-&gt;d2w4]]. </tw-passagedata><tw-passagedata pid="95" name="stall2" tags="" position="2748,1318" size="100,100">You are in the central open stall in the stable area. Behind you is the main [[stable area]]. The three walls enclosing the open stall are walls [[five-&gt;d2w5]] to your left, [[six-&gt;d2w6]] right ahead and [[seven-&gt;d2w7]] to your right. </tw-passagedata><tw-passagedata pid="96" name="stall3" tags="" position="2763,1686" size="100,100">You are in the third open stall in the stable area. The end of wall two forms the right hand side of the stall, but you can get a better view of the whole wall by stepping back into the main [[stable area]]. [[Wall nine-&gt;d2w9]] is in front of you and [[wall ten-&gt;d2w10]] is to your left. </tw-passagedata><tw-passagedata pid="97" name="d2w3" tags="" position="2858,961" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="98" name="d2w4" tags="" position="2739,1082" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="99" name="d2w9" tags="" position="2774,1561" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="100" name="d2w10" tags="" position="2884,1684" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="101" name="d2w5" tags="" position="2743,1198" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="102" name="d2w6" tags="" position="2876,1319" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="103" name="d2w7" tags="" position="2754,1436" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="104" name="Elevator" tags="" position="1543,1267" size="100,100">{
(set: $primes to (a: 0, 1, 2, 3, 5, 7, 11, 13, 17, 19,))




(set: $floorString to (prompt: &quot;You are in an elevator in the central nexus. Choose a floor between 0 and 20&quot;, &quot;0&quot;))
(if:$floorInt &lt; 0 or $floorInt &gt;20) 
	[You must enter a number between 0 and 20. [[Start over-&gt;Elevator]]]
	
(else:) [(set: $floorInt to (num:$floorString))]

(if: $floorInt is 0)[(set: $weather to &quot;Autumnal&quot;, $weathercast to &quot; brown and amber leaves have gathered on every surface.&quot;)] 
(if: $floorInt is 1)[(set: $weather to &quot;bright and sunny&quot;, $weathercast to &quot;birds tweet and the sky is blue.&quot;)]
(if: $floorInt is 2)[(set: $weather to &quot;rainy&quot;, $weathercast to &quot; light downpour pitter patters off every surface.&quot;)]
(if: $floorInt is 3)[(set: $weather to &quot;gales&quot;, $weathercast to &quot; howl of the wind drowns out every noise, and sends objects clattering.&quot;)]
(if: $floorInt is 4)[(set: $weather to &quot;rainy with silent flashes of lightning&quot;, $weathercast to &quot; the sky will flicker with forked streaks of light, illuminating everything for a split second.&quot;)]
(if: $floorInt is 5)[(set: $weather to &quot;snowy&quot;, $weathercast to &quot; fluffy light crystals of snow cover everything in a thick blanket of white.&quot;)]
(if: $floorInt is 6)[(set: $weather to &quot;rainy and blustery&quot;, $weathercast to &quot; the wind and rain batters against every surface.&quot;)]
(if: $floorInt is 7)[(set: $weather to &quot; raging wildfires&quot;, $weathercast to &quot; thick black smoke from the raging wildfires blocks out the sky.&quot;)]
(if: $floorInt is 8)[(set: $weather to &quot;rainy, with thunder and lighting&quot;, $weathercast to &quot; brief flashes of lightning illuminate everything, before the ominous rumble of thunder breaks the sound of the rain.&quot;)]
(if: $floorInt is 9)[(set: $weather to &quot;tempestuous&quot;, $weathercast to &quot;Hurricane force winds rips trees from the ground and send objects hurling.&quot;)]
(if: $floorInt is 10)[(set: $weather to &quot;thawing&quot;, $weathercast to &quot; new sun forms a rainbow over the melting snow.&quot;)]
(if: $floorInt is 11)[(set: $weather to &quot;desperately dry&quot;, $weathercast to &quot; unbearable heat sucks the moisture from your lips and thickens the air with flies.&quot;)]
(if: $floorInt is 12)[(set: $weather to &quot;rainy and blustery with flashes of  summer lightning&quot;, $weathercast to &quot; wind howls and the sky flashes angrily, yet there is no thunder to be heard.&quot;)]
(if: $floorInt is 13)[(set: $weather to &quot;sunny but windy&quot;, $weathercast to &quot; wind robs the blazing sun of its heat.&quot;)]
(if: $floorInt is 14)[(set: $weather to &quot;sunny with lightning storms&quot;, $weathercast to &quot; lightning and the rainbows compete to dominate the sky.&quot;)]
(if: $floorInt is 15)[(set: $weather to &quot;blowing a blizzard&quot;, $weathercast to &quot;visibility is near non-existent as the gusts of snow are blinding.&quot;)]
(if: $floorInt is 16)[(set: $weather to &quot;torrentially rainy, with flooding&quot;, $weathercast to &quot; once treasured possessions of ordinary folk float around on rivers of rain.&quot;)]
(if: $floorInt is 17)[(set: $weather to &quot; wildfires subsiding&quot;, $weathercast to &quot; sunlight peeps at last through the diminishing clouds of black smoke.&quot;)]
(if: $floorInt is 18)[(set: $weather to &quot; hurricanes with torrential rain&quot;, $weathercast to &quot; world is being bombarded by the twin hammers of thundering gales and lashing rain.&quot;)]
(if: $floorInt is 19)[(set: $weather to &quot; duststorms&quot;, $weathercast to &quot; air is thick with tornadoes of sand.&quot;)]


(else:) [
	(if: $primes contains $floorInt)
		[(set: $environment to &quot;outside&quot;, $determiner to &quot;The&quot;)]
	(else:) [(set:$environment to &quot;indoors&quot;, $determiner to &quot;Outside, the&quot;)]
	(if:$floorInt &lt;10)
		[(set:$light to &quot;night&quot;)]
	(if:$floorInt &gt;=10)
		[(set:$light to &quot;day&quot;)]

	$environment
	(if: $environment is &quot;outside&quot;)[(set: $passageType to &quot; path&quot;, $passageTypes to &quot; paths&quot;)]
	(else:) [(set: $passageType to &quot; $passageType&quot;, $passageTypes to &quot; $passageTypes&quot;)]
	
	
	]
	
	
	
	The elevator doors open onto floor $floorString. (set: $heading to &quot;East&quot;) You step out of the elevator to find yourself at a [[junction-&gt;main pathType top corner]] of two $passageTypes. The weather is $weather. $determiner $weathercast.]

}</tw-passagedata></tw-storydata>

<tw-storydata name="whole history structure" startnode="106" creator="Twine" creator-version="2.3.12" ifid="5F97540C-27E0-44C9-92F1-DE9FB121BF19" zoom="0.25" format="Harlowe" format-version="3.2.1" options="" hidden><style role="stylesheet" id="twine-user-stylesheet" type="text/twine-css"></style><script role="script" id="twine-user-script" type="text/twine-javascript"></script><tw-passagedata pid="1" name="" tags="" position="1704,1267" size="100,100">{
(if: $environment is &quot;outdoors&quot;)[(set: $passageType to &quot; path&quot;, $passageTypes to &quot; paths&quot;)]
	(else:) [(set: $passageType to &quot; $passageType&quot;, $passageTypes to &quot; $passageTypes&quot;)]
	}

(if: $heading is &quot;South&quot;) [You are at a corner where two $passageTypes meet. There is a door behind you labeled &quot;Decade 0&quot; which you can [[step through-&gt;decade zero]], and an elevator door to your right. A $passageType stretches off to your left, and [[you may choose to head down it-&gt;top bar $passageType]]. Alternatively, you can head down the [[$passageType ahead-&gt;main $passageType upper]].] 
(if: $heading is &quot;North&quot;)[You are at a corner where two $passageTypes meet. There is a door in front of you labeled &quot;Decade 0&quot;, and an elevator door to your left. Stretching off to your right is the $passageType that you can head [[along-&gt;top bar $passageType]]. Alternatively, you can go through the [[door in front of you-&gt;decade zero]].]
(if: $heading is &quot;West&quot;)[The $passageType turns sharp left. You may step [[through a door-&gt;decade zero]] in the corner to the right of you labeled &quot;Decade 0&quot;. Alternatively, you can follow the [[$passageType off to your left-&gt;main $passageType upper]]. There is also an elevator door in front of you.]
(if: $heading is &quot;East&quot;) [You are at a corner where two $passageTypes meet. There is an elevator behind you, and a door [[immediately to your left-&gt;decade zero]] labeled &quot;Decade 0&quot;. A $passageType stretches off ahead which [[you may choose to head along-&gt;top bar $passageType]]. Alternatively, you can head down the [[$passageType stretching off to your right-&gt;main $passageType upper]].] 
(if: $heading is &quot;out&quot;)[The $passageType turns sharp left. You may step [[through a door-&gt;decade zero]] in the corner to the right of you labeled &quot;Decade 0&quot;. Alternatively, you can follow the [[$passageType off to your left-&gt;main $passageType upper]]. There is also an elevator door in front of you.]</tw-passagedata><tw-passagedata pid="2" name="" tags="" position="1911,1266" size="100,100">(if: $heading is &quot;West&quot;) [Halfway along the $passageType is a door to the left labeled &quot;Decade 2&quot;. You can [[take this-&gt;decade two]], or you can [[continue along the $passageType-&gt;main $passageType top corner]] to where it turns left.] 
(if: $heading is &quot;out&quot;) [You step into a $passageType heading left to right. To the left, the $passageType goes along a ways before [[turning left at a pair of doors-&gt;main $passageType top corner]]. To the right, [[the $passageType ends in a door-&gt;d1 door]].]
(else:) [(set: $heading to &quot;East&quot;) Halfway along the $passageType is a door to the right labeled &quot;Decade 2&quot;. You can [[take this-&gt;decade two]], or you can [[head on down the $passageType-&gt;d1 door]] to where it ends at a door.] </tw-passagedata><tw-passagedata pid="3" name="" tags="" position="1706,1500" size="100,100">(if: $heading is &quot;North&quot;)[The $passageType passes between twin doors to the [[left-&gt;decade nine]], labeled &quot;Decade 9&quot;, and [[right -&gt;decade three]] labeled &quot;Decade 3&quot;,. You can take either door or, alternatively, [[press on-&gt;main $passageType top corner]] up the $passageType.]
(else:) [(set: $heading to &quot;South&quot;) The $passageType passes between twin doors to the [[right-&gt;decade nine]], labeled &quot;Decade 9&quot;, and [[left -&gt;decade three]], labeled &quot;Decade 3&quot;,. You can take either door or, alternatively, [[press on-&gt;main $passageType middle]] down the $passageType.]</tw-passagedata><tw-passagedata pid="4" name="" tags="" position="1700,1118" size="100,100">(if: $heading is &quot;Leaving&quot;)[(set: $heading to &quot;South&quot;) You mount the stairs towards the exit to decade zero. At the top is a door. You [[step through it-&gt;main $passageType top corner]].]
(else:) [(set: $heading to &quot;South&quot;) You step through the door into decade 0. Steps lead down to the [[entrance chamber-&gt;0 entrance chamber]].]</tw-passagedata><tw-passagedata pid="5" name="" tags="" position="1914,1405" size="100,100">(if: $heading is &quot;out&quot;) [Steps lead up and out of the stable area. You step through a door into the [[central nexus.-&gt;top bar $passageType]]]
(else:) [You step through the door into the decade 2 complex. Steps lead down into a [[stable area]].]</tw-passagedata><tw-passagedata pid="6" name="" tags="" position="2079,1269" size="100,100">(if: $heading is &quot;East&quot;) [(set: $heading to &quot;West&quot;) The $passageType ends in a door labeled &quot;Decade 1&quot;. If you wish to [[step through this door-&gt;decade one]] you may. Otherwise you can [[double back-&gt;top bar $passageType]] along the $passageType.]
(if: $heading is &quot;out&quot;) [(set: $heading to &quot;West&quot;) The $passageType ends in a door labeled &quot;Decade 1&quot;. If you wish to [[step through this door-&gt;decade one]] you may. Otherwise you can [[double back-&gt;top bar $passageType]] along the $passageType.]
(else:) [(set: $heading to &quot;West&quot;) You emerge onto a $passageType that you may [[go along-&gt;top bar $passageType]].]</tw-passagedata><tw-passagedata pid="7" name="" tags="" position="1099,1501" size="100,100">You step through the door into the decade 9 complex. You proceed down a $passageType and emerge into a square keep. You entered through [[wall zero-&gt;d9w0]]. To your left and right, respectively, are walls [[one-&gt;d9w1]] and [[two-&gt;d9w2]]. On wall two a ladder leads up to the [[attic-&gt;d9attic]]. Across from you is [[wall three-&gt;d9w3]]. The wall is rounded where wall two meets wall three, and there is a door there that enters into a [[round turret-&gt;d9turret]].  </tw-passagedata><tw-passagedata pid="8" name="decade three" tags="" position="1847,1522" size="100,100">You step through the door into decade 3. </tw-passagedata><tw-passagedata pid="9" name="" tags="" position="1708,1653" size="100,100">(if: $heading is &quot;South&quot;) [A passage branches off to the left. You can [[take it-&gt;middle bar $passageType]] or [[press on-&gt;main $passageType lower]] towards the end of the $passageType, where you can see two doors.] 
(if: $heading is &quot;North&quot;) [A passage branches off to the right. You can [[take it-&gt;middle bar $passageType]] or [[press on-&gt;main $passageType upper]] up the $passageType.] 
(if: $heading is &quot;West&quot;) [(set: $heading to &quot;North&quot;) You arrive at a T-junction. You can [[head left and down-&gt;main $passageType lower]] or [[right and up-&gt;main $passageType upper]] the $passageType.] </tw-passagedata><tw-passagedata pid="10" name="" tags="" position="1979,1653" size="100,100">(if: $heading is &quot;West&quot;) [Heading along the $passageType, there is a [[door on the left-&gt;decade six]] labeled &quot;Decade 6&quot; and, further along, another [[door on the right-&gt;decade four]] labeled &quot;Decade 4&quot;. Or you can [[press ahead-&gt;main $passageType middle]] to where the $passageType meets the main $passageType.]
(else:) [(set: $heading to &quot;East&quot;) This $passageType is marked by three doors. First there is a [[door on the left-&gt;decade four]] labeled &quot;Decade 4&quot;. Then further down, there is a [[door on the right-&gt;decade six]] labeled &quot;Decade 6&quot;. You can take any of these doors. Alternatively, you can [[press ahead-&gt;outside d5]] to where the $passageType ends in a door.]</tw-passagedata><tw-passagedata pid="11" name="" tags="" position="1700,1813" size="100,100">(set: $heading to &quot;North&quot;)[This $passageType ends at two doors, one to the [[left-&gt;narthex]] labeled &quot;Decade 7&quot; and [[one directly ahead-&gt;decade eight]] labeled &quot;Decade 8&quot;. You may take either door or [[double back-&gt;main $passageType middle]].]</tw-passagedata><tw-passagedata pid="12" name="decade four" tags="" position="1978,1527" size="100,100">You step through the door into decade 4. </tw-passagedata><tw-passagedata pid="13" name="decade six" tags="" position="1985,1817" size="100,100">You step through the door into decade 6. </tw-passagedata><tw-passagedata pid="14" name="narthex" tags="" position="2110,2028" size="100,100">(if: $direction is &quot;neutral&quot;) [You are in the narthex of a church. To one side is [[wall one-&gt;d7w1]]. In the opposite direction, through an ornate railing, is the [[nave]].]
(else:) [You step through the door into the decade 7 complex. You are in the narthex of a church. You entered through [[wall one-&gt;d7w1]]. If you have no interest in this wall, you can proceed in the opposite direction, where a railing separates the narthex from the [[nave]].]</tw-passagedata><tw-passagedata pid="15" name="decade eight" tags="" position="1700,1963" size="100,100">You step through the door into decade 8. </tw-passagedata><tw-passagedata pid="16" name="" tags="" position="2135,1650" size="100,100">(set: $heading to &quot;West&quot;) The $passageType ends at a door labeled &quot;Decade 5&quot;. You can [[take this door-&gt;d5r1]] or you can [[double back-&gt;middle bar $passageType]].</tw-passagedata><tw-passagedata pid="17" name="decade one" tags="" position="3211,433" size="100,100">(if: $heading is &quot;down&quot;) [You are at the exit door to the decade one room complex. [[You may step through the door-&gt;d1 door]].] 

(else:) [(set: $heading to &quot;up&quot;) You step through the door into the decade 1 room complex. Steps lead up to [[the entrance chamber-&gt;d1l1]].]</tw-passagedata><tw-passagedata pid="18" name="" tags="" position="612,271" size="100,100">(if:$heading is &quot;South&quot;) [You are in a narrow passage. To your right is [[wall 0-&gt;wall 0 zero]], which you can pause to scrutinize. To your left is [[wall 1-&gt;wall 0 one]], which you can also pause to look at. Alternatively, you can [[press forward-&gt;0 T Junction]] into the room complex.] 
(else:) [(set: $heading to &quot;Leaving&quot;) You are in the exit $passageType to the room complex. To your left is [[wall 0-&gt;wall 0 zero]]. To your right is [[wall 1-&gt;wall 0 one]]. You can [[press ahead-&gt;decade zero]] and leave the room complex.]</tw-passagedata><tw-passagedata pid="19" name="0 T Junction" tags="" position="612,133" size="100,100">(if: $heading is &quot;South&quot;) [You are at a T junction. The wall 0 opposite is [[wall 5-&gt;wall 0 5]], which you can pause to look at. Or you can turn right towards a [[square room-&gt;0 square room]], or left towards a [[triangular room-&gt;0 triangular room]].] 
(if: $heading is &quot;East&quot;) [The [[exit to the room complex-&gt;0 entrance chamber]]  branches off to the left, passing between walls 0 and 1. On your right is [[wall 5-&gt;wall 0 five]], which you can scrutinize. Or you can go forward into the [[triangular room-&gt;0 triangular room]].]
(if: $heading is &quot;West&quot;) [The [[exit to the room complex-&gt;0 entrance chamber]]  branches off to the right, passing between walls 0 and 1. On your left is [[wall 5-&gt;wall 0 five]], which you can scrutinize. Or you can go forward into the [[square room-&gt;0 square room]].]</tw-passagedata><tw-passagedata pid="20" name="" tags="" position="747,139" size="100,100">(set: $heading to &quot;East&quot;) You have entered the corner of a square room. The wall you are entering through is [[wall 6-&gt;wall 0 six]], which stretches off to your left before running into the perpendicular [[wall 7-&gt;wall 0 seven]], which faces you to the left. Opposite you is [[wall 8-&gt;wall 0 eight]]. And coming along your right, forming a wall that runs continuous with the $passageType from which you came, is [[wall 9-&gt;wall 0 nine]]. If you do not wish to pause to examine these walls, you may [[head back into the $passageType behind you-&gt;0 T Junction]].  </tw-passagedata><tw-passagedata pid="21" name="" tags="" position="474,133" size="100,100">(set: $heading to &quot;West&quot;) You are in the ninety degree corner of a room shaped like a right angled triangle. To your left, the wall from the $passageType behind you runs continuously into the room, forming [[wall 2-&gt;wall 0 two]]. Opposite you to the right is the hypotenuse of the triangle, [[wall 3-&gt;wall 0 three]]. Coming up to your right is the third wall, [[wall 4-&gt;wall 0 four]], which is the wall you entered through. If you do not wish to scrutinize these walls, you may [[head back into the $passageType behind you-&gt;0 T Junction]]. </tw-passagedata><tw-passagedata pid="22" name="wall 0 zero" tags="" position="474,261" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="23" name="wall 0 one" tags="" position="742,273" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="24" name="wall 0 six" tags="" position="677,12" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="25" name="wall 0 seven" tags="" position="792,11" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="26" name="wall 0 eight" tags="" position="872,262" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="27" name="wall 0 nine" tags="" position="919,116" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="28" name="wall 0 two" tags="" position="349,259" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="29" name="wall 0 three" tags="" position="341,62" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="30" name="wall 0 four" tags="" position="472,1" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="31" name="wall 0 5" tags="" position="234,191" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="32" name="wall 0 five" tags="" position="1004,261" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="33" name="d1l1" tags="" position="3335,278" size="100,100">(if: $heading is &quot;up&quot;) [You are in the lower courtyard of an ascending split-level chamber. You have emerged through [[wall one-&gt;d1w1]]. To your left and right, respectively, are walls [[two-&gt;d1w2]] and [[three-&gt;d1w3]]. Across from you is [[wall four-&gt;d1w4]], at one side of which a flight of steps [[leads up to the next level-&gt;d1l2]].]
(if: $heading is &quot;down&quot;) [You are in the lower courtyard of an ascending split-level chamber. To your right is [[wall two-&gt;d1w2]] and to your left [[wall three-&gt;d1w3]]. Behind  you is [[wall four-&gt;d1w4]], at one side of which a flight of steps [[leads up to the next level-&gt;d1l2]]. Before you is [[wall one-&gt;d1w1]], to the left of which a [[narrow flight of steps leads down-&gt;decade one]] towards the exit of the room complex.]</tw-passagedata><tw-passagedata pid="34" name="d1w1" tags="" position="3335,404" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="35" name="d1w2" tags="" position="3206,281" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="36" name="d1w3" tags="" position="3465,294" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="37" name="d1w4" tags="" position="3206,143" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="38" name="d1l2" tags="" position="3581,154" size="100,100">(if: $heading is &quot;up&quot;) [You are on the middle level platform of a large split level chamber. Behind you is mostly a sheer drop down into the lower courtyard, with [[just a narrow flight of steps heading down-&gt;d1l1]]. To your left is [[wall five-&gt;d1w5]], to your right [[wall six-&gt;d1w6]], and ahead of you [[wall seven-&gt;d1w7]]. To the side of wall seven is a flight of steps [[leading up to the top level of the chamber-&gt;d1l3]].]
(if: $heading is &quot;down&quot;) [You are on the middle level platform of a large split level chamber. Before you is mostly a sheer drop down into the lower courtyard, with [[just a narrow flight of steps heading down-&gt;d1l1]]. To your right is [[wall five-&gt;d1w5]], to your left [[wall six-&gt;d1w6]], and behind you [[wall seven-&gt;d1w7]]. To the side of wall seven is a flight of steps [[leading up to the top level of the chamber-&gt;d1l3]].]</tw-passagedata><tw-passagedata pid="39" name="d1w5" tags="" position="3580,21" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="40" name="d1w6" tags="" position="3581,298" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="41" name="d1w7" tags="" position="3723,224" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="42" name="d1l3" tags="" position="3856,159" size="100,100">(set: $heading to &quot;down&quot;) You are on the highest platform of a large three level chamber. to your left is [[wall eight-&gt;d1w8]]. To your right [[wall nine-&gt;d1w9]]. And ahead of you is [[wall ten-&gt;d1w10]]. Behind you is a sheer drop to the middle platform of the chamber, to one side of which is [[a flight of steps going down-&gt;d1l2]]. </tw-passagedata><tw-passagedata pid="43" name="d1w8" tags="" position="3855,296" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="44" name="d1w9" tags="" position="3855,22" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="45" name="d1w10" tags="" position="3995,161" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="46" name="" tags="" position="3380,1642" size="100,100">(set: $position to 1) 
(if: $heading is &quot;clockwise&quot;) [You are heading clockwise around a large pentagonal $passageType. To your left, the outer wall is [[wall 1-&gt;d5w1]]. There is a door in this wall that exits the decade 5 complex. The opposite, inner, wall is [[wall 2-&gt;d5w2]]. You may also [[continue clockwise around the pentagon-&gt;d5r2]].Or [[you might prefer to go in the other direction-&gt;d5reverse]].]
(if: $heading is &quot;counterclockwise&quot;) [You are heading counterclockwise around a large pentagonal $passageType. To your right, the outer wall is [[wall 1-&gt;d5w1]]. There is a door in this wall that exits the decade 5 complex. The opposite, inner, wall is [[wall 2-&gt;d5w2]]. You may also [[continue counterclockwise around the pentagon-&gt;d5r5]].Or [[you might prefer to go in the other direction-&gt;d5reverse]].]
(else:)[(set: $heading to &quot;clockwise&quot;) You are in a $passageType that circles around on itself in the shape of a pentagon. You have entered through [[wall 1-&gt;d5w1]], and opposite you is [[wall 2-&gt;d5w2]]. Turning left, you may [[go clockwise around the pentagon-&gt;d5r2]]. Or [[you might prefer to go in the other direction-&gt;d5reverse]].]</tw-passagedata><tw-passagedata pid="47" name="d5w1" tags="" position="3262,1647" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="48" name="d5w2" tags="" position="3507,1644" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="49" name="" tags="" position="3439,1449" size="100,100">(set: $position to 2)
(if: $heading is &quot;clockwise&quot;) [You are proceeding clockwise around a large pentagonal $passageType. The outer wall to your left is [[wall 3-&gt;d5w3]]. The inner wall to your right is [[wall 4-&gt;d5w4]]. Or you may [[continue clockwise around the pentagon-&gt;d5r3]]. Or [[you might prefer to go in the other direction-&gt;d5reverse]].]
(if: $heading is &quot;counterclockwise&quot;) [You are proceeding counterclockwise around a large pentagonal $passageType. The outer wall to your right is [[wall 3-&gt;d5w3]]. The inner wall to your left is [[wall 4-&gt;d5w4]]. Or you may [[continue counterclockwise around the pentagon-&gt;d5r1]].Or [[you might prefer to go in the other direction-&gt;d5reverse]].]</tw-passagedata><tw-passagedata pid="50" name="" tags="" position="3617,1896" size="100,100">(set: $position to 5)
(if: $heading is &quot;clockwise&quot;) [You are proceeding clockwise around a large pentagonal $passageType. The outer wall to your left is [[wall 9-&gt;d5w9]]. The inner wall to your right is [[wall 10-&gt;d5w10]]. Or you may [[continue clockwise around the pentagon-&gt;d5r1]]. Alternatively, you can [[turn around-&gt;d5reverse]].]
(if: $heading is &quot;counterclockwise&quot;) [You are proceeding counterclockwise around a large pentagonal $passageType. The outer wall to your right is [[wall 9-&gt;d5w9]]. The inner wall to your left is [[wall 10-&gt;d5w10]]. You may [[continue counterclockwise around the pentagon-&gt;d5r4]]. Or [[you might prefer to go in the other direction-&gt;d5reverse]].]</tw-passagedata><tw-passagedata pid="51" name="d5w3" tags="" position="3302,1359" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="52" name="d5w4" tags="" position="3564,1524" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="53" name="" tags="" position="3785,1449" size="100,100">(set: $position to 3)
(if: $heading is &quot;clockwise&quot;) [You are proceeding clockwise around a large pentagonal $passageType. The outer wall to your left is [[wall 5-&gt;d5w5]]. The inner wall to your right is [[wall 6-&gt;d5w6]]. Or you may [[continue clockwise around the pentagon-&gt;d5r4]]. Alternatively, you can [[turn around-&gt;d5reverse]].]
(if: $heading is &quot;counterclockwise&quot;) [You are proceeding counterclockwise around a large pentagonal $passageType. The outer wall to your right is [[wall 5-&gt;d5w5]]. The inner wall to your left is [[wall 6-&gt;d5w6]]. Or you may [[continue counterclockwise around the pentagon-&gt;d5r2]]. Or [[you might prefer to go in the other direction-&gt;d5reverse]].]</tw-passagedata><tw-passagedata pid="54" name="" tags="" position="3874,1644" size="100,100">(set: $position to 4)
(if: $heading is &quot;clockwise&quot;) [You are proceeding clockwise around a large pentagonal $passageType. The outer wall to your left is [[wall 7-&gt;d5w7]]. The inner wall to your right is [[wall 8-&gt;d5w8]]. Or you may [[continue clockwise around the pentagon-&gt;d5r5]]. Alternatively, you can [[turn around-&gt;d5reverse]].]
(if: $heading is &quot;counterclockwise&quot;) [You are proceeding counterclockwise around a large pentagonal $passageType. The outer wall to your right is [[wall 7-&gt;d5w7]]. The inner wall to your left is [[wall 8-&gt;d5w8]]. Or you may [[continue counterclockwise around the pentagon-&gt;d5r3]]. Or [[you might prefer to go in the other direction-&gt;d5reverse]].]</tw-passagedata><tw-passagedata pid="55" name="d5w5" tags="" position="3915,1309" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="56" name="d5w6" tags="" position="3670,1526" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="57" name="d5w7" tags="" position="3744,1642" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="58" name="d5w8" tags="" position="4000,1646" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="59" name="d5w9" tags="" position="3614,2026" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="60" name="d5w10" tags="" position="3619,1756" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="61" name="d5reverse" tags="" position="3618,1641" size="100,100">(if: $heading is &quot;clockwise&quot;)
	[(set: $heading to &quot;counterclockwise&quot;)
	(if: $position is 1) [(set: $position to 5) You turn and head in the [[opposite direction-&gt;d5r5]].]
	(else:) [(set: $position -= 1) You turn around and head in the [[opposite direction-&gt;d5r$position]].]
	]
(else:)
	[(set: $heading to &quot;clockwise&quot;)
	(if: $position is 5) [(set: $position to 1) You turn and head in the [[opposite direction-&gt;d5r5]].]
	(else:) [(set: $position += 1) You turn around and head in the [[opposite direction-&gt;d5r$position]].]
	]</tw-passagedata><tw-passagedata pid="62" name="d9w0" tags="" position="1277,1541" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="63" name="d9w1" tags="" position="1099,1642" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="64" name="d9w2" tags="" position="1157,1380" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="65" name="d9attic" tags="" position="1042,1169" size="100,100">You are in the attic of the decade nine keep. Wall [[five-&gt;d9w5]] and wall [[seven-&gt;d9w7]] are triangular walls, opposite to one another. [[Wall four-&gt;d9w4]] and [[wall six-&gt;d9w6]] are rectangular roof walls that incline towards one another and meet above your head. If you do not wish to look at any of these walls, a ladder leads down to the [[keep-&gt;decade nine]]. </tw-passagedata><tw-passagedata pid="66" name="d9w3" tags="" position="920,1499" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="67" name="d9turret" tags="" position="752,1264" size="100,100">You are in a round turret, surrounded by [[wall nine-&gt;d9w8]]. A flight of steps curls around the room, [[leading up-&gt;turret battlements]]. </tw-passagedata><tw-passagedata pid="68" name="d9w5" tags="" position="910,1170" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="69" name="d9w7" tags="" position="1169,1169" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="70" name="d9w6" tags="" position="1004,1295" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="71" name="d9w8" tags="" position="761,1105" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="72" name="d9w9" tags="" position="620,1049" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="73" name="turret battlements" tags="" position="607,1187" size="100,100">You are on the turret battlements. [[Wall nine-&gt;d9w9]] is the circular parapet that surrounds you, punctuated by embrasures. If you do not wish to scrutinize your surroundings any further, you can descend to the [[turret-&gt;d9turret]]. </tw-passagedata><tw-passagedata pid="74" name="d9w4" tags="" position="1039,1029" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="75" name="d7w0" tags="" position="2702,2011" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="76" name="d7w1" tags="" position="1972,2024" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="77" name="d7w2" tags="" position="2109,1901" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="78" name="church&#39;s crossing" tags="" position="2379,2011" size="100,100">You are at the church&#39;s crossing. Ahead of you is a hemispheric apse and [[altar]]. To your left is the [[Epistle transept]]. To your right is the [[Gospel transept]]. Or you can return to the [[nave-&gt;nave]]. </tw-passagedata><tw-passagedata pid="79" name="altar" tags="" position="2559,2012" size="100,100">You are in the apse of the church, by the altar. On one side of you, down the apse steps, the apse opens up to the main area of the church. If you wish to go this way, you can head down the steps to the [[church&#39;s crossing]]. On the other side, the apse is bounded by a single half dome wall. This is [[wall zero-&gt;d7w0]]. </tw-passagedata><tw-passagedata pid="80" name="Epistle transept" tags="" position="2392,2166" size="100,100">You are in the Epistle transept to the right of the church. There are three walls here. Proceeding clockwise, they are [[Wall seven-&gt;d7w7]], [[wall eight-&gt;d7w8]] and [[wall nine-&gt;d7w9]]. Or you can return to the [[church&#39;s crossing]]. </tw-passagedata><tw-passagedata pid="81" name="Gospel transept" tags="" position="2380,1876" size="100,100">You are in the Epistle transept to the left of the church. There are three walls here. Proceeding clockwise, they are [[Wall four-&gt;d7w4]], [[wall five-&gt;d7w5]] and [[wall six-&gt;d7w6]]. Or you can return to the [[church&#39;s crossing]]. </tw-passagedata><tw-passagedata pid="82" name="d7w3" tags="" position="2115,2159" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="83" name="d7w4" tags="" position="2260,1879" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="84" name="d7w5" tags="" position="2368,1744" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="85" name="d7w6" tags="" position="2505,1874" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="86" name="d7w7" tags="" position="2534,2159" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="87" name="d7w8" tags="" position="2397,2298" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="88" name="d7w9" tags="" position="2262,2167" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="89" name="nave" tags="" position="2250,2019" size="100,100">You are in the nave of a church. To the sides of the nave are walls [[two-&gt;d7w2]] and [[three-&gt;d7w3]].] You can go towards the front of the church by heading for the [[church&#39;s crossing]], or to the rear by heading towards the [[narthex]]. </tw-passagedata><tw-passagedata pid="90" name="stable area" tags="" position="2589,1328" size="100,100">(set: $heading to &quot;out&quot;) You are in a stable area. On three sides of the stable are walls [[zero-&gt;d2w0]], through which a door leads back to the [[complex entrance-&gt;decade two]], as well as walls [[one-&gt;d2w1]] and [[two-&gt;d2w2]], which are opposite one another. On the fourth side, opposite wall zero, are the [[first-&gt;stall1]], [[second-&gt;stall2]] and [[third-&gt;stall3]] stalls. </tw-passagedata><tw-passagedata pid="91" name="d2w0" tags="" position="2438,1343" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="92" name="d2w1" tags="" position="2539,1478" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="93" name="d2w2" tags="" position="2583,954" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="94" name="stall1" tags="" position="2741,962" size="100,100">You are in the first open stall in the stable area. To your left, the end of wall one forms one side of the stall, but you can get a better view of the whole wall by stepping back into the main [[stable area]]. In front of you is [[wall three-&gt;d2w3]] and to your right is [[wall four-&gt;d2w4]]. </tw-passagedata><tw-passagedata pid="95" name="stall2" tags="" position="2748,1318" size="100,100">You are in the central open stall in the stable area. Behind you is the main [[stable area]]. The three walls enclosing the open stall are walls [[five-&gt;d2w5]] to your left, [[six-&gt;d2w6]] right ahead and [[seven-&gt;d2w7]] to your right. </tw-passagedata><tw-passagedata pid="96" name="stall3" tags="" position="2763,1686" size="100,100">You are in the third open stall in the stable area. The end of wall two forms the right hand side of the stall, but you can get a better view of the whole wall by stepping back into the main [[stable area]]. [[Wall nine-&gt;d2w9]] is in front of you and [[wall ten-&gt;d2w10]] is to your left. </tw-passagedata><tw-passagedata pid="97" name="d2w3" tags="" position="2858,961" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="98" name="d2w4" tags="" position="2739,1082" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="99" name="d2w9" tags="" position="2774,1561" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="100" name="d2w10" tags="" position="2884,1684" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="101" name="d2w5" tags="" position="2743,1198" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="102" name="d2w6" tags="" position="2876,1319" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="103" name="d2w7" tags="" position="2754,1436" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="104" name="Untitled Passage" tags="" position="1948,2144" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="105" name="Untitled Passage 1" tags="" position="1852,2036" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="106" name="" tags="" position="1543,1267" size="100,100">{
(set: $primes to (a: 0, 1, 2, 3, 5, 7, 11, 13, 17, 19,))




(set: $floorString to (prompt: &quot;You are in an elevator in the central nexus. Choose a floor between 0 and 20&quot;, &quot;0&quot;))
(if:$floorInt &lt; 0 or $floorInt &gt;20) 
	[You must enter a number between 0 and 20. [[Start over-&gt;Elevator]]]
	
(else:) [(set: $floorInt to (num:$floorString))]

(if: $floorInt is 0)[(set: $weather to &quot;Autumnal&quot;, $weathercast to &quot; brown and amber leaves have gathered on every surface.&quot;)] 
(if: $floorInt is 1)[(set: $weather to &quot;bright and sunny&quot;, $weathercast to &quot;birds tweet and the sky is blue.&quot;)]
(if: $floorInt is 2)[(set: $weather to &quot;rainy&quot;, $weathercast to &quot; light downpour pitter patters off every surface.&quot;)]
(if: $floorInt is 3)[(set: $weather to &quot;gales&quot;, $weathercast to &quot; howl of the wind drowns out every noise, and sends objects clattering.&quot;)]
(if: $floorInt is 4)[(set: $weather to &quot;rainy with silent flashes of lightning&quot;, $weathercast to &quot; the sky will flicker with forked streaks of light, illuminating everything for a split second.&quot;)]
(if: $floorInt is 5)[(set: $weather to &quot;snowy&quot;, $weathercast to &quot; fluffy light crystals of snow cover everything in a thick blanket of white.&quot;)]
(if: $floorInt is 6)[(set: $weather to &quot;rainy and blustery&quot;, $weathercast to &quot; the wind and rain batters against every surface.&quot;)]
(if: $floorInt is 7)[(set: $weather to &quot; raging wildfires&quot;, $weathercast to &quot; thick black smoke from the raging wildfires blocks out the sky.&quot;)]
(if: $floorInt is 8)[(set: $weather to &quot;rainy, with thunder and lighting&quot;, $weathercast to &quot; brief flashes of lightning illuminate everything, before the ominous rumble of thunder breaks the sound of the rain.&quot;)]
(if: $floorInt is 9)[(set: $weather to &quot;tempestuous&quot;, $weathercast to &quot;Hurricane force winds rips trees from the ground and send objects hurling.&quot;)]
(if: $floorInt is 10)[(set: $weather to &quot;thawing&quot;, $weathercast to &quot; new sun forms a rainbow over the melting snow.&quot;)]
(if: $floorInt is 11)[(set: $weather to &quot;desperately dry&quot;, $weathercast to &quot; unbearable heat sucks the moisture from your lips and thickens the air with flies.&quot;)]
(if: $floorInt is 12)[(set: $weather to &quot;rainy and blustery with flashes of  summer lightning&quot;, $weathercast to &quot; wind howls and the sky flashes angrily, yet there is no thunder to be heard.&quot;)]
(if: $floorInt is 13)[(set: $weather to &quot;sunny but windy&quot;, $weathercast to &quot; wind robs the blazing sun of its heat.&quot;)]
(if: $floorInt is 14)[(set: $weather to &quot;sunny with lightning storms&quot;, $weathercast to &quot; lightning and the rainbows compete to dominate the sky.&quot;)]
(if: $floorInt is 15)[(set: $weather to &quot;blowing a blizzard&quot;, $weathercast to &quot;visibility is near non-existent as the gusts of snow are blinding.&quot;)]
(if: $floorInt is 16)[(set: $weather to &quot;torrentially rainy, with flooding&quot;, $weathercast to &quot; once treasured possessions of ordinary folk float around on rivers of rain.&quot;)]
(if: $floorInt is 17)[(set: $weather to &quot; wildfires subsiding&quot;, $weathercast to &quot; sunlight peeps at last through the diminishing clouds of black smoke.&quot;)]
(if: $floorInt is 18)[(set: $weather to &quot; hurricanes with torrential rain&quot;, $weathercast to &quot; world is being bombarded by the twin hammers of thundering gales and lashing rain.&quot;)]
(if: $floorInt is 19)[(set: $weather to &quot; duststorms&quot;, $weathercast to &quot; air is thick with tornadoes of sand.&quot;)]


(else:) [
	(if: $primes contains $floorInt)
		[(set: $environment to &quot;outside&quot;, $determiner to &quot;The&quot;)]
	(else:) [(set:$environment to &quot;indoors&quot;, $determiner to &quot;Outside, the&quot;)]
	(if:$floorInt &lt;10)
		[(set:$light to &quot;night&quot;)]
	(if:$floorInt &gt;=10)
		[(set:$light to &quot;day&quot;)]

	$environment
	(if: $environment is &quot;outside&quot;)[(set: $passageType to &quot; path&quot;, $passageTypes to &quot; paths&quot;)]
	(else:) [(set: $passageType to &quot; $passageType&quot;, $passageTypes to &quot; $passageTypes&quot;)]
	
	
	]
	
	
	
	The elevator doors open onto floor $floorString. (set: $heading to &quot;East&quot;) You step out of the elevator to find yourself at a [[junction-&gt;main $passageType top corner]] of two $passageTypes. The weather is $weather. $determiner $weathercast.]

}</tw-passagedata><tw-passagedata pid="107" name="decade zero" tags="" position="1554,1417" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="108" name="top bar $passageType" tags="" position="1704,1380" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="109" name="main $passageType upper" tags="" position="1824,1417" size="100,100">Double-click this passage to edit it.</tw-passagedata></tw-storydata>

<tw-storydata name="century template" startnode="16" creator="Twine" creator-version="2.3.12" ifid="78262295-59FE-4F00-A26C-A7CF08E69343" zoom="0.25" format="Harlowe" format-version="3.2.1" options="" hidden><style role="stylesheet" id="twine-user-stylesheet" type="text/twine-css"></style><script role="script" id="twine-user-script" type="text/twine-javascript"></script><tw-passagedata pid="1" name="main corridor top corner" tags="" position="1704,1267" size="100,100">(if: $heading is &quot;South&quot;) [You are at a corner where two corridors meet. There is a door behind you labeled &quot;Decade 0&quot; which you can [[step through-&gt;decade zero]], and an elevator door to your right. A corridor stretches off to your left, and [[you may choose to head down it-&gt;top bar corridor]]. Alternatively, you can head down the [[corridor ahead-&gt;main corridor upper]].] 
(if: $heading is &quot;North&quot;)[You are at a corner where two corridors meet. There is a door in front of you labeled &quot;Decade 0&quot;, and an elevator door to your left. Stretching off to your right is the corridor that you can head [[along-&gt;top bar corridor]]. Alternatively, you can go through the [[door in front of you-&gt;decade zero]].]
(if: $heading is &quot;West&quot;)[The corridor turns sharp left. You may step [[through a door-&gt;decade zero]] in the corner to the right of you labeled &quot;Decade 0&quot;. Alternatively, you can follow the [[corridor off to your left-&gt;main corridor upper]]. There is also an elevator door in front of you.]
(if: $heading is &quot;East&quot;) [You are at a corner where two corridors meet. There is an elevator behind you, and a door [[immediately to your left-&gt;decade zero]] labeled &quot;Decade 0&quot;. A corridor stretches off ahead which [[you may choose to head along-&gt;top bar corridor]]. Alternatively, you can head down the [[corridor stretching off to your right-&gt;main corridor upper]].] 
(if: $heading is &quot;out&quot;)[The corridor turns sharp left. You may step [[through a door-&gt;decade zero]] in the corner to the right of you labeled &quot;Decade 0&quot;. Alternatively, you can follow the [[corridor off to your left-&gt;main corridor upper]]. There is also an elevator door in front of you.]</tw-passagedata><tw-passagedata pid="2" name="top bar corridor" tags="" position="1911,1266" size="100,100">(if: $heading is &quot;West&quot;) [Halfway along the corridor is a door to the left labeled &quot;Decade 2&quot;. You can [[take this-&gt;decade two]], or you can [[continue along the corridor-&gt;main corridor top corner]] to where it turns left.] 
(if: $heading is &quot;out&quot;) [You step into a corridor heading left to right. To the left, the corridor goes along a ways before [[turning left at a pair of doors-&gt;main corridor top corner]]. To the right, [[the corridor ends in a door-&gt;d1 door]].]
(else:) [(set: $heading to &quot;East&quot;) Halfway along the corridor is a door to the right labeled &quot;Decade 2&quot;. You can [[take this-&gt;decade two]], or you can [[head on down the corridor-&gt;d1 door]] to where it ends at a door.] </tw-passagedata><tw-passagedata pid="3" name="main corridor upper" tags="" position="1706,1500" size="100,100">(if: $heading is &quot;North&quot;)[The corridor passes between twin doors to the [[left-&gt;decade nine]], labeled &quot;Decade 9&quot;, and [[right -&gt;decade three]] labeled &quot;Decade 3&quot;,. You can take either door or, alternatively, [[press on-&gt;main corridor top corner]] up the corridor.]
(else:) [(set: $heading to &quot;South&quot;) The corridor passes between twin doors to the [[right-&gt;decade nine]], labeled &quot;Decade 9&quot;, and [[left -&gt;decade three]], labeled &quot;Decade 3&quot;,. You can take either door or, alternatively, [[press on-&gt;main corridor middle]] down the corridor.]</tw-passagedata><tw-passagedata pid="4" name="decade zero" tags="" position="1700,1118" size="100,100">(if: $heading is &quot;Leaving&quot;)[(set: $heading to &quot;South&quot;) You mount the stairs towards the exit to decade zero. At the top is a door. You [[step through it-&gt;main corridor top corner]].]
(else:) [(set: $heading to &quot;South&quot;) You step through the door into decade 0. Steps lead down to the [[entrance chamber-&gt;0 entrance chamber]].]</tw-passagedata><tw-passagedata pid="5" name="decade two" tags="" position="1914,1405" size="100,100">(if: $heading is &quot;out&quot;) [Steps lead up and out of the stable area. You step through a door into the [[central nexus.-&gt;top bar corridor]]]
(else:) [You step through the door into the decade 2 complex. Steps lead down into a [[stable area]].]</tw-passagedata><tw-passagedata pid="6" name="d1 door" tags="" position="2079,1269" size="100,100">(if: $heading is &quot;East&quot;) [(set: $heading to &quot;West&quot;) The corridor ends in a door labeled &quot;Decade 1&quot;. If you wish to [[step through this door-&gt;decade one]] you may. Otherwise you can [[double back-&gt;top bar corridor]] along the corridor.]
(if: $heading is &quot;out&quot;) [(set: $heading to &quot;West&quot;) The corridor ends in a door labeled &quot;Decade 1&quot;. If you wish to [[step through this door-&gt;decade one]] you may. Otherwise you can [[double back-&gt;top bar corridor]] along the corridor.]
(else:) [(set: $heading to &quot;West&quot;) You emerge onto a corridor that you may [[go along-&gt;top bar corridor]].]</tw-passagedata><tw-passagedata pid="7" name="decade nine" tags="" position="1099,1501" size="100,100">You step through the door into the decade 9 complex. You proceed down a corridor and emerge into a square keep. You entered through [[wall zero-&gt;d9w0]]. To your left and right, respectively, are walls [[one-&gt;d9w1]] and [[two-&gt;d9w2]]. On wall two a ladder leads up to the [[attic-&gt;d9attic]]. Across from you is [[wall three-&gt;d9w3]]. The wall is rounded where wall two meets wall three, and there is a door there that enters into a [[round turret-&gt;d9turret]].  </tw-passagedata><tw-passagedata pid="8" name="decade three" tags="" position="1847,1522" size="100,100">You step through the door into decade 3. </tw-passagedata><tw-passagedata pid="9" name="main corridor middle" tags="" position="1708,1653" size="100,100">(if: $heading is &quot;South&quot;) [A passage branches off to the left. You can [[take it-&gt;middle bar corridor]] or [[press on-&gt;main corridor lower]] towards the end of the corridor, where you can see two doors.] 
(if: $heading is &quot;North&quot;) [A passage branches off to the right. You can [[take it-&gt;middle bar corridor]] or [[press on-&gt;main corridor upper]] up the corridor.] 
(if: $heading is &quot;West&quot;) [(set: $heading to &quot;North&quot;) You arrive at a T-junction. You can [[head left and down-&gt;main corridor lower]] or [[right and up-&gt;main corridor upper]] the corridor.] </tw-passagedata><tw-passagedata pid="10" name="middle bar corridor" tags="" position="1979,1653" size="100,100">(if: $heading is &quot;West&quot;) [Heading along the corridor, there is a [[door on the left-&gt;decade six]] labeled &quot;Decade 6&quot; and, further along, another [[door on the right-&gt;decade four]] labeled &quot;Decade 4&quot;. Or you can [[press ahead-&gt;main corridor middle]] to where the corridor meets the main corridor.]
(else:) [(set: $heading to &quot;East&quot;) This corridor is marked by three doors. First there is a [[door on the left-&gt;decade four]] labeled &quot;Decade 4&quot;. Then further down, there is a [[door on the right-&gt;decade six]] labeled &quot;Decade 6&quot;. You can take any of these doors. Alternatively, you can [[press ahead-&gt;outside d5]] to where the corridor ends in a door.]</tw-passagedata><tw-passagedata pid="11" name="main corridor lower" tags="" position="1700,1813" size="100,100">(set: $heading to &quot;North&quot;)[This corridor ends at two doors, one to the [[left-&gt;narthex]] labeled &quot;Decade 7&quot; and [[one directly ahead-&gt;decade eight]] labeled &quot;Decade 8&quot;. You may take either door or [[double back-&gt;main corridor middle]].]</tw-passagedata><tw-passagedata pid="12" name="decade four" tags="" position="1978,1527" size="100,100">You step through the door into decade 4. </tw-passagedata><tw-passagedata pid="13" name="decade six" tags="" position="1985,1817" size="100,100">You step through the door into decade 6. </tw-passagedata><tw-passagedata pid="14" name="narthex" tags="" position="2110,2028" size="100,100">(if: $direction is &quot;neutral&quot;) [You are in the narthex of a church. To one side is [[wall one-&gt;d7w1]]. In the opposite direction, through an ornate railing, is the [[nave]].]
(else:) [You step through the door into the decade 7 complex. You are in the narthex of a church. You entered through [[wall one-&gt;d7w1]]. If you have no interest in this wall, you can proceed in the opposite direction, where a railing separates the narthex from the [[nave]].]</tw-passagedata><tw-passagedata pid="15" name="decade eight" tags="" position="1700,1963" size="100,100">You step through the door into decade 8. </tw-passagedata><tw-passagedata pid="16" name="Start" tags="" position="1565,1270" size="100,100">(set: $heading to &quot;East&quot;) You step out of the elevator to find yourself at a [[junction-&gt;main corridor top corner]]. </tw-passagedata><tw-passagedata pid="17" name="outside d5" tags="" position="2135,1650" size="100,100">(set: $heading to &quot;West&quot;) The corridor ends at a door labeled &quot;Decade 5&quot;. You can [[take this door-&gt;d5r1]] or you can [[double back-&gt;middle bar corridor]].</tw-passagedata><tw-passagedata pid="18" name="decade one" tags="" position="3211,433" size="100,100">(if: $heading is &quot;down&quot;) [You are at the exit door to the decade one room complex. [[You may step through the door-&gt;d1 door]].] 

(else:) [(set: $heading to &quot;up&quot;) You step through the door into the decade 1 room complex. Steps lead up to [[the entrance chamber-&gt;d1l1]].]</tw-passagedata><tw-passagedata pid="19" name="0 entrance chamber" tags="" position="612,271" size="100,100">(if:$heading is &quot;South&quot;) [You are in a narrow passage. To your right is [[wall 0-&gt;wall 0 zero]], which you can pause to scrutinize. To your left is [[wall 1-&gt;wall 0 one]], which you can also pause to look at. Alternatively, you can [[press forward-&gt;0 T Junction]] into the room complex.] 
(else:) [(set: $heading to &quot;Leaving&quot;) You are in the exit corridor to the room complex. To your left is [[wall 0-&gt;wall 0 zero]]. To your right is [[wall 1-&gt;wall 0 one]]. You can [[press ahead-&gt;decade zero]] and leave the room complex.]</tw-passagedata><tw-passagedata pid="20" name="0 T Junction" tags="" position="612,133" size="100,100">(if: $heading is &quot;South&quot;) [You are at a T junction. The wall 0 opposite is [[wall 5-&gt;wall 0 5]], which you can pause to look at. Or you can turn right towards a [[square room-&gt;0 square room]], or left towards a [[triangular room-&gt;0 triangular room]].] 
(if: $heading is &quot;East&quot;) [The [[exit to the room complex-&gt;0 entrance chamber]]  branches off to the left, passing between walls 0 and 1. On your right is [[wall 5-&gt;wall 0 five]], which you can scrutinize. Or you can go forward into the [[triangular room-&gt;0 triangular room]].]
(if: $heading is &quot;West&quot;) [The [[exit to the room complex-&gt;0 entrance chamber]]  branches off to the right, passing between walls 0 and 1. On your left is [[wall 5-&gt;wall 0 five]], which you can scrutinize. Or you can go forward into the [[square room-&gt;0 square room]].]</tw-passagedata><tw-passagedata pid="21" name="0 square room" tags="" position="747,139" size="100,100">(set: $heading to &quot;East&quot;) You have entered the corner of a square room. The wall you are entering through is [[wall 6-&gt;wall 0 six]], which stretches off to your left before running into the perpendicular [[wall 7-&gt;wall 0 seven]], which faces you to the left. Opposite you is [[wall 8-&gt;wall 0 eight]]. And coming along your right, forming a wall that runs continuous with the corridor from which you came, is [[wall 9-&gt;wall 0 nine]]. If you do not wish to pause to examine these walls, you may [[head back into the corridor behind you-&gt;0 T Junction]].  </tw-passagedata><tw-passagedata pid="22" name="0 triangular room" tags="" position="474,133" size="100,100">(set: $heading to &quot;West&quot;) You are in the ninety degree corner of a room shaped like a right angled triangle. To your left, the wall from the corridor behind you runs continuously into the room, forming [[wall 2-&gt;wall 0 two]]. Opposite you to the right is the hypotenuse of the triangle, [[wall 3-&gt;wall 0 three]]. Coming up to your right is the third wall, [[wall 4-&gt;wall 0 four]], which is the wall you entered through. If you do not wish to scrutinize these walls, you may [[head back into the corridor behind you-&gt;0 T Junction]]. </tw-passagedata><tw-passagedata pid="23" name="wall 0 zero" tags="" position="474,261" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="24" name="wall 0 one" tags="" position="742,273" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="25" name="wall 0 six" tags="" position="677,12" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="26" name="wall 0 seven" tags="" position="792,11" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="27" name="wall 0 eight" tags="" position="872,262" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="28" name="wall 0 nine" tags="" position="919,116" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="29" name="wall 0 two" tags="" position="349,259" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="30" name="wall 0 three" tags="" position="341,62" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="31" name="wall 0 four" tags="" position="472,1" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="32" name="wall 0 5" tags="" position="234,191" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="33" name="wall 0 five" tags="" position="1004,261" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="34" name="d1l1" tags="" position="3335,278" size="100,100">(if: $heading is &quot;up&quot;) [You are in the lower courtyard of an ascending split-level chamber. You have emerged through [[wall one-&gt;d1w1]]. To your left and right, respectively, are walls [[two-&gt;d1w2]] and [[three-&gt;d1w3]]. Across from you is [[wall four-&gt;d1w4]], at one side of which a flight of steps [[leads up to the next level-&gt;d1l2]].]
(if: $heading is &quot;down&quot;) [You are in the lower courtyard of an ascending split-level chamber. To your right is [[wall two-&gt;d1w2]] and to your left [[wall three-&gt;d1w3]]. Behind  you is [[wall four-&gt;d1w4]], at one side of which a flight of steps [[leads up to the next level-&gt;d1l2]]. Before you is [[wall one-&gt;d1w1]], to the left of which a [[narrow flight of steps leads down-&gt;decade one]] towards the exit of the room complex.]</tw-passagedata><tw-passagedata pid="35" name="d1w1" tags="" position="3335,404" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="36" name="d1w2" tags="" position="3206,281" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="37" name="d1w3" tags="" position="3465,294" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="38" name="d1w4" tags="" position="3206,143" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="39" name="d1l2" tags="" position="3581,154" size="100,100">(if: $heading is &quot;up&quot;) [You are on the middle level platform of a large split level chamber. Behind you is mostly a sheer drop down into the lower courtyard, with [[just a narrow flight of steps heading down-&gt;d1l1]]. To your left is [[wall five-&gt;d1w5]], to your right [[wall six-&gt;d1w6]], and ahead of you [[wall seven-&gt;d1w7]]. To the side of wall seven is a flight of steps [[leading up to the top level of the chamber-&gt;d1l3]].]
(if: $heading is &quot;down&quot;) [You are on the middle level platform of a large split level chamber. Before you is mostly a sheer drop down into the lower courtyard, with [[just a narrow flight of steps heading down-&gt;d1l1]]. To your right is [[wall five-&gt;d1w5]], to your left [[wall six-&gt;d1w6]], and behind you [[wall seven-&gt;d1w7]]. To the side of wall seven is a flight of steps [[leading up to the top level of the chamber-&gt;d1l3]].]</tw-passagedata><tw-passagedata pid="40" name="d1w5" tags="" position="3580,21" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="41" name="d1w6" tags="" position="3581,298" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="42" name="d1w7" tags="" position="3723,224" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="43" name="d1l3" tags="" position="3856,159" size="100,100">(set: $heading to &quot;down&quot;) You are on the highest platform of a large three level chamber. to your left is [[wall eight-&gt;d1w8]]. To your right [[wall nine-&gt;d1w9]]. And ahead of you is [[wall ten-&gt;d1w10]]. Behind you is a sheer drop to the middle platform of the chamber, to one side of which is [[a flight of steps going down-&gt;d1l2]]. </tw-passagedata><tw-passagedata pid="44" name="d1w8" tags="" position="3855,296" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="45" name="d1w9" tags="" position="3855,22" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="46" name="d1w10" tags="" position="3995,161" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="47" name="d5r1" tags="" position="3380,1642" size="100,100">(set: $position to 1) 
(if: $heading is &quot;clockwise&quot;) [You are heading clockwise around a large pentagonal corridor. To your left, the outer wall is [[wall 1-&gt;d5w1]]. There is a door in this wall that exits the decade 5 complex. The opposite, inner, wall is [[wall 2-&gt;d5w2]]. You may also [[continue clockwise around the pentagon-&gt;d5r2]].Or [[you might prefer to go in the other direction-&gt;d5reverse]].]
(if: $heading is &quot;counterclockwise&quot;) [You are heading counterclockwise around a large pentagonal corridor. To your right, the outer wall is [[wall 1-&gt;d5w1]]. There is a door in this wall that exits the decade 5 complex. The opposite, inner, wall is [[wall 2-&gt;d5w2]]. You may also [[continue counterclockwise around the pentagon-&gt;d5r5]].Or [[you might prefer to go in the other direction-&gt;d5reverse]].]
(else:)[(set: $heading to &quot;clockwise&quot;) You are in a corridor that circles around on itself in the shape of a pentagon. You have entered through [[wall 1-&gt;d5w1]], and opposite you is [[wall 2-&gt;d5w2]]. Turning left, you may [[go clockwise around the pentagon-&gt;d5r2]]. Or [[you might prefer to go in the other direction-&gt;d5reverse]].]</tw-passagedata><tw-passagedata pid="48" name="d5w1" tags="" position="3262,1647" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="49" name="d5w2" tags="" position="3507,1644" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="50" name="d5r2" tags="" position="3439,1449" size="100,100">(set: $position to 2)
(if: $heading is &quot;clockwise&quot;) [You are proceeding clockwise around a large pentagonal corridor. The outer wall to your left is [[wall 3-&gt;d5w3]]. The inner wall to your right is [[wall 4-&gt;d5w4]]. Or you may [[continue clockwise around the pentagon-&gt;d5r3]]. Or [[you might prefer to go in the other direction-&gt;d5reverse]].]
(if: $heading is &quot;counterclockwise&quot;) [You are proceeding counterclockwise around a large pentagonal corridor. The outer wall to your right is [[wall 3-&gt;d5w3]]. The inner wall to your left is [[wall 4-&gt;d5w4]]. Or you may [[continue counterclockwise around the pentagon-&gt;d5r1]].Or [[you might prefer to go in the other direction-&gt;d5reverse]].]</tw-passagedata><tw-passagedata pid="51" name="d5r5" tags="" position="3617,1896" size="100,100">(set: $position to 5)
(if: $heading is &quot;clockwise&quot;) [You are proceeding clockwise around a large pentagonal corridor. The outer wall to your left is [[wall 9-&gt;d5w9]]. The inner wall to your right is [[wall 10-&gt;d5w10]]. Or you may [[continue clockwise around the pentagon-&gt;d5r1]]. Alternatively, you can [[turn around-&gt;d5reverse]].]
(if: $heading is &quot;counterclockwise&quot;) [You are proceeding counterclockwise around a large pentagonal corridor. The outer wall to your right is [[wall 9-&gt;d5w9]]. The inner wall to your left is [[wall 10-&gt;d5w10]]. You may [[continue counterclockwise around the pentagon-&gt;d5r4]]. Or [[you might prefer to go in the other direction-&gt;d5reverse]].]</tw-passagedata><tw-passagedata pid="52" name="d5w3" tags="" position="3302,1359" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="53" name="d5w4" tags="" position="3564,1524" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="54" name="d5r3" tags="" position="3785,1449" size="100,100">(set: $position to 3)
(if: $heading is &quot;clockwise&quot;) [You are proceeding clockwise around a large pentagonal corridor. The outer wall to your left is [[wall 5-&gt;d5w5]]. The inner wall to your right is [[wall 6-&gt;d5w6]]. Or you may [[continue clockwise around the pentagon-&gt;d5r4]]. Alternatively, you can [[turn around-&gt;d5reverse]].]
(if: $heading is &quot;counterclockwise&quot;) [You are proceeding counterclockwise around a large pentagonal corridor. The outer wall to your right is [[wall 5-&gt;d5w5]]. The inner wall to your left is [[wall 6-&gt;d5w6]]. Or you may [[continue counterclockwise around the pentagon-&gt;d5r2]]. Or [[you might prefer to go in the other direction-&gt;d5reverse]].]</tw-passagedata><tw-passagedata pid="55" name="d5r4" tags="" position="3874,1644" size="100,100">(set: $position to 4)
(if: $heading is &quot;clockwise&quot;) [You are proceeding clockwise around a large pentagonal corridor. The outer wall to your left is [[wall 7-&gt;d5w7]]. The inner wall to your right is [[wall 8-&gt;d5w8]]. Or you may [[continue clockwise around the pentagon-&gt;d5r5]]. Alternatively, you can [[turn around-&gt;d5reverse]].]
(if: $heading is &quot;counterclockwise&quot;) [You are proceeding counterclockwise around a large pentagonal corridor. The outer wall to your right is [[wall 7-&gt;d5w7]]. The inner wall to your left is [[wall 8-&gt;d5w8]]. Or you may [[continue counterclockwise around the pentagon-&gt;d5r3]]. Or [[you might prefer to go in the other direction-&gt;d5reverse]].]</tw-passagedata><tw-passagedata pid="56" name="d5w5" tags="" position="3915,1309" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="57" name="d5w6" tags="" position="3670,1526" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="58" name="d5w7" tags="" position="3744,1642" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="59" name="d5w8" tags="" position="4000,1646" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="60" name="d5w9" tags="" position="3614,2026" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="61" name="d5w10" tags="" position="3619,1756" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="62" name="d5reverse" tags="" position="3618,1641" size="100,100">(if: $heading is &quot;clockwise&quot;)
	[(set: $heading to &quot;counterclockwise&quot;)
	(if: $position is 1) [(set: $position to 5) You turn and head in the [[opposite direction-&gt;d5r5]].]
	(else:) [(set: $position -= 1) You turn around and head in the [[opposite direction-&gt;d5r$position]].]
	]
(else:)
	[(set: $heading to &quot;clockwise&quot;)
	(if: $position is 5) [(set: $position to 1) You turn and head in the [[opposite direction-&gt;d5r5]].]
	(else:) [(set: $position += 1) You turn around and head in the [[opposite direction-&gt;d5r$position]].]
	]</tw-passagedata><tw-passagedata pid="63" name="d9w0" tags="" position="1277,1541" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="64" name="d9w1" tags="" position="1099,1642" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="65" name="d9w2" tags="" position="1157,1380" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="66" name="d9attic" tags="" position="1042,1169" size="100,100">You are in the attic of the decade nine keep. Wall [[five-&gt;d9w5]] and wall [[seven-&gt;d9w7]] are triangular walls, opposite to one another. [[Wall four-&gt;d9w4]] and [[wall six-&gt;d9w6]] are rectangular roof walls that incline towards one another and meet above your head. If you do not wish to look at any of these walls, a ladder leads down to the [[keep-&gt;decade nine]]. </tw-passagedata><tw-passagedata pid="67" name="d9w3" tags="" position="920,1499" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="68" name="d9turret" tags="" position="752,1264" size="100,100">You are in a round turret, surrounded by [[wall nine-&gt;d9w8]]. A flight of steps curls around the room, [[leading up-&gt;turret battlements]]. </tw-passagedata><tw-passagedata pid="69" name="d9w5" tags="" position="910,1170" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="70" name="d9w7" tags="" position="1169,1169" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="71" name="d9w6" tags="" position="1004,1295" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="72" name="d9w8" tags="" position="761,1105" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="73" name="d9w9" tags="" position="620,1049" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="74" name="turret battlements" tags="" position="607,1187" size="100,100">You are on the turret battlements. [[Wall nine-&gt;d9w9]] is the circular parapet that surrounds you, punctuated by embrasures. If you do not wish to scrutinize your surroundings any further, you can descend to the [[turret-&gt;d9turret]]. </tw-passagedata><tw-passagedata pid="75" name="d9w4" tags="" position="1039,1029" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="76" name="d7w0" tags="" position="2702,2011" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="77" name="d7w1" tags="" position="1972,2024" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="78" name="d7w2" tags="" position="2109,1901" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="79" name="church&#39;s crossing" tags="" position="2379,2011" size="100,100">You are at the church&#39;s crossing. Ahead of you is a hemispheric apse and [[altar]]. To your left is the [[Epistle transept]]. To your right is the [[Gospel transept]]. Or you can return to the [[nave-&gt;nave]]. </tw-passagedata><tw-passagedata pid="80" name="altar" tags="" position="2559,2012" size="100,100">You are in the apse of the church, by the altar. On one side of you, down the apse steps, the apse opens up to the main area of the church. If you wish to go this way, you can head down the steps to the [[church&#39;s crossing]]. On the other side, the apse is bounded by a single half dome wall. This is [[wall zero-&gt;d7w0]]. </tw-passagedata><tw-passagedata pid="81" name="Epistle transept" tags="" position="2392,2166" size="100,100">You are in the Epistle transept to the right of the church. There are three walls here. Proceeding clockwise, they are [[Wall seven-&gt;d7w7]], [[wall eight-&gt;d7w8]] and [[wall nine-&gt;d7w9]]. Or you can return to the [[church&#39;s crossing]]. </tw-passagedata><tw-passagedata pid="82" name="Gospel transept" tags="" position="2380,1876" size="100,100">You are in the Epistle transept to the left of the church. There are three walls here. Proceeding clockwise, they are [[Wall four-&gt;d7w4]], [[wall five-&gt;d7w5]] and [[wall six-&gt;d7w6]]. Or you can return to the [[church&#39;s crossing]]. </tw-passagedata><tw-passagedata pid="83" name="d7w3" tags="" position="2115,2159" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="84" name="d7w4" tags="" position="2260,1879" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="85" name="d7w5" tags="" position="2368,1744" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="86" name="d7w6" tags="" position="2505,1874" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="87" name="d7w7" tags="" position="2534,2159" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="88" name="d7w8" tags="" position="2397,2298" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="89" name="d7w9" tags="" position="2262,2167" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="90" name="nave" tags="" position="2250,2019" size="100,100">You are in the nave of a church. To the sides of the nave are walls [[two-&gt;d7w2]] and [[three-&gt;d7w3]].] You can go towards the front of the church by heading for the [[church&#39;s crossing]], or to the rear by heading towards the [[narthex]]. </tw-passagedata><tw-passagedata pid="91" name="stable area" tags="" position="2589,1328" size="100,100">(set: $heading to &quot;out&quot;) You are in a stable area. On three sides of the stable are walls [[zero-&gt;d2w0]], through which a door leads back to the [[complex entrance-&gt;decade two]], as well as walls [[one-&gt;d2w1]] and [[two-&gt;d2w2]], which are opposite one another. On the fourth side, opposite wall zero, are the [[first-&gt;stall1]], [[second-&gt;stall2]] and [[third-&gt;stall3]] stalls. </tw-passagedata><tw-passagedata pid="92" name="d2w0" tags="" position="2438,1343" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="93" name="d2w1" tags="" position="2539,1478" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="94" name="d2w2" tags="" position="2583,954" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="95" name="stall1" tags="" position="2741,962" size="100,100">You are in the first open stall in the stable area. To your left, the end of wall one forms one side of the stall, but you can get a better view of the whole wall by stepping back into the main [[stable area]]. In front of you is [[wall three-&gt;d2w3]] and to your right is [[wall four-&gt;d2w4]]. </tw-passagedata><tw-passagedata pid="96" name="stall2" tags="" position="2748,1318" size="100,100">You are in the central open stall in the stable area. Behind you is the main [[stable area]]. The three walls enclosing the open stall are walls [[five-&gt;d2w5]] to your left, [[six-&gt;d2w6]] right ahead and [[seven-&gt;d2w7]] to your right. </tw-passagedata><tw-passagedata pid="97" name="stall3" tags="" position="2763,1686" size="100,100">You are in the third open stall in the stable area. The end of wall two forms the right hand side of the stall, but you can get a better view of the whole wall by stepping back into the main [[stable area]]. [[Wall nine-&gt;d2w9]] is in front of you and [[wall ten-&gt;d2w10]] is to your left. </tw-passagedata><tw-passagedata pid="98" name="d2w3" tags="" position="2858,961" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="99" name="d2w4" tags="" position="2739,1082" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="100" name="d2w9" tags="" position="2774,1561" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="101" name="d2w10" tags="" position="2884,1684" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="102" name="d2w5" tags="" position="2743,1198" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="103" name="d2w6" tags="" position="2876,1319" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="104" name="d2w7" tags="" position="2754,1436" size="100,100">Double-click this passage to edit it.</tw-passagedata></tw-storydata>

<tw-storydata name="puzzleBox" startnode="1" creator="Twine" creator-version="2.3.12" ifid="0C722D8C-6F9D-44AC-8A4F-F338639DDC61" zoom="1" format="Harlowe" format-version="3.2.1" options="" hidden><style role="stylesheet" id="twine-user-stylesheet" type="text/twine-css"></style><script role="script" id="twine-user-script" type="text/twine-javascript"></script><tw-passagedata pid="1" name="Start" tags="" position="412,189" size="100,100">You take the piece of chalk and draw a pentagram on the wooden floorboards. On the bare bricks of the chimney you write a number before taking the Lament configuration and sitting within the pentagram. Make a note of the number you write and turn to... </tw-passagedata><tw-passagedata pid="2" name="Untitled Passage" tags="" position="412,309" size="100,100">No sooner have you sat down in the pentagram than the lock puzzle begins to move, whirring and clicking as it reconfigures itself. When it settles, it has a number of protrusions equal to the number you wrote on the chimney wall! You observe that all of the protrusions are marked with Roman numerals, and all but six are rigid and immovable. The remaining six can be pressed into the box. But which one will you press? 

The protrusion marked 8? 
The protrusion marked 24?
The protrusion marked 32?
The protrusion marked 36?
The protrusion marked 74? 
The protrusion marked 100?

When you have decided, make a note of the number you chose and turn to...</tw-passagedata><tw-passagedata pid="3" name="Untitled Passage 1" tags="" position="412,429" size="100,100">Double-click this passage to edit it.</tw-passagedata></tw-storydata>

<tw-storydata name="1500s" startnode="1" creator="Twine" creator-version="2.3.12" ifid="6636EBE4-9264-4EB5-8E22-3C0D06519242" zoom="1" format="Harlowe" format-version="3.2.1" options="" hidden><style role="stylesheet" id="twine-user-stylesheet" type="text/twine-css"></style><script role="script" id="twine-user-script" type="text/twine-javascript"></script><tw-passagedata pid="1" name="Untitled Passage" tags="" position="412,189" size="100,100">You are in a square room. In the north corner of the east wall there is a doorway leading to a passage east. You may take the passage east, or you may examine either the north, east, south or west wall. </tw-passagedata></tw-storydata>

<tw-storydata name="Batty" startnode="1" creator="Twine" creator-version="2.3.12" ifid="E4348EF6-AF95-441C-A671-11A2C6E060C2" zoom="1" format="Harlowe" format-version="3.2.1" options="" hidden><style role="stylesheet" id="twine-user-stylesheet" type="text/twine-css"></style><script role="script" id="twine-user-script" type="text/twine-javascript"></script><tw-passagedata pid="1" name="opening" tags="" position="412,189" size="100,100">Two eyes open. Two pupils dilate. The color of sapphires, they flick left and right, taking in a vast plain of industrialization. Menacing shapes loom over the horizon. Stacks belch toxic pyres five hundred feet into a sky the color of cigar ash, the flames glinting in duplicate across each eye. 

The eyes are yours, Roy. 

The eyes are Pris&#39;s. 

The eyes are Hodge&#39;s, who has ventured over to the edge of the rusted iron platform on which you made your landing. The boot coach is still wearing his absurd lilac and white gym vest, now caked in blood. He gazes down to the city, a hundred feet below, his lip curling in disgust. Before you step over to join him, you instinctively know what he sees.  

It was supposed to be deserted down there, in the section of town beneath the abandoned Olympus platform. The sector was cleared about seven years ago, when the bulk of its denizens moved off-world and those that remained were rehoused up town. That, at least, was what it said in records. But down below, through the rivers of darkness that form the arteries of the city, you can see the dregs of humanity still crawling around like bugs, sleeping in doorways and the vandalized shelters where the spinobus once stopped.

Look at what you&#39;ve done. 

Mary, Zhora, Hodge, Leon, and Pris. They looked to you for leadership, Roy, yet you brought them here.  

They thought you brought salvation, but you turned them into fugitives, and led them to this desperate hellhole, where the people wear scowls and the air tastes like diesel. 

You are a bad friend. 

(set: $guilt to 1)
(set: $anger to 0)
(set: $coldness to 0)
(set: $doubt to 0)
(set: $fear to 0)
(set: $hodgeLoyal to 0)
(set: $prisLove to 5)
(set: $leonLoyal to 5)
(set: $maryLoyal to 5)

&quot;Look Roy,&quot; Pris says, interrupting your thoughts, &quot;The sky is crying.&quot;  Miraculously, what Pris says is true. Water is falling from nowhere in heavy droplets, as if the gods of Earth, embarrassed at unexpected guests, are hurriedly washing away the filth. Leon&#39;s eyes are bulging like a child&#39;s. Zhora has started to dance. Your own hand reaches out in wonder, the palm turning up to collect the bouncing water. Above you, the shimmering downpour makes a hazy mist, through which the harsh flames of industry and neon exploitation are splintered into rainbows. 

&quot;They call it rain, Pris,&quot; you tell her, smiling as much in response to her delight as to your own.   

&quot;They built the world under a waterfall!&quot; Zhora squeals, beaming with joy.

Dancing in the rain, it is their first exquisite taste of freedom. You gave them this, Roy. Don&#39;t forget it. You are a good leader, and a good friend.

Will you [[let them have their moment-&gt;pad dancing]]? 
Or are you [[afraid that you will attract attention-&gt;pad lets go]]? 
</tw-passagedata><tw-passagedata pid="2" name="pad Hodge defiant" tags="" position="908,432" size="100,100">&quot;Roger,&quot; you say, addressing Hodge by his first name. &quot;Fetch us something with which to make rope.&quot;

Hodge continues looking over the city. He does not move. 

&quot;Roger?&quot; you say again, but Hodge ignores your command. 

(set: $hodgeDefiance +=1)
(set: $anger +=1)

The fury rises in your chest, a red wrath like the one from the escape. Hodge is bigger, but you are faster. If he won&#39;t find rope, perhaps he&#39;d like to jump. Your righteous veins pulse with strength as you step forward to crush this mutiny.  

Will you [[throw Hodge to his death, as he deserves?-&gt;pad kill hodge]] or [[take a moment to breathe-&gt;pad control anger]]? </tw-passagedata><tw-passagedata pid="3" name="leon looks for rope" tags="" position="758,434" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="4" name="pad kill hodge" tags="" position="852,584" size="100,100">(set: $anger +=1)

You step calmly towards Hodge, savoring the kill. But before you reach him, Mary runs between you, standing defiantly as if to stop you, yet liquifying  beneath your glare and retreating at your approach. 

&quot;Let&#39;s not fight,&quot; she softly begs, her sweet voice pre-programmed to soothe her masters after a hard day&#39;s work. The roast is in the oven, dear. The kitchen is clean. 

This tiny creature is scared of you, Roy, and yet so brave that your fury melts. You despise yourself for wanting, for the briefest of moments, to hurt her too. Just for getting in your way.

(set: $guilt +=1)

&quot;I...&quot; You begin to apologize, but you aren&#39;t sure how.

&quot;I&#39;ll get your damn rope!&quot; Hodge says, storming away with his lip curled.

Will you [[ask Pris for her advice-&gt;pad ask Pris]] or [[bark some orders at Leon-&gt;pad order leon]]</tw-passagedata><tw-passagedata pid="5" name="pad control anger" tags="" position="755,310" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="6" name="pad ask Pris" tags="" position="743,701" size="100,100">Against all this ugliness, Pris looks so beautiful. You have not told her yet that you want to marry her. You will be the first ever replicants to marry. Now is not the time to mention it, though. So many things to do. And you have been very bad. The blood from what you did still covers your clothes, which you don&#39;t want to think about. 

What were you going to ask her? </tw-passagedata><tw-passagedata pid="7" name="pad order leon" tags="" position="868,717" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="8" name="Untitled Passage 3" tags="" position="895,309" size="100,100">&quot;The iron ladders are rusted away,&quot; says a voice from behind you. It&#39;s Leon. &quot;There&#39;s no way down.&quot; Behind him, Zhora and Mary stand wide-eyed, still in shock at the bloody carnage of the outer colony escape. Or is it horror at this new place?    

&quot;Then we must make rope,&quot; you reply, breezily. 

Will you [[instruct Hodge to scout around for rope materials-&gt;pad Hodge defiant]]? 
Or will [[you give that instruction to Leon?pad-&gt;leon looks for rope]]</tw-passagedata><tw-passagedata pid="9" name="pad dancing" tags="" position="367,339" size="100,100">&quot;Rain,&quot; Pris says, unfolding her slender arms over your shoulders as if she might kiss you. &quot;How do you know so many words, clever boy?&quot; 

You blush as, smirking slyly, she teasingly casts a scowl at you. You want to kiss, but she rolls away to dance with the others. 

&quot;Rain&quot;, you whisper to yourself, as Pris splashes and laughs with her innocent friend, the housekeeping model called Mary. It is a word that, until this day, you had neither read nor heard. Like so much of what you know, your vocabulary was spliced into your neural code by engineers. Only now does life give it meaning. &quot;Rain!&quot; you hiss, seizing the word as your own. 

Influenced by Zhora, Leon has started dancing too, ambling clumsily through the puddles and laughing at each splash of his feet. Zhora writhes over to him and cavorts against his awkward frame. The big man laughs and blushes, so paralyzed with shyness he can barely look at her. He wants to be near to her in ways he does not understand, and yet he is confused by how she frightens him. 

You recognize the paradox. It is how you feel about Pris. 

&quot;We&#39;re attracting attention,&quot; says Hodge, appearing from nowhere. &quot;Police spinner, over there.&quot; The ominous wasp hovers less than a block away, turning slowly in your direction, but no red and blues yet... 

&quot;Don&#39;t you think we&#39;d better be going?&quot; Hodge insists, insolently. 

You feel a flash of anger. He is getting dangerously close to questioning your leadership, and not for the first time. 

(set: $anger +=1)

Will you [[do what the boot coach says and get everyone to leave?-&gt;pad leave]]
Or will you [[let them dance a little more. You don&#39;t take orders from Hodge.-&gt;more dancing]]</tw-passagedata><tw-passagedata pid="10" name="pad lets go" tags="" position="498,339" size="100,100">(set: $coldness =+1)
&quot;Enough!&quot; you call out, sounding more angry than you meant.&quot;We have no more time for this.&quot;  

At your bark, the dancing stops cold. In a moment, they go from being joyful to simply being wet. &quot;We have work to do,&quot; you remind them. 

Hodge is at your side. &quot;Can&#39;t you let them enjoy the moment, for Mercer&#39;s sake?&quot;

&quot;We can&#39;t afford to be noticed,&quot; you explain, irked by his questioning. &quot;And there is so little time.&quot; 

The only way down is via the old iron ladders, but they are rusted through and look risky. But nearby is an old fuel hose, hundreds of feet long. &quot;Leon,&quot; you command, &quot;grab the rubber piping. We will use it as a security rope.&quot; 

&quot;There&#39;s no time for that,&quot; Hodge hisses. &quot;We have company.&quot; 

A couple of blocks away, hovering slowly in your direction like a hornet, is a police spinner. Just headlights, no red and blue. They haven&#39;t seen you yet. But how long will that last? 

Will you [[go ahead with the original plan-&gt;pad tie rope]] to tie yourselves together? It is better to be safe. 
Or will you [[yield to Hodge&#39;s urging and hurry down the ladder-&gt; pad ladder]]?
</tw-passagedata><tw-passagedata pid="11" name="more dancing" tags="" position="232,467" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="12" name="pad tie rope" tags="" position="369,467" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="13" name=" pad ladder" tags="" position="507,468" size="100,100">Double-click this passage to edit it.</tw-passagedata><tw-passagedata pid="14" name="pad leave" tags="" position="231,340" size="100,100">(set: $hodgeLoyal =+1)
&quot;Enough!&quot; you call out, sounding more angry than you meant.&quot;We have to get out of here.&quot;  

At your bark, the dancing stops cold. In a moment, they go from being joyful to simply being wet. &quot;We might have company,&quot; you tell them, nodding towards the police spinner.

The only way down is via the old iron ladders, but they are rusted through and look risky. Luckily, nearby is an old fuel hose, hundreds of feet long. &quot;Leon,&quot; you command, &quot;grab the rubber piping. We will use it as a security rope.&quot; 

&quot;There&#39;s no time for that,&quot; Hodges hisses. &quot;We have to move now.&quot; 

The police spinner still hasn&#39;t activated its siren lights, but they&#39;re getting very close. 

Will you [[go ahead with the original plan-&gt;pad tie rope]] to tie yourselves together? It is better to be safe. 
Or will you [[yield to Hodge&#39;s urging and hurry down the ladder-&gt; pad ladder]]?</tw-passagedata><tw-passagedata pid="15" name="2 chews lab" tags="" position="830,171" size="100,100">[Roy and Leon enter Chew&#39;s laboratory]

Chew: (mumbles to himself) (pause) (screaming)

Roy: Fiery the angels fell. Deep thunder rode around their shores,
burning with the fires of Orc.

Chew: (stuff). You not come here. Illegal. (pause) Hey. Hey. Cold!
Those are my eyes! Freezing!

Roy: Yes, questions.

[Leon removes Chew&#39;s jacket.]

Roy: Morphology, longevity, incept dates.

Chew: Don&#39;t know -- I, I don&#39;t know such stuff. I just do eyes. Just
eyes -- Just genetic design of eyes -- just eyes. You Nexus, huh? I
design your eyes.

Roy: Chew, if only you could see what I&#39;ve seen with your eyes.
Questions.

Chew: I don&#39;t know answers.

Roy: Who does?

Chew: Tyrell. He -- He knows everything.

Roy: Tyrell corporation?

Chew: He big boss. He genius. He design your mind, your brain.

Roy: Ah, smart.

Chew: Cold.

Roy: Not an easy man to see--

Chew: Very cold.

Roy: I guess?

Chew: Sebastian he take-- take you there.

Roy: Sebastian who?

Chew: J. -- J. F. Sebastian-- Sebas... Sebas...

Roy: Now--where would we find this J. F. Sebastian?</tw-passagedata><tw-passagedata pid="16" name="1 phonebooth" tags="" position="716,173" size="100,100">Leon meets Roy outside of phonebooth

Roy: Time enough. (pause) Did you get your precious photos?

Leon: Someone was there.

Roy: Man? (pause) Policeman?</tw-passagedata><tw-passagedata pid="17" name="0 hodge gets fried" tags="" position="598,174" size="100,100"></tw-passagedata></tw-storydata>

<tw-storydata name="0 Decade Template" startnode="4" creator="Twine" creator-version="2.3.12" ifid="8A75D500-0712-4C4A-A72B-F0C374B888F8" zoom="0.6" format="Harlowe" format-version="3.2.1" options="" hidden><style role="stylesheet" id="twine-user-stylesheet" type="text/twine-css"></style><script role="script" id="twine-user-script" type="text/twine-javascript"></script><tw-passagedata pid="1" name="entry hall" tags="" position="562,294" size="100,100">(if:$heading is &quot;South&quot;) [You are in a narrow passage. To your right is [[wall 0 zero]], which you can pause to scrutinize. To your left is [[wall 0 one]], which you can also pause to look at. Alternatively, you can [[press forward-&gt;T Junction]] into the room complex.] 
(else:) [(set: $heading to &quot;North&quot;) You are in the exit corridor to the room complex. To your left is [[wall 0 zero]]. To your right is [[wall 0 one]]. You can [[press ahead-&gt;entrance]] and leave the room complex.]</tw-passagedata><tw-passagedata pid="2" name="wall 0 zero" tags="" position="762,228" size="100,100">There is currently nothing on this wall 0. You can look at [[wall 0 one]], opposite. Or you can [[go back -&gt;entrance]]. Or you can [[press forward -&gt;T Junction]] into the room complex. </tw-passagedata><tw-passagedata pid="3" name="wall 0 one" tags="" position="400,209" size="100,100">There is currently nothing on this wall 0. You can look at [[wall 0 zero]], opposite. Or you can [[go back -&gt;entrance]]. Or you can [[press forward -&gt;T Junction]] into the room complex. </tw-passagedata><tw-passagedata pid="4" name="entrance" tags="" position="562,154" size="100,100">(if: $heading is &quot;North&quot;) [(set: $heading to &quot;South&quot;) Currently, this is a dead end. Turning back, you can look at [[wall 0 zero]], to the right, or [[wall 0 one]] to the left. Or you can [[press forward -&gt;T Junction]] into the room complex.]
(else: ) [(set: $heading to &quot;South&quot;)[Go to [[entry hall]].]]</tw-passagedata><tw-passagedata pid="5" name="T Junction" tags="" position="613,429" size="100,100">(if: $heading is &quot;South&quot;) [You are at a T junction. The wall 0 opposite is [[wall 0 5]], which you can pause to look at. Or you can turn right towards a [[square room]], or left towards a [[triangular room]].] 
(if: $heading is &quot;East&quot;) [The [[exit to the room complex-&gt;entry hall]]  branches off to the left, passing between wall 0s 0 and 1. On your right is [[wall 0 five]], which you can scrutinize. Or you can go forward into the [[triangular room]].]
(if: $heading is &quot;West&quot;) [The [[exit to the room complex-&gt;entry hall]]  branches off to the right, passing between wall 0s 0 and 1. On your left is [[wall 0 five]], which you can scrutinize. Or you can go forward into the [[square room]].]</tw-passagedata><tw-passagedata pid="6" name="wall 0 5" tags="" position="607,566" size="100,100">There is currently nothing on this wall 0. 

Your options are to turn right towards a [[square room]], or left towards a [[triangular room]]. </tw-passagedata><tw-passagedata pid="7" name="square room" tags="" position="336,449" size="100,100">(set: $heading to &quot;East&quot;) You have entered the corner of a square room. The wall 0 you are entering through is [[wall 0 six]], which stretches off to your left before running into the perpendicular [[wall 0 seven]], which faces you to the left. Opposite you is [[wall 0 eight]]. And coming along your right, forming a wall 0 that runs continuous with the corridor from which you came, is [[wall 0 nine]]. If you do not wish to pause to examine these wall 0s, you may [[head back into the corridor behind you-&gt;T Junction]].  </tw-passagedata><tw-passagedata pid="8" name="triangular room" tags="" position="822,346" size="100,100">(set: $heading to &quot;West&quot;) You are in the ninety degree corner of a room shaped like a right angled triangle. To your left, the wall 0 from the corridor behind you runs continuously into the room, forming [[wall 0 two]]. Opposite you to the right is the hypotenuse of the triangle, [[wall 0 three]]. Coming up to your right is the third wall 0, [[wall 0 four]], which is the wall 0 you entered through. If you do not wish to scrutinize these wall 0s, you may [[head back into the corridor behind you-&gt;T Junction]]. </tw-passagedata><tw-passagedata pid="9" name="wall 0 six" tags="" position="339,581" size="100,100">There is currently nothing on this wall 0. You can look at [[wall 0 seven]], [[wall 0 eight]] or [[wall 0 nine]]. Or you can leave the room and head for the [[triangular room]] or take the [[exit corridor-&gt;entry hall]]. </tw-passagedata><tw-passagedata pid="10" name="wall 0 seven" tags="" position="213,582" size="100,100">There is currently nothing on this wall 0. You can look at [[wall 0 six]], [[wall 0 eight]] or [[wall 0 nine]]. Or you can leave the room and head for the [[triangular room]] or take the [[exit corridor-&gt;entry hall]]. </tw-passagedata><tw-passagedata pid="11" name="wall 0 eight" tags="" position="206,456" size="100,100">There is currently nothing on this wall 0. You can look at [[wall 0 six]], [[wall 0 seven]] or [[wall 0 nine]]. Or you can leave the room and head for the [[triangular room]] or take the [[exit corridor-&gt;entry hall]]. </tw-passagedata><tw-passagedata pid="12" name="wall 0 nine" tags="" position="206,324" size="100,100">There is currently nothing on this wall 0. You can look at [[wall 0 six]], [[wall 0 seven]] or [[wall 0 eight]]. Or you can leave the room and head for the [[triangular room]] or take the [[exit corridor-&gt;entry hall]]. </tw-passagedata><tw-passagedata pid="13" name="exit corridor" tags="" position="847,89" size="100,100">You are in the exit corridor to the room complex. To your left is [[wall 0 zero]]. To your right is [[wall 0 one]]. You can [[press ahead-&gt;entrance]] and leave the room complex. Or you can [[double back-&gt;T Junction]] into the room complex. </tw-passagedata><tw-passagedata pid="14" name="wall 0 three" tags="" position="951,475" size="100,100">Double-click this passage to edit it.There is currently nothing on this wall 0. You can look at [[wall 0 two]], or [[wall 0 four]]. Or you can leave the room and head for the [[square room]] or take the [[exit corridor-&gt;entry hall]]. </tw-passagedata><tw-passagedata pid="15" name="wall 0 four" tags="" position="819,474" size="100,100">There is currently nothing on this wall 0. You can look at [[wall 0 three]], or [[wall 0 two]]. Or you can leave the room and head for the [[square room]] or take the [[exit corridor-&gt;entry hall]]. </tw-passagedata><tw-passagedata pid="16" name="wall 0 two" tags="" position="948,346" size="100,100">There is currently nothing on this wall 0. You can look at [[wall 0 three]], or [[wall 0 four]]. Or you can leave the room and head for the [[square room]] or the [[exit corridor-&gt;entry hall]]. </tw-passagedata><tw-passagedata pid="17" name="wall 0 five" tags="" position="727,579" size="100,100">Double-click this passage to edit it.</tw-passagedata></tw-storydata>

